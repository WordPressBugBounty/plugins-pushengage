/*! For license information please see main.js.LICENSE.txt */
!function(){var e={30224:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{safe:function(){return SM},spec:function(){return jM}});var i={};n.r(i),n.d(i,{angle:function(){return CI},decibel:function(){return EI},flex:function(){return NI},frequency:function(){return SI},length:function(){return _I},resolution:function(){return ZI},semitones:function(){return OI},time:function(){return jI}});var a={};n.r(a),n.d(a,{getTrace:function(){return fD},isKeyword:function(){return mD},isProperty:function(){return gD},isType:function(){return hD}});var o={};n.r(o),n.d(o,{generate:function(){return YD},name:function(){return WD},parse:function(){return KD},structure:function(){return qD}});var s={};n.r(s),n.d(s,{generate:function(){return tL},name:function(){return XD},parse:function(){return eL},structure:function(){return JD},walkContext:function(){return $D}});var l={};n.r(l),n.d(l,{generate:function(){return oL},name:function(){return nL},parse:function(){return aL},structure:function(){return iL},walkContext:function(){return rL}});var c={};n.r(c),n.d(c,{generate:function(){return pL},name:function(){return cL},parse:function(){return dL},structure:function(){return uL}});var u={};n.r(u),n.d(u,{generate:function(){return wL},name:function(){return vL},parse:function(){return xL},structure:function(){return bL},walkContext:function(){return yL}});var d={};n.r(d),n.d(d,{generate:function(){return jL},name:function(){return kL},parse:function(){return CL},structure:function(){return _L}});var p={};n.r(p),n.d(p,{generate:function(){return EL},name:function(){return SL},parse:function(){return NL},structure:function(){return ZL}});var f={};n.r(f),n.d(f,{generate:function(){return PL},name:function(){return OL},parse:function(){return TL},structure:function(){return AL}});var h={};n.r(h),n.d(h,{generate:function(){return LL},name:function(){return ML},parse:function(){return DL},structure:function(){return IL}});var g={};n.r(g),n.d(g,{generate:function(){return zL},name:function(){return RL},parse:function(){return FL},structure:function(){return BL}});var m={};n.r(m),n.d(m,{generate:function(){return WL},name:function(){return VL},parse:function(){return HL},structure:function(){return UL}});var v={};n.r(v),n.d(v,{generate:function(){return $L},name:function(){return KL},parse:function(){return XL},structure:function(){return YL}});var y={};n.r(y),n.d(y,{generate:function(){return oR},name:function(){return nR},parse:function(){return aR},structure:function(){return iR},walkContext:function(){return rR}});var b={};n.r(b),n.d(b,{generate:function(){return fR},name:function(){return uR},parse:function(){return pR},structure:function(){return dR}});var x={};n.r(x),n.d(x,{generate:function(){return vR},name:function(){return hR},parse:function(){return mR},structure:function(){return gR}});var w={};n.r(w),n.d(w,{generate:function(){return wR},name:function(){return yR},parse:function(){return xR},structure:function(){return bR}});var k={};n.r(k),n.d(k,{generate:function(){return SR},name:function(){return kR},parse:function(){return jR},structure:function(){return _R}});var _={};n.r(_),n.d(_,{generate:function(){return TR},name:function(){return ZR},parse:function(){return AR},structure:function(){return NR}});var C={};n.r(C),n.d(C,{generate:function(){return LR},name:function(){return PR},parse:function(){return DR},structure:function(){return IR},walkContext:function(){return MR}});var j={};n.r(j),n.d(j,{generate:function(){return zR},name:function(){return RR},parse:function(){return FR},structure:function(){return BR}});var S={};n.r(S),n.d(S,{generate:function(){return qR},name:function(){return UR},parse:function(){return WR},structure:function(){return HR},xxx:function(){return VR}});var Z={};n.r(Z),n.d(Z,{generate:function(){return QR},name:function(){return KR},parse:function(){return GR},structure:function(){return YR}});var N={};n.r(N),n.d(N,{generate:function(){return eB},name:function(){return XR},parse:function(){return JR},structure:function(){return $R}});var E={};n.r(E),n.d(E,{generate:function(){return iB},name:function(){return tB},parse:function(){return rB},structure:function(){return nB}});var O={};n.r(O),n.d(O,{generate:function(){return lB},name:function(){return aB},parse:function(){return sB},structure:function(){return oB}});var A={};n.r(A),n.d(A,{generate:function(){return pB},name:function(){return cB},parse:function(){return dB},structure:function(){return uB}});var T={};n.r(T),n.d(T,{generate:function(){return mB},name:function(){return fB},parse:function(){return gB},structure:function(){return hB}});var P={};n.r(P),n.d(P,{generate:function(){return xB},name:function(){return vB},parse:function(){return bB},structure:function(){return yB}});var M={};n.r(M),n.d(M,{generate:function(){return CB},name:function(){return wB},parse:function(){return _B},structure:function(){return kB}});var I={};n.r(I),n.d(I,{generate:function(){return NB},name:function(){return jB},parse:function(){return ZB},structure:function(){return SB}});var D={};n.r(D),n.d(D,{generate:function(){return TB},name:function(){return EB},parse:function(){return AB},structure:function(){return OB}});var L={};n.r(L),n.d(L,{generate:function(){return DB},name:function(){return PB},parse:function(){return IB},structure:function(){return MB}});var R={};n.r(R),n.d(R,{generate:function(){return FB},name:function(){return LB},parse:function(){return BB},structure:function(){return RB}});var B={};n.r(B),n.d(B,{generate:function(){return WB},name:function(){return zB},parse:function(){return HB},structure:function(){return UB},walkContext:function(){return VB}});var F={};n.r(F),n.d(F,{generate:function(){return QB},name:function(){return qB},parse:function(){return GB},structure:function(){return YB},walkContext:function(){return KB}});var z={};n.r(z),n.d(z,{generate:function(){return tF},name:function(){return $B},parse:function(){return eF},structure:function(){return JB}});var V={};n.r(V),n.d(V,{generate:function(){return oF},name:function(){return rF},parse:function(){return aF},structure:function(){return iF}});var U={};n.r(U),n.d(U,{generate:function(){return fF},name:function(){return cF},parse:function(){return pF},structure:function(){return dF},walkContext:function(){return uF}});var H={};n.r(H),n.d(H,{generate:function(){return vF},name:function(){return hF},parse:function(){return mF},structure:function(){return gF}});var W={};n.r(W),n.d(W,{generate:function(){return wF},name:function(){return yF},parse:function(){return xF},structure:function(){return bF}});var q={};n.r(q),n.d(q,{generate:function(){return SF},name:function(){return kF},parse:function(){return jF},structure:function(){return CF},walkContext:function(){return _F}});var K={};n.r(K),n.d(K,{generate:function(){return AF},name:function(){return NF},parse:function(){return OF},structure:function(){return EF}});var Y={};n.r(Y),n.d(Y,{generate:function(){return LF},name:function(){return PF},parse:function(){return DF},structure:function(){return IF},walkContext:function(){return MF}});var G={};n.r(G),n.d(G,{generate:function(){return zF},name:function(){return RF},parse:function(){return FF},structure:function(){return BF}});var Q={};n.r(Q),n.d(Q,{generate:function(){return qF},name:function(){return UF},parse:function(){return WF},structure:function(){return HF}});var X={};n.r(X),n.d(X,{generate:function(){return ez},name:function(){return XF},parse:function(){return JF},structure:function(){return $F}});var $={};n.r($),n.d($,{generate:function(){return iz},name:function(){return tz},parse:function(){return rz},structure:function(){return nz}});var J={};n.r(J),n.d(J,{generate:function(){return lz},name:function(){return az},parse:function(){return sz},structure:function(){return oz}});var ee={};n.r(ee),n.d(ee,{generate:function(){return fz},name:function(){return uz},parse:function(){return pz},structure:function(){return dz}});var te={};n.r(te),n.d(te,{AnPlusB:function(){return o},Atrule:function(){return s},AtrulePrelude:function(){return l},AttributeSelector:function(){return c},Block:function(){return u},Brackets:function(){return d},CDC:function(){return p},CDO:function(){return f},ClassSelector:function(){return h},Combinator:function(){return g},Comment:function(){return m},Condition:function(){return v},Declaration:function(){return y},DeclarationList:function(){return b},Dimension:function(){return x},Feature:function(){return w},FeatureFunction:function(){return k},FeatureRange:function(){return _},Function:function(){return C},GeneralEnclosed:function(){return j},Hash:function(){return S},IdSelector:function(){return N},Identifier:function(){return Z},Layer:function(){return E},LayerList:function(){return O},MediaQuery:function(){return A},MediaQueryList:function(){return T},NestingSelector:function(){return P},Nth:function(){return M},Number:function(){return I},Operator:function(){return D},Parentheses:function(){return L},Percentage:function(){return R},PseudoClassSelector:function(){return B},PseudoElementSelector:function(){return F},Ratio:function(){return z},Raw:function(){return V},Rule:function(){return U},Scope:function(){return H},Selector:function(){return W},SelectorList:function(){return q},String:function(){return K},StyleSheet:function(){return Y},SupportsDeclaration:function(){return G},TypeSelector:function(){return Q},UnicodeRange:function(){return X},Url:function(){return $},Value:function(){return J},WhiteSpace:function(){return ee}});var ne={};n.r(ne),n.d(ne,{AtrulePrelude:function(){return mz},Selector:function(){return vz},Value:function(){return bz}});var re={};n.r(re),n.d(re,{AnPlusB:function(){return KD},Atrule:function(){return eL},AtrulePrelude:function(){return aL},AttributeSelector:function(){return dL},Block:function(){return xL},Brackets:function(){return CL},CDC:function(){return NL},CDO:function(){return TL},ClassSelector:function(){return DL},Combinator:function(){return FL},Comment:function(){return HL},Condition:function(){return XL},Declaration:function(){return aR},DeclarationList:function(){return pR},Dimension:function(){return mR},Feature:function(){return xR},FeatureFunction:function(){return jR},FeatureRange:function(){return AR},Function:function(){return DR},GeneralEnclosed:function(){return FR},Hash:function(){return WR},IdSelector:function(){return JR},Identifier:function(){return GR},Layer:function(){return rB},LayerList:function(){return sB},MediaQuery:function(){return dB},MediaQueryList:function(){return gB},NestingSelector:function(){return bB},Nth:function(){return _B},Number:function(){return ZB},Operator:function(){return AB},Parentheses:function(){return IB},Percentage:function(){return BB},PseudoClassSelector:function(){return HB},PseudoElementSelector:function(){return GB},Ratio:function(){return eF},Raw:function(){return aF},Rule:function(){return pF},Scope:function(){return mF},Selector:function(){return xF},SelectorList:function(){return jF},String:function(){return OF},StyleSheet:function(){return DF},SupportsDeclaration:function(){return FF},TypeSelector:function(){return WF},UnicodeRange:function(){return JF},Url:function(){return rz},Value:function(){return sz},WhiteSpace:function(){return pz}});n(96893);var ie=n(9902),ae=(n(25709),n(38575)),oe=n(47313),se=n(21739),le=n(51239),ce=n(37058),ue=n(1168);var de=function(e){e()},pe=function(){return de},fe=oe.createContext(null);function he(){return(0,oe.useContext)(fe)}var ge=function(){throw new Error("uSES not initialized!")},me=ge,ve=function(e,t){return e===t};function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=e===fe?he:function(){return(0,oe.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve;var r=t(),i=r.store,a=r.subscription,o=r.getServerState,s=me(a.addNestedSub,i.getState,o||i.getState,e,n);return(0,oe.useDebugValue)(s),s}}var be=ye(),xe=n(29439),we=n(93433),ke=n(87462),_e=n(63366),Ce=n(67861),je=n.n(Ce),Se=n(86440),Ze=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ne(e,t,n,r,i){var a,o,s,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,p=i.areStatePropsEqual,f=!1;function h(i,f){var h=!d(f,o),g=!u(i,a);return a=i,o=f,h&&g?(s=e(a,o),t.dependsOnOwnProps&&(l=t(r,o)),c=n(s,l,o)):h?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(l=t(r,o)),c=n(s,l,o)):g?function(){var t=e(a,o),r=!p(t,s);return s=t,r&&(c=n(s,l,o)),c}():c}return function(i,u){return f?h(i,u):(s=e(a=i,o=u),l=t(r,o),c=n(s,l,o),f=!0,c)}}function Ee(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=(0,_e.Z)(t,Ze);return Ne(n(e,a),r(e,a),i(e,a),e,a)}function Oe(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function Ae(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Te(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Ae(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Ae(i),i=r(t,n)),i},r}}function Pe(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function Me(e){return e&&"object"===typeof e?Oe((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):e?"function"===typeof e?Te(e):Pe(e,"mapDispatchToProps"):Oe((function(e){return{dispatch:e}}))}function Ie(e){return e?"function"===typeof e?Te(e):Pe(e,"mapStateToProps"):Oe((function(){return{}}))}function De(e,t,n){return(0,ke.Z)({},n,e,t)}function Le(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var s=e(t,n,o);return a?i(s,r)||(r=s):(a=!0,r=s),r}}}(e):Pe(e,"mergeProps"):function(){return De}}var Re={notify:function(){},get:function(){return[]}};function Be(e,t){var n,r=Re;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=pe(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Re)},getListeners:function(){return r}};return o}var Fe=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?oe.useLayoutEffect:oe.useEffect;function ze(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Ve(e,t){if(ze(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!ze(e[n[i]],t[n[i]]))return!1;return!0}var Ue=["reactReduxForwardedRef"],He=ge,We=[null,null];function qe(e,t,n){Fe((function(){return e.apply(void 0,(0,we.Z)(t))}),n)}function Ke(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function Ye(e,t,n,r,i,a,o,s,l,c,u){if(!e)return function(){};var d=!1,p=null,f=function(){if(!d&&s.current){var e,n,f=t.getState();try{e=r(f,i.current)}catch(h){n=h,p=h}n||(p=null),e===a.current?o.current||c():(a.current=e,l.current=e,o.current=!0,u())}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function Ge(e,t){return e===t}var Qe=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(r.pure,r.areStatesEqual),a=void 0===i?Ge:i,o=r.areOwnPropsEqual,s=void 0===o?Ve:o,l=r.areStatePropsEqual,c=void 0===l?Ve:l,u=r.areMergedPropsEqual,d=void 0===u?Ve:u,p=r.forwardRef,f=void 0!==p&&p,h=r.context,g=void 0===h?fe:h,m=g,v=Ie(e),y=Me(t),b=Le(n),x=Boolean(e),w=function(e){var t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),r={shouldHandleStateChanges:x,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:v,initMapDispatchToProps:y,initMergeProps:b,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:s,areMergedPropsEqual:d};function i(t){var n=(0,oe.useMemo)((function(){var e=t.reactReduxForwardedRef,n=(0,_e.Z)(t,Ue);return[t.context,e,n]}),[t]),i=(0,xe.Z)(n,3),a=i[0],o=i[1],s=i[2],l=(0,oe.useMemo)((function(){return a&&a.Consumer&&(0,Se.isContextConsumer)(oe.createElement(a.Consumer,null))?a:m}),[a,m]),c=(0,oe.useContext)(l),u=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),d=Boolean(c)&&Boolean(c.store);var p=u?t.store:c.store,f=d?c.getServerState:p.getState,h=(0,oe.useMemo)((function(){return Ee(p.dispatch,r)}),[p]),g=(0,oe.useMemo)((function(){if(!x)return We;var e=Be(p,u?void 0:c.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,u,c]),v=(0,xe.Z)(g,2),y=v[0],b=v[1],w=(0,oe.useMemo)((function(){return u?c:(0,ke.Z)({},c,{subscription:y})}),[u,c,y]),k=(0,oe.useRef)(),_=(0,oe.useRef)(s),C=(0,oe.useRef)(),j=(0,oe.useRef)(!1),S=((0,oe.useRef)(!1),(0,oe.useRef)(!1)),Z=(0,oe.useRef)();Fe((function(){return S.current=!0,function(){S.current=!1}}),[]);var N,E=(0,oe.useMemo)((function(){return function(){return C.current&&s===_.current?C.current:h(p.getState(),s)}}),[p,s]),O=(0,oe.useMemo)((function(){return function(e){return y?Ye(x,p,y,h,_,k,j,S,C,b,e):function(){}}}),[y]);qe(Ke,[_,k,j,s,C,b]);try{N=He(O,E,f?function(){return h(f(),s)}:E)}catch(T){throw Z.current&&(T.message+="\nThe error may be correlated with this previous error:\n".concat(Z.current.stack,"\n\n")),T}Fe((function(){Z.current=void 0,C.current=void 0,k.current=N}));var A=(0,oe.useMemo)((function(){return oe.createElement(e,(0,ke.Z)({},N,{ref:o}))}),[o,e,N]);return(0,oe.useMemo)((function(){return x?oe.createElement(l.Provider,{value:w},A):A}),[l,A,w])}var o=oe.memo(i);if(o.WrappedComponent=e,o.displayName=i.displayName=n,f){var l=oe.forwardRef((function(e,t){return oe.createElement(o,(0,ke.Z)({},e,{reactReduxForwardedRef:t}))}));return l.displayName=n,l.WrappedComponent=e,je()(l,e)}return je()(o,e)};return w};var Xe=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,a=(0,oe.useMemo)((function(){var e=Be(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0}}),[t,i]),o=(0,oe.useMemo)((function(){return t.getState()}),[t]);Fe((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,o]);var s=n||fe;return oe.createElement(s.Provider,{value:a},r)};function $e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=e===fe?he:function(){return(0,oe.useContext)(e)};return function(){return t().store}}var Je=$e();function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=e===fe?Je:$e(e);return function(){return t().dispatch}}var tt,nt=et();!function(e){me=e}(ce.useSyncExternalStoreWithSelector),function(e){He=e}(le.useSyncExternalStore),tt=ue.unstable_batchedUpdates,de=tt;n(84952);var rt=n(26464),it=n(74165),at=n(15861),ot=n(29466),st=n(46417),lt=function(e){var t=e.children,n=void 0===t?[]:t,r=e.containerClassName,i=void 0===r?"":r,a=e.pageClassName,o=void 0===a?"":a,s=e.containerIdName,l=void 0===s?"":s;return(0,st.jsx)("div",{className:"pe-page-container ".concat(i||""),id:l,children:(0,st.jsx)("div",{className:"pe-page ".concat(o),children:n})})};lt.defaultProps={containerClassName:"",pageClassName:"",containerIdName:""};var ct=lt,ut=(n(5029),n(38536)),dt=(n(35251),n(52935)),pt=(n(41503),n(17223)),ft=(n(76311),n(13156)),ht=(n(59304),n(47846)),gt=(n(63383),n(97761)),mt=(n(98591),n(97683)),vt=n(97890),yt=function(){return nt()},bt=be;function xt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function wt(e){return!!e&&!!e[dn]}function kt(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===pn}(e)||Array.isArray(e)||!!e[un]||!!e.constructor[un]||Et(e)||Ot(e))}function _t(e,t,n){void 0===n&&(n=!1),0===Ct(e)?(n?Object.keys:fn)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Ct(e){var t=e[dn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Et(e)?2:Ot(e)?3:0}function jt(e,t){return 2===Ct(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function St(e,t){return 2===Ct(e)?e.get(t):e[t]}function Zt(e,t,n){var r=Ct(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Nt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Et(e){return on&&e instanceof Map}function Ot(e){return sn&&e instanceof Set}function At(e){return e.o||e.t}function Tt(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=hn(e);delete t[dn];for(var n=fn(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Pt(e,t){return void 0===t&&(t=!1),It(e)||wt(e)||!kt(e)||(Ct(e)>1&&(e.set=e.add=e.clear=e.delete=Mt),Object.freeze(e),t&&_t(e,(function(e,t){return Pt(t,!0)}),!0)),e}function Mt(){xt(2)}function It(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Dt(e){var t=gn[e];return t||xt(18,e),t}function Lt(e,t){gn[e]||(gn[e]=t)}function Rt(){return rn}function Bt(e,t){t&&(Dt("Patches"),e.u=[],e.s=[],e.v=t)}function Ft(e){zt(e),e.p.forEach(Ut),e.p=null}function zt(e){e===rn&&(rn=e.l)}function Vt(e){return rn={p:[],l:rn,h:e,m:!0,_:0}}function Ut(e){var t=e[dn];0===t.i||1===t.i?t.j():t.O=!0}function Ht(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Dt("ES5").S(t,e,r),r?(n[dn].P&&(Ft(t),xt(4)),kt(e)&&(e=Wt(t,e),t.l||Kt(t,e)),t.u&&Dt("Patches").M(n[dn].t,e,t.u,t.s)):e=Wt(t,n,[]),Ft(t),t.u&&t.v(t.u,t.s),e!==cn?e:void 0}function Wt(e,t,n){if(It(t))return t;var r=t[dn];if(!r)return _t(t,(function(i,a){return qt(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Kt(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Tt(r.k):r.o;_t(3===r.i?new Set(i):i,(function(t,a){return qt(e,r,i,t,a,n)})),Kt(e,i,!1),n&&e.u&&Dt("Patches").R(r,n,e.u,e.s)}return r.o}function qt(e,t,n,r,i,a){if(wt(i)){var o=Wt(e,i,a&&t&&3!==t.i&&!jt(t.D,r)?a.concat(r):void 0);if(Zt(n,r,o),!wt(o))return;e.m=!1}if(kt(i)&&!It(i)){if(!e.h.F&&e._<1)return;Wt(e,i),t&&t.A.l||Kt(e,i)}}function Kt(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Pt(t,n)}function Yt(e,t){var n=e[dn];return(n?At(n):e)[t]}function Gt(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Qt(e){e.P||(e.P=!0,e.l&&Qt(e.l))}function Xt(e){e.o||(e.o=Tt(e.t))}function $t(e,t,n){var r=Et(t)?Dt("MapSet").N(t,n):Ot(t)?Dt("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Rt(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=mn;n&&(i=[r],a=vn);var o=Proxy.revocable(i,a),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):Dt("ES5").J(t,n);return(n?n.A:Rt()).p.push(r),r}function Jt(e){return wt(e)||xt(22,e),function e(t){if(!kt(t))return t;var n,r=t[dn],i=Ct(t);if(r){if(!r.P&&(r.i<4||!Dt("ES5").K(r)))return r.t;r.I=!0,n=en(t,i),r.I=!1}else n=en(t,i);return _t(n,(function(t,i){r&&St(r.t,t)===i||Zt(n,t,e(i))})),3===i?new Set(n):n}(e)}function en(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Tt(e)}function tn(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[dn];return mn.get(t,e)},set:function(t){var n=this[dn];mn.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][dn];if(!i.P)switch(i.i){case 5:r(i)&&Qt(i);break;case 4:n(i)&&Qt(i)}}}function n(e){for(var t=e.t,n=e.k,r=fn(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==dn){var o=t[a];if(void 0===o&&!jt(t,a))return!0;var s=n[a],l=s&&s[dn];if(l?l.t!==o:!Nt(s,o))return!0}}var c=!!t[dn];return r.length!==fn(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Lt("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=hn(n);delete a[dn];for(var o=fn(a),s=0;s<o.length;s++){var l=o[s];a[l]=e(l,t||!!a[l].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Rt(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,dn,{value:a,writable:!0}),i},S:function(e,n,i){i?wt(n)&&n[dn].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[dn];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)_t(a,(function(t){t!==dn&&(void 0!==i[t]||jt(i,t)?o[t]||e(a[t]):(o[t]=!0,Qt(n)))})),_t(i,(function(e){void 0!==a[e]||jt(a,e)||(o[e]=!1,Qt(n))}));else if(5===s){if(r(n)&&(Qt(n),o.length=!0),a.length<i.length)for(var l=a.length;l<i.length;l++)o[l]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var u=Math.min(a.length,i.length),d=0;d<u;d++)a.hasOwnProperty(d)||(o[d]=!0),void 0===o[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var nn,rn,an="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),on="undefined"!=typeof Map,sn="undefined"!=typeof Set,ln="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,cn=an?Symbol.for("immer-nothing"):((nn={})["immer-nothing"]=!0,nn),un=an?Symbol.for("immer-draftable"):"__$immer_draftable",dn=an?Symbol.for("immer-state"):"__$immer_state",pn=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),fn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,hn=Object.getOwnPropertyDescriptors||function(e){var t={};return fn(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},gn={},mn={get:function(e,t){if(t===dn)return e;var n=At(e);if(!jt(n,t))return function(e,t,n){var r,i=Gt(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!kt(r)?r:r===Yt(e.t,t)?(Xt(e),e.o[t]=$t(e.A.h,r,e)):r},has:function(e,t){return t in At(e)},ownKeys:function(e){return Reflect.ownKeys(At(e))},set:function(e,t,n){var r=Gt(At(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Yt(At(e),t),a=null==i?void 0:i[dn];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Nt(n,i)&&(void 0!==n||jt(e.t,t)))return!0;Xt(e),Qt(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Yt(e.t,t)||t in e.t?(e.D[t]=!1,Xt(e),Qt(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=At(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){xt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){xt(12)}},vn={};_t(mn,(function(e,t){vn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),vn.deleteProperty=function(e,t){return vn.set.call(this,e,t,void 0)},vn.set=function(e,t,n){return mn.set.call(this,e[0],t,n,e[0])};var yn=function(){function e(e){var t=this;this.g=ln,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&xt(6),void 0!==r&&"function"!=typeof r&&xt(7),kt(e)){var s=Vt(t),l=$t(t,e,void 0),c=!0;try{o=n(l),c=!1}finally{c?Ft(s):zt(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return Bt(s,r),Ht(e,s)}),(function(e){throw Ft(s),e})):(Bt(s,r),Ht(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===cn&&(o=void 0),t.F&&Pt(o,!0),r){var u=[],d=[];Dt("Patches").M(e,o,u,d),r(u,d)}return o}xt(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){kt(e)||xt(8),wt(e)&&(e=Jt(e));var t=Vt(this),n=$t(this,e,void 0);return n[dn].C=!0,zt(t),n},t.finishDraft=function(e,t){var n=(e&&e[dn]).A;return Bt(n,t),Ht(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ln&&xt(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Dt("Patches").$;return wt(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),bn=new yn,xn=bn.produce,wn=(bn.produceWithPatches.bind(bn),bn.setAutoFreeze.bind(bn),bn.setUseProxies.bind(bn),bn.applyPatches.bind(bn),bn.createDraft.bind(bn),bn.finishDraft.bind(bn),xn),kn=n(1413);function _n(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Cn="function"===typeof Symbol&&Symbol.observable||"@@observable",jn=function(){return Math.random().toString(36).substring(7).split("").join(".")},Sn={INIT:"@@redux/INIT"+jn(),REPLACE:"@@redux/REPLACE"+jn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+jn()}};function Zn(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Nn(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(_n(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(_n(1));return n(Nn)(e,t)}if("function"!==typeof e)throw new Error(_n(2));var i=e,a=t,o=[],s=o,l=!1;function c(){s===o&&(s=o.slice())}function u(){if(l)throw new Error(_n(3));return a}function d(e){if("function"!==typeof e)throw new Error(_n(4));if(l)throw new Error(_n(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(_n(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function p(e){if(!Zn(e))throw new Error(_n(7));if("undefined"===typeof e.type)throw new Error(_n(8));if(l)throw new Error(_n(9));try{l=!0,a=i(a,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!==typeof e)throw new Error(_n(10));i=e,p({type:Sn.REPLACE})}function h(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(_n(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Cn]=function(){return this},e}return p({type:Sn.INIT}),(r={dispatch:p,subscribe:d,getState:u,replaceReducer:f})[Cn]=h,r}function En(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Sn.INIT}))throw new Error(_n(12));if("undefined"===typeof n(void 0,{type:Sn.PROBE_UNKNOWN_ACTION()}))throw new Error(_n(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var l=o[s],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(_n(14))}i[l]=d,r=r||d!==u}return(r=r||o.length!==Object.keys(e).length)?i:e}}function On(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function An(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(_n(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=On.apply(void 0,a)(n.dispatch),(0,kn.Z)((0,kn.Z)({},n),{},{dispatch:r})}}}function Tn(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Pn=Tn();Pn.withExtraArgument=Tn;var Mn=Pn,In=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dn=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Ln=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Rn=Object.defineProperty,Bn=Object.defineProperties,Fn=Object.getOwnPropertyDescriptors,zn=Object.getOwnPropertySymbols,Vn=Object.prototype.hasOwnProperty,Un=Object.prototype.propertyIsEnumerable,Hn=function(e,t,n){return t in e?Rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Wn=function(e,t){for(var n in t||(t={}))Vn.call(t,n)&&Hn(e,n,t[n]);if(zn)for(var r=0,i=zn(t);r<i.length;r++){n=i[r];Un.call(t,n)&&Hn(e,n,t[n])}return e},qn=function(e,t){return Bn(e,Fn(t))},Kn=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},Yn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?On:On.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Gn(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Qn=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return In(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ln([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ln([void 0],e.concat(this))))},t}(Array);function Xn(e){return kt(e)?wn(e,(function(){})):e}function $n(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Qn);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Mn.withExtraArgument(n.extraArgument)):r.push(Mn));0;return r}(e)}}function Jn(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Wn(Wn({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function er(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function tr(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Xn(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},l={};function c(){var t="function"===typeof e.extraReducers?er(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,l=t[2],c=void 0===l?void 0:l,u=Wn(Wn({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?er(t):[t,n,r],o=a[0],s=a[1],l=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return Xn(e())};else{var c=Xn(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var n=Ln([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(wt(e))return"undefined"===typeof(r=n(e,t))?e:r;if(kt(e))return wn(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}(r,u,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,l[e]=r?Jn(c,r):Jn(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var nr=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},rr=["name","message","stack","code"],ir=function(e,t){this.payload=e,this.meta=t},ar=function(e,t){this.payload=e,this.meta=t},or=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=rr;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function sr(e,t,n){var r=Jn(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:qn(Wn({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Jn(e+"/pending",(function(e,t,n){return{payload:void 0,meta:qn(Wn({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=Jn(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||or)(e||"Rejected"),meta:qn(Wn({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,l,c){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):nr(),p=new o,f=new Promise((function(e,t){return p.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),h=!1;var g=function(){return Kn(this,null,(function(){var o,u,g,m,v;return Dn(this,(function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}(m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:l,extra:c}))?[4,m]:[3,2];case 1:m=y.sent(),y.label=2;case 2:if(!1===m)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return h=!0,s(i(d,e,null==(u=null==n?void 0:n.getPendingMeta)?void 0:u.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),[4,Promise.race([f,Promise.resolve(t(e,{dispatch:s,getState:l,extra:c,requestId:d,signal:p.signal,rejectWithValue:function(e,t){return new ir(e,t)},fulfillWithValue:function(e,t){return new ar(e,t)}})).then((function(t){if(t instanceof ir)throw t;return t instanceof ar?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return g=y.sent(),[3,5];case 4:return v=y.sent(),g=v instanceof ir?a(null,d,e,v.payload,v.meta):a(v,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(g)&&g.meta.condition||s(g),[2,g]}}))}))}();return Object.assign(g,{abort:function(e){h&&(u=e,p.abort())},requestId:d,arg:e,unwrap:function(){return g.then(lr)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}function lr(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var cr,ur,dr,pr,fr,hr,gr,mr,vr,yr,br,xr,wr,kr,_r,Cr,jr,Sr,Zr,Nr,Er="listenerMiddleware";Jn(Er+"/add"),Jn(Er+"/removeAll"),Jn(Er+"/remove");tn();var Or,Ar,Tr,Pr,Mr,Ir=tr({name:"session",initialState:{apiKey:null===(cr=window)||void 0===cr||null===(ur=cr.pushengage)||void 0===ur?void 0:ur.apiKey,user:null,currentSite:null===(dr=window)||void 0===dr||null===(pr=dr.pushengage)||void 0===pr?void 0:pr.siteId,ownerId:null===(fr=window)||void 0===fr||null===(hr=fr.pushengage)||void 0===hr?void 0:hr.ownerId,siteKey:null===(gr=window)||void 0===gr||null===(mr=gr.pushengage)||void 0===mr?void 0:mr.siteKey,adminAjax:null===(vr=window)||void 0===vr||null===(yr=vr.pushengage)||void 0===yr?void 0:yr.adminAjax,siteName:null===(br=window)||void 0===br||null===(xr=br.pushengage)||void 0===xr?void 0:xr.siteName,wpVersion:null===(wr=window)||void 0===wr||null===(kr=wr.pushengage)||void 0===kr?void 0:kr.wpVersion,peVersion:null===(_r=window)||void 0===_r||null===(Cr=_r.pushengage)||void 0===Cr?void 0:Cr.peVersion,siteUrl:null===(jr=window)||void 0===jr||null===(Sr=jr.pushengage)||void 0===Sr?void 0:Sr.siteUrl,nonce:null===(Zr=window)||void 0===Zr||null===(Nr=Zr.pushengage)||void 0===Nr?void 0:Nr.nonce,serverError:null,disableServerErrorModal:!1,fupUsages:{usage:0,sent_count:0,subscriber_limit:0,fup_factor:1},accountData:{activeSubscribeCount:void 0,lockStatus:{fup_usages_exceeded:!1,plan_expired:!1,subscriber_limit_exceeded:!1,notification_limit_exceeded:!1}}},reducers:{updateOnboardingData:function(e,t){var n,r,i,a,o,s;(e.apiKey=null===(n=t.payload)||void 0===n?void 0:n.apiKey,e.currentSite=null===(r=t.payload)||void 0===r?void 0:r.siteId,e.ownerId=null===(i=t.payload)||void 0===i?void 0:i.ownerId,e.siteKey=null===(a=t.payload)||void 0===a?void 0:a.siteKey,void 0!==(null===(o=t.payload)||void 0===o?void 0:o.user))&&(e.user=null===(s=t.payload)||void 0===s?void 0:s.user)},updateUserData:function(e,t){var n=t.payload;e.user=n},setServerError:function(e,t){var n=t.payload;e.serverError=n},doLogin:function(e,t){var n=t.payload;e.apiKey=n.apiKey,e.user=n.user,e.currentSite=n.currentSite||n.user.sites[0].site_id},hideServerErrorModal:function(e,t){var n=t.payload;e.disableServerErrorModal=n}}}),Dr=Ir.actions,Lr=Dr.updateOnboardingData,Rr=Dr.updateUserData,Br=Dr.setServerError,Fr=Dr.doLogin,zr=Dr.hideServerErrorModal,Vr=function(e){var t,n,r;return(null===(t=e.session)||void 0===t?void 0:t.apiKey)&&(null===(n=e.session)||void 0===n?void 0:n.currentSite)&&(null===(r=e.session)||void 0===r?void 0:r.ownerId)},Ur=function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.currentSite},Hr=function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.currentSite},Wr=function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.ownerId},qr=function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.ownerId},Kr=function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.owner.is_trial},Yr=function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.is_verified},Gr=function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.owner.expiry_date},Qr=Ir.reducer,Xr=Object.freeze({path:{aboutUs:{aboutUs:"/about-us",gettingStarted:"/getting-started"},analytics:{overview:"/analytics",optinAnalytics:"/analytics/optin-analytics",goalTracking:"/analytics/goal-tracking"},audience:{subscribers:"/audience/subscribers",segments:"/audience/segments",createSegment:"/audience/segments/create",editSegment:"/audience/segments/edit/:id",viewSegment:"/audience/segments/:id",audienceGroups:"/audience/audience-groups",attributes:"/audience/attributes"},dashboard:"/",design:{popupModals:"/design",widgets:"/design/widgets",targetingRule:"/design/targeting-rule"},onboarding:"/onboarding",campaigns:{notifications:"/campaigns/notifications",createNotification:"/campaigns/notifications/create",editNotification:"/campaigns/notifications/edit/:id",templates:"/campaigns/notifications/templates",drip:"/automation/drip",createDrip:"/automation/drip/create",editDrip:"/automation/drip/edit/:id",viewDrip:"/automation/drip/:id",triggeredCampaign:"/campaigns/triggers",selectTriggeredCampaign:"/campaigns/triggers/select",createTriggeredCampaign:"/campaigns/triggers/create",editTrigger:"/campaigns/triggers/edit/:id"},debug:{system:"/debug",logs:"/debug/logs"},settings:{siteDetails:"/settings/site-details",autoPush:"/settings/auto-push",defaultSettings:"/settings/default",advancedSettings:"/settings/advanced",miscSettings:"/settings/misc",billing:"/settings/billing",integrations:"/settings/integrations"},whatsapp:{automation:"/whatsapp/automation",templates:"/whatsapp/templates",settings:"/whatsapp/settings"},woocommerce:{automation:"/woocommerce/automation",whatsapp:"/woocommerce/whatsapp"},clickToChatV2:{list:"/chat-widgets",editor:"/chat-widgets/editor",editById:"/chat-widgets/editor/:id"}},editNotification:function(e){return"/campaigns/notifications/edit/".concat(e)},duplicateNotification:function(e){return"/campaigns/notifications/create?notification=".concat(e)},editDrip:function(e){return"/automation/drip/edit/".concat(e)},editTrigger:function(e){return"/campaigns/triggers/edit/".concat(e)},viewDrip:function(e){return"/automation/drip/".concat(e)},editAudienceSegment:function(e){return"/audience/segments/edit/".concat(e)},viewAudienceSegment:function(e){return"/audience/segments/".concat(e)}}),$r=Xr,Jr=n(70816),ei=n.n(Jr),ti=n(4942),ni=Object.freeze({onboarding:"pe_onboarding_data",skip_challenge:"pe_skip_challenge",onboardingTasksCloseCount:"pe_onboarding_tasks_close_count",connectionRequestId:"pe_connection_request_id",chatWidgetDashboardDismissed:"pe_chat_widget_dashboard_dismissed"}),ri=Object.freeze({DAY:"day",WEEK:"week",MONTH:"month"}),ii=(Object.freeze({ASC:"asc",DESC:"desc"}),Object.freeze({ARCHIVE:"archive",AUTOMATION:"enterprise",FREE:"free",BUSINESS:"business",PREMIUM:"premium",GROWTH:"growth",ENTERPRISE:"enterprise",AB_NOTIFICATION:"ab_notification",DRIP:"drip",SEGMENT:"segment",SITE:"site",TIMEZONE_NOTIFICATION:"timezone_notification",TRIGGER:"trigger",USER:"user"})),ai=Object.freeze({ACTIVE:"active",DELETE:"delete",EMPTY:"",FAILED:"failed",INCOMPLETE_EXPIRED:"incomplete_expired",INCOMPLETE:"incomplete",PAST_DUE:"past_due",PAUSE:"pause",STOP:"stop",TRIALING:"trialing",UNPAID:"unpaid"}),oi=Object.freeze({ADD_ONS:"add_ons",PLAN:"plan"}),si=Object.freeze({PUSHENGAGE:"pushengage",STRIPE:"stripe",SHOPIFY:"shopify"}),li=Object.freeze({EXPIRY:2419200,MIN_EXPIRY:60,MAX_EXPIRY:2419200,TZ_OFFSET:"GMT+00:00",ABC_WINNER_DELAY:30,ABC_SENT_LIMIT_PERCENTAGE:30,ABC_MIN_SENT_LIMIT:1e3,ABC_MIN_WINNER_DELAY:30,ABC_MAX_WINNER_DELAY:10080}),ci=Object.freeze({WELCOME:"welcome",GENERIC:"generic"}),ui=Object.freeze({NOW:"now",SCHEDULE:"schedule",REPEAT_SCHEDULE:"repeat-schedule"}),di=Object.freeze({SENT:"sent",SENDING:"sending",DRAFT:"draft",DELETED:"deleted",SCHEDULED:"scheduled",SCHEDULING:"scheduling",REPEAT_SCHEDULED:"repeat_scheduled",PAUSE_REPEAT_SCHEDULED:"pause_repeat_scheduled",ARCHIVE:"archive"}),pi=Object.freeze({API_SPONSORED:"API_sponsored",DASHBOARD:"Dashboard",API:"API",RSS_FEED:"rss_fed",SUB_TIMEZONE:"sub_timezone",PARENT_SUB_TIMEZONE:"parent_sub_timezone",REPEAT_SCHEDULED:"repeat_scheduled",A:"A",B:"B",C:"C"}),fi=Object.freeze({ALL:"all",SENT:"sent",DRAFT:"draft",SCHEDULED:"scheduled"}),hi=Object.freeze({CREATED_AT:"notification_id",SENT_AT:"sent_at",SENT_COUNT:"sentcount",VIEW_COUNT:"viewcount",CLICK_COUNT:"clickcount",SCHEDULE_DATE:"valid_from"}),gi=Object.freeze({ALL:"all",AUDIENCE_GROUP:"audience-group",CUSTOM_AUDIENCE:"custom-audience"}),mi=Object.freeze({ASC:"order_by_asc",DESC:"order_by_desc"}),vi=Object.freeze({SAFARI_STYLE_BOX:1,FLOATING_BAR:2,BELL_PLACED_BAR:3,PUSH_SINGLE_STEP_OPT_IN:4,LARGE_SAFARI_STYLE_BOX:6,CUSTOM_SUBSCRIPTION_BOX:7,LARGE_SAFARI_STYLE_WITH_SEGMENT:8,GET_NOTIFICATION_WIDGET:127}),yi=(Object.freeze({ACTIVE:"active"}),Object.freeze({NEW:"new",ACTIVE:"active",CANCELLED:"cancelled",DELETED:"deleted"})),bi=Object.freeze({ACTIVE:"active",CANCELLED:"cancelled",NEW:"new",DELETE:"delete",DELETED:"deleted"}),xi=Object.freeze({GENERIC:"generic",CART_ABANDONMENT:"generic",BROWSE:"browse",TRIGGER:"trigger",CUSTOM:"trigger",PRICE_DROP:"price_drop",INVENTORY:"inventory"}),wi=Object.freeze((Or={},(0,ti.Z)(Or,xi.GENERIC,"Custom Trigger"),(0,ti.Z)(Or,xi.BROWSE,"Browse Abandonment"),(0,ti.Z)(Or,xi.TRIGGER,"Cart Abandonment"),(0,ti.Z)(Or,xi.PRICE_DROP,"Price Drop"),(0,ti.Z)(Or,xi.INVENTORY,"Inventory Alert"),Or)),ki=[{label:"Professional",value:"professional"},{label:"Conversational",value:"conversational"},{label:"Supportive",value:"supportive"},{label:"Informative",value:"informative"},{label:"Concise",value:"concise"},{label:"Reassuring",value:"reassuring"}],_i=[{value:"english",label:"English"},{value:"hebrew",label:"Hebrew"},{value:"spanish",label:"Spanish (Espa\xf1ol)"},{value:"french",label:"French (Fran\xe7ais)"},{value:"arabic",label:"Arabic (\u0627\u0644\u0639\u0631\u0628\u064a\u0629)"},{value:"chinese",label:"Chinese (\u4e2d\u6587)"},{value:"german",label:"German (Deutsch)"},{value:"japanese",label:"Japanese (\u65e5\u672c\u8a9e)"},{value:"russian",label:"Russian (\u0440\u0443\u0441\u0441\u043a\u0438\u0439)"}],Ci=[{label:"Woo",value:"Woo"},{label:"New Order",value:"New Order"},{label:"Cancelled Order",value:"Cancelled Order"},{label:"Failed Order",value:"Failed Order"},{label:"Order On Hold",value:"Order On Hold"},{label:"Processing Order",value:"Processing Order"},{label:"Order Details",value:"Order Details"},{label:"Customer Note",value:"Customer Note"},{label:"Review Request",value:"Review Request"},{label:"Retry Purchase Request",value:"Retry Purchase Request"},{label:"Refunded Order",value:"Refunded Order"}],ji=Object.freeze({FREE_UPGRADE_IN_48:"NEW_FREE_UPGRADE_IN_48",FREE_UPGRADE_AFTER_48:"NEW_FREE_UPGRADE_AFTER_48"}),Si=n(1905),Zi=n.n(Si),Ni=(n(70163),n(64608)),Ei=n.n(Ni),Oi=n(43575),Ai=n.n(Oi),Ti=n(96777),Pi=n.n(Ti),Mi=n(69706),Ii=n.n(Mi),Di=n(19118),Li=n.n(Di),Ri=n(38504),Bi=n.n(Ri),Fi=n(83340),zi=n.n(Fi),Vi=n(68537),Ui=n.n(Vi),Hi=n(45522),Wi=n.n(Hi),qi=n(5172),Ki=n.n(qi),Yi=(n(91909),n(92736)),Gi=n.n(Yi),Qi=n(51912),Xi=n.n(Qi),$i=(n(46873),n(48970)),Ji=n.n($i),ea=n(90880),ta=n.n(ea),na=n(27980),ra=n.n(na),ia=(n(35948),n(44389)),aa=n.n(ia),oa=n(29751),sa=n.n(oa),la=n(21402),ca=n.n(la),ua=n(28845),da=n.n(ua),pa=(n(32065),n(10276)),fa=n.n(pa),ha=(n(49746),n(14761)),ga=n.n(ha),ma=n(17076),va=n.n(ma),ya=ga()(console.error);function ba(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return va().sprintf.apply(va(),[e].concat(n))}catch(i){return i instanceof Error&&ya("sprintf error: \n\n"+i.toString()),e}}Ar={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},Tr=["(","?"],Pr={")":["("],":":["?","?:"]},Mr=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var xa={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,n){if(e)throw t;return n}};function wa(e){var t=function(e){for(var t,n,r,i,a=[],o=[];t=e.match(Mr);){for(n=t[0],(r=e.substr(0,t.index).trim())&&a.push(r);i=o.pop();){if(Pr[n]){if(Pr[n][0]===i){n=Pr[n][1]||n;break}}else if(Tr.indexOf(i)>=0||Ar[i]<Ar[n]){o.push(i);break}a.push(i)}Pr[n]||o.push(n),e=e.substr(t.index+n.length)}return(e=e.trim())&&a.push(e),a.concat(o.reverse())}(e);return function(e){return function(e,t){var n,r,i,a,o,s,l=[];for(n=0;n<e.length;n++){if(o=e[n],a=xa[o]){for(r=a.length,i=Array(r);r--;)i[r]=l.pop();try{s=a.apply(null,i)}catch(c){return c}}else s=t.hasOwnProperty(o)?t[o]:+o;l.push(s)}return l[0]}(t,e)}}var ka={contextDelimiter:"\x04",onMissingKey:null};function _a(e,t){var n;for(n in this.data=e,this.pluralForms={},this.options={},ka)this.options[n]=void 0!==t&&n in t?t[n]:ka[n]}_a.prototype.getPluralForm=function(e,t){var n,r,i,a=this.pluralForms[e];return a||("function"!==typeof(i=(n=this.data[e][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(r=function(e){var t,n,r;for(t=e.split(";"),n=0;n<t.length;n++)if(0===(r=t[n].trim()).indexOf("plural="))return r.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),i=function(e){var t=wa(e);return function(e){return+t({n:e})}}(r)),a=this.pluralForms[e]=i),a(t)},_a.prototype.dcnpgettext=function(e,t,n,r,i){var a,o,s;return a=void 0===i?0:this.getPluralForm(e,i),o=n,t&&(o=t+this.options.contextDelimiter+n),(s=this.data[e][o])&&s[a]?s[a]:(this.options.onMissingKey&&this.options.onMissingKey(n,e),0===a?n:r)};var Ca={plural_forms:function(e){return 1===e?0:1}},ja=/^i18n\.(n?gettext|has_translation)(_|$)/,Sa=n(43144),Za=n(15671);var Na=function(e){return"string"!==typeof e||""===e?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)};var Ea=function(e){return"string"!==typeof e||""===e?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)};var Oa=function(e,t){return function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=e[t];if(Ea(n)&&Na(r))if("function"===typeof i)if("number"===typeof a){var s={callback:i,priority:a,namespace:r};if(o[n]){var l,c=o[n].handlers;for(l=c.length;l>0&&!(a>=c[l-1].priority);l--);l===c.length?c[l]=s:c.splice(l,0,s),o.__current.forEach((function(e){e.name===n&&e.currentIndex>=l&&e.currentIndex++}))}else o[n]={handlers:[s],runs:0};"hookAdded"!==n&&e.doAction("hookAdded",n,r,i,a)}else console.error("If specified, the hook priority must be a number.");else console.error("The hook callback must be a function.")}};var Aa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){var a=e[t];if(Ea(r)&&(n||Na(i))){if(!a[r])return 0;var o=0;if(n)o=a[r].handlers.length,a[r]={runs:a[r].runs,handlers:[]};else for(var s=a[r].handlers,l=function(e){s[e].namespace===i&&(s.splice(e,1),o++,a.__current.forEach((function(t){t.name===r&&t.currentIndex>=e&&t.currentIndex--})))},c=s.length-1;c>=0;c--)l(c);return"hookRemoved"!==r&&e.doAction("hookRemoved",r,i),o}}};var Ta=function(e,t){return function(n,r){var i=e[t];return"undefined"!==typeof r?n in i&&i[n].handlers.some((function(e){return e.namespace===r})):n in i}};var Pa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){var i=e[t];i[r]||(i[r]={handlers:[],runs:0}),i[r].runs++;var a=i[r].handlers;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];if(!a||!a.length)return n?s[0]:void 0;var c={name:r,currentIndex:0};for(i.__current.push(c);c.currentIndex<a.length;){var u=a[c.currentIndex],d=u.callback.apply(null,s);n&&(s[0]=d),c.currentIndex++}return i.__current.pop(),n?s[0]:void 0}};var Ma=function(e,t){return function(){var n,r,i=e[t];return null!==(n=null===(r=i.__current[i.__current.length-1])||void 0===r?void 0:r.name)&&void 0!==n?n:null}};var Ia=function(e,t){return function(n){var r=e[t];return"undefined"===typeof n?"undefined"!==typeof r.__current[0]:!!r.__current[0]&&n===r.__current[0].name}};var Da=function(e,t){return function(n){var r=e[t];if(Ea(n))return r[n]&&r[n].runs?r[n].runs:0}},La=(0,Sa.Z)((function e(){(0,Za.Z)(this,e),this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=Oa(this,"actions"),this.addFilter=Oa(this,"filters"),this.removeAction=Aa(this,"actions"),this.removeFilter=Aa(this,"filters"),this.hasAction=Ta(this,"actions"),this.hasFilter=Ta(this,"filters"),this.removeAllActions=Aa(this,"actions",!0),this.removeAllFilters=Aa(this,"filters",!0),this.doAction=Pa(this,"actions"),this.applyFilters=Pa(this,"filters",!0),this.currentAction=Ma(this,"actions"),this.currentFilter=Ma(this,"filters"),this.doingAction=Ia(this,"actions"),this.doingFilter=Ia(this,"filters"),this.didAction=Da(this,"actions"),this.didFilter=Da(this,"filters")}));var Ra,Ba,Fa=function(){return new La}(),za=(Fa.addAction,Fa.addFilter,Fa.removeAction,Fa.removeFilter,Fa.hasAction,Fa.hasFilter,Fa.removeAllActions,Fa.removeAllFilters,Fa.doAction,Fa.applyFilters,Fa.currentAction,Fa.currentFilter,Fa.doingAction,Fa.doingFilter,Fa.didAction,Fa.didFilter,Fa.actions,Fa.filters,function(e,t,n){var r=new _a({}),i=new Set,a=function(){i.forEach((function(e){return e()}))},o=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";r.data[n]=(0,kn.Z)((0,kn.Z)({},r.data[n]),e),r.data[n][""]=(0,kn.Z)((0,kn.Z)({},Ca),null===(t=r.data[n])||void 0===t?void 0:t[""]),delete r.pluralForms[n]},s=function(e,t){o(e,t),a()},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return r.data[e]||o(void 0,e),r.dcnpgettext(e,t,n,i,a)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return e},u=function(e,t,r){var i=l(r,t,e);return n?(i=n.applyFilters("i18n.gettext_with_context",i,e,t,r),n.applyFilters("i18n.gettext_with_context_"+c(r),i,e,t,r)):i};if(e&&s(e,t),n){var d=function(e){ja.test(e)&&a()};n.addAction("hookAdded","core/i18n",d),n.addAction("hookRemoved","core/i18n",d)}return{getLocaleData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return r.data[e]},setLocaleData:s,addLocaleData:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";r.data[n]=(0,kn.Z)((0,kn.Z)((0,kn.Z)({},r.data[n]),e),{},{"":(0,kn.Z)((0,kn.Z)((0,kn.Z)({},Ca),null===(t=r.data[n])||void 0===t?void 0:t[""]),null===e||void 0===e?void 0:e[""])}),delete r.pluralForms[n],a()},resetLocaleData:function(e,t){r.data={},r.pluralForms={},s(e,t)},subscribe:function(e){return i.add(e),function(){return i.delete(e)}},__:function(e,t){var r=l(t,void 0,e);return n?(r=n.applyFilters("i18n.gettext",r,e,t),n.applyFilters("i18n.gettext_"+c(t),r,e,t)):r},_x:u,_n:function(e,t,r,i){var a=l(i,void 0,e,t,r);return n?(a=n.applyFilters("i18n.ngettext",a,e,t,r,i),n.applyFilters("i18n.ngettext_"+c(i),a,e,t,r,i)):a},_nx:function(e,t,r,i,a){var o=l(a,i,e,t,r);return n?(o=n.applyFilters("i18n.ngettext_with_context",o,e,t,r,i,a),n.applyFilters("i18n.ngettext_with_context_"+c(a),o,e,t,r,i,a)):o},isRTL:function(){return"rtl"===u("ltr","text direction")},hasTranslation:function(e,t,i){var a,o,s=t?t+"\x04"+e:e,l=!(null===(a=r.data)||void 0===a||null===(o=a[null!==i&&void 0!==i?i:"default"])||void 0===o||!o[s]);return n&&(l=n.applyFilters("i18n.has_translation",l,e,t,i),l=n.applyFilters("i18n.has_translation_"+c(i),l,e,t,i)),l}}}(void 0,void 0,Fa)),Va=(za.getLocaleData.bind(za),za.setLocaleData.bind(za)),Ua=(za.resetLocaleData.bind(za),za.subscribe.bind(za),za.__.bind(za)),Ha=(za._x.bind(za),za._n.bind(za));za._nx.bind(za),za.isRTL.bind(za),za.hasTranslation.bind(za);Va((null===(Ra=window)||void 0===Ra||null===(Ba=Ra.pushengageTranslations)||void 0===Ba?void 0:Ba.translations)||{},"pushengage");var Wa=function(){},qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=Math.max(1,e),n=Math.pow(10,t-1),r=Math.pow(10,t)-1;return Math.floor(n+Math.random()*(r-n))};function Ka(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Ya=function(e,t){var n=document.createElement("textarea");n.textContent=e||"",document.body.appendChild(n),n.select(),n.setSelectionRange(0,e?e.length:1),document.execCommand("copy"),ie.default.success({message:t||Ua("Copied to Clipboard!","pushengage")}),document.body.removeChild(n)};function Ga(e){return function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}(function(e){return e.replace(/<[^>]*>/g,"")}(e))}function Qa(e){return"undefined"===typeof e}var Xa=function(e){var t="light";if(!e||!/^#[0-9a-fA-F]{6}$/.test(e))return t;var n=e.replace("#","");return(.299*parseInt(n.substring(0,2),16)+.587*parseInt(n.substring(2,4),16)+.114*parseInt(n.substring(4,6),16))/255>.5?t:"dark"},$a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i+=1)t+=n.charAt(Math.floor(Math.random()*r));return t};function Ja(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return e?e.length<=t?n.repeat(e.length):"".concat(n.repeat(e.length-t)).concat(e.slice(-t)):""}function eo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36;return e.split("").map((function(e){return e.charCodeAt(0).toString(t).padStart(2,"0")})).join("")}var to=864e5,no=1440;function ro(e){return"".concat(e.replace(" ","T"),"Z")}var io="Today",ao="Yesterday",oo="Last 7 days",so="Last 30 days",lo="This month",co="Last month",uo="Last 3 months",po="Last 6 months",fo="This year",ho="Last year";function go(e){var t,n=e.hideToday,r=(t={},(0,ti.Z)(t,io,[ei()(),ei()()]),(0,ti.Z)(t,ao,[ei()().subtract(1,"d"),ei()().subtract(1,"d")]),(0,ti.Z)(t,oo,[ei()().subtract(7,"d").startOf("day"),ei()().subtract(1,"d").endOf("day")]),(0,ti.Z)(t,so,[ei()().subtract(30,"d").startOf("day"),ei()().subtract(1,"d").endOf("day")]),(0,ti.Z)(t,lo,[ei()().startOf("month"),ei()().endOf("month")]),(0,ti.Z)(t,co,[ei()().subtract(1,"M").startOf("month"),ei()().subtract(1,"M").endOf("month")]),(0,ti.Z)(t,uo,[ei()().subtract(3,"M").startOf("month"),ei()().subtract(1,"M").endOf("month")]),(0,ti.Z)(t,po,[ei()().subtract(6,"M").startOf("month"),ei()().subtract(1,"M").endOf("month")]),(0,ti.Z)(t,fo,[ei()().startOf("year"),ei()().endOf("year")]),(0,ti.Z)(t,ho,[ei()().subtract(1,"y").startOf("year"),ei()().subtract(1,"y").endOf("year")]),t);return n&&(r=Ki()(r,[io])),r}var mo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM DD, YYYY h:mm A";try{return ei()(e).format(t)}catch(n){return e}};function vo(e){return"0000-00-00 00:00:00"===e}var yo,bo,xo,wo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t||1,r=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"B"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],i=/\.0+$|(\.[0-9]*[1-9])0+$/,a=r.slice().reverse().find((function(t){return e>=t.value}));return a?(e/a.value).toFixed(n).replace(i,"$1")+a.symbol:"0"},ko=function(e){var t;return null===e||void 0===e||null===(t=e.toString())||void 0===t?void 0:t.replace(/\B(?=(\d{3})+(?!\d))/g,",")};function _o(e){return"".concat(e).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")}function Co(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(_o(e.toFixed(t)))}function jo(e){return e?e.replace(/[-_]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").trim().split(" ").filter(Boolean).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "):""}function So(){return xo&&xo.dispose(),xo=window.wp.media({title:Ua("Select or Upload Media Of Your Chosen Persuasion","pushengage"),button:{text:Ua("Use this media","pushengage")},multiple:!1})}function Zo(e){return e<50?"#6165c8":e<90?"#ffd37d":"#df2a4a"}function No(e){return e>90?"#df2a4a":"#6165c8"}function Eo(e){if(!e||0===Object.keys(e).length)return"";var t="?".concat(Object.keys(e).reduce((function(t,n){return t.push("".concat(n,"=").concat(encodeURIComponent(e[n]))),t}),[]).join("&"));return t}function Oo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri.DAY,n="D/M",r="MMM, YYYY",i=e.split(",");if(1===i.length)return ei()(i[0]).format(n);if(t===ri.MONTH)return ei()(e,"MM,YYYY").format(r);var a=ei()(i[0]).format(n),o=ei()(i[1]).format(n);return"".concat(a," to ").concat(o)}function Ao(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",n=e.current_subscribers-e.prev_subscribers||0,r=e.current_notifications_sent-e.prev_notifications_sent||0,i=e.current_views-e.prev_views||0,a=e.current_clicks-e.prev_clicks||0,o=e.current_goal_value-e.prev_goal_value||0,s=o/(e.prev_goal_value||1),l=e.current_goal_count-e.prev_goal_value||0,c=e.current_unsubscribed-e.prev_unsubscribed||0,u=function(e){return e>0?"success":e<0?"error":""};return{subscribers:{title:Ua("New Subscribers","pushengage"),count:e.current_subscribers,value:wo(e.current_subscribers),type:u(n),tagValue:wo(Math.abs(n))},notificationSent:{title:Ua("Notifications Sent","pushengage"),count:e.current_notifications_sent,value:wo(e.current_notifications_sent),type:u(r),tagValue:wo(Math.abs(r))},views:{title:Ua("Views","pushengage"),count:e.current_views,value:wo(e.current_views),type:u(i),tagValue:wo(Math.abs(i))},click:{title:Ua("Clicks","pushengage"),count:e.current_clicks,value:wo(e.current_clicks),type:u(a),tagValue:wo(Math.abs(a))},goalConversionValue:{title:Ua("Goal Conversion","pushengage"),count:e.current_goal_value,value:"".concat(t).concat(wo(e.current_goal_value)),type:u(s),tagValue:"".concat(wo(Math.abs(s)),"%")},goalConversionCount:{title:Ua("Goal Conversion","pushengage"),count:e.current_goal_count,value:"".concat(wo(e.current_goal_count)),type:u(l),tagValue:wo(Math.abs(l))},unsubscribed:{title:Ua("Unsubscribed","pushengage"),count:e.current_unsubscribed,value:"".concat(wo(e.current_unsubscribed)),type:u(c),tagValue:wo(Math.abs(c))}}}function To(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download",n=window.URL.createObjectURL(new Blob(["\ufeff",e])),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click()}var Po=function(e){var t=Number(e);return{duration_in_days:Math.floor(t/86400),duration_in_hours:Math.floor(t%86400/3600),duration_in_minutes:Math.floor(t%3600/60)}};function Mo(e){var t=Number(e);return{hours:Math.trunc(t/60),minutes:t%60}}function Io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"revenue";return"<script>\n  var goal = {\n    name: '".concat(e,"', // name of the goal, allowed character [A-Za-z0-9-_], case sensitive\n    count: 1, // number, default: 1\n    value: 1, // number, default:0, value associated with the goal\n  };\n  _peq.push(['goal', goal]);\n<\/script>")}function Do(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"revenue";return'<script>\nvar goal = {\n  "name": "'.concat(e,'", // name of the goal, allowed character [A-Za-z0-9-_], case sensitive\n  "count": 1, // number, default: 1\n  "value": 1, // number, default:0, value associated with the goal\n};\n\nwindow._peq.push([\n  \'goal\',\n  goal,\n  function (res) {\n    console.log(res);\n  },\n]);\n<\/script>')}function Lo(e){var t="vs prev 90 days",n=e.current_count-e.prev_count||0,r=e.current_allow-e.prev_allow||0,i=e.current_block-e.prev_block||0,a=e.current_close-e.prev_close||0,o=e.current_subscription_rate-e.prev_subscription_rate||0,s=function(e){return e>0?"success":e<0?"error":""};return{totalCount:{title:Ua("Total Counted","pushengage"),count:e.current_count,value:wo(e.current_count),type:s(n),tagValue:wo(Math.abs(n)),durationText:t},allow:{title:Ua("Allowed","pushengage"),count:e.current_allow,value:wo(e.current_allow),type:s(r),tagValue:wo(Math.abs(r)),durationText:t},block:{title:Ua("Blocked","pushengage"),count:e.current_block,value:wo(e.current_block),type:s(i),tagValue:wo(Math.abs(i)),durationText:t},close:{title:Ua("Closed","pushengage"),count:e.current_close,value:wo(e.current_close),type:s(a),tagValue:wo(Math.abs(a)),durationText:t},subscriptionRate:{title:Ua("Subscription Rate","pushengage"),count:e.current_subscription_rate,value:"".concat(wo(e.current_subscription_rate,2),"%"),type:s(o),tagValue:"".concat(wo(Math.abs(o),2),"%"),durationText:t}}}function Ro(e){var t=e.current_subscribers-e.prev_subscribers||0,n=(null===e||void 0===e?void 0:e.total_subscribers)||0,r=e.current_unsubscribed-e.prev_unsubscribed||0,i=e.current_subscribers-e.current_unsubscribed-(e.prev_subscribers-e.prev_unsubscribed),a=function(e){return e>0?"success":e<0?"error":""};return{totalSubscribers:{title:Ua("Total Active Subscribers","pushengage"),count:n,value:wo(n),type:a(i),tagValue:wo(Math.abs(i))},subscribers:{title:Ua("New Subscribers","pushengage"),count:e.current_subscribers,value:wo(e.current_subscribers),type:a(t),tagValue:wo(Math.abs(t))},unsubscribed:{title:Ua("Unsubscribers","pushengage"),count:e.current_unsubscribed,value:"".concat(wo(e.current_unsubscribed)),type:a(r),tagValue:wo(Math.abs(r))}}}function Bo(e){var t=e.currPage,n=e.pageSize,r=e.total,i=e.lastPage,a=t,o=i||Math.ceil(r/n||1);t===i&&t>1&&o>1&&(r%n===1&&(a=t-1));return a}var Fo=function(e){return window.location.origin+e},zo=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fo(t),r=!1,e.prev=2,e.next=5,fetch(n);case 5:if(!(a=e.sent).ok||a.redirected||null===(i=a.headers.get("content-type"))||void 0===i||!i.includes("javascript")){e.next=11;break}return e.next=9,a.text();case 9:(null===(o=e.sent)||void 0===o?void 0:o.indexOf("pushengage.com"))>=0&&(r=!0);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r=!1;case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();var Vo,Uo,Ho,Wo,qo,Ko=function(e){var t,n,r=e.optinSettings,i=e.isSwSupport,a=Bi()(r),o=a.optins,s=(null===(t=a.activeOptin)||void 0===t||null===(n=t.https)||void 0===n?void 0:n.types)||[];return Ui()(o,(function(e,t){var n,r,a,o;4!==Number(t)&&("undefined"!==typeof(null===e||void 0===e||null===(n=e.desktop)||void 0===n||null===(r=n.https)||void 0===r?void 0:r.optin_sw_support)&&(e.desktop.https.optin_sw_support=i),"undefined"!==typeof(null===e||void 0===e||null===(a=e.mobile)||void 0===a||null===(o=a.https)||void 0===o?void 0:o.optin_sw_support)&&(e.mobile.https.optin_sw_support=i))})),!i&&s.includes(vi.PUSH_SINGLE_STEP_OPT_IN)&&(a=function(e){var t,n,r=Bi()(e),i=(null===(t=r.activeOptin)||void 0===t||null===(n=t.https)||void 0===n?void 0:n.types)||[],a=vi.PUSH_SINGLE_STEP_OPT_IN,o=vi.SAFARI_STYLE_BOX;if(1===i.length&&i.includes(a)){var s,l,c,u,d,p,f,h,g,m,v,y;null!==r&&void 0!==r&&null!==(s=r.activeOptin)&&void 0!==s&&null!==(l=s.https)&&void 0!==l&&l.type&&(r.activeOptin.https.type=o,"undefined"!==typeof(null===r||void 0===r||null===(d=r.optins)||void 0===d||null===(p=d[o])||void 0===p||null===(f=p.desktop)||void 0===f||null===(h=f.https)||void 0===h?void 0:h.popup_disabled)&&(r.optins[o].desktop.https.popup_disabled=1)),null!==r&&void 0!==r&&null!==(c=r.activeOptin)&&void 0!==c&&null!==(u=c.https)&&void 0!==u&&u.types&&(r.activeOptin.https.types=[o],"undefined"!==typeof(null===r||void 0===r||null===(g=r.optins)||void 0===g||null===(m=g[o])||void 0===m||null===(v=m.mobile)||void 0===v||null===(y=v.https)||void 0===y?void 0:y.popup_disabled)&&(r.optins[o].mobile.https.popup_disabled=1))}else r.activeOptin.https.types=i.filter((function(e){return e!==a}));return r}(a)),a},Yo=(null===(yo=window)||void 0===yo||null===(bo=yo.pushengage)||void 0===bo?void 0:bo.wooCommerceActive)||!1,Go=n(31881),Qo=n.n(Go),Xo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Lc.get("sites/".concat(e,"/app-setting").concat(t))},$o=function(e,t){return Lc.get("sites/".concat(e,"/geo-segments?type_data=").concat(t))},Jo=JSON.parse('[{"country":"Albania","code":"ALL","symbol":"Lek"},{"country":"Afghanistan","code":"AFN","symbol":"\u060b"},{"country":"Angola","code":"AOA","symbol":"is"},{"country":"Argentina","code":"ARS","symbol":"$"},{"country":"Armenia","code":"ARM","symbol":"\u0534"},{"country":"Aruba Guilder","code":"AWG","symbol":"\u0192"},{"country":"Australia","code":"AUD","symbol":"$"},{"country":"Azerbaijan","code":"AZN","symbol":"\u20bc"},{"country":"Bahamas","code":"BSD","symbol":"$"},{"country":"Bahrain","code":"BHD","symbol":"\u0628.\u062f"},{"country":"Bangladesh","code":"BDT","symbol":"\u09f3"},{"country":"Barbados","code":"BBD","symbol":"$"},{"country":"Belarus","code":"BYN","symbol":"Br"},{"country":"Belize","code":"BZD","symbol":"BZ$"},{"country":"Bermuda","code":"BMD","symbol":"$"},{"country":"Bolivia","code":"BOB","symbol":"$b"},{"country":"Bosnia and Herzegovina Convertible Mark","code":"BAM","symbol":"KM"},{"country":"Botswana","code":"BWP","symbol":"P"},{"country":"Brazil","code":"BRL","symbol":"R$"},{"country":"Brunei","code":"BND","symbol":"$"},{"country":"Bulgaria","code":"BGN","symbol":"\u043b\u0432"},{"country":"Cambodia","code":"KHR","symbol":"\u17db"},{"country":"Canada","code":"CAD","symbol":"$"},{"country":"Cayman Islands","code":"KYD","symbol":"$"},{"country":"Chile","code":"CLP","symbol":"$"},{"country":"China","code":"CNY","symbol":"\xa5"},{"country":"Colombia","code":"COP","symbol":"$"},{"country":"Costa Rica","code":"CRC","symbol":"\u20a1"},{"country":"Croatia","code":"HRK","symbol":"kn"},{"country":"Cuba","code":"CUP","symbol":"\u20b1"},{"country":"Czech Republic","code":"CZK","symbol":"K\u010d"},{"country":"Denmark","code":"DKK","symbol":"kr"},{"country":"Dominican Republic","code":"DOP","symbol":"RD$"},{"country":"East Caribbean","code":"XCD","symbol":"$"},{"country":"Egypt","code":"EGP","symbol":"\xa3"},{"country":"El Salvador Colon","code":"SVC","symbol":"$"},{"country":"Euro Member Countries","code":"EUR","symbol":"\u20ac"},{"country":"Falkland Islands (Malvinas)","code":"FKP","symbol":"\xa3"},{"country":"Fiji","code":"FJD","symbol":"$"},{"country":"Ghana","code":"GHS","symbol":"\xa2"},{"country":"Gibraltar","code":"GIP","symbol":"\xa3"},{"country":"Guatemala","code":"GTQ","symbol":"Q"},{"country":"Guernsey","code":"GGP","symbol":"\xa3"},{"country":"Gumbia","code":"GMD","symbol":"D"},{"country":"Guyana","code":"GYD","symbol":"$"},{"country":"Haiti","code":"HTG","symbol":"G"},{"country":"Honduras","code":"HNL","symbol":"L"},{"country":"Hong Kong","code":"HKD","symbol":"$"},{"country":"Hungary","code":"HUF","symbol":"Ft"},{"country":"Iceland","code":"ISK","symbol":"kr"},{"country":"India","code":"INR","symbol":"\u20b9"},{"country":"Indonesia","code":"IDR","symbol":"Rp"},{"country":"Iran","code":"IRR","symbol":"\ufdfc"},{"country":"Iraq","code":"IQD","symbol":"\u0639.\u062f"},{"country":"Isle of Man","code":"IMP","symbol":"\xa3"},{"country":"Israel","code":"ILS","symbol":"\u20aa"},{"country":"Jamaica","code":"JMD","symbol":"J$"},{"country":"Japan","code":"JPY","symbol":"\xa5"},{"country":"Jersey","code":"JEP","symbol":"\xa3"},{"country":"Jordan","code":"JOD","symbol":"\u062f.\u0627"},{"country":"Kazakhstan","code":"KZT","symbol":"\u043b\u0432"},{"country":"Kenya","code":"KES","symbol":"Sh"},{"country":"Kuwait","code":"KWD","symbol":"\u062f.\u0643"},{"country":"Kyrgyzstan","code":"KGS","symbol":"\u043b\u0432"},{"country":"Laos","code":"LAK","symbol":"\u20ad"},{"country":"Lebanon","code":"LBP","symbol":"\xa3"},{"country":"Liberia","code":"LRD","symbol":"$"},{"country":"Macedonia","code":"MKD","symbol":"\u0434\u0435\u043d"},{"country":"Malaysia","code":"MYR","symbol":"RM"},{"country":"Mauritius","code":"MUR","symbol":"\u20a8"},{"country":"Mexico","code":"MXN","symbol":"$"},{"country":"Mongolia","code":"MNT","symbol":"\u20ae"},{"country":"Maldives","code":"MVR","symbol":" \u0783 "},{"country":"Moroccan-dirham","code":"MAD","symbol":"\u062f.\u0625"},{"country":"Mozambique","code":"MZN","symbol":"MT"},{"country":"Myanmar","code":"MMK","symbol":"K"},{"country":"Namibia","code":"NAD","symbol":"$"},{"country":"Nepal","code":"NPR","symbol":"\u20a8"},{"country":"Netherlands Antilles Guilder","code":"ANG","symbol":"\u0192"},{"country":"New Zealand","code":"NZD","symbol":"$"},{"country":"Nicaragua Cordoba","code":"NIO","symbol":"C$"},{"country":"Nigeria","code":"NGN","symbol":"\u20a6"},{"country":"North Korea","code":"KPW","symbol":"\u20a9"},{"country":"Norway","code":"NOK","symbol":"kr"},{"country":"Oman","code":"OMR","symbol":"\ufdfc"},{"country":"Pakistan","code":"PKR","symbol":"\u20a8"},{"country":"Panama","code":"PAB","symbol":"B/."},{"country":"Paraguay","code":"PYG","symbol":"Gs"},{"country":"Peru","code":"PEN","symbol":"S/."},{"country":"Philippines","code":"PHP","symbol":"\u20b1"},{"country":"Poland","code":"PLN","symbol":"z\u0142"},{"country":"Qatar","code":"QAR","symbol":"\ufdfc"},{"country":"Romania","code":"RON","symbol":"lei"},{"country":"Russia","code":"RUB","symbol":"\u20bd"},{"country":"Saint Helena","code":"SHP","symbol":"\xa3"},{"country":"Saudi Arabia","code":"SAR","symbol":"\ufdfc"},{"country":"Serbia","code":"RSD","symbol":"\u0414\u0438\u043d."},{"country":"Seychelles","code":"SCR","symbol":"\u20a8"},{"country":"Singapore","code":"SGD","symbol":"$"},{"country":"Solomon Islands","code":"SBD","symbol":"$"},{"country":"Somalia","code":"SOS","symbol":"S"},{"country":"South Korea","code":"KRW","symbol":"\u20a9"},{"country":"South Africa","code":"ZAR","symbol":"R"},{"country":"Sri Lanka","code":"LKR","symbol":"\u20a8"},{"country":"Sudan","code":"SDG","symbol":"\xa3"},{"country":"Sweden","code":"SEK","symbol":"kr"},{"country":"Switzerland","code":"CHF","symbol":"CHF"},{"country":"Suriname","code":"SRD","symbol":"$"},{"country":"Syria","code":"SYP","symbol":"\xa3"},{"country":"Taiwan","code":"TWD","symbol":"NT$"},{"country":"Thailand","code":"THB","symbol":"\u0e3f"},{"country":"Trinidad and Tobago","code":"TTD","symbol":"TT$"},{"country":"Turkey","code":"TRY","symbol":"\u20ba"},{"country":"Tuvalu","code":"TVD","symbol":"$"},{"country":"Uganda","code":"GUX","symbol":"Sh"},{"country":"Ukraine","code":"UAH","symbol":"\u20b4"},{"country":"United Arab Emirates","code":"AED","symbol":"\u062f.\u0625"},{"country":"United Kingdom","code":"GBP","symbol":"\xa3"},{"country":"United States of America","code":"USD","symbol":"$"},{"country":"Uruguay","code":"UYU","symbol":"$U"},{"country":"Uzbekistan","code":"UZS","symbol":"\u043b\u0432"},{"country":"Venezuela","code":"VEF","symbol":"Bs"},{"country":"Vietnam","code":"VND","symbol":"\u20ab"},{"country":"Yemen","code":"YER","symbol":"\ufdfc"},{"country":"Zambia","code":"ZMW","symbol":"ZK"},{"country":"Zimbabwe","code":"ZWD","symbol":"Z$"}]'),es=sr("globals/fetchAppSetting",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.siteId,r=t.query,i="",r&&(i=Eo(r)),e.next=5,Xo(n,i);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ts=sr("globals/fetchGeoSegments",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.siteId,r=t.type,e.next=3,$o(n,r);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ns=tr({name:"globals",initialState:{geoSegments:{},settings:{}},reducers:{updateGlobalSetting:function(e,t){e.settings=(0,kn.Z)((0,kn.Z)({},e.settings),t.payload)}},extraReducers:function(e){e.addCase(es.fulfilled,(function(e,t){e.settings=(0,kn.Z)((0,kn.Z)({},e.settings),t.payload.data)})),e.addCase(ts.fulfilled,(function(e,t){e.geoSegments=(0,kn.Z)((0,kn.Z)({},e.geoSegments),t.payload)}))}}),rs=function(e){var t;return(null===(t=e.globals.settings.timezone)||void 0===t?void 0:t.offset)||"GMT+00:00"},is=function(e){var t,n,r,i,a=(null===e||void 0===e||null===(t=e.globals)||void 0===t||null===(n=t.settings)||void 0===n||null===(r=n.notification_analytics)||void 0===r||null===(i=r.result)||void 0===i?void 0:i.currency)||"USD",o=Jo.find((function(e){return e.code===a}));return(null===o||void 0===o?void 0:o.symbol)||"$"},as=ns.actions.updateGlobalSetting,os=ns.reducer,ss=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("sites/".concat(t,"/settings?name=utm_settings,default_notification,default_custom_params,default_notification_expiry")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ls=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("sites/".concat(t,"/settings?name=service_worker,custom_url,safari_options")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cs=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.siteId,r=t.data,e.abrupt("return",Lc.put("sites/".concat(n,"/settings"),r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),us=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.siteId,r=t.data,e.abrupt("return",Lc.put("sites/".concat(n,"/settings"),r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ds=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.siteId,r=t.options,e.abrupt("return",Lc.get("sites/".concat(n,"/settings"),{params:r}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ps=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.siteId,r=t.data,e.abrupt("return",Lc.put("sites/".concat(n,"/settings"),r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fs=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("sites/".concat(t,"/settings/template_options")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hs=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.put("sites/".concat(t,"/settings/template_options"),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),gs=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apiKey,r=t.siteId,i=t.options,e.abrupt("return",Lc.get("sites/".concat(r,"/settings"),(0,kn.Z)((0,kn.Z)({},i),{},{headers:{"Content-Type":"application/json","x-pe-client":"WordPress","x-pe-api-key":n}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ms=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apiKey,r=t.siteId,i=t.data,a=t.options,e.abrupt("return",Lc.put("sites/".concat(r,"/settings"),i,(0,kn.Z)((0,kn.Z)({},a),{},{headers:{"Content-Type":"application/json","x-pe-client":"WordPress","x-pe-api-key":n}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vs=sr("siteSettings/getSiteSettings",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ds(t);case 2:return n=e.sent,e.abrupt("return",(null===n||void 0===n?void 0:n.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ys=sr("siteSettings/updateSiteSettings",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ps(t);case 2:return n=e.sent,e.abrupt("return",(null===n||void 0===n?void 0:n.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),bs=tr({name:"siteSettings",initialState:{data:{android_options:{},chicklet_settings:{},cleanup_request_settings:{},custom_url:{},default_custom_params:{},default_notification_expiry:{},default_notification:{},installation_step_whitelist:{},ios_options:{},notification_analytics:{},optin_management_settings:{},optin_settings:{},optin_subscription_reminder:{},optin_subscription_trigger:{},overlay_settings:{},privacy_settings:{},safari_options:{},service_worker:{},shopify_app_options:{},shopify_options:{},sub_analytics:{},sub_management_settings:{},timezone:{},utm_settings:{},welcome_notification:{}},loading:!0,error:null},reducers:{updateServiceWorkerSettings:function(e,t){e.data=(0,kn.Z)((0,kn.Z)({},e.data),{},{service_worker:t.payload})}},extraReducers:(Vo={},(0,ti.Z)(Vo,vs.pending.type,(function(e){e.loading=!0})),(0,ti.Z)(Vo,vs.fulfilled.type,(function(e,t){e.loading=!1,e.data=(0,kn.Z)((0,kn.Z)({},e.data),t.payload)})),(0,ti.Z)(Vo,vs.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),(0,ti.Z)(Vo,ys.pending.type,(function(e){e.loading=!0})),(0,ti.Z)(Vo,ys.fulfilled.type,(function(e,t){e.loading=!1,e.data=(0,kn.Z)((0,kn.Z)({},e.data),t.payload)})),(0,ti.Z)(Vo,ys.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Vo)}),xs=bs.actions.updateServiceWorkerSettings,ws=bs.reducer,ks=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("sites/".concat(t,"/segments")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_s=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r,i,a,o,s=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:10,i=s.length>3?s[3]:void 0,a=s.length>4?s[4]:void 0,o="limit=".concat(r,"&page=").concat(n),i&&""!==i&&(o+="&segment_name_like=".concat(i)),a&&""!==a&&(o+="&expand=".concat(a)),e.abrupt("return",Lc.get("sites/".concat(t,"/segments/?").concat(o)));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Cs=function(e,t){return Lc.post("sites/".concat(e,"/segments"),(0,kn.Z)((0,kn.Z)({},t),{},{add_segment_on_page_load:Number(t.add_segment_on_page_load)}))},js=function(e,t){return Lc.get("sites/".concat(e,"/segments/").concat(t))},Ss=function(e){return Lc.get("accounts/".concat(e,"/count/segment"))},Zs=function(e,t,n){return Lc.patch("sites/".concat(e,"/segments/").concat(t),(0,kn.Z)((0,kn.Z)({},n),{},{add_segment_on_page_load:Number(n.add_segment_on_page_load)}))},Ns=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.delete("sites/".concat(t,"/segments/").concat(n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Es=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"city,country,state,device,device_type";return Lc.get("sites/".concat(e,"/geo-segments?type_data=").concat(t))},Os=sr("segments/fetchAllSegments",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ks(t);case 2:return n=e.sent,e.abrupt("return",(null===n||void 0===n?void 0:n.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),As=sr("segments/fetchSegments",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a,o,s,l,c,u,d;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.siteId,r=t.page,i=void 0===r?1:r,a=t.limit,o=void 0===a?10:a,s=t.like,l=void 0===s?"":s,c=t.expand,u=void 0===c?"":c,e.next=3,_s(n,i,o,l,u);case 3:return d=e.sent,e.abrupt("return",(null===d||void 0===d?void 0:d.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ts=(sr("segments/fetchSegment",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.siteId,r=t.segmentId,e.next=3,js(n,r);case 3:return i=e.sent,e.abrupt("return",(null===i||void 0===i?void 0:i.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),sr("segments/segmentCountByAccount",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ss(t);case 2:return n=e.sent,e.abrupt("return",(null===n||void 0===n?void 0:n.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),Ps=sr("segments/deleteSegment",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.siteId,r=t.segmentId,e.next=3,Ns(n,r);case 3:return i=e.sent,e.abrupt("return",(null===i||void 0===i?void 0:i.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ms=tr({name:"audiences",initialState:{segments:{data:[],meta:{},loading:!1}},reducers:{},extraReducers:(Uo={},(0,ti.Z)(Uo,As.pending.type,(function(e){e.segments.loading=!0})),(0,ti.Z)(Uo,As.fulfilled.type,(function(e,t){e.segments.loading=!1,e.segments.data=(0,kn.Z)((0,kn.Z)({},e.segments.data),t.payload)})),(0,ti.Z)(Uo,As.rejected.type,(function(e){e.segments.loading=!1})),(0,ti.Z)(Uo,Os.pending.type,(function(e){e.segments.loading=!0})),(0,ti.Z)(Uo,Os.fulfilled.type,(function(e,t){e.segments.loading=!1,e.segments.data=t.payload})),(0,ti.Z)(Uo,Os.rejected.type,(function(e){e.segments.loading=!1})),Uo)}).reducer,Is=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("sites/".concat(t,"/audience-groups").concat(n?Eo(n):"")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ds=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("sites/".concat(t,"/audience-groups")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ls=function(e,t){return Lc.get("sites/".concat(e,"/audience-groups/").concat(t))},Rs=function(e,t){return Lc.post("sites/".concat(e,"/audience-groups"),t)},Bs=function(e,t,n){return Lc.patch("sites/".concat(e,"/audience-groups/").concat(t),n)},Fs=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.delete("sites/".concat(t,"/audience-groups/").concat(n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),zs=sr("audienceGroups/getPaginatedAudienceGroups",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.siteId,r=t.options,e.next=3,Is(n,r);case 3:return i=e.sent,e.abrupt("return",(null===i||void 0===i?void 0:i.data)||[]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Vs=sr("audienceGroups/AllAudienceGroups",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(t);case 2:return n=e.sent,e.abrupt("return",(null===n||void 0===n?void 0:n.data)||[]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Us=tr({name:"audience",initialState:{data:[],meta:{},loading:!1},reducers:{},extraReducers:(Ho={},(0,ti.Z)(Ho,zs.pending.type,(function(e){e.loading=!0})),(0,ti.Z)(Ho,zs.fulfilled.type,(function(e,t){var n;e.loading=!1,e.data=(null===(n=t.payload)||void 0===n?void 0:n.data)||[]})),(0,ti.Z)(Ho,Vs.pending.type,(function(e){e.loading=!0})),(0,ti.Z)(Ho,Vs.fulfilled.type,(function(e,t){e.loading=!1,e.data=t.payload||[]})),Ho)}).reducer,Hs=tr({name:"challenge",initialState:{installationStepDetails:{skip_challenge:!1,auto_push:!1,welcome_notification:!1,notification:!1,popup_modal:!1},panelCloseCount:0},reducers:{setInstallationStepDetails:function(e,t){e.installationStepDetails=(0,kn.Z)((0,kn.Z)({},e.installationStepDetails),t.payload)},setStepStatus:function(e,t){e.installationStepDetails[t.payload.stepName]=t.payload.isCompleted},increasePanelCloseCount:function(e){e.panelCloseCount=e.panelCloseCount+1}}}),Ws=Hs.actions,qs=(Ws.setInstallationStepDetails,Ws.setStepStatus,Ws.increasePanelCloseCount,Hs.reducer),Ks=function(e){return Lc.get("templates/".concat(e))},Ys=sr("templates/getTemplates",(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lc.get("templates");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),Gs=sr("templates/favoriteTemplateIds",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Qs=tr({name:"templates",initialState:{data:[],favoriteTemplateIds:[],broadcastTemplateCategories:[]},reducers:{updateFavoriteTemplateIds:function(e,t){e.favoriteTemplateIds=t.payload}},extraReducers:function(e){e.addCase(Ys.fulfilled,(function(e,t){e.data=t.payload.data,e.broadcastTemplateCategories=t.payload.meta.broadcast_template_categories})),e.addCase(Gs.fulfilled,(function(e,t){var n;e.favoriteTemplateIds=null===(n=t.payload)||void 0===n?void 0:n.favorite_templates}))}}),Xs=Qs.actions.updateFavoriteTemplateIds,$s=Qs.reducer,Js=Qo().create({baseURL:null===(Wo=window)||void 0===Wo||null===(qo=Wo.pushengage)||void 0===qo?void 0:qo.adminAjax});function el(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=new FormData;for(var a in n){var o="object"===typeof n[a]?JSON.stringify(n[a]):n[a];i.append(a,o)}return i.append("_wpnonce",window.pushengage.nonce),Js((0,kn.Z)((0,kn.Z)({method:t,url:e,data:i},r),{},{headers:{"Content-Type":"multipart/form-data"}}))}var tl,nl={post:function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n,r){var i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el(t,"POST",n,r);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},rl=Object.freeze({UPDATE_ONBOARDING_DATA:"pe_update_onboarding_data",DELETE_ONBOARDING_DATA:"pe_delete_onboarding_data",UPDATE_ONBOARDING_CAMPAIGN_SETTINGS:"pe_update_onboarding_campaign_settings",UPDATE_ONBOARDING_RETARGETING_SETTINGS:"pe_update_onboarding_retargeting_settings",UPDATE_ONBOARDING_RECOVER_SALES_SETTINGS:"pe_update_onboarding_recover_sales_settings",GET_ALL_PLUGIN_INFO:"pe_get_all_plugins_info",GET_RECOMMENDED_PLUGIN_INFO:"pe_get_recommended_plugins_info",INSTALL_RECOMMENDED_PLUGIN:"pe_install_recommended_plugins",GET_AUTO_PUSH_SETTINGS:"pe_get_auto_push_settings",UPDATE_AUTO_PUSH_SETTINGS:"pe_update_auto_push_settings",GET_ALL_CATEGORIES:"pe_get_all_categories",GET_TOP_LEVEL_CATEGORIES:"pe_get_top_level_categories",MAP_SEGMENT_WITH_CATEGORIES:"pe_map_segment_with_categories",GET_CATEGORY_SEGMENTATIONS:"pe_get_category_segmentations",GET_ALL_USER_META_KEYS:"pe_get_all_user_meta_keys",MAP_ATTRIBUTE_WITH_USER_META:"pe_map_attribute_with_user_meta",GET_ATTRIBUTE_USER_META_MAPPINGS:"pe_get_attribute_user_meta_mappings",GET_POST_META_DATA:"pe_get_post_metadata",GET_MISC_SETTINGS:"pe_get_misc_settings",UPDATE_MISC_SETTINGS:"pe_update_misc_settings",UPDATE_API_KEY:"pe_update_api_key",GET_HELP_DOCS:"pe_get_help_docs",VERIFY_INSTALLATION:"pe_verify_installation",GET_REVIEW_NOTICE:"pe_get_review_notice",DISMISS_REVIEW_NOTICE:"pe_dismiss_review_notice",UPDATE_SW_ERROR_SETTINGS:"pe_update_sw_error_settings",GET_WOO_INTEGRATION_SETTINGS:"pe_get_woo_integration_settings",UPDATE_WOO_INTEGRATION_SETTINGS:"pe_update_woo_integration_settings",DELETE_WOO_INTEGRATION_SETTINGS:"pe_delete_woo_integration_settings",GET_WOO_NOTICE:"pe_get_woo_notice",DISMISS_WOO_NOTICE:"pe_dismiss_woo_notice",INITIALIZE_DEBUG_LOG:"pe_initialize_debug_log",DELETE_DEBUG_LOG_FILE:"pe_delete_debug_log_file",GET_SYSTEM_INFO:"pe_get_system_info",GET_DEBUG_LOG_FILES:"pe_get_debug_log_files",DELETE_DEBUG_LOG_FILE_BY_NAME:"pe_delete_debug_log_file_by_name",VIEW_DEBUG_LOG_FILE:"pe_view_debug_log_file",GET_WHATSAPP_SETTINGS:"pe_get_whatsapp_settings",UPDATE_WHATSAPP_SETTINGS:"pe_update_whatsapp_settings",GET_WHATSAPP_AUTOMATION_CAMPAIGNS:"pe_get_whatsapp_automation_campaigns",UPDATE_WHATSAPP_AUTOMATION_CAMPAIGN:"pe_update_whatsapp_automation_campaign",GET_WHATSAPP_CLICK_TO_CHAT_SETTINGS:"pe_get_whatsapp_click_to_chat_settings",UPDATE_WHATSAPP_CLICK_TO_CHAT_SETTINGS:"pe_update_whatsapp_click_to_chat_settings",GET_PUSH_AUTOMATION_CAMPAIGNS:"pe_get_push_automation_campaigns",UPDATE_PUSH_AUTOMATION_CAMPAIGN:"pe_update_push_automation_campaign"});function il(e){return nl.post("",e)}function al(){return nl.post("",{action:rl.GET_WOO_INTEGRATION_SETTINGS})}function ol(e){return nl.post("",{post_id:e,action:rl.GET_POST_META_DATA})}function sl(e){return nl.post("",(0,kn.Z)((0,kn.Z)({},e),{},{action:rl.UPDATE_AUTO_PUSH_SETTINGS}))}function ll(e){return nl.post("",(0,kn.Z)((0,kn.Z)({},e),{},{action:rl.UPDATE_WOO_INTEGRATION_SETTINGS}))}function cl(e){return nl.post("",(0,kn.Z)((0,kn.Z)({},e),{},{action:rl.UPDATE_MISC_SETTINGS}))}function ul(e){return nl.post("",(0,kn.Z)((0,kn.Z)({},e),{},{action:rl.UPDATE_SW_ERROR_SETTINGS}))}function dl(){return pl.apply(this,arguments)}function pl(){return(pl=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nl.post("",{action:rl.INITIALIZE_DEBUG_LOG});case 3:if(!(r=e.sent).success){e.next=6;break}return e.abrupt("return",r.data);case 6:throw i=null!==(t=null===(n=r.data)||void 0===n?void 0:n.message)&&void 0!==t?t:"Failed to initialize debug log.",new Error(i);case 10:if(e.prev=10,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=14;break}throw e.t0;case 14:if("object"!==typeof e.t0||null===e.t0||!("response"in e.t0)){e.next=18;break}if(s=e.t0,null===(a=s.response)||void 0===a||null===(o=a.data)||void 0===o||!o.message){e.next=18;break}throw new Error(s.response.data.message);case 18:throw new Error("Failed to initialize debug log due to an unexpected error.");case 19:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function fl(){return nl.post("",{action:rl.DELETE_DEBUG_LOG_FILE})}function hl(e){return nl.post("",{action:rl.DELETE_DEBUG_LOG_FILE_BY_NAME,fileName:e})}function gl(e){return nl.post("",{action:rl.VIEW_DEBUG_LOG_FILE,fileName:e})}function ml(){return nl.post("",{action:rl.GET_WHATSAPP_SETTINGS})}function vl(e){return nl.post("",(0,kn.Z)((0,kn.Z)({},e),{},{action:rl.UPDATE_WHATSAPP_SETTINGS}))}function yl(){return nl.post("",{action:rl.GET_WHATSAPP_AUTOMATION_CAMPAIGNS})}function bl(e){return nl.post("",{campaign:JSON.stringify(e),action:rl.UPDATE_WHATSAPP_AUTOMATION_CAMPAIGN})}function xl(){return nl.post("",{action:rl.GET_WHATSAPP_CLICK_TO_CHAT_SETTINGS})}function wl(e,t){return nl.post("",(0,kn.Z)((0,kn.Z)((0,kn.Z)({},e),t&&t.deleteOption?{delete:!0}:{}),{},{action:rl.UPDATE_WHATSAPP_CLICK_TO_CHAT_SETTINGS}))}function kl(){return nl.post("",{action:rl.GET_PUSH_AUTOMATION_CAMPAIGNS})}var _l=sr("reviews/fetchReviews",(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,il({action:rl.GET_REVIEW_NOTICE});case 2:return t=e.sent,e.abrupt("return",(null===t||void 0===t?void 0:t.data)||{});case 4:case"end":return e.stop()}}),e)})))),Cl=sr("reviews/onClickReviewAction",function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,il((0,kn.Z)((0,kn.Z)({},t),{},{action:rl.DISMISS_REVIEW_NOTICE}));case 2:return n=e.sent,e.abrupt("return",(null===n||void 0===n?void 0:n.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jl=tr({name:"reviews",initialState:{reviewDetails:null,loading:!1},reducers:{},extraReducers:(tl={},(0,ti.Z)(tl,_l.pending.type,(function(e){e.loading=!0})),(0,ti.Z)(tl,_l.fulfilled.type,(function(e,t){var n;e.loading=!1,e.reviewDetails=(null===(n=t.payload)||void 0===n?void 0:n.review)||null})),(0,ti.Z)(tl,Cl.fulfilled.type,(function(e){e.reviewDetails=null})),tl)}).reducer,Sl=n(45987),Zl=n(46123),Nl=n.n(Zl),El=(0,oe.createContext)({}),Ol=n(71002),Al=n(17819),Tl=n(48240),Pl=n(73233),Ml="rc-util-key";function Il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Ml}function Dl(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Ll(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,Pl.Z)())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var a=Dl(n),o=a.firstChild;return n.prepend&&a.prepend?a.prepend(i):n.prepend&&o?a.insertBefore(i,o):a.appendChild(i),i}var Rl=new Map;function Bl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Dl(t);return Array.from(Rl.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Il(t))===e}))}function Fl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Dl(n);if(!Rl.has(r)){var i=Ll("",n),a=i.parentNode;Rl.set(r,a),a.removeChild(i)}var o=Bl(t,n);if(o){var s,l,c;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&o.nonce!==(null===(l=n.csp)||void 0===l?void 0:l.nonce))o.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var u=Ll(e,n);return u.setAttribute(Il(n),t),u}function zl(e,t){(0,Tl.ZP)(e,"[@ant-design/icons] ".concat(t))}function Vl(e){return"object"===(0,Ol.Z)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,Ol.Z)(e.icon)||"function"===typeof e.icon)}function Ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function Hl(e,t,n){return n?oe.createElement(e.tag,(0,kn.Z)((0,kn.Z)({key:t},Ul(e.attrs)),n),(e.children||[]).map((function(n,r){return Hl(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):oe.createElement(e.tag,(0,kn.Z)({key:t},Ul(e.attrs)),(e.children||[]).map((function(n,r){return Hl(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function Wl(e){return(0,Al.generate)(e)[0]}function ql(e){return e?Array.isArray(e)?e:[e]:[]}var Kl={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},Yl="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",Gl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl,t=(0,oe.useContext)(El),n=t.csp;(0,oe.useEffect)((function(){Fl(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])},Ql=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],Xl=oe.forwardRef((function(e,t){var n=e.className,r=e.component,i=e.viewBox,a=e.spin,o=e.rotate,s=e.tabIndex,l=e.onClick,c=e.children,u=(0,Sl.Z)(e,Ql);zl(Boolean(r||c),"Should have `component` prop or `children`."),Gl();var d=oe.useContext(El).prefixCls,p=void 0===d?"anticon":d,f=Nl()(p,n),h=Nl()((0,ti.Z)({},"".concat(p,"-spin"),!!a)),g=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,m=(0,kn.Z)((0,kn.Z)({},Kl),{},{className:h,style:g,viewBox:i});i||delete m.viewBox;var v=s;return void 0===v&&l&&(v=-1),oe.createElement("span",(0,kn.Z)((0,kn.Z)({role:"img"},u),{},{ref:t,tabIndex:v,onClick:l,className:f}),r?oe.createElement(r,(0,kn.Z)({},m),c):c?(zl(Boolean(i)||1===oe.Children.count(c)&&oe.isValidElement(c)&&"use"===oe.Children.only(c).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),oe.createElement("svg",(0,kn.Z)((0,kn.Z)({},m),{},{viewBox:i}),c)):null)}));Xl.displayName="AntdIcon";var $l,Jl,ec,tc,nc,rc=Xl,ic=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",focusable:"false","data-icon":"pe-usergroup-add","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,st.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,st.jsx)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),(0,st.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}))},ac=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:ic},e))},oc=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 13 13",fill:"currentColor",focusable:"false","data-icon":"pe-Send-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M11.3125 0.664062L1.5625 6.28906C0.742188 6.75781 0.8125 7.95312 1.67969 8.30469L4.375 9.40625V11.375C4.375 12.4766 5.75781 12.9219 6.39062 12.0547L7.42188 10.6719L10.0469 11.75C10.1875 11.8203 10.3281 11.8438 10.4688 11.8438C10.6562 11.8438 10.8438 11.7969 11.0312 11.7031C11.3359 11.5156 11.5234 11.2344 11.5938 10.8828L12.9766 1.8125C13.1172 0.875 12.1094 0.195312 11.3125 0.664062ZM5.5 11.375V9.875L6.34375 10.2266L5.5 11.375ZM10.4688 10.7188L6.85938 9.21875L10.1641 4.48438C10.3984 4.10938 9.92969 3.6875 9.60156 3.99219L4.63281 8.30469L2.125 7.25L11.875 1.625L10.4688 10.7188Z"})}))},sc=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:oc},e))},lc=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({width:"1em",height:"1em",viewBox:"0 0 13 12",fill:"currentColor",focusable:"false","data-icon":"pe-plus-outlined"},e),{},{"aria-hidden":"true",children:(0,st.jsx)("path",{d:"M10.7422 0.546875H10.1406C9.99023 0.546875 9.88281 0.675781 9.88281 0.826172L9.92578 2.93164C8.98047 1.49219 7.32617 0.546875 5.47852 0.568359C2.53516 0.568359 0.150391 2.97461 0.171875 5.89648C0.171875 8.83984 2.55664 11.2031 5.5 11.2031C6.85352 11.2031 8.12109 10.6875 9.06641 9.84961C9.17383 9.74219 9.17383 9.57031 9.06641 9.46289L8.63672 9.0332C8.55078 8.94727 8.40039 8.94727 8.29297 9.0332C7.54102 9.69922 6.57422 10.0859 5.5 10.0859C3.1582 10.0859 1.28906 8.2168 1.28906 5.875C1.28906 3.55469 3.1582 1.66406 5.5 1.66406C7.19727 1.66406 8.6582 2.69531 9.32422 4.15625L6.61719 4.0918C6.4668 4.0918 6.35938 4.19922 6.35938 4.34961V4.92969C6.35938 5.08008 6.4668 5.1875 6.61719 5.1875H10.7422C10.8711 5.1875 11 5.08008 11 4.92969V0.804688C11 0.675781 10.8711 0.546875 10.7422 0.546875Z"})}))},cc=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:lc},e))},uc=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 51 45",fill:"currentColor",focusable:"false","data-icon":"pe-shopping-cart-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M47.9352 6H11.6696L10.8962 2.21875C10.7243 1.27344 9.86491 0.5 8.9196 0.5H1.61491C1.01335 0.5 0.583664 1.01562 0.583664 1.53125V2.21875C0.583664 2.82031 1.01335 3.25 1.61491 3.25H8.31804L14.3337 35.3047C13.4743 36.3359 12.9587 37.625 12.9587 39C12.9587 42.0938 15.3649 44.5 18.4587 44.5C21.4665 44.5 23.9587 42.0938 23.9587 39C23.9587 38.0547 23.6149 37.1094 23.1852 36.25H35.6462C35.2165 37.1094 34.9587 38.0547 34.9587 39C34.9587 42.0938 37.3649 44.5 40.4587 44.5C43.4665 44.5 45.9587 42.0938 45.9587 39C45.9587 37.5391 45.2712 36.0781 44.2399 35.1328C44.068 34.1875 43.2087 33.5 42.2634 33.5H16.8259L15.7946 28H44.2399C45.2712 28 46.0446 27.3984 46.3024 26.3672L49.9977 8.49219C50.2555 7.20312 49.3102 6 47.9352 6ZM21.2087 39C21.2087 40.5469 19.9196 41.75 18.4587 41.75C16.9118 41.75 15.7087 40.5469 15.7087 39C15.7087 37.5391 16.9118 36.25 18.4587 36.25C19.9196 36.25 21.2087 37.5391 21.2087 39ZM40.4587 41.75C38.9118 41.75 37.7087 40.5469 37.7087 39C37.7087 37.5391 38.9118 36.25 40.4587 36.25C41.9196 36.25 43.2087 37.5391 43.2087 39C43.2087 40.5469 41.9196 41.75 40.4587 41.75ZM43.7243 25.25H15.279L12.1852 8.75H47.1618L43.7243 25.25Z"})}))},dc=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:uc},e))},pc=[{id:"buildSubscriberList",title:Ua("Build Subscriber List"),description:Ua("You\u2019re all set to grow your audience and maximize engagement.","pushengage"),trackStep:!0,icon:ac,actionBtnText:Ua("Build Subscriber List","pushengage")},{id:"addCampaigns",title:Ua("Add Campaigns"),description:Ua("Grow your audience to boost engagement and conversions","pushengage"),trackStep:!0,icon:sc,actionBtnText:Ua("Add Campaigns","pushengage")},{id:"setupRetargeting",title:Ua("Setup Retargeting"),description:Ua("Deliver targeted push notifications that bring users back and increase conversions.","pushengage"),trackStep:!0,icon:cc,actionBtnText:Ua("Setup Retargeting","pushengage")},{id:"recoverSales",title:Ua("Recover Sales"),trackStep:!0,description:Ua("Win back abandoned carts and recover lost revenue with automated campaigns.","pushengage"),icon:dc,actionBtnText:Ua("Recover Sales","pushengage"),stepCompleted:null!==($l=null===(Jl=window)||void 0===Jl||null===(ec=Jl.pushengage)||void 0===ec?void 0:ec.isPEWooCommerceConnected)&&void 0!==$l&&$l},{id:"finalStep",title:Ua("Final Step"),trackStep:!1}],fc=function(){var e={};try{e=JSON.parse(localStorage.getItem(ni.onboarding)||"{}")}catch(t){e={}}return e},hc=function(){var e=function(){var e=[].concat(pc);return Yo||(e=e.filter((function(e){return"recoverSales"!==e.id}))),e}(),t=fc(),n=null===t||void 0===t?void 0:t.currentStepId,r=e.map((function(e){return{id:e.id,title:e.title,description:e.description,status:"pending",icon:(null===e||void 0===e?void 0:e.icon)||null,actionBtnText:(null===e||void 0===e?void 0:e.actionBtnText)||null}})).map((function(e){return e.id===n&&(e.status="in_progress"),e})).filter((function(e){return"finalStep"!==e.id})),i=[{id:1,title:Ua("Setup Your Site","pushengage"),status:"completed",description:Ua("Your notification system is ready to start reaching customers.","pushengage")}].concat((0,we.Z)(r)),a=i.filter((function(e){return"completed"===e.status})).length,o=i.find((function(e){return"in_progress"===e.status}));return{tasks:i,totalSteps:i.length,completedSteps:a,inProgressTask:o?o.title:null}},gc=function(e){var t="pe_".concat($a());localStorage.setItem(ni.connectionRequestId,t),window.location.href="".concat(e,"&connection_type=redirection&request_id=").concat(t)},mc=["icon"],vc=function(e){return e.map((function(e){e.icon;return(0,Sl.Z)(e,mc)}))},yc=hc(),bc=tr({name:"onboardingTasks",initialState:{tasks:vc(yc.tasks),completedSteps:yc.completedSteps,totalSteps:yc.totalSteps,inProgressTask:yc.inProgressTask,isLoading:!1},reducers:{setTasks:function(e,t){var n,r,i;e.tasks=t.payload,e.completedSteps=t.payload.filter((function(e){return"completed"===e.status})).length,e.totalSteps=t.payload.length,e.inProgressTask=null!==(n=null===(r=t.payload.find((function(e){return"in_progress"===e.status})))||void 0===r||null===(i=r.id)||void 0===i?void 0:i.toString())&&void 0!==n?n:null},updateTaskStatus:function(e,t){var n,r,i,a=t.payload,o=a.taskId,s=a.status,l=e.tasks.findIndex((function(e){return e.id===o}));-1!==l&&(e.tasks[l].status=s,e.completedSteps=e.tasks.filter((function(e){return"completed"===e.status})).length,e.inProgressTask=null!==(n=null===(r=e.tasks.find((function(e){return"in_progress"===e.status})))||void 0===r||null===(i=r.id)||void 0===i?void 0:i.toString())&&void 0!==n?n:null)},setInProgressTask:function(e,t){e.inProgressTask=t.payload},setLoading:function(e,t){e.isLoading=t.payload},resetTasks:function(e){var t=hc();e.tasks=vc(t.tasks),e.completedSteps=t.completedSteps,e.totalSteps=t.totalSteps,e.inProgressTask=t.inProgressTask},updateNextPendingTask:function(e){if(!e.tasks.some((function(e){return"in_progress"===e.status}))){var t=e.tasks.findIndex((function(e){return"pending"===e.status}));if(-1!==t){var n,r;e.tasks[t].status="in_progress",e.inProgressTask=null!==(n=null===(r=e.tasks[t].id)||void 0===r?void 0:r.toString())&&void 0!==n?n:null;var i=fc();localStorage.setItem(ni.onboarding,JSON.stringify((0,kn.Z)((0,kn.Z)({},i),{},{current:t>0?t-1:0,currentStepId:e.tasks[t].id})))}}}}}),xc=bc.actions,wc=xc.setTasks,kc=(xc.updateTaskStatus,xc.setInProgressTask,xc.setLoading),_c=(xc.resetTasks,xc.updateNextPendingTask),Cc=function(e){return e.onboardingTasks.tasks},jc=function(e){return e.onboardingTasks.completedSteps},Sc=function(e){return e.onboardingTasks.totalSteps},Zc=function(e){return e.onboardingTasks.inProgressTask},Nc=function(e){return e.onboardingTasks.isLoading},Ec=En({session:Qr,globals:os,siteSettings:ws,audiences:Ms,audienceGroups:Us,challenge:qs,onboardingTasks:bc.reducer,templates:$s,review:jl}),Oc=function(e){var t,n=$n(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,l=r.devTools,c=void 0===l||l,u=r.preloadedState,d=void 0===u?void 0:u,p=r.enhancers,f=void 0===p?void 0:p;if("function"===typeof a)t=a;else{if(!Gn(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=En(a)}var h=s;"function"===typeof h&&(h=h(n));var g=An.apply(void 0,h),m=On;c&&(m=Yn(Wn({trace:!1},"object"===typeof c&&c)));var v=[g];return Array.isArray(f)?v=Ln([g],f):"function"===typeof f&&(v=f(v)),Nn(t,d,m.apply(void 0,v))}({reducer:function(e,t){return Ec(e,t)}}),Ac=n(60136),Tc=n(27277),Pc=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;(0,Za.Z)(this,n),(r=t.call(this,e.message)).originalAxiosError=void 0,r.name=void 0,r.message=void 0,r.code=void 0,r.status=void 0,r.isAPIError=void 0,r.details=void 0,r.stack=(new Error).stack,r.originalAxiosError=e,r.name="APIError",r.isAPIError=!0,r.message=e.message;if(e.response)if("ERR_NETWORK"===(null===e||void 0===e?void 0:e.code))r.message=Ua("There was an error connecting to the PushEngage server. Please Check your internet connection and try again.","pushengage");else{var i,a,o,s,l,c=e.response,u=c.status,d=c.data;if(r.status=u,null!==d&&void 0!==d&&d.error)r.name=(null===d||void 0===d||null===(i=d.error)||void 0===i?void 0:i.name)||"APIError",r.message=(null===d||void 0===d||null===(a=d.error)||void 0===a?void 0:a.message)||e.message,r.details=null===d||void 0===d||null===(o=d.error)||void 0===o?void 0:o.details,r.status=(null===d||void 0===d||null===(s=d.error)||void 0===s?void 0:s.status)||u,r.code=null===d||void 0===d||null===(l=d.error)||void 0===l?void 0:l.code;u>=500&&(r.message=Ua("An error occurred at the PushEngage servers. Please try again after some time.","pushengage"))}else r.message=Ua("There was an error connecting to the PushEngage server. Please try again.","pushengage");return r}return(0,Sa.Z)(n,[{key:"toObject",value:function(){return(0,kn.Z)((0,kn.Z)({},this),{},{message:this.message})}}]),n}((0,n(98737).Z)(Error)),Mc=function(e){var t=new Pc(e);if(!e.config.disableGlobalErrorHandler){var n={message:t.message,details:t.details,isLoginRequired:!1};401===t.status&&(n.isLoginRequired=!0),Oc.dispatch(Br(n))}return Promise.reject(t)},Ic=Qo().create({baseURL:(null===(tc=window)||void 0===tc||null===(nc=tc.pushengage)||void 0===nc?void 0:nc.apiBaseUrl)||"https://a.pusheapi.com/d/v1/"});function Dc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return Ic((0,kn.Z)({method:t,url:e,data:n,cancelToken:window.axiosSource.token},r))}Ic.interceptors.request.use((function(e){var t=Oc.getState().session,n=t.apiKey,r=t.wpVersion,i=t.peVersion;return null!=n&&(e.headers=(0,kn.Z)({"Content-Type":"application/json","x-pe-api-key":"".concat(n),"x-pe-client":"WordPress","x-pe-client-version":"".concat(r),"x-pe-sdk-version":"".concat(i)},e.headers)),e}),Mc),Ic.interceptors.response.use((function(e){var t=e.data.user;if(!t)return Promise.resolve(e);var n=Oc.getState().session.user;return null!==n&&void 0!==n&&n.site&&!t.site&&(t.site=n.site),Zi()(t,n)||Oc.dispatch(Rr(t)),Promise.resolve(e)}),Mc),window.axiosSource=Qo().CancelToken.source();var Lc={get:function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dc(t,"GET",void 0,n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),post:function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n,r){var i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dc(t,"POST",n,r);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),put:function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n,r){var i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dc(t,"PUT",n,r);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),patch:function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n,r){var i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dc(t,"PATCH",n,r);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),delete:function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n,r){var i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dc(t,"DELETE",n,r);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()};function Rc(e,t){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eo(n),e.abrupt("return",Lc.get("users/".concat(t,"/alerts").concat(r)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(e,t){return zc.apply(this,arguments)}function zc(){return(zc=(0,at.Z)((0,it.Z)().mark((function e(t,n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.delete("users/".concat(t,"/alerts/").concat(n||"")));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(86234);var Vc,Uc=n(89917),Hc=(n(38452),n(28216)),Wc=(n(35127),n(8075)),qc=(n(23844),n(73002)),Kc=(n(6060),n(40079)),Yc=(n(29841),n(30137)),Gc=Object.freeze({baseDashboardAppUrl:(null===(Vc=window.pushengage)||void 0===Vc?void 0:Vc.appDashboardUrl)||"https://app.pushengage.com"}),Qc=function(e){var t=(0,kn.Z)({utm_source:"Wordpress",utm_campaign:"Plugin"},e);return Eo(t=aa()(t,(function(e){return null!==e&&""!==e&&void 0!==e})))},Xc=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 10 10",fill:"currentColor",focusable:"false","data-icon":"pe-close-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M10 1.00714L8.99286 0L5 3.99286L1.00714 0L0 1.00714L3.99286 5L0 8.99286L1.00714 10L5 6.00714L8.99286 10L10 8.99286L6.00714 5L10 1.00714Z"})}))},$c=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Xc},e))},Jc=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",focusable:"false","data-icon":"pe-magnifying-glass-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M11.1292 9.87919H10.4709L10.2375 9.65419C11.0542 8.70419 11.5459 7.47086 11.5459 6.12919C11.5459 3.13752 9.12086 0.712524 6.12919 0.712524C3.13752 0.712524 0.712524 3.13752 0.712524 6.12919C0.712524 9.12086 3.13752 11.5459 6.12919 11.5459C7.47086 11.5459 8.70419 11.0542 9.65419 10.2375L9.87919 10.4709V11.1292L14.0459 15.2875L15.2875 14.0459L11.1292 9.87919ZM6.12919 9.87919C4.05419 9.87919 2.37919 8.20419 2.37919 6.12919C2.37919 4.05419 4.05419 2.37919 6.12919 2.37919C8.20419 2.37919 9.87919 4.05419 9.87919 6.12919C9.87919 8.20419 8.20419 9.87919 6.12919 9.87919Z"})}))},eu=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Jc},e))},tu=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",focusable:"false","data-icon":"pe-memo-outlined","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M13.8333 2.16667V13.8333H2.16667V2.16667H13.8333ZM13.8333 0.5H2.16667C1.25 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.25 15.5 2.16667 15.5H13.8333C14.75 15.5 15.5 14.75 15.5 13.8333V2.16667C15.5 1.25 14.75 0.5 13.8333 0.5Z"}),(0,st.jsx)("path",{d:"M9.66667 12.1667H3.83333V10.5H9.66667V12.1667ZM12.1667 8.83333H3.83333V7.16667H12.1667V8.83333ZM12.1667 5.5H3.83333V3.83333H12.1667V5.5Z"})]}))},nu=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:tu},e))},ru=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 32 40",fill:"currentColor",focusable:"false","data-icon":"pe-page-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M20 0H4C1.8 0 0.0200005 1.8 0.0200005 4L0 36C0 38.2 1.78 40 3.98 40H28C30.2 40 32 38.2 32 36V12L20 0ZM4 36V4H18V14H28V36H4Z"})}))},iu=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:ru},e))},au=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 40 40",fill:"currentColor",focusable:"false","data-icon":"pe-life-ring-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M20 0C8.96 0 0 8.96 0 20C0 31.04 8.96 40 20 40C31.04 40 40 31.04 40 20C40 8.96 31.04 0 20 0ZM34.92 14.24L29.36 16.54C28.34 13.82 26.2 11.66 23.46 10.66L25.76 5.1C29.96 6.7 33.3 10.04 34.92 14.24ZM20 26C16.68 26 14 23.32 14 20C14 16.68 16.68 14 20 14C23.32 14 26 16.68 26 20C26 23.32 23.32 26 20 26ZM14.26 5.08L16.6 10.64C13.84 11.64 11.66 13.82 10.64 16.58L5.08 14.26C6.7 10.04 10.04 6.7 14.26 5.08ZM5.08 25.74L10.64 23.44C11.66 26.2 13.82 28.36 16.58 29.36L14.24 34.92C10.04 33.3 6.7 29.96 5.08 25.74ZM25.76 34.92L23.46 29.36C26.2 28.34 28.36 26.18 29.36 23.42L34.92 25.76C33.3 29.96 29.96 33.3 25.76 34.92Z"})}))},ou=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:au},e))},su=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 28 22",fill:"currentColor",focusable:"false","data-icon":"pe-folder-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M10.2266 3.00004L12.8933 5.66671H24.6666V19H3.33329V3.00004H10.2266ZM11.3333 0.333374H3.33329C1.86663 0.333374 0.679959 1.53337 0.679959 3.00004L0.666626 19C0.666626 20.4667 1.86663 21.6667 3.33329 21.6667H24.6666C26.1333 21.6667 27.3333 20.4667 27.3333 19V5.66671C27.3333 4.20004 26.1333 3.00004 24.6666 3.00004H14L11.3333 0.333374Z"})}))},lu=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:su},e))},cu=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 10 16",fill:"currentColor",focusable:"false","data-icon":"pe-circle-dollar-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M1.94006 0L0.0600586 1.88L6.16673 8L0.0600586 14.12L1.94006 16L9.94006 8L1.94006 0Z"})}))},uu=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:cu},e))},du=mt.Z.Paragraph,pu=mt.Z.Text,fu=mt.Z.Title,hu=function(e){var t=bt(Ur),n=(0,oe.useState)(""),r=(0,xe.Z)(n,2),i=r[0],a=r[1],o=(0,oe.useState)([]),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(["getting-started"]),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,vt.TH)();(0,oe.useEffect)((function(){var t,n,r=[];null===(t=e.helpDocumentData)||void 0===t||null===(n=t.docs)||void 0===n||n.forEach((function(e){var t=[];if((t=i?null===i||void 0===i?void 0:i.toLowerCase().split(" "):h.pathname.toLowerCase().split(/[/-]/).filter((function(e){return!!e.length}))).length){var n,a=new RegExp(t.join("|")),o="".concat(null===(n=e.title)||void 0===n?void 0:n.toLowerCase()," ").concat(e.url.toLowerCase());null!==o&&void 0!==o&&o.match(a)&&r.push(e)}})),c(r)}),[i,e.helpDocumentData,h]);var g=function(t){var n=[];return e.helpDocumentData.docs.forEach((function(e){e.categories.includes(t)&&n.push(e)})),n};return(0,st.jsx)(Uc.Z,{width:"100%",visible:e.showHelpDrawer,className:"pe-help-drawer",closeIcon:(0,st.jsx)($c,{className:"pe-fs-18"}),onClose:function(){e.closeHelpDrawer(),a("")},title:(0,st.jsx)("a",{href:"https://www.pushengage.com/wordpress-pricing/".concat(Qc({utm_medium:"HelpPanelDoc",utm_content:"Header Logo"})),target:"_blank",rel:"noreferrer",children:(0,st.jsx)("img",{width:"163",src:"".concat(window.pushengage.assetsUrl,"img/pushengage-logo.svg"),alt:""})}),children:(0,st.jsx)(Hc.default,{spinning:e.loadingHelpDocumentData,children:(0,st.jsxs)("div",{className:"pe-mx-auto",style:{maxWidth:"694px"},children:[(0,st.jsx)(Yc.default,{size:"large",className:"pe-mb-38 pe-h-48",prefix:(0,st.jsx)(eu,{}),placeholder:"Ask a question or search the docs",value:i,onChange:function(e){a(e.target.value)}}),(0,st.jsx)("div",{className:"pe-help-drawer-searched-items",children:null===l||void 0===l?void 0:l.map((function(e){return(0,st.jsxs)(Kc.default.Item,{className:"pe-cursor-pointer pe-color-neutral-50 pe-fw-600 pe-ml-20",onClick:function(){window.open("".concat(e.url).concat(Qc({utm_medium:"HelpPanelDoc"})),"_blank")},children:[(0,st.jsx)(nu,{className:"pe-mr-14 pe-fs-15 pe-color-neutral-15"}),e.title]},e.title)}))}),(0,st.jsx)(qc.Z,{className:"pe-help-drawer-collapse",expandIconPosition:"end",activeKey:p,expandIcon:function(){return null},onChange:function(e){f(e)},children:Object.keys(e.helpDocumentData.categories).map((function(t){return(0,st.jsxs)(qc.Z.Panel,{header:(0,st.jsxs)(dt.Z,{justify:"space-between",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsxs)(du,{children:[(0,st.jsx)(lu,{className:"pe-fs-26 pe-mr-12",style:{color:"#777777"}}),(0,st.jsx)(pu,{className:"pe-fs-16 pe-fw-600",style:{verticalAlign:"text-bottom"},children:Ii()(e,"helpDocumentData.categories.[".concat(t,"].label"))})]})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(uu,{className:"pe-color-neutral-50 pe-fs-16",rotate:p.includes(t)?90:0})})]}),children:[(0,st.jsx)(Kc.default,{className:"pe-help-drawer-list",dataSource:g(t),renderItem:function(e){return(0,st.jsxs)(Kc.default.Item,{className:"pe-cursor-pointer pe-color-neutral-50 pe-fw-600",onClick:function(){window.open("".concat(e.url).concat(Qc({utm_medium:"HelpPanelDoc"})),"_blank")},children:[(0,st.jsx)(nu,{className:"pe-mr-14 pe-fs-15 pe-color-neutral-15"}),e.title]})}}),(0,st.jsx)(pt.default,{size:"large",className:"pe-mt-4 pe-fs-13 pe-fw-600",onClick:function(){window.open("".concat(Ii()(e,"helpDocumentData.categories.[".concat(t,"].btnUrl"))).concat(Qc({utm_medium:"HelpPanelDoc",utm_content:Ii()(e,"helpDocumentData.categories.[".concat(t,"].btnLabel"))})),"_blank")},children:Ii()(e,"helpDocumentData.categories.[".concat(t,"].btnLabel"))})]},t)}))}),(0,st.jsxs)(dt.Z,{className:"pe-mt-42 pe-mb-200",gutter:[36,16],children:[(0,st.jsx)(ht.Z,{span:24,sm:12,children:(0,st.jsxs)(Wc.Z,{className:"pe-help-card",children:[(0,st.jsx)(iu,{className:"pe-fs-40 pe-mb-20 pe-d-block pe-color-neutral-40"}),(0,st.jsx)(fu,{level:3,className:"pe-ta-center pe-fw-600 pe-mb-16",children:"View Documentation"}),(0,st.jsx)(du,{type:"secondary",className:"pe-fs-16 pe-ta-center",children:"Browse documentation, references, and tutorials for PushEngage."}),(0,st.jsx)(pt.default,{size:"large",className:"pe-d-block pe-mx-auto pe-fs-13 pe-fw-600 pe-w-217",onClick:function(){window.open("https://www.pushengage.com/documentation/".concat(Qc({utm_medium:"HelpPanelDoc",utm_content:"View All Documentation"})),"_blank")},children:"View All Documentation"})]})}),(0,st.jsx)(ht.Z,{span:24,sm:12,children:(0,st.jsxs)(Wc.Z,{className:"pe-help-card",children:[(0,st.jsx)(ou,{className:"pe-fs-40 pe-mb-20 pe-d-block  pe-color-neutral-40"}),(0,st.jsx)(fu,{level:3,className:"pe-ta-center pe-fw-600 pe-mb-16",children:"Get Support"}),(0,st.jsx)(du,{type:"secondary",className:"pe-fs-16 pe-ta-center",children:"Submit a ticket and our world class support team will be in touch soon."}),(0,st.jsx)(pt.default,{size:"large",className:"support-btn pe-d-block pe-mx-auto pe-fs-14 pe-fw-700 pe-w-217",onClick:function(){window.open("".concat(Gc.baseDashboardAppUrl,"/account/support").concat(Qc({sid:t,utm_medium:"HelpPanelDoc",utm_content:"Get Support"})),"_blank")},children:"Get Support"})]})})]})]})})})},gu=(n(64949),n(47468)),mu=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 21 20",fill:"currentColor",focusable:"false","data-icon":"pe-gear-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7518 9.99996C16.7518 10.2833 16.7268 10.55 16.6935 10.8166L18.4518 12.1916C18.6102 12.3166 18.6518 12.5416 18.5518 12.725L16.8852 15.6083C16.8102 15.7416 16.6685 15.8166 16.5268 15.8166C16.4768 15.8166 16.4268 15.8083 16.3768 15.7916L14.3018 14.9583C13.8685 15.2833 13.4018 15.5666 12.8935 15.775L12.5768 17.9833C12.5518 18.1833 12.3768 18.3333 12.1685 18.3333H8.83515C8.62682 18.3333 8.45182 18.1833 8.42682 17.9833L8.11015 15.775C7.60182 15.5666 7.13515 15.2916 6.70182 14.9583L4.62682 15.7916C4.58515 15.8083 4.53515 15.8166 4.48515 15.8166C4.33515 15.8166 4.19349 15.7416 4.11849 15.6083L2.45182 12.725C2.35182 12.5416 2.39349 12.3166 2.55182 12.1916L4.31015 10.8166C4.27682 10.55 4.25182 10.275 4.25182 9.99996C4.25182 9.72496 4.27682 9.44996 4.31015 9.18329L2.55182 7.80829C2.39349 7.68329 2.34349 7.45829 2.45182 7.27496L4.11849 4.39163C4.19349 4.25829 4.33515 4.18329 4.47682 4.18329C4.52682 4.18329 4.57682 4.19163 4.62682 4.20829L6.70182 5.04163C7.13515 4.71663 7.60182 4.43329 8.11015 4.22496L8.42682 2.01663C8.45182 1.81663 8.62682 1.66663 8.83515 1.66663H12.1685C12.3768 1.66663 12.5518 1.81663 12.5768 2.01663L12.8935 4.22496C13.4018 4.43329 13.8685 4.70829 14.3018 5.04163L16.3768 4.20829C16.4185 4.19163 16.4685 4.18329 16.5185 4.18329C16.6685 4.18329 16.8102 4.25829 16.8852 4.39163L18.5518 7.27496C18.6518 7.45829 18.6102 7.68329 18.4518 7.80829L16.6935 9.18329C16.7268 9.44996 16.7518 9.71663 16.7518 9.99996ZM15.0852 9.99996C15.0852 9.82496 15.0768 9.64996 15.0435 9.39163L14.9268 8.44996L15.6685 7.86663L16.5602 7.15829L15.9768 6.14996L14.9185 6.57496L14.0352 6.93329L13.2768 6.34996C12.9435 6.09996 12.6102 5.90829 12.2518 5.75829L11.3685 5.39996L11.2352 4.45829L11.0768 3.33329H9.91849L9.75182 4.45829L9.61849 5.39996L8.73515 5.75829C8.39349 5.89996 8.05182 6.09996 7.69349 6.36663L6.94349 6.93329L6.07682 6.58329L5.01849 6.15829L4.43515 7.16663L5.33515 7.86663L6.07682 8.44996L5.96015 9.39163C5.93515 9.64163 5.91849 9.83329 5.91849 9.99996C5.91849 10.1666 5.93515 10.3583 5.96015 10.6166L6.07682 11.5583L5.33515 12.1416L4.43515 12.8416L5.01849 13.85L6.07682 13.425L6.96015 13.0666L7.71849 13.65C8.05182 13.9 8.38515 14.0916 8.74349 14.2416L9.62682 14.6L9.76015 15.5416L9.91849 16.6666H11.0852L11.2518 15.5416L11.3852 14.6L12.2685 14.2416C12.6102 14.1 12.9518 13.9 13.3102 13.6333L14.0602 13.0666L14.9268 13.4166L15.9852 13.8416L16.5685 12.8333L15.6685 12.1333L14.9268 11.55L15.0435 10.6083C15.0685 10.3583 15.0852 10.175 15.0852 9.99996ZM10.5018 6.66663C8.66015 6.66663 7.16849 8.15829 7.16849 9.99996C7.16849 11.8416 8.66015 13.3333 10.5018 13.3333C12.3435 13.3333 13.8352 11.8416 13.8352 9.99996C13.8352 8.15829 12.3435 6.66663 10.5018 6.66663ZM8.83515 9.99996C8.83515 10.9166 9.58515 11.6666 10.5018 11.6666C11.4185 11.6666 12.1685 10.9166 12.1685 9.99996C12.1685 9.08329 11.4185 8.33329 10.5018 8.33329C9.58515 8.33329 8.83515 9.08329 8.83515 9.99996Z"})}))},vu=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:mu},e))},yu=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 17 18",fill:"currentColor",focusable:"false","data-icon":"pe-circle-check-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M8.49996 0.666626C3.89996 0.666626 0.166626 4.39996 0.166626 8.99996C0.166626 13.6 3.89996 17.3333 8.49996 17.3333C13.1 17.3333 16.8333 13.6 16.8333 8.99996C16.8333 4.39996 13.1 0.666626 8.49996 0.666626ZM8.49996 15.6666C4.82496 15.6666 1.83329 12.675 1.83329 8.99996C1.83329 5.32496 4.82496 2.33329 8.49996 2.33329C12.175 2.33329 15.1666 5.32496 15.1666 8.99996C15.1666 12.675 12.175 15.6666 8.49996 15.6666ZM12.325 5.31663L6.83329 10.8083L4.67496 8.65829L3.49996 9.83329L6.83329 13.1666L13.5 6.49996L12.325 5.31663Z"})}))},bu=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:yu},e))},xu=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 17 18",fill:"currentColor",focusable:"false","data-icon":"pe-circle-exclamation-filled","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M7.66663 4.83329H9.33329V6.49996H7.66663V4.83329ZM7.66663 8.16663H9.33329V13.1666H7.66663V8.16663ZM8.49996 0.666626C3.89996 0.666626 0.166626 4.39996 0.166626 8.99996C0.166626 13.6 3.89996 17.3333 8.49996 17.3333C13.1 17.3333 16.8333 13.6 16.8333 8.99996C16.8333 4.39996 13.1 0.666626 8.49996 0.666626ZM8.49996 15.6666C4.82496 15.6666 1.83329 12.675 1.83329 8.99996C1.83329 5.32496 4.82496 2.33329 8.49996 2.33329C12.175 2.33329 15.1666 5.32496 15.1666 8.99996C15.1666 12.675 12.175 15.6666 8.49996 15.6666Z"})}))},wu=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:xu},e))},ku=(n(17053),n(87881));function _u(){var e=ku.default.useBreakpoint();return(0,kn.Z)((0,kn.Z)({},e),{},{isMobile:!e.md,isTablet:e.md&&!e.lg,isDesktop:e.lg})}n(70374);var Cu=n(85230),ju=mt.Z.Paragraph,Su=mt.Z.Text,Zu=function(e){var t=yt(),n=bt((function(e){return e.review.reviewDetails})),r=function(){var n=(0,at.Z)((0,it.Z)().mark((function n(r,i){return(0,it.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.handleAlertLoading(!0),n.next=3,t(Cl({clicked_review_action:r}));case 3:e.handleAlertLoading(!1),i&&window.open(i,"_blank");case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return n?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Kc.default.Item,{children:(0,st.jsx)(Kc.default.Item.Meta,{avatar:(0,st.jsx)(bu,{className:"pe-fs-16",style:{color:"#09A347"}}),title:(0,st.jsx)(Su,{className:"pe-fs-14 pe-fw-600",children:n.title}),description:(0,st.jsxs)("div",{children:[(0,st.jsx)(ju,{className:"pe-fs-14 pe-fw-500 pe-color-neutral-60 pe-mb-8",children:n.message}),(0,st.jsxs)(dt.Z,{gutter:[12,12],children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",className:"pe-fs-13 pe-fw-600 pe-px-14",type:"primary",onClick:function(){return r("dismissed",n.url)},children:"Ok, you deserve it"})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",className:"pe-fs-13 pe-fw-600 pe-px-14",onClick:function(){return r("later")},children:"Nope, maybe later"})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",type:"text",className:"pe-fs-13 pe-fw-600",onClick:function(){return r("dismissed")},children:"I already did"})})]})]})})},"".concat(null===n||void 0===n?void 0:n.title,"-").concat(null===n||void 0===n?void 0:n.alert_id)),(0,st.jsx)(Cu.Z,{className:"pe-my-0",style:{borderTop:"1px solid #f0f0f0"}})]}):null},Nu=mt.Z.Paragraph,Eu=mt.Z.Text,Ou=function(e){var t=_u(),n=bt((function(e){var t,n;return null===e||void 0===e||null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.user_id})),r=bt(Ur),i=(0,oe.useState)([]),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)(1),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=bt((function(e){var t;return null===e||void 0===e||null===(t=e.review)||void 0===t?void 0:t.reviewDetails}));(0,oe.useEffect)((function(){if(e.alerts.length){var t=5*u-5,n=5*u,r=sa()(e.alerts,t,n);return r.length||d(u-1),void s(r)}s(e.alerts)}),[e.alerts,5,u]);var f=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.handleAlertLoading(!0),t.next=4,Fc(n);case 4:e.handleAlertLoading(!1),e.updateAlerts([]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.handleAlertLoading(!1);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(r){var i;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.handleAlertLoading(!0),t.next=4,Fc(n,r);case 4:e.handleAlertLoading(!1),i=e.alerts.filter((function(e){return e.alert_id!==r})),e.updateAlerts(i),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.handleAlertLoading(!1);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),g=function(e){switch(e){case"feature":default:return(0,st.jsx)(vu,{className:"pe-fs-16 pe-color-neutral"});case"error":return(0,st.jsx)(wu,{rotate:180,className:"pe-fs-16 pe-color-red"});case"warning":return(0,st.jsx)(wu,{rotate:180,className:"pe-fs-16",style:{color:"#ebad35"}});case"success":return(0,st.jsx)(bu,{className:"pe-fs-16",style:{color:"#09A347"}})}};return(0,st.jsx)(Uc.Z,{width:t.isMobile?375:475,closable:!1,visible:e.showAlertDrawer,zIndex:9999999,className:"pe-notifications-alert-drawer",title:"Notifications (".concat(e.alerts.length+(p?1:0),")"),extra:(0,st.jsx)("div",{className:"pe-cursor-pointer",onClick:function(){e.closeAlertDrawer()},children:(0,st.jsx)($c,{className:"pe-fs-12",style:{color:"#454545"}})}),children:(0,st.jsxs)(Hc.default,{spinning:e.loadingAlerts,children:[(0,st.jsx)(Zu,{handleAlertLoading:e.handleAlertLoading}),(0,st.jsx)(Kc.default,{itemLayout:"vertical",size:"large",dataSource:o,locale:{emptyText:p?"  ":Ua("All caught up!","pushengage")},footer:(0,st.jsx)(st.Fragment,{children:e.alerts.length?(0,st.jsxs)(dt.Z,{justify:"space-between",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(gu.default,{current:u,pageSize:5,total:e.alerts.length,onChange:function(e){d(e)}})}),(0,st.jsx)(ht.Z,{className:"pe-my-auto",children:(0,st.jsx)(pt.default,{type:"text",className:"pe-fs-13 pe-fw-600",onClick:function(){f()},children:Ua("Dismiss All","pushengage")})})]}):null}),renderItem:function(e){return(0,st.jsx)(Kc.default.Item,{children:(0,st.jsx)(Kc.default.Item.Meta,{avatar:g(e.state),title:(0,st.jsx)(Eu,{className:"pe-fs-14 pe-fw-600",children:e.title}),description:(0,st.jsxs)("div",{children:[(0,st.jsx)(Nu,{className:"pe-fs-14 pe-fw-500 pe-color-neutral-60 pe-mb-8",children:e.message}),(0,st.jsx)(dt.Z,{gutter:[12,12],children:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",className:"pe-fs-13 pe-fw-600 pe-px-14",onClick:function(){window.open("".concat(e.url).concat(Qc({sid:r,utm_medium:"HeaderNotificationDrawer",utm_content:"View"})),"_blank")},children:Ua("View","pushengage")})}),(0,st.jsx)(ht.Z,{className:"pe-my-auto",children:(0,st.jsx)(pt.default,{size:"small",type:"text",className:"pe-fs-13 pe-fw-600",onClick:function(){h(e.alert_id)},children:Ua("Dismiss","pushengage")})})]})})]})})},"".concat(e.title,"-").concat(e.alert_id))}})]})})},Au=(n(16400),n(20375)),Tu=function(){var e=bt(Yr),t=bt((function(e){return e.session.user}),Zi()),n=(0,oe.useState)(!0),r=(0,xe.Z)(n,2),i=r[0],a=r[1];return t&&i&&!e?(0,st.jsx)("div",{children:(0,st.jsx)(Au.default,{className:"pe-alert pe-header-alert pe-ta-center",type:"info",message:Ua("Please verify your email address.","pushengage"),action:(0,st.jsx)($c,{className:"pe-fs-10 pe-cursor-pointer",onClick:function(){a(!1)}})})}):null},Pu=function(){var e=bt(Kr),t=bt(Gr),n=(0,oe.useState)({days:0,isExpired:!1}),r=(0,xe.Z)(n,2),i=r[0],a=r[1];return(0,oe.useEffect)((function(){if(e&&t){var n=function(e){var t=(new Date(ro(e)).getTime()-Date.now())/to,n=Math.ceil(t);return n>=0?{days:n,isExpired:!1}:{days:0,isExpired:!0}}(t);a(n)}else a({days:10,isExpired:!0})}),[e,t]),{trial:e,trialInfo:i}},Mu=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function Iu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.childNodes,r=e.localName,i=e.nodeType,a=e.textContent;if(Node.TEXT_NODE===i)return a;var o=e.hasChildNodes()?(0,we.Z)(n).map((function(e){return Du(e,t)})):null;return r in t?(0,oe.cloneElement)(t[r],void 0,o):(0,oe.createElement)(r,null,o)}function Du(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];do{n.push(Iu(e,t)),e=e.nextSibling}while(null!==e);return n}var Lu=function(e){var t=e.mapping,n=void 0===t?{}:t,r=e.children;n=Object.fromEntries(Object.entries(n).map((function(e){var t=(0,xe.Z)(e,2),n=t[0],r=t[1];return[n.toLowerCase(),r]})));var i=Object.keys(n).filter((function(e){return Mu.includes(e)})).join(" ");if(i.length>0)throw new Error("Found disallowed void elements in TranslateWithMarkup map: ".concat(i));var a=(new DOMParser).parseFromString(r,"text/html").body.firstChild;return a?(0,st.jsx)(oe.Fragment,{children:Du(a,n).map((function(e,t){return(0,st.jsx)(oe.Fragment,{children:e},t)}))}):(0,st.jsx)(oe.Fragment,{})},Ru=mt.Z.Text,Bu=function(){var e=Pu(),t=e.trial,n=e.trialInfo,r=bt((function(e){return e.session.user}),Zi()),i=bt(Ur),a=(0,oe.useState)(!0),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=bt((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.owner.paymentSubscription.name})),u=bt((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.owner.paymentSubscription.type})),d=null===n||void 0===n?void 0:n.days,p="".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:i,drawer:!0,planType:u,utm_medium:"Header",utm_content:"upgrade"}));return r&&s&&t?(0,st.jsx)("div",{children:(0,st.jsx)(Au.default,{className:"pe-alert pe-header-alert pe-ta-center",type:"info",message:(0,st.jsx)(Ru,{className:"pe-color-neutral-80 pe-fw-500",children:(0,st.jsx)(Lu,{mapping:{a:(0,st.jsx)("a",{href:p,target:"_blank",className:"pe-td-underline pe-fw-700",rel:"noreferrer"})},children:n.isExpired?ba(Ua("Your %1$s trial has expired. Please %2$s to continue using the service.","pushengage"),c,"<a>".concat(Ua("upgrade","pushengage"),"</a>")):ba(Ua("%1$s days trial left.","pushengage"),d)})}),action:(0,st.jsx)($c,{className:"pe-fs-10 pe-cursor-pointer",onClick:function(){l(!1)}})})}):null};function Fu(e){return zu.apply(this,arguments)}function zu(){return(zu=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("accounts/".concat(t,"/fup-usage")));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e,t){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,at.Z)((0,it.Z)().mark((function e(t,n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("accounts/".concat(t,"/notification-count/").concat(n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hu,Wu,qu,Ku=function(){var e=bt(qr),t=(0,oe.useState)(0),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useState)(0),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=bt((function(e){var t,n,r,i,a;return(null===(t=e.session.user)||void 0===t||null===(n=t.owner)||void 0===n||null===(r=n.paymentSubscription)||void 0===r||null===(i=r.plan)||void 0===i?void 0:i.plan_type)===ii.FREE&&zi()([3,4],null===(a=e.session.user)||void 0===a?void 0:a.owner.paymentSubscription.plan.version)}));return(0,oe.useEffect)((function(){e&&c&&(0,at.Z)((0,it.Z)().mark((function t(){var n,r,a;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"total",t.next=4,Vu(e,"total");case 4:a=t.sent,null!==(n=a.data)&&void 0!==n&&n.notification_count&&null!==(r=a.data)&&void 0!==r&&r.notification_limit&&(l(a.data.notification_count),i(a.data.notification_limit)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[c,e]),{shouldShowNotificationLimitAlert:(0,oe.useCallback)((function(){return(0===r?1/0:r-s)<=5}),[r,s]),notificationLimit:r,notificationSentCount:s}},Yu=mt.Z.Text,Gu=function(e){var t=e.notificationSentCount,n=e.notificationLimit,r=e.siteId,i="".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:r,drawer:!0,planType:"business",utm_medium:"Header",utm_content:"Upgrade now",ref:"notification_limit_exceeded"}));return(0,st.jsx)(Yu,{className:"pe-color-neutral-80 pe-fw-500",children:t>=n?(0,st.jsx)(Lu,{mapping:{a:(0,st.jsx)("a",{href:i,target:"_blank",className:"pe-td-underline pe-fw-700",rel:"noreferrer"})},children:ba(Ua("Attention: You\u2019ve hit the %1$d-campaign lifetime limit and your account is blocked. %2$s for unlimited campaigns and resume sending.","pushengage"),n,"<a>".concat(Ua("Upgrade now","pushengage"),"</a>"))}):(0,st.jsx)(Lu,{mapping:{a:(0,st.jsx)("a",{href:i,target:"_blank",className:"pe-td-underline pe-fw-700",rel:"noreferrer"})},children:ba(Ua("Attention: You\u2019ve sent %1$d campaigns and are nearing the %2$d campaign lifetime limit. %3$s to enjoy unlimited campaigns and avoid disruptions","pushengage"),t,n,"<a>".concat(Ua("Upgrade now","pushengage"),"</a>"))})})},Qu=function(){var e=Ku(),t=e.shouldShowNotificationLimitAlert,n=e.notificationLimit,r=e.notificationSentCount,i=bt((function(e){return e.session.user}),Zi()),a=bt(Ur),o=(0,oe.useState)(!0),s=(0,xe.Z)(o,2),l=s[0],c=s[1];return i&&l&&t()?(0,st.jsx)("div",{children:(0,st.jsx)(Au.default,{className:"pe-alert pe-header-alert pe-ta-center",type:"info",message:(0,st.jsx)(Gu,{notificationLimit:n,notificationSentCount:r,siteId:a}),action:(0,st.jsx)($c,{className:"pe-fs-10 pe-cursor-pointer",onClick:function(){c(!1)}})})}):null},Xu=(n(23922),n(66600)),$u=(n(9308),n(42576)),Ju=(n(75183),n(64462)),ed=(n(34756),n(75163)),td=function(e){return e?e.substring(e.lastIndexOf("/")+1):e},nd=function(e){var t="";try{t=new URL(e).host}catch(n){t=e}return t},rd=function(e){return 0===e.indexOf("https://")?"https":"http"},id=-1!==window.pushengage.pluginUrl.indexOf("https://")||-1!==window.location.href.indexOf("https://"),ad=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1.2em",height:"1.2em",viewBox:"0 0 12 12",fill:"currentColor",focusable:"false","data-icon":"pe-external-link-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M10.0833 10.0833H1.91667V1.91667H6V0.75H1.91667C1.26917 0.75 0.75 1.275 0.75 1.91667V10.0833C0.75 10.725 1.26917 11.25 1.91667 11.25H10.0833C10.725 11.25 11.25 10.725 11.25 10.0833V6H10.0833V10.0833ZM7.16667 0.75V1.91667H9.26083L3.52667 7.65083L4.34917 8.47333L10.0833 2.73917V4.83333H11.25V0.75H7.16667Z"})}))},od=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:ad},e))},sd=mt.Z.Link,ld=mt.Z.Paragraph,cd=function(e){var t,n,r=bt(Hr),i=bt((function(e){return e.session.user}),Zi()),a=(0,oe.useState)(!1),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(""),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)(!0),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)(!1),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useState)(!1),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=(0,oe.useState)(!1),S=(0,xe.Z)(j,2),Z=S[0],N=S[1],E=(0,oe.useState)(!1),O=(0,xe.Z)(E,2),A=O[0],T=O[1],P=(0,oe.useState)(!1),M=(0,xe.Z)(P,2),I=M[0],D=M[1],L=(0,oe.useState)(!1),R=(0,xe.Z)(L,2),B=R[0],F=R[1],z=(0,oe.useState)(""),V=(0,xe.Z)(z,2),U=V[0],H=V[1],W=(0,oe.useState)(!1),q=(0,xe.Z)(W,2),K=q[0],Y=q[1],G=(0,oe.useState)({}),Q=(0,xe.Z)(G,2),X=Q[0],$=Q[1],J=0===(null===(t=window.pushengage)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.service_worker_error);(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){var t,n,a,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&id&&!J){e.next=2;break}return e.abrupt("return");case 2:return l(!0),e.prev=3,e.next=6,ds({siteId:r,options:{name:"service_worker"}});case 6:if(a=e.sent,!(o=null===a||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.service_worker)||void 0===n?void 0:n.worker)){e.next=21;break}return p(o),e.next=12,zo(o);case 12:if(!e.sent){e.next=18;break}return e.next=16,ul({service_worker_error:0});case 16:e.next=21;break;case 18:return Y(!0),e.next=21,ul({service_worker_error:1});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(3);case 25:l(!1);case 26:case"end":return e.stop()}}),e,null,[[3,23]])})))()}),[r,J,i]);var ee=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,i,a,o,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.isSwSupport,i=Bi()(X),!Wi()(i)){e.next=15;break}return e.prev=3,e.next=6,ds({siteId:r,options:{name:"optin_settings"}});case 6:if(o=e.sent,i=(null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.optin_settings)||{},!Wi()(i)){e.next=10;break}return e.abrupt("return");case 10:$(i),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(3);case 15:return s=Ko({optinSettings:i,isSwSupport:n}),e.prev=16,e.next=19,ps({siteId:r,data:{optin_settings:s}});case 19:e.next=23;break;case 21:e.prev=21,e.t1=e.catch(16);case 23:case"end":return e.stop()}}),e,null,[[3,13],[16,21]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,zo(d);case 4:if(e.sent){e.next=9;break}return C(!0),N(!1),e.abrupt("return");case 9:return e.next=11,ee({isSwSupport:1});case 11:return e.next=13,ul({service_worker_error:0});case 13:m(!1),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(1);case 18:N(!1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e){if(!e)return"";var t=e.trim();return t.startsWith("http://")||t.startsWith("https://")?new URL(t).pathname:"/"!==t[0]?"/".concat(t):t},re=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ne(t.worker_path)){e.next=3;break}return e.abrupt("return");case 3:return T(!0),e.next=6,zo(n);case 6:if(e.sent){e.next=11;break}return F(!0),T(!1),e.abrupt("return");case 11:return e.prev=11,i={service_worker:{scope:!0,workerStatus:!0,worker:n}},(n.match(/\//g)||[]).length>1&&(i.service_worker.scope=!1),e.next=17,Promise.all([ps({siteId:r,data:i}),ee({isSwSupport:1})]);case 17:return e.next=19,ul({service_worker_error:0});case 19:m(!1),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(11);case 24:T(!1),x(!1);case 26:case"end":return e.stop()}}),e,null,[[11,22]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,ee({isSwSupport:0});case 3:return e.prev=3,e.next=6,ul({service_worker_error:0});case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:m(!1),C(!1),x(!1),D(!1);case 14:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("do_not_show_again"!==t.key){e.next=8;break}return e.prev=1,e.next=4,ul({service_worker_error:0});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:m(!1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();if(!g||s||!K)return null;var se=[(0,st.jsx)(ld,{type:"secondary",children:Ua('1. Please review the file\'s location and check firewall settings for the file path. If necessary, consult your hosting service provider. After resolving, click "Resolved".',"pushengage")},""),(0,st.jsx)(ld,{type:"secondary",children:Ua("2. To use a different service worker location, update the publicly accessible URL of the service worker.","pushengage")},"")];return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(gt.Z,{centered:!0,width:650,title:null,footer:null,maskClosable:!1,zIndex:100002,closeIcon:(0,st.jsx)($c,{className:"pe-fs-13"}),visible:_,onCancel:function(){I||C(!1)},children:[(0,st.jsxs)(ld,{type:"secondary",className:"pe-ta-center",children:[Ua("Sorry, We still could not access the service worker file at location","pushengage")," ",(0,st.jsx)("br",{}),(0,st.jsx)("a",{href:Fo(d),target:"_blank",rel:"noreferrer",children:Fo(d)})]}),(0,st.jsxs)(dt.Z,{justify:"center",gutter:16,children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",type:"primary",onClick:function(){window.open("".concat(Gc.baseDashboardAppUrl,"/account/support").concat(Qc({sid:r,utm_medium:"Site Alert",utm_content:"Service Worker error",topic:"installation",subject:"Service Worker error in Wordpress plugin"})),"_blank")},children:Ua("Contact PushEngage Support","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",loading:I,onClick:ie,children:Ua("Continue Using PushEngage Subdomain","pushengage")})})]})]}),(0,st.jsx)(gt.Z,{centered:!0,destroyOnClose:!0,width:650,footer:null,maskClosable:!1,className:"pe-modal-form",zIndex:100002,title:"Update Service Worker Path",closeIcon:(0,st.jsx)($c,{className:"pe-fs-13"}),visible:b,onCancel:function(){A||I||x(!1)},children:(0,st.jsxs)(ed.Z,{preserve:!1,onFinish:re,className:"pe-mt-20 pe-mb-40",children:[(0,st.jsx)(ed.Z.Item,{name:"worker_path",messageVariables:{name:Ua("Service worker path","pushengage")},rules:[{required:!0,whitespace:!0},{max:500}],children:(0,st.jsx)(Yc.default,{placeholder:"Enter your service worker path (e.g. /service-worker.js)",onChange:function(e){F(!1),H(e.target.value)}})}),B&&U&&(0,st.jsx)(Au.default,{type:"warning",className:"pe-sw-alert pe-mt-16 pe-mb-24",message:(0,st.jsxs)("div",{children:[(0,st.jsxs)(ld,{type:"secondary",children:[Ua("We could not access the service worker file at location","pushengage")," ",(0,st.jsx)("a",{href:Fo(ne(U)),target:"_blank",rel:"noreferrer",children:Fo(ne(U))})]}),(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(pt.default,{size:"small",type:"primary",onClick:function(){window.open("".concat(Gc.baseDashboardAppUrl,"/account/support").concat(Qc({sid:r,utm_medium:"Site Alert",utm_content:"Service Worker error",topic:"installation",subject:"Service Worker error in Wordpress plugin"})),"_blank")},children:Ua("Contact PushEngage Support","pushengage")}),(0,st.jsx)(pt.default,{size:"small",loading:I,onClick:ie,children:Ua(" Continue Using PushEngage Subdomain","pushengage")})]})]})}),(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(pt.default,{type:"primary",htmlType:"submit",disabled:I,loading:A,children:Ua(" Update","pushengage")}),(0,st.jsx)(pt.default,{disabled:A||I,onClick:function(){I||x(!1)},children:Ua(" Cancel","pushengage")})]})]})}),K&&(0,st.jsx)(Au.default,{type:"warning",className:"pe-sw-alert ".concat(e.alertClass||""),message:(0,st.jsxs)("div",{children:[(0,st.jsxs)(ld,{type:"secondary",children:[Ua("We could not access the service worker file at location","pushengage")," ",(0,st.jsx)("a",{href:Fo(d),target:"_blank",rel:"noreferrer",children:Fo(d)})]}),(0,st.jsx)(ld,{type:"secondary",children:Ua("In order to collect push subscribers on your domain, the service worker file must be publicly accessible. You can try the following to fix the issue:","pushengage")}),(0,st.jsx)("ul",{children:se.map((function(e,t){return(0,st.jsx)("li",{className:"pe-ml-16",children:e},"instruction-".concat(t))}))}),(0,st.jsxs)(ld,{type:"secondary",children:[Ua("Please remember, you are still collecting subscribers on a PushEngage subdomain that has been reserved for your site. If you need assistance, please Contact","pushengage")," ",(0,st.jsx)(sd,{target:"_blank",href:"".concat(Gc.baseDashboardAppUrl,"/account/support").concat(Qc({sid:r,utm_medium:"Site Alert",utm_content:"Service Worker error",topic:"installation",subject:"Service Worker error in Wordpress plugin"})),children:Ua("PushEngage Support","pushengage")}),"."]}),(0,st.jsxs)("div",{children:[(0,st.jsx)(pt.default,{type:"primary",size:"small",loading:Z,className:"pe-mr-16 pe-fw-600",onClick:te,children:Ua("Resolved","pushengage")}),(0,st.jsx)(pt.default,{size:"small",disabled:Z,className:"pe-mr-16 pe-fw-600",onClick:function(){F(!1),x(!0)},children:Ua("Update Location","pushengage")}),(0,st.jsxs)(pt.default,{size:"small",disabled:Z,type:"link",className:"pe-fw-600 pe-pa-0",href:"https://www.pushengage.com/documentation/404-403-service-worker-installation-error/".concat(Qc({utm_medium:"Site Alert",utm_content:"Service Worker error"})),target:"_blank",rel:"noreferrer",children:[Ua("Learn More","pushengage"),(0,st.jsx)(od,{className:"pe-color-primary pe-fs-10"})]})]})]}),action:(0,st.jsx)(Xu.default,{overlay:(0,st.jsxs)($u.default,{className:"pe-sw-alert-close-btn-dropdown-menu",onClick:ae,children:[(0,st.jsx)($u.default.Item,{children:Ua("Close","pushengage")},"close"),(0,st.jsx)($u.default.Item,{children:Ua("Do not show again","pushengage")},"do_not_show_again")]}),children:(0,st.jsx)($c,{className:"pe-fs-10 pe-cursor-pointer"})})})]})},ud=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0.5599999999999996 0.39 69.79 72.22",fill:"currentColor",focusable:"false","data-icon":"pe-whatsapp-business-icon","aria-hidden":"true",clipRule:"evenodd",fillRule:"evenodd",children:[(0,st.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M34.72 4.31c17.17 0 31.1 13.92 31.1 31.1s-13.83 31.43-31.1 31.1c-6.35-.12-10.69-.58-15.42-4.09-3.61-2.69-17.87 10.19-10.82-10.9-3.01-4.78-4.8-10.27-4.87-16.11-.19-17.1 13.93-31.1 31.11-31.1z",fill:"currentColor"}),(0,st.jsxs)("g",{xmlns:"http://www.w3.org/2000/svg",fill:"#fefefe",children:[(0,st.jsx)("path",{d:"M60.18 10.58C53.61 4.02 44.89.4 35.6.39 16.45.39.86 15.98.85 35.13c0 6.12 1.6 12.09 4.64 17.36l-4.93 18 18.42-4.83a34.657 34.657 0 0 0 16.6 4.23h.02c19.15 0 34.73-15.58 34.74-34.74.01-9.28-3.6-18-10.16-24.57zM23.95 51.95c.24.15.74.15 1.9.15 4.89-.01 9.11-.02 12.11-.02 14.02 0 13.65-14.76 7.1-16.6.96-1.7 5.33-4.9 2.63-11.5-2.68-6.53-14.18-5.05-22.05-5.05-2.91 0-2.48 2.16-2.46 5.5.02 5.3 0 19.64 0 25.84 0 1.25.38 1.45.77 1.68zm6.06-5.41h7.13c3.03-.01 5.73-1.42 5.66-4.44-.05-2.84-1.94-3.78-4.57-4.04-2.5.03-5.36.03-8.22.03zm0-14.16c5.28-.07 7.31.21 10.19-.51 1.98-1.12 2.84-5.29.01-6.7-1.97-.98-7.78-.65-10.2-.55zm5.59 31.64h-.02c-5.18 0-10.26-1.39-14.69-4.02l-1.06-.63L8.9 62.24l2.92-10.65-.69-1.1a28.798 28.798 0 0 1-4.41-15.36c0-15.92 12.96-28.87 28.89-28.87 7.71 0 14.96 3.01 20.41 8.47 5.46 5.45 8.46 12.71 8.46 20.42-.01 15.92-12.97 28.87-28.88 28.87z",stroke:"currentColor",strokeMiterlimit:"22.926",strokeWidth:".79"}),(0,st.jsx)("path",{d:"M23.81 51.92c.24.15.75.15 1.9.15 4.89-.01 9.11-.02 12.11-.02 14.02 0 13.66-14.76 7.1-16.6.96-1.7 5.33-4.9 2.63-11.5-2.68-6.53-14.18-5.05-22.05-5.05-2.91 0-2.47 2.16-2.46 5.5.02 5.3.01 19.64 0 25.84 0 1.25.38 1.45.77 1.68zm6.07-5.41H37c3.03-.01 5.73-1.42 5.66-4.44-.05-2.84-1.94-3.78-4.57-4.04-2.49.03-5.35.03-8.21.03zm0-14.16c5.27-.07 7.3.21 10.18-.51 1.98-1.12 2.84-5.29.01-6.7-1.96-.98-7.78-.65-10.19-.55z"})]})]}))},dd=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:ud},e))},pd=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-chat-icon","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M2 4C2 2.89543 2.89543 2 4 2H20C21.1046 2 22 2.89543 22 4V14C22 15.1046 21.1046 16 20 16H8L4 20V4Z",fill:"currentColor"})}))},fd=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:pd},e))},hd=[{id:"webPush",name:Ua("Push Notifications"),description:Ua("Convert visitors with real-time browser notifications"),icon:sc,features:["Recover abandoned carts","Collect product reviews","Send real-time order updates","Create AI-generated campaigns"],steps:[{id:"buildSubscriberList",title:Ua("Build Subscriber List"),description:Ua("You're all set to grow your audience and maximize engagement.","pushengage"),trackStep:!0,icon:ac,actionBtnText:Ua("Build Subscriber List","pushengage")},{id:"addCampaigns",title:Ua("Add Campaigns"),description:Ua("Grow your audience to boost engagement and conversions","pushengage"),trackStep:!0,icon:sc,actionBtnText:Ua("Add Campaigns","pushengage")},{id:"setupRetargeting",title:Ua("Setup Retargeting"),description:Ua("Deliver targeted push notifications that bring users back and increase conversions.","pushengage"),trackStep:!0,icon:cc,actionBtnText:Ua("Setup Retargeting","pushengage")},{id:"recoverSales",title:Ua("Recover Sales"),trackStep:!0,description:Ua("Win back abandoned carts and recover lost revenue with automated campaigns.","pushengage"),icon:dc,actionBtnText:Ua("Recover Sales","pushengage"),stepCompleted:null!==(Hu=null===(Wu=window)||void 0===Wu||null===(qu=Wu.pushengage)||void 0===qu?void 0:qu.isPEWooCommerceConnected)&&void 0!==Hu&&Hu},{id:"finalStep",title:Ua("Final Step"),description:Ua("Setup completed successfully","pushengage"),trackStep:!1,icon:sc,actionBtnText:Ua("Complete","pushengage")}]},{id:"clickToChat",name:Ua("Chat Widgets"),description:Ua("Let customers reach you instantly with a one-tap chat experience"),icon:fd,features:["Offer live chat across 20+ channels","Set up multiple chat agents","Get powerful insights from chat analytics","Schedule chat widget in any timezone"],steps:[{id:"setupChatWidget",title:Ua("Chat Widgets Settings"),description:Ua("Set up Chat Widgets and turn confused web browsing into engaged conversations.","pushengage"),trackStep:!0,icon:fd,actionBtnText:Ua("Setup Widget","pushengage")},{id:"finalStep",title:Ua("Final Step"),description:Ua("Setup completed successfully","pushengage"),trackStep:!1,icon:fd,actionBtnText:Ua("Complete","pushengage")}]},{id:"whatsapp",name:Ua("WhatsApp Automation"),description:Ua("Automate marketing messages on WhatsApp (WooCommerce only)"),icon:dd,features:["Order confirmation","Recover abandoned carts","Remind users of failed checkouts","Track template approval status"],steps:[{id:"connectWhatsApp",title:Ua("Connect WhatsApp Business"),description:Ua("Connect your WhatsApp Business account to start sending notifications","pushengage"),trackStep:!0,icon:dd,actionBtnText:Ua("Connect WhatsApp","pushengage")},{id:"setupWhatsappAutomation",title:Ua("Setup Automation"),description:Ua("Create and configure your WhatsApp message templates","pushengage"),trackStep:!0,icon:sc,actionBtnText:Ua("Setup Templates","pushengage")},{id:"finalStep",title:Ua("Final Step"),description:Ua("Setup completed successfully","pushengage"),trackStep:!1,icon:sc,actionBtnText:Ua("Complete","pushengage")}]}],gd={webPush:{stepRules:{recoverSales:[{condition:function(){return Yo},message:Ua("WooCommerce is required for cart recovery features")}]}},whatsapp:{channelRules:[{condition:function(){return Yo},message:Ua("WooCommerce is required for WhatsApp integration")}]}},md=function(){return hd.filter((function(e){var t=gd[e.id];if(null!==t&&void 0!==t&&t.channelRules&&!t.channelRules.every((function(e){return e.condition()})))return!1;return null!==t&&void 0!==t&&t.stepRules&&(e.steps=e.steps.filter((function(e){var n,r=null===(n=t.stepRules)||void 0===n?void 0:n[e.id];return!r||r.every((function(e){return e.condition()}))}))),!0}))},vd=function(){var e,t,n=(0,vt.s0)(),r=fc(),i=md(),a=null===(e=r.channels)||void 0===e?void 0:e.find((function(e){return!e.isCompleted})),o=a?i.find((function(e){return e.id===a.id})):null,s=null===a||void 0===a||null===(t=a.steps)||void 0===t?void 0:t.find((function(e){return!e.isCompleted})),l=s?null===o||void 0===o?void 0:o.steps.find((function(e){return e.id===s.id})):null;return{firstIncompleteChannel:a,channelConfig:o,currentStep:s,currentStepConfig:l,handleContinueSetup:function(){if(a&&s){var e=r.channels.map((function(e){return e.id===a.id?(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:!0,isSelected:!0,steps:e.steps.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:e.id===s.id})}))}):(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:!1,isSelected:!1,steps:e.steps.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:!1})}))})})),t=(0,kn.Z)((0,kn.Z)({},r),{},{channels:e,current:a.steps.findIndex((function(e){return e.id===s.id})),currentChannelIndex:0,currentStepId:s.id,selectedChannels:[a.id],skippedChannels:[]});localStorage.setItem(ni.onboarding,JSON.stringify(t)),n("".concat($r.path.onboarding))}else n($r.path.onboarding)},onboardingData:r}},yd=mt.Z.Text,bd=function(e){var t=e.completedSteps,n=e.totalSteps,r=e.inProgressTask,i=e.onClose,a=Math.round(t/n*100),o=vd(),s=o.channelConfig,l=o.currentStepConfig,c=o.handleContinueSetup;return(0,st.jsxs)(dt.Z,{style:{background:"#181a33",padding:"12px 24px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},justify:"space-between",align:"middle",gutter:[20,0],wrap:!0,children:[(0,st.jsxs)(ht.Z,{xs:24,sm:24,md:6,lg:5,xl:4,className:"pe-md-mb-0",style:{display:"flex",flexDirection:"column",gap:"6px",minWidth:"180px",maxWidth:"100%",border:"1px solid #2f3146",padding:"8px",background:"#fafaff"},children:[(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"space-between"},children:[(0,st.jsx)(yd,{className:"pe-fs-14 pe-fw-600 pe-color-neutral-80",children:ba(Ua("%1$s/%2$s Steps","pushengage"),t,n)}),(0,st.jsx)(yd,{className:"pe-fs-14 pe-fw-600 pe-color-neutral-80",children:ba(Ua("%1$s%% Complete","pushengage"),a)})]}),(0,st.jsx)("div",{style:{display:"flex",width:"100%",gap:"2px",height:"4px"},children:function(){for(var e,r=[],i=0;i<n;i++)r.push((0,st.jsx)("div",{style:{height:"4px",flex:1,backgroundColor:(e=i,e<t?"#4318FF":e===t?"#FFB547":"#2A3362"),marginRight:i<n-1?"2px":0,borderRadius:"2px"}},i));return r}()})]}),(0,st.jsx)(ht.Z,{xs:24,sm:24,md:12,lg:14,xl:16,className:"pe-md-mb-0",children:(0,st.jsxs)(Ju.default,{direction:"vertical",size:0,children:[(0,st.jsx)(yd,{className:"pe-fs-18 pe-color-white pe-fw-500",children:ba(Ua("You're making great progress! %1$s/%2$s steps completed","pushengage"),t,n)}),(0,st.jsx)(yd,{className:"pe-fs-15 pe-color-neutral-30",children:ba(Ua('Continue with "%1$s" to set up your %2$s',"pushengage"),(null===l||void 0===l?void 0:l.actionBtnText)||r||Ua("onboarding Wizard","pushengage"),(null===s||void 0===s?void 0:s.name)||Ua("notification settings","pushengage"))})]})}),(0,st.jsx)(ht.Z,{xs:24,sm:24,md:6,lg:5,xl:4,className:"pe-text-center pe-md-text-right",children:(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(pt.default,{type:"primary",onClick:c,className:"pe-fs-16 pe-fw-600 pe-btn-primary",children:(null===l||void 0===l?void 0:l.actionBtnText)||Ua("Continue Setup","pushengage")}),(0,st.jsx)(pt.default,{type:"text",onClick:i,icon:(0,st.jsx)($c,{className:"pe-fs-16 pe-color-white"}),className:"pe-btn-plain pe-cursor-pointer"})]})})]})},xd=(n(64288),n(41892)),wd=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 6 11",fill:"currentColor",focusable:"false","data-icon":"pe-arrow-up-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M0.5625 0.414062L0.09375 0.859375C0 0.976562 0 1.16406 0.09375 1.25781L4.33594 5.5L0.09375 9.76562C0 9.85938 0 10.0469 0.09375 10.1641L0.5625 10.6094C0.679688 10.7266 0.84375 10.7266 0.960938 10.6094L5.88281 5.71094C5.97656 5.59375 5.97656 5.42969 5.88281 5.3125L0.960938 0.414062C0.84375 0.296875 0.679688 0.296875 0.5625 0.414062Z"})}))},kd=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:wd},e))},_d=mt.Z.Title,Cd=mt.Z.Text,jd=function(e){var t=e.completedSteps,n=e.totalSteps,r=e.tasks,i=e.onClose,a=Math.round(t/n*100),o=vd(),s=o.firstIncompleteChannel,l=o.channelConfig,c=o.currentStepConfig,u=o.handleContinueSetup,d=r.filter((function(e){return e.channelId===(null===s||void 0===s?void 0:s.id)})),p=function(e){var t,n=null===l||void 0===l||null===(t=l.steps.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.icon;switch(e.status){case"completed":return(0,st.jsx)(xd.ZP,{size:32,className:"pe-d-flex pe-align-items-center pe-bg-green",children:(0,st.jsx)(bu,{style:{color:"white",fontSize:20,display:"block"}})});case"in_progress":return(0,st.jsx)(xd.ZP,{size:32,className:"pe-d-flex pe-align-items-center pe-bg-primary",children:n&&(0,oe.createElement)(n,{className:"pe-fs-16 pe-color-white"})});default:return(0,st.jsx)(xd.ZP,{size:32,className:"pe-d-flex pe-align-items-center pe-bg-neutral-15",children:n&&(0,oe.createElement)(n,{className:"pe-fs-16 pe-color-neutral-40"})})}};return(0,st.jsxs)(Wc.Z,{className:"pe-mb-40 pe-max-w-666 pe-mx-auto",bodyStyle:{padding:24},headStyle:{background:"#1B2559",position:"relative"},title:(0,st.jsxs)(Ju.default,{direction:"vertical",size:4,style:{width:"100%"},children:[(0,st.jsxs)(Ju.default,{align:"center",style:{width:"100%",justifyContent:"space-between"},children:[(0,st.jsxs)(Ju.default,{align:"center",style:{flex:1,minWidth:0},children:[(0,st.jsx)("span",{className:"pe-fs-20",children:"\ud83d\ude80"}),(0,st.jsx)(_d,{level:5,className:"pe-fs-20 pe-fw-700 pe-color-white",style:{margin:0,whiteSpace:"normal"},children:Ua("Welcome to PushEngage","pushengage")})]}),i&&(0,st.jsx)(pt.default,{type:"text",icon:(0,st.jsx)($c,{className:"pe-fs-16 pe-color-white"}),onClick:i})]}),(0,st.jsx)("div",{style:{width:"100%"},children:(0,st.jsx)(Cd,{className:"pe-color-white pe-fs-14",style:{display:"block",whiteSpace:"normal"},children:ba(Ua("Complete the setup for %1$s to start engaging your visitors.","pushengage"),null===l||void 0===l?void 0:l.name)})})]}),children:[(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:24},children:[(0,st.jsx)("div",{style:{display:"flex",width:"100%",gap:"2px",height:"4px"},children:function(){for(var e,r=[],i=0;i<n;i++)r.push((0,st.jsx)("div",{style:{height:"4px",flex:1,backgroundColor:(e=i,e<t?"#4318FF":e===t?"#FFB547":"#2A3362"),marginRight:i<n-1?"2px":0,borderRadius:"2px"}},i));return r}()}),(0,st.jsxs)(Cd,{className:"pe-color-primary pe-fs-14 pe-fw-500",children:[a,"%"]})]}),(0,st.jsx)(Ju.default,{direction:"vertical",size:0,style:{width:"100%"},children:d.map((function(e){return(0,st.jsx)(Wc.Z,{style:{background:"in_progress"===e.status?"#fefbf2":"#ffffff"},bodyStyle:{padding:16},children:(0,st.jsxs)(Ju.default,{direction:"vertical",size:16,style:{width:"100%"},children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"middle",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsxs)(Ju.default,{align:"start",size:12,children:[p(e),(0,st.jsxs)(Ju.default,{direction:"vertical",size:4,children:[(0,st.jsx)(Cd,{strong:!0,className:"pe-color-transparent pe-fs-16",children:e.title}),(0,st.jsx)(Cd,{className:"pe-color-neutral-40 pe-fs-14 pe-d-block pe-max-w-466",children:e.description})]})]})}),(0,st.jsx)(ht.Z,{children:(t=e.status,(0,st.jsxs)(Cd,{strong:!0,style:{color:{completed:"#5eac72",in_progress:"#4318ff",pending:"#707eae"}[t]},children:["completed"===t&&Ua("Completed","pushengage"),"in_progress"===t&&Ua("In progress","pushengage"),"pending"===t&&Ua("Pending","pushengage")]}))})]}),"in_progress"===e.status&&(0,st.jsx)("div",{className:"pe-pl-36",children:(0,st.jsxs)(pt.default,{type:"primary",onClick:u,children:[(null===c||void 0===c?void 0:c.actionBtnText)||(null===e||void 0===e?void 0:e.actionBtnText),(0,st.jsx)(kd,{})]})})]})},e.id);var t}))})]})},Sd=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("sites/".concat(t,"?setting_name=timezone,privacy_settings")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zd=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.siteId,r=t.data,e.abrupt("return",Lc.patch("sites/".concat(n),r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nd=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("sites/".concat(t,"/installation-details")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ed(e){var t;return null===e||void 0===e||!e.owner.paymentSubscription||(null===e||void 0===e||null===(t=e.owner.paymentSubscription.plan)||void 0===t?void 0:t.plan_type)===ii.FREE}function Od(e){var t,n,r;return(null===e||void 0===e||null===(t=e.owner)||void 0===t||null===(n=t.paymentSubscription)||void 0===n||null===(r=n.plan)||void 0===r?void 0:r.plan_type)===ii.BUSINESS}function Ad(e){var t,n,r;return(null===e||void 0===e||null===(t=e.owner)||void 0===t||null===(n=t.paymentSubscription)||void 0===n||null===(r=n.plan)||void 0===r?void 0:r.plan_type)===ii.PREMIUM}function Td(e){return Ed(e)||Od(e)}function Pd(e){return!(null===e||void 0===e||!e.owner.permissions.notifications.timezone)}function Md(e){return!(null===e||void 0===e||!e.owner.permissions.notifications.schedule)}function Id(e){return!(null===e||void 0===e||!e.owner.permissions.notifications.repeat_schedule)}function Dd(e){var t;return 1===(null===e||void 0===e||null===(t=e.site)||void 0===t?void 0:t.userSite.permissions.notifications.permissions.default.write)}function Ld(e){var t;return 1===(null===e||void 0===e||null===(t=e.site)||void 0===t?void 0:t.userSite.permissions.segments.permissions.default.read)}function Rd(e){var t;return 1===(null===e||void 0===e||null===(t=e.site)||void 0===t?void 0:t.userSite.permissions.segments.permissions.default.write)}function Bd(e){var t;return!(null===e||void 0===e||null===(t=e.owner)||void 0===t||!t.permissions.segments)}function Fd(e){var t;return 1===(null===e||void 0===e||null===(t=e.site)||void 0===t?void 0:t.userSite.permissions.segments.permissions.default.write)}function zd(e){var t,n,r;return null===e||void 0===e||null===(t=e.owner)||void 0===t||null===(n=t.permissions)||void 0===n||null===(r=n.automations)||void 0===r?void 0:r.drips}function Vd(e){var t;return 1===(null===e||void 0===e||null===(t=e.site)||void 0===t?void 0:t.userSite.permissions.automations.permissions.drips.write)}function Ud(e){var t,n,r;return!Td(e)||1===(null===e||void 0===e||null===(t=e.owner)||void 0===t||null===(n=t.paymentSubscription)||void 0===n||null===(r=n.extra_features)||void 0===r?void 0:r.is_drip)}function Hd(e){var t,n,r;return!Ed(e)||1===(null===e||void 0===e||null===(t=e.owner)||void 0===t||null===(n=t.paymentSubscription)||void 0===n||null===(r=n.extra_features)||void 0===r?void 0:r.is_chat_widget_multi)}function Wd(e){return Ud(e)||Bd(e)}function qd(e){return!(null===e||void 0===e||!e.owner.permissions.settings.notification_analytics)}function Kd(e){return!Ed(e)}function Yd(e){return!(null===e||void 0===e||!e.owner.permissions.notifications.ab)}function Gd(e){var t;return 1===(null===e||void 0===e||null===(t=e.site)||void 0===t?void 0:t.userSite.permissions.settings.permissions.default.write)}function Qd(e){return!Ed(e)}function Xd(e){var t,n,r;return 1===(null===e||void 0===e||null===(t=e.owner)||void 0===t||null===(n=t.permissions)||void 0===n||null===(r=n.automations)||void 0===r?void 0:r.triggers)}function $d(e){var t;return 1===(null===e||void 0===e||null===(t=e.site)||void 0===t?void 0:t.userSite.permissions.automations.permissions.triggers.write)}function Jd(e){var t,n,r;return 1===(null===e||void 0===e||null===(t=e.owner)||void 0===t||null===(n=t.permissions)||void 0===n||null===(r=n.automations)||void 0===r?void 0:r.rss_push)}function ep(e){var t,n,r,i;return 1===(null===e||void 0===e||null===(t=e.owner)||void 0===t||null===(n=t.permissions)||void 0===n||null===(r=n.automations)||void 0===r?void 0:r.triggers)&&1===(null===e||void 0===e||null===(i=e.site)||void 0===i?void 0:i.userSite.permissions.automations.permissions.triggers.write)}var tp,np=["icon"],rp=function(e){var t,n,r,i,a,o,s,l,c=(null===e||void 0===e||null===(t=e.woo_integration)||void 0===t||null===(n=t.cart_abandonment)||void 0===n?void 0:n.enable)&&(null===e||void 0===e||null===(r=e.woo_integration)||void 0===r||null===(i=r.cart_abandonment)||void 0===i?void 0:i.name),u=(null===e||void 0===e||null===(a=e.woo_integration)||void 0===a||null===(o=a.browse_abandonment)||void 0===o?void 0:o.enable)&&(null===e||void 0===e||null===(s=e.woo_integration)||void 0===s||null===(l=s.browse_abandonment)||void 0===l?void 0:l.name);return!(!c&&!u)},ip=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n,r){var i,a,o,s,l,c,u,d,p,f,h,g,m,v,y,b,x,w,k,_,C,j,S,Z;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(kc(!0)),e.prev=1,a=fc(),!Wi()(a)){e.next=6;break}return n(wc([])),e.abrupt("return");case 6:return e.next=8,Promise.all([Nd(t),Bd(r)?ks(t):Promise.resolve({data:[]}),il({action:rl.GET_WOO_INTEGRATION_SETTINGS}),xl(),ml(),yl()]);case 8:if(o=e.sent,s=(0,xe.Z)(o,6),l=s[0],c=s[1],u=s[2],d=s[3],p=s[4],f=s[5],h=l.data,g=c.data,m=u.data,v=d.data,y=p.data,b=f.data,x=md(),w=null===(i=a.channels)||void 0===i?void 0:i.find((function(e){return!e.isCompleted}))){e.next=27;break}return n(wc([])),e.abrupt("return");case 27:if(k=x.find((function(e){return e.id===w.id}))){e.next=31;break}return n(wc([])),e.abrupt("return");case 31:_=k.steps.filter((function(e){return e.trackStep})).map((function(e){var t=w.steps.find((function(t){return t.id===e.id})),n="pending";if(null!==t&&void 0!==t&&t.isCompleted?n="completed":null!==t&&void 0!==t&&t.isCurrent&&(n="in_progress"),"webPush"===w.id){var r=Object.keys({welcome_notification:"addCampaigns",notification:"addCampaigns"}).some((function(t){return{welcome_notification:"addCampaigns",notification:"addCampaigns"}[t]===e.id&&h[t]}));"setupRetargeting"===e.id&&g.length>0&&(n="completed"),rp(m)&&"recoverSales"===e.id&&(n="completed"),r&&(n="completed")}if("clickToChat"===w.id&&null!==v&&void 0!==v&&v.enabled&&(n="completed"),"whatsapp"===w.id&&("connectWhatsApp"!==e.id||Wi()(y)||(n="completed"),"setupWhatsappAutomation"!==e.id||Wi()(b)||(n="completed")),"completed"===n){var i=(0,kn.Z)((0,kn.Z)({},a),{},{channels:a.channels.map((function(t){return(0,kn.Z)((0,kn.Z)({},t),{},{steps:t.steps.map((function(t){return(0,kn.Z)((0,kn.Z)({},t),{},{isCompleted:t.id===e.id||t.isCompleted})}))})}))});localStorage.setItem(ni.onboarding,JSON.stringify(i))}return{id:e.id,title:e.title,description:e.description,icon:e.icon,actionBtnText:e.actionBtnText,status:n,stepCompleted:e.stepCompleted||!1,channelId:w.id}})),C=_.filter((function(e){return e.channelId===w.id})),j=C.every((function(e){return"completed"===e.status})),j&&(S=(0,kn.Z)((0,kn.Z)({},a),{},{channels:a.channels.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{isCompleted:e.id===w.id||e.isCompleted})}))}),localStorage.setItem(ni.onboarding,JSON.stringify(S))),Z=C.map((function(e){e.icon;return(0,Sl.Z)(e,np)})),n(wc(Z)),n(_c()),e.next=42;break;case 40:e.prev=40,e.t0=e.catch(1);case 42:return e.prev=42,n(kc(!1)),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[1,40,42,45]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ap=function(e){var t,n=e.listType,r=(0,oe.useState)(!0),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=bt(Cc),l=bt(jc),c=bt(Sc),u=bt(Zc),d=bt(Nc);!function(){var e=yt(),t=bt((function(e){return e.session.user})),n=bt(Vr),r=bt(Ur);(0,oe.useEffect)((function(){r&&n&&ip(r,e,t)}),[r,n,e,t])}();var p=function(e){var t=bt(Vr),n=bt(jc),r=bt(Sc),i=fc(),a="onboarding_setup_wizard"===(null===i||void 0===i?void 0:i.onboardingType),o=parseInt(localStorage.getItem(ni.onboardingTasksCloseCount)||"0");return{shouldShowOnboardingTasks:function(){var s;return!!t&&!!e&&!!a&&((null===(s=i.channels)||void 0===s?void 0:s.some((function(e){return!e.isCompleted})))?n!==r&&o<3:(localStorage.removeItem(ni.onboarding),!1))}(),isDashboardPage:"pushengage"===new URLSearchParams(window.location.search).get("page")&&/^#?\/?$/.test(window.location.hash)}}(a),f=p.shouldShowOnboardingTasks,h=p.isDashboardPage,g=parseInt(localStorage.getItem(ni.onboardingTasksCloseCount)||"0"),m=null===(t=s.find((function(e){return e.id===u})))||void 0===t?void 0:t.title,v=function(){localStorage.setItem(ni.onboardingTasksCloseCount,(g+1).toString()),o(!1)};return f?(0,st.jsxs)(Hc.default,{spinning:d,children:["banner"===n&&!h&&(0,st.jsx)(bd,{completedSteps:l,totalSteps:c,inProgressTask:m||null,onClose:v}),"card"===n&&(0,st.jsx)(jd,{completedSteps:l,totalSteps:c,tasks:s,onClose:v})]}):null},op=function(e){var t,n,r,i,a,o;if("00"===e.hours&&"00"===e.mins&&"00"===e.secs)return null;var s=e.isSmallCountDown?"small pe-fs-20 pe-mx-8":"pe-fs-40",l={height:e.isSmallCountDown?"unset":75,width:e.isSmallCountDown?"unset":75};return(0,st.jsxs)("div",{className:"pe-countdown-container",children:[(0,st.jsxs)("div",{className:"countdown-item hours ".concat(s),style:l,children:[(0,st.jsx)("div",{className:"digit-tens",children:null===(t=e.hours)||void 0===t?void 0:t.substring(0,1)}),(0,st.jsx)("div",{className:"digit-ones",children:null===(n=e.hours)||void 0===n?void 0:n.substring(1)})]}),(0,st.jsxs)("div",{className:"countdown-item mins ".concat(s),style:l,children:[(0,st.jsx)("div",{className:"digit-tens",children:null===(r=e.mins)||void 0===r?void 0:r.substring(0,1)}),(0,st.jsx)("div",{className:"digit-ones",children:null===(i=e.mins)||void 0===i?void 0:i.substring(1)})]}),(0,st.jsxs)("div",{className:"countdown-item secs ".concat(s),style:l,children:[(0,st.jsx)("div",{className:"digit-tens",children:null===(a=e.secs)||void 0===a?void 0:a.substring(0,1)}),(0,st.jsx)("div",{className:"digit-ones",children:null===(o=e.secs)||void 0===o?void 0:o.substring(1)})]})]})},sp=n(37762),lp={support:{url:"https://www.pushengage.com/documentation/guide-to-adding-chat-widget-to-your-website/",utmParams:{utm_medium:"ChatWidgetList",utm_content:"chat widget documentation"}}},cp={createUrl:{url:"https://www.pushengage.com/documentation/guide-to-using-pushengage-attributes-for-wordpress/",utmParams:{utm_medium:"CreateEditAttributeModal",utm_content:"how to create attributes"}}},up={waterfallPushCampaign:{url:"https://www.pushengage.com/how-to-create-waterfall-push-campaigns/",utmParams:{utm_medium:"CreateEditSegmentModal",utm_content:"waterfall push campaigns"}},createUrl:{url:"https://www.pushengage.com/documentation/creating-an-audience-group-in-the-wordpress-platform/",utmParams:{utm_medium:"CreateEditAudienceGroupModal",utm_content:"Audience Groups"}},upgradeModal:{url:"https://www.pushengage.com/documentation/guide-to-use-audience-groups-for-your-push-campaigns/",utmParams:{utm_medium:"PlanPermissionModal",utm_content:"Create an Audience Group",feature:"Audience Group"}}},dp={createUrl:{url:"https://www.pushengage.com/documentation/guide-to-using-segmentation-with-pushengage-in-wordpress/",utmParams:{utm_medium:"CreateEditSegmentModal",utm_content:"guide for creating segments"}},segmentTypes:{url:"https://www.pushengage.com/segment-your-subscribers-to-personalize-browser-push-notifications/",utmParams:{utm_medium:"CreateEditSegmentModal",utm_content:"6 types of segments"}},personalizedPushNotification:{url:"https://www.pushengage.com/personalized-push-notifications/",utmParams:{utm_medium:"PlanPermissionModal",utm_content:"personalized push notifications",feature:"Audience Segmentation"}}},pp={collectUrl:{url:"https://www.pushengage.com/documentation/how-to-start-collecting-subscribers/",utmParams:{utm_medium:"AudienceSubscribers",utm_content:"how to start collecting web push subscribers"}}},fp={scheduleUpgradeModal:{url:"https://www.pushengage.com/how-to-schedule-push-notifications/",utmParams:{utm_medium:"PlanPermissionModal",utm_content:"Schedule your push notifications",feature:"Schedule Notification"}},repeatScheduleUpgradeModal:{url:"https://www.pushengage.com/how-to-schedule-push-notifications/",utmParams:{utm_medium:"PlanPermissionModal",utm_content:"Send recurring notifications",feature:"Repeat Schedule Notification"}},multiActionsUpgradeModal:{url:"https://www.pushengage.com/push-notification-action-buttons/",utmParams:{utm_medium:"PlanPermissionModal",utm_content:"multi-action notifications",feature:"Multi Action Notifications"}},largeImageUpgradeModal:{url:"https://www.pushengage.com/push-notifications-with-images/",utmParams:{utm_medium:"PlanPermissionModal",utm_content:"large image notifications",feature:"Large Image Notifications"}},abNotificationUpgradeModal:{url:"https://www.pushengage.com/push-notification-a-b-testing/",utmParams:{utm_medium:"PlanPermissionModal",utm_content:"A/B testing",feature:"A/B testing in Notification"}},createUrl:{url:"https://www.pushengage.com/documentation/guide-to-creating-the-first-push-campaign-in-wordpress/",utmParams:{utm_medium:"CampaignsPushBroadCastList",utm_content:"creating your first campaign"}}},hp={upgradeModal:{url:"https://www.pushengage.com/web-push-notification-campaign/",utmParams:{utm_medium:"PlanPermissionModal",utm_content:"create a triggered campaign",feature:"Triggered Campaign"}},createTrigger:{url:"https://www.pushengage.com/features/triggered-notifications/",utmParams:{utm_medium:"CreateEditTriggerScreen",utm_content:"creating a triggered campaign",feature:"Triggered Campaign"}}},gp={upgradeModal:{url:"https://www.pushengage.com/how-to-track-push-notifications/",utmParams:{utm_medium:"PlanPermissionModal",utm_content:"push notifications are performing",feature:"Goal Tracking"}},detailedInstruction:{url:"https://www.pushengage.com/documentation/guide-to-getting-started-with-pushengage/",utmParams:{utm_medium:"AnalyticsGoalTracking",utm_content:"See Detailed Instructions"}}},mp={url:"https://www.pushengage.com/push-notification-popup/",utmParams:{utm_medium:"DesignPopupModals",utm_content:"creating popup modals"}},vp={unsubscribe:{url:"https://www.pushengage.com/documentation/how-to-enable-easy-un-subscription-for-your-web-push-subscribers/",utmParams:{utm_medium:"DesignWidgetsUnsubscribeWidgets",utm_content:"unsubscribe from your push notifications"}},recovery:{url:"https://www.pushengage.com/documentation/step-by-step-guide-to-enable-recovery-widgets/",utmParams:{utm_medium:"DesignWidgetsSubscriberRecoverWidget",utm_content:"recovery widgets"}}},yp={monetization:{url:"https://www.pushengage.com/monetize-your-webpush-subscribers/",utmParams:{utm_medium:"FlyoutButton",utm_content:"Monetize Web Push"}},featureRequest:{url:"https://www.pushengage.com/wordpress-plugin-user-survey/",utmParams:{utm_medium:"FlyoutButton",utm_content:"Suggest a Feature"}},support:{url:"https://www.pushengage.com/documentation/",utmParams:{utm_medium:"FlyoutButton",utm_content:"Support & Docs"}}},bp=up,xp=dp,wp={upgradeModal:{url:"https://www.pushengage.com/how-to-configure-subscription-optin-box/",utmParams:{utm_medium:"PlanPermissionModal",utm_content:"push notification optins",feature:"Optin Analytics"}}},kp=gp,_p=fp,Cp={upgradeModal:{url:"https://www.pushengage.com/personalize-your-campaigns-using-attributes/",utmParams:{utm_medium:"PlanPermissionModal",utm_content:"Schedule a drip campaign",feature:"Drip Autoresponder"}}},jp=(tp={},(0,ti.Z)(tp,ii.BUSINESS,[Ua("Track engagement and performance","pushengage"),Ua("Create custom popup modals","pushengage"),Ua("Segment users based on their actions","pushengage"),Ua("Create Audience Groups for retargeting","pushengage"),Ua("Schedule campaigns in advance","pushengage"),Ua("Send campaigns in subscriber's timezone","pushengage"),Ua("Create personalized campaigns","pushengage"),Ua("Send rich push for better engagement","pushengage")]),(0,ti.Z)(tp,ii.PREMIUM,[Ua("Track campaign performance","pushengage"),Ua("Send automated drip campaigns","pushengage"),Ua("A/B test your broadcasts","pushengage"),Ua("Send campaigns in subscriber's timezone","pushengage"),Ua("Get detailed opt-in analytics","pushengage"),Ua("Manage multiple users for your account","pushengage"),Ua("Add multiple sites to a single account","pushengage"),Ua("Get priority support and assistance","pushengage")]),(0,ti.Z)(tp,ii.GROWTH,[Ua("Send personalized automated campaigns","pushengage"),Ua("Send price drop and back-in-stock alerts","pushengage"),Ua("Boost revenue with abandoned cart recovery","pushengage"),Ua("Use attributes tags for personalized campaigns","pushengage"),Ua("Create a dynamic campaign for cross-sell, up-sell & review","pushengage"),Ua("Get VIP assistance from support team","pushengage")]),(0,ti.Z)(tp,ii.TRIGGER,[Ua("Drive higher engagement and conversions with personalized trigger campaigns tailored to individual customer actions.","pushengage"),Ua("Capitalize on timely opportunities such as cart abandonment or price drops to re-engage customers and boost sales.","pushengage"),Ua("Automate marketing responses for streamlined efficiency and consistent customer communication.","pushengage"),Ua("Enhance the customer experience by delivering relevant messages that address specific needs and preferences.","pushengage"),Ua("Increase revenue through targeted upsell, cross-sell, and inventory alert campaigns.","pushengage"),Ua("Gain a competitive edge by leveraging trigger campaigns to stay ahead in the market.","pushengage")]),(0,ti.Z)(tp,"chatWidget",[Ua("Connect multiple channels so customers can reach you from their preferred platform: WhatsApp, FB messenger, Telegram, Email, Phone etc ","pushengage"),Ua("Add multiple agents to handle more chats simultaneously and never miss a customer.","pushengage"),Ua("Schedule chat widgets, channels, and agent availability to stay active when your team and customers are.","pushengage"),Ua("Set up separate widgets for each device type for better control and a seamless experience across desktop and mobile.","pushengage"),Ua("Assign roles, languages, and job profiles to match customers with the right expert and offer personalized assistance every time.","pushengage")]),tp),Sp=Object.freeze({segmentation:{name:"Audience Segmentation",title:Ua("Upgrade to PushEngage Business to Segment Your Subscribers","pushengage"),planType:ii.BUSINESS,benefits:jp[ii.BUSINESS],description:Ua("Send more targeted and <a>personalized push notifications</a> using segments. Upgrade to the Business plan now and you can also:","pushengage"),mappingUrl:"".concat(xp.personalizedPushNotification.url).concat(Qc(xp.personalizedPushNotification.utmParams))},audienceGroup:{name:"Audience Group",title:Ua("Upgrade to PushEngage Business and Create Audience Groups for Your Push Notifications","pushengage"),planType:ii.BUSINESS,benefits:jp[ii.BUSINESS],description:Ua("<a>Create an Audience Group</a> and personalize your notification based on segments, user's geolocation, device and more. Upgrade to the Business plan now and you can also:","pushengage"),mappingUrl:"".concat(bp.createUrl.url).concat(Qc(bp.createUrl.utmParams))},optinAnalytics:{name:"Opt-in Analytics",title:Ua("Upgrade to PushEngage Growth and Get Detailed Optin Analytics","pushengage"),planType:ii.GROWTH,benefits:[Ua("Track campaign performance","pushengage"),Ua("Send automated drip campaigns","pushengage"),Ua("A/B test your broadcasts","pushengage"),Ua("Send campaigns in subscriber's timezone","pushengage"),Ua("Get detailed opt-in analytics","pushengage"),Ua("Manage multiple users for your account","pushengage"),Ua("Add multiple sites to a single account","pushengage"),Ua("Get priority support and assistance","pushengage")],description:Ua("Style your <a>push notification optins</a> based on detailed analytics. Grow your subscriber list faster using data. Upgrade to the Growth plan now and you can also:","pushengage"),mappingUrl:"".concat(wp.upgradeModal.url).concat(Qc(wp.upgradeModal.utmParams))},rssAutoPush:{name:"RSS Autopush",title:Ua("RSS Autopush is a Pro Feature.","pushengage"),description:Ua("Point to your RSS feed and Send automatic campaigns to the user for every new post published.","pushengage"),planType:ii.BUSINESS,benefits:jp[ii.BUSINESS]},notificationAudience:{name:"Notification Audience",title:Ua("Upgrade to PushEngage Business and Select an Audience Group for Your Push Notifications","pushengage"),planType:ii.BUSINESS,benefits:jp[ii.BUSINESS],description:Ua("<a>Create an Audience Group</a> and personalize your notification based on segments, user's geolocation, device and more. Upgrade to the Business plan now and you can also:","pushengage"),mappingUrl:"".concat(bp.createUrl.url).concat(Qc(bp.createUrl.utmParams))},customAudience:{name:"Notification Custom Audience",title:Ua("Upgrade to PushEngage Business and Create a Custom Audience for Your Push Notifications","pushengage"),planType:ii.BUSINESS,benefits:jp[ii.BUSINESS],description:Ua("<a>Create an Audience Group</a> and personalize your notification based on segments, user's geolocation, device and more. Upgrade to the Business plan now and you can also:","pushengage"),mappingUrl:"".concat(bp.createUrl.url).concat(Qc(bp.createUrl.utmParams))},multiActionNotification:{name:"Multi Action Notification",title:Ua("Upgrade to PushEngage Business and Send Notifications with Multiple Call-to-Action Buttons","pushengage"),planType:ii.BUSINESS,benefits:jp[ii.BUSINESS],description:Ua("Link up to 3 landing pages in a single rich notification and get higher clicks from <a>multi-action notifications</a>. Upgrade to the Business plan now and you can also:","pushengage"),mappingUrl:"".concat(_p.multiActionsUpgradeModal.url).concat(Qc(_p.multiActionsUpgradeModal.utmParams))},largeImageNotification:{name:"Large Image Notification",title:Ua("Upgrade to PushEngage Business and Send Notifications with Large Image","pushengage"),planType:ii.BUSINESS,benefits:jp[ii.BUSINESS],description:Ua("Make your campaign more appealing and get higher clicks from <a>large image notifications</a>. Upgrade to the Business plan now and you can also:","pushengage"),mappingUrl:"".concat(_p.largeImageUpgradeModal.url).concat(Qc(_p.largeImageUpgradeModal.utmParams))},scheduledNotification:{name:"Scheduled Notification",title:Ua("Upgrade to PushEngage Business and Schedule Your Notifications","pushengage"),planType:ii.BUSINESS,benefits:jp[ii.BUSINESS],description:Ua("<a>Schedule your push notifications</a> along with the rest of your content calendar. Simply set a date and time and your notifications will get delivered automatically. Upgrade to the Business plan now and you can also:"),mappingUrl:"".concat(_p.scheduleUpgradeModal.url).concat(Qc(_p.scheduleUpgradeModal.utmParams))},trigger:{title:Ua("Triggered Campaign is a Pro Feature","pushengage"),planType:ii.GROWTH,benefits:jp[ii.TRIGGER]},integrations:{woocommerce:{name:"WooCommerce Integration",title:Ua("Upgrade Now to Send WooCommerce Push Campaigns","pushengage"),planType:ii.GROWTH,description:Ua("Get access to proven eCommerce campaign templates that work seamlessly with WooCommerce. Turn your WooCommerce store into a money-minting machine with PushEngage. Try out the PushEngage Growth Plan for a full year at only $99!"),benefits:[Ua("Recover lost sales with automated cart and browse abandonment recovery","pushengage"),Ua("Engage, retain, and convert your store customers","pushengage"),Ua("Launch an automated welcome campaign that boost sales","pushengage"),Ua("Send targeted and personalized campaigns that actively grow revenue","pushengage"),Ua("Reduce churn with powerful customer win-back campaigns","pushengage"),Ua("Increase average order value with cross-sells and upsells","pushengage")]}},multipleNotificationInTrigger:{name:"Multiple Trigger Notification",title:Ua("Multiple Notification in Triggered Campaign is a Pro Feature.","pushengage"),description:Ua("Schedule a triggered campaign with multiple notifications to re-engage, Cross-sell, Lead Capture and many more advanced ones based on audience segments, location or device type.","pushengage"),planType:ii.GROWTH,benefits:jp[ii.GROWTH]},repeatScheduledNotification:{name:"Recurring Notification",title:Ua("Upgrade to PushEngage Business and Send Recurring Notifications","pushengage"),planType:ii.BUSINESS,benefits:jp[ii.BUSINESS],description:Ua("<a>Send recurring notifications</a> to boost weekly sales. Create multiple traffic streams for your sales and promos. Upgrade to the Business plan now and you can also:","pushengage"),mappingUrl:"".concat(_p.repeatScheduleUpgradeModal.url).concat(Qc(_p.repeatScheduleUpgradeModal.utmParams))},pushengageBranding:{name:"Remove PushEngage Branding",title:Ua("Remove PushEngage Branding is a Pro feature.","pushengage"),description:Ua("Remove the PushEngage branding from the subscription Opt-in","pushengage"),planType:ii.BUSINESS,benefits:jp[ii.BUSINESS]},customSubdomain:{name:"Custom Subdomain",title:Ua("Upgrade to PushEngage Business and Collect Push Notification Subscribers in a Custom Subdomain","pushengage"),description:Ua("Collect subscribers for your website through a custom URL for your better branding. Your subscriber list should be portable. Upgrade to the Business plan now and you can also:","pushengage"),planType:ii.BUSINESS,benefits:jp[ii.BUSINESS]},multiSiteNotification:{name:"Multi Site Notification",title:Ua("Multi Site Sending is a Pro Feature","pushengage"),planType:ii.GROWTH,benefits:jp[ii.GROWTH]},timezoneScheduledNotification:{name:"Timezone Notification",title:Ua("Sending notification in subscriber timezone is a Pro Feature.","pushengage"),description:Ua("Optimize your notifications by user timezone and improve user engagement.","pushengage"),planType:ii.GROWTH,benefits:jp[ii.GROWTH]},abNotification:{name:"A/B Notification",title:Ua("Upgrade to PushEngage Growth and A/B Test Your Push Broadcasts","pushengage"),planType:ii.GROWTH,benefits:jp[ii.GROWTH],description:Ua("A/B test any element in your push notifications. Use our Intelligent <a>A/B testing</a> and get better clicks and more revenue. Upgrade to the Growth plan now and you can also:","pushengage"),mappingUrl:"".concat(_p.abNotificationUpgradeModal.url).concat(Qc(_p.abNotificationUpgradeModal.utmParams))},userManagement:{name:"User management",title:Ua("Upgrade and Unlock Multiple User Support.","pushengage"),description:Ua("Manage multiple users with access control under a single account with a single billing.","pushengage"),planType:ii.GROWTH,benefits:jp[ii.GROWTH]},siteManagement:{name:"Site Management",title:Ua("Upgrade and Manage Multiple Sites.","pushengage"),description:Ua("Add and manage multiple websites under a single account with a single billing.","pushengage"),planType:ii.GROWTH,benefits:jp[ii.GROWTH]},drip:{name:"Drip Autoresponders",title:Ua("Upgrade to PushEngage Growth and Send Drip Autoresponder Push Notifications","pushengage"),planType:ii.GROWTH,benefits:jp[ii.GROWTH],description:Ua("<a>Schedule a drip campaign</a> with multiple notifications for re-engagement, cross-selling, upselling and much more. Personalize your campaigns using Segments, Audience Groups, and Attributes. Upgrade to the Growth plan now and you can also:","pushengage"),mappingUrl:"".concat(Cp.upgradeModal.url).concat(Qc(Cp.upgradeModal.utmParams))},multipleNotificationInDrip:{name:"Multiple Drip Notification",title:Ua("Multiple Notification in Drip Autoresponders is a Pro Feature.","pushengage"),description:Ua("Schedule a drip campaign with multiple notifications to re-engage, Cross-sell, Lead Capture and many more advanced ones based on audience segments, location or device type.","pushengage"),planType:ii.GROWTH,benefits:jp[ii.GROWTH]},goalTracking:{name:"Goal Tracking",title:Ua("Upgrade to PushEngage Growth to Enable Goal Tracking","pushengage"),planType:ii.GROWTH,benefits:jp[ii.GROWTH],description:Ua("Track how your <a>push notifications are performing</a>. Create custom goals and stay on track with your marketing strategy. Upgrade to the Growth plan now and you can also:","pushengage"),mappingUrl:"".concat(kp.upgradeModal.url).concat(Qc(kp.upgradeModal.utmParams))},whatsappOrderAutomation:{name:"WhatsApp Order Automation",planType:ii.BUSINESS,title:Ua("\u2705 Send Order Updates on WhatsApp","pushengage"),description:Ua("Deliver real-time order updates to your customers where they actually read them-on WhatsApp. This unlocks essential automation tools to keep your customers informed. Starting at just $49/year, it includes unlimited WhatsApp sending and unlimited subscribers.","pushengage"),benefits:[Ua("Send order updates instantly via WhatsApp.","pushengage"),Ua("Keep customers informed at every step.","pushengage"),Ua("Cut down support tickets and follow-ups.","pushengage"),Ua("Automate it once, let it run on autopilot.","pushengage"),Ua("Scale freely with unlimited sending and subscribers.","pushengage")]},whatsappCartAbandonmentAutomation:{name:"WhatsApp Cart Abandonment Automation",planType:ii.GROWTH,title:Ua("\ud83d\uded2 Recover Abandoned Carts with WhatsApp","pushengage"),description:Ua("Bring shoppers back and recover lost sales with automated WhatsApp cart reminders. The Growth Plan starts at just $99/year, and includes unlimited WhatsApp sending and unlimited subscribers - built to scale with your business.","pushengage"),benefits:[Ua("Send cart recovery messages instantly on WhatsApp.","pushengage"),Ua("Reconnect with high-intent shoppers in real time.","pushengage"),Ua("Boost conversions with personalized nudges.","pushengage"),Ua("Automate once and recover carts on autopilot.","pushengage"),Ua("No caps\u2014enjoy unlimited sending and subscribers.","pushengage")]},chatWidgets:{name:"Chat Widgets",title:Ua("Upgrade to Get More Conversions with Chat Widget","pushengage"),description:Ua("Get multiple chat widget features like multi-agent support, targeting & personalization, scheduled availability, analytics & conversation tracking, and fully customizable UI.","pushengage"),planType:ii.BUSINESS,benefits:jp.chatWidget}}),Zp=Object.freeze((0,ti.Z)({},ii.BUSINESS,[Ua("Automated Push + WhatsApp","pushengage"),Ua("Multi-Channel Chat (Multi-Agent)","pushengage"),Ua("AI Copy Generator","pushengage"),Ua("Advanced Segmentation","pushengage"),Ua("A/B Testing","pushengage"),Ua("Priority Support","pushengage")])),Np=function(e){return Lc.get("accounts/".concat(e,"/subscribers/count/active_subscriber_count"))},Ep=function(e,t){return Lc.post("sites/".concat(e,"/subscribers/count/get_subscribers_count_by_rule_criteria"),t)},Op=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("sites/".concat(t,"/subscribers/count/active_subscriber_count")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ap=function(e,t){return Lc.post("sites/".concat(e,"/subscribers/cleanup-request"),t)},Tp=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"currentColor",focusable:"false","data-icon":"pe-check-circle-filled","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M9.99695 0.00012207C15.5143 0.00012207 19.9937 4.47949 19.9937 9.99683C19.9937 15.5142 15.5143 19.9935 9.99695 19.9935C4.47962 19.9935 0.000244141 15.5142 0.000244141 9.99683C0.000244141 4.47949 4.47962 0.00012207 9.99695 0.00012207ZM15.2575 7.54085C15.2575 7.37063 15.1896 7.20138 15.067 7.07983L14.144 6.15678C14.0224 6.03421 13.8522 5.96632 13.683 5.96632C13.5128 5.96632 13.3436 6.03421 13.221 6.15678L8.76794 10.6139L6.77293 8.61281C6.65032 8.4902 6.48112 8.4223 6.3109 8.4223C6.1417 8.4223 5.97148 8.4902 5.84993 8.61281L4.92688 9.53581C4.80426 9.65741 4.73642 9.82763 4.73642 9.99683C4.73642 10.166 4.80426 10.3362 4.92688 10.4578L8.30693 13.8369C8.42853 13.9595 8.59874 14.0273 8.76794 14.0273C8.93816 14.0273 9.10736 13.9595 9.22998 13.8369L15.067 8.00182C15.1896 7.88027 15.2575 7.71005 15.2575 7.54085Z"})}))},Pp=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Tp},e))},Mp=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 9 9",fill:"currentColor",focusable:"false","data-icon":"pe-arrow-up-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M1.39771 5.22266C1.57349 5.39844 1.83716 5.38086 2.01294 5.22266L4.03442 3.0957V8.14062C4.03442 8.38672 4.21021 8.5625 4.4563 8.5625H5.0188C5.24731 8.5625 5.44067 8.38672 5.44067 8.14062V3.0957L7.44458 5.20508C7.62036 5.38086 7.88403 5.38086 8.05981 5.22266L8.44653 4.83594C8.60474 4.66016 8.60474 4.39648 8.44653 4.23828L5.0188 0.810547C4.8606 0.652344 4.59692 0.652344 4.43872 0.810547L1.01099 4.23828C0.852783 4.39648 0.852783 4.66016 1.01099 4.83594L1.39771 5.22266Z"})}))},Ip=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Mp},e))};function Dp(e,t){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,at.Z)((0,it.Z)().mark((function e(t,n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("accounts/".concat(t,"/billing/payment/plans"),{params:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rp=mt.Z.Title,Bp=mt.Z.Paragraph,Fp=Zp[ii.BUSINESS],zp=function(e){var t=(0,vt.s0)(),n=bt(qr),r=(0,oe.useState)(!0),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=(0,oe.useState)(0),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(!0),p=(0,xe.Z)(d,1)[0],f=(0,oe.useState)({}),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=bt(Hr),y="".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:v,drawer:!0,planType:ii.BUSINESS,utm_medium:"InstantUpgradeModal",utm_content:"Upgrade Now",coupon:e.isValidOffer?ji.FREE_UPGRADE_IN_48:ji.FREE_UPGRADE_AFTER_48}));(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){var t,r,i,a,s,l,c;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Promise.all([Np(n),Dp(n,{type:"plan",plan_type:"business",platform:"stripe"})]);case 4:i=e.sent,a=(0,xe.Z)(i,2),s=a[0],l=a[1],u((null===(t=s.data)||void 0===t?void 0:t.count)||0),c=(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r[0])||{},m(c),o(!1),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})))()}),[n]);var b=(0,oe.useMemo)((function(){if(!Xi()(g,"tiers"))return{};var e=p?"year":"month",t=g.tiers.filter((function(t){return t.plan_mode===e})),n=function(e,t,n){if(!e||0===e.length)return null;var r,i=(0,we.Z)(e).sort((function(e,t){return(e[n]||0)-(t[n]||0)})),a=(0,sp.Z)(i);try{for(a.s();!(r=a.n()).done;){var o=r.value;if((o[n]||0)>=t)return o}}catch(s){a.e(s)}finally{a.f()}return i[i.length-1]}(t,c,"subscribers_limit");return n||t[t.length-1]}),[p,g,c]),x=function(t){if(!t)return 0;var n=e.isValidOffer?45:40;return Math.floor(t*(100-n)/100)},w=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&0!==Object.keys(b).length){e.next=3;break}return t($r.path.settings.billing),e.abrupt("return");case 3:window.open(y,"_blank");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=b;return(0,st.jsx)(gt.Z,{className:"pe-instant-upgrade-modal",width:450,closeIcon:(0,st.jsx)($c,{className:"pe-fs-11"}),title:(0,st.jsx)("div",{className:"pe-instant-upgrade-modal--title",children:e.isValidOffer?(0,st.jsxs)("div",{className:"pe-instant-upgrade-modal--main-title",children:[(0,st.jsx)(Rp,{level:1,className:"pe-mb-0 pe-color-white",children:Ua("45% off","pushengage")}),(0,st.jsx)(Bp,{className:"pe-color-white",children:Ua("Upgrade before time runs out","pushengage")})]}):(0,st.jsxs)("div",{className:"pe-instant-upgrade-modal--main-title",children:[(0,st.jsx)(Rp,{level:1,className:"pe-mb-0 pe-color-white",children:Ua("40% off","pushengage")}),(0,st.jsx)(Bp,{className:"pe-color-white",children:Ua("Grab The Special Discount","pushengage")})]})}),visible:e.isVisibleInstantUpgradeModal,onCancel:function(){e.setIsVisibleInstantUpgradeModal(!1)},maskClosable:!1,footer:null,zIndex:99998,children:(0,st.jsxs)(Hc.default,{spinning:a,children:[(0,st.jsx)("div",{className:"pe-instant-upgrade-modal--overlap",children:e.isValidOffer&&(0,st.jsx)(op,{hours:e.hours,mins:e.mins,secs:e.secs,isSmallCountDown:!1})}),(0,st.jsxs)("div",{style:{marginTop:e.isValidOffer?-48:-18},children:[(0,st.jsxs)(Bp,{className:"pe-fs-18 pe-color-neutral-40 pe-mb-16 pe-mt-12 pe-ta-center",children:[Ua("starting at","pushengage")," ",(0,st.jsxs)("span",{style:{textDecorationLine:"line-through"},children:["$","".concat((null===k||void 0===k?void 0:k.price)||"")]})]}),(0,st.jsxs)(Bp,{className:"pe-mb-16 pe-ta-center",children:[(0,st.jsx)("sup",{className:"pe-fs-18",children:"$"}),(0,st.jsx)("span",{className:"pe-fs-28",children:"".concat(x(null===k||void 0===k?void 0:k.price))}),(0,st.jsxs)("sub",{className:"pe-fs-14 pe-color-neutral-40",children:["/",p?"year":"month"]})]}),(0,st.jsx)(Bp,{className:"saving-tag",children:ba(Ua("$%1$s Savings*","pushengage"),"".concat(((null===k||void 0===k?void 0:k.price)||0)-x(null===k||void 0===k?void 0:k.price)))})]}),(0,st.jsx)(Rp,{level:3,children:Ua("Get Access to","pushengage")}),(0,st.jsx)(dt.Z,{gutter:12,children:(0,st.jsxs)(ht.Z,{span:24,children:[(0,st.jsxs)("div",{className:"payment__feature pe-d-flex",children:[(0,st.jsx)(Pp,{className:"pe-mr-14 pe-color-green payment__feature--icon"}),(0,st.jsx)(mt.Z.Paragraph,{children:ba(Ua("Reach a wider audience (up to %1$s subscribers)","pushengage"),"".concat(null===k||void 0===k?void 0:k.subscribers_limit))})]}),Fp.map((function(e){return(0,st.jsxs)("div",{className:"payment__feature pe-d-flex",children:[(0,st.jsx)(Pp,{className:"pe-mr-14 pe-color-green payment__feature--icon"}),(0,st.jsxs)(mt.Z.Paragraph,{children:[" ",e]})]},e)}))]})}),(0,st.jsxs)("div",{className:"pe-ta-center",children:[(0,st.jsx)(pt.default,{type:"primary",disabled:a,size:"large",block:!0,icon:(0,st.jsx)(Ip,{}),style:{marginTop:8},onClick:function(){w()},children:Ua("Upgrade Now","pushengage")}),(0,st.jsx)("div",{className:"pe-instant-upgrade-modal--footer",children:(0,st.jsx)(Bp,{className:"pe-fs-10 pe-mt-4 pe-color-neutral-40",children:Ua("Offer will be applied automatically","pushengage")})})]})]})})},Vp=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",focusable:"false","data-icon":"pe-exclamation-circle-filled","aria-hidden":"true",children:[(0,st.jsx)("circle",{cx:"8",cy:"8",r:"8"}),(0,st.jsx)("path",{d:"M9.09375 10.2595C9.09375 9.65794 8.60156 9.16576 8 9.16576C7.38476 9.16576 6.90625 9.65794 6.90625 10.2595C6.90625 10.8747 7.38476 11.3533 8 11.3533C8.60156 11.3533 9.09375 10.8747 9.09375 10.2595ZM7.02929 4.70872L7.20703 8.42747C7.2207 8.59154 7.37109 8.72826 7.53515 8.72826H8.45117C8.61523 8.72826 8.76562 8.59154 8.77929 8.42747L8.95703 4.70872C8.9707 4.51732 8.82031 4.35326 8.6289 4.35326H7.35742C7.16601 4.35326 7.01562 4.51732 7.02929 4.70872Z",fill:"white"})]}))},Up=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Vp},e))},Hp=mt.Z.Text,Wp=function(){var e=(0,vt.TH)(),t=bt((function(e){var t,n,r;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.owner)||void 0===r?void 0:r.created_at})),n=bt((function(e){var t,n,r,i,a,o,s,l;return(null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.owner)||void 0===r||null===(i=r.paymentSubscription)||void 0===i||null===(a=i.plan)||void 0===a?void 0:a.plan_type)===ii.FREE&&(null===(o=e.session)||void 0===o||null===(s=o.user)||void 0===s||null===(l=s.owner)||void 0===l?void 0:l.payment_subscription_status)===ai.EMPTY})),r=(0,oe.useState)({hr:0,min:0,sec:0}),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=(0,oe.useState)(!1),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(!1),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=(0,oe.useState)(!1),m=(0,xe.Z)(g,2),v=m[0],y=m[1];return(0,oe.useEffect)((function(){var r,i=ei().utc(t).add(48,"hours"),a=ei().utc(),s=i.diff(a,"seconds");if(n&&s>0){if(e.pathname!==$r.path.settings.billing){setTimeout((function(){h(!0)}),12e4)}r=setInterval((function(){if(a=ei().utc(),(s=i.diff(a,"seconds"))<0)o({hr:0,min:0,sec:0}),u(!1),clearInterval(r);else{var e=Math.floor(s/3600),t=Math.floor((s-60*e*60)/60),n=Math.floor(s-60*e*60-60*t);u(!0),o({hr:e,min:t,sec:n})}}),1e3)}return function(){return clearInterval(r)}}),[n,t]),n?(0,st.jsxs)(st.Fragment,{children:[!v&&window.location.pathname!==$r.path.settings.billing&&(0,st.jsx)(Au.default,{style:{border:"unset"},className:"pe-ma-16 pe-instant-upgrade-alert",showIcon:!0,closable:!0,icon:(0,st.jsx)(Up,{}),type:"info",onClose:function(){y(!0)},message:(0,st.jsxs)(dt.Z,{gutter:[8,8],align:"top",children:[(0,st.jsxs)(ht.Z,{xs:24,sm:c?14:19,md:c?14:19,lg:c?14:19,xl:c?14:19,children:[(0,st.jsxs)(Hp,{strong:!0,children:[Ua("You're using the Free version of PushEngage. ","pushengage")," "]})," ",(0,st.jsx)(Hp,{strong:!0,children:ba(Ua("Upgrade Your Plan + Avail %1$s Off now ","pushengage"),"".concat(c?"45%":"40%"))}),(0,st.jsx)(Hp,{children:Ua("to experience multichannel retention campaigns, multi-agent chat widgets, WhatsApp Business automation, and more!","pushengage")})]}),c&&(0,st.jsx)(ht.Z,{xs:24,sm:5,md:5,lg:5,xl:5,children:(0,st.jsx)("div",{style:{textAlign:"right"},children:(0,st.jsx)(op,{hours:a.hr.toString().padStart(2,"0"),mins:a.min.toString().padStart(2,"0"),secs:a.sec.toString().padStart(2,"0"),isSmallCountDown:!0})})}),(0,st.jsx)(ht.Z,{xs:24,sm:5,md:5,lg:5,xl:5,children:(0,st.jsx)("div",{style:{textAlign:"right"},className:"pe-upgrade-button-wrapper",children:(0,st.jsx)(pt.default,{type:"primary",size:"small",onClick:function(){h(!0)},block:!0,className:"pe-upgrade-button",children:Ua("Upgrade Now","pushengage")})})})]})}),f&&(0,st.jsx)(zp,{hours:a.hr.toString().padStart(2,"0"),mins:a.min.toString().padStart(2,"0"),secs:a.sec.toString().padStart(2,"0"),isValidOffer:c,isVisibleInstantUpgradeModal:f,setIsVisibleInstantUpgradeModal:h})]}):null},qp=function(){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Wp,{}),(0,st.jsx)(Tu,{}),(0,st.jsx)(Qu,{}),(0,st.jsx)(Bu,{}),(0,st.jsx)(cd,{alertClass:"pe-ma-20"}),(0,st.jsx)(ap,{listType:"banner"})]})},Kp=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 21 20",fill:"currentColor",focusable:"false","data-icon":"pe-circle-question-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.16669 10C2.16669 5.40002 5.90002 1.66669 10.5 1.66669C15.1 1.66669 18.8334 5.40002 18.8334 10C18.8334 14.6 15.1 18.3334 10.5 18.3334C5.90002 18.3334 2.16669 14.6 2.16669 10ZM11.3334 13.3334V15H9.66669V13.3334H11.3334ZM10.5 16.6667C6.82502 16.6667 3.83335 13.675 3.83335 10C3.83335 6.32502 6.82502 3.33335 10.5 3.33335C14.175 3.33335 17.1667 6.32502 17.1667 10C17.1667 13.675 14.175 16.6667 10.5 16.6667ZM7.16669 8.33335C7.16669 6.49169 8.65835 5.00002 10.5 5.00002C12.3417 5.00002 13.8334 6.49169 13.8334 8.33335C13.8334 9.40245 13.175 9.97779 12.534 10.538C11.9259 11.0694 11.3334 11.5872 11.3334 12.5H9.66669C9.66669 10.9823 10.4518 10.3805 11.1421 9.85142C11.6835 9.43636 12.1667 9.06603 12.1667 8.33335C12.1667 7.41669 11.4167 6.66669 10.5 6.66669C9.58335 6.66669 8.83335 7.41669 8.83335 8.33335H7.16669Z"})}))},Yp=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Kp},e))},Gp=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 15 16",fill:"currentColor",focusable:"false","data-icon":"pe-bell-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M8 15C7.4375 15 7 14.5625 7 14H6C6 15.125 6.875 16 8 16C9.09375 16 10 15.125 10 14H9C9 14.5625 8.53125 15 8 15ZM14.5312 10.4688C13.6562 9.65625 13 8.78125 13 5.8125C13 3.34375 11 1.3125 8.5 1.0625V0.5C8.5 0.25 8.25 0 8 0C7.71875 0 7.5 0.25 7.5 0.5V1.0625C4.96875 1.3125 2.96875 3.34375 2.96875 5.8125C2.96875 8.78125 2.3125 9.65625 1.4375 10.4688C1 10.9062 0.875 11.5312 1.09375 12.0938C1.3125 12.6562 1.875 13 2.5 13H13.5C14.0938 13 14.6562 12.6562 14.875 12.0938C15.0938 11.5312 14.9688 10.9062 14.5312 10.4688ZM13.5 12H2.5C2.03125 12 1.8125 11.5 2.125 11.1875C3.21875 10.1562 3.96875 9 3.96875 5.8125C3.96875 3.71875 5.78125 2 8 2C10.1875 2 12 3.71875 12 5.8125C12 9 12.75 10.1562 13.8438 11.1875C14.1562 11.5 13.9375 12 13.5 12Z"})}))},Qp=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Gp},e))},Xp=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-megaphone-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M880 112c-3.8 0-7.7.7-11.6 2.3L292 345.9H128c-8.8 0-16 7.4-16 16.6v299c0 9.2 7.2 16.6 16 16.6h101.7c-3.7 11.6-5.7 23.9-5.7 36.4 0 65.9 53.8 119.5 120 119.5 55.4 0 102.1-37.6 115.9-88.4l408.6 164.2c3.9 1.5 7.8 2.3 11.6 2.3 16.9 0 32-14.2 32-33.2V145.2C912 126.2 897 112 880 112zM344 762.3c-26.5 0-48-21.4-48-47.8 0-11.2 3.9-21.9 11-30.4l84.9 34.1c-2 24.6-22.7 44.1-47.9 44.1zm496 58.4L318.8 611.3l-12.9-5.2H184V417.9h121.9l12.9-5.2L840 203.3v617.4z"})}))},$p=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Xp},e))},Jp=[{version:"4.2.0",title:Ua("\u2728 New in PushEngage: Multichannel Chat Widgets","pushengage"),description:Ua("Turn your website into a real-time communication center. With the updated PushEngage Chat Widget, you can connect visitors to your business instantly \u2014 using <strong>the channels they already love.</strong><br />","pushengage"),features:[{type:"new",title:Ua("Capabilities That Convert More Visitors","pushengage"),description:Ua("<ul><li><strong>Multi-Agent Support</strong> - Route conversations to the right team members \u2014 sales, support, operations &amp; more.</li><li><strong>Targeting &amp; Personalization</strong> - Show specific channels based on location, device type, or visitor behavior.</li><li><strong>Scheduled Availability</strong> - Display support availability based on working hours or agent status.</li><li><strong>Saved Replies &amp; FAQs</strong> - Respond faster with pre-built response templates.</li><li><strong>Analytics &amp; Conversation Tracking</strong> - Understand which channels are driving engagement and ROI.</li><li><strong>Fully Customizable UI</strong> - Match widget design to your brand identity in minutes.</li></ul>","pushengage")}],spotlight:{type:"image",url:"".concat(window.pushengage.assetsUrl,"img/chatwidget-banner.png"),description:Ua("Enable the widget, pick your channels, customize the UI \u2014 and go live. No coding required.","pushengage"),link:"".concat(window.pushengage.pluginDashboardUrl,"chat-widgets")},summary:{cta:{label:Ua("Try the new Multichannel Chat Widget now","pushengage"),url:"".concat(window.pushengage.pluginDashboardUrl,"chat-widgets")}}}];function ef(e){return e?Jp.find((function(t){return t.version===e})):Jp[0]}function tf(){var e;return(null===(e=window)||void 0===e?void 0:e.pushengageWhatsNew)||{}}n(47657);var nf=n(59152),rf=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-fire-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M834.1 469.2A347.49 347.49 0 00751.2 354l-29.1-26.7a8.09 8.09 0 00-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 01-47.5 46.1 352.6 352.6 0 00-100.3 121.5A347.75 347.75 0 00160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0075.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 00760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0027.7-136c0-48.8-10-96.2-29.9-140.9zM713 808.5c-53.7 53.2-125 82.4-201 82.4s-147.3-29.2-201-82.4c-53.5-53.1-83-123.5-83-198.4 0-43.5 9.8-85.2 29.1-124 18.8-37.9 46.8-71.8 80.8-97.9a349.6 349.6 0 0058.6-56.8c25-30.5 44.6-64.5 58.2-101a240 240 0 0012.1-46.5c24.1 22.2 44.3 49 61.2 80.4 33.4 62.6 48.8 118.3 45.8 165.7a74.01 74.01 0 0024.4 59.8 73.36 73.36 0 0053.4 18.8c19.7-1 37.8-9.7 51-24.4 13.3-14.9 24.8-30.1 34.4-45.6 14 17.9 25.7 37.4 35 58.4 15.9 35.8 24 73.9 24 113.1 0 74.9-29.5 145.4-83 198.4z"})}))},af=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:rf},e))},of=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-info-circle-outlined","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}),(0,st.jsx)("path",{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"})]}))},sf=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:of},e))},lf=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-bug-outlined","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M304 280h56c4.4 0 8-3.6 8-8 0-28.3 5.9-53.2 17.1-73.5 10.6-19.4 26-34.8 45.4-45.4C450.9 142 475.7 136 504 136h16c28.3 0 53.2 5.9 73.5 17.1 19.4 10.6 34.8 26 45.4 45.4C650 218.9 656 243.7 656 272c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-40-8.8-76.7-25.9-108.1a184.31 184.31 0 00-74-74C596.7 72.8 560 64 520 64h-16c-40 0-76.7 8.8-108.1 25.9a184.31 184.31 0 00-74 74C304.8 195.3 296 232 296 272c0 4.4 3.6 8 8 8z"}),(0,st.jsx)("path",{d:"M940 512H792V412c76.8 0 139-62.2 139-139 0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8a63 63 0 01-63 63H232a63 63 0 01-63-63c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 76.8 62.2 139 139 139v100H84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h148v96c0 6.5.2 13 .7 19.3C164.1 728.6 116 796.7 116 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-44.2 23.9-82.9 59.6-103.7a273 273 0 0022.7 49c24.3 41.5 59 76.2 100.5 100.5S460.5 960 512 960s99.8-13.9 141.3-38.2a281.38 281.38 0 00123.2-149.5A120 120 0 01836 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-79.3-48.1-147.4-116.7-176.7.4-6.4.7-12.8.7-19.3v-96h148c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM716 680c0 36.8-9.7 72-27.8 102.9-17.7 30.3-43 55.6-73.3 73.3C584 874.3 548.8 884 512 884s-72-9.7-102.9-27.8c-30.3-17.7-55.6-43-73.3-73.3A202.75 202.75 0 01308 680V412h408v268z"})]}))},cf=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:lf},e))},uf=function(e){var t=e.type,n=e.label,r={new:(0,st.jsx)(af,{}),improvement:(0,st.jsx)(sf,{}),bugfix:(0,st.jsx)(cf,{})};return(0,st.jsx)(nf.default,{icon:r[t],color:{new:"#46B450",improvement:"#3B43FF",bugfix:"#E06B44"}[t],children:n})},df=n(63701),pf=(df.domToReact,df.htmlToDOM,df.attributesToProps,df.Element,df),ff=function(e){var t,n,r,i=e.whatsNewData,a=mt.Z.Title,o=mt.Z.Paragraph;return i?(0,st.jsxs)(dt.Z,{gutter:[36,24],children:[(0,st.jsxs)(ht.Z,{span:24,lg:12,children:[(0,st.jsx)(a,{level:2,children:i.title}),(0,st.jsx)(o,{children:pf(i.description)}),i.features.map((function(e,t){var n;return(0,st.jsxs)(dt.Z,{style:{flexDirection:"column"},children:[(0,st.jsxs)(o,{className:"pe-fs-16 pe-fw-700",children:[(0,st.jsx)("span",{className:"pe-mr-10",children:e.title}),(0,st.jsx)(uf,{type:e.type,label:e.type.toUpperCase()})]}),e.description&&(0,st.jsx)(o,{children:pf(e.description)}),null===e||void 0===e||null===(n=e.cta)||void 0===n?void 0:n.map((function(e,t){return(0,st.jsx)("a",{className:"pe-mb-10 pe-d-inline-block",target:"_blank",rel:"noreferrer",href:e.url,children:(0,st.jsxs)(pt.default,{type:"default",size:"large",children:[e.label," ",(0,st.jsx)(od,{className:"pe-ml-8"})]})},t)}))]},t)})),(null===i||void 0===i?void 0:i.summary)&&(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(a,{level:2,children:i.summary.title}),(0,st.jsx)(o,{children:i.summary.description}),(null===(t=i.summary)||void 0===t?void 0:t.cta)&&(0,st.jsx)("a",{href:i.summary.cta.url,style:{display:"inline-block"},children:(0,st.jsx)(pt.default,{type:"primary",size:"large",children:i.summary.cta.label})})]})]}),(null===i||void 0===i?void 0:i.spotlight)&&(0,st.jsxs)(ht.Z,{span:24,lg:12,children:[(0,st.jsx)(a,{level:2,children:null===(n=i.spotlight)||void 0===n?void 0:n.title}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{children:"image"===i.spotlight.type?(0,st.jsx)(st.Fragment,{children:null!==(r=i.spotlight)&&void 0!==r&&r.link?(0,st.jsx)("a",{href:i.spotlight.link,children:(0,st.jsx)("img",{src:i.spotlight.url,alt:"spotlight",style:{width:"100%",maxWidth:540,height:"auto"}})}):(0,st.jsx)("img",{src:i.spotlight.url,alt:"spotlight",style:{width:"100%",maxWidth:540,height:"auto"}})}):(0,st.jsx)("iframe",{title:"Getting Started Video",src:i.spotlight.url,width:"538",height:"300",style:{width:"100%",maxWidth:540},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(a,{level:3,children:i.spotlight.heading}),(0,st.jsx)(o,{children:pf(i.spotlight.description)})]})]})]})]}):null},hf=mt.Z.Text,gf=mt.Z.Paragraph,mf=function(){var e=yt(),t=bt((function(e){return e.review.reviewDetails})),n=oe.useState(!1),r=(0,xe.Z)(n,2),i=r[0],a=r[1];if(!t||i)return null;var o=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(n,r){return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),t.next=3,e(Cl({clicked_review_action:n}));case 3:a(!1),r&&window.open(r,"_blank");case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return(0,st.jsx)(Wc.Z,{className:"pe-review-alert-card pe-ma-20",children:(0,st.jsx)(Wc.Z.Meta,{avatar:(0,st.jsx)(bu,{style:{color:"#09A347",fontSize:32}}),title:(0,st.jsx)(hf,{className:"pe-fs-19 pe-fw-700",children:t.title}),description:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(gf,{type:"secondary",className:"small pe-fw-500",children:t.message}),(0,st.jsxs)(dt.Z,{gutter:[12,12],children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",className:"pe-fw-600 pe-px-14",type:"primary",onClick:function(){return o("dismissed",t.url)},children:Ua("Ok, you deserve it","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",className:"pe-fw-600 pe-px-14",onClick:function(){return o("later")},children:Ua("Nope, maybe later","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",type:"text",className:"pe-fw-600 pe-fs-13",onClick:function(){return o("dismissed")},children:Ua("I already did","pushengage")})})]}),(0,st.jsx)(pt.default,{type:"text",size:"small",className:"pe-review-card-dismiss-btn",icon:(0,st.jsx)($c,{}),onClick:function(){return o("later")}})]})})})},vf=mt.Z.Text,yf=function(){var e=bt(Vr),t=bt((function(e){var t,n;return null===e||void 0===e||null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.user_id})),n=(0,vt.TH)(),r=(0,oe.useState)(!1),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=(0,oe.useState)(!1),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(!1),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=(0,oe.useState)({categories:{},docs:[]}),m=(0,xe.Z)(g,2),v=m[0],y=m[1],b=(0,oe.useState)([]),x=(0,xe.Z)(b,2),w=x[0],k=x[1],_=(0,oe.useState)(!1),C=(0,xe.Z)(_,2),j=C[0],S=C[1],Z=bt((function(e){var t;return null===e||void 0===e||null===(t=e.review)||void 0===t?void 0:t.reviewDetails})),N=(0,oe.useState)(!1),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=(0,oe.useState)(void 0),P=(0,xe.Z)(T,2),M=P[0],I=P[1],D=n.pathname===$r.path.dashboard,L=!e&&D;(0,oe.useEffect)((function(){e&&t&&(0,at.Z)((0,it.Z)().mark((function e(){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,Rc(t,{tags:"wp"});case 4:(n=e.sent).data&&k(n.data),S(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[t,e]),(0,oe.useEffect)((function(){var e,t,n=ef((null===(e=window)||void 0===e||null===(t=e.pushengage)||void 0===t?void 0:t.peVersion)||"");I(n)}),[]);var R=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(!0),!v.docs.length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,u(!0),e.next=7,il({action:rl.GET_HELP_DOCS});case 7:(r=e.sent).data&&null!==(t=r.data)&&void 0!==t&&t.categories&&null!==(n=r.data)&&void 0!==n&&n.docs&&y(r.data),u(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),u(!1);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),B=M?"".concat(Ua("What's New","pushengage")," - v").concat(M.version):Ua("What's New","pushengage");return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(gt.Z,{className:"pe-modal-form pe-whatsnew-modal",title:B,closable:!0,closeIcon:(0,st.jsx)($c,{}),maskClosable:!1,onCancel:function(){return A(!1)},destroyOnClose:!0,visible:O,footer:null,width:1080,zIndex:100007,centered:!0,bodyStyle:{padding:"24px 24px 28px"},maskStyle:{backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)",backgroundColor:"rgba(20, 27, 57, 0.28)"},getContainer:function(){return document.getElementById("wpcontent")||document.body},children:M?(0,st.jsx)(ff,{whatsNewData:M}):(0,st.jsxs)("div",{className:"pe-p-24",children:[(0,st.jsx)(mt.Z.Title,{level:3,children:"What's New"}),(0,st.jsx)(mt.Z.Paragraph,{children:"No updates available."})]})}),(0,st.jsx)(hu,{showHelpDrawer:a,closeHelpDrawer:function(){return o(!1)},helpDocumentData:v,loadingHelpDocumentData:c}),(0,st.jsx)(Ou,{alerts:w,loadingAlerts:j,showAlertDrawer:f,updateAlerts:function(e){return k(e)},handleAlertLoading:function(e){return S(e)},closeAlertDrawer:function(){return h(!1)}}),(0,st.jsxs)("div",{className:"pe-page-header-container",children:[(0,st.jsx)(qp,{}),(0,st.jsx)(mf,{}),(0,st.jsx)("div",{className:"pe-page-header ".concat(L?"pe-page-header-hero-bg":""),children:(0,st.jsxs)(dt.Z,{justify:"space-between",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(ot.OL,{to:$r.path.dashboard,className:"pe-main-logo-nav-link",children:(0,st.jsx)("img",{width:"163",src:"".concat(window.pushengage.assetsUrl,"img/pushengage-logo.svg"),alt:""})})}),(0,st.jsxs)(ht.Z,{className:"pe-d-flex pe-align-items-center",children:[(0,st.jsx)(ft.default,{placement:"bottom",title:Ua("Notifications","pushengage"),children:(0,st.jsxs)("div",{className:"pe-mr-20 pe-d-flex pe-cursor-pointer pe-p-relative",onClick:function(){h(!0)},children:[w.length||Z?(0,st.jsx)("div",{className:"pe-header-notification-count pe-p-absolute pe-w-16 pe-h-16 pe-bg-red pe-br-8",children:(0,st.jsx)(vf,{className:"pe-fs-12 pe-fw-700 pe-color-white pe-lh-14",children:w.length+(Z?1:0)})}):null,(0,st.jsx)(Qp,{className:"pe-fs-20 pe-color-neutral-40"})]})}),M?(0,st.jsx)(ft.default,{placement:"bottom",title:Ua("What's New?","pushengage"),children:(0,st.jsx)(pt.default,{type:"text",className:"pe-mr-20 pe-d-flex pe-cursor-pointer pe-align-items-center",onClick:function(){return A(!0)},"aria-label":Ua("What's New","pushengage"),style:{padding:0,height:"auto"},children:(0,st.jsx)($p,{className:"pe-fs-20 pe-color-neutral-40"})})}):null,(0,st.jsxs)("div",{id:"help-drawer-link",className:"pe-d-flex pe-align-items-center pe-cursor-pointer pe-color-neutral-40 pe-fw-600 pe-fs-14",onClick:R,children:[(0,st.jsx)(Yp,{className:"pe-mr-2 pe-fs-20"}),"Help"]})]})]})})]})]})};function bf(e,t){return xf.apply(this,arguments)}function xf(){return xf=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r,i,a,o,s,l,c;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.start_created_at,i=n.end_created_at,a=n.group_by,o=n.include_meta,s=n.expand,l=n.format,c="/sites/".concat(t,"/analytics/summary?start_created_at=").concat(r,"&end_created_at=").concat(i,"&group_by=").concat(a),s&&(c="".concat(c,"&expand=").concat(s)),o&&(c="".concat(c,"&include_meta=").concat(o)),l&&(c="".concat(c,"&format=").concat(l)),e.abrupt("return",Lc.get(c));case 6:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}function wf(e,t){return kf.apply(this,arguments)}function kf(){return(kf=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eo(n),e.abrupt("return",Lc.get("/sites/".concat(t,"/analytics/optin").concat(r)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _f=function(e,t){var n=(0,kn.Z)({},t);return"string"===typeof n.name&&""===n.name.trim()&&delete n.name,Lc.get("sites/".concat(e,"/chat-widgets"),{params:n})},Cf=function(e){return Lc.get("sites/".concat(e,"/chat-widgets/names"))},jf=function(e,t){return Lc.get("sites/".concat(e,"/chat-widgets/").concat(t))},Sf=function(e,t,n){return Lc.patch("sites/".concat(e,"/chat-widgets/").concat(t,"/status"),{status:n})},Zf=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.post("sites/".concat(t,"/chat-widgets"),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Nf=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n,r){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.put("sites/".concat(t,"/chat-widgets/").concat(n),r));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ef=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lc.delete("sites/".concat(t,"/chat-widgets/").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Of=function(e,t){return Lc.get("sites/".concat(e,"/chat-widgets/analytics/summary"),{params:t})},Af=["children"],Tf=function(e){var t=e.children,n=(0,Sl.Z)(e,Af);return(0,st.jsx)("div",(0,kn.Z)((0,kn.Z)({},n),{},{className:"pe-section ".concat(n.className||""),children:t}))},Pf=function(e){var t=e.title,n=e.children;return(0,st.jsx)("div",{className:"pe-container pe-bg-white pe-pt-16 pe-pb-15",children:(0,st.jsxs)("div",{className:"pe-content pe-d-flex pe-align-center pe-justify-between",style:{gap:16},children:[(0,st.jsx)(mt.Z.Title,{level:2,className:"pe-mb-0 pe-fw-600 pe-lh-130",children:t}),n?(0,st.jsx)(dt.Z,{justify:"end",gutter:[16,16],children:n}):null]})})},Mf=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 10 14",fill:"currentColor",focusable:"false","data-icon":"pe-droplet-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M5.60547 0.62891C5.49609 0.21875 5.14062 0 4.78516 0C4.45703 0 4.12891 0.21875 3.99219 0.62891C2.73438 4.92188 0 6.09766 0 9.13281C0 11.8398 2.13281 14 4.8125 14C7.46484 14 9.625 11.8398 9.625 9.13281C9.625 6.09766 6.89062 4.94922 5.60547 0.62891ZM4.8125 12.6875C2.87109 12.6875 1.3125 11.1016 1.3125 9.13281C1.3125 7.95703 1.85938 7.13672 2.70703 5.93359C3.39062 4.97656 4.15625 3.85547 4.8125 2.29688C5.44141 3.85547 6.23438 4.97656 6.89062 5.93359C7.73828 7.13672 8.3125 7.95703 8.3125 9.13281C8.3125 11.1016 6.72656 12.6875 4.8125 12.6875ZM5.25 10.9375C4.01953 10.9375 3.0625 9.9805 3.0625 8.75C3.0625 8.53125 2.84375 8.3125 2.625 8.3125C2.37891 8.3125 2.1875 8.53125 2.1875 8.75C2.1875 10.4453 3.55469 11.8125 5.25 11.8125C5.46875 11.8125 5.6875 11.6211 5.6875 11.375C5.6875 11.1562 5.46875 10.9375 5.25 10.9375Z"})}))},If=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Mf},e))},Df=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 29 45",fill:"currentColor",focusable:"false","data-icon":"pe-thunderbolt-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M26.3542 14.25H16.3854L20.0807 3.16406C20.4245 1.78906 19.3932 0.5 18.1042 0.5H5.72917C4.69792 0.5 3.75261 1.27344 3.66667 2.30469L0.916672 22.9297C0.744797 24.2188 1.69011 25.25 2.97917 25.25H13.1198L9.16667 42.0078C8.90886 43.2969 9.85417 44.5 11.1432 44.5C11.9167 44.5 12.6042 44.1562 12.9479 43.4688L28.0729 17.3438C28.9323 16.0547 27.901 14.25 26.3542 14.25ZM12.9479 38.0547L15.7839 25.9375L16.6432 22.5H3.75261L6.33073 3.25H17.0729L13.8073 13.3906L12.6042 17H25.151L12.9479 38.0547Z"})}))},Lf=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Df},e))},Rf=function(){var e=bt(Vr);return(0,st.jsx)(Xu.default,{disabled:!e,className:"pe-campaign-dropdown-menu-btn",overlay:(0,st.jsxs)($u.default,{className:"pe-campaign-dropdown-menu",children:[(0,st.jsx)($u.default.Item,{children:(0,st.jsxs)(ot.OL,{to:$r.path.campaigns.createNotification,children:[(0,st.jsx)(sc,{}),(0,st.jsx)("span",{children:Ua("Push Broadcasts","pushengage")})]})},"1"),(0,st.jsx)($u.default.Item,{children:(0,st.jsxs)(ot.OL,{to:$r.path.campaigns.createDrip,children:[(0,st.jsx)(If,{}),(0,st.jsx)("span",{children:Ua("Drip Automations","pushengage")})]})},"2"),(0,st.jsx)($u.default.Item,{children:(0,st.jsxs)(ot.OL,{to:$r.path.campaigns.selectTriggeredCampaign,children:[(0,st.jsx)(Lf,{}),(0,st.jsx)("span",{children:Ua("Triggered Campaigns","pushengage")})]})},"3")]}),children:(0,st.jsxs)(pt.default,{type:"primary",size:"small",className:"pe-fs-13",children:[Ua("Create","pushengage")," ",(0,st.jsx)(uu,{rotate:90,className:"pe-ml-8 pe-fs-10"})]})})},Bf=oe.memo(Rf),Ff=(n(7885),n(76008)),zf=(n(26850),n(18708)),Vf=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 14 17",fill:"currentColor",focusable:"false","data-icon":"pe-Calander-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M4.625 9.5C4.8125 9.5 5 9.34375 5 9.125V7.875C5 7.6875 4.8125 7.5 4.625 7.5H3.375C3.15625 7.5 3 7.6875 3 7.875V9.125C3 9.34375 3.15625 9.5 3.375 9.5H4.625ZM8 9.125V7.875C8 7.6875 7.8125 7.5 7.625 7.5H6.375C6.15625 7.5 6 7.6875 6 7.875V9.125C6 9.34375 6.15625 9.5 6.375 9.5H7.625C7.8125 9.5 8 9.34375 8 9.125ZM11 9.125V7.875C11 7.6875 10.8125 7.5 10.625 7.5H9.375C9.15625 7.5 9 7.6875 9 7.875V9.125C9 9.34375 9.15625 9.5 9.375 9.5H10.625C10.8125 9.5 11 9.34375 11 9.125ZM8 12.125V10.875C8 10.6875 7.8125 10.5 7.625 10.5H6.375C6.15625 10.5 6 10.6875 6 10.875V12.125C6 12.3438 6.15625 12.5 6.375 12.5H7.625C7.8125 12.5 8 12.3438 8 12.125ZM5 12.125V10.875C5 10.6875 4.8125 10.5 4.625 10.5H3.375C3.15625 10.5 3 10.6875 3 10.875V12.125C3 12.3438 3.15625 12.5 3.375 12.5H4.625C4.8125 12.5 5 12.3438 5 12.125ZM11 12.125V10.875C11 10.6875 10.8125 10.5 10.625 10.5H9.375C9.15625 10.5 9 10.6875 9 10.875V12.125C9 12.3438 9.15625 12.5 9.375 12.5H10.625C10.8125 12.5 11 12.3438 11 12.125ZM14 4C14 3.1875 13.3125 2.5 12.5 2.5H11V0.875C11 0.6875 10.8125 0.5 10.625 0.5H9.375C9.15625 0.5 9 0.6875 9 0.875V2.5H5V0.875C5 0.6875 4.8125 0.5 4.625 0.5H3.375C3.15625 0.5 3 0.6875 3 0.875V2.5H1.5C0.65625 2.5 0 3.1875 0 4V15C0 15.8438 0.65625 16.5 1.5 16.5H12.5C13.3125 16.5 14 15.8438 14 15V4ZM12.5 14.8125C12.5 14.9375 12.4062 15 12.3125 15H1.6875C1.5625 15 1.5 14.9375 1.5 14.8125V5.5H12.5V14.8125Z"})}))},Uf=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Vf},e))},Hf=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 8 6",fill:"currentColor",focusable:"false","data-icon":"pe-check-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M6.75146 0.3125L2.64209 4.42188L1.14209 2.90625C1.06396 2.84375 0.938965 2.84375 0.876465 2.90625L0.42334 3.35938C0.36084 3.42188 0.36084 3.54688 0.42334 3.625L2.51709 5.70312C2.59521 5.78125 2.70459 5.78125 2.78271 5.70312L7.47021 1.01562C7.53271 0.953125 7.53271 0.828125 7.47021 0.75L7.01709 0.3125C6.95459 0.234375 6.82959 0.234375 6.75146 0.3125Z"})}))},Wf=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Hf},e))},qf=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 12 7",fill:"currentColor",focusable:"false","data-icon":"pe-arrow-up-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M5.218 6.01155C5.32612 6.09154 5.47749 6.09154 5.58561 6.01155L10.458 1.48376C10.6728 1.28419 10.6705 0.943496 10.4531 0.746769L9.69427 0.0599954C9.58615 -0.0199986 9.41316 -0.0199986 9.32666 0.0599954L5.39099 3.67972L1.47696 0.0599955C1.39046 -0.0199985 1.21746 -0.0199985 1.10934 0.0599955L0.384129 0.747976C0.175542 0.945855 0.176408 1.27846 0.386024 1.47525L5.218 6.01155Z"})}))},Kf=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:qf},e))},Yf=zf.default.RangePicker,Gf=function(e){var t,n,r=e.initialValue,i=e.onChange,a=e.ranges,o=(0,oe.useState)([]),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)(!1),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)(null),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useState)(null),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useState)(!1),Z=(0,xe.Z)(S,2),N=Z[0],E=Z[1],O=a||go({});(0,oe.useEffect)((function(){r&&("string"===typeof r?(c([r]),f(!1)):(c(["custom"]),w(r),f(!0)))}),[r]);var A=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.key,v(!1),"custom"===n?E(!0):n!==l[0]&&(c([n]),f(!1),w(O[n]),i(O[n]));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=(0,st.jsxs)($u.default,{className:"pe-date-range-dropdown-btn-menu",onClick:A,selectedKeys:l,children:[Object.keys(O).map((function(e){return(0,st.jsxs)($u.default.Item,{children:[(0,st.jsx)("span",{children:e}),-1!==l.indexOf(e)?(0,st.jsx)(Wf,{}):null]},e)})),(0,st.jsx)($u.default.Item,{children:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("span",{children:[(0,st.jsx)(Uf,{}),(0,st.jsx)("span",{className:"pe-ml-4",children:"Custom Range"})]}),-1!==l.indexOf("custom")?(0,st.jsx)(Wf,{}):null]})},"custom")]});return(0,st.jsxs)("div",{children:[(0,st.jsx)(Ff.default,{trigger:"click",visible:N,placement:"bottom",autoAdjustOverflow:!0,overlayClassName:"pe-date-range-dropdown-btn-overlay",overlayInnerStyle:{borderRadius:"8px"},align:{offset:[10,20],overflow:{adjustX:!0,adjustY:!0}},content:(0,st.jsx)("div",{className:"pe-date-range-dropdown-btn-overlay-content",children:(0,st.jsx)("div",{className:"pe-date-range-dropdown-btn-overlay-footer",children:(0,st.jsxs)(dt.Z,{justify:"space-between",align:"middle",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Yf,{value:C,suffixIcon:null,size:"small",allowClear:!1,bordered:!1,separator:"-",dropdownAlign:{points:["bl","tl"],offset:[-4,-24],targetOffset:[0,0],overflow:{adjustX:!0,adjustY:!0}},dropdownClassName:"pe-date-range-dropdown-btn-picker-dropdown",placeholder:["Start Date","End Date"],open:N,format:"DD MMM",onChange:function(e){j(e)},onCalendarChange:function(e){j(e)}})}),(0,st.jsxs)(ht.Z,{className:"ml-32",children:[(0,st.jsx)(pt.default,{size:"small",className:"pe-fs-13",type:"primary",disabled:!C||!C[0]||!C[1],onClick:function(){w(C),f(!0),c(["custom"]),E(!1),i(C)},children:Ua("Apply","pushengage")}),(0,st.jsx)(pt.default,{size:"small",className:"pe-ml-8 pe-fs-13 pe-fw-600",onClick:function(){E(!1),j([null,null])},children:Ua("Cancel","pushengage")})]})]})})})}),(0,st.jsx)(Xu.default,{visible:m,onVisibleChange:function(e){v(e)},overlay:T,placement:"bottomLeft",trigger:["click"],children:(0,st.jsxs)(pt.default,{size:"small",className:"pe-fs-13 pe-fw-400 pe-min-w-167 pe-d-flex pe-align-items-center",style:{justifyContent:"space-between"},children:[p?(0,st.jsxs)(st.Fragment,{children:[null===x||void 0===x||null===(t=x[0])||void 0===t?void 0:t.format("MMM DD,YYYY")," - ",null===x||void 0===x||null===(n=x[1])||void 0===n?void 0:n.format("MMM DD,YYYY")]}):l[0],(0,st.jsx)(Kf,{className:"pe-fs-11 pe-ml-12 pe-d-flex"})]})})]})},Qf=n(71978),Xf=n(72257),$f=n(37169),Jf=n(26236),eh=n(75767),th=n(45163),nh=n(5474),rh=n(52885),ih=n(49234);function ah(e){var t=e.title,n=void 0===t?"No Data Found":t,r=e.message,i=void 0===r?"Try adjusting date range":r;return(0,st.jsxs)("svg",{children:[(0,st.jsx)("text",{x:"50%",dx:"0",y:"40%",fill:"#5e5f72",fontWeight:600,textAnchor:"middle",children:n}),(0,st.jsx)("text",{x:"50%",y:"40%",dx:"0",dy:"18",fill:"#5e5f72",textAnchor:"middle",children:i})]})}var oh=["#3b43ff","#df2a35","#3bb8ff","#64ece4","#46b450","#bee64f","#efa04f"],sh=function(e){var t=e.active,n=e.payload;if(t&&n&&n.length){var r=n[0].payload.date_create,i=r.split(","),a="";return 1===i.length?a=ei()(i[0]).format("Do MMM, YYYY"):(n[0].payload.month||2===i.length)&&(a=ei()(r,"MM,YYYY").format("MMM, YYYY")),(0,st.jsxs)("div",{className:"pe-analytics-summary-tooltip",children:[(0,st.jsx)("p",{className:"pe-color-neutral pe-fs-13 pe-fw-600 pe-mb-2",children:a}),n.map((function(e){return(0,st.jsxs)("p",{className:"pe-mb-2",children:[(0,st.jsxs)("span",{className:"pe-color-neutral-40 pe-fs-13 pe-fw-500",children:[e.name,": "]}),(0,st.jsx)("span",{className:"pe-fs-13 pe-fw-500",style:{color:e.color},children:wo(e.payload[e.dataKey])})]},e.dataKey)}))]})}return null},lh=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this,e)).state={subscribers:!0,unsubscribed:!0,total_notifications:!0,views:!0,click:!0,notifications_sent:!0},r}return(0,Sa.Z)(n,[{key:"render",value:function(){var e=this,t={type:"linear",isAnimationActive:!0,dot:!0,activeDot:{r:6},strokeWidth:2};return(0,st.jsx)(Qf.h,{width:"100%",height:250,className:"pe-analytics-line-graph-container",children:(0,st.jsxs)(Xf.w,{data:this.props.data,margin:{top:0,right:0,left:-20,bottom:0},children:[(0,st.jsx)($f.q,{strokeDasharray:"1 3",stroke:"#e2e4eb",vertical:!1}),(0,st.jsx)(Jf.K,{dataKey:"date_create_formatted",stroke:"#898699",hide:!this.props.data.length,tickSize:5,padding:{right:32},minTickGap:72,tickLine:!1,axisLine:!1,style:{fontSize:"13px",fontWeight:500},tickMargin:14}),(0,st.jsx)(eh.B,{stroke:"#898699",tickSize:5,tickLine:!1,axisLine:!1,ticks:this.props.data.length?void 0:[0,1,2,3,4],style:{fontSize:"13px",fontWeight:500},tickFormatter:function(e){return wo(e)},tickMargin:4}),(0,st.jsx)(th.u,{content:(0,st.jsx)(sh,{})}),(0,st.jsx)(nh.D,{verticalAlign:"bottom",iconType:"square",align:"center",iconSize:13,wrapperStyle:{fontSize:"13px",left:0},onClick:function(t){e.setState((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},(0,ti.Z)({},t.dataKey,!e[t.dataKey]))}))}}),!this.props.hiddenKeys||this.props.hiddenKeys.indexOf("subscribers")<0?(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},t),{},{dataKey:"subscribers",name:Ua("New Subscribers","pushengage"),stroke:oh[0],fill:oh[0],hide:!this.state.subscribers})):null,!this.props.hiddenKeys||this.props.hiddenKeys.indexOf("unsubscribed")<0?(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},t),{},{dataKey:"unsubscribed",name:Ua("Unsubscribers","pushengage"),hide:!this.state.unsubscribed,stroke:oh[1]})):null,!this.props.hiddenKeys||this.props.hiddenKeys.indexOf("notifications_sent")<0?(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},t),{},{dataKey:"notifications_sent",name:Ua("Notifications Sent","pushengage"),hide:!this.state.notifications_sent,stroke:oh[2]})):null,!this.props.hiddenKeys||this.props.hiddenKeys.indexOf("total_notifications")<0?(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},t),{},{dataKey:"total_notifications",name:Ua("Net Subscribers Sent","pushengage"),hide:!this.state.total_notifications,stroke:oh[3]})):null,!this.props.hiddenKeys||this.props.hiddenKeys.indexOf("views")<0?(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},t),{},{dataKey:"views",name:Ua("Views","pushengage"),hide:!this.state.views,stroke:oh[4]})):null,!this.props.hiddenKeys||this.props.hiddenKeys.indexOf("click")<0?(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},t),{},{dataKey:"click",name:Ua("Clicks","pushengage"),hide:!this.state.click,stroke:oh[5]})):null,this.props.data.length||this.props.loading?null:(0,st.jsx)(ih.M,{component:function(){return(0,st.jsx)(ah,{title:e.props.emptyTitle,message:e.props.emptyMsg})}})]})})}}]),n}(oe.PureComponent),ch=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 17 17",fill:"currentColor",focusable:"false","data-icon":"pe-rocket-launch-outlined","aria-hidden":"true",children:[(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.95 14.45C5.1 14.45 2.55 11.9 2.55 11.05C2.55 10.767 2.83305 10.2 3.4 9.35L0 8.5L1.7 5.95L5.1 6.8C8.5 1.7 13.6 0 17 0C17 3.4 15.3 8.5 10.2 11.9L11.05 15.3L8.5 17L7.65 13.6C6.8 14.167 6.23305 14.45 5.95 14.45ZM5.134 11.866C5.4349 12.1678 5.74515 12.4372 6.00355 12.6225C6.1931 12.5171 6.4294 12.3709 6.70735 12.1856L9.25735 10.4856C12.5707 8.2756 14.5605 5.032 15.1292 1.87085C11.968 2.44035 8.72355 4.42935 6.5144 7.74265L4.8144 10.2927C4.6291 10.5706 4.4829 10.8069 4.37665 10.9965C4.56365 11.2549 4.83225 11.566 5.13315 11.8669L5.134 11.866Z"}),(0,st.jsx)("path",{d:"M11.475 6.8C12.1792 6.8 12.75 6.22916 12.75 5.525C12.75 4.82084 12.1792 4.25 11.475 4.25C10.7708 4.25 10.2 4.82084 10.2 5.525C10.2 6.22916 10.7708 6.8 11.475 6.8Z"}),(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.7 11.9L2.55 13.175C1.98305 13.742 1.7 14.45 1.7 15.3C2.55 15.3 3.25805 15.017 3.825 14.45L5.1 15.3C3.96695 16.4331 2.26695 17 0 17C0 14.733 0.56695 13.0331 1.7 11.9Z"})]}))},uh=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:ch},e))},dh=mt.Z.Title,ph=mt.Z.Paragraph,fh=mt.Z.Link,hh=function(e){var t=e.closeWelcomePanel,n=(0,vt.s0)();return(0,st.jsxs)(Tf,{className:"pe-mb-20 pe-pa-50 pe-pt-16 pe-p-relative",children:[(0,st.jsx)("div",{className:"pe-ta-right pe-p-absolute",style:{top:20,right:24},children:(0,st.jsx)($c,{className:"pe-fs-12 pe-color-neutral-80",onClick:function(){t()}})}),(0,st.jsxs)(dt.Z,{justify:"space-between",align:"stretch",gutter:[28,36],style:{flexWrap:"wrap-reverse"},children:[(0,st.jsxs)(ht.Z,{span:24,lg:14,children:[(0,st.jsx)(dh,{level:2,className:"pe-fs-32 pe-mb-16 pe-fw-700 pe-lh-130",children:Ua("Welcome to PushEngage","pushengage")}),(0,st.jsx)(ph,{className:"pe-fs-16 pe-mb-28 pe-color-neutral-80 pe-fw-500",children:Ua("You can grow sales, increase repeat visitors & engage with your subscribers even when they are not on your website.","pushengage")}),(0,st.jsxs)(pt.default,{type:"primary",size:"large",style:{width:"314px",height:45},className:"pe-mb-18 pe-fs-18",onClick:function(){n($r.path.onboarding)},children:[(0,st.jsx)(uh,{className:"pe-mr-4"}),Ua("Launch the Setup Wizard","pushengage")]}),(0,st.jsxs)(fh,{className:"pe-fw-600 pe-d-block pe-fs-13 pe-lh-150",target:"_blank",href:"https://www.pushengage.com/doc-categories/getting-started/".concat(Qc({utm_medium:"Dashboard",utm_content:"Read the Getting Started Guide"})),children:[Ua("Read the Getting Started Guide","pushengage")," \u2192"]})]}),(0,st.jsx)(ht.Z,{span:24,lg:10,className:"pe-ta-center",children:(0,st.jsx)("div",{className:"pe-mx-auto",style:{maxWidth:380,maxHeight:280,marginTop:-16},children:(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/pe-insufficient-permission.svg"),alt:"dashboard-challenge",style:{width:"100%"}})})})]})]})},gh=function(e,t){var n=Eo(t);return Lc.get("sites/".concat(e,"/notifications").concat(n))},mh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Lc.get("sites/".concat(e,"/notifications/").concat(t).concat(n))},vh=function(e,t,n){return Lc.post("sites/".concat(e,"/notifications").concat(Eo(n)),t)},yh=function(e,t,n,r){return Lc.patch("sites/".concat(e,"/notifications/").concat(t).concat(Eo(r)),n)},bh=function(e,t){return Lc.post("sites/".concat(e,"/notifications/").concat(t,"/resend"))},xh=function(e,t){return Lc.delete("sites/".concat(e,"/notifications/").concat(t))},wh=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",focusable:"false","data-icon":"pe-ArrowRight-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M6.38672 0.517578L5.80078 1.07422C5.6543 1.2207 5.6543 1.45508 5.80078 1.57227L10.3418 6.11328H0.351562C0.146484 6.11328 0 6.28906 0 6.46484V7.28516C0 7.49023 0.146484 7.63672 0.351562 7.63672H10.3418L5.80078 12.207C5.6543 12.3242 5.6543 12.5586 5.80078 12.7051L6.38672 13.2617C6.50391 13.4082 6.73828 13.4082 6.88477 13.2617L13.0078 7.13867C13.1543 6.99219 13.1543 6.78711 13.0078 6.64062L6.88477 0.517578C6.73828 0.371094 6.50391 0.371094 6.38672 0.517578Z"})}))},kh=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:wh},e))},_h=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 12 4",fill:"currentColor",focusable:"false","data-icon":"pe-ellipsis-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M1.78125 0.59375C1.00781 0.59375 0.375 1.22656 0.375 2C0.375 2.77344 1.00781 3.40625 1.78125 3.40625C2.55469 3.40625 3.1875 2.77344 3.1875 2C3.1875 1.22656 2.55469 0.59375 1.78125 0.59375ZM10.2188 0.59375C9.44531 0.59375 8.8125 1.22656 8.8125 2C8.8125 2.77344 9.44531 3.40625 10.2188 3.40625C10.9922 3.40625 11.625 2.77344 11.625 2C11.625 1.22656 10.9922 0.59375 10.2188 0.59375ZM6 0.59375C5.22656 0.59375 4.59375 1.22656 4.59375 2C4.59375 2.77344 5.22656 3.40625 6 3.40625C6.77344 3.40625 7.40625 2.77344 7.40625 2C7.40625 1.22656 6.77344 0.59375 6 0.59375Z"})}))},Ch=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:_h},e))},jh=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 11 12",fill:"currentColor",focusable:"false","data-icon":"pe-copy-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M9.80273 1.79297L8.70703 0.697266C8.51367 0.503906 8.25586 0.375 7.97656 0.375H4.28125C3.70117 0.375 3.25 0.847656 3.25 1.40625V2.4375H1.53125C0.951172 2.4375 0.5 2.91016 0.5 3.46875V10.3438C0.5 10.9238 0.951172 11.375 1.53125 11.375H6.34375C6.90234 11.375 7.375 10.9238 7.375 10.3438V9.3125H9.09375C9.65234 9.3125 10.125 8.86133 10.125 8.28125V2.52344C10.125 2.24414 9.99609 1.98633 9.80273 1.79297ZM6.21484 10.3438H1.66016C1.57422 10.3438 1.53125 10.3008 1.53125 10.2148V3.59766C1.53125 3.5332 1.57422 3.46875 1.66016 3.46875H3.25V8.28125C3.25 8.86133 3.70117 9.3125 4.28125 9.3125H6.34375V10.2148C6.34375 10.3008 6.2793 10.3438 6.21484 10.3438ZM8.96484 8.28125H4.41016C4.32422 8.28125 4.28125 8.23828 4.28125 8.15234V1.53516C4.28125 1.4707 4.32422 1.40625 4.41016 1.40625H6.6875V3.29688C6.6875 3.59766 6.90234 3.8125 7.20312 3.8125H9.09375V8.15234C9.09375 8.23828 9.0293 8.28125 8.96484 8.28125ZM9.09375 2.78125H7.71875V1.40625H7.91211C7.95508 1.40625 7.97656 1.42773 7.99805 1.44922L9.05078 2.50195C9.07227 2.52344 9.09375 2.54492 9.09375 2.58789V2.78125Z"})}))},Sh=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:jh},e))},Zh=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 12 14",fill:"currentColor",focusable:"false","data-icon":"pe-Delete-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M11.2812 2.53125H9.17383L8.31055 1.10938C8.10742 0.753906 7.70117 0.5 7.26953 0.5H4.70508C4.27344 0.5 3.86719 0.753906 3.66406 1.10938L2.80078 2.53125H0.718749C0.490233 2.53125 0.312499 2.73438 0.312499 2.9375V3.34375C0.312499 3.57227 0.490233 3.75 0.718749 3.75H1.125L1.6582 12.3574C1.68359 13.0176 2.2168 13.5 2.87695 13.5H9.09766C9.75781 13.5 10.291 13.0176 10.3164 12.3574L10.875 3.75H11.2812C11.4844 3.75 11.6875 3.57227 11.6875 3.34375V2.9375C11.6875 2.73438 11.4844 2.53125 11.2812 2.53125ZM4.70508 1.71875H7.26953L7.75195 2.53125H4.22266L4.70508 1.71875ZM9.09766 12.2812H2.87695L2.34375 3.75H9.63086L9.09766 12.2812Z"})}))},Nh=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Zh},e))},Eh=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({width:"1em",height:"1em",viewBox:"0 0 12 12",fill:"currentColor",focusable:"false","data-icon":"pe-edit-outlined","aria-hidden":"true"},e),{},{children:(0,st.jsx)("path",{d:"M11.0918 1.97461L10.2754 1.1582C10.0176 0.900391 9.65234 0.75 9.30859 0.75C8.96484 0.75 8.59961 0.900391 8.3418 1.1582L6.73047 2.76953L6 3.5L0.757812 8.74219L0.499999 11.1914C0.45703 11.4922 0.693358 11.75 0.99414 11.75C1.01562 11.75 1.03711 11.75 1.05859 11.75L3.50781 11.4922L8.75 6.25L9.48047 5.51953L11.0918 3.9082C11.6289 3.37109 11.6289 2.51172 11.0918 1.97461ZM3.03516 10.5039L1.5957 10.6543L1.74609 9.21484L6.70898 4.23047L7.375 3.56445L8.68555 4.875L8.01953 5.54102L3.03516 10.5039ZM10.3613 3.17773L9.41601 4.14453L8.10547 2.83398L9.07226 1.88867C9.1582 1.80273 9.26562 1.78125 9.30859 1.78125C9.35156 1.78125 9.45898 1.80273 9.54492 1.88867L10.3613 2.70508C10.4902 2.83398 10.4902 3.04883 10.3613 3.17773Z"})}))},Oh=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Eh},e))},Ah=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1.2em",height:"1.2em",viewBox:"0 0 13 12",fill:"currentColor",focusable:"false","data-icon":"pe-export-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0833 0.75H1.91667C1.275 0.75 0.75 1.275 0.75 1.91667V10.0833C0.75 10.725 1.275 11.25 1.91667 11.25H10.0833C10.7308 11.25 11.25 10.725 11.25 10.0833V8.91667H10.0833V10.0833H1.91667V1.91667H10.0833V3.08333H11.25V1.91667C11.25 1.275 10.7308 0.75 10.0833 0.75ZM8.04167 8.91667L7.21917 8.09417L8.72417 6.58333H3.08333V5.41667H8.72417L7.21917 3.90583L8.04167 3.08333L10.9583 6L8.04167 8.91667Z"})}))},Th=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Ah},e))},Ph=function(e){var t=e.notification,n=e.children,r=e.onResend,i=e.onDelete,a=e.onExport,o=e.hasWritePermission;return(0,st.jsx)(Xu.default,{arrow:!1,overlay:function(){var e=t.status,n=t.notification_id;return(0,st.jsxs)($u.default,{className:"pe-recent-notification-dropdown-menu",children:[o&&e!==di.SENT&&e!==di.SENDING?(0,st.jsx)($u.default.Item,{children:(0,st.jsxs)(ot.OL,{to:$r.editNotification(n),children:[(0,st.jsx)(Oh,{className:"pe-mr-8"}),(0,st.jsx)("span",{children:Ua("Edit","pushengage")})]})},"".concat(n,"-edit")):null,o&&e===di.SENT?(0,st.jsxs)($u.default.Item,{onClick:function(){return r(t)},children:[(0,st.jsx)(sc,{className:"pe-mr-8"}),(0,st.jsx)("span",{children:Ua("Resend","pushengage")})]},"".concat(n,"-resent")):null,(0,st.jsxs)($u.default.Item,{onClick:function(){return a(t)},children:[(0,st.jsx)(Th,{className:"pe-mr-8"}),(0,st.jsx)("span",{children:Ua("Export Data","pushengage")})]},"".concat(n,"-export")),o?(0,st.jsx)($u.default.Item,{children:(0,st.jsxs)(ot.OL,{to:"".concat($r.path.campaigns.createNotification,"?notification=").concat(n),children:[(0,st.jsx)(Sh,{className:"pe-mr-8"}),(0,st.jsx)("span",{children:Ua("Duplicate","pushengage")})]})},"".concat(n,"-duplicate")):null,o&&e!==di.SENDING&&e!==di.SENT?(0,st.jsxs)($u.default.Item,{onClick:function(){return i(t)},children:[(0,st.jsx)(Nh,{className:"pe-mr-8"}),(0,st.jsx)("span",{children:Ua("Delete","pushengage")})]},"".concat(n,"-delete")):null]})}(),placement:"bottomRight",destroyPopupOnHide:!0,overlayClassName:"pe-recent-notifications-dropdown",children:n})},Mh=function(e){var t=e.title,n=e.collapseClassName,r=e.children,i=(0,oe.useState)(!0),a=(0,xe.Z)(i,2),o=a[0],s=a[1];return(0,st.jsx)(qc.Z,{className:"pe-collapsible-card ".concat(n||""),defaultActiveKey:"collapsible-card-panel",expandIcon:function(){return null},onChange:function(){s(!o)},children:(0,st.jsx)(qc.Z.Panel,{header:(0,st.jsxs)(dt.Z,{justify:"space-between",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(mt.Z.Title,{className:"pe-mb-0 pe-fw-700 pe-lh-140",level:4,children:t})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(uu,{rotate:o?-90:0,className:"pe-color-neutral-40 pe-fs-12"})})]}),children:r},"collapsible-card-panel")})},Ih=function(e){var t=e.status;return(0,st.jsx)("span",{className:"pe-notification-status pe-notification-status-".concat(t),children:Ji()(t)})},Dh=mt.Z.Title,Lh=mt.Z.Text,Rh=function(){var e=(0,vt.s0)(),t=bt(Ur),n=bt(Vr),r=bt((function(e){return Dd(e.session.user)})),i=(0,oe.useState)(!1),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)([]),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={limit:5,order_by_desc:"notification_id",expand:"notification_analytics,result_analytics"},e.next=3,gh(t,n);case 3:r=e.sent,d(r.data.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){n&&(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,p();case 4:s(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[t,n]);var f=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,xh(t,n.notification_id);case 4:return e.next=6,p();case 6:s(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),s(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(n){var r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),r=n.notification_id,i={format:"csv",expand:"notification_analytics,result_analytics"},e.next=6,mh(t,r,Eo(i));case 6:To(e.sent,"notification-".concat(r,".csv")),s(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s(!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,bh(t,n.notification_id);case 4:return e.next=6,p();case 6:s(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),s(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsx)(Mh,{collapseClassName:"pe-dashboard-recent-notifications ".concat(u.length?"":"pe-dashboard-empty-notifications"),title:Ua("Recent Notifications","pushengage"),children:(0,st.jsx)(Hc.default,{spinning:o,children:u.length?(0,st.jsx)(Kc.default,{dataSource:u,footer:(0,st.jsxs)(pt.default,{type:"link",size:"small",className:"pe-pa-0 pe-fw-600",onClick:function(){e($r.path.campaigns.notifications)},children:[Ua("See All Notifications","pushengage")," ",(0,st.jsx)(kh,{className:"pe-color-primary pe-fs-10"})]}),renderItem:function(e){return(0,st.jsxs)(Kc.default.Item,{children:[(0,st.jsx)(Kc.default.Item.Meta,{title:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Lh,{ellipsis:!0,className:"pe-fw-600 pe-max-w-320",children:e.notification_title}),(0,st.jsx)(Lh,{className:"pe-ml-13 pe-fw-400",children:(0,st.jsx)(Ih,{status:e.status})})]}),description:(0,st.jsxs)(dt.Z,{gutter:[25,8],children:[(0,st.jsxs)(ht.Z,{children:[(0,st.jsxs)(Lh,{className:"pe-mr-2 pe-color-neutral-40 pe-fs-13",children:[Ua("Sent","pushengage"),":"]}),(0,st.jsx)(Lh,{className:"pe-fs-13",children:wo(e.sentcount)})]}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsxs)(Lh,{className:"pe-mr-2 pe-color-neutral-40 pe-fs-13",children:[Ua("Seen","pushengage"),":"]}),(0,st.jsx)(Lh,{className:"pe-fs-13",children:wo(e.viewcount)})]}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsxs)(Lh,{className:"pe-mr-2 pe-color-neutral-40 pe-fs-13",children:[Ua("Clicked","pushengage"),":"]}),(0,st.jsx)(Lh,{className:"pe-fs-13",children:wo(e.clickcount+e.clickcount1+e.clickcount2)})]}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsxs)(Lh,{className:"pe-mr-2 pe-color-neutral-40 pe-fs-13",children:[Ua("CTR","pushengage"),":"]}),(0,st.jsxs)(Lh,{className:"pe-fs-13",children:[e.ctr,"%"]})]})]})}),(0,st.jsx)(Ph,{notification:e,hasWritePermission:r,onDelete:f,onResend:g,onExport:h,children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",className:"pe-min-w-30 pe-w-30 pe-d-flex",style:{justifyContent:"center",alignItems:"center",alignSelf:"flex-start"},icon:(0,st.jsx)(Ch,{})})})]},"".concat(e.notification_title,"-").concat(e.notification_id))}}):(0,st.jsxs)("div",{className:"pe-h-286 pe-pt-85",children:[(0,st.jsx)(Dh,{level:4,className:"pe-ta-center pe-fs-15 pe-fw-700 pe-mb-6 pe-lh-140",children:Ua("You haven\u2018t created any broadcasts yet.","pushengage")}),(0,st.jsx)(Lh,{className:"pe-d-block pe-ta-center pe-fs-13 pe-color-neutral-60",children:Ua("Don\u2019t miss out on leveraging the power of web push notifications.","pushengage")}),(0,st.jsx)(pt.default,{size:"large",type:"primary",className:"pe-d-block pe-mt-28 pe-mx-auto pe-px-20",onClick:function(){e($r.path.campaigns.createNotification)},children:Ua("Create a Notification","pushengage")})]})})})},Bh=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 21 21",fill:"currentColor",focusable:"false","data-icon":"pe-circle-dollar-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M10.5 0C4.70156 0 0 4.70156 0 10.5C0 16.2984 4.70156 21 10.5 21C16.2984 21 21 16.2984 21 10.5C21 4.70156 16.2984 0 10.5 0ZM10.5 19.2188C5.68594 19.2188 1.78125 15.3141 1.78125 10.5C1.78125 5.68594 5.68594 1.78125 10.5 1.78125C15.3141 1.78125 19.2188 5.68594 19.2188 10.5C19.2188 15.3141 15.3141 19.2188 10.5 19.2188ZM11.618 9.95625L11.0227 9.81797V6.67031C11.9133 6.79219 12.4641 7.35 12.5578 8.03437C12.5695 8.12812 12.6492 8.19609 12.743 8.19609H13.7953C13.9055 8.19609 13.9922 8.1 13.9828 7.98984C13.8398 6.52969 12.6375 5.59219 11.032 5.43047V4.66406C11.032 4.56094 10.9477 4.47656 10.8445 4.47656H10.1859C10.0828 4.47656 9.99844 4.56094 9.99844 4.66406V5.4375C8.33906 5.59922 7.04062 6.51562 7.04062 8.22656C7.04062 9.81094 8.20781 10.575 9.43359 10.868L10.0125 11.0156V14.3602C8.97656 14.2219 8.39531 13.6688 8.27578 12.9234C8.26172 12.8344 8.18203 12.7687 8.09063 12.7687H7.00781C6.89766 12.7687 6.81094 12.8625 6.82031 12.9727C6.92578 14.2617 7.90313 15.4477 9.98906 15.6V16.3359C9.98906 16.4391 10.0734 16.5234 10.1766 16.5234H10.8422C10.9453 16.5234 11.0297 16.4391 11.0297 16.3336L11.025 15.5906C12.8602 15.4289 14.1727 14.4469 14.1727 12.6844C14.1703 11.0578 13.1367 10.3312 11.618 9.95625ZM10.0102 9.57656C9.87891 9.53906 9.76875 9.50391 9.65859 9.45938C8.86641 9.17344 8.49844 8.71172 8.49844 8.11641C8.49844 7.26562 9.14297 6.78047 10.0102 6.67031V9.57656ZM11.0227 14.3672V11.2336C11.0953 11.2547 11.1609 11.2711 11.2289 11.2852C12.3375 11.6227 12.7102 12.0914 12.7102 12.8109C12.7102 13.7273 12.0211 14.2781 11.0227 14.3672Z"})}))},Fh=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Bh},e))},zh=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 17 12",fill:"currentColor",focusable:"false","data-icon":"pe-people-group-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M14.1875 5.3125C15.3047 5.3125 16.2188 4.42383 16.2188 3.28125C16.2188 2.16406 15.3047 1.25 14.1875 1.25C13.0449 1.25 12.1562 2.16406 12.1562 3.28125C12.1562 4.42383 13.0449 5.3125 14.1875 5.3125ZM14.1875 2.0625C14.8477 2.0625 15.4062 2.62109 15.4062 3.28125C15.4062 3.9668 14.8477 4.5 14.1875 4.5C13.502 4.5 12.9688 3.9668 12.9688 3.28125C12.9688 2.62109 13.502 2.0625 14.1875 2.0625ZM8.5 6.125C10.0488 6.125 11.3438 4.85547 11.3438 3.28125C11.3438 1.73242 10.0488 0.4375 8.5 0.4375C6.92578 0.4375 5.65625 1.73242 5.65625 3.28125C5.65625 4.85547 6.92578 6.125 8.5 6.125ZM8.5 1.25C9.61719 1.25 10.5312 2.16406 10.5312 3.28125C10.5312 4.42383 9.61719 5.3125 8.5 5.3125C7.35742 5.3125 6.46875 4.42383 6.46875 3.28125C6.46875 2.16406 7.35742 1.25 8.5 1.25ZM14.6953 6.125H13.6797C13.2734 6.125 12.918 6.25195 12.6133 6.45508C12.8672 6.63281 13.0703 6.81055 13.2734 7.03906C13.4004 6.98828 13.5273 6.9375 13.6797 6.9375H14.6953C15.3047 6.9375 15.8125 7.49609 15.8125 8.15625C15.8125 8.38477 15.9902 8.5625 16.2188 8.5625C16.4219 8.5625 16.625 8.38477 16.625 8.15625C16.625 7.03906 15.7363 6.125 14.6953 6.125ZM2.8125 5.3125C3.92969 5.3125 4.84375 4.42383 4.84375 3.28125C4.84375 2.16406 3.92969 1.25 2.8125 1.25C1.66992 1.25 0.78125 2.16406 0.78125 3.28125C0.78125 4.42383 1.66992 5.3125 2.8125 5.3125ZM2.8125 2.0625C3.47266 2.0625 4.03125 2.62109 4.03125 3.28125C4.03125 3.9668 3.47266 4.5 2.8125 4.5C2.12695 4.5 1.59375 3.9668 1.59375 3.28125C1.59375 2.62109 2.12695 2.0625 2.8125 2.0625ZM10.5312 6.63281C9.66797 6.63281 9.46484 6.9375 8.5 6.9375C7.50977 6.9375 7.30664 6.63281 6.44336 6.63281C5.5293 6.63281 4.64062 7.06445 4.10742 7.82617C3.80273 8.30859 3.625 8.86719 3.625 9.47656V10.5938C3.625 11.2793 4.1582 11.8125 4.84375 11.8125H12.1562C12.8164 11.8125 13.375 11.2793 13.375 10.5938V9.47656C13.375 8.86719 13.1719 8.30859 12.8672 7.82617C12.334 7.06445 11.4453 6.63281 10.5312 6.63281ZM12.5625 10.5938C12.5625 10.8223 12.3594 11 12.1562 11H4.84375C4.61523 11 4.4375 10.8223 4.4375 10.5938V9.47656C4.4375 9.04492 4.53906 8.63867 4.79297 8.2832C5.12305 7.77539 5.75781 7.44531 6.44336 7.44531C7.1543 7.44531 7.4082 7.75 8.5 7.75C9.5918 7.75 9.82031 7.44531 10.5312 7.44531C11.2168 7.44531 11.8516 7.77539 12.1816 8.2832C12.4355 8.63867 12.5371 9.04492 12.5371 9.47656V10.5938H12.5625ZM4.36133 6.45508C4.05664 6.25195 3.70117 6.125 3.32031 6.125H2.30469C1.23828 6.125 0.375 7.03906 0.375 8.15625C0.375 8.38477 0.552734 8.5625 0.78125 8.5625C0.984375 8.5625 1.1875 8.38477 1.1875 8.15625C1.1875 7.49609 1.66992 6.9375 2.30469 6.9375H3.32031C3.44727 6.9375 3.57422 6.98828 3.70117 7.03906C3.9043 6.81055 4.10742 6.63281 4.36133 6.45508Z"})}))},Vh=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:zh},e))},Uh=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 13 10",fill:"currentColor",focusable:"false","data-icon":"pe-chart-simple-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M10.7656 7.5625H11.1719C11.2734 7.5625 11.375 7.48633 11.375 7.35938V1.26562C11.375 1.16406 11.2734 1.0625 11.1719 1.0625H10.7656C10.6387 1.0625 10.5625 1.16406 10.5625 1.26562V7.35938C10.5625 7.48633 10.6387 7.5625 10.7656 7.5625ZM8.32812 7.5625H8.73438C8.83594 7.5625 8.9375 7.48633 8.9375 7.35938V3.70312C8.9375 3.60156 8.83594 3.5 8.73438 3.5H8.32812C8.20117 3.5 8.125 3.60156 8.125 3.70312V7.35938C8.125 7.48633 8.20117 7.5625 8.32812 7.5625ZM3.45312 7.5625H3.85938C3.96094 7.5625 4.0625 7.48633 4.0625 7.35938V5.32812C4.0625 5.22656 3.96094 5.125 3.85938 5.125H3.45312C3.32617 5.125 3.25 5.22656 3.25 5.32812V7.35938C3.25 7.48633 3.32617 7.5625 3.45312 7.5625ZM5.89062 7.5625H6.29688C6.39844 7.5625 6.5 7.48633 6.5 7.35938V2.07812C6.5 1.97656 6.39844 1.875 6.29688 1.875H5.89062C5.76367 1.875 5.6875 1.97656 5.6875 2.07812V7.35938C5.6875 7.48633 5.76367 7.5625 5.89062 7.5625ZM12.7969 9.1875H0.8125V0.453125C0.8125 0.351562 0.710938 0.25 0.609375 0.25H0.203125C0.0761719 0.25 0 0.351562 0 0.453125V9.59375C0 9.82227 0.177734 10 0.40625 10H12.7969C12.8984 10 13 9.92383 13 9.79688V9.39062C13 9.28906 12.8984 9.1875 12.7969 9.1875Z"})}))},Hh=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Uh},e))},Wh=mt.Z.Paragraph,qh=mt.Z.Text,Kh=function(){var e=(0,vt.s0)(),t=(0,oe.useState)({goal_tracking:!1,category_segment:!1,auto_push:!1,trigger_campaign:!1}),n=(0,xe.Z)(t,2),r=n[0],i=n[1];(0,oe.useEffect)((function(){i({goal_tracking:!1,category_segment:!1,auto_push:!1,trigger_campaign:!1})}),[]);var a=function(){var t=[];return(Yo?["trigger_campaign","category_segment","goal_tracking"]:["category_segment","auto_push","goal_tracking"]).forEach((function(n){if(!r[n])switch(n){case"trigger_campaign":t.push({campaignType:"trigger_campaign",title:Ua("Recover Lost Sales and Boost Conversions","pushengage"),description:Ua("Enable our ready-made cart and browse abandonment features to win back customers and drive sales. Customize with dynamic product details or use our pre-designed playbooks for ease and efficiency.","pushengage"),onClick:function(){e($r.path.campaigns.selectTriggeredCampaign)},btnText:Ua("Enable Trigger Campaigns","pushengage"),icon:(0,st.jsx)(Fh,{className:"pe-fs-21 pe-color-neutral-40"})});break;case"goal_tracking":t.push({campaignType:"goal_tracking",title:Ua("Track Your ROI","pushengage"),description:Ua("Goal Tracking lets you set goals and see how well your notification campaigns are doing. Understand how much each campaign helps your business grow.","pushengage"),onClick:function(){e($r.path.analytics.goalTracking)},btnText:Ua("Enable Goal Tracking","pushengage"),icon:(0,st.jsx)(Fh,{className:"pe-fs-21 pe-color-neutral-40"})});break;case"category_segment":t.push({campaignType:"category_segment",title:Ua(Yo?"Segmenting Your Audience":"Map Categories to Segments","pushengage"),description:Ua(Yo?"Organize your audience into groups based on categories or activities. Send targeted campaigns to boost click-through rates, drive more traffic, and achieve higher sales conversions.":"Increase engagement by sending targeted push campaigns. Automatically map your categories to segments using category segmentation for effective targeting.","pushengage"),onClick:function(){e($r.path.audience.segments)},btnText:Ua(Yo?"Add Segments":"Create Segments","pushengage"),icon:(0,st.jsx)(Vh,{className:"pe-fs-21 pe-color-neutral-40"})});break;case"auto_push":t.push({campaignType:"auto_push",title:Ua("Boost Productivity With Auto Push","pushengage"),description:Ua("Easily streamline your workflow by setting up auto push notifications while drafting your posts in the Post Editor. Reach your audience effortlessly and save valuable time for other tasks.","pushengage"),onClick:function(){e($r.path.settings.autoPush)},btnText:Ua("Enable Now","pushengage"),icon:(0,st.jsx)(Hh,{className:"pe-fs-21 pe-color-neutral-40"})})}})),t};return(0,st.jsx)(st.Fragment,{children:a().length?(0,st.jsx)(Kc.default,{dataSource:a(),renderItem:function(e){return(0,st.jsx)(Kc.default.Item,{children:(0,st.jsx)(Kc.default.Item.Meta,{avatar:e.icon,title:(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(qh,{className:"pe-fs-15 pe-fw-700",children:e.title})}),description:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Wh,{className:"pe-mb-16 pe-color-neutral-40",children:e.description}),(0,st.jsx)(pt.default,{size:"small",className:"pe-fw-600 pe-fs-13",onClick:e.onClick,children:e.btnText})]})})},e.campaignType)}}):null})},Yh=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 81 96",fill:"currentColor",focusable:"false","data-icon":"pe-bell-filled-tiled","aria-hidden":"true",children:(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M70.6188 60.7793L77.8058 64.9287C81.3158 66.9552 80.654 72.2187 76.6994 73.2784L10.0426 91.139C6.13193 92.1869 2.92703 87.9594 4.9535 84.4494L9.10294 77.2624L2.03875 50.8985C-1.90543 36.1786 5.16776 21.0969 18.1643 14.412L16.7868 9.27104C15.8095 5.62403 17.9647 1.89123 21.6117 0.914015C25.2587 -0.0631984 28.9915 2.09194 29.9687 5.73895L31.3462 10.8799C45.944 10.1709 59.6104 19.6955 63.5546 34.4153L70.6188 60.7793ZM53.3269 84.2973C54.622 89.1306 51.7592 94.0891 46.9258 95.3842C42.0924 96.6793 37.1339 93.8166 35.8388 88.9832L53.3269 84.2973Z"})}))},Gh=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Yh},e))},Qh=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 36 37",fill:"currentColor",focusable:"false","data-icon":"pe-exclamation-circle-filled-tiled","aria-hidden":"true",children:[(0,st.jsx)("circle",{cx:"17.7141",cy:"18.6499",r:"15.647",transform:"rotate(-15 17.7141 18.6499)",fill:"#DF2A4A",stroke:"white",strokeWidth:"4"}),(0,st.jsx)("path",{d:"M14.7798 12.8025L17.6314 21.3211L19.8661 20.6341L17.4402 11.9847L14.7798 12.8025ZM20.1117 25.4115C20.9187 25.1635 21.3691 24.3553 21.1292 23.5749C20.8893 22.7946 20.0627 22.379 19.2558 22.627C18.4488 22.8751 17.9984 23.6832 18.2383 24.4636C18.4782 25.244 19.3048 25.6596 20.1117 25.4115Z",fill:"white"})]}))},Xh=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Qh},e))},$h=mt.Z.Title,Jh=mt.Z.Paragraph,eg=mt.Z.Text,tg=function(e){var t=e.subTitle,n=e.description,r=e.imgUrl,i=e.videoUrl,a=e.btnText,o=e.onClick,s=e.footerText,l=e.bullets,c=e.customIcon,u=e.className,d=e.onDismiss,p=!!(i||r||c);return(0,st.jsxs)(Wc.Z,{bordered:!0,className:u,style:{borderRadius:12,overflow:"hidden",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03)",maxWidth:1280,margin:"0 auto",position:"relative"},bodyStyle:{padding:24},children:[d&&(0,st.jsx)("div",{className:"pe-ta-right pe-p-absolute",style:{top:20,right:24,zIndex:1},children:(0,st.jsx)($c,{className:"pe-fs-12 pe-color-neutral-80 pe-cursor-pointer",onClick:d})}),(0,st.jsxs)(dt.Z,{gutter:[32,32],align:"middle",children:[(0,st.jsx)(ht.Z,{xs:24,md:p?14:24,children:(0,st.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,st.jsx)($h,{level:2,style:{margin:"0 0 8px 0",fontSize:28},children:t}),(0,st.jsx)(eg,{type:"secondary",style:{marginBottom:20,fontSize:16,display:"block"},children:n}),Array.isArray(l)&&l.length>0?(0,st.jsx)(Kc.default,{split:!1,style:{marginBottom:0},dataSource:l,renderItem:function(e){return(0,st.jsx)(Kc.default.Item,{style:{padding:"4px 0",border:"none"},children:(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center",style:{gap:12},children:[e.icon?(0,st.jsx)("span",{className:"pe-fs-20 pe-color-primary",style:{color:"#4f46e5"},children:e.icon}):null,(0,st.jsx)(eg,{className:"pe-fs-16",strong:!0,style:{color:"#334155"},children:e.text})]})})}}):null,a&&o?(0,st.jsx)("div",{className:"pe-mt-24",children:(0,st.jsx)(pt.default,{type:"primary",size:"large",onClick:o,className:"pe-px-24",style:{borderRadius:8,height:44,paddingLeft:24,paddingRight:24},children:a})}):null]})}),p&&(0,st.jsx)(ht.Z,{xs:24,md:10,style:{display:"flex",alignItems:"center"},children:(0,st.jsx)("div",{className:"pe-d-flex pe-align-items-center",style:{flexDirection:"column",width:"100%",maxWidth:420,margin:"0 auto",justifyContent:"center"},children:i?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"pe-p-relative",style:{width:"100%",paddingTop:"56.25%",backgroundColor:"#f8fafc",borderRadius:8,border:"1px solid #e2e8f0",overflow:"hidden"},children:(0,st.jsx)("iframe",{title:Ua("Getting Started Video","pushengage"),src:i,className:"pe-p-absolute",style:{inset:0,width:"100%",height:"100%",border:0},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,st.jsx)(Jh,{type:"secondary",style:{marginTop:8,fontSize:12},children:Ua("See how it works in 1 minute","pushengage")})]}):r?(0,st.jsx)("img",{src:r,alt:Ua("Illustration","pushengage"),style:{width:"100%",maxWidth:420,borderRadius:8,border:"1px solid #e2e8f0"}}):c?(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"100%"},children:c}):null})})]}),s?(0,st.jsx)(Jh,{className:"pe-mt-20",children:s}):null]})},ng=(0,st.jsxs)("div",{className:"pe-p-relative",children:[(0,st.jsx)(Gh,{className:"pe-color-neutral-5",style:{fontSize:"98px"}}),(0,st.jsx)("div",{className:"pe-p-absolute",style:{right:0,bottom:0},children:(0,st.jsx)(Xh,{className:"pe-fs-33",id:"pe-exclamation-circle-filled-tiled",style:{right:36}})})]}),rg=function(e){var t=e.subTitle,n=e.description,r=e.imgUrl,i=e.videoUrl,a=e.btnText,o=e.onClick,s=e.footerText,l=e.bullets,c=e.customIcon,u=e.className,d=(0,vt.s0)();return(0,st.jsx)(tg,{className:u||"pe-mb-20 pe-site-connect-alert-card",subTitle:t||Ua("You haven't finished setting up your site.","pushengage"),description:n||Ua("You are losing subscribers, leads and sales! Click on the button below to get started with PushEngage.","pushengage"),btnText:a||Ua("Connect Your Site","pushengage"),onClick:o||function(){return d($r.path.onboarding)},customIcon:c||ng,imgUrl:r,videoUrl:i,footerText:s,bullets:l})},ig=function(e){var t=e.children,n=void 0===t?[]:t,r=e.cardClassName,i=void 0===r?"":r,a=e.cardIdName,o=void 0===a?"":a,s=e.cardHeader,l=e.loading,c=e.bordered;return(0,st.jsx)(Wc.Z,{id:o||"",className:"pe-page-card ".concat(i),title:s||"",bordered:!!c,children:(0,st.jsx)(Hc.default,{spinning:l,children:n})})};ig.defaultProps={cardClassName:"",cardIdName:"",loading:!1,bordered:!1};var ag=ig,og=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 8 9",fill:"currentColor",focusable:"false","data-icon":"pe-arrow-down-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M7.45972 4.04492C7.28394 3.86914 7.02026 3.88672 6.84448 4.04492L4.84058 6.17188V1.10938C4.84058 0.880859 4.64722 0.6875 4.4187 0.6875H3.8562C3.61011 0.6875 3.43433 0.880859 3.43433 1.10938V6.17188L1.41284 4.04492C1.23706 3.88672 0.973389 3.86914 0.797607 4.04492L0.410889 4.43164C0.252686 4.58984 0.252686 4.87109 0.410889 5.0293L3.83862 8.43945C3.99683 8.61523 4.2605 8.61523 4.43628 8.43945L7.84644 5.0293C8.00464 4.87109 8.00464 4.60742 7.84644 4.43164L7.45972 4.04492Z"})}))},sg=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:og},e))},lg=mt.Z.Paragraph,cg=mt.Z.Text,ug=function(e){var t=e.title,n=e.value,r=e.count,i=e.tagValue,a=e.type,o=e.previousDaysCount,s=e.isLoadingStats,l=e.tooltip;return(0,st.jsxs)(ag,{loading:s,cardClassName:"pe-card-xs pe-h-128 pe-min-w-219",children:[(0,st.jsxs)("div",{style:{position:"relative",width:"100%"},children:[l?(0,st.jsx)(ft.default,{title:l,placement:"top",children:(0,st.jsx)(sf,{className:"pe-fs-14 pe-color-neutral-60 pe-cursor-help",style:{position:"absolute",top:0,right:0,zIndex:1}})}):null,(0,st.jsx)(lg,{type:"secondary",className:"pe-mb-12 pe-fw-500",style:{paddingRight:l?"20px":0},children:t})]}),(0,st.jsx)(ft.default,{title:ko(r),placement:"top",children:(0,st.jsx)(cg,{className:"pe-fs-32 pe-fw-700 pe-lh-130 pe-d-inline-block",children:n})}),i?(0,st.jsxs)(lg,{className:"pe-mb-0 pe-lh-100 pe-fs-11 pe-fw-500",children:[function(e,t){switch(t){case"error":return(0,st.jsxs)(cg,{className:"pe-fs-11 pe-mr-2 pe-color-red",children:[(0,st.jsx)(sg,{className:"pe-mr-2 pe-fs-9"}),"".concat(e)]});case"success":return(0,st.jsxs)(cg,{className:"pe-fs-11 pe-color-accent pe-mr-2",children:[(0,st.jsx)(Ip,{className:"pe-mr-2 pe-fs-9"}),"".concat(e," ")]});default:return(0,st.jsx)(cg,{className:"pe-fs-11 pe-mr-2",style:{color:"#a7a7b5"},children:"".concat(e)})}}(i,a),(0,st.jsx)(cg,{type:"secondary",className:"pe-fs-11 pe-fw-500",children:"vs prev ".concat(o," days")})]}):null]})},dg=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 22 18",fill:"currentColor",focusable:"false","data-icon":"pe-book-open-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M20 0.5H2C0.9 0.5 0 1.4 0 2.5V15.5C0 16.6 0.9 17.5 2 17.5H20C21.1 17.5 22 16.6 22 15.5V2.5C22 1.4 21.1 0.5 20 0.5ZM2 15.5V2.5H10V15.5H2ZM20 15.5H12V2.5H20V15.5ZM13 6H19V7.5H13V6ZM13 8.5H19V10H13V8.5ZM13 11H19V12.5H13V11Z"})}))},pg=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:dg},e))},fg=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"currentColor",focusable:"false","data-icon":"pe-messages-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M13 2V9H3.17L2 10.17V2H13ZM14 0H1C0.45 0 0 0.45 0 1V15L4 11H14C14.55 11 15 10.55 15 10V1C15 0.45 14.55 0 14 0ZM19 4H17V13H4V15C4 15.55 4.45 16 5 16H16L20 20V5C20 4.45 19.55 4 19 4Z"})}))},hg=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:fg},e))},gg=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 16 20",fill:"currentColor",focusable:"false","data-icon":"pe-book-mark-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M14 0H2C0.9 0 0 0.9 0 2V18C0 19.1 0.9 20 2 20H14C15.1 20 16 19.1 16 18V2C16 0.9 15.1 0 14 0ZM5 2H7V7L6 6.25L5 7V2ZM14 18H2V2H3V11L6 8.75L9 11V2H14V18Z"})}))},mg=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:gg},e))},vg=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 16 17",fill:"currentColor",focusable:"false","data-icon":"pe-circle-question-filled","aria-hidden":"true",children:(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.5C3.584 0.5 0 4.084 0 8.5C0 12.916 3.584 16.5 8 16.5C12.416 16.5 16 12.916 16 8.5C16 4.084 12.416 0.5 8 0.5ZM7.20005 13.3001H8.80005V11.7001H7.20005V13.3001ZM4.79995 6.90005C4.79995 5.13205 6.23195 3.70005 7.99995 3.70005C9.76795 3.70005 11.1999 5.13205 11.1999 6.90005C11.1999 7.92639 10.5679 8.47871 9.95256 9.01648C9.36876 9.52666 8.79995 10.0238 8.79995 10.9001H7.19995C7.19995 9.44303 7.95364 8.86532 8.6163 8.35739C9.13614 7.95894 9.59995 7.60342 9.59995 6.90005C9.59995 6.02005 8.87995 5.30005 7.99995 5.30005C7.11995 5.30005 6.39995 6.02005 6.39995 6.90005H4.79995Z"})}))},yg=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:vg},e))},bg=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 22 18",fill:"currentColor",focusable:"false","data-icon":"pe-book-open-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M20 0.5H2C0.9 0.5 0 1.4 0 2.5V15.5C0 16.6 0.9 17.5 2 17.5H20C21.1 17.5 22 16.6 22 15.5V2.5C22 1.4 21.1 0.5 20 0.5ZM2 15.5V2.5H10V15.5H2ZM20 15.5H12V2.5H20V15.5ZM13 6H19V7.5H13V6ZM13 8.5H19V10H13V8.5ZM13 11H19V12.5H13V11Z"})}))},xg=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:bg},e))},wg=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-rise-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M917 211.1l-199.2 24c-6.6.8-9.4 8.9-4.7 13.6l59.3 59.3-226 226-101.8-101.7c-6.3-6.3-16.4-6.2-22.6 0L100.3 754.1a8.03 8.03 0 000 11.3l45 45.2c3.1 3.1 8.2 3.1 11.3 0L433.3 534 535 635.7c6.3 6.2 16.4 6.2 22.6 0L829 364.5l59.3 59.3a8.01 8.01 0 0013.6-4.7l24-199.2c.7-5.1-3.7-9.5-8.9-8.8z"})}))},kg=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:wg},e))},_g=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-aim-outlined","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"}),(0,st.jsx)("path",{d:"M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"})]}))},Cg=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:_g},e))},jg=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-robot-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"})}))},Sg=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:jg},e))},Zg=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 7 10",fill:"currentColor",focusable:"false","data-icon":"pe-mobile-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M3.90988 7.99107C3.90988 7.68278 3.63783 7.41071 3.32952 7.41071C3.00307 7.41071 2.74916 7.68278 2.74916 7.99107C2.74916 8.3175 3.00307 8.57143 3.32952 8.57143C3.63783 8.57143 3.90988 8.3175 3.90988 7.99107ZM6.23131 1.31696C6.23131 0.845419 5.83231 0.446426 5.36077 0.446426H1.29827C0.808592 0.446426 0.427734 0.845419 0.427734 1.31696V8.86157C0.427734 9.35128 0.808592 9.73214 1.29827 9.73214H5.36077C5.83231 9.73214 6.23131 9.35128 6.23131 8.86157V1.31696ZM5.36077 8.75278C5.36077 8.82535 5.30636 8.86157 5.25196 8.86157H1.40709C1.33454 8.86157 1.29827 8.82535 1.29827 8.75278V1.42578C1.29827 1.37137 1.33454 1.31696 1.40709 1.31696H5.25196C5.30636 1.31696 5.36077 1.37137 5.36077 1.42578V8.75278Z"})}))},Ng=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Zg},e))},Eg=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-reload-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"})}))},Og=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Eg},e))},Ag=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 14 12",fill:"currentColor",focusable:"false","data-icon":"pe-brush-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M13.6641 1.0625L13.2344 0.525391C13.127 0.375 12.9121 0.332031 12.7617 0.460938L7.79883 4.28516L7.04688 3.33984C6.93945 3.21094 6.74609 3.21094 6.63867 3.33984L5.41406 4.92969C4.74805 4.92969 3.17969 5.05859 2.14844 5.875C0.816406 6.92773 0 11.375 0 11.375C0.322266 11.375 4.55469 11.5254 5.84375 10.5156C6.85352 9.69922 7.34766 8.19531 7.49805 7.55078L9.32422 6.71289C9.47461 6.62695 9.51758 6.43359 9.41016 6.30469L8.6582 5.35938L13.5996 1.53516C13.75 1.40625 13.793 1.19141 13.6641 1.0625ZM5.19922 9.69922C4.83398 9.97852 3.58789 10.3223 1.26758 10.3438C1.375 9.93555 1.48242 9.52734 1.61133 9.14062L2.57812 8.36719C2.68555 8.28125 2.59961 8.10938 2.4707 8.15234L1.91211 8.25977C2.19141 7.50781 2.51367 6.90625 2.79297 6.69141C3.37305 6.21875 4.31836 6.02539 5.13477 5.96094L6.42383 7.57227C6.23047 8.23828 5.82227 9.20508 5.19922 9.69922ZM7.08984 6.60547L6.23047 5.53125L6.74609 4.88672C6.81055 4.82227 6.89648 4.82227 6.96094 4.88672L7.88477 6.06836C7.94922 6.13281 7.92773 6.21875 7.8418 6.26172L7.08984 6.60547Z"})}))},Tg=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Ag},e))},Pg=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-car-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M380 704h264c4.4 0 8-3.6 8-8v-84c0-4.4-3.6-8-8-8h-40c-4.4 0-8 3.6-8 8v36H428v-36c0-4.4-3.6-8-8-8h-40c-4.4 0-8 3.6-8 8v84c0 4.4 3.6 8 8 8zm340-123a40 40 0 1080 0 40 40 0 10-80 0zm239-167.6L935.3 372a8 8 0 00-10.9-2.9l-50.7 29.6-78.3-216.2a63.9 63.9 0 00-60.9-44.4H301.2c-34.7 0-65.5 22.4-76.2 55.5l-74.6 205.2-50.8-29.6a8 8 0 00-10.9 2.9L65 413.4c-2.2 3.8-.9 8.6 2.9 10.8l60.4 35.2-14.5 40c-1.2 3.2-1.8 6.6-1.8 10v348.2c0 15.7 11.8 28.4 26.3 28.4h67.6c12.3 0 23-9.3 25.6-22.3l7.7-37.7h545.6l7.7 37.7c2.7 13 13.3 22.3 25.6 22.3h67.6c14.5 0 26.3-12.7 26.3-28.4V509.4c0-3.4-.6-6.8-1.8-10l-14.5-40 60.3-35.2a8 8 0 003-10.8zM840 517v237H184V517l15.6-43h624.8l15.6 43zM292.7 218.1l.5-1.3.4-1.3c1.1-3.3 4.1-5.5 7.6-5.5h427.6l75.4 208H220l72.7-199.9zM224 581a40 40 0 1080 0 40 40 0 10-80 0z"})}))},Mg=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Pg},e))},Ig={subTitle:Ua("Automate WooCommerce Notifications Instantly","pushengage"),description:Ua("Send real-time web push notifications for key WooCommerce events \u2014 without building custom workflows or touching code.","pushengage"),bullets:[{icon:(0,st.jsx)(Qp,{}),text:Ua("Recover revenue with cart and browse abandonment alerts","pushengage")},{icon:(0,st.jsx)(Mg,{}),text:Ua("Notify customers about order updates, price drops, and back-in-stock items","pushengage")},{icon:(0,st.jsx)(Cg,{}),text:Ua("Keep admins informed with instant order and status notifications","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Enable automation with a single toggle and customize message content","pushengage")}],videoUrl:"https://www.youtube.com/embed/ryHop9C0VOQ"},Dg={subTitle:Ua("Engage Users at the Right Moment","pushengage"),description:Ua("Send real-time Web and App push notifications based on what users do \u2014 or don't do \u2014 on your site or app.","pushengage"),bullets:[{icon:(0,st.jsx)(Cg,{}),text:Ua("Recover lost revenue with cart and browse abandonment triggers","pushengage")},{icon:(0,st.jsx)(uh,{}),text:Ua("Send price drop, back-in-stock, and order update alerts automatically","pushengage")},{icon:(0,st.jsx)(kg,{}),text:Ua("React to user behavior in real time or with smart delays","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Target precisely using conditions, segments, and attributes","pushengage")}],imgUrl:"".concat(window.pushengage.assetsUrl,"img/illustration-8.svg")},Lg={subTitle:Ua("Collect, Understand, and Manage Your Subscribers","pushengage"),description:Ua("Get a complete view of who your subscribers are, how they engage, and where they come from \u2014 across web and mobile.","pushengage"),bullets:[{icon:(0,st.jsx)(uh,{}),text:Ua("Track subscriber status, devices, browsers, and platforms","pushengage")},{icon:(0,st.jsx)(kg,{}),text:Ua("View geographic data to understand where your audience lives","pushengage")},{icon:(0,st.jsx)(Cg,{}),text:Ua("Manage attributes, tags, and engagement details in one place","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Keep your list clean with easy unsubscribe and cleanup controls","pushengage")}],imgUrl:"".concat(window.pushengage.assetsUrl,"img/illustration-8.svg")},Rg={subTitle:Ua("Target the Right Users Every Time","pushengage"),description:Ua("Create dynamic audience groups that automatically update based on who your users are and how they behave.","pushengage"),bullets:[{icon:(0,st.jsx)(kg,{}),text:Ua("Build reusable groups using attributes, tags, behavior, and geography","pushengage")},{icon:(0,st.jsx)(Cg,{}),text:Ua("Keep targeting accurate with audiences that refresh in real time","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Use the same audience groups across drips, triggers, and broadcasts","pushengage")},{icon:(0,st.jsx)(Ng,{}),text:Ua("Deliver more relevant messages on both web and mobile","pushengage")}]},Bg={subTitle:Ua("Recover Revenue with WhatsApp Automation","pushengage"),description:Ua("Send timely, automated WhatsApp messages that reach customers where they\u2019re most likely to respond.","pushengage"),bullets:[{icon:(0,st.jsx)(Cg,{}),text:Ua("Recover abandoned carts with high-intent WhatsApp follow-ups","pushengage")},{icon:(0,st.jsx)(uh,{}),text:Ua("Send order and transactional updates automatically","pushengage")},{icon:(0,st.jsx)(Og,{}),text:Ua("Re-engage inactive customers with personalized reminders","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Run WhatsApp campaigns without manual sending or follow-ups","pushengage")}],videoUrl:"https://www.youtube.com/embed/VlHnCPuzuKU"},Fg={subTitle:Ua("Turn Conversations into Conversions","pushengage"),description:Ua("Add an inbox-free, multi-channel chat widget that lets visitors connect with your team on the channels they already use.","pushengage"),bullets:[{icon:(0,st.jsx)(fd,{}),text:Ua("Let users choose from 20+ messaging and contact channels","pushengage")},{icon:(0,st.jsx)(ou,{}),text:Ua("Support sales, support, and lead generation without per-agent inboxes","pushengage")},{icon:(0,st.jsx)(od,{}),text:Ua("Route conversations directly to WhatsApp, Messenger, email, and more","pushengage")},{icon:(0,st.jsx)(Tg,{}),text:Ua("Customize design, targeting, triggers, and rules for every page","pushengage")}],videoUrl:"https://www.youtube.com/embed/w64VWzwFj40"},zg={subTitle:Ua("Automate WooCommerce Notifications Instantly","pushengage"),description:Ua("Send real-time Web Push notifications for key WooCommerce events \u2014 without building custom workflows or touching code.","pushengage"),bullets:[{icon:(0,st.jsx)(ou,{}),text:Ua("Recover revenue with cart and browse abandonment alerts","pushengage")},{icon:(0,st.jsx)(Qp,{}),text:Ua("Notify customers about order updates, price drops, and back-in-stock items","pushengage")},{icon:(0,st.jsx)(ac,{}),text:Ua("Keep admins informed with instant order and status notifications","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Enable automation with a single toggle and customize message content","pushengage")}],videoUrl:"https://www.youtube.com/embed/YbMlO--w5bo"},Vg={subTitle:Ua("Power Personalization with Attributes","pushengage"),description:Ua("Define and manage user attributes to personalize messages and target users with precision across web and mobile.","pushengage"),bullets:[{icon:(0,st.jsx)(uh,{}),text:Ua("Create and manage system and custom attributes in one place","pushengage")},{icon:(0,st.jsx)(kg,{}),text:Ua("Personalize campaigns using real user data and dynamic values","pushengage")},{icon:(0,st.jsx)(Cg,{}),text:Ua("Use attributes for targeting in drips, triggers, and broadcasts","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Build smarter audience groups with attribute-based rules","pushengage")}],imgUrl:"".concat(window.pushengage.assetsUrl,"img/illustration-8.svg")},Ug={subTitle:Ua("Turn Your Website into a Conversation Hub","pushengage"),description:Ua("Add an inbox-free, multi-channel chat widget that lets visitors reach your team on the channels they already use.","pushengage"),bullets:[{icon:(0,st.jsx)(fd,{}),text:Ua("Let visitors choose from 20+ messaging and contact channels","pushengage")},{icon:(0,st.jsx)(ou,{}),text:Ua("Drive more leads and inquiries without per-agent inbox costs","pushengage")},{icon:(0,st.jsx)(Tg,{}),text:Ua("Customize design, targeting, and triggers for every page","pushengage")}],videoUrl:"https://www.youtube.com/embed/w64VWzwFj40"},Hg=(Ua("Measure What Drives Conversations","pushengage"),Ua("Understand how visitors interact with your chat widget and which channels and agents perform best.","pushengage"),Ua("Track total chat interactions, clicks, and opens at a glance","pushengage"),Ua("See which channels drive the most conversations","pushengage"),Ua("Identify top-performing agents and busiest chat periods","pushengage"),Ua("Optimize chat placement and routing with real usage data","pushengage"),{subTitle:Ua("Track What Actually Converts","pushengage"),description:Ua("Measure the real impact of your Web and App push campaigns by tracking conversions and outcomes that matter to your business.","pushengage"),bullets:[{icon:(0,st.jsx)(Cg,{}),text:Ua("Track purchases, sign-ups, page visits, and custom events","pushengage")},{icon:(0,st.jsx)(kg,{}),text:Ua("Attribute conversions directly to push campaigns","pushengage")},{icon:(0,st.jsx)(Cg,{}),text:Ua("Set up goals quickly using simple, flexible rules","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Understand which messages drive real results \u2014 not just clicks","pushengage")}],videoUrl:"https://www.youtube.com/embed/1QbHjFu-tEA"}),Wg=mt.Z.Title,qg=mt.Z.Link,Kg=function(){var e=(0,vt.s0)(),t=bt(Vr),n=bt(Ur),r=(0,oe.useState)(!0),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=bt(is),l=(0,oe.useState)(oo),c=(0,xe.Z)(l,1)[0],u=(0,oe.useState)(7),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)((function(){return go({})})),g=(0,xe.Z)(h,1)[0],m=(0,oe.useState)(!1),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)([]),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)(g[oo]),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)([]),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=(0,oe.useState)(!1),P=(0,xe.Z)(T,2),M=P[0],I=P[1],D=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(r){var i,a,o,l;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return b(!0),e.next=6,bf(n,r);case 6:i=e.sent,a=i.data,o=i.meta,l=Ao(o,s),A([l.subscribers,l.notificationSent,l.views,l.click,l.goalConversionValue]),a&&_(a.reverse().map((function(e){return e.date_create_formatted=Oo(e.date_create,r.group_by),e}))),b(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),b(!1);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e){Z(e);var t=e[1].diff(e[0],"days")+1;f(t);var n={start_created_at:e[0].format("YYYY-MM-DD"),end_created_at:e[1].format("YYYY-MM-DD"),group_by:ri.DAY,expand:"analytics_in_metadata",include_meta:"prev,curr"};return t>90&&(n.group_by=ri.MONTH),n};(0,oe.useEffect)((function(){var e=L(S);Promise.all([D(e)])}),[]),(0,oe.useEffect)((function(){var e=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var r,i,a,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:if("1"!==localStorage.getItem("".concat(ni.chatWidgetDashboardDismissed,"_").concat(n))){e.next=6;break}return I(!1),e.abrupt("return");case 6:return e.prev=6,e.next=9,_f(n,{page:1,limit:1});case 9:i=e.sent,a=(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.data)||[],o=(null===a||void 0===a?void 0:a.length)>0,I(!o),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),I(!1);case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]);var R=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ei()(t[0]).add(1,"year"),!t[1].isAfter(n)){e.next=4;break}return ie.default.error({message:"".concat(Ua("You can only view analytics of maximum 12 months at a time.","pushengage")),duration:0}),e.abrupt("return");case 4:r=L(t),D(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Pf,{title:Ua("Dashboard","pushengage"),children:t&&(0,st.jsx)(Bf,{})}),(0,st.jsxs)(ct,{children:[t?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ap,{listType:"card"}),M&&(0,st.jsx)("div",{className:"pe-mb-20",children:(0,st.jsx)(tg,{subTitle:Ug.subTitle,description:Ug.description,bullets:Ug.bullets,btnText:Ua("Add a Chat Widget","pushengage"),onClick:function(){e($r.path.clickToChatV2.editor)},onDismiss:function(){n&&(localStorage.setItem("".concat(ni.chatWidgetDashboardDismissed,"_").concat(n),"1"),I(!1))},videoUrl:Ug.videoUrl})}),(0,st.jsxs)("div",{className:"pe-mb-20",children:[(0,st.jsxs)(dt.Z,{justify:"space-between",className:"pe-mb-16",children:[(0,st.jsx)(ht.Z,{className:"pe-d-flex pe-align-items-center",children:(0,st.jsxs)(Wg,{className:"pe-mb-0 pe-lh-130",level:3,children:[Ua("Quick Stats","pushengage")," ",(0,st.jsx)(ft.default,{placement:"top",title:Ua("An overview of the analytics to understand your web push subscribers.","pushengage"),children:(0,st.jsx)(yg,{className:"pe-ml-4 pe-fs-16 pe-cursor-help"})})]})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Gf,{initialValue:c,onChange:R,ranges:g})})]}),(0,st.jsx)(dt.Z,{className:"pe-statics-cards",gutter:[16,16],children:O.map((function(e){return(0,st.jsx)(ht.Z,{className:"pe-statics-card",children:(0,st.jsx)(ug,{isLoadingStats:y,title:e.title,value:e.value,count:e.count,tagValue:e.tagValue,type:e.type,previousDaysCount:p})},e.title)}))})]}),(0,st.jsx)(Tf,{className:"pe-py-30 pe-pr-30 pe-pl-16",children:(0,st.jsx)(Hc.default,{spinning:y,children:(0,st.jsx)(lh,{data:k,loading:y})})})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(rg,{}),a?(0,st.jsx)(hh,{closeWelcomePanel:function(){return o(!1)}}):null]}),(0,st.jsxs)(dt.Z,{className:"pe-mt-20",gutter:[16,16],children:[(0,st.jsx)(ht.Z,{span:24,lg:12,children:(0,st.jsx)(Rh,{})}),(0,st.jsx)(ht.Z,{span:24,lg:12,children:t?(0,st.jsx)(Mh,{collapseClassName:"pe-dashboard-strategies",title:"Strategies",children:(0,st.jsx)(Kh,{})}):(0,st.jsx)(Mh,{collapseClassName:"pe-dashboard-support",title:"Support",children:(0,st.jsxs)("div",{className:"pe-h-286 pe-pt-15",children:[(0,st.jsxs)(qg,{className:"pe-fs-16 pe-fw-700 pe-mb-40 pe-color-neutral-80 pe-d-block",href:"https://www.pushengage.com/documentation".concat(Qc({utm_medium:"Dashboard",utm_content:"Read PushEngage Guide"})),target:"_blank",children:[(0,st.jsx)(pg,{className:"pe-color-primary pe-mr-16"}),Ua("Read PushEngage Guide","pushengage")]}),(0,st.jsxs)(qg,{className:"pe-fs-16 pe-fw-700 pe-mb-40 pe-color-neutral-80 pe-d-block",href:"".concat(Gc.baseDashboardAppUrl,"/account/support").concat(Qc({sid:n,utm_medium:"Dashboard",utm_content:"Access our premium support today"})),target:"_blank",children:[(0,st.jsx)(hg,{className:"pe-color-primary pe-mr-16"}),Ua("Access our premium support today","pushengage")]}),(0,st.jsxs)(qg,{className:"pe-fs-16 pe-fw-700 pe-mb-40 pe-color-neutral-80 pe-d-block",href:"https://wordpress.org/plugins/pushengage/#developers",target:"_blank",children:[(0,st.jsx)(xg,{className:"pe-color-primary pe-mr-16"}),Ua("View the changelog","pushengage")]}),(0,st.jsxs)(qg,{className:"pe-fs-16 pe-fw-700 pe-mb-40 pe-color-neutral-80 pe-d-block",href:"https://www.pushengage.com/doc-categories/getting-started/".concat(Qc({utm_medium:"Dashboard",utm_content:"Getting started? Read the beginners guide"})),target:"_blank",children:[(0,st.jsx)(mg,{className:"pe-color-primary pe-mr-16"}),Ua("Getting started? Read the beginners guide","pushengage")]})]})})})]})]})]})},Yg=n(89611);function Gg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,Yg.Z)(e,t)}function Qg(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Xg=!1,$g=oe.createContext(null),Jg=function(e){return e.scrollTop},em="unmounted",tm="exited",nm="entering",rm="entered",im="exiting",am=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=tm,r.appearStatus=nm):i=rm:i=t.unmountOnExit||t.mountOnEnter?em:tm,r.state={status:i},r.nextCallback=null,r}Gg(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===em?{status:tm}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==nm&&n!==rm&&(t=nm):n!==nm&&n!==rm||(t=im)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===nm){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ue.findDOMNode(this);n&&Jg(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tm&&this.setState({status:em})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[ue.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Xg?this.safeSetState({status:rm},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:nm},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:rm},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ue.findDOMNode(this);t&&!Xg?(this.props.onExit(r),this.safeSetState({status:im},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:tm},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:tm},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ue.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===em)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,_e.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return oe.createElement($g.Provider,{value:null},"function"===typeof n?n(e,r):oe.cloneElement(oe.Children.only(n),r))},t}(oe.Component);function om(){}am.contextType=$g,am.propTypes={},am.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:om,onEntering:om,onEntered:om,onExit:om,onExiting:om,onExited:om},am.UNMOUNTED=em,am.EXITED=tm,am.ENTERING=nm,am.ENTERED=rm,am.EXITING=im;var sm=am,lm=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=Qg(n.className,r):n.setAttribute("class",Qg(n.className&&n.className.baseVal||"",r)));var n,r}))},cm=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Gg(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&Jg(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&lm(e,r),i&&lm(e,i),a&&lm(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,_e.Z)(e,["classNames"]));return oe.createElement(sm,(0,ke.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(oe.Component);cm.defaultProps={classNames:""},cm.propTypes={};var um=cm,dm=function(e){var t=e.children,n=e.delay,r=void 0===n?0:n,i=e.className,a=void 0===i?"":i,o=(0,oe.useState)(!1),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useRef)(null),d=(0,oe.useCallback)((function(e){return!!e.isIntersecting&&(setTimeout((function(){c(!0)}),r),!0)}),[r]);return(0,oe.useEffect)((function(){var e=u.current;if(e){var t=new IntersectionObserver((function(e){e.forEach((function(e){d(e)&&t.unobserve(e.target)}))}),{threshold:.1,rootMargin:"50px"});return t.observe(e),function(){t.unobserve(e)}}}),[r,d]),(0,st.jsx)("div",{ref:u,className:a,children:(0,st.jsx)(um,{in:l,timeout:500,classNames:"slide-up",unmountOnExit:!1,children:(0,st.jsx)("div",{children:t})})})},pm=mt.Z.Paragraph,fm=function(e){var t=e.text,n=e.className,r=void 0===n?"":n;return(0,st.jsx)(pm,{className:"pe-color-neutral-50 pe-mt-12 pe-mb-0 pe-fs-12 ".concat(r),style:{fontStyle:"italic",color:"#64748b"},children:t})},hm=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 12 11",fill:"currentColor",focusable:"false","data-icon":"pe-star-filled","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M6.00979 0.585471C6.06966 0.401209 6.33034 0.401209 6.39021 0.585471L7.54708 4.14596C7.57386 4.22836 7.65065 4.28416 7.7373 4.28416H11.481C11.6748 4.28416 11.7553 4.53208 11.5986 4.64596L8.56984 6.84646C8.49974 6.89739 8.47041 6.98766 8.49718 7.07007L9.65406 10.6306C9.71393 10.8148 9.50303 10.968 9.34629 10.8542L6.31756 8.65366C6.24746 8.60273 6.15254 8.60273 6.08244 8.65366L3.05371 10.8542C2.89697 10.968 2.68607 10.8148 2.74594 10.6306L3.90282 7.07007C3.92959 6.98766 3.90026 6.89739 3.83016 6.84646L0.801429 4.64596C0.644687 4.53208 0.725242 4.28416 0.918986 4.28416H4.6627C4.74935 4.28416 4.82614 4.22836 4.85292 4.14596L6.00979 0.585471Z",fill:"#EBAD35"})}))},gm=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:hm},e))},mm=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-lock-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"})}))},vm=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:mm},e))},ym=function(e){var t=e.rating,n=function(e){if(e+1<=Math.floor(t))return"full";if(e<t){var n=t-e;return n<=.25?"quarter":n<=.5?"half":n<=.75?"three-quarters":"full"}return"empty"},r=function(e){var t=(0,st.jsx)("svg",{fill:"#ffa500",stroke:"#e0e0e0",strokeWidth:"1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:(0,st.jsx)("path",{d:"M12 .587l3.668 7.568L24 9.432l-6 6.146 1.338 8.561L12 18.994l-7.338 4.145L6 15.578 0 9.432l8.332-1.277L12 .587z"})}),n=function(e){return(0,st.jsxs)("svg",{fill:"none",stroke:"#e0e0e0",strokeWidth:"1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:[(0,st.jsx)("defs",{children:(0,st.jsxs)("linearGradient",{id:"grad-".concat(e),x1:"0",x2:"1",y1:"0",y2:"0",children:[(0,st.jsx)("stop",{offset:"".concat(e,"%"),stopColor:"#ffa500"}),(0,st.jsx)("stop",{offset:"".concat(e,"%"),stopColor:"transparent"})]})}),(0,st.jsx)("path",{fill:"url(#grad-".concat(e,")"),d:"M12 .587l3.668 7.568L24 9.432l-6 6.146 1.338 8.561L12 18.994l-7.338 4.145L6 15.578 0 9.432l8.332-1.277L12 .587z"}),(0,st.jsx)("path",{fill:"none",stroke:"#e0e0e0",strokeWidth:"1",d:"M12 .587l3.668 7.568L24 9.432l-6 6.146 1.338 8.561L12 18.994l-7.338 4.145L6 15.578 0 9.432l8.332-1.277L12 .587z"})]})},r=(0,st.jsx)("svg",{fill:"none",stroke:"#e0e0e0",strokeWidth:"1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:(0,st.jsx)("path",{d:"M12 .587l3.668 7.568L24 9.432l-6 6.146 1.338 8.561L12 18.994l-7.338 4.145L6 15.578 0 9.432l8.332-1.277L12 .587z"})});switch(e){case"full":return t;case"quarter":return n(25);case"half":return n(50);case"three-quarters":return n(75);default:return r}};return(0,st.jsx)("div",{style:{display:"flex",gap:"4px",color:"#ffa500"},children:(0,we.Z)(Array(5)).map((function(e,t){return(0,st.jsx)("div",{children:r(n(t))},"star-".concat($a))}))})},bm=mt.Z.Title,xm=mt.Z.Paragraph,wm=mt.Z.Text,km=function(){return(0,st.jsx)("div",{className:"pe-ta-center pushengage-rating-badges-hero",children:(0,st.jsxs)("ul",{className:"badges-list",children:[(0,st.jsx)("li",{children:(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/wpbeginner-verified.svg"),style:{paddingRight:"15px",maxWidth:"180px"},alt:Ua("WP Beginner","pushengage")})}),(0,st.jsxs)("li",{children:[(0,st.jsxs)("div",{className:"holder",children:[(0,st.jsx)("img",{width:"28",height:"28",src:"".concat(window.pushengage.assetsUrl,"img/wordpress-logo.svg"),alt:Ua("WordPress","pushengage")}),(0,st.jsxs)("div",{className:"text rating-stars",children:[(0,st.jsx)(ym,{rating:4.2}),(0,st.jsx)("span",{children:Ua("Reviews","pushengage")})]})]}),(0,st.jsx)("div",{className:"right-holder",children:(0,st.jsx)("strong",{className:"mark",children:"4.2"})})]}),(0,st.jsx)("li",{style:{color:"#ffffff",backgroundColor:"#0353a3",padding:"14px 10px"},children:(0,st.jsxs)("div",{className:"holder",style:{justifyContent:"space-evenly"},children:[(0,st.jsx)(Pp,{className:"pe-fs-24"}),(0,st.jsxs)("div",{className:"text",children:[(0,st.jsx)("span",{className:"pe-d-block pe-fs-14 pe-fw-700",children:"GDPR"}),(0,st.jsx)("span",{children:Ua("Compliant","pushengage")})]}),(0,st.jsx)("div",{className:"right-holder",children:(0,st.jsx)(gm,{className:"pe-fs-24"})})]})}),(0,st.jsx)("li",{style:{color:"#ffffff",backgroundColor:"#e07d25",padding:"14px 10px"},children:(0,st.jsxs)("div",{className:"holder",style:{justifyContent:"space-evenly"},children:[(0,st.jsx)(Pp,{className:"pe-fs-24"}),(0,st.jsxs)("div",{className:"text",children:[(0,st.jsx)("span",{className:"pe-d-block pe-fs-14 pe-fw-700",children:"CCPA"}),(0,st.jsx)("span",{children:Ua("Compliant","pushengage")})]}),(0,st.jsx)("div",{className:"right-holder",children:(0,st.jsx)(vm,{className:"pe-fs-24"})})]})})]})})},_m=function(e){var t=e.title,n=e.titleHighlight,r=e.description,i=e.buttonText,a=e.buttonOnClick,o=e.microNudgeText,s=e.floatingCards;return(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)("div",{className:"pe-p-relative pe-pt-80 pe-pb-64",style:{background:"linear-gradient(to bottom, #ffffff, #f0f7ff)",borderBottom:"1px solid #e0e7ff",overflow:"hidden"},children:[(0,st.jsxs)("div",{className:"pe-mx-auto pe-px-16",style:{maxWidth:"1280px"},children:[(0,st.jsxs)(dt.Z,{gutter:[48,48],children:[(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsxs)(dm,{children:[(0,st.jsxs)("div",{className:"pe-ta-left",style:{textAlign:"left"},children:[(0,st.jsxs)(bm,{level:1,className:"pe-fw-800 pe-mb-24 pe-hero-title",style:{fontSize:"36px",lineHeight:"1.2",letterSpacing:"-0.025em",color:"#0f172a"},children:[t," ",(0,st.jsx)("span",{style:{color:"#2563eb"},children:n})]}),(0,st.jsx)(xm,{className:"pe-color-neutral-60 pe-mb-32 pe-hero-subtitle pe-fs-18",style:{lineHeight:"1.75",maxWidth:"576px",color:"#475569"},children:r})]}),(0,st.jsx)("div",{className:"pe-d-flex pe-flex-wrap pe-justify-left",style:{gap:"16px"},children:(0,st.jsxs)("div",{children:[(0,st.jsx)(pt.default,{type:"primary",size:"large",className:"pe-fs-18 pe-fw-600 pe-px-32 pe-py-16 pe-hero-button",style:{height:"56px",padding:"0 32px"},onClick:a,children:i}),(0,st.jsx)(fm,{text:o})]})})]})}),(0,st.jsx)(ht.Z,{xs:0,lg:12,children:(0,st.jsx)(dm,{delay:200,children:(0,st.jsxs)(Wc.Z,{className:"pe-p-relative",style:{borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",border:"1px solid #e2e8f0",padding:"16px"},children:[(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center pe-px-16 pe-mb-16",style:{height:"32px",backgroundColor:"#f1f5f9",borderRadius:"8px 8px 0 0",borderBottom:"1px solid #e2e8f0",gap:"8px"},children:[(0,st.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#f87171"}}),(0,st.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#fbbf24"}}),(0,st.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#34d399"}}),(0,st.jsx)("div",{className:"pe-ml-16",style:{height:"16px",width:"256px",backgroundColor:"#fff",borderRadius:"999px",border:"1px solid #e2e8f0"}})]}),(0,st.jsxs)("div",{className:"pe-p-relative",style:{backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #f1f5f9",padding:"24px",minHeight:"300px"},children:[(0,st.jsxs)("div",{className:"pe-d-flex pe-justify-space-between pe-align-items-center pe-mb-32",children:[(0,st.jsx)("div",{style:{height:"24px",width:"128px",backgroundColor:"#cbd5e1",borderRadius:"4px"}}),(0,st.jsxs)(Ju.default,{size:8,children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"32px",height:"32px",backgroundColor:"#dbeafe",borderRadius:"4px",color:"#3b82f6"},children:(0,st.jsx)(Qp,{})}),(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"32px",height:"32px",backgroundColor:"#d1fae5",borderRadius:"4px",color:"#10b981"},children:(0,st.jsx)(hg,{})})]})]}),(0,st.jsx)(dt.Z,{gutter:[16,16],className:"pe-mb-32",children:[1,2,3].map((function(e){return(0,st.jsx)(ht.Z,{span:8,children:(0,st.jsxs)(Wc.Z,{size:"small",style:{backgroundColor:"#fff",border:"1px solid #f1f5f9",borderRadius:"4px"},children:[(0,st.jsx)("div",{style:{height:"12px",width:"64px",backgroundColor:"#cbd5e1",borderRadius:"4px",marginBottom:"8px"}}),(0,st.jsx)("div",{style:{height:"24px",width:"96px",backgroundColor:1===e?"#2563eb":2===e?"#10b981":"#8b5cf6",borderRadius:"4px"}})]})},e)}))}),(0,st.jsx)("div",{className:"pe-p-absolute",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",maxWidth:"384px"},children:s.map((function(e,t){return(0,st.jsx)(Wc.Z,{size:"small",className:t<s.length-1?"pe-mb-12":"",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(8px)",borderRadius:"12px",border:"1px solid #e2e8f0",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",transform:e.transform||"none",animation:e.animate?"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite":"none"},children:(0,st.jsxs)(dt.Z,{gutter:16,align:"middle",children:[(0,st.jsx)(ht.Z,{children:"transparent"===e.iconBgColor?e.icon:(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"40px",height:"40px",backgroundColor:e.iconBgColor,borderRadius:"8px",color:e.iconColor,padding:"8px"},children:e.icon})}),(0,st.jsxs)(ht.Z,{flex:1,children:[(0,st.jsx)(wm,{className:"pe-fs-12 pe-fw-700 pe-color-neutral-80",children:e.title}),(0,st.jsx)(xm,{className:"pe-fs-10 pe-color-neutral-50 pe-mb-0",children:e.subtitle})]}),(0,st.jsx)(ht.Z,{children:e.rightContent})]})},t)}))}),(0,st.jsxs)("div",{className:"pe-p-absolute pe-d-flex pe-flex-column",style:{bottom:"16px",right:"16px",alignItems:"flex-end",zIndex:10,width:"auto"},children:[(0,st.jsxs)("div",{style:{backgroundColor:"#fff",padding:"8px",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",border:"1px solid #f1f5f9",marginBottom:"8px",animation:"bounce 1s infinite"},children:[(0,st.jsx)(wm,{className:"pe-fw-700 pe-d-block pe-mb-4 pe-fs-10",style:{color:"#334155",lineHeight:"1"},children:Ua("Hi! Need help?","pushengage")}),(0,st.jsxs)("div",{className:"pe-d-flex",style:{gap:"4px"},children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"20px",height:"20px",backgroundColor:"#d1fae5",borderRadius:"50%",color:"#059669"},children:(0,st.jsx)(hg,{className:"pe-fs-10"})}),(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"20px",height:"20px",backgroundColor:"#dbeafe",borderRadius:"50%",color:"#2563eb"},children:(0,st.jsx)(sc,{className:"pe-fs-10"})})]})]}),(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center pe-cursor-pointer pe-color-white",style:{width:"40px",height:"40px",backgroundColor:"#2563eb",borderRadius:"50%",boxShadow:"0 10px 15px -3px rgba(37, 99, 235, 0.2)",transition:"transform 0.2s"},onMouseEnter:function(e){e.currentTarget.style.transform="scale(1.1)"},onMouseLeave:function(e){e.currentTarget.style.transform="scale(1)"},children:(0,st.jsx)(hg,{className:"pe-fs-18"})})]})]})]})})})]}),(0,st.jsx)(dm,{delay:300,children:(0,st.jsx)("div",{style:{borderTop:"1px solid rgba(226, 232, 240, 0.5)",paddingTop:"40px",marginTop:"48px",paddingBottom:"0"},children:(0,st.jsx)(km,{})})})]}),(0,st.jsxs)("div",{className:"pe-p-absolute pe-p-0",style:{top:0,left:0,width:"100%",height:"100%",overflow:"hidden",zIndex:0,opacity:.4,pointerEvents:"none"},children:[(0,st.jsx)("div",{className:"pe-p-absolute",style:{top:"-96px",left:"-96px",width:"384px",height:"384px",backgroundColor:"#bfdbfe",borderRadius:"50%",filter:"blur(80px)",opacity:.3}}),(0,st.jsx)("div",{className:"pe-p-absolute",style:{top:0,right:"-16px",width:"384px",height:"384px",backgroundColor:"#e9d5ff",borderRadius:"50%",filter:"blur(80px)",opacity:.3}})]})]})})},Cm=function(e){var t={blue:{backgroundColor:"#dbeafe",color:"#1e40af",borderColor:"#93c5fd"},purple:{backgroundColor:"#f3e8ff",color:"#6b21a8",borderColor:"#d8b4fe"},green:{backgroundColor:"#d1fae5",color:"#065f46",borderColor:"#a7f3d0"},amber:{backgroundColor:"#fef3c7",color:"#92400e",borderColor:"#fde68a"},indigo:{backgroundColor:"#e0e7ff",color:"#3730a3",borderColor:"#c7d2fe"},red:{backgroundColor:"#fee2e2",color:"#991b1b",borderColor:"#fecaca"}}[e];return(0,kn.Z)((0,kn.Z)({},t),{},{border:"1px solid ".concat(t.borderColor),borderRadius:"999px",textTransform:"uppercase",letterSpacing:"1px",padding:"4px 12px",marginBottom:"16px",fontSize:"12px",fontWeight:700})},jm=mt.Z.Title,Sm=mt.Z.Paragraph,Zm=mt.Z.Text,Nm=function(e){var t=e.title,n=e.description,r=e.features,i=e.buttonText,a=e.buttonOnClick,o=e.microNudgeText,s=Array.isArray(n)?n:[n];return(0,st.jsx)(st.Fragment,{children:(0,st.jsx)("div",{className:"pe-py-64 pe-bg-white",children:(0,st.jsx)(dt.Z,{className:"pe-mx-auto pe-why-pushengage-container pe-px-16",style:{maxWidth:"1280px"},gutter:[0,48],children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsxs)(dm,{children:[(0,st.jsxs)("div",{className:"pe-ta-center pe-mb-48",children:[(0,st.jsx)(nf.default,{style:Cm("blue"),className:"pe-mb-16",children:Ua("Overview","pushengage")}),(0,st.jsx)(jm,{level:2,className:"pe-fs-30 pe-fw-700 pe-mb-24",children:t}),s.map((function(e,t){return(0,st.jsx)(Sm,{className:"pe-fs-18 pe-color-neutral-60 pe-max-w-666 pe-mx-auto",style:0===t?{marginBottom:"16px"}:{},children:e},t)}))]}),(0,st.jsx)(dt.Z,{gutter:[24,24],children:r.map((function(e,t){return(0,st.jsx)(ht.Z,{xs:24,md:12,lg:8,children:(0,st.jsxs)(Wc.Z,{bodyStyle:{padding:"24px",display:"flex",alignItems:"center",height:"100%"},style:{backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #f1f5f9",height:"100%"},hoverable:!0,children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center pe-bg-white pe-mr-16 pe-fs-24 pe-p-8",style:{width:"40px",height:"40px",borderRadius:"8px",color:"#2563eb",flexShrink:0,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:oe.cloneElement(e.icon,{style:{fontSize:"24px",width:"24px",height:"24px"}})}),(0,st.jsx)(Zm,{className:"pe-fs-16 pe-fw-500 pe-color-neutral-80 pe-pt-4",style:{lineHeight:"1.5",flex:1},children:e.text})]})},t)}))}),(0,st.jsxs)("div",{className:"pe-ta-center pe-mt-40",children:[(0,st.jsx)(pt.default,{type:"primary",size:"large",className:"pe-fs-18 pe-fw-600 pe-px-32",style:{height:"56px"},onClick:a,children:i}),o&&(0,st.jsx)(fm,{text:o})]})]})})})})})},Em=mt.Z.Text,Om=function(e){var t=e.text,n=e.buttonText,r=e.buttonOnClick,i=e.scrollThreshold,a=void 0===i?600:i,o=(0,oe.useState)(!1),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(0),d=(0,xe.Z)(u,2),p=d[0],f=d[1];return(0,oe.useEffect)((function(){var e=function(){var e=document.getElementById("pe-root");if(e){var t=e.getBoundingClientRect();f(t.left)}else{var n=document.getElementById("adminmenumain");if(n){var r=n.getBoundingClientRect();f(r.width)}else{var i=document.body.classList.contains("folded");f(i?36:160)}}};e(),window.addEventListener("resize",e);var t=new MutationObserver((function(){e()}));return document.body&&t.observe(document.body,{attributes:!0,attributeFilter:["class"]}),function(){window.removeEventListener("resize",e),t.disconnect()}}),[]),(0,oe.useEffect)((function(){var e=function(){window.scrollY>a?c(!0):c(!1)};e();var t=!1,n=function(){t||(window.requestAnimationFrame((function(){e(),t=!1})),t=!0)};return window.addEventListener("scroll",n,{passive:!0}),function(){return window.removeEventListener("scroll",n)}}),[a]),(0,st.jsx)(st.Fragment,{children:(0,st.jsx)("div",{className:"pe-sticky-cta-container pe-d-flex pe-p-fixed pe-bg-white pe-p-16 pe-px-24 pe-justify-center",style:{position:"fixed",bottom:0,left:"".concat(p,"px"),right:0,padding:"16px",borderTop:"1px solid #e2e8f0",boxShadow:"0 -4px 6px -1px rgba(0, 0, 0, 0.1)",transform:l?"translateY(0)":"translateY(100%)",transition:"transform 0.3s ease",zIndex:50},children:(0,st.jsxs)("div",{className:"pe-sticky-cta-inner pe-d-flex pe-align-items-center pe-justify-space-between pe-mx-auto",style:{width:"100%",maxWidth:"1280px",flexDirection:"column",gap:"16px"},children:[(0,st.jsx)("div",{className:"pe-sticky-cta-text",style:{display:"none"},children:(0,st.jsx)(Em,{className:"pe-fs-16 pe-fw-700 pe-color-neutral-80",children:t})}),(0,st.jsx)("div",{className:"pe-sticky-cta-button-wrapper pe-d-flex pe-justify-center",style:{width:"100%"},children:(0,st.jsx)(pt.default,{type:"primary",size:"large",className:"pe-fs-14 pe-fw-700 pe-sticky-cta-button",style:{width:"100%",height:"48px"},onClick:r,children:n})})]})})})},Am=mt.Z.Title,Tm=mt.Z.Paragraph,Pm=mt.Z.Text,Mm=function(e){var t=e.mode,n=e.layout,r=void 0===n?"normal":n,i=e.badgeText,a=e.badgeColor,o=void 0===a?"amber":a,s=e.title,l=e.description,c=e.subtitle,u=e.automationModes,d=e.checkmarkItems,p=e.dotListItems,f=e.bottomText,h=e.buttonText,g=e.buttonOnClick,m=e.microNudgeText,v=e.notificationCard,y=e.customVisual,b=e.imageSrc,x=e.imageAlt,w=e.backgroundColor,k=void 0===w?"#f8fafc":w,_=e.showBorders,C=void 0===_||_,j="flipped"===r,S=(0,st.jsx)(ht.Z,{xs:24,lg:12,style:j?{order:2}:{},className:j?"pe-order-2-lg":"",children:(0,st.jsxs)(dm,{children:[(0,st.jsx)(nf.default,{style:Cm(o),className:"pe-mb-16",children:i}),(0,st.jsx)(Am,{level:2,className:"pe-fs-36 pe-fw-700 pe-mb-16",children:s}),(0,st.jsx)(Tm,{className:"pe-fs-18 pe-color-neutral-60 pe-mb-24",children:l}),c&&(0,st.jsx)(Pm,{className:"pe-fs-16 pe-fw-600 pe-color-neutral-80 pe-mb-12 pe-d-block",children:c}),u&&u.length>0&&(0,st.jsx)(Ju.default,{direction:"vertical",size:24,className:"pe-mb-32",style:{width:"100%"},children:u.map((function(e,t){return(0,st.jsxs)("div",{className:"pe-d-flex",style:{gap:"16px"},children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"40px",height:"40px",backgroundColor:e.iconBgColor,borderRadius:"8px",color:e.iconColor,flexShrink:0},children:e.icon}),(0,st.jsxs)("div",{children:[(0,st.jsx)(Am,{level:4,className:"pe-fs-16 pe-fw-700 pe-mb-4",children:e.title}),(0,st.jsx)(Tm,{className:"pe-fs-14 pe-color-neutral-60 pe-mb-0",children:e.description})]})]},t)}))}),d&&d.length>0&&(0,st.jsx)(st.Fragment,{children:"woo"===t?(0,st.jsx)(dt.Z,{gutter:[16,12],className:"pe-mb-24",children:d.map((function(e,t){return(0,st.jsx)(ht.Z,{xs:24,sm:12,children:(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center",style:{gap:"12px"},children:[(0,st.jsx)(bu,{className:"pe-color-green pe-fs-16"}),(0,st.jsx)(Pm,{className:"pe-fs-16 pe-color-neutral-70",children:e.text})]})},t)}))}):(0,st.jsx)(Ju.default,{direction:"vertical",size:12,className:"pe-mb-24",style:{width:"100%"},children:d.map((function(e,t){return(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center",style:{gap:"12px"},children:[(0,st.jsx)(bu,{className:"pe-color-green pe-fs-16"}),(0,st.jsx)(Pm,{className:"pe-fs-16 pe-color-neutral-70",children:e.text})]},t)}))})}),p&&p.length>0&&(0,st.jsx)(dt.Z,{gutter:[8,8],className:"pe-mb-24",children:p.map((function(e,t){return(0,st.jsx)(ht.Z,{xs:24,sm:12,children:(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center",style:{gap:"8px"},children:[(0,st.jsx)("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:e.dotColor||"#8b5cf6"}}),(0,st.jsx)(Pm,{className:"pe-fs-16 pe-color-neutral-70",children:e.text})]})},t)}))}),f&&(0,st.jsx)(st.Fragment,{children:"woo"===t?(0,st.jsx)(Wc.Z,{className:"pe-mb-24",style:{backgroundColor:"#eef2ff",borderRadius:"8px",border:"1px solid #e0e7ff"},children:(0,st.jsx)(Tm,{className:"pe-fs-14 pe-mb-0 pe-fw-500",style:{color:"#3730a3"},children:f})}):(0,st.jsx)(Tm,{className:"pe-fs-16 pe-color-neutral-60 pe-mb-24 pe-fw-500",children:f})}),(0,st.jsxs)("div",{children:[(0,st.jsx)(pt.default,{type:"primary",size:"large",className:"pe-fs-18 pe-fw-600 pe-px-32",style:{height:"56px"},onClick:g,children:h}),m&&(0,st.jsx)(fm,{text:m})]})]})}),Z=(0,st.jsxs)(ht.Z,{xs:24,lg:12,style:j?{order:1}:{},className:j?"pe-order-1-lg":"",children:[y&&(0,st.jsx)(dm,{delay:200,children:y}),b&&!y&&(0,st.jsx)(dm,{delay:200,children:(0,st.jsx)("img",{src:b,alt:x||"",style:{width:"100%",height:"auto",borderRadius:"8px",display:"block"}})}),v&&(0,st.jsx)(dm,{delay:200,children:(0,st.jsxs)(Wc.Z,{className:"pe-p-relative",style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #f1f5f9",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",padding:"24px",overflow:"hidden"},children:[(0,st.jsx)("div",{className:"pe-p-absolute pe-p-0",style:{top:0,left:0,width:"100%",height:"4px",backgroundColor:v.topBarColor}}),(0,st.jsxs)("div",{className:"pe-d-flex",style:{gap:"16px"},children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"48px",height:"48px",backgroundColor:"#f1f5f9",borderRadius:"8px",flexShrink:0},children:v.icon}),(0,st.jsxs)("div",{style:{flex:1},children:[(0,st.jsx)(Am,{level:4,className:"pe-fs-16 pe-fw-700 pe-mb-4",children:v.title}),(0,st.jsx)(Tm,{className:"pe-fs-14 pe-color-neutral-60 pe-mb-12",children:v.description}),(0,st.jsx)(pt.default,{className:"pe-fs-12",type:"primary",size:"small",children:v.buttonText})]})]})]})})]});return(0,st.jsx)("div",{className:"pe-py-64",style:(0,kn.Z)({backgroundColor:k},C&&{borderTop:"1px solid #e2e8f0",borderBottom:"1px solid #e2e8f0"}),children:(0,st.jsx)(dt.Z,{className:"pe-mx-auto",style:{maxWidth:"1280px"},gutter:[48,48],align:"middle",children:j?(0,st.jsxs)(st.Fragment,{children:[Z,S]}):(0,st.jsxs)(st.Fragment,{children:[S,Z]})})})},Im=mt.Z.Title,Dm=mt.Z.Paragraph,Lm=mt.Z.Text,Rm=function(e){var t=e.mode,n=e.badgeText,r=e.badgeColor,i=void 0===r?"indigo":r,a=e.title,o=e.description,s=e.subtitle,l=e.segments,c=e.bottomText,u=e.buttonText,d=e.buttonOnClick,p=e.microNudgeText;return(0,st.jsxs)("div",{className:"pe-py-64 pe-px-32 pe-mt-32 pe-mb-32 pe-mx-auto segmentation-section",children:[(0,st.jsx)("div",{className:"pe-p-absolute pe-p-0 segmentation-section__decoration"}),(0,st.jsx)(dt.Z,{className:"pe-mx-auto segmentation-section__row",gutter:[0,0],children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsxs)(dm,{children:[(0,st.jsxs)("div",{className:"pe-ta-center pe-mb-40 segmentation-section__header",children:[n&&(0,st.jsx)(nf.default,{style:Cm(i),className:"pe-mb-16",children:n}),(0,st.jsx)(Im,{level:2,className:"pe-fs-36 pe-fw-700 pe-mb-16 pe-color-white",children:a}),(0,st.jsx)(Dm,{className:"pe-fs-18 pe-color-neutral-30 pe-max-w-800 pe-mx-auto pe-mb-24",children:o}),s&&(0,st.jsx)(Lm,{className:"pe-fs-16 pe-fw-600 pe-mb-24 pe-d-block segmentation-section__subtitle",children:s})]}),(0,st.jsx)("div",{className:"pe-px-16 pe-mb-40 pe-p-relative segmentation-section__segments-container",children:"woo"===t?(0,st.jsx)(st.Fragment,{children:(0,st.jsx)("div",{className:"pe-segments-grid-woo",children:l.map((function(e,t){return(0,st.jsxs)("div",{className:"pe-d-flex pe-flex-row pe-align-items-center segmentation-section__segment-card-woo",style:e.color?{"--segment-icon-color":e.color}:void 0,children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center segmentation-section__segment-icon-woo",children:oe.cloneElement(e.icon,{style:{fontSize:"20px"}})}),(0,st.jsx)(Lm,{className:"pe-fs-14 pe-fw-500 pe-ta-left segmentation-section__segment-text-woo",children:e.title})]},t)}))})}):(0,st.jsx)(st.Fragment,{children:(0,st.jsx)("div",{className:"pe-segments-grid",children:l.map((function(e,t){return(0,st.jsxs)("div",{className:"pe-d-flex pe-ta-center pe-align-items-center pe-justify-center segmentation-section__segment-card-wp",style:e.color?{"--segment-icon-color":e.color}:void 0,children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center pe-mb-12 segmentation-section__segment-icon-wp",children:oe.cloneElement(e.icon,{style:{fontSize:"20px"}})}),(0,st.jsx)(Lm,{className:"pe-fs-14 pe-fw-500 segmentation-section__segment-text-wp",children:e.title})]},t)}))})})}),(0,st.jsxs)("div",{className:"pe-ta-center segmentation-section__bottom",children:[(0,st.jsx)(Dm,{className:"pe-fs-18 pe-color-neutral-30 pe-mb-24",children:c}),(0,st.jsx)(pt.default,{size:"large",className:"pe-fs-18 pe-fw-600 segmentation-section__button",onClick:d,children:u}),p&&(0,st.jsx)(Dm,{className:"pe-fs-12 pe-color-neutral-40 pe-mt-12 pe-mb-0 segmentation-section__micro-nudge",children:p})]})]})})})]})},Bm=mt.Z.Title,Fm=mt.Z.Paragraph,zm=mt.Z.Text,Vm=function(e){var t=e.mode,n=e.badgeText,r=e.badgeColor,i=void 0===r?"green":r,a=e.title,o=e.description,s=e.channelsSubtitle,l=e.channels,c=e.channelsAsTags,u=e.channelsAsCheckmarks,d=e.widgetFeatures,p=e.customizationText,f=e.customizationSubtext,h=e.buttonText,g=e.buttonOnClick,m=e.microNudgeText,v=e.previewSubtext,y=e.showChatInterface,b=void 0===y||y;return(0,st.jsx)("div",{className:"pe-py-64",style:{backgroundColor:"#f8fafc",borderTop:"1px solid #e2e8f0",borderBottom:"1px solid #e2e8f0"},children:(0,st.jsxs)(dt.Z,{className:"pe-mx-auto",style:{maxWidth:"1280px"},gutter:[48,48],children:[(0,st.jsx)(ht.Z,{xs:24,md:12,children:(0,st.jsxs)(dm,{children:[(0,st.jsx)(nf.default,{style:Cm(i),className:"pe-mb-16",children:n}),(0,st.jsx)(Bm,{level:2,className:"pe-fs-36 pe-fw-700 pe-mb-16",children:a}),(0,st.jsx)(Fm,{className:"pe-fs-18 pe-color-neutral-60 pe-mb-24",children:o}),s&&(0,st.jsx)(Bm,{level:3,className:"pe-fs-16 pe-fw-700 pe-mb-12",children:s}),c&&c.length>0&&(0,st.jsxs)("div",{className:"pe-d-flex pe-flex-wrap pe-align-items-center pe-mb-24",style:{gap:"8px"},children:[c.map((function(e,t){return(0,st.jsx)(nf.default,{className:"pe-fs-14",style:{backgroundColor:"#fff",border:"1px solid #e2e8f0",padding:"4px 12px"},children:e},t)})),(0,st.jsx)(zm,{className:"pe-fs-14 pe-color-neutral-50",children:Ua("and more.","pushengage")})]}),u&&u.length>0&&(0,st.jsx)(dt.Z,{gutter:[8,8],className:"pe-mb-24",children:u.map((function(e,t){return(0,st.jsx)(ht.Z,{xs:24,sm:12,children:(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center",style:{gap:"8px"},children:[(0,st.jsx)(bu,{className:"pe-color-green pe-fs-16"}),(0,st.jsx)(zm,{className:"pe-fs-16 pe-color-neutral-70",children:e})]})},t)}))}),d&&d.length>0&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Bm,{level:3,className:"pe-fs-16 pe-fw-700 pe-mb-16",children:Ua("What you can do with the widget:","pushengage")}),(0,st.jsx)(Ju.default,{direction:"vertical",size:16,className:"pe-mb-32",style:{width:"100%"},children:d.map((function(e,t){return(0,st.jsxs)("div",{className:"pe-d-flex",style:{gap:"12px"},children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center pe-fs-12 pe-fw-700",style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#d1fae5",color:"#059669",flexShrink:0},children:t+1}),(0,st.jsxs)("div",{children:[(0,st.jsx)(zm,{className:"pe-fs-14 pe-fw-700 pe-color-neutral-80 pe-d-block pe-mb-4",children:e.title}),(0,st.jsx)(zm,{className:"pe-fs-14 pe-color-neutral-60",children:e.text})]})]},t)}))})]}),p&&(0,st.jsxs)("div",{className:"pe-mb-24",children:[(0,st.jsx)(zm,{className:"pe-fs-14 pe-color-neutral-60 pe-fw-500 pe-d-block pe-mb-4",children:p}),f&&(0,st.jsx)(zm,{className:"pe-fs-14 pe-color-neutral-50",children:f})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)(pt.default,{type:"primary",size:"large",className:"pe-fs-18 pe-fw-600 pe-px-32",style:{height:"56px"},onClick:g,children:h}),m&&(0,st.jsx)(fm,{text:m})]})]})}),(0,st.jsx)(ht.Z,{xs:24,md:12,children:(0,st.jsx)(dm,{delay:200,children:(0,st.jsxs)(Wc.Z,{className:"pe-ta-center",style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #e2e8f0",padding:"40px"},children:[l&&l.length>0&&(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-mb-24",style:{gap:"16px"},children:l.map((function(e,t){return(0,st.jsxs)("div",{className:"pe-p-relative",style:{cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:function(e){e.currentTarget.style.transform="translateY(-4px)";var t=e.currentTarget.querySelector(".pe-channel-label");t&&(t.style.opacity="1")},onMouseLeave:function(e){e.currentTarget.style.transform="translateY(0)";var t=e.currentTarget.querySelector(".pe-channel-label");t&&(t.style.opacity="0")},children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center pe-color-white",style:{width:"56px",height:"56px",backgroundColor:e.color,borderRadius:"50%",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:e.icon}),e.label&&(0,st.jsx)("span",{className:"pe-channel-label pe-p-absolute pe-fs-12 pe-fw-500",style:{bottom:"-24px",left:"50%",transform:"translateX(-50%)",color:"#64748b",opacity:0,transition:"opacity 0.2s",whiteSpace:"nowrap"},children:e.label})]},t)}))}),b&&(0,st.jsxs)("div",{className:"pe-ta-left pe-mx-auto",style:{backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #f1f5f9",overflow:"hidden",maxWidth:"320px"},children:[(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center pe-px-12",style:{backgroundColor:"#f1f5f9",borderBottom:"1px solid #e2e8f0",padding:"12px",gap:"8px"},children:[(0,st.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#f87171"}}),(0,st.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#fbbf24"}}),(0,st.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#34d399"}}),(0,st.jsx)(zm,{className:"pe-fs-10 pe-fw-500 pe-color-neutral-50 pe-ml-8",children:Ua("Chat Support","pushengage")})]}),(0,st.jsxs)("div",{style:{padding:"16px"},children:[(0,st.jsx)("div",{className:"pe-fs-12 pe-mb-12",style:{backgroundColor:"#fff",borderRadius:"8px",borderTopLeftRadius:0,border:"1px solid #e2e8f0",padding:"8px",color:"#475569",maxWidth:"85%",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},children:Ua("Hi there! \ud83d\udc4b What can we help you with today?","pushengage")}),(0,st.jsxs)(Ju.default,{direction:"vertical",size:8,style:{width:"100%"},children:[(0,st.jsx)(pt.default,{type:"primary",size:"small",block:!0,style:{fontSize:"12px"},children:Ua("wp"===t?"I need a consultation":"I need help with my order","pushengage")}),(0,st.jsx)(pt.default,{size:"small",block:!0,style:{fontSize:"12px"},children:Ua("wp"===t?"Just browsing services":"Just browsing","pushengage")})]})]})]}),v&&(0,st.jsx)(zm,{className:"pe-fs-14 pe-color-neutral-50 pe-mt-24 pe-d-block",children:v})]})})})]})})},Um=mt.Z.Title,Hm=mt.Z.Paragraph,Wm=mt.Z.Text,qm=function(e){var t=e.mode,n=e.title,r=e.description,i=e.automationItems,a=e.popularUses,o=e.noteText,s=e.buttonText,l=e.buttonOnClick,c=e.microNudgeText;return(0,st.jsx)("div",{className:"pe-py-64 pe-px-24",style:{backgroundColor:"#f0fdf4",borderTop:"1px solid #bbf7d0",borderBottom:"1px solid #bbf7d0"},children:(0,st.jsx)(dt.Z,{className:"pe-mx-auto",style:{maxWidth:"1280px"},children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(dm,{children:(0,st.jsxs)("div",{className:"pe-ta-center",children:[(0,st.jsx)("div",{className:"pe-justify-center pe-align-items-center pe-mb-16 pe-mr-8",style:{width:"48px",height:"48px",backgroundColor:"#d1fae5",borderRadius:"50%",color:"#059669",verticalAlign:"middle",display:"inline-flex"},children:(0,st.jsx)(dd,{className:"pe-fs-24"})}),(0,st.jsx)(Um,{level:2,className:"pe-fs-30 pe-fw-700 pe-mb-16",children:n}),(0,st.jsx)(Hm,{className:"pe-fs-18 pe-max-w-666 pe-color-neutral-60 pe-mx-auto pe-mb-32",children:r}),"wp"===t&&i&&i.length>0&&(0,st.jsxs)(Wc.Z,{style:{borderRadius:"12px",border:"1px solid #86efac",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",maxWidth:"672px"},className:"pe-mx-auto pe-mb-32 pe-ta-left pe-bg-white",children:[(0,st.jsxs)(Um,{level:4,className:"pe-fs-16 pe-fw-700 pe-mb-16 pe-d-flex pe-align-items-center",children:[(0,st.jsx)(dc,{className:"pe-mr-8",style:{color:"#059669"}}),Ua("If you activate WooCommerce, you can automate:","pushengage")]}),(0,st.jsx)(dt.Z,{gutter:[24,12],children:i.map((function(e,t){return(0,st.jsx)(ht.Z,{xs:24,sm:12,children:(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-start",style:{gap:"8px"},children:[(0,st.jsx)(bu,{className:"pe-color-green pe-fs-16 pe-mt-2"}),(0,st.jsx)(Wm,{className:"pe-fs-14 pe-color-neutral-70",children:e})]})},t)}))}),(0,st.jsx)(Hm,{className:"pe-fs-12 pe-color-neutral-50 pe-mt-24 pe-pt-16 pe-mb-0",style:{borderTop:"1px solid #f1f5f9"},children:Ua("These messages are fully automated and use WhatsApp-approved templates for reliable delivery.","pushengage")})]}),"woo"===t&&a&&a.length>0&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Wm,{className:"pe-fs-16 pe-fw-700 pe-max-w-666 pe-mx-auto pe-color-neutral-80 pe-d-block pe-mb-16",children:Ua("Popular Uses:","pushengage")}),(0,st.jsx)("div",{className:"pe-d-flex pe-flex-wrap pe-justify-center pe-max-w-666 pe-mx-auto",style:{gap:"12px",marginBottom:"24px"},children:a.map((function(e,t){return(0,st.jsx)("div",{className:"pe-fs-14 pe-fw-500 pe-color-neutral-70 pe-px-16 pe-py-8 pe-bg-white",style:{borderRadius:"999px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",border:"1px solid #86efac",color:"#475569"},children:e},t)}))})]}),"wp"===t&&(0,st.jsx)(Ju.default,{direction:"vertical",size:16,className:"pe-mb-32 pe-ta-center pe-max-w-640 pe-mx-auto",style:{maxWidth:"672px"},children:(0,st.jsxs)(Hm,{className:"pe-fs-14 pe-color-neutral-60 pe-mb-0",children:[(0,st.jsx)(Wm,{className:"pe-fw-700",children:Ua("If WooCommerce is not installed:","pushengage")})," ",Ua("WhatsApp automation is not available. Since WhatsApp templates are designed for ecommerce, they activate only when WooCommerce is running on your site.","pushengage")]})}),"woo"===t&&o&&(0,st.jsx)(Hm,{className:"pe-fs-14 pe-color-neutral-60 pe-mb-32 pe-max-w-466 pe-mx-auto pe-ta-center",children:o}),(0,st.jsxs)("div",{children:[(0,st.jsx)(pt.default,{type:"primary",size:"large",className:"pe-fs-18 pe-fw-600 pe-px-32",style:{height:"56px",backgroundColor:"#059669",borderColor:"#059669"},onClick:l,children:s}),c&&(0,st.jsx)(fm,{text:c})]})]})})})})})},Km=mt.Z.Title,Ym=mt.Z.Paragraph,Gm=mt.Z.Text,Qm=function(e){var t=e.title,n=e.description,r=e.subtitle,i=e.aiFeatures,a=e.creditsText,o=e.buttonText,s=e.buttonOnClick,l=e.microNudgeText,c=e.originalLabel,u=e.originalText,d=e.improvedLabel,p=e.improvedText,f=e.imageSrc,h=e.imageAlt;return(0,st.jsx)("div",{className:"pe-py-64 pe-px-32 pe-mt-32 pe-mb-32 pe-mx-auto ai-copy-assistant-section",children:(0,st.jsxs)(dt.Z,{className:"pe-mx-auto ai-copy-assistant-section__row",gutter:[40,40],align:"middle",children:[(0,st.jsx)(ht.Z,{xs:24,md:12,children:(0,st.jsxs)(dm,{children:[(0,st.jsxs)("div",{className:"pe-fs-12 pe-fw-700 pe-align-items-center pe-mb-16 ai-copy-assistant-section__ai-badge",children:[(0,st.jsx)(Lf,{className:"pe-mr-8"}),Ua("AI Powered","pushengage")]}),(0,st.jsx)(Km,{level:2,className:"pe-fs-36 pe-fw-700 pe-color-white pe-mb-16 ai-copy-assistant-section__title",children:t}),(0,st.jsx)(Ym,{className:"pe-fs-18 pe-color-white pe-mb-24",children:n}),(0,st.jsx)(Gm,{className:"pe-fs-16 pe-fw-600 pe-color-white pe-d-block pe-mb-12",children:r}),(0,st.jsx)(Ju.default,{direction:"vertical",size:12,className:"pe-mb-32 ai-copy-assistant-section__features-space",children:i.map((function(e,t){return(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center ai-copy-assistant-section__feature-item",children:[(0,st.jsx)("div",{className:"pe-justify-center pe-align-items-center ai-copy-assistant-section__feature-check",children:(0,st.jsx)(bu,{className:"pe-fs-12 ai-copy-assistant-section__feature-check-icon"})}),(0,st.jsx)(Gm,{className:"pe-fs-16 pe-color-white",children:e})]},t)}))}),(0,st.jsx)("div",{className:"pe-fs-12 pe-fw-700 pe-mb-32 ai-copy-assistant-section__credits-badge",children:a}),(0,st.jsxs)("div",{children:[(0,st.jsx)(pt.default,{size:"large",className:"pe-fs-18 pe-fw-600 ai-copy-assistant-section__button",onClick:s,children:o}),l&&(0,st.jsx)(Ym,{className:"pe-fs-12 pe-color-neutral-40 pe-mt-12 pe-mb-0 ai-copy-assistant-section__micro-nudge",children:l})]})]})}),(0,st.jsx)(ht.Z,{xs:24,md:12,children:f?(0,st.jsx)(dm,{delay:200,children:(0,st.jsx)("img",{src:f,alt:h||"",className:"ai-copy-assistant-section__image"})}):(0,st.jsx)(dm,{delay:200,children:(0,st.jsx)(Wc.Z,{className:"ai-copy-assistant-section__card",children:(0,st.jsxs)(Ju.default,{direction:"vertical",size:24,className:"ai-copy-assistant-section__card-space",children:[(0,st.jsxs)("div",{className:"ai-copy-assistant-section__original-container",children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-space-between pe-align-items-center pe-mb-8",children:(0,st.jsx)(Gm,{className:"pe-fs-12 pe-color-neutral-40 ai-copy-assistant-section__original-label",children:c})}),(0,st.jsx)(Gm,{className:"pe-fs-14 pe-color-neutral-30",children:u})]}),(0,st.jsx)("div",{className:"pe-ta-center pe-p-relative ai-copy-assistant-section__arrow-container",children:(0,st.jsx)("div",{className:"pe-justify-center pe-align-items-center ai-copy-assistant-section__thunderbolt-container",children:(0,st.jsx)(Lf,{className:"pe-fs-20 pe-color-white"})})}),(0,st.jsxs)("div",{className:"pe-p-relative ai-copy-assistant-section__improved-container",children:[(0,st.jsx)("div",{className:"pe-p-absolute pe-p-0 ai-copy-assistant-section__improved-badge",children:(0,st.jsx)(Lf,{className:"pe-fs-12 ai-copy-assistant-section__improved-badge-icon"})}),(0,st.jsx)(Gm,{className:"pe-fs-12 pe-color-neutral-40 pe-d-block pe-mb-8 ai-copy-assistant-section__improved-label",children:d}),(0,st.jsx)(Gm,{className:"pe-fs-16 pe-fw-500 pe-color-white ai-copy-assistant-section__improved-text",children:p})]})]})})})})]})})},Xm=mt.Z.Title,$m=mt.Z.Paragraph,Jm=mt.Z.Text,ev=function(e){var t=e.title,n=e.description,r=e.features,i=e.pricingText,a=e.buttonText,o=e.buttonOnClick,s=e.microNudgeText;return(0,st.jsx)("div",{className:"pe-bg-white",children:(0,st.jsx)("div",{className:"pe-mx-auto",style:{maxWidth:"1280px"},children:(0,st.jsx)(dm,{children:(0,st.jsxs)("div",{className:"pe-ta-center",style:{background:"linear-gradient(to bottom right, #eff6ff, #eef2ff)",borderRadius:"16px",border:"1px solid #dbeafe",padding:"48px"},children:[(0,st.jsx)(Xm,{level:2,className:"pe-fs-36 pe-fw-700 pe-mb-24",children:t}),(0,st.jsx)($m,{className:"pe-fs-18 pe-color-neutral-60 pe-mx-auto pe-mb-32",style:{maxWidth:"672px"},children:n}),(0,st.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:"24px",maxWidth:"896px",margin:"0 auto 40px"},className:"pe-upgrade-grid",children:r.map((function(e,t){return(0,st.jsxs)("div",{className:"pe-d-flex pe-ta-center pe-align-items-center pe-justify-center pe-bg-white",style:{borderRadius:"12px",border:"1px solid #dbeafe",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",padding:"16px",gap:"8px"},children:[(0,st.jsx)(bu,{className:"pe-fs-20",style:{color:"#2563eb",flexShrink:0}}),(0,st.jsx)(Jm,{className:"pe-fs-16 pe-fw-600 pe-color-neutral-70",children:e})]},t)}))}),(0,st.jsx)($m,{className:"pe-fs-16 pe-color-neutral-60 pe-mb-32",children:i}),(0,st.jsxs)("div",{children:[(0,st.jsx)(pt.default,{type:"primary",size:"large",className:"pe-fs-18 pe-fw-600",style:{height:"56px",padding:"0 32px",backgroundColor:"#2563eb",borderColor:"#2563eb",boxShadow:"0 10px 15px -3px rgba(37, 99, 235, 0.2)"},onClick:o,children:a}),s&&(0,st.jsx)(fm,{text:s})]})]})})})})},tv=mt.Z.Title,nv=mt.Z.Paragraph,rv=mt.Z.Text,iv=function(e){var t=e.mode,n=e.title,r=e.description,i=e.buttonText,a=e.buttonOnClick,o=e.microNudgeText,s=e.pricingLines;return(0,st.jsx)("div",{className:"pe-ta-center",style:{backgroundColor:"#f8fafc",borderTop:"1px solid #e2e8f0",paddingTop:"96px",paddingBottom:"96px"},children:(0,st.jsx)("div",{className:"pe-mx-auto",style:{maxWidth:"768px",padding:"0 16px"},children:(0,st.jsxs)(dm,{children:[(0,st.jsx)(tv,{level:2,className:"pe-final-nudge-title pe-fs-36 pe-fw-700 pe-mb-24",style:{marginBottom:"24px"},children:n}),(0,st.jsx)(nv,{className:"pe-final-nudge-description pe-mb-40",children:r}),(0,st.jsx)("div",{className:"pe-d-flex pe-flex-col pe-align-items-center pe-justify-center",style:{width:"100%"},children:(0,st.jsx)(pt.default,{type:"primary",size:"large",className:"pe-fs-18 pe-fw-600 pe-px-40 pe-py-16 pe-final-nudge-button",style:{height:"56px",boxShadow:"0 20px 25px -5px rgba(59, 130, 246, 0.5), 0 10px 10px -5px rgba(59, 130, 246, 0.04)"},onClick:a,children:i})}),"wp"===t&&o&&(0,st.jsx)(fm,{text:o,className:"pe-ta-center"}),"woo"===t&&s&&s.length>0&&(0,st.jsx)("div",{className:"pe-mt-32",children:s.map((function(e,t){return(0,st.jsx)(rv,{className:"pe-fs-14 pe-d-block",style:{color:"#64748b"},children:e},t)}))})]})})})},av=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",focusable:"false","data-icon":"pe-GlobeAmericas-outlined","aria-hidden":"true"},e),{},{children:(0,st.jsx)("path",{d:"M6.82819 0.828125C3.34967 0.828125 0.531311 3.64648 0.531311 7.125C0.531311 10.6035 3.34967 13.4219 6.82819 13.4219C10.3067 13.4219 13.1251 10.6035 13.1251 7.125C13.1251 3.64648 10.3067 0.828125 6.82819 0.828125ZM6.01569 2.12305V2.42773C6.01569 2.70703 5.68561 2.91016 5.40631 2.7832L4.79694 2.47852C5.1778 2.30078 5.58405 2.19922 6.01569 2.12305ZM6.82819 11.5176V12.2031C4.00983 12.2031 1.75006 9.94336 1.75006 7.125C1.75006 6.38867 1.9024 5.70312 2.1817 5.06836C2.43561 5.42383 2.81647 6.00781 3.07037 6.36328C3.19733 6.54102 3.34967 6.71875 3.5274 6.89648H3.5528C3.78131 7.125 4.06061 7.30273 4.3399 7.45508C4.69537 7.63281 5.22858 7.91211 5.58405 8.11523C5.83795 8.26758 6.01569 8.52148 6.01569 8.82617V9.63867C6.01569 9.86719 6.09186 10.0703 6.2442 10.2227C6.62506 10.6035 6.85358 11.1875 6.82819 11.5176ZM7.89459 12.1016L8.35162 10.9082C8.4024 10.7559 8.4278 10.6289 8.45319 10.4766C8.50397 10.375 8.55475 10.2734 8.63092 10.1973L8.91022 9.91797C9.13873 9.68945 9.26569 9.38477 9.26569 9.08008C9.26569 8.87695 9.16412 8.67383 9.03717 8.52148L8.6817 8.19141C8.52936 8.03906 8.32623 7.9375 8.09772 7.9375H6.42194C6.16803 7.83594 5.86334 7.125 5.60944 7.125C5.33014 7.125 5.07623 7.07422 4.82233 6.94727L4.54303 6.82031C4.44147 6.76953 4.39069 6.64258 4.39069 6.54102C4.39069 6.41406 4.46686 6.28711 4.59381 6.26172L5.38092 5.98242C5.50787 5.93164 5.66022 5.98242 5.76178 6.05859L6.01569 6.26172C6.04108 6.3125 6.09186 6.3125 6.14264 6.3125H6.29498C6.44733 6.3125 6.5235 6.16016 6.47272 6.0332L6.06647 5.24609C6.04108 5.14453 6.04108 5.06836 6.11725 4.99219L6.37115 4.76367C6.39655 4.71289 6.44733 4.6875 6.49811 4.6875H6.72662C6.7774 4.6875 6.82819 4.6875 6.87897 4.63672L7.08209 4.43359C7.15826 4.35742 7.15826 4.23047 7.08209 4.1543L6.95514 4.02734C6.87897 3.95117 6.87897 3.82422 6.95514 3.74805L7.23444 3.46875L7.336 3.36719C7.48834 3.21484 7.48834 2.93555 7.336 2.7832L6.62506 2.07227C6.67584 2.07227 6.75201 2.04688 6.82819 2.04688C8.80865 2.04688 10.5098 3.21484 11.3477 4.86523L11.0176 5.04297C10.9415 5.09375 10.8399 5.14453 10.7891 5.24609L10.2813 5.98242C10.1544 6.18555 10.1544 6.46484 10.2813 6.66797L10.7383 7.35352C10.8399 7.48047 10.9669 7.55664 11.1192 7.60742L11.8555 7.78516C11.5762 9.91797 9.97662 11.6445 7.89459 12.1016Z"})}))},ov=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:av},e))},sv=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 17 23",fill:"currentColor",focusable:"false","data-icon":"pe-FileImage-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M16.5 5.99219C16.5 5.73438 16.3711 5.47656 16.1562 5.26172L11.9883 1.09375C11.7734 0.878906 11.5156 0.75 11.2578 0.75H11V6.25H16.5V5.99219ZM10.6562 7.625C10.0547 7.625 9.625 7.19531 9.625 6.59375V0.75H1.03125C0.429688 0.75 0 1.22266 0 1.78125V21.7188C0 22.3203 0.429688 22.75 1.03125 22.75H15.4688C16.0273 22.75 16.5 22.3203 16.5 21.7188V7.625H10.6562ZM4.8125 8.3125C5.97266 8.3125 6.875 9.25781 6.875 10.375C6.875 11.5352 5.97266 12.4375 4.8125 12.4375C3.69531 12.4375 2.75 11.5352 2.75 10.375C2.75 9.25781 3.69531 8.3125 4.8125 8.3125ZM13.75 18.625H2.75L2.79297 16.5625L4.46875 14.8438C4.68359 14.6719 4.98438 14.6719 5.19922 14.8867L6.875 16.5625L11.3438 12.1367C11.5156 11.9219 11.8594 11.9219 12.0742 12.1367L13.75 13.8125V18.625Z"})}))},lv=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:sv},e))},cv=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 12 11",fill:"currentColor",focusable:"false","data-icon":"pe-star-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M6.00979 0.585471C6.06966 0.401209 6.33034 0.401209 6.39021 0.585471L7.54708 4.14596C7.57386 4.22836 7.65065 4.28416 7.7373 4.28416H11.481C11.6748 4.28416 11.7553 4.53208 11.5986 4.64596L8.56984 6.84646C8.49974 6.89739 8.47041 6.98766 8.49718 7.07007L9.65406 10.6306C9.71393 10.8148 9.50303 10.968 9.34629 10.8542L6.31756 8.65366C6.24746 8.60273 6.15254 8.60273 6.08244 8.65366L3.05371 10.8542C2.89697 10.968 2.68607 10.8148 2.74594 10.6306L3.90282 7.07007C3.92959 6.98766 3.90026 6.89739 3.83016 6.84646L0.801429 4.64596C0.644687 4.53208 0.725242 4.28416 0.918986 4.28416H4.6627C4.74935 4.28416 4.82614 4.22836 4.85292 4.14596L6.00979 0.585471Z"})}))},uv=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:cv},e))},dv=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 18 13",fill:"currentColor",focusable:"false","data-icon":"pe-team-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M14.875 5.875C16.0781 5.875 17.0625 4.91797 17.0625 3.6875C17.0625 2.48438 16.0781 1.5 14.875 1.5C13.6445 1.5 12.6875 2.48438 12.6875 3.6875C12.6875 4.91797 13.6445 5.875 14.875 5.875ZM14.875 2.8125C15.3398 2.8125 15.75 3.22266 15.75 3.6875C15.75 4.17969 15.3398 4.5625 14.875 4.5625C14.3828 4.5625 14 4.17969 14 3.6875C14 3.22266 14.3828 2.8125 14.875 2.8125ZM2.625 5.875C3.82812 5.875 4.8125 4.91797 4.8125 3.6875C4.8125 2.48438 3.82812 1.5 2.625 1.5C1.39453 1.5 0.4375 2.48438 0.4375 3.6875C0.4375 4.91797 1.39453 5.875 2.625 5.875ZM2.625 2.8125C3.08984 2.8125 3.5 3.22266 3.5 3.6875C3.5 4.17969 3.08984 4.5625 2.625 4.5625C2.13281 4.5625 1.75 4.17969 1.75 3.6875C1.75 3.22266 2.13281 2.8125 2.625 2.8125ZM13.4531 8.58203C12.6875 7.48828 11.2383 7.05078 9.95312 7.46094C9.57031 7.57031 9.16016 7.625 8.72266 7.625C8.3125 7.625 7.90234 7.57031 7.51953 7.46094C6.23438 7.05078 4.75781 7.46094 4.01953 8.58203C3.69141 9.10156 3.47266 9.70312 3.47266 10.3594V11.5625C3.47266 12.3008 4.07422 12.875 4.78516 12.875H12.6602C13.3984 12.875 13.9727 12.3008 13.9727 11.5625V10.3594C14 9.70312 13.7812 9.10156 13.4531 8.58203ZM12.6875 11.5625H4.8125V10.3594C4.8125 9.34766 5.60547 8.52734 6.58984 8.5C7.27344 8.80078 8.01172 8.9375 8.75 8.9375C9.46094 8.9375 10.1992 8.80078 10.8828 8.5C11.8672 8.52734 12.6875 9.34766 12.6875 10.3594V11.5625ZM15.2031 6.75H14.5469C14.0547 6.75 13.6172 6.91406 13.2617 7.16016C13.6172 7.43359 13.9453 7.76172 14.1914 8.14453C14.3008 8.11719 14.4102 8.0625 14.5195 8.0625H15.1758C15.7227 8.0625 16.1602 8.52734 16.1602 9.04688C16.1602 9.42969 16.4609 9.70312 16.8164 9.70312C17.1992 9.70312 17.4727 9.42969 17.4727 9.04688C17.5 7.78906 16.4609 6.75 15.2031 6.75ZM8.75 6.75C10.418 6.75 11.8125 5.38281 11.8125 3.6875C11.8125 2.01953 10.418 0.625 8.75 0.625C7.05469 0.625 5.6875 2.01953 5.6875 3.6875C5.6875 5.38281 7.05469 6.75 8.75 6.75ZM8.75 1.9375C9.70703 1.9375 10.5 2.73047 10.5 3.6875C10.5 4.67188 9.70703 5.4375 8.75 5.4375C7.76562 5.4375 7 4.67188 7 3.6875C7 2.73047 7.76562 1.9375 8.75 1.9375ZM4.21094 7.16016C3.85547 6.91406 3.41797 6.75 2.95312 6.75H2.29688C1.01172 6.75 0 7.78906 0 9.04688C0 9.42969 0.273438 9.70312 0.65625 9.70312C1.01172 9.70312 1.3125 9.42969 1.3125 9.04688C1.3125 8.52734 1.75 8.0625 2.29688 8.0625H2.95312C3.0625 8.0625 3.17188 8.11719 3.28125 8.14453C3.52734 7.76172 3.85547 7.43359 4.21094 7.16016Z"})}))},pv=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:dv},e))},fv=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-comment-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 2H3C2.45 2 2 2.45 2 3V17L6 13H16C16.55 13 17 12.55 17 12V3C17 2.45 16.55 2 16 2ZM15 4V11H5.17L4 12.17V4H15ZM19 6H21C21.55 6 22 6.45 22 7V22L18 18H7C6.45 18 6 17.55 6 17V15H19V6Z",fill:"currentColor"})}))},hv=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:fv},e))},gv=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-mail","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"})}))},mv=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:gv},e))},vv=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-messenger-icon","aria-hidden":"true",children:(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 9.63934C0 4.29861 4.68939 0 10.4209 0C16.1524 0 20.8418 4.29861 20.8418 9.63934C20.8418 14.98 16.1524 19.2787 10.4209 19.2787C9.37878 19.2787 8.33673 19.1484 7.42487 18.8879L3.90784 20.8418V17.1945C1.56311 15.3708 0 12.6353 0 9.63934ZM8.85779 10.1604L11.463 13.0261L17.1945 6.90384L12.1143 9.76959L9.37885 6.90384L3.64734 13.0261L8.85779 10.1604Z",transform:"translate(9.01854 10.3146)",fill:"currentColor"})}))},yv=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:vv},e))},bv=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-whatsapp-icon","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.57-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}))},xv=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:bv},e))},wv=mt.Z.Text,kv=function(){var e=[{icon:(0,st.jsx)(cc,{style:{fontSize:"20px"}}),iconBgColor:"#dbeafe",iconColor:"#2563eb",title:Ua("New Post Published","pushengage"),subtitle:Ua("Sending to 5,230 subscribers...","pushengage"),rightContent:(0,st.jsx)(wv,{className:"pe-fs-12 pe-fw-700 pe-color-green",children:Ua("Active","pushengage")}),animate:!0},{icon:(0,st.jsx)(pv,{style:{fontSize:"20px"}}),iconBgColor:"#f3e8ff",iconColor:"#9333ea",title:Ua("Subscriber Growth","pushengage"),subtitle:Ua("Top source: Mobile","pushengage"),rightContent:(0,st.jsx)("div",{style:{height:"16px",width:"48px",backgroundColor:"#e9d5ff",borderRadius:"999px"}}),transform:"translateX(-10px)"},{icon:(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center",style:{marginLeft:"-8px"},children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#25D366",border:"2px solid #fff",color:"#fff",zIndex:10,position:"relative"},children:(0,st.jsx)(hg,{style:{fontSize:"16px"}})}),(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#0084FF",border:"2px solid #fff",color:"#fff",marginLeft:"-8px"},children:(0,st.jsx)(sc,{style:{fontSize:"16px"}})})]}),iconBgColor:"transparent",iconColor:"transparent",title:Ua("Multi-Channel Chat","pushengage"),subtitle:Ua("Support via Any App","pushengage"),rightContent:(0,st.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#10b981"}}),transform:"translateX(10px)"}],t=(0,oe.useRef)(null);return(0,st.jsxs)("div",{className:"pe-dashboard-container",style:{backgroundColor:"#fff"},children:[(0,st.jsx)("div",{ref:t,children:(0,st.jsx)(_m,{title:Ua("A Better Way to Bring Visitors Back to Your","pushengage"),titleHighlight:Ua("WordPress Site","pushengage"),description:Ua("Stay connected with your audience using instant Web Push notifications, a powerful Multi-Channel Chat Widget, and advanced engagement tools built to help your site grow.","pushengage"),buttonText:Ua("Finish Setup and Start Engaging Visitors","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=default-site-not-connected&utm_content=Finish Setup and Start Engaging Visitors")},microNudgeText:Ua("Takes less than 2 minutes.","pushengage"),floatingCards:e})}),(0,st.jsx)(Om,{text:Ua("Ready to grow your WordPress audience?","pushengage"),buttonText:Ua("Finish Setup and Start Engaging Visitors","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=default-site-not-connected&utm_content=Finish Setup and Start Engaging Visitors (Sticky CTA)")},scrollThreshold:600}),(0,st.jsx)(Nm,{title:Ua("Why PushEngage Helps WordPress Sites Grow","pushengage"),description:Ua("Visitors often read once and never return. PushEngage helps you reach them instantly with updates that matter.","pushengage"),features:[{icon:(0,st.jsx)(cc,{}),text:Ua("Send automatic push notifications for new content","pushengage")},{icon:(0,st.jsx)(kg,{}),text:Ua("Bring readers back with relevant and timely updates","pushengage")},{icon:(0,st.jsx)(pv,{}),text:Ua("Create audience groups based on behavior","pushengage")},{icon:(0,st.jsx)(hg,{}),text:Ua("Offer a fast multi-channel chat experience","pushengage")},{icon:(0,st.jsx)(lv,{}),text:Ua("Send newsletter-style push messages","pushengage")},{icon:(0,st.jsx)(hv,{}),text:Ua("Unlock WhatsApp automation when WooCommerce is active","pushengage")}],buttonText:Ua("Complete Setup to Get Started","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=default-site-not-connected&utm_content=Complete Setup to Get Started")},microNudgeText:Ua("You only need to connect your site once.","pushengage")}),(0,st.jsx)(Mm,{mode:"wp",badgeText:Ua("Automation","pushengage"),badgeColor:"amber",title:Ua("Automated Blog Post Updates (Editor & RSS)","pushengage"),description:Ua("Make sure your readers never miss new content.","pushengage"),subtitle:Ua("Two automation modes:","pushengage"),automationModes:[{title:Ua("From the WordPress Editor","pushengage"),description:Ua("Send a push notification when you publish or update a post.","pushengage"),icon:(0,st.jsx)(lv,{}),iconBgColor:"#dbeafe",iconColor:"#2563eb"},{title:Ua("From your RSS Feed","pushengage"),description:Ua("Ideal for sites with frequent publishing schedules.","pushengage"),icon:(0,st.jsx)(cc,{}),iconBgColor:"#fef3c7",iconColor:"#d97706"}],bottomText:Ua("No email list required. No manual steps.","pushengage"),buttonText:Ua("Enable Automatic Blog Updates","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=default-site-not-connected&utm_content=Enable Automatic Blog Updates")},microNudgeText:Ua("Automation keeps your audience engaged effortlessly.","pushengage"),imageSrc:window.pushengage.assetsUrl+"img/dashboard/automated-blog-posts.png",imageAlt:Ua("Automated Blog Post Updates (Editor & RSS)","pushengage")}),(0,st.jsx)(Mm,{mode:"wp",layout:"flipped",badgeText:Ua("Engagement","pushengage"),badgeColor:"blue",title:Ua("Smart Timing With Scheduling and Time-Zone Targeting","pushengage"),description:Ua("Send notifications when your audience is most likely to engage.","pushengage"),subtitle:Ua("You can:","pushengage"),checkmarkItems:[{text:Ua("Schedule posts ahead of time","pushengage")},{text:Ua("Deliver messages in each subscriber's local time zone","pushengage")},{text:Ua("Avoid low-engagement hours","pushengage")},{text:Ua("Reach global audiences effectively","pushengage")}],bottomText:Ua("Better timing improves clicks and return visits.","pushengage"),buttonText:Ua("Send Notifications at the Right Time","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=default-site-not-connected&utm_content=Send Notifications at the Right Time")},microNudgeText:Ua("Engagement improves when timing is right.","pushengage"),imageSrc:window.pushengage.assetsUrl+"img/dashboard/smart-timing-engagement.png",imageAlt:Ua("Smart Timing With Scheduling and Time-Zone Targeting","pushengage"),backgroundColor:"#fff",showBorders:!1}),(0,st.jsx)(Rm,{mode:"wp",title:Ua("Smart Segmentation for Better Engagement","pushengage"),description:Ua("Not every subscriber wants the same updates. PushEngage helps you tailor notifications to user behavior.","pushengage"),subtitle:Ua("Segment your audience by:","pushengage"),segments:[{title:Ua("Pages visited","pushengage"),icon:(0,st.jsx)(lv,{}),color:"#60a5fa"},{title:Ua("Geography","pushengage"),icon:(0,st.jsx)(ov,{}),color:"#34d399"},{title:Ua("Device type","pushengage"),icon:(0,st.jsx)(Ng,{}),color:"#a78bfa"},{title:Ua("Actions taken","pushengage"),icon:(0,st.jsx)(kd,{}),color:"#fbbf24"},{title:Ua("Content interest","pushengage"),icon:(0,st.jsx)(uv,{}),color:"#f87171"}],bottomText:Ua("Relevant messages create loyal readers.","pushengage"),buttonText:Ua("Create Audience Segments","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=default-site-not-connected&utm_content=Create Audience Segments")},microNudgeText:Ua("Targeted messages perform better.","pushengage")}),(0,st.jsx)(Mm,{mode:"wp",layout:"normal",badgeText:Ua("Direct Reach","pushengage"),badgeColor:"purple",title:Ua("Push-Based Newsletters (No Email Required)","pushengage"),description:Ua("Keep your audience updated without relying on email inboxes.","pushengage"),subtitle:Ua("Perfect for:","pushengage"),dotListItems:[{text:Ua("Weekly article collections","pushengage"),dotColor:"#8b5cf6"},{text:Ua("Featured content","pushengage"),dotColor:"#8b5cf6"},{text:Ua("Educational updates","pushengage"),dotColor:"#8b5cf6"},{text:Ua("Announcements and reminders","pushengage"),dotColor:"#8b5cf6"}],bottomText:Ua("Push newsletters get higher open rates and reach readers instantly.","pushengage"),buttonText:Ua("Send Your First Push Newsletter","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=default-site-not-connected&utm_content=Send Your First Push Newsletter")},microNudgeText:Ua("A faster alternative to email.","pushengage"),imageSrc:window.pushengage.assetsUrl+"img/dashboard/push-based-newsletters.png",imageAlt:Ua("Push-Based Newsletters (No Email Required)","pushengage"),backgroundColor:"#fff",showBorders:!1}),(0,st.jsx)(Vm,{mode:"wp",badgeText:Ua("Support & Sales","pushengage"),badgeColor:"green",title:Ua("Multi-Channel Chat Widget to Engage Visitors and Capture High-Intent Leads","pushengage"),description:Ua("Give visitors a fast, convenient way to reach you. The Chat Widget also helps you guide, qualify, and convert your traffic.","pushengage"),channelsSubtitle:Ua("Visitors can instantly contact you through:","pushengage"),channelsAsTags:[Ua("WhatsApp","pushengage"),Ua("Messenger","pushengage"),Ua("Telegram","pushengage"),Ua("Email","pushengage")],widgetFeatures:[{title:Ua("Service Qualification","pushengage"),text:Ua("Ask 2\u20133 simple questions, then route serious leads to your calendar.","pushengage")},{title:Ua("Mini Intake Form","pushengage"),text:Ua("Turn the widget into a small quiz that guides visitors to the right service.","pushengage")},{title:Ua("Turn Blog Traffic Into Sales","pushengage"),text:Ua("Promote digital products, templates, courses, or e-books inside the widget.","pushengage")},{title:Ua("Appointment Booking","pushengage"),text:Ua("Trigger booking prompts on Services, Pricing, or Case Study pages.","pushengage")},{title:Ua("Content Discovery","pushengage"),text:Ua("AI assistant recommends content like 'What should I read next?'.","pushengage")}],customizationText:Ua("Customization Options:","pushengage"),customizationSubtext:Ua("Desktop and mobile layouts \u2022 Placement and targeting \u2022 Styling to match your brand","pushengage"),buttonText:Ua("Add the Multi-Channel Chat Widget","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=default-site-not-connected&utm_content=Add the Multi-Channel Chat Widget")},microNudgeText:Ua("Improve engagement with smarter conversations.","pushengage"),channels:[{name:Ua("WhatsApp","pushengage"),icon:(0,st.jsx)(xv,{className:"pe-fs-20"}),color:"#25D366",label:Ua("WhatsApp","pushengage")},{name:Ua("Facebook Messenger","pushengage"),icon:(0,st.jsx)(yv,{}),color:"#0084FF",label:Ua("Messenger","pushengage")},{name:Ua("Email","pushengage"),icon:(0,st.jsx)(mv,{className:"pe-fs-20"}),color:"#faad14",label:Ua("Email","pushengage")}],showChatInterface:!0}),(0,st.jsx)(qm,{mode:"wp",title:Ua("WhatsApp Automation for Ecommerce (WooCommerce Only)","pushengage"),description:Ua("WhatsApp is a powerful way to communicate with shoppers. PushEngage supports official WhatsApp template messages only for ecommerce workflows.","pushengage"),automationItems:[Ua("Order status updates","pushengage"),Ua("Delivery and fulfillment alerts","pushengage"),Ua("Cart abandonment reminders","pushengage"),Ua("Customer communication templates","pushengage"),Ua("Post-purchase messages","pushengage")],buttonText:Ua("Enable WhatsApp for Your WooCommerce Store","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=default-site-not-connected&utm_content=Enable WhatsApp for Your WooCommerce Store")},microNudgeText:Ua("Turn WhatsApp into a trusted notification channel for your customers.","pushengage")}),(0,st.jsx)(Qm,{title:Ua("AI Copy Assistant to Improve Your Messaging","pushengage"),description:Ua("Writing effective notifications is easier with AI.","pushengage"),subtitle:Ua("Use AI to:","pushengage"),aiFeatures:[Ua("Rewrite titles and descriptions","pushengage"),Ua("Improve clarity and engagement","pushengage"),Ua("Generate A/B test variations","pushengage"),Ua("Create new messaging ideas","pushengage")],creditsText:Ua("AI credits start at $10 for 5000 credits.","pushengage"),buttonText:Ua("Try the AI Copy Assistant","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=default-site-not-connected&utm_content=Try the AI Copy Assistant")},microNudgeText:Ua("Better messages lead to better clicks.","pushengage"),originalLabel:Ua("Original Draft","pushengage"),originalText:Ua("New post up. Read it now.","pushengage"),improvedLabel:Ua("AI Improved","pushengage"),improvedText:Ua("\ud83d\udd25 Hot off the press! Discover 5 secrets to boost your productivity today. Read more \ud83d\udc47","pushengage"),imageSrc:window.pushengage.assetsUrl+"img/dashboard/ai-copy-assistant.png",imageAlt:Ua("AI Copy Assistant to Improve Your Messaging","pushengage")}),(0,st.jsx)(ev,{title:Ua("Optional Upgrade Highlights","pushengage"),description:Ua("PushEngage Pro unlocks advanced features for deeper engagement.","pushengage"),features:[Ua("Advanced segmentation","pushengage"),Ua("A/B testing","pushengage"),Ua("Automated drip sequences","pushengage"),Ua("Audience analytics","pushengage"),Ua("Higher subscriber limits","pushengage"),Ua("Goal tracking","pushengage")],pricingText:Ua("Pro starts at $49/year after discount and includes a 14-day free cancellation window.","pushengage"),buttonText:Ua("See What You Unlock With Pro","pushengage"),buttonOnClick:function(){window.open("https://www.pushengage.com/wordpress-pricing".concat(Qc({utm_medium:"default-site-not-connected",utm_content:"See What You Unlock With Pro"}),"#pricing-table"),"_blank","noopener,noreferrer")},microNudgeText:Ua("Upgrade when you want more control.","pushengage")}),(0,st.jsx)(iv,{mode:"wp",title:Ua("Your audience is waiting to hear from you.","pushengage"),description:Ua("Finish your setup, send your first notification, and start bringing visitors back to your WordPress site more consistently.","pushengage"),buttonText:Ua("Finish Setup and Start Engaging Visitors","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=default-site-not-connected&utm_content=Finish Setup and Start Engaging Visitors")},microNudgeText:Ua("You can always explore Pro later.","pushengage")})]})},_v=(n(84437),n(50399)),Cv=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896","data-icon":"pe-close-circle-outlined",fill:"currentColor","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}),(0,st.jsx)("path",{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})]}))},jv=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Cv},e))},Sv=mt.Z.Title,Zv=mt.Z.Text,Nv=function(e){var t=e.title,n=e.rows,r=e.buttonText,i=e.buttonOnClick,a=[{title:Ua("Feature","pushengage"),dataIndex:"feature",key:"feature",render:function(e){return(0,st.jsx)(Zv,{className:"pe-fs-16 pe-fw-500",style:{color:"#1e293b"},children:e})},onHeaderCell:function(){return{className:"pe-fs-16 pe-fw-500 pe-ta-left",style:{padding:"16px 24px",color:"#64748b"}}},onCell:function(){return{style:{padding:"16px 24px",color:"#1e293b"}}}},{title:Ua("Free","pushengage"),dataIndex:"free",key:"free",align:"center",render:function(e){return function(e){return!0===e?(0,st.jsx)(bu,{className:"pe-fs-20 pe-color-green pe-d-block pe-mb-0"}):!1===e?(0,st.jsx)(jv,{className:"pe-fs-20 pe-color-red pe-d-block pe-mb-0"}):(0,st.jsx)(Zv,{className:"pe-fs-14 pe-fw-600",style:{color:"#1e293b"},children:e})}(e)},onHeaderCell:function(){return{className:"pe-fs-18 pe-fw-700 pe-ta-center",style:{padding:"16px 24px",color:"#1e293b"}}},onCell:function(){return{className:"pe-ta-center",style:{padding:"16px 24px",color:"#1e293b"}}}},{title:Ua("Pro","pushengage"),dataIndex:"pro",key:"pro",align:"center",render:function(e){return!0===e?(0,st.jsx)(bu,{className:"pe-fs-20 pe-d-block pe-mb-0 pe-mx-auto",style:{color:"#2563eb"}}):(0,st.jsx)(Zv,{className:"pe-fs-14 pe-fw-700",style:{color:"#2563eb"},children:e})},onHeaderCell:function(){return{className:"pe-fs-18 pe-fw-700 pe-ta-center",style:{padding:"16px 24px",color:"#2563eb",backgroundColor:"rgba(37, 99, 235, 0.05)"}}},onCell:function(){return{className:"pe-ta-center pe-px-24 pe-py-16",style:{backgroundColor:"rgba(37, 99, 235, 0.05)"}}}}];return(0,st.jsx)("div",{className:"pe-py-64 pe-bg-white",children:(0,st.jsx)("div",{className:"pe-mx-auto pe-px-16",style:{maxWidth:"1280px"},children:(0,st.jsxs)(dm,{children:[(0,st.jsx)(Sv,{level:2,className:"pe-fs-36 pe-fw-700 pe-mb-48 pe-ta-center",children:t}),(0,st.jsx)("div",{className:"pe-overflow-x-auto",children:(0,st.jsx)(_v.Z,{columns:a,dataSource:n,rowKey:function(e,t){return String(t)},pagination:!1,className:"pe-mx-auto",style:{width:"100%",maxWidth:"896px"},components:{header:{cell:function(e){return(0,st.jsx)("th",(0,kn.Z)((0,kn.Z)({},e),{},{style:(0,kn.Z)((0,kn.Z)({},e.style),{},{borderBottom:"2px solid #f1f5f9"})}))}},body:{row:function(e){var t=Number(e["data-row-key"]||0)%2===0;return(0,st.jsx)("tr",(0,kn.Z)((0,kn.Z)({},e),{},{style:(0,kn.Z)((0,kn.Z)({},e.style),{},{borderBottom:"1px solid #f1f5f9",backgroundColor:t?"#fff":"rgba(241, 245, 249, 0.5)",transition:"background-color 0.2s"}),onMouseEnter:function(e){e.currentTarget.style.backgroundColor="#f8fafc"},onMouseLeave:function(e){e.currentTarget.style.backgroundColor=t?"#fff":"rgba(241, 245, 249, 0.5)"}}))}}}})}),(0,st.jsx)("div",{style:{textAlign:"center",marginTop:"32px"},children:(0,st.jsx)(pt.default,{type:"primary",size:"large",className:"pe-fs-18 pe-fw-600 pe-px-32",style:{height:"56px",backgroundColor:"#2563eb",borderColor:"#2563eb"},onClick:i,children:r})})]})})})},Ev=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",focusable:"false","data-icon":"pe-bar-chart-outlined","aria-hidden":"true",children:[(0,st.jsx)("line",{x1:"18",x2:"18",y1:"20",y2:"10"}),(0,st.jsx)("line",{x1:"12",x2:"12",y1:"20",y2:"4"}),(0,st.jsx)("line",{x1:"6",x2:"6",y1:"20",y2:"14"})]}))},Ov=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Ev},e))},Av=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-dollar-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"})}))},Tv=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Av},e))},Pv=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 12 12",fill:"currentColor",focusable:"false","data-icon":"pe-QuestionCircle-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M6 0.0939941C2.78906 0.0939941 0.1875 2.71899 0.1875 5.90649C0.1875 9.11743 2.78906 11.719 6 11.719C9.1875 11.719 11.8125 9.11743 11.8125 5.90649C11.8125 2.71899 9.1875 0.0939941 6 0.0939941ZM6 10.594C3.39844 10.594 1.3125 8.50806 1.3125 5.90649C1.3125 3.32837 3.39844 1.21899 6 1.21899C8.57812 1.21899 10.6875 3.32837 10.6875 5.90649C10.6875 8.50806 8.57812 10.594 6 10.594ZM8.50781 4.61743C8.50781 3.44556 7.26562 2.53149 6.11719 2.53149C5.01562 2.53149 4.3125 3.00024 3.77344 3.82056C3.67969 3.93774 3.70312 4.10181 3.82031 4.19556L4.47656 4.68774C4.59375 4.78149 4.78125 4.75806 4.875 4.64087C5.22656 4.19556 5.48438 3.93774 6.02344 3.93774C6.44531 3.93774 6.96094 4.19556 6.96094 4.61743C6.96094 4.92212 6.70312 5.06274 6.28125 5.29712C5.8125 5.57837 5.17969 5.90649 5.17969 6.75024V6.93774C5.17969 7.10181 5.29688 7.21899 5.46094 7.21899H6.51562C6.67969 7.21899 6.79688 7.10181 6.79688 6.93774V6.79712C6.79688 6.21118 8.50781 6.18774 8.50781 4.61743ZM6.98438 8.53149C6.98438 7.99243 6.53906 7.54712 6 7.54712C5.4375 7.54712 5.01562 7.99243 5.01562 8.53149C5.01562 9.09399 5.4375 9.51587 6 9.51587C6.53906 9.51587 6.98438 9.09399 6.98438 8.53149Z"})}))},Mv=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Pv},e))},Iv=function(){var e=(0,oe.useRef)(null),t=[{icon:(0,st.jsx)(Qp,{style:{fontSize:"20px"}}),iconBgColor:"#dbeafe",iconColor:"#2563eb",title:Ua("Web Push Active","pushengage"),subtitle:Ua("Sending cart reminders...","pushengage"),rightContent:(0,st.jsx)("span",{className:"pe-fs-12 pe-fw-700",style:{color:"#059669"},children:Ua("+12% Rev","pushengage")}),animate:!0},{icon:(0,st.jsx)(hg,{style:{fontSize:"20px"}}),iconBgColor:"#d1fae5",iconColor:"#059669",title:Ua("WhatsApp Automated","pushengage"),subtitle:Ua("Order #10234 shipped!","pushengage"),rightContent:(0,st.jsx)(bu,{style:{fontSize:"16px",color:"#059669"}}),transform:"translateX(20px)"},{icon:(0,st.jsx)(Ov,{style:{fontSize:"20px"}}),iconBgColor:"#f3e8ff",iconColor:"#9333ea",title:Ua("Revenue Tracking","pushengage"),subtitle:Ua("Real-time attribution","pushengage"),rightContent:(0,st.jsx)("div",{style:{height:"16px",width:"48px",backgroundColor:"#e9d5ff",borderRadius:"999px"}}),transform:"translateX(-10px)"},{icon:(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center",style:{marginLeft:"-8px"},children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#25D366",border:"2px solid #fff",color:"#fff",zIndex:10,position:"relative"},children:(0,st.jsx)(hg,{style:{fontSize:"16px"}})}),(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center",style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#0084FF",border:"2px solid #fff",color:"#fff",marginLeft:"-8px"},children:(0,st.jsx)(sc,{style:{fontSize:"16px"}})})]}),iconBgColor:"transparent",iconColor:"transparent",title:Ua("Multi-Channel Chat","pushengage"),subtitle:Ua("Support via Any App","pushengage"),rightContent:(0,st.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#10b981"}}),transform:"translateX(10px)"}];return(0,st.jsxs)("div",{className:"pe-dashboard-container",style:{backgroundColor:"#fff"},children:[(0,st.jsx)("div",{ref:e,children:(0,st.jsx)(_m,{title:Ua("A Better Way to Communicate With Your","pushengage"),titleHighlight:Ua("WooCommerce Customers","pushengage"),description:Ua("Send the right message at the right moment through Web Push, WhatsApp Templates, and Multi-Channel Chat Widget. Improve customer experience and reduce support effort with one lightweight platform designed to help your store stay connected with shoppers from cart to delivery.","pushengage"),buttonText:Ua("Finish Setup and Start Engaging Customers","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=woocommerce-site-not-connected&utm_content=Finish Setup and Start Engaging Customers")},microNudgeText:Ua("Takes less than 2 minutes.","pushengage"),floatingCards:t})}),(0,st.jsx)(Om,{text:Ua("Ready to engage your customers?","pushengage"),buttonText:Ua("Finish Setup and Start Engaging Customers","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=woocommerce-site-not-connected&utm_content=Finish Setup and Start Engaging Customers (Sticky CTA)")},scrollThreshold:600}),(0,st.jsx)(Nm,{title:Ua("Why PushEngage Matters for WooCommerce Stores","pushengage"),description:[Ua("Running a WooCommerce store means juggling many things at once. Customers leave items in their carts, ask about order updates, check back for new arrivals, and sometimes leave before you get the chance to help.","pushengage"),Ua("PushEngage helps you stay one step ahead with fast, friendly communication across multiple channels.","pushengage")],features:[{icon:(0,st.jsx)(dc,{}),text:Ua("Remind shoppers about abandoned carts","pushengage")},{icon:(0,st.jsx)(Qp,{}),text:Ua("Send order status updates instantly","pushengage")},{icon:(0,st.jsx)(uv,{}),text:Ua("Share new product arrivals","pushengage")},{icon:(0,st.jsx)(hg,{}),text:Ua("Chat with customers in real time","pushengage")},{icon:(0,st.jsx)(Mv,{}),text:Ua('Reduce "Where is my order" tickets',"pushengage")},{icon:(0,st.jsx)(pv,{}),text:Ua("Bring customers back without needing their email","pushengage")}],buttonText:Ua("Complete Setup to Get These Features Activated","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=woocommerce-site-not-connected&utm_content=Complete Setup to Get These Features Activated")}}),(0,st.jsx)(Mm,{mode:"woo",badgeText:Ua("Revenue","pushengage"),badgeColor:"amber",title:Ua("Recover More Sales With Automated Cart Reminders","pushengage"),description:Ua("Cart abandonment happens every day. Many shoppers plan to return but forget. Automated push notifications give them a gentle nudge at the right time.","pushengage"),subtitle:Ua("What you can send:","pushengage"),dotListItems:[{text:Ua('"You left something behind" reminders',"pushengage"),dotColor:"#f59e0b"},{text:Ua("Limited-time offers","pushengage"),dotColor:"#f59e0b"},{text:Ua("Stock running low alerts","pushengage"),dotColor:"#f59e0b"},{text:Ua("Price drop notifications","pushengage"),dotColor:"#f59e0b"}],bottomText:Ua("These reminders help bring shoppers back to complete their orders.","pushengage"),buttonText:Ua("Start Recovering More Revenue","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=woocommerce-site-not-connected&utm_content=Start Recovering More Revenue")},imageSrc:window.pushengage.assetsUrl+"img/dashboard/recover-more-sales-woo.png",imageAlt:Ua("Recover More Sales With Automated Cart Reminders","pushengage"),backgroundColor:"#f9f8fc",showBorders:!0}),(0,st.jsx)(Mm,{mode:"woo",layout:"flipped",badgeText:Ua("Updates","pushengage"),badgeColor:"green",title:Ua("Keep Customers Updated With Real-Time Order Notifications","pushengage"),description:Ua("Your customers love clarity. When they place an order, they want updates quickly and reliably.","pushengage"),subtitle:Ua("Event triggers include:","pushengage"),checkmarkItems:[{text:Ua("New order received","pushengage")},{text:Ua("Order processing","pushengage")},{text:Ua("Order completed","pushengage")},{text:Ua("Order refunded","pushengage")},{text:Ua("Payment failed","pushengage")},{text:Ua("Order on-hold","pushengage")},{text:Ua("Shipment updates","pushengage")}],bottomText:Ua("Pro Feature: Upgrade to unlock advanced event notifications and more precise tagging. Pro starts at $49/year with a 14-day free cancellation window.","pushengage"),buttonText:Ua("Send Real-Time Order Updates","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=woocommerce-site-not-connected&utm_content=Send Real-Time Order Updates")},imageAlt:Ua("Keep Customers Updated With Real-Time Order Notifications","pushengage"),imageSrc:window.pushengage.assetsUrl+"img/dashboard/real-time-order-updates-woo.png",backgroundColor:"#fafafd",showBorders:!1}),(0,st.jsx)(Rm,{mode:"woo",badgeText:Ua("Retention","pushengage"),badgeColor:"indigo",title:Ua("Bring Shoppers Back With Product Alerts","pushengage"),description:Ua("Shoppers often intend to buy later. Product alerts help them stay in the loop.","pushengage"),segments:[{title:Ua("Back-in-stock alerts","pushengage"),icon:(0,st.jsx)(Og,{}),color:"#60a5fa"},{title:Ua("Price drops","pushengage"),icon:(0,st.jsx)(Tv,{}),color:"#34d399"},{title:Ua("New arrivals","pushengage"),icon:(0,st.jsx)(uv,{}),color:"#a78bfa"},{title:Ua("Personalized recs","pushengage"),icon:(0,st.jsx)(uv,{}),color:"#f87171"}],bottomText:Ua("These notifications bring customers back when timing is right.","pushengage"),buttonText:Ua("Start Recovering More Revenue","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=woocommerce-site-not-connected&utm_content=Start Recovering More Revenue (Product Alerts)")}}),(0,st.jsx)(Vm,{mode:"woo",badgeText:Ua("Support","pushengage"),badgeColor:"green",title:Ua("Multi-Channel Chat Widget to Help Customers Instantly","pushengage"),description:Ua("Some shoppers need quick answers before they buy. With the Multi-Channel Chat Widget, your store can offer support through the channels your customers already use.","pushengage"),channelsSubtitle:Ua("Customers can reach you through:","pushengage"),channelsAsCheckmarks:[Ua("WhatsApp","pushengage"),Ua("Messenger","pushengage"),Ua("Telegram","pushengage"),Ua("Email","pushengage"),Ua("And more","pushengage")],customizationText:Ua("Customization Options:","pushengage"),customizationSubtext:Ua("You can customize the widget for desktop and mobile separately and show different channels based on device or page. This reduces friction, improves trust, and boosts conversions.","pushengage"),buttonText:Ua("Add the Multi-Channel Chat Widget","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=woocommerce-site-not-connected&utm_content=Add the Multi-Channel Chat Widget")},channels:[{name:Ua("WhatsApp","pushengage"),icon:(0,st.jsx)(xv,{className:"pe-fs-20"}),color:"#25D366",label:Ua("WhatsApp","pushengage")},{name:Ua("Facebook Messenger","pushengage"),icon:(0,st.jsx)(yv,{}),color:"#0084FF",label:Ua("Messenger","pushengage")},{name:Ua("Email","pushengage"),icon:(0,st.jsx)(mv,{className:"pe-fs-20"}),color:"#faad14",label:Ua("Email","pushengage")}],showChatInterface:!0}),(0,st.jsx)(qm,{mode:"woo",title:Ua("WhatsApp Automation for Fast Customer Updates","pushengage"),description:Ua("Keep your customers informed instantly with automated WhatsApp messages. Use approved templates to send important updates without manual effort.","pushengage"),popularUses:[Ua("Automated order status updates","pushengage"),Ua("Cart recovery nudges","pushengage"),Ua("Blog or content update notifications","pushengage"),Ua("Flash sale or limited time alerts","pushengage"),Ua("New product announcements","pushengage")],buttonText:Ua("Enable WhatsApp Automation","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=woocommerce-site-not-connected&utm_content=Enable WhatsApp Automation")},microNudgeText:Ua("Turn WhatsApp into a trusted notification channel for your customers.","pushengage")}),(0,st.jsx)(Mm,{mode:"woo",badgeText:Ua("Analytics","pushengage"),badgeColor:"purple",title:Ua("Know Exactly What Works With Revenue Tracking (Pro Feature)","pushengage"),description:Ua("PushEngage shows you exactly how much revenue your push campaigns generate. See which messages bring shoppers back, which increase conversions, and which campaigns drive the most sales.","pushengage"),subtitle:Ua("Track:","pushengage"),dotListItems:[{text:Ua("Revenue per campaign","pushengage"),dotColor:"#9333ea"},{text:Ua("Revenue per automation","pushengage"),dotColor:"#9333ea"},{text:Ua("Conversions","pushengage"),dotColor:"#9333ea"},{text:Ua("Clicks and purchases","pushengage"),dotColor:"#9333ea"}],bottomText:Ua("Available on Pro plans starting at $49/year, with a 14-day free cancellation.","pushengage"),buttonText:Ua("Upgrade to Pro and Track Revenue Automatically","pushengage"),buttonOnClick:function(){window.open("https://www.pushengage.com/wordpress-pricing".concat(Qc({utm_medium:"woocommerce-site-not-connected",utm_content:"Upgrade to Pro and Track Revenue Automatically"})),"_blank","noopener,noreferrer")},imageAlt:Ua("Know Exactly What Works With Revenue Tracking (Pro Feature)","pushengage"),imageSrc:window.pushengage.assetsUrl+"img/dashboard/revenue-tracking-woo.png",backgroundColor:"#fff",showBorders:!1}),(0,st.jsx)(Qm,{title:Ua("Write Better Messages With AI Copy Assistant","pushengage"),description:Ua("Not sure what to write? The AI Copy Assistant helps you create engaging, high-converting messages for push, WhatsApp, and customer updates.","pushengage"),subtitle:Ua("You can:","pushengage"),aiFeatures:[Ua("Rewrite notification text","pushengage"),Ua("Generate titles","pushengage"),Ua("Improve CTAs","pushengage"),Ua("Create variants for A/B testing","pushengage")],creditsText:Ua("AI credits start at $10 for 5000 credits.","pushengage"),buttonText:Ua("Try the AI Copy Assistant","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=woocommerce-site-not-connected&utm_content=Try the AI Copy Assistant")},microNudgeText:Ua("Better messages lead to better clicks.","pushengage"),originalLabel:Ua("Original","pushengage"),originalText:Ua("Buy now. Sale ending.","pushengage"),improvedLabel:Ua("AI Optimized","pushengage"),improvedText:Ua("\u23f3 Last Chance! Grab 20% off before midnight. Don't miss out! \ud83d\udecd\ufe0f","pushengage")}),(0,st.jsx)(Nv,{title:Ua("Light Comparison \u2014 Free vs Pro","pushengage"),rows:[{feature:Ua("Basic Web Push","pushengage"),free:!0,pro:!0},{feature:Ua("Cart Recovery","pushengage"),free:!1,pro:!0},{feature:Ua("Order Event Notifications","pushengage"),free:!0,pro:Ua("Enhanced","pushengage")},{feature:Ua("Segmentation","pushengage"),free:!1,pro:!0},{feature:Ua("Revenue Tracking","pushengage"),free:!1,pro:!0},{feature:Ua("Chat Widget","pushengage"),free:!0,pro:Ua("Advanced","pushengage")},{feature:Ua("WhatsApp Templates","pushengage"),free:!1,pro:!0},{feature:Ua("AI Copy Assistant","pushengage"),free:!0,pro:!0},{feature:Ua("AI Credits","pushengage"),free:Ua("Add-on","pushengage"),pro:Ua("Add-on","pushengage")}],buttonText:Ua("See What You Unlock With Pro","pushengage"),buttonOnClick:function(){window.open("https://www.pushengage.com/wordpress-pricing".concat(Qc({utm_medium:"woocommerce-site-not-connected",utm_content:"See What You Unlock With Pro"}),"#pricing-table"),"_blank","noopener,noreferrer")}}),(0,st.jsx)(iv,{mode:"woo",title:Ua("You are just a few minutes away from better customer communication.","pushengage"),description:Ua("Complete setup, choose your channels, and start sending helpful updates that bring customers back, support orders, and improve satisfaction.","pushengage"),buttonText:Ua("Finish Setup and Start Engaging Customers","pushengage"),buttonOnClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding?utm_medium=woocommerce-site-not-connected&utm_content=Finish Setup and Start Engaging Customers")},pricingLines:[Ua("Pro plan starts at $49/year after discount.","pushengage"),Ua("All plans include a 14-day free cancellation window.","pushengage")]})]})},Dv=function(){return Yo?(0,st.jsx)(Iv,{}):(0,st.jsx)(kv,{})},Lv=(n(22401),n(25573)),Rv=(n(32812),n(18961)),Bv=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("sites/".concat(t,"/api-keys")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fv=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.post("sites/".concat(t,"/api-keys")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zv=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("misc/timezones"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vv=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("misc/countries"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Uv=function(){var e,t,n,r,i,a,o,s,l,c,u={host:(null===(e=window)||void 0===e||null===(t=e.pushengage)||void 0===t?void 0:t.siteHost)||"",wp_version:(null===(n=window)||void 0===n||null===(r=n.pushengage)||void 0===r?void 0:r.wpVersion)||"",plugin_version:(null===(i=window)||void 0===i||null===(a=i.pushengage)||void 0===a?void 0:a.peVersion)||""};null!==(o=window)&&void 0!==o&&null!==(s=o.pushengage)&&void 0!==s&&s.siteHost&&(null!==(l=window)&&void 0!==l&&null!==(c=l.pushengage)&&void 0!==c&&c.siteId&&(u.site_id="string"===typeof window.pushengage.siteId?parseInt(window.pushengage.siteId,10):window.pushengage.siteId,u.status="connected"));return u},Hv=function(e){if(!e)return!1;var t=String(e).toLowerCase();return"localhost"===t||"::1"===t||"0:0:0:0:0:0:0:1"===t||!!/^127(?:\.[0-9]{1,3}){3}$/.test(t)},Wv=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a,o,s,l,c,u,d;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=window)||void 0===n||null===(r=n.pushengage)||void 0===r||null===(i=r.settings)||void 0===i||null===(a=i.misc)||void 0===a?void 0:a.enableWpMetricsTracker){e.next=3;break}return e.abrupt("return");case 3:if(u=(null===(o=window)||void 0===o||null===(s=o.pushengage)||void 0===s?void 0:s.siteHost)||(null===(l=window)||void 0===l||null===(c=l.location)||void 0===c?void 0:c.hostname)||"",!Hv(u)){e.next=6;break}return e.abrupt("return");case 6:return d=(0,kn.Z)((0,kn.Z)({},Uv()),t),e.abrupt("return",Lc.post("misc/wp-metrics",d,{disableGlobalErrorHandler:!0}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qv=/^(https?):\/\/[^\s$.?#].[^\s]*$/,Kv=/^[a-zA-Z0-9].*[a-zA-Z0-9]$/,Yv=/\S+@\S+\.\S+/,Gv=/^[a-zA-Z0-9\-_]*$/,Qv=/^[a-zA-Z\d-_]+$/,Xv=/{{(.*?)}}/g,$v=/^\+\d{6,15}$/,Jv=Object.freeze({siteName:Ua("Minimum 3 and maximum 80 characters, must start and end with a letter or number","pushengage"),siteUrl:Ua('A Valid URL should be of the format "http[s]://yoursite.com"',"pushengage"),emptySiteUrl:Ua("Site url cannot be empty","pushengage"),limitSiteUrl:Ua("Site url cannot be more than 400 characters.","pushengage"),emptyUtmSource:Ua("Utm source cannot be empty","pushengage"),limitUtmSource:Ua("Utm source limited to 80 characters","pushengage"),emptyUtmMedium:Ua("Utm medium cannot be empty","pushengage"),limitUtmMedium:Ua("Utm medium limited to 80 characters","pushengage"),emptyUtmCampaign:Ua("Utm campaign cannot be empty","pushengage"),limitUtmCampaign:Ua("Utm campaign limited to 80 characters","pushengage"),limitUtmTerm:Ua("Utm term limited to 80 characters","pushengage"),limitUtmContent:Ua("Utm content limited to 120 characters","pushengage"),emptyNotificationTitle:Ua("Notification title cannot be blank","pushengage"),limitNotificationTitle:Ua("Notification title cannot be longer than 85 characters","pushengage"),emptyNotificationMessage:Ua("Notification message cannot be blank","pushengage"),limitNotificationMessage:Ua("Notification message cannot be longer than 135 characters","pushengage"),emptyNotificationUrl:Ua("Notification url cannot be blank","pushengage"),validNotificationUrl:Ua('A valid url should be of the format "http[s]://yoursite.com"',"pushengage"),limitNotificationUrl:Ua("Notification url cannot be longer than 1600 characters","pushengage"),limitCity:Ua("City cannot be longer than 120 characters","pushengage"),limitCountry:Ua("Country cannot be longer than 120 characters","pushengage"),maxNotificationExpiry:Ua("Expiry can be maximum of 28 days","pushengage"),emptyServiceWorkerPath:Ua("Service worker path cannot be empty","pushengage"),limitServiceWorkerPath:Ua("Service worker cannot be longer than 500 characters","pushengage"),emptyCustomUrl:Ua("Custom subdomain url cannot be empty","pushengage"),limitCustomUrl:Ua("Custom url cannot be longer than 300 characters","pushengage"),validCustomUrl:Ua('A valid url should be of the format "http[s]://yoursite.com"',"pushengage"),emptySafariPushId:Ua("Website push id cannot be blank","pushengage"),limitSafariPushId:Ua("Website push id cannot be longer than 80 characters","pushengage"),emptySafariKey:Ua("P12 file cannot be blank","pushengage"),emptySafariKeyPass:Ua("P12 file password cannot be blank","pushengage"),limitSafariKeyPass:Ua("p12 file password cannot be longer than 80 characters","pushengage")});function ey(e){var t=e.siteName,n=e.siteUrl,r=!1,i="",a={siteName:"",siteUrl:""};(!t||""===(null===t||void 0===t?void 0:t.trim())||(null===t||void 0===t?void 0:t.length)<3||(null===t||void 0===t?void 0:t.length)>80||!Kv.test(null===t||void 0===t?void 0:t.trim()))&&(r=!0,i=i||"pe-site-details-card",a.siteName=Jv.siteName),qv.test(null===n||void 0===n?void 0:n.trim())||(r=!0,i=i||"pe-site-details-card",a.siteUrl=Jv.siteUrl),n||(r=!0,i=i||"pe-site-details-card",a.siteUrl=Jv.emptySiteUrl),(null===n||void 0===n?void 0:n.length)>400&&(r=!0,i=i||"pe-site-details-card",a.siteUrl=Jv.limitSiteUrl);var o=document.getElementById(i);return r&&o&&o.scrollIntoView({behavior:"smooth",block:"center",inline:"start"}),{isValid:!r,errors:a}}function ty(e){var t=e.utmSource,n=e.utmMedium,r=e.utmCampaign,i=e.utmTerm,a=e.utmContent,o=e.notificationTitle,s=e.notificationMessage,l=e.notificationUrl,c=e.fallbackCity,u=e.fallbackCountry,d=e.notificationExpiryDays,p=e.notificationExpiryHours,f=e.notificationExpiryMinutes,h=!1,g="",m={utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",fallbackCity:"",fallbackCountry:"",notificationTitle:"",notificationMessage:"",notificationUrl:"",notificationExpiry:""};t||(h=!0,g="pe-utm-params-card",m.utmSource=Jv.emptyUtmSource),t.length>80&&(h=!0,g="pe-utm-params-card",m.utmSource=Jv.limitUtmSource),n||(h=!0,g="pe-utm-params-card",m.utmMedium=Jv.emptyUtmMedium),n.length>80&&(h=!0,g="pe-utm-params-card",m.utmMedium=Jv.limitUtmMedium),r||(h=!0,g="pe-utm-params-card",m.utmCampaign=Jv.emptyUtmCampaign),r.length>80&&(h=!0,g="pe-utm-params-card",m.utmCampaign=Jv.limitUtmCampaign),i.length>80&&(h=!0,g="pe-utm-params-card",m.utmTerm=Jv.limitUtmTerm),a.length>120&&(h=!0,g="pe-utm-params-card",m.utmContent=Jv.limitUtmCampaign),o||(h=!0,g=g||"pe-fallback-notification-card",m.notificationTitle=Jv.emptyNotificationTitle),o.length>85&&(h=!0,g=g||"pe-fallback-notification-card",m.notificationTitle=Jv.limitNotificationTitle),s||(h=!0,g=g||"pe-fallback-notification-card",m.notificationMessage=Jv.emptyNotificationMessage),s.length>135&&(h=!0,g=g||"pe-fallback-notification-card",m.notificationMessage=Jv.limitNotificationMessage),l||(h=!0,g=g||"pe-fallback-notification-card",m.notificationUrl=Jv.emptyNotificationUrl),qv.test(l.trim())||(h=!0,g=g||"pe-fallback-notification-card",m.notificationUrl=Jv.validNotificationUrl),l.length>1600&&(h=!0,g=g||"pe-fallback-notification-card",m.notificationUrl=Jv.limitNotificationUrl),c.length>120&&(h=!0,g=g||"pe-fallback-attributes-card",m.fallbackCity=Jv.limitCity),u.length>120&&(h=!0,g=g||"pe-fallback-attributes-card",m.fallbackCountry=Jv.limitCountry),24*d*60*60+60*p*60+60*f>2419200&&(h=!0,g=g||"pe-notification-expiry-card",m.notificationExpiry=Jv.maxNotificationExpiry);var v=document.getElementById(g);return h&&v&&v.scrollIntoView({behavior:"smooth",block:"center",inline:"start"}),{isValid:!h,errors:m}}function ny(e){var t,n,r=e.serviceWorkerPath,i=e.serviceWorkerStatus,a=e.customUrl,o=e.customUrlEnabled,s=e.safariPushId,l=e.safariKey,c=e.safariKeyPass,u=!1,d="",p={serviceWorkerPath:"",customUrl:"",safariPushId:"",safariKey:"",safariKeyPass:""};((null===r||void 0===r?void 0:r.length)>500&&(u=!0,d="pe-service-worker-settings-card",p.serviceWorkerPath=Jv.limitServiceWorkerPath),i&&!r&&(u=!0,d="pe-service-worker-settings-card",p.serviceWorkerPath=Jv.emptyServiceWorkerPath),o&&!a&&(u=!0,d=d||"pe-custom-subdomain-settings-card",p.customUrl=Jv.emptyCustomUrl),(null===a||void 0===a?void 0:a.length)>300&&(u=!0,d=d||"pe-custom-subdomain-settings-card",p.customUrl=Jv.limitCustomUrl),o&&!qv.test(null===a||void 0===a?void 0:a.trim())&&(u=!0,d=d||"pe-custom-subdomain-settings-card",p.customUrl=Jv.validCustomUrl),s||l||c)&&(s||(u=!0,d=d||"pe-safari-settings-card",p.safariPushId=Jv.emptySafariPushId),(null===s||void 0===s||null===(t=s.trim())||void 0===t?void 0:t.length)>80&&(u=!0,d=d||"pe-safari-settings-card",p.safariPushId=Jv.limitSafariPushId),l||(u=!0,d=d||"pe-safari-settings-card",p.safariKey=Jv.emptySafariKey),c||(u=!0,d=d||"pe-safari-settings-card",p.safariKeyPass=Jv.emptySafariKeyPass),(null===c||void 0===c||null===(n=c.trim())||void 0===n?void 0:n.length)>80&&(u=!0,d=d||"safari-settings",p.safariKeyPass=Jv.limitSafariKeyPass));var f=document.getElementById(d);return u&&f&&f.scrollIntoView({behavior:"smooth",block:"center",inline:"start"}),{isValid:!u,errors:p}}var ry=function(e){var t=e.children,n=e.containerClassName,r=void 0===n?"":n,i=e.pageClassName,a=void 0===i?"":i,o=e.containerIdName,s=void 0===o?"":o;return(0,st.jsx)("div",{className:"pe-page-container ".concat(r||""),id:s,children:(0,st.jsx)("div",{className:"pe-page ".concat(a),children:t})})};ry.defaultProps={containerClassName:"",pageClassName:"",containerIdName:""};var iy=ry,ay=(n(20746),n(97013)),oy=ay.default.TabPane,sy={about:[{tabLabel:"About Us",tabKey:$r.path.aboutUs.aboutUs},{tabLabel:"Getting Started",tabKey:$r.path.aboutUs.gettingStarted}],analytics:[{tabLabel:"Overview",tabKey:$r.path.analytics.overview},{tabLabel:"Opt-in Analytics",tabKey:$r.path.analytics.optinAnalytics},{tabLabel:"Goal Tracking",tabKey:$r.path.analytics.goalTracking}],audience:[{tabLabel:"Subscribers",tabKey:$r.path.audience.subscribers},{tabLabel:"Segments",tabKey:$r.path.audience.segments},{tabLabel:"Audience Groups",tabKey:$r.path.audience.audienceGroups},{tabLabel:"Attributes",tabKey:$r.path.audience.attributes,isNew:!0}],design:[{tabLabel:"Popup Modals",tabKey:$r.path.design.popupModals},{tabLabel:"Widgets",tabKey:$r.path.design.widgets},{tabLabel:"Targeting Rule",tabKey:$r.path.design.targetingRule}],debug:[{tabLabel:"System Status",tabKey:$r.path.debug.system},{tabLabel:"Logs",tabKey:$r.path.debug.logs}],settings:[{tabLabel:"Site Details",tabKey:$r.path.settings.siteDetails},{tabLabel:"Auto Push Settings",tabKey:$r.path.settings.autoPush},{tabLabel:"Default Settings",tabKey:$r.path.settings.defaultSettings},{tabLabel:"Advanced Settings",tabKey:$r.path.settings.advancedSettings},{tabLabel:"Misc",tabKey:$r.path.settings.miscSettings},{tabLabel:"Billing",tabKey:$r.path.settings.billing},{tabLabel:"User Management",tabKey:"user-management"},{tabLabel:"Integrations",tabKey:$r.path.settings.integrations}],whatsapp:[{tabLabel:"Automation",tabKey:$r.path.whatsapp.automation},{tabLabel:"Templates",tabKey:$r.path.whatsapp.templates},{tabLabel:"Settings",tabKey:$r.path.whatsapp.settings}],woocommerce:[{tabLabel:"Push Notifications",tabKey:$r.path.woocommerce.automation},{tabLabel:"WhatsApp",tabKey:$r.path.woocommerce.whatsapp}],chatWidgets:[{tabLabel:"Overview",tabKey:"".concat($r.path.clickToChatV2.list,"?tab=overview")},{tabLabel:"Chat Widgets",tabKey:"".concat($r.path.clickToChatV2.list,"?tab=list")}]},ly=function(e){var t=(0,vt.s0)(),n=bt(Ur);return(0,st.jsx)("div",{className:"pe-page-navigation",children:(0,st.jsx)(ay.default,{activeKey:e.activeKey,onChange:function(e){"user-management"!==e?t(e):window.open("".concat(Gc.baseDashboardAppUrl,"/account/user-management").concat(Qc({sid:n,utm_medium:"SettingsUserManagement",utm_content:"User Management"})),"_blank")},children:sy[e.type].map((function(e){var t=e.tabLabel,n=e.tabKey,r=e.isNew,i=void 0!==r&&r;return(0,st.jsx)(oy,{tab:(0,st.jsxs)("span",{style:{display:"flex",gap:"5px",justifyContent:"space-between"},children:[t," ",i&&(0,st.jsx)("sup",{children:(0,st.jsx)(nf.default,{color:"#5158ff",children:Ua("New!","pushengage")})})]})},n)}))})})},cy=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 12 16",fill:"currentColor",focusable:"false","data-icon":"pe-check-circle-filled","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M6 3V0.75L3 3.75L6 6.75V4.5C8.4825 4.5 10.5 6.5175 10.5 9C10.5 9.7575 10.3125 10.4775 9.975 11.1L11.07 12.195C11.655 11.2725 12 10.1775 12 9C12 5.685 9.315 3 6 3ZM6 13.5C3.5175 13.5 1.5 11.4825 1.5 9C1.5 8.2425 1.6875 7.5225 2.025 6.9L0.93 5.805C0.345 6.7275 0 7.8225 0 9C0 12.315 2.685 15 6 15V17.25L9 14.25L6 11.25V13.5Z"})}))},uy=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:cy},e))},dy=mt.Z.Title,py=mt.Z.Paragraph,fy=function(e){var t=bt(Ur),n=(0,oe.useState)(!0),r=(0,xe.Z)(n,2),i=r[0],a=r[1],o=bt((function(e){var t,n,r,i;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.owner)||void 0===r||null===(i=r.additional_data)||void 0===i?void 0:i.previous_stripe_plan}));return(0,st.jsxs)(gt.Z,{visible:i,onCancel:function(){e.onCancel(),a(!1)},closeIcon:(0,st.jsx)($c,{className:"pe-fs-13"}),maskClosable:!1,destroyOnClose:!0,className:"no-border",footer:null,children:[(0,st.jsx)("div",{className:"pe-ta-center",children:(0,st.jsx)("img",{style:{color:"rgb(250, 140, 22)",position:"relative",maxWidth:"260px"},src:"".concat(window.pushengage.assetsUrl,"img/pe-insufficient-permission.svg"),alt:"Permission denied"})}),(0,st.jsxs)("div",{className:"pe-ta-center pe-mt-24 pe-mb-16",children:[(0,st.jsx)(dy,{level:3,children:"Oops!"}),(0,st.jsx)(py,{children:"You are in the Archive Plan. So, you have only read permission to all the features. But, you can access PushEngage features by activating your old plan or upgrading to new plan."}),(0,st.jsx)("a",{rel:"noreferrer",target:"_blank",href:"".concat(Gc.baseDashboardAppUrl,"/account/billing\n          ").concat(Qc({sid:t,drawer:!0,plan:o,utm_medium:"ArchivePermissionModal",utm_content:"Activate Your Plan"})),className:"pe-ant-btn pe-ant-btn-primary pe-mt-20",children:"Activate Your Plan"})]})]})},hy=mt.Z.Title,gy=mt.Z.Paragraph,my=function(e){var t=(0,oe.useState)(!0),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=bt(Ur);return(0,st.jsxs)(gt.Z,{visible:r,onCancel:function(){e.onCancel(),i(!1)},closeIcon:(0,st.jsx)($c,{className:"pe-fs-13"}),maskClosable:!1,destroyOnClose:!0,className:"no-border",footer:null,children:[(0,st.jsx)("div",{className:"pe-ta-center",children:(0,st.jsx)("img",{style:{color:"rgb(250, 140, 22)",position:"relative",maxWidth:"260px"},src:"".concat(window.pushengage.assetsUrl,"img/pe-insufficient-permission.svg"),alt:"Permission denied"})}),(0,st.jsxs)("div",{className:"pe-ta-center pe-mt-24 pe-mb-16",children:[(0,st.jsx)(hy,{level:3,children:"Oops!"}),(0,st.jsx)(gy,{children:"Your payment subscription is in pause state. So, you have only read permission to the all features. But, you can access PushEngage features by resuming you subscription."}),(0,st.jsx)(pt.default,{type:"primary",href:"".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:a,utm_medium:"PausePermissionModal",utm_content:"Resume Subscription"})),target:"_blank",children:"Resume Subscription"})]})]})},vy=mt.Z.Title,yy=mt.Z.Paragraph,by=function(e){var t=bt(Ur),n=(0,oe.useState)(!0),r=(0,xe.Z)(n,2),i=r[0],a=r[1];return(0,st.jsxs)(gt.Z,{visible:i,onCancel:function(){e.onCancel(),a(!1)},closeIcon:(0,st.jsx)($c,{className:"pe-fs-13"}),maskClosable:!1,destroyOnClose:!0,className:"no-border",footer:null,children:[(0,st.jsx)("div",{className:"pe-ta-center",children:(0,st.jsx)("img",{style:{color:"rgb(250, 140, 22)",position:"relative",maxWidth:"260px"},src:"".concat(window.pushengage.assetsUrl,"img/pe-insufficient-permission.svg"),alt:"Permission denied"})}),(0,st.jsxs)("div",{className:"pe-ta-center pe-mt-24 pe-mb-16",children:[(0,st.jsx)(vy,{level:3,children:"Oops!"}),(0,st.jsx)(yy,{children:"Your subscription has been deleted. You have only read permission to all the features. But, you can access PushEngage features by updating to new plan."}),(0,st.jsx)("a",{rel:"noreferrer",target:"_blank",href:"".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:t,drawer:!0,utm_medium:"SubscriptionDeletedPermissionModal",utm_content:"Update Plan"})),className:"pe-ant-btn pe-ant-btn-primary pe-mt-20",children:"Update Plan"})]})]})},xy=mt.Z.Title,wy=mt.Z.Paragraph,ky=function(e){var t=bt(Ur),n=(0,oe.useState)(!0),r=(0,xe.Z)(n,2),i=r[0],a=r[1];return(0,st.jsxs)(gt.Z,{visible:i,onCancel:function(){e.onCancel(),a(!1)},closeIcon:(0,st.jsx)($c,{className:"pe-fs-13"}),maskClosable:!1,destroyOnClose:!0,className:"no-border",footer:null,children:[(0,st.jsx)("div",{className:"pe-ta-center",children:(0,st.jsx)("img",{style:{color:"rgb(250, 140, 22)",position:"relative",maxWidth:"260px"},src:"".concat(window.pushengage.assetsUrl,"img/pe-insufficient-permission.svg"),alt:"Permission denied"})}),(0,st.jsxs)("div",{className:"pe-ta-center pe-mt-24 pe-mb-16",children:[(0,st.jsx)(xy,{level:3,children:"Oops!"}),(0,st.jsx)(wy,{children:"Your account has expired. So, you have only read permission to the features. But, you can access PushEngage features by updating to new plan."}),(0,st.jsx)("a",{href:"".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:t,utm_medium:"AccountExpiredPlanModal",utm_content:"Update Plan"})),className:"pe-ant-btn pe-ant-btn-primary pe-mt-20",target:"_blank",rel:"noreferrer",children:"Update Plan"})]})]})},_y=function(e){var t=e.title,n=e.text,r=e.visible,i=e.onOk,a=bt((function(e){var t,n,r;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.owner)||void 0===r?void 0:r.payment_subscription_status})),o=bt((function(e){var t,n,r,i,a;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.owner)||void 0===r||null===(i=r.paymentSubscription)||void 0===i||null===(a=i.plan)||void 0===a?void 0:a.plan_type})),s=bt((function(e){var t,n,r,i;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.owner)||void 0===r||null===(i=r.paymentSubscription)||void 0===i?void 0:i.expiry}));return o===ii.ARCHIVE&&r&&i?(0,st.jsx)(fy,{onCancel:i}):a===ai.PAUSE&&r&&i?(0,st.jsx)(my,{onCancel:i}):a===ai.DELETE&&r&&i?(0,st.jsx)(by,{onCancel:i}):s&&r&&i?(0,st.jsx)(ky,{onCancel:i}):(0,st.jsxs)(gt.Z,{visible:r,onOk:i,onCancel:i,closeIcon:(0,st.jsx)($c,{className:"pe-fs-13"}),maskClosable:!1,destroyOnClose:!0,className:"no-border",footer:null,children:[(0,st.jsx)("div",{style:{textAlign:"center"},children:(0,st.jsx)("img",{style:{color:"rgb(250, 140, 22)",position:"relative",maxWidth:"260px"},src:"".concat(window.pushengage.assetsUrl,"img/pe-finish-challenge.svg"),alt:"Permission denied"})}),(0,st.jsxs)("div",{className:"pe-ta-center pe-mt-24",children:[(0,st.jsx)(mt.Z.Title,{level:3,children:t||"Permission Denied!"}),(0,st.jsx)(mt.Z.Paragraph,{type:"secondary",className:"dark",children:n})]})]})};_y.defaultProps={title:"Permission denied!",onOk:function(){}};var Cy=_y,jy={icon:null,wrapClassName:"pe-confirmation-modal",centered:!0},Sy=Object.freeze((0,kn.Z)((0,kn.Z)({},jy),{},{title:Ua("Are you sure to resend this notification?","pushengage"),content:Ua("It will send out the same content to the selected audience. Please ensure that you really want them to be targeted with the same content.","pushengage")})),Zy=Object.freeze((0,kn.Z)((0,kn.Z)({},jy),{},{title:Ua("Are you sure you want to delete?","pushengage"),content:Ua("All data associated with this notification will be lost. Please ensure that you really want to delete the notification.","pushengage")})),Ny=Object.freeze((0,kn.Z)((0,kn.Z)({},jy),{},{title:Ua("Are you sure you want to delete?","pushengage"),content:Ua("All data associated with this drip autoresponder will be lost. Please ensure that you really want to delete the drip autoresponder.","pushengage")})),Ey=Object.freeze((0,kn.Z)((0,kn.Z)({},jy),{},{title:Ua("Are you sure you want to delete?","pushengage"),content:Ua("All data associated with this audience group will be lost. Please ensure that you really want to delete the audience group.","pushengage")})),Oy=Object.freeze((0,kn.Z)((0,kn.Z)({},jy),{},{title:Ua("Are you sure you want to delete?","pushengage"),content:Ua("All statistics associated with the deleted segments will be lost. Please ensure that you really want to delete the segment.","pushengage")})),Ay=Object.freeze((0,kn.Z)((0,kn.Z)({},jy),{},{title:Ua("Are you sure?","pushengage"),content:Ua("The current API key will be deactivated. Are you sure you want to generate a new API key?","pushengage"),okText:Ua("Yes, Regenerate","pushengage"),cancelText:Ua("No","pushengage")})),Ty=Object.freeze((0,kn.Z)((0,kn.Z)({},jy),{},{title:Ua("Are you sure?","pushengage"),content:Ua("Do you want to disconnect your site?","pushengage"),okText:Ua("Yes, Disconnect","pushengage"),cancelText:Ua("No","pushengage")})),Py=function(e){var t={},n=e.get("utm_medium"),r=e.get("utm_content");return n&&(t=(0,kn.Z)((0,kn.Z)({},t),{},{utm_medium:n})),r&&(t=(0,kn.Z)((0,kn.Z)({},t),{},{utm_content:r})),Wi()(t)||(t=(0,kn.Z)((0,kn.Z)({},t),{},{utm_source:"Wordpress",utm_campaign:"Plugin"})),t},My=function(e){var t=window.pushengage,n=t.siteName,r=t.siteUrl,i=t.authUser,a=Gc.baseDashboardAppUrl,o={name:n,url:r,first_name:null===i||void 0===i?void 0:i.first_name,last_name:null===i||void 0===i?void 0:i.last_name},s=e?Py(e):{};return"".concat(a,"/connect/wordpress").concat(Eo((0,kn.Z)((0,kn.Z)({},o),s)))},Iy=function(e){var t=window.pushengage,n=t.siteName,r=t.siteUrl,i=t.authUser,a=Gc.baseDashboardAppUrl,o=e?Py(e):{},s={platform:Yo?"woocommerce":"wordpress"},l=(0,kn.Z)((0,kn.Z)({name:n,url:r,first_name:null===i||void 0===i?void 0:i.first_name,last_name:null===i||void 0===i?void 0:i.last_name,eh:eo(null===i||void 0===i?void 0:i.email)},o),s);return"".concat(a,"/register/wordpress").concat(Eo(l))},Dy=mt.Z.Paragraph,Ly=mt.Z.Text,Ry={span:6,md:6,sm:24},By={span:18,md:18,sm:24},Fy=function(){var e=ed.Z.useForm(),t=(0,xe.Z)(e,1)[0],n=yt(),r=bt(Ur),i=bt((function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.siteKey})),a=bt((function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.ownerId})),o=bt((function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),s=bt(Vr),l=(0,oe.useState)(!1),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)(!1),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)(!1),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)(!1),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)(!1),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)([]),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=(0,oe.useState)(""),P=(0,xe.Z)(T,2),M=P[0],I=P[1],D=(0,oe.useState)({siteName:"",siteUrl:""}),L=(0,xe.Z)(D,2),R=L[0],B=L[1],F=(0,oe.useState)(""),z=(0,xe.Z)(F,2),V=z[0],U=z[1],H=function(e){return 1===(null===e||void 0===e?void 0:e.owner.permissions.settings.whiteLabel)}(o);(0,oe.useEffect)((function(){s&&(0,at.Z)((0,it.Z)().mark((function e(){var n,i,a,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,Sd(r);case 4:n=e.sent,t.setFieldsValue({siteName:Ii()(n,"data.site_name"),siteUrl:Ii()(n,"data.site_url"),siteImage:Ii()(n,"data.site_image"),isWhiteLabel:Ii()(n,"data.is_whitelabel"),timezone:Ii()(n,"data.settings.timezone.value"),geoLocationEnabled:Ii()(n,"data.settings.privacy_settings.geoLocationEnabled")}),I(Ii()(n,"data.site_image")),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.prev=11,e.next=14,Bv(r);case 14:i=e.sent,Ii()(i,"data.[0].api_key")&&(t.setFieldsValue({apiKey:Ja(Ii()(i,"data.[0].api_key"))}),U(Ii()(i,"data.[0].api_key"))),e.next=20;break;case 18:e.prev=18,e.t1=e.catch(11);case 20:return e.prev=20,e.next=23,zv();case 23:null!==(o=e.sent)&&void 0!==o&&null!==(a=o.data)&&void 0!==a&&a.length&&A(o.data),e.next=29;break;case 27:e.prev=27,e.t2=e.catch(20);case 29:d(!1);case 30:case"end":return e.stop()}}),e,null,[[1,9],[11,18],[20,27]])})))()}),[t,n,r,s]);var W=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,il({action:rl.DELETE_ONBOARDING_DATA});case 4:return e.next=6,il({action:rl.DELETE_WOO_INTEGRATION_SETTINGS});case 6:return localStorage.removeItem("".concat(ni.skip_challenge,"_").concat(r)),e.next=9,n(Lr({apiKey:null,siteId:null,ownerId:null,siteKey:null}));case 9:return e.prev=9,e.next=12,Wv({site_id:r,status:"disconnected",disconnected_at:(new Date).toISOString()});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(9);case 16:window.location.reload(),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(0),b(!1);case 22:case"end":return e.stop()}}),e,null,[[0,19],[9,14]])})));return function(){return e.apply(this,arguments)}}(),q=function(e){var t={},n=e.siteName,r=e.siteUrl,i=e.siteImage,a=e.timezone,o=e.isWhiteLabel,s=e.geoLocationEnabled;return n&&(t.site_name=n),r&&(t.site_url=r),i&&(t.site_image=i),H&&(t.is_whitelabel=o?1:0),a&&(t=Li()(t,{settings:{timezone:{value:a}}})),t=Li()(t,{settings:{privacy_settings:{geoLocationEnabled:s}}})},K=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gd(o)){e.next=3;break}return g(!0),e.abrupt("return");case 3:if((n=ey(t)).isValid){e.next=7;break}return B(n.errors),e.abrupt("return");case 7:return i=q(t),e.prev=8,_(!0),e.next=12,Zd({siteId:r,data:i});case 12:ie.default.success({message:Ua("Site details updated successfully","pushengage")}),_(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),_(!1);case 19:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var o,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),e.next=4,Fv(r);case 4:if(o=e.sent,!(s=Ii()(o,"data.api_key"))){e.next=13;break}return t.setFieldsValue({apiKey:s}),e.next=10,il({apiKey:s,action:rl.UPDATE_API_KEY});case 10:return e.next=12,n(Lr({siteId:r,apiKey:s,ownerId:a,siteKey:i}));case 12:ie.default.success({message:Ua("Api key generated successfully","pushengage")});case 13:Z(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),Z(!1);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=So();e.open(),e.on("select",(function(){var n=e.state().get("selection").first().toJSON();n.url&&(I(n.url),t.setFieldsValue({siteImage:n.url}))}))};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.settings.siteDetails,type:"settings"}),(0,st.jsxs)(iy,{pageClassName:"pe-site-settings-page",containerIdName:"pe-site-settings-page",children:[h&&(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify settings. Please contact to your admin.","pushengage"),onOk:function(){return g(!1)},visible:h}),!s&&(0,st.jsx)(rg,{}),(0,st.jsxs)(ed.Z,{form:t,colon:!1,labelAlign:"left",size:"large",labelCol:Ry,wrapperCol:By,onFinish:K,initialValues:{apiKey:"",siteName:"",siteUrl:"",siteImage:"",timezone:"UTC",isWhiteLabel:0,geoLocationEnabled:!0},children:[(0,st.jsxs)(ag,{loading:u,cardHeader:Ua("Site Details","pushengage"),cardIdName:"pe-site-details-card",children:[(0,st.jsx)(Dy,{type:"secondary",children:Ua("We make it effortless for you to implement web push notifications and send push notifications, right inside the WordPress dashboard.","pushengage")}),(0,st.jsx)(Cu.Z,{}),(0,st.jsxs)("div",{style:{maxWidth:752},className:"pe-mb-14",children:[(0,st.jsx)(ed.Z.Item,{label:Ua("License","pushengage"),children:s?(0,st.jsxs)(Ju.default,{size:16,wrap:!0,children:[(0,st.jsx)(Au.default,{showIcon:!0,className:"pe-w-254 pe-fw-700 pe-px-20",message:"Your account is connected!",type:"success",icon:(0,st.jsx)(Pp,{className:"pe-color-accent pe-fs-20"})}),(0,st.jsx)(pt.default,{loading:y,disabled:y,className:"pe-account-disconnect-btn",onClick:function(){gt.Z.confirm((0,kn.Z)((0,kn.Z)({},Ty),{},{maskClosable:!0,onOk:W,okButtonProps:{type:"primary",size:"large"},cancelButtonProps:{size:"large"}}))},icon:(0,st.jsx)($c,{className:"pe-fs-10"}),children:Ua("Disconnect","pushengage")})]}):(0,st.jsxs)("div",{className:"pe-register-btn-container",children:[(0,st.jsx)(pt.default,{type:"primary",onClick:function(){gc(Iy())},children:Ua("Claim Your Free Account","pushengage")}),(0,st.jsx)(Ly,{type:"secondary",className:"pe-mx-24 pe-my-12 pe-fw-700 pe-ta-center",children:Ua("or","pushengage")}),(0,st.jsx)(pt.default,{className:"pe-connect-btn",onClick:function(){gc(My())},children:Ua("Connect Your Existing Account","pushengage")})]})}),(0,st.jsx)(ed.Z.Item,{name:"siteName",label:Ua("Site Name","pushengage"),validateStatus:R.siteName?"error":"",help:R.siteName?R.siteName:null,children:(0,st.jsx)(Yc.default,{onChange:function(){B((0,kn.Z)((0,kn.Z)({},R),{},{siteName:""}))}})}),(0,st.jsx)(ed.Z.Item,{name:"siteUrl",label:Ua("Site URL","pushengage"),validateStatus:R.siteUrl?"error":"",help:R.siteUrl?R.siteUrl:null,children:(0,st.jsx)(Yc.default,{onChange:function(){B((0,kn.Z)((0,kn.Z)({},R),{},{siteUrl:""}))}})}),(0,st.jsxs)(ed.Z.Item,{label:Ua("Upload Your Site icon","pushengage"),children:[M?(0,st.jsxs)("div",{children:[(0,st.jsx)("div",{className:"pe-w-140",style:{minHeight:140},children:(0,st.jsx)("img",{alt:"site icon",src:M,width:"100%"})}),(0,st.jsxs)("div",{className:"pe-d-flex pe-mt-24",children:[(0,st.jsx)(ed.Z.Item,{noStyle:!0,name:"siteImage",children:(0,st.jsx)(Yc.default,{className:"pe-mr-10"})}),(0,st.jsx)(pt.default,{type:"primary",className:"pe-mr-8",disabled:!s,onClick:G,children:Ua("Change Image","pushengage")})]})]}):(0,st.jsxs)("div",{children:[(0,st.jsx)("div",{className:"pe-wh-140 pe-pa-44 pe-bg-neutral-3 pe-br-4",children:(0,st.jsx)("img",{alt:"upload file icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUxSURBVHgB7VpNTiNHFH5VZRhmNpk5QcwJQnZZmmikbCIBJ8AsEmJlgWeRgEEjbE2MgYkELCICGQlzgiFKFpHyA3MCuEF8g5AVMzZdL++1qaa6cTdlAm1amk8yqmpXN/3Vq/fVV1UWYKHxYrsgVW4CQE9SNQ/3GShOhIQT751Xq1RLLXNZmMJa46dlQF2FDEIKWf2m8kWNy4r/ZJkMAwELnz2dgN///OWNWK//MIYid2x9eYQe1t55IyfV6swp3FNcvPcyFSfNNe3pcbHe2N1DxKJ/RcLB/MLsFGQIqyu7h4IixGUUoikB8ZJhR29BxoCeVzNlgVjIIcBjc4GHmctDqtW9xw+Hz4oU8o8kQl4LaKH23kAHjmzFSQMj9M5t1TbVvFhb2UFTm1+cFUk3d4m0edyWY5q0SHGaRnHSgs1But7UaGznHz5os3iUE5rlNanlen13DwYEZ0IK1R5JYN7UWQ3p5WfAAxIR7xnNaK3gO4FF6rUyDAA5l0aN+nYRL5TEB+rawlKpGmm2ubay3aQ+mr6oL9MQbaYt/U4RkkJNmDJL4/xVMj6G2yNlK1Kcb0VIGU6EhBUdT3dipf0ZRwO94HsaegVIGU6EbGl/gA/+SWzsqVbwcIQPIGU4Rgjc80B5eVOk+elfSBlOhDSIYMLFnJesXkLNBUUUR5Ay3IYcevumrDWU11ZeTfdq13Xtl9Ku2/oAUoaTbFeWSk0ygdOX4uA1ydQWzs/xZwH6lLolr4SaRtSF4CaS9pvaoDo5aQlyjIZGq/K8dNTPvU6EGCi8GQHy0ESAHbpSUDRBRkCrtd6Pk/YksBvhCTyY85Rva1oU6XHXznF2CpVKqaVBj9NnP6kduYfa/GKpCH2CyVBUDkMTeBd5OSwPG9XtvMtznAkxmFSFXlYLPaoRt/zFIH0oPgdsf87aw08qN4yMtKLfBdr5l5dD6jWb4+ue5TzkbDAxSDapzoiS8acIPB//dunrE7Zc5N67Rlfg2KOhzgaVZpKe11eEbhtJZLjOYsRD2LRn0/uSlTQBAyPEewIK5XEcGYPuEL7MW16erLzYmYx77kAIMRkQuUNjqeLIGPimFyD4jtR1L04kUifULxkGm14SoinbyccpX6qEomQIrevIGLAQCX0+ZflKX/mi7W6wp9DdHCGfdqrb51uuE14vMv1MmAYh5SNICZtsx4K684OCPQW1Ifx9PF2msP/9cnVn47p7b4sMI6p8NhmGEyHexLcVyYZvVuu7x3FJeptkDKLKZ+NaQuuru3NSyVAScw+FLBBNer2S1Hflt0zGILLcD5BIiPJrAzVuWpf8JOYe8i2QFXroeq5js9vTXWJ4zbsgw/CVj7xllFRPUeDkfzTceR02iuJEt72p6Aut0SQnaF6wl+nUT5ucY1azWyVjo3umRW7D/OcrDS6SP0xG75+1h3q+0Pzz2QNP6I/DPZUOGUZ0vRQi1DP5L5YDSftrZmmBcGXJfadkeiFEqEfyz7gu1JjUwuKX41ZepU6GEScKJvmb0CdYMHhdRPk4mjYZRg9CnPzayY7EYZAnfxFC8cmfFYQIndFkdZ/PVV0QIpR1MoyBLsHvAu8J3XeECH3/3asPIWPYiOzVSfuopIOdUcgY3qq3Y1b1VNr+Sym1DBmDyqngJISOSw9E1H4LOkPt0LHj0v9wCmnAN9JDcg515Lc+XFit/7hJROYgw6DTkK2Fpa/K/s/L/vjr19+efvr5EyL1CWQQhgyXQ9tWHEY6kykqkBPhFej9A4uZ/+MPD7f6PRTLFP4DfsH7bhOPGkMAAAAASUVORK5CYII="})}),(0,st.jsx)(pt.default,{type:"primary",className:"pe-mt-22",disabled:!s,onClick:G,children:Ua("Upload Image","pushengage")})]}),(0,st.jsx)(Dy,{type:"secondary",className:"pe-mt-12 pe-mb-0 pe-fs-13 pe-fw-500",children:Ua("Recommended size: 192px x 192px (JPG, PNG up to 1 MB)","pushengage")})]}),(0,st.jsxs)(ed.Z.Item,{label:Ua("API Key","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{name:"apiKey",noStyle:!0,children:(0,st.jsx)(Yc.default,{disabled:!0,autoComplete:"off",addonAfter:(0,st.jsxs)(pt.default,{type:"text",size:"small",onClick:function(){Ya(V,Ua("Copied to clipboard","pushengage"))},children:[(0,st.jsx)(Sh,{})," ",Ua("Copy","pushengage")]})})}),(0,st.jsx)(pt.default,{type:"link",className:"pe-mt-4 pe-fw-600 pe-px-0",icon:(0,st.jsx)(uy,{spin:S,className:"pe-fs-16"}),disabled:S||!s,onClick:function(){gt.Z.confirm((0,kn.Z)((0,kn.Z)({},Ay),{},{maskClosable:!0,onOk:Y,okButtonProps:{type:"primary",size:"large"},cancelButtonProps:{size:"large"}}))},children:Ua("Regenerate API Key","pushengage")})]}),(0,st.jsx)(ed.Z.Item,{name:"timezone",label:Ua("Website Time Zone","pushengage"),children:(0,st.jsx)(Rv.default,{dropdownClassName:"pe-ant-single-select-box",children:null===O||void 0===O?void 0:O.map((function(e){return(0,st.jsx)(Rv.default.Option,{value:e.name,children:"".concat(e.name," (").concat(e.offset,")")},e.name)}))})}),(0,st.jsxs)(ed.Z.Item,{label:Ua("Geolocation","pushengage"),wrapperCol:{span:24},children:[(0,st.jsx)(ed.Z.Item,{name:"geoLocationEnabled",noStyle:!0,valuePropName:"checked",children:(0,st.jsx)(Lv.Z,{})}),(0,st.jsx)(Dy,{type:"secondary",className:"pe-mt-12 pe-mb-0 pe-fs-13 pe-fw-500",children:Ua("This helps you personalize your website notifications based on user\u2019s location & timezones.","pushengage")})]}),(0,st.jsxs)(ed.Z.Item,{label:Ua("PushEngage branding","pushengage"),wrapperCol:{span:24},children:[(0,st.jsxs)("div",{className:"pe-d-flex",children:[(0,st.jsx)(ed.Z.Item,{name:"isWhiteLabel",noStyle:!0,valuePropName:"checked",children:(0,st.jsx)(Lv.Z,{onClick:function(){s&&!H&&t.setFieldsValue({isWhiteLabel:!1})}})}),(0,st.jsx)(Dy,{type:"secondary",className:"pe-ml-10 pe-fw-500 pe-mb-0",children:Ua('Remove "Powered By PushEngage"',"pushengage")})]}),(0,st.jsx)(Dy,{type:"secondary",className:"pe-mt-12 pe-fs-13 pe-fw-500",children:s&&H?Ua('Toggle the switch to enable/disable the "Powered by PushEngage" label. The changes may take up to 2 minutes to reflect on your site.',"pushengage"):(0,st.jsx)(Lu,{mapping:{a:(0,st.jsx)("a",{href:"".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({utm_medium:"SettingsSiteDetails",utm_content:"Upgrade to PushEngage Pro",sid:r,drawer:!0,planType:ii.BUSINESS,feature:"Powered By PushEngage"})),target:"_blank",rel:"noreferrer",className:"pe-px-4 pe-py-0 pe-color-accent pe-fs-13"})},children:Ua('The "Powered by PushEngage" label cannot be removed on the free plan. <a>Upgrade to PushEngage Pro</a> to remove it.',"pushengage")})})]})]})]}),(0,st.jsx)(pt.default,{className:"pe-mt-35",loading:k,disabled:!s||k,htmlType:"submit",type:"primary",children:Ua("Save Changes","pushengage")})]})]})]})},zy=(n(21728),n(36411)),Vy=(n(98541),n(74206)),Uy=function(e,t){var n=Eo(t);return Lc.get("sites/".concat(e,"/automation/rss-feeds").concat(n))},Hy=mt.Z.Title,Wy=mt.Z.Paragraph,qy=mt.Z.Link,Ky=mt.Z.Text,Yy=function(e){var t=bt(Hr),n="".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:t,drawer:!0,planType:e.planType||ii.GROWTH,utm_medium:"PlanPermissionModal",utm_content:"Upgrade Your Plan",feature:e.name||e.title,ref:"upgrade_modal"})),r="".concat(e.featureLink||"https://pushengage.com/wordpress-pricing/").concat(Qc({utm_medium:"PlanPermissionModal",utm_content:"Learn more about these features",feature:e.name||e.title})),i=function(){var t,i=e.description,a=e.mappingUrl;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Hy,{level:2,className:"pe-ta-center pe-mb-24 pe-fs-24 pe-fw-700 pe-lh-140",children:e.title}),(0,st.jsxs)(Wy,{type:"secondary",className:"dark large pe-ta-center pe-mb-50 pe-fw-500 pe-mx-auto",children:[i&&a&&(0,st.jsx)(Lu,{mapping:{a:(0,st.jsx)("a",{href:a,target:"_blank",rel:"noreferrer"})},children:i}),i&&!a&&i]}),(t=e.benefits,t.length?(0,st.jsx)(dt.Z,{className:"pe-mb-50",gutter:[16,16],children:t.map((function(e){return(0,st.jsx)(ht.Z,{span:24,md:12,children:(0,st.jsxs)(dt.Z,{wrap:!1,children:[(0,st.jsx)(Pp,{className:"pe-fs-18 pe-color-green pe-mr-16 pe-pt-4"}),(0,st.jsx)(Wy,{className:"pe-fs-16 pe-fw-500 pe-color-neutral-80 pe-mb-0",children:e})]})},e)}))}):null),(0,st.jsx)(pt.default,{type:"primary",size:"large",style:{height:45},className:"pe-ant-btn-green pe-fw-700 pe-fs-16  pe-d-block pe-mx-auto pe-px-56",onClick:function(){window.open(n,"_blank")},children:(null===e||void 0===e?void 0:e.btnLabel)||"Upgrade to ".concat(Ka(e.planType)," Plan")}),e.moneyBackGuaranteeText&&(0,st.jsx)("div",{className:"pe-ta-center",children:(0,st.jsx)(Ky,{type:"secondary",className:"pe-fw-500 pe-fs-11",children:e.moneyBackGuaranteeText})}),(0,st.jsx)("div",{className:"pe-ta-center pe-mt-24",children:(0,st.jsx)(qy,{type:"secondary",className:"pe-fw-500",underline:!0,href:r,target:"_blank",children:Ua("Learn more about these features \u2192","pushengage")})})]})};return e.closeable?(0,st.jsx)(gt.Z,{className:"pe-pro-modal",closable:!!e.closeable,closeIcon:(0,st.jsx)($c,{}),maskClosable:!1,onCancel:e.onClose,destroyOnClose:!0,visible:!0,footer:null,width:888,zIndex:100007,children:(0,st.jsx)("div",{className:"pe-pro-modal-content",children:i()})}):(0,st.jsx)("div",{className:"pe-pro-overlay-background",id:"pro-modal-container",children:(0,st.jsxs)("div",{className:"pe-pro-overlay-container",children:[e.closeable&&(0,st.jsx)("div",{className:"pe-pro-overlay-close-btn",onClick:e.onClose,onKeyDown:function(){},children:(0,st.jsx)($c,{})}),(0,st.jsx)("div",{className:"pe-pro-overlay-content",children:i()})]})})},Gy=mt.Z.Paragraph,Qy={span:6,md:6,sm:24},Xy={span:18,md:18,sm:24},$y=function(){var e=bt(Vr),t=bt(Ur),n=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),r=ed.Z.useForm(),i=(0,xe.Z)(r,1)[0],a=(0,oe.useState)(!1),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(!1),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)(!1),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)(!1),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useState)(!1),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=(0,oe.useState)([]),S=(0,xe.Z)(j,2),Z=S[0],N=S[1],E=(0,oe.useState)(!1),O=(0,xe.Z)(E,2),A=O[0],T=O[1];(0,oe.useEffect)((function(){e&&(0,at.Z)((0,it.Z)().mark((function e(){var t,r,a,o,s,c,u,d,p,f,h,g;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,nl.post("",{action:rl.GET_AUTO_PUSH_SETTINGS});case 4:t=e.sent,(r=t.data)&&(d=(null===r||void 0===r||null===(a=r.autoPush)||void 0===a?void 0:a.multi_action_button)||!1,p=(null===r||void 0===r||null===(o=r.autoPush)||void 0===o?void 0:o.featured_large_image)||!1,Ed(n)&&(p=!1,d=!1),f=(null===r||void 0===r?void 0:r.publicPostTypes)||[],N(f),(h=(null===r||void 0===r||null===(s=r.autoPush)||void 0===s?void 0:s.allowed_post_types)||[]).length&&(g=f.map((function(e){return e.value})),h=h.filter((function(e){return g.includes(e)}))),i.setFieldsValue({autoPush:(null===r||void 0===r||null===(c=r.autoPush)||void 0===c?void 0:c.auto_push)||!1,featuredLargeImage:p,multiActionButton:d,notificationIconType:(null===r||void 0===r||null===(u=r.autoPush)||void 0===u?void 0:u.notification_icon_type)||"site_image",allowedPostTypes:h||[]})),l(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),l(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()}),[i,t,e]),(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function r(){var i,a,o;return(0,it.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e||!Jd(n)){r.next=12;break}return r.prev=1,r.next=4,Uy(t,{limit:1,page:1,status:"active"});case 4:i=r.sent,(a=i.data)&&(o=(null===a||void 0===a?void 0:a.data)||[],T(!Wi()(o))),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),r.t0;case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()}),[n,t,e]);var P=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gd(n)){e.next=3;break}return m(!0),e.abrupt("return");case 3:return e.prev=3,p(!0),e.next=7,sl(t);case 7:ie.default.success({message:Ua("Auto push settings updated successfully","pushengage")}),p(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),ie.default.error({message:Ua("Failed to update auto push settings.","pushengage")}),p(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.settings.autoPush,type:"settings"}),(0,st.jsxs)(iy,{pageClassName:"pe-auto-push-page",containerIdName:"pe-auto-push-page",children:[b&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.multiActionNotification),{},{closeable:!0,onClose:function(){return x(!1)}})),_&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.largeImageNotification),{},{closeable:!0,onClose:function(){return C(!1)}})),g&&(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify auto push settings. Please contact to your admin.","pushengage"),onOk:function(){return m(!1)},visible:g}),!e&&(0,st.jsx)(rg,{}),(0,st.jsxs)(ed.Z,{form:i,colon:!1,labelAlign:"left",labelCol:Qy,wrapperCol:Xy,onFinish:P,initialValues:{autoPush:!0,featuredLargeImage:!1,multiActionButton:!1,notificationIconType:"site_image",allowedPostTypes:[]},children:[(0,st.jsxs)(ag,{loading:s,cardHeader:Ua("Auto Push Settings","pushengage"),cardClassName:"pe-mb-20",children:[(0,st.jsxs)(dt.Z,{justify:"space-between",children:[(0,st.jsx)(Gy,{type:"secondary",style:{maxWidth:900},children:Ua("Auto Push is a convenient feature designed to streamline your workflow by automatically sending push notifications whenever you publish or edit a post. With Auto Push, you can ensure that your audience is promptly notified of any updates or new content you create.","pushengage")}),(0,st.jsx)(mt.Z.Link,{className:"pe-fs-14",style:{textDecoration:"underline",fontWeight:700},target:"_blank",href:"https://www.youtube.com/watch?v=xnPC4f3e0Xo",children:Ua("Watch How to Get Started","pushengage")})]}),(0,st.jsx)(Cu.Z,{}),(0,st.jsxs)("div",{style:{maxWidth:864},children:[A&&(0,st.jsx)(Au.default,{description:Ua("You have active RSS auto push campaign for this site. Please ensure that you really want to send your posts in Push Notification.","pushengage"),type:"warning",className:"pe-mb-20",showIcon:!0,closable:!0}),(0,st.jsxs)(ed.Z.Item,{label:Ua("Auto Push","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{name:"autoPush",noStyle:!0,valuePropName:"checked",children:(0,st.jsx)(Lv.Z,{})}),(0,st.jsx)(Gy,{type:"secondary",className:"pe-mt-12 pe-fw-500 pe-mb-0",children:Ua("Automatically send a push notification to your subscribers every time you publish a new post.","pushengage")}),(0,st.jsx)(ed.Z.Item,{name:"featuredLargeImage",noStyle:!0,valuePropName:"checked",children:(0,st.jsx)(Vy.default,{className:"pe-mt-16",onChange:function(){e&&Ed(n)&&(i.setFieldsValue({featuredLargeImage:!1}),C(!0))},children:Ua("Use featured image from post as notification large image","pushengage")})}),(0,st.jsx)("br",{}),(0,st.jsx)(ed.Z.Item,{name:"multiActionButton",noStyle:!0,valuePropName:"checked",children:(0,st.jsx)(Vy.default,{className:"pe-mt-14",onChange:function(){e&&Ed(n)&&(i.setFieldsValue({multiActionButton:!1}),x(!0))},children:Ua("Enable Multi-action buttons","pushengage")})})]}),(0,st.jsxs)(ed.Z.Item,{label:Ua("Post Types","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{name:"allowedPostTypes",noStyle:!0,children:(0,st.jsx)(Rv.default,{mode:"multiple",options:Z,optionFilterProp:"label",style:{width:"100%"},placeholder:Ua("Select Post Types","pushengage"),showSearch:!0,allowClear:!0,showArrow:!0})}),(0,st.jsx)(Gy,{type:"secondary",className:"pe-mt-12 pe-fw-500 pe-mb-0",children:Ua("Choose post types for automatic push notifications. Whenever a post is published with one of the selected post types, a push notification will be sent to the specified users.","pushengage")})]}),(0,st.jsx)(ed.Z.Item,{name:"notificationIconType",label:Ua("Notification Icon Image ","pushengage"),children:(0,st.jsxs)(zy.default.Group,{children:[(0,st.jsx)(zy.default,{value:"featured_image",children:Ua("Use featured image from post","pushengage")}),(0,st.jsx)("br",{}),(0,st.jsx)(zy.default,{value:"site_image",className:"pe-mt-12",children:Ua("Use site icon","pushengage")})]})})]})]}),(0,st.jsx)(pt.default,{size:"large",className:"pe-mt-35",loading:d,type:"primary",htmlType:"submit",disabled:!e,children:Ua("Save Changes","pushengage")})]})]})]})},Jy=function(e){var t=document.createElement("a");return t.href=e,t.hostname};function eb(e){var t=null;try{t=new URL(e)}catch(n){}return t}var tb=function(e,t){var n=Bi()(t);return delete n.enabled,eb(e)?function(e,t){if(!e||Wi()(t))return e;var n=eb(e),r=new URLSearchParams;if(!n)return e;if(Ui()(t,(function(e,t){n.searchParams.has(t)||r.append(t,e)})),Wi()(n.search))n.search="".concat(r.toString());else{var i=r.toString().length?"&".concat(r.toString()):"";n.search="".concat(n.search).concat(i)}return n.href}(e,n):e},nb=Gi()((function(e,t){var n={Today:[ei()().utcOffset(e),ei()().utcOffset(e)],Yesterday:[ei()().utcOffset(e).subtract(1,"days"),ei()().utcOffset(e).subtract(1,"days")],"Last 7 Days":[ei()().utcOffset(e).subtract(6,"days"),ei()().utcOffset(e)],"Last Week":[ei()().utcOffset(e).subtract(1,"week").startOf("week").add(1,"day"),ei()().utcOffset(e).startOf("week")],"This Month":[ei()().utcOffset(e).startOf("month"),ei()().utcOffset(e)],"Last 30 Days":[ei()().utcOffset(e).subtract(1,"month"),ei()().utcOffset(e)],"Last Month":[ei()().utcOffset(e).subtract(1,"month").startOf("month"),ei()().utcOffset(e).subtract(1,"month").endOf("month")],"Last 3 Months":[ei()().utcOffset(e).subtract(3,"months"),ei()().utcOffset(e)]};return t&&(n["Last 6 Months"]=[ei()().utcOffset(e).subtract(6,"months"),ei()().utcOffset(e)],n["Last 12 months"]=[ei()().utcOffset(e).subtract(12,"months"),ei()().utcOffset(e)]),n})),rb=/{{(.*?)}}/g,ib=function(e){var t=[],n=e.match(rb);return n&&n.length>0&&n.forEach((function(e){var n=e.substr(2,e.length-4).split("||").map((function(e){return e.trim()}));n[0]&&t.push({name:n[0],defaultValue:void 0!==n[1]?n[1]:n[0]})})),t};function ab(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i="  ",a=i.repeat(r),o=Object.entries(e).map((function(e){var i=(0,xe.Z)(e,2),o=i[0],s=i[1],l=n?"".concat(n,".").concat(o):o,c=t[l]?"".concat(a,"// ").concat(t[l],"\n"):"";return"object"===typeof s&&null!==s?"".concat(c).concat(a).concat(JSON.stringify(o),": ").concat(ab(s,t,l,r+1)):"".concat(c).concat(a).concat(JSON.stringify(o),": ").concat(JSON.stringify(s))}));return"{\n".concat(o.join(",\n"),"\n").concat(i.repeat(r-1),"}")}var ob=function(e){var t;return(null===e||void 0===e||null===(t=e.execution_state)||void 0===t?void 0:t.result_name)||""},sb=function(e){var t=0;return Object.keys((null===e||void 0===e?void 0:e.result)||{}).forEach((function(n){var r,i,a=(null===e||void 0===e||null===(r=e.result)||void 0===r||null===(i=r[n])||void 0===i?void 0:i.count)||0;t+=a})),t},lb=function(e){var t=0;return Object.keys((null===e||void 0===e?void 0:e.result)||{}).forEach((function(n){var r,i,a=(null===e||void 0===e||null===(r=e.result)||void 0===r||null===(i=r[n])||void 0===i?void 0:i.value)||0;t+=a})),t},cb=function(e){return{name:ob(e),count:sb(e),value:lb(e)}},ub=function(e){return((null===e||void 0===e?void 0:e.clickcount)||0)+((null===e||void 0===e?void 0:e.clickcount1)||0)+((null===e||void 0===e?void 0:e.clickcount2)||0)},db=function(e){var t,n;return null===e||void 0===e||null===(t=e.C)||void 0===t||null===(n=t.execution_state)||void 0===n?void 0:n.resume_notification},pb=function(e,t){var n,r={name:"",count:0,value:0};r={name:ob(e[t]),count:sb(e[t]),value:lb(e[t])};var i=db(e),a=(null===(n=e.C)||void 0===n?void 0:n.status)===di.SENT,o=i===e[t].notification_id;return i&&o&&a&&(r.count+=sb(e.C),r.value+=lb(e.C)),r},fb=function(e,t){var n,r={clickcount:0,sentcount:0,viewcount:0,ctr:0};r={clickcount:ub(e[t]),sentcount:e[t].sentcount,viewcount:e[t].viewcount,ctr:e[t].ctr};var i,a,o=db(e),s=(null===(n=e.C)||void 0===n?void 0:n.status)===di.SENT,l=o===e[t].notification_id;o&&l&&s&&(r.clickcount+=ub(e.C),r.sentcount+=(null===(i=e.C)||void 0===i?void 0:i.sentcount)||0,r.viewcount+=(null===(a=e.C)||void 0===a?void 0:a.viewcount)||0,r.ctr=Co(100*r.clickcount/(r.viewcount||1)));return r},hb=mt.Z.Paragraph,gb=mt.Z.Text;function mb(){return new Promise((function(e){Notification.requestPermission((function(t){e(t)}))}))}function vb(e){return new Promise((function(t,n){navigator.serviceWorker.getRegistrations().then((function(r){0===r.length?navigator.serviceWorker.register(e,{scope:"/"}).then((function(){navigator.serviceWorker.ready.then((function(e){t(e)}))})).catch((function(){n(new Error(Ua("An active service worker registration not found","pushengage")))})):navigator.serviceWorker.ready.then((function(n){var r,i;-1===(null===n||void 0===n||null===(r=n.active)||void 0===r||null===(i=r.scriptURL)||void 0===i?void 0:i.indexOf(e))&&gt.Z.error({width:500,title:Ua("An error occurred while displaying push notification.","pushengage"),content:(0,st.jsxs)("div",{children:[(0,st.jsx)(hb,{type:"secondary",className:"dark",children:Ua("There may be an issue with the click event for test notifications. It appears that there is a different service worker registered on this WordPress dashboard, which could be causing the issue. Please check the service worker configuration to ensure that test notifications are functioning properly.","pushengage")}),(0,st.jsx)(gb,{children:Ua("Please try again.","pushengage")})]})}),t(n)}))}))}))}function yb(e,t){var n=new Notification(e,t);n.onclick=function(){null!==t&&void 0!==t&&t.data&&window.open(t.data,"_blank"),this.close()},n.onclose=function(){this.close()}}function bb(){return(bb=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("serviceWorker"in navigator&&"Notification"in window&&window.Notification.requestPermission){e.next=4;break}return n=-1!==window.location.href.indexOf("https://"),gt.Z.error({width:500,title:Ua(n?"Incompatible Browser for Web Push Notifications":"Push Notification Preview Unavailable","pushengage"),closable:!0,content:(0,st.jsxs)("div",{children:[(0,st.jsx)(hb,{type:"secondary",className:"dark",children:Ua(n?"Your current browser version does not support web push notification. Please update your browser to the latest version or use a different browser that is compatible.":"We're sorry, but we are unable to provide the push notification preview at this time. This feature requires a secure HTTPS URL to function correctly, and it appears that the website URL you are attempting to use is not secured with HTTPS.","pushengage")}),n&&(0,st.jsx)("a",{href:"https://www.pushengage.com/documentation/please-let-me-know-what-all-browsers-platform-desktop-mobile-and-oswindows-ios-androidare-supported-by-pushengage".concat(Qc({utm_medium:"Test Notification",utm_content:"Which browsers are supported?"})),target:"_blank",rel:"noreferrer",children:"Which browsers are supported?"})]})}),e.abrupt("return");case 4:return e.prev=4,e.next=7,mb();case 7:if("granted"===(i=e.sent)){e.next=11;break}return gt.Z.error({width:500,title:Ua("denied"===i?"You have denied push notification permission":"You did not allow push notification permission","pushengage"),content:(0,st.jsxs)("div",{children:[(0,st.jsx)(hb,{type:"secondary",className:"dark",children:Ua("You need to grant access to send notifications from this website. Please grant Allow access to send notification to your browser.","pushengage")}),(0,st.jsx)("a",{href:"https://blog.pushengage.com/how-enable-single-step-opt-in-or-native-opt-in".concat(Qc({utm_medium:"Test Notification",utm_content:"How to allow a website to send notifications?"})),target:"_blank",rel:"noreferrer",children:Ua("How to allow a website to send notifications?","pushengage")})]})}),e.abrupt("return");case 11:if(a={body:t.message,icon:t.icon,image:t.image,data:t.url,requireInteraction:!1,tag:"welcome_notification"},null===(r=t.actions)||void 0===r||!r.length){e.next=30;break}return a.actions=t.actions.map((function(e,t){return{title:e.title||"Button ".concat(t+1," Text"),icon:e.icon,action:JSON.stringify({action:"action".concat(t+1),action_url:e.url})}})),e.prev=14,e.next=17,vb(t.serviceWorkerPath);case 17:o=e.sent,e.next=22;break;case 20:e.prev=20,e.t0=e.catch(14);case 22:if(!o||!o.showNotification){e.next=27;break}return e.next=25,o.showNotification(t.title,a);case 25:e.next=29;break;case 27:delete a.actions,yb(t.title,a);case 29:return e.abrupt("return");case 30:yb(t.title,a),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(4),gt.Z.error({width:500,title:Ua("An error occurred while displaying push notification.","pushengage"),content:(0,st.jsxs)("div",{children:[(0,st.jsxs)(hb,{type:"danger",children:[Ua("Error","pushengage"),": ",null===e.t1||void 0===e.t1?void 0:e.t1.message]}),(0,st.jsx)(gb,{children:Ua("Please try again.","pushengage")})]})});case 36:case"end":return e.stop()}}),e,null,[[4,33],[14,20]])})))).apply(this,arguments)}function xb(e){var t,n=null!==(t=e.utm_params)&&void 0!==t&&t.enabled?e.utm_params:{},r={title:e.notification_title,message:e.notification_message,icon:e.notification_image||void 0,url:e.notification_url?tb(e.notification_url,n):"https://www.pushengage.com",image:e.big_image||void 0,actions:[],serviceWorkerPath:e.serviceWorkerPath};if(e.multiAction){var i=e.actions;r.actions.push({title:i[0].label||"Button 1 Text",icon:i[0].image_url,url:i[0].url?tb(i[0].url,n):"https://www.pushengage.com"}),e.multiActionBtn2&&r.actions.push({title:i[1].label||"Button 2 Text",icon:i[1].image_url,url:i[1].url?tb(i[1].url,n):"https://www.pushengage.com"})}(function(e){return bb.apply(this,arguments)})(r).catch((function(){}))}var wb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAOJUlEQVR4AbWaBZAbx7aGv9M9I62kJdu7XlPQdBPDe+VwYghcZmZmvg8uMzMzM/MNM3Muh2OmZ1iWVjjTfZ48pYqnbC2EPtdfQ7b3/7tPn+3SSHiI7PyfN4hWysaNjkht430OUKbAx5Hkli6ztneWSq7gAeUhIDve/CoeDCKYeP8+ARwpCmeeU2hs3TJXq9VZ6lwOFDGmajpyo5mjF+8HyqQoXXGRDfoHFPAPLsBrX8wDQbIZE+3ff7/xwqlr8/VN956hlcrjNGqcqi5eos7PQX2AajpxLGKGsXaThMHNkstfmjl2+fVABaBy49UPKohsf/ULmSkaRzYeHvKAdiw/frEbGX6Dr9eeTxQtVBeD96AKKKooLVpBpHUEI4ixEAS7Tbbj13Z237eAzbW77xA7a7YBHDNEtjz3SUxLX59oqWQAl1t05Pxo394P+2rlZRo1sngP4FsyqAqAto6pEHrwqB5Vk0gMEoZ16cj9JBiY92FgT7Rrh7Vd3R7Q6Wfglc9jKhphYBob7wXwXcuOe6WbKH1Ba7VeVD2ggAGkZQ7SPtOopo6aDuXxKogYMpmxpvH/BX5Yu+9u05xlpisp2fby5zAZ9aZ5wOeXrchHd/3r+1QqL8C5g8ZVhfYmZxqgdUQBr94L1hpbKPwqt/rEVwOV2j23m6lCBHhPO6oHzHvvM7P7Bir/+ut5UqueZJDYiNiWeR5GBLCIKM7FrlR8QeXvNy8JFx35FDt7zj43MjRpiKBdmZXDjAF80Ns7UN+1/QpqtRVGTCyGQBVEhEcIQSQAjX1l4qRox7YrwoVHnGN7Zu1zxfG2IQLEkGa0uyCAL8ydX6jd/u+/UKuuMMbEIhqoBzUgyiOIAgQgsa9WVkS7d/wl9x8nnhP0zS1Hu7YLoKQITCZDmnPLmwXQp9y+/ztUK6dYTKxK4L0iouANCBgR2jFlaanyAAiQAyGqp1T//ffvAC9u7Nh2WAC556TltGB84QILuJzNvrpWK3/PgLPGWCOGA7IiiUxLMukiBT3smSZHFJDWET2kIQEc8ky9w5gDbfU1wPc1riUeaRFkjloEwEtfeIIA7vrTjl701m9e86mX3jiKz2WMqCIoiscjCAYBFOGwSRBBxIA6iGLU+9ZtA621j/qD5lKeUUHTsbUlxBB5vKt8Kpw9/2IyPbsa+ytyf635sS4Atk0MGsCtvrb6vnNXzOpbuXHInTRUtnE2RPBAYg5VjxcDKKKtEKqIMdCo46o1XCaDdvdCvgACWi/h6yMQ1zBBB9gsqAMUSXdSQFKpWgcBYqHe5/N73we8IdJi4hUgaOguXvqG9WYeuKwNlg9Xii+LQ/jdyQvMsedvpEs9BkFJumoSQlRJghjBYhDAlYr4eQsJnno2+f88kdzCBYT5HAhE9Qr14m4ae24h3nkJVLZjs12IASNgDIgoSWkaRZJrsFawJjna5L42XhYU5nwZuu5V1zCAl/iaJ7B050ILuHyY/Vwtjt5uVF0lG9hXXbadx9w3RCafIQTEGAIRkjUhgrUW6zzOO8KnPIfuZzyX3r4+8BFj5YhSRUGhKyf0doZgQkpjQ1Tv/QXxll9gA4vYAMFjDFgjBKESWJoSzAEJIArgAKum4/PAO3DVxLOc9If/EUAX5GcX7hrdeUes/mijaBSIzC3FvPcPd9ProCuwWBESGcEYi/UeDQK63vZeZm84C1svc/N9MVfda9gyZJioCQoUssqx/Z6zH+U5dUmAtwVKWy8nuv0jhNYRhgGZxLhgW6OPgKKkFpqKqGDsNrqWrgTKVPeJHP/rNyZJjJjHVeL6xarqRcQYr0zkQp5x616ef/NOokKGXgyBEUwSxKBxTO+7PsLcDWczOjjGt64JuGGTQYFMAAZQwCk0YkBh7VLPm86K6OmdRWXHFXRu/QBBJpNqPApCggipEwUhqWGxuccDl6g6K0f/7FUBEGds+LnIx2+nNVUCeIHACx/84z0sGq8jYUC3NQQ2QEtFul7wCha+9s2MD47ykfOy3LMXunMkeE21fQEBUBirwqPmw8efXqfQNQu36esU9v8EDXoQHAgtKSCHBMEhWCRIyggfBcG20qADWNwz7xRN/yzAemUia/nTiQv470s2UwuUivcUoirBwiOY9cznY+rl5siHifnePMQe9JBuSCrMrALcswe+dkXI+59aJpr/fKLi1WT8ftSEgCJC2nXroCCtu0ZPAdDGHif++mWcvPdJheF6aaMq84GD0QFRpZ4JePv5mzhlxxi1fAeZYpF5L30ti5ujf/3t43zsgpBCFvxhm8wWh1wbUUo1+MjTYk5/VA/VTd+ic+QnEHYDPu370ByKqIDsIehdCpQD6V5FcWe1X1X7Ds64kAb1/OHkBazaXSSMHXEmQ37NyShRsmCVtPF25tvvKK6423D68gjXfRJ+/DdYC2AATZlOo7SOfbhyP1C2H37tUXxpX+exCm+gzT9TgdB59vR20FN1rNo2jO+bwxHPfylVzfDrW4R6JIhMaT4V8qC5egxnLfeEYQZbugpraoABaWs+7c2C/hT8XoPGeNWcqqIJSku0wAPZRsy5awb4v86QXDZP2FmgWE1KASOgOnPzChghabOlqscEedR0gboZb1dRl0MdAerwaNsZS4cIYs9g0/wf18zn7RsdKgcHRQGZ3vw05SWp1adtPKeOqgfXkwKoVgEURIF28kbI1WKuXNHPv7ohGC3RWTAUsopTQGZuXgS8h84OpStn8K6GaBnEAMo0SCtDVRWMKuB0RFWjVi6lDQoYVRrZgJ8t66C4axezu0KO7fM04vTAgU4z8gI0Yljcr/QUAlxtL9aNAna60VdUASLndLQpAucUE7lBZ4IhYL6iTIYDCg3PbXNDzh/fyCv0FM48znPdRps2DzMsm3OOc0CILf8ToxWQ7kPWgdIOVYaqNR0EMIt2L5dqX74MbFJAQZkCr0omyPLt4j8YHhtj7RLLGUuVsSpYO735wMB4FdYuVU5dYqlUxukoXwkmA+ppj6b/U1TZ1Jk35e4jQzHhRMM2Baq3pNv0ZPIoORty18QevnnfpQRBgdefFSXbg9EyGFEERdI1DxgBKzBSgeXz4S3nRHjpwg+fRxhtBskCOuXCBRTAN702BaPOBjinAHguV2PeDki7X2bp0nLq6A5zfO2eC1kz51iedMxJfOhp43zryoDrNwoAYQBGQIDYQyMmYcNyz5vPjhno7eEfm29iafHXEOZADzHfHlEF57gMwHtVYyLvmyIsNq7H6zbAAKqk/yhptBVQgDfc/B0u3HobC5qGPvBU+ODTYtYu8/R3KlkLGUtyfuDeB58aNQXz5/Tyy3/eyM7NX6Szo4b3BtCpSifdR7btH4pvaIp6Q70Ur93A8m1HW8BJrJ9TK/fvSJkGI0LDOxTlbcc9idcvexx9Pd2oixkvRYxVFYDenNDTFSA2ZGRsnM/c/Bdu3/QXLlhfQ7ybtucntDw1Ik12opmMJJ5NV6fB1pw2hW2476NabZlXpkABp0pgLIFYPnX7H3nsZR/lE7f+gRt2b6SqZfq6XaID5zfs2Mgnrv4Vj/n1u/jSjb/mAysFMQ6vMzKvgPWearXqv98U5bLXppCJ6zYAsHj7MUkiW3ff8oF5fWoWZoRBqLoG1bhBZ5ilv6OHnjCPAuP1MkODg9QrZSYi4U1H5fnaiSVcPcaKtDffZvTrDf9t4A3ZvE28Aoj+62wAFt00XwC1sV8UFcK/q5F+QNtuq1Rph7TKyqkn9o5YPQAmVjoqDuc8HbFy7QbHUbkJ1BtkevOKIHGsgyOj8RpgV0dWDm5kxq9eRwuWb07WgjOxf7XL2O8hM5kFpT2CCKhXtNogqEXsLzs+udzyjuMPjL5iRQGmMg/gvKqtVn3ywVYmlMQjLaRx8wbSzN+x2AA+M17/mQ/ti4EYCEjQBxRFVdHYYasR1aYWh4brNkQUTAVVg6DTmY+BoFb3Pwde0tEfGMCTIgjnBKTJ3TahAEGx8fraQGGpBuaUdIjpTKdLTJ2H2CPOU2vAu1dCIVPFNQQrMzNfb/hb7ttSfz3AvJJTDkH2XbKWQ1mzeZEBvKm5gag7c4UPzIp2IaZcG6r42GGjmPFixDm9lgtOr6BxAxGZynja/J37huJzgH1dedP243UZuWId7Vh5bytENRqIu7Pn+dCcBMSABWSqxawo6jxEMdKIqZU9l50Gp84p4SPByKTmFcGhGtTqetu+wfgpwL7u7rbmWwGuSgK0D3H3QgP47FA1XxnIf8+H5oUY8Wjq3VibrQZe0TjGOs9QMeK18w3fWlPGNWKs0L7TgEcQ79RUa/6X926pvwaoHHNEpo35dIAr1zEVK5ohGn05AB8OVV/pM+YLPpBeRDyqhwUBktKRpuJGTKGh3Lg2TrXN9sZRTCPyY5WqT17y9S7MmJGdjelf8g0nJTQ1q+5eIC5rDeCCsdr8uDPzYR+al6mVrAqgqdes3otGDuucDJYiPr3Y8q7jiriaVytp0xjAqEIca71e9z8ZGo2T16z9/aGtV/zMXrMOX76OmXL8liNslAs8oLn95cVRPni9BuYFamRhU/e3TdPURC3SZYHh5jPq5JO2KSKpyvFOiR27Gw3/6/GSS150LzoyKxPF+IG96C5dv54HwrK/D5jmDBz8qsH2Yr42p+MMF5jHefWn4v0SnJszUXXBz1YJz1lYpN4AA7F6hp3XTXHMzbW6v2TH7ugGoAKwckWHnRiPH/hXDYYuW8uDYdVd803UGcqhozXrjsH8UKcZmB3YWZeeHuW6tIrzplqv+9Fde6LDvuxx4pqcLY21jD8IZPDStTwUVt85T3xoTJy1Up9bcNPVbemEndLYXbcTE15rdfWA8hD4f4bh/WTx30OLAAAAAElFTkSuQmCC",kb=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 4 10",fill:"currentColor",focusable:"false","data-icon":"pe-EllipsisV","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M2 4.21875C1.41992 4.21875 0.968749 4.69141 0.968749 5.25C0.968749 5.83008 1.41992 6.28125 2 6.28125C2.55859 6.28125 3.03125 5.83008 3.03125 5.25C3.03125 4.69141 2.55859 4.21875 2 4.21875ZM0.968749 1.98438C0.968749 2.56445 1.41992 3.01562 2 3.01562C2.55859 3.01562 3.03125 2.56445 3.03125 1.98438C3.03125 1.42578 2.55859 0.953125 2 0.953125C1.41992 0.953125 0.968749 1.42578 0.968749 1.98438ZM0.968749 8.51562C0.968749 9.0957 1.41992 9.54688 2 9.54688C2.55859 9.54688 3.03125 9.0957 3.03125 8.51562C3.03125 7.95703 2.55859 7.48438 2 7.48438C1.41992 7.48438 0.968749 7.95703 0.968749 8.51562Z"})}))},_b=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:kb},e))},Cb=mt.Z.Text,jb=function(e){var t,n,r,i,a,o,s,l,c=e.btn1&&e.btn1.title.length>0,u=e.btn2&&e.btn2.title.length>0,d=c||u;return(0,st.jsxs)("div",{className:"notification__preview windows11--chrome",children:[e.big_image&&(0,st.jsx)("div",{className:"notification__preview_big-image",children:(0,st.jsx)("img",{src:e.big_image,alt:e.title})}),(0,st.jsxs)(dt.Z,{justify:"space-between",className:"notification_header pe-px-10 pe-pt-8 pe-pb-4  ".concat(e.big_image?"":"pe-rounded-top-8"),children:[(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)("div",{className:"pe-d-inline",children:(0,st.jsx)("img",{src:wb,alt:"",width:16,height:16,className:"pe-pa-1"})}),(0,st.jsx)("span",{className:"pe-fs-12 pe-ml-6",children:Ua("Google Chrome","pushengage")})]}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(_b,{rotate:90,className:"pe-fs-10 pe-color-neutral-20 pe-mr-24"}),(0,st.jsx)($c,{className:"pe-fs-10 pe-color-neutral-20"})]})]}),(0,st.jsxs)(dt.Z,{className:"notification_body",wrap:!1,children:[e.imgUrl&&(0,st.jsx)(ht.Z,{className:"notification_icon",children:(0,st.jsx)("img",{src:e.imgUrl,alt:""})}),(0,st.jsxs)(ht.Z,{className:"notification_content",children:[(0,st.jsx)("div",{className:"notification_preview_title",children:e.title}),(0,st.jsx)("div",{className:"notification_preview_message",children:e.message}),(0,st.jsx)(Cb,{ellipsis:!0,className:"notification_preview_url fs-12",children:e.url})]})]}),(0,st.jsxs)("div",{className:"action-buttons  ".concat(c&&u?"pe-d-flex":"pe-d-block"),children:[c&&(0,st.jsxs)("a",{className:"notification_preview_button notification_preview_button1",href:null===(t=e.btn1)||void 0===t?void 0:t.url,target:"_blank",rel:"noreferrer",children:[(null===(n=e.btn1)||void 0===n?void 0:n.image_url)&&(0,st.jsx)("img",{src:e.btn1.image_url,alt:""}),null===(r=e.btn1)||void 0===r||null===(i=r.title)||void 0===i?void 0:i.slice(0,12)]}),u&&(0,st.jsxs)("a",{className:"notification_preview_button notification_preview_button2",href:null===(a=e.btn2)||void 0===a?void 0:a.url,target:"_blank",rel:"noreferrer",children:[(null===(o=e.btn2)||void 0===o?void 0:o.image_url)&&(0,st.jsx)("img",{src:e.btn2.image_url,alt:""}),null===(s=e.btn2)||void 0===s||null===(l=s.title)||void 0===l?void 0:l.slice(0,12)]}),!d&&(0,st.jsx)("span",{className:"notification_preview_button",children:Ua("Close","pushengage")})]})]})},Sb=mt.Z.Paragraph,Zb={span:6,md:6,sm:24},Nb={span:18,md:18,sm:24},Eb=function(){var e=bt(Vr),t=bt(Ur),n=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),r=bt((function(e){var t,n;return null===(t=e.session.user)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.site_image}))||"",i=bt((function(e){var t,n;return(null===(t=e.session.user)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.site_subdomain)||""})),a=bt((function(e){var t;return null===(t=e.siteSettings.data.service_worker)||void 0===t?void 0:t.worker})),o=ed.Z.useForm(),s=(0,xe.Z)(o,1)[0],l=(0,oe.useState)(!1),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)(!1),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)(!1),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)({utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",notificationTitle:"",notificationMessage:"",notificationUrl:"",fallbackCity:"",fallbackCountry:"",notificationExpiry:""}),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=function(e){if(!e)return{days:28,hours:0,minutes:0};var t=Math.floor(e/86400),n=Math.floor((e-60*t*60*24)/3600);return{days:t,hours:n,minutes:(e-60*t*60*24-60*n*60)/60}};(0,oe.useEffect)((function(){e&&(0,at.Z)((0,it.Z)().mark((function e(){var n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,ss(t);case 4:n=e.sent,Ii()(n,"data.default_custom_params")&&s.setFieldsValue({fallbackCity:Ii()(n,"data.default_custom_params.custom_city"),fallbackCountry:Ii()(n,"data.default_custom_params.custom_country")}),Ii()(n,"data.default_notification")&&s.setFieldsValue({notificationTitle:Ii()(n,"data.default_notification.default_notification_title"),notificationMessage:Ii()(n,"data.default_notification.default_notification_message"),notificationUrl:Ii()(n,"data.default_notification.default_notification_url")}),Ii()(n,"data.default_notification_expiry")&&(r=C(Ii()(n,"data.default_notification_expiry.value")),s.setFieldsValue({notificationExpiryDays:r.days,notificationExpiryHours:r.hours,notificationExpiryMinutes:r.minutes})),Ii()(n,"data.utm_settings")&&s.setFieldsValue({utmSource:Ii()(n,"data.utm_settings.utm_source"),utmMedium:Ii()(n,"data.utm_settings.utm_medium"),utmCampaign:Ii()(n,"data.utm_settings.utm_campaign"),utmTerm:Ii()(n,"data.utm_settings.utm_term"),utmContent:Ii()(n,"data.utm_settings.utm_content")}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:g(!1);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))()}),[s,t,e]);var j=function(e){var t=e.utmSource,n=e.utmMedium,r=e.utmCampaign,i=e.utmTerm,a=e.utmContent,o=e.notificationTitle,s=e.notificationMessage,l=e.notificationUrl,c=e.fallbackCity,u=e.fallbackCountry,d=e.notificationExpiryDays,p=e.notificationExpiryHours,f=e.notificationExpiryMinutes,h={};h=Li()(h,{default_notification:{default_notification_title:o,default_notification_message:s,default_notification_url:l}});var g={enabled:!0,utm_source:t,utm_medium:n,utm_campaign:r};i&&(g.utm_term=i),a&&(g.utm_content=a),h=Li()(h,{utm_settings:g}),h=Li()(h,{default_custom_params:{custom_city:c,custom_country:u}});var m=24*d*60*60+60*p*60+60*f;return h=Li()(h,{default_notification_expiry:{value:m}})},S=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(r){var i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gd(n)){e.next=3;break}return b(!0),e.abrupt("return");case 3:if((i=ty(r)).isValid){e.next=7;break}return _(i.errors),e.abrupt("return");case 7:return a=j(r),e.prev=8,d(!0),e.next=12,cs({siteId:t,data:a});case 12:ie.default.success({message:Ua("Default settings updated successfully","pushengage")}),d(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),d(!1);case 19:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.settings.defaultSettings,type:"settings"}),(0,st.jsxs)(ct,{pageClassName:"pe-default-settings-page",children:[y?(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify default settings. Please contact to your admin.","pushengage"),onOk:function(){return b(!1)},visible:y}):null,e?null:(0,st.jsx)(rg,{}),(0,st.jsxs)(ed.Z,{form:s,colon:!1,size:"large",labelAlign:"left",labelCol:Zb,wrapperCol:Nb,onFinish:S,initialValues:{utmEnabled:!0,utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",notificationTitle:"",notificationMessage:"",notificationUrl:"",fallbackCity:"",fallbackCountry:"",notificationExpiryDays:28,notificationExpiryHours:0,notificationExpiryMinutes:0},children:[(0,st.jsxs)(ag,{cardHeader:Ua("UTM Parameters","pushengage"),loading:h,cardClassName:"pe-mb-20",cardIdName:"pe-utm-params-card",children:[(0,st.jsx)(Sb,{type:"secondary",style:{maxWidth:964},children:Ua("It is a reliable way to track the traffic that comes to your website through web push campaigns. By adding default parameters you can avoid campaigns going out without any UTM parameters.","pushengage")}),(0,st.jsx)(Cu.Z,{}),(0,st.jsxs)("div",{style:{maxWidth:752},children:[(0,st.jsx)(ed.Z.Item,{name:"utmSource",label:Ua("UTM Source","pushengage"),validateStatus:k.utmSource?"error":"",help:k.utmSource?k.utmSource:null,children:(0,st.jsx)(Yc.default,{onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{utmSource:""}))}})}),(0,st.jsx)(ed.Z.Item,{name:"utmMedium",label:Ua("UTM Medium","pushengage"),validateStatus:k.utmMedium?"error":"",help:k.utmMedium?k.utmMedium:null,children:(0,st.jsx)(Yc.default,{onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{utmMedium:""}))}})}),(0,st.jsx)(ed.Z.Item,{name:"utmCampaign",label:Ua("UTM Campaign","pushengage"),validateStatus:k.utmCampaign?"error":"",help:k.utmCampaign?k.utmCampaign:null,children:(0,st.jsx)(Yc.default,{onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{utmCampaign:""}))}})}),(0,st.jsx)(ed.Z.Item,{name:"utmTerm",label:Ua("UTM Term (optional)","pushengage"),validateStatus:k.utmTerm?"error":"",help:k.utmTerm?k.utmTerm:null,children:(0,st.jsx)(Yc.default,{onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{utmTerm:""}))}})}),(0,st.jsx)(ed.Z.Item,{className:"pe-mb-16",name:"utmContent",label:Ua("UTM Content (optional)","pushengage"),validateStatus:k.utmContent?"error":"",help:k.utmContent?k.utmContent:null,children:(0,st.jsx)(Yc.default,{onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{utmContent:""}))}})})]})]}),(0,st.jsxs)(ag,{cardHeader:Ua("Fallback Notification","pushengage"),loading:h,cardClassName:"pe-pt-0 pe-mb-20",cardIdName:"pe-fallback-notification-card",children:[(0,st.jsx)(Sb,{type:"secondary",children:Ua("This notification will be used as a fallback in case the browser is not able to fetch the sent notification in rare scenarios.","pushengage")}),(0,st.jsx)(Cu.Z,{}),(0,st.jsxs)("div",{style:{maxWidth:752},children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Notification Preview","pushengage"),shouldUpdate:function(e,t){return e.notificationTitle!==t.notificationTitle||e.notificationMessage!==t.notificationMessage||e.notificationUrl!==t.notificationUrl},children:function(t){var n=t.getFieldValue,o=n("notificationTitle"),s=n("notificationMessage"),l=n("notificationUrl");return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(jb,{title:o,message:s,url:"".concat(i,".pushengage.com"),imgUrl:r}),(0,st.jsx)(pt.default,{className:"pe-fs-13 pe-fw-600 pe-mt-12",disabled:!e,onClick:function(){xb({notification_title:o,notification_message:s,notification_url:l,notification_image:r,serviceWorkerPath:a})},children:Ua("Test Notification","pushengage")})]})}}),(0,st.jsx)(ed.Z.Item,{name:"notificationTitle",label:Ua("Notification Title","pushengage"),validateStatus:k.notificationTitle?"error":"",help:k.notificationTitle?k.notificationTitle:null,children:(0,st.jsx)(Yc.default,{onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{notificationTitle:""}))}})}),(0,st.jsx)(ed.Z.Item,{name:"notificationMessage",label:Ua("Notification Message","pushengage"),validateStatus:k.notificationMessage?"error":"",help:k.notificationMessage?k.notificationMessage:null,children:(0,st.jsx)(Yc.default,{onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{notificationMessage:""}))}})}),(0,st.jsxs)(ed.Z.Item,{className:"pe-mb-19",label:Ua("Notification URL","pushengage"),validateStatus:k.notificationUrl?"error":"",help:k.notificationUrl?k.notificationUrl:null,children:[(0,st.jsx)(ed.Z.Item,{name:"notificationUrl",noStyle:!0,children:(0,st.jsx)(Yc.default,{onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{notificationUrl:""}))}})}),(0,st.jsx)(Sb,{type:"secondary",className:"small pe-mt-10 pe-mb-0 pe-fw-500",children:Ua("Example Notification URL : https://www.pushengage.com","pushengage")})]})]})]}),(0,st.jsxs)(ag,{cardHeader:Ua("Fallback Attributes","pushengage"),loading:h,cardClassName:"pe-pt-0 pe-mb-20",cardIdName:"pe-fallback-attributes-card",children:[(0,st.jsx)(Sb,{type:"secondary",children:Ua("These attributes will be used as a fallback in the rare cases where the browser is unable to fetch the subscriber's country & city.","pushengage")}),(0,st.jsx)(Cu.Z,{}),(0,st.jsxs)("div",{style:{maxWidth:752},children:[(0,st.jsx)(ed.Z.Item,{name:"fallbackCity",label:Ua("Custom City","pushengage"),validateStatus:k.fallbackCity?"error":"",help:k.fallbackCity?k.fallbackCity:null,children:(0,st.jsx)(Yc.default,{onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{fallbackCity:""}))}})}),(0,st.jsx)(ed.Z.Item,{className:"pe-mb-14",name:"fallbackCountry",label:Ua("Custom Country","pushengage"),validateStatus:k.fallbackCountry?"error":"",help:k.fallbackCountry?k.fallbackCountry:null,children:(0,st.jsx)(Yc.default,{onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{fallbackCountry:""}))}})})]})]}),(0,st.jsxs)(ag,{cardHeader:Ua("Default Expiry for notifications","pushengage"),loading:h,cardClassName:"pe-py-0",cardIdName:"pe-notification-expiry-card",children:[(0,st.jsx)(Sb,{type:"secondary",className:"pe-settings-page-description",children:Ua("This is the expiry time for a notification. If a user is not available online with browser running, then the notification will be retried until expiration time. The maximum value is 28 days.","pushengage")}),(0,st.jsx)(Cu.Z,{}),(0,st.jsx)("div",{style:{maxWidth:752},children:(0,st.jsx)(ed.Z.Item,{className:"pe-mb-16",label:Ua("Expires in","pushengage"),validateStatus:k.notificationExpiry?"error":"",help:k.notificationExpiry?k.notificationExpiry:null,children:(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{span:7,className:"pe-mr-8",children:(0,st.jsx)(ed.Z.Item,{name:"notificationExpiryDays",noStyle:!0,children:(0,st.jsx)(Rv.default,{dropdownClassName:"pe-ant-single-select-box",onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{notificationExpiry:""}))},children:Array.from(Array(29).keys()).map((function(e){return(0,st.jsxs)(Rv.default.Option,{value:e,children:[e," ",Ua("days","pushengage")]},e)}))})})}),(0,st.jsx)(ht.Z,{span:7,className:"pe-mr-8",children:(0,st.jsx)(ed.Z.Item,{name:"notificationExpiryHours",noStyle:!0,children:(0,st.jsx)(Rv.default,{dropdownClassName:"pe-ant-single-select-box",onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{notificationExpiry:""}))},children:Array.from(Array(24).keys()).map((function(e){return(0,st.jsxs)(Rv.default.Option,{value:e,children:[e," ",Ua("hours","pushengage")]},e)}))})})}),(0,st.jsx)(ht.Z,{span:7,children:(0,st.jsx)(ed.Z.Item,{name:"notificationExpiryMinutes",noStyle:!0,children:(0,st.jsx)(Rv.default,{dropdownClassName:"pe-ant-single-select-box",onChange:function(){_((0,kn.Z)((0,kn.Z)({},k),{},{notificationExpiry:""}))},children:Array.from(Array(60).keys()).map((function(e){return(0,st.jsxs)(Rv.default.Option,{value:e,children:[e," ",Ua("minutes","pushengage")]},e)}))})})})]})})})]}),(0,st.jsx)(pt.default,{loading:u,type:"primary",htmlType:"submit",className:"pe-mt-35",disabled:!e,children:Ua("Save Changes","pushengage")})]})]})]})},Ob=mt.Z.Paragraph,Ab=mt.Z.Link,Tb={span:6,md:6,sm:24},Pb={span:18,md:18,sm:24},Mb={span:6,xl:7,lg:8,md:8,sm:24},Ib={span:18,xl:17,lg:16,md:16,sm:24},Db=function(){var e=yt(),t=bt(Vr),n=bt(Ur),r=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),i=ed.Z.useForm(),a=(0,xe.Z)(i,1)[0],o=(0,oe.useState)(!1),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)(!1),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)(!1),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useState)(!1),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useState)(""),Z=(0,xe.Z)(S,2),N=Z[0],E=Z[1],O=(0,oe.useState)(!1),A=(0,xe.Z)(O,2),T=A[0],P=A[1],M=(0,oe.useState)({serviceWorkerScope:!0,serviceWorkerStatus:!1,serviceWorkerPath:"",customUrl:"",customUrlEnabled:!1,customUrlType:"tab",safariPushId:"",safariKey:"",safariKeyPass:""}),I=(0,xe.Z)(M,2),D=I[0],L=I[1],R=(0,oe.useState)({serviceWorkerPath:"",customUrl:"",safariPushId:"",safariKey:"",safariKeyPass:""}),B=(0,xe.Z)(R,2),F=B[0],z=B[1],V=function(e){return 1===(null===e||void 0===e?void 0:e.owner.permissions.settings.custom_url)}(r);(0,oe.useEffect)((function(){t&&(0,at.Z)((0,it.Z)().mark((function e(){var t,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,ls(n);case 4:t=e.sent,r={},Ii()(t,"data.custom_url")&&(r=(0,kn.Z)((0,kn.Z)({},r),{},{customUrlEnabled:Ii()(t,"data.custom_url.enabled"),customUrl:Ii()(t,"data.custom_url.url"),customUrlType:Ii()(t,"data.custom_url.type")}),v(Ii()(t,"data.custom_url.enabled"))),Ii()(t,"data.safari_options")&&(i=td(Ii()(t,"data.safari_options.key")),r=(0,kn.Z)((0,kn.Z)({},r),{},{safariPushId:Ii()(t,"data.safari_options.push_id"),safariKey:i,safariKeyPass:Ii()(t,"data.safari_options.key_pass")}),E(Ii()(t,"data.safari_options.key"))),Ii()(t,"data.service_worker")&&(r=(0,kn.Z)((0,kn.Z)({},r),{},{serviceWorkerScope:!Ii()(t,"data.service_worker.scope"),serviceWorkerPath:Ii()(t,"data.service_worker.worker"),serviceWorkerStatus:Ii()(t,"data.service_worker.workerStatus")}),w(Ii()(t,"data.service_worker.workerStatus"))),Object.keys(r).length&&(a.setFieldsValue(r),L(r)),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(1);case 14:c(!1);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))()}),[a,n,t]);var U=function(e){var t=e.serviceWorkerScope,n=e.serviceWorkerPath,r=e.serviceWorkerStatus,i=e.customUrl,a=e.customUrlEnabled,o=e.customUrlType,s=e.safariPushId,l=e.safariKey,c=e.safariKeyPass,u={};return u=Li()(u,{service_worker:{scope:!t,workerStatus:r,worker:n}}),V&&(u=Li()(u,{custom_url:{enabled:!1}}),a&&(u=Li()(u,{custom_url:{enabled:!0,type:o,url:i}}))),s&&l&&c&&(u=Li()(u,{safari_options:{push_id:s,key:N,key_pass:c}})),u},H=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(i){var a,o,s,l,c,u;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=(0,kn.Z)((0,kn.Z)({},D),i),Gd(r)){t.next=4;break}return j(!0),t.abrupt("return");case 4:if((o=ny(a)).isValid){t.next=8;break}return z(o.errors),t.abrupt("return");case 8:return s=U(a),t.prev=9,f(!0),t.next=13,us({siteId:n,data:s});case 13:if(c=t.sent,null===(l=c.data)||void 0===l||!l.service_worker){t.next=17;break}return t.next=17,e(xs((0,kn.Z)({},null===(u=c.data)||void 0===u?void 0:u.service_worker)));case 17:ie.default.success({message:Ua("Advanced settings updated successfully","pushengage")}),L(a),f(!1),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),f(!1);case 25:case"end":return t.stop()}}),t,null,[[9,22]])})));return function(e){return t.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.settings.advancedSettings,type:"settings"}),(0,st.jsxs)(iy,{pageClassName:"pe-advanced-settings-page",containerIdName:"pe-advanced-settings-page",children:[T&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.customSubdomain),{},{closeable:!0,onClose:function(){return P(!1)}})),C&&(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify advanced settings. Please contact to your admin.","pushengage"),onOk:function(){return j(!1)},visible:C}),!t&&(0,st.jsx)(rg,{}),(0,st.jsxs)(ed.Z,{form:a,colon:!1,size:"large",labelAlign:"left",labelCol:Tb,wrapperCol:Pb,onFinish:H,preserve:!0,initialValues:D,children:[(0,st.jsxs)(ag,{cardHeader:Ua("Service Worker Settings","pushengage"),cardClassName:"pe-mb-20",cardIdName:"pe-service-worker-settings-card",loading:l,children:[(0,st.jsx)(Ob,{type:"secondary",style:{maxWidth:964},children:Ua("The service worker is a key file in sending and collecting subscriptions. If you have a service-worker already you can disable our service-worker registration. If you do not have access to the root folder of the website so you can specify the path to sub-folder as well.","pushengage")}),(0,st.jsx)(Cu.Z,{}),(0,st.jsxs)("div",{style:{maxWidth:842},children:[(0,st.jsxs)(ed.Z.Item,{label:Ua("Service Worker Registration","pushengage"),labelCol:Mb,wrapperCol:Ib,children:[(0,st.jsx)(ed.Z.Item,{name:"serviceWorkerStatus",valuePropName:"checked",noStyle:!0,children:(0,st.jsx)(Lv.Z,{onChange:function(e){w(e)}})}),(0,st.jsx)(Ob,{type:"secondary",className:"pe-mt-11 pe-fw-500",children:Ua("Enable the service worker registration from PushEngage","pushengage")})]}),(0,st.jsxs)(ed.Z.Item,{className:x?"":"pe-mb-20",label:Ua("Add Service worker in sub-folder","pushengage"),labelCol:Mb,wrapperCol:Ib,children:[(0,st.jsx)(ed.Z.Item,{name:"serviceWorkerScope",noStyle:!0,valuePropName:"checked",children:(0,st.jsx)(Lv.Z,{})}),(0,st.jsx)(Ob,{type:"secondary",className:"pe-mt-11 pe-mb-0  pe-fw-500",children:Ua("Enable addition of service worker in another sub-folder","pushengage")})]}),x?(0,st.jsx)(ed.Z.Item,{className:"pe-mb-20",name:"serviceWorkerPath",label:Ua("Path for service worker file","pushengage"),labelCol:Mb,wrapperCol:Ib,validateStatus:F.serviceWorkerPath?"error":"",help:F.serviceWorkerPath?F.serviceWorkerPath:null,children:(0,st.jsx)(Yc.default,{onChange:function(){z((0,kn.Z)((0,kn.Z)({},F),{},{serviceWorkerPath:""}))}})}):null]})]}),(0,st.jsxs)(ag,{cardHeader:Ua("Custom Sub Domain","pushengage"),cardClassName:"pe-pt-0 pe-mb-20",cardIdName:"pe-custom-subdomain-settings-card",loading:l,children:[(0,st.jsxs)("div",{style:{maxWidth:964},children:[(0,st.jsx)(Ob,{type:"secondary",children:Ua("This should be a HTTPS URL. If you decide to host your own sub-domain with HTTPS version on your website, or want us to collect subscribers for your website through a custom URL, you can mention it here. This will be where your subscription will happen and this will be visible URL in each of the push notification.","pushengage")}),(0,st.jsx)(Ob,{type:"secondary",children:Ua("This setting is often needed if you have most of your site in HTTP, and a sub-domain in HTTPS for push notifications. When the user clicks on the Accept button in subscription popup, they are redirected to this URL for push subscription.","pushengage")}),(0,st.jsxs)(Ob,{type:"secondary",children:[Ua("For HTTP sites, we recommend using your own HTTPS custom subdomain, for full portability of subscribers.","pushengage")," ",(0,st.jsx)(Ab,{target:"_blank",href:"https://www.pushengage.com/the-complete-guide-to-implementing-browser-push-notifications-without-a-vendor-lock-in/".concat(Qc({utm_medium:"AdvancedSettings",utm_content:"Custom Sub Domain"})),children:Ua("Read this post for more details.","pushengage")})]})]}),(0,st.jsx)(Cu.Z,{}),(0,st.jsxs)("div",{style:{maxWidth:752},children:[(0,st.jsx)(ed.Z.Item,{name:"customUrlEnabled",label:Ua("Enable Custom Sub Domain","pushengage"),className:"pe-custom-url-switch-form-item ".concat(m?"":"pe-mb-16"),valuePropName:"checked",labelCol:{span:8,md:8,sm:24},wrapperCol:{span:16,md:16,sm:24},children:(0,st.jsx)(Lv.Z,{checked:m,onChange:function(e){if(t&&!V)return a.setFieldsValue({customUrlEnabled:!1}),void P(!0);v(e)}})}),m?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ed.Z.Item,{name:"customUrl",label:Ua("Custom sub-domain URL","pushengage"),labelCol:{span:8,md:8,sm:24},wrapperCol:{span:16,md:16,sm:24},validateStatus:F.customUrl?"error":"",help:F.customUrl?F.customUrl:null,children:(0,st.jsx)(Yc.default,{onChange:function(){z((0,kn.Z)((0,kn.Z)({},F),{},{customUrl:""}))}})}),(0,st.jsx)(ed.Z.Item,{className:"pe-mb-16",name:"customUrlType",label:Ua("The Webpage should be opened in","pushengage"),labelCol:{span:8,md:8,sm:24},wrapperCol:{span:16,md:16,sm:24},children:(0,st.jsxs)(zy.default.Group,{defaultValue:"tab",size:"small",buttonStyle:"solid",children:[(0,st.jsx)(zy.default.Button,{value:"tab",children:"New Tab"}),(0,st.jsx)(zy.default.Button,{value:"window",children:"New Window"})]})})]}):null]})]}),(0,st.jsx)(pt.default,{loading:p,type:"primary",htmlType:"submit",className:"pe-mt-35",disabled:!t,children:Ua("Save Changes","pushengage")})]})]})]})},Lb=(n(4296),n(12740));function Rb(e){return Bb.apply(this,arguments)}function Bb(){return(Bb=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("accounts/".concat(t,"/billing/customers")));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fb(e){return zb.apply(this,arguments)}function zb(){return(zb=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc.get("accounts/".concat(t,"/billing/subscriptions")));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vb(e){if(1===e.length)return{planSubscription:(0,kn.Z)({},e[0]),addonsSubscription:[]};var t={},n=-1,r=(0,we.Z)(e);if(e[0].plan_type===ii.FREE)return{planSubscription:(0,kn.Z)({},e[0]),addonsSubscription:[]};for(var i=0;i<e.length;i+=1){e[i].items.data.find((function(e){return e.plan.metadata.type===oi.PLAN}))&&(t=e[i],n=i)}return n>-1&&r.splice(n,1),{planSubscription:t,addonsSubscription:r}}var Ub=mt.Z.Title,Hb=mt.Z.Paragraph,Wb=mt.Z.Text,qb=function(){var e=bt(Vr),t=bt(Wr),n=bt(Ur),r=(0,oe.useState)(!1),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=(0,oe.useState)(""),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(0),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=(0,oe.useState)(0),m=(0,xe.Z)(g,2),v=m[0],y=m[1],b=(0,oe.useState)(0),x=(0,xe.Z)(b,2),w=x[0],k=x[1],_=(0,oe.useState)(0),C=(0,xe.Z)(_,2),j=C[0],S=C[1],Z=(0,oe.useState)(0),N=(0,xe.Z)(Z,2),E=N[0],O=N[1],A=(0,oe.useState)(""),T=(0,xe.Z)(A,2),P=T[0],M=T[1];(0,oe.useEffect)((function(){e&&(0,at.Z)((0,it.Z)().mark((function e(){var n,r,i,a,s,l,c,d,p,f,g,m,v,b,x,w,_,C;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,Fb(t);case 4:null!==(n=e.sent)&&void 0!==n&&n.data&&(i=Vb(null===n||void 0===n?void 0:n.data),a=i.planSubscription,s=(null===a||void 0===a||null===(r=a.plan)||void 0===r?void 0:r.name)||"",(null===a||void 0===a?void 0:a.payment_source)===si.STRIPE&&(c=null===(l=a.items)||void 0===l?void 0:l.data.find((function(e){var t,n;return(null===(t=e.plan)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.type)===oi.PLAN}))).plan&&(s=null===(d=c.plan)||void 0===d||null===(p=d.metadata)||void 0===p?void 0:p.name),M(s)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,e.next=13,Rb(t);case 13:g=e.sent,u((null===g||void 0===g||null===(f=g.data)||void 0===f?void 0:f.name)||""),e.next=19;break;case 17:e.prev=17,e.t1=e.catch(10);case 19:return e.prev=19,e.next=22,Fu(t);case 22:w=e.sent,y((null===w||void 0===w||null===(m=w.data)||void 0===m?void 0:m.subscriber_limit)||0),k((null===w||void 0===w||null===(v=w.data)||void 0===v?void 0:v.fup_factor)||0),S((null===w||void 0===w||null===(b=w.data)||void 0===b?void 0:b.usage)||0),O((null===w||void 0===w||null===(x=w.data)||void 0===x?void 0:x.sent_count)||0),e.next=31;break;case 29:e.prev=29,e.t2=e.catch(19);case 31:return e.prev=31,e.next=34,Np(t);case 34:C=e.sent,h((null===C||void 0===C||null===(_=C.data)||void 0===_?void 0:_.count)||0),e.next=40;break;case 38:e.prev=38,e.t3=e.catch(31);case 40:o(!1);case 41:case"end":return e.stop()}}),e,null,[[1,8],[10,17],[19,29],[31,38]])})))()}),[t,e]);var I=Math.floor((f||0)/(v||1)*100),D=Math.floor((E||0)/(j*w||1)*100);return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.settings.billing,type:"settings"}),(0,st.jsxs)(ct,{children:[e?null:(0,st.jsx)(rg,{}),(0,st.jsxs)(dt.Z,{gutter:[12,12],children:[(0,st.jsx)(ht.Z,{md:{span:8},sm:{span:12},xs:{span:24},className:"pe-min-w-378",children:(0,st.jsxs)(Wc.Z,{className:"pe-h-256",loading:a,bordered:!1,children:[(0,st.jsx)(Ub,{level:4,className:"pe-mb-24 pe-fw-700 pe-lh-140",children:Ua("Subscription Details","pushengage")}),(0,st.jsxs)(dt.Z,{className:"pe-mb-40",children:[(0,st.jsxs)(ht.Z,{span:10,children:[(0,st.jsx)(Hb,{className:"pe-fw-700",children:Ua("Plan Name","pushengage")}),(0,st.jsx)(Hb,{type:"secondary",className:"pe-fw-600",children:P})]}),(0,st.jsxs)(ht.Z,{span:14,children:[(0,st.jsx)(Hb,{className:"pe-fw-700",children:Ua("Billing Info","pushengage")}),(0,st.jsxs)("div",{children:[(0,st.jsx)(Wb,{type:"secondary",className:"pe-mr-6 pe-fw-600",style:{maxWidth:148},ellipsis:!0,children:c}),(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-fw-600 pe-pa-0",style:{height:20},disabled:!e,onClick:function(){window.open("".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:n,billingInfoModal:!0,utm_medium:"SettingsBilling",utm_content:"Add Payment Method"})),"_blank")},children:Ua("Edit","pushengage")})]}),(0,st.jsx)(pt.default,{type:"link",size:"small",style:{height:18},className:"pe-fw-600 pe-pa-0",disabled:!e,onClick:function(){window.open("".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:n,paymentMethodModal:!0,utm_medium:"SettingsBilling",utm_content:"Add Payment Method"})),"_blank")},children:Ua("Add Payment Method","pushengage")})]})]}),(0,st.jsx)(pt.default,{type:"primary",size:"large",disabled:!e,onClick:function(){window.open("".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:n,drawer:!0,utm_medium:"SettingsBilling",utm_content:"Update Plan"})),"_blank")},children:Ua("Update Plan","pushengage")})]})}),(0,st.jsx)(ht.Z,{md:{span:8},sm:{span:12},xs:{span:24},className:"pe-min-w-378",children:(0,st.jsxs)(Wc.Z,{className:"pe-pb-14 pe-h-256",loading:a,bordered:!1,children:[(0,st.jsx)(Ub,{level:4,className:"pe-mb-24 pe-fw-700 pe-lh-140",children:Ua("Active Subscribers","pushengage")}),(0,st.jsxs)(dt.Z,{gutter:36,children:[(0,st.jsx)(ht.Z,{span:10,children:(0,st.jsx)(Lb.default,{strokeLinecap:"butt",strokeColor:Zo(I),type:"circle",percent:I,strokeWidth:8,width:142,format:function(){return(0,st.jsx)("div",{className:"pe-mt-12",children:(0,st.jsxs)(ft.default,{title:"".concat(ko(f)," / ").concat(ko(v)),placement:"top",children:[(0,st.jsx)(Hb,{className:"pe-fw-700 pe-fs-32 pe-mb-0",style:{color:Zo(I)},children:wo(f)}),(0,st.jsx)(Hb,{type:"secondary",className:"pe-fw-700 pe-mb-0 pe-fs-14",children:"/ ".concat(wo(v))})]})})}})}),(0,st.jsxs)(ht.Z,{span:14,className:"pe-mt-24",children:[(0,st.jsxs)(dt.Z,{className:"pe-mb-12",gutter:36,children:[(0,st.jsx)(ht.Z,{span:14,children:(0,st.jsx)(Wb,{type:"secondary",className:"dark pe-fw-600",children:Ua("Total Subscribers","pushengage")})}),(0,st.jsx)(ht.Z,{span:10,children:(0,st.jsx)(Wb,{type:"secondary",className:"pe-fw-600 pe-fs-16",children:wo(f)})})]}),(0,st.jsxs)(dt.Z,{gutter:36,children:[(0,st.jsx)(ht.Z,{span:14,children:(0,st.jsx)(Wb,{type:"secondary",className:"dark pe-fw-600",children:Ua("Remaining Subscribers","pushengage")})}),(0,st.jsx)(ht.Z,{span:10,children:(0,st.jsx)(Wb,{type:"secondary",className:"pe-fw-600 pe-fs-16",children:wo(v-f>0?v-f:0)})})]})]})]})]})}),(0,st.jsx)(ht.Z,{md:{span:8},sm:{span:12},xs:{span:24},className:"pe-min-w-378",children:(0,st.jsxs)(Wc.Z,{className:"pe-pb-14 pe-h-256",loading:a,bordered:!1,children:[(0,st.jsx)(Ub,{level:4,className:"pe-mb-24 pe-fw-700 pe-lh-140",children:Ua("Limit Usage","pushengage")}),(0,st.jsxs)(dt.Z,{gutter:36,children:[(0,st.jsx)(ht.Z,{span:10,children:(0,st.jsx)(Lb.default,{strokeLinecap:"butt",strokeColor:No(j),type:"circle",percent:D,strokeWidth:8,width:142,format:function(){return(0,st.jsx)("div",{className:"pe-mt-12",children:(0,st.jsxs)(ft.default,{title:"".concat(ko(E)," / ").concat(ko(v*w)),placement:"top",children:[(0,st.jsx)(Hb,{className:"pe-fw-700 pe-fs-32 pe-mb-0",style:{color:No(j)},children:wo(E)}),(0,st.jsx)(Hb,{type:"secondary",className:"pe-fw-700 pe-mb-0 pe-fs-14",children:"/ ".concat(wo(v*w))})]})})}})}),(0,st.jsxs)(ht.Z,{span:14,className:"pe-mt-24",children:[(0,st.jsxs)(dt.Z,{className:"pe-mb-12",gutter:36,children:[(0,st.jsx)(ht.Z,{span:14,children:(0,st.jsx)(Wb,{type:"secondary",className:"dark pe-fw-600",children:Ua("Usage","pushengage")})}),(0,st.jsx)(ht.Z,{span:10,children:(0,st.jsx)(Wb,{type:"secondary",className:"pe-fs-16 pe-fw-600",children:wo(E)})})]}),(0,st.jsxs)(dt.Z,{className:"pe-mb-12",gutter:36,children:[(0,st.jsx)(ht.Z,{span:14,children:(0,st.jsx)(Wb,{type:"secondary",className:"dark pe-fw-600",children:Ua("Limit Usage","pushengage")})}),(0,st.jsx)(ht.Z,{span:10,children:(0,st.jsx)(Wb,{type:"secondary",className:"pe-fs-16 pe-fw-600",children:"".concat(wo(v*w))})})]}),(0,st.jsxs)(dt.Z,{gutter:36,children:[(0,st.jsx)(ht.Z,{span:14,children:(0,st.jsx)(Wb,{type:"secondary",className:"dark pe-fw-600",children:Ua("Monthly Sending Limit","pushengage")})}),(0,st.jsx)(ht.Z,{span:10,children:(0,st.jsx)(Wb,{type:"secondary",className:"pe-fs-16 pe-fw-600",children:"".concat(wo(v),"*").concat(w)})})]})]})]})]})})]})]})]})},Kb=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"100",height:"100",viewBox:"0 0 1509 1038",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M374.269 287H1134.97C1182.93 287 1221.99 326.061 1221.99 374.022V664.261C1221.99 712.222 1182.93 751.283 1134.97 751.283H862.039L899.369 843.003L734.472 751.283H374.022C326.061 751.283 287 712.222 287 664.261V374.022C287 326.061 326.061 287 374.269 287Z",fill:"#7F54B3"}),(0,st.jsx)("path",{d:"M334.219 366.056C340.153 358.886 348.806 354.436 358.2 354.189C377.483 352.953 388.608 362.1 391.575 381.631C403.442 461.236 416.297 528.975 429.894 584.6L513.703 425.389C521.367 411.05 530.761 403.386 542.381 402.645C559.192 401.409 569.575 412.039 573.778 434.784C581.689 479.284 593.803 523.042 609.872 565.317C620.008 468.406 636.819 398.195 660.306 354.931C665.003 345.042 674.644 338.614 685.522 338.12C694.175 337.378 702.828 340.098 709.503 345.784C716.425 350.975 720.628 359.134 721.122 367.786C721.617 374.214 720.38 380.642 717.414 386.081C702.58 413.77 690.219 459.753 680.578 524.031C671.183 586.084 667.475 634.786 669.947 669.645C670.936 678.298 669.205 686.95 665.497 694.614C661.789 702.525 653.878 707.964 645.225 708.459C635.089 709.2 625.2 704.503 615.064 694.367C579.464 658.025 551.281 603.884 530.514 531.942C506.039 580.892 487.497 617.728 475.383 641.956C452.886 685.22 433.603 707.223 417.781 708.459C407.397 709.2 398.497 700.548 391.328 682.253C371.797 632.314 350.783 535.65 328.286 392.261C326.308 382.867 328.533 373.473 334.219 366.056Z",fill:"white"}),(0,st.jsx)("path",{d:"M915.936 425.939C903.08 402.947 880.83 386.63 854.872 381.686C847.949 380.203 841.027 379.461 834.105 379.461C797.516 379.461 767.602 398.497 744.363 436.569C724.585 468.955 714.202 506.286 714.697 544.111C714.697 573.53 720.877 598.747 732.991 619.761C745.847 642.753 768.097 659.069 794.055 664.014C800.977 665.497 807.899 666.239 814.822 666.239C851.658 666.239 881.572 647.203 904.563 609.13C924.341 576.497 934.724 539.167 934.23 500.847C934.23 471.428 928.049 446.458 915.936 425.939ZM867.727 531.997C862.536 556.967 852.894 575.755 838.555 588.611C827.43 598.747 817.047 602.703 807.652 600.972C798.258 599.241 790.841 590.836 785.155 576.25C780.952 565.125 778.48 553.505 778.48 541.391C778.48 531.997 779.469 522.603 781.199 513.455C784.908 497.139 791.583 481.811 801.472 467.966C814.08 449.425 827.43 441.514 841.274 444.48C850.669 446.458 858.085 454.616 863.772 469.203C867.974 480.328 870.447 491.947 870.447 503.814C870.447 513.208 869.705 522.603 867.727 531.997Z",fill:"white"}),(0,st.jsx)("path",{d:"M1155.24 425.939C1142.39 402.947 1120.14 386.63 1094.18 381.686C1087.26 380.203 1080.34 379.461 1073.41 379.461C1036.83 379.461 1006.91 398.497 983.672 436.569C963.895 468.955 953.511 506.286 954.006 544.111C954.006 573.53 960.186 598.747 972.3 619.761C985.156 642.753 1007.41 659.069 1033.36 664.014C1040.29 665.497 1047.21 666.239 1054.13 666.239C1090.97 666.239 1120.88 647.203 1143.87 609.13C1163.65 576.497 1174.03 539.167 1173.54 500.847C1173.54 471.428 1167.36 446.458 1155.24 425.939ZM1107.04 531.997C1101.84 556.967 1092.2 575.755 1077.86 588.611C1066.74 598.747 1056.36 602.703 1046.96 600.972C1037.57 599.242 1030.15 590.836 1024.46 576.25C1020.26 565.125 1017.79 553.505 1017.79 541.391C1017.79 531.997 1018.78 522.603 1020.51 513.455C1024.22 497.139 1030.89 481.811 1040.78 467.966C1053.39 449.425 1066.74 441.514 1080.58 444.48C1089.98 446.458 1097.39 454.616 1103.08 469.203C1107.28 480.328 1109.76 491.947 1109.76 503.814C1109.76 513.208 1109.01 522.603 1107.04 531.997Z",fill:"white"})]}))},Yb=function(e){return(0,st.jsxs)(nf.default,(0,kn.Z)((0,kn.Z)({style:{color:e.fontColor,backgroundColor:e.bgColor,marginLeft:"".concat(e.leftMargin,"px"),borderRadius:"".concat(e.borderRadius,"px"),lineHeight:"".concat(e.lineHeight,"px"),border:e.border,fontWeight:400}},e),{},{children:[Ei()(e.plan)," +"]}))};Yb.defaultProps={fontColor:"#898699",bgColor:"#f0f0f5",leftMargin:15,borderRadius:5,border:"none",lineHeight:20};var Gb=Yb,Qb=function(e){var t=mt.Z.Title,n=mt.Z.Paragraph;return(0,st.jsx)(gt.Z,{className:"pe-pro-modal",closable:!!e.closeable,closeIcon:(0,st.jsx)($c,{}),maskClosable:!1,onCancel:e.onClose,destroyOnClose:!0,visible:!0,footer:null,width:888,children:(0,st.jsx)("div",{className:"pe-pro-modal-content",children:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(t,{level:2,className:"pe-ta-center pe-mb-24 pe-fs-24 pe-fw-700 pe-lh-140",children:e.title}),(0,st.jsx)(n,{type:"secondary",className:"dark large pe-ta-center pe-mb-50 pe-fw-500 pe-mx-auto",style:{maxWidth:560},children:e.content}),(0,st.jsx)(pt.default,{type:"primary",size:"large",style:{height:45},className:"pe-ant-btn-green pe-fw-700 pe-fs-16  pe-mb-24 pe-d-block pe-mx-auto pe-px-56",onClick:function(){window.open(e.link,"_blank")},children:Ua("Show Plugin Details","pushengage")}),e.secondaryLink&&(0,st.jsx)(mt.Z.Link,{href:e.secondaryLink,target:"_blank",style:{textDecoration:"underline"},className:"pe-d-block pe-ta-center pe-mb-24 pe-fs-16 pe-fw-500",children:Ua("Watch How to Get Started","pushengage")})]})})})},Xb=mt.Z.Title,$b=mt.Z.Paragraph,Jb=function(){var e=bt(Vr),t=(0,vt.s0)(),n=(0,oe.useState)({title:"",content:"",link:"",secondaryLink:"",show:!1}),r=(0,xe.Z)(n,2),i=r[0],a=r[1],o=bt((function(e){return Xd(e.session.user)})),s=ep(bt((function(e){return e.session.user}))),l=(0,oe.useMemo)((function(){return[{key:"woocommerce",title:Ua("WooCommerce","pushengage"),description:Ua("Recover lost sales and boost revenue with intelligent Cart and Browse Abandonment automations. Re-engage customers who leave without completing their purchase by sending timely, personalized reminders that bring them back to your store.","pushengage"),icon:(0,st.jsx)(Kb,{}),settingsPath:$r.path.woocommerce.automation,canRender:Yo,isConnected:!0,isDisabled:!o,learnMoreLink:"/wp-admin/plugin-install.php?s=woocommerce&tab=search&type=term"}]}),[o]),c=(0,oe.useState)(!1),u=(0,xe.Z)(c,2),d=u[0],p=u[1];return(0,st.jsxs)(st.Fragment,{children:[d&&(0,st.jsx)(Yy,(0,kn.Z)({closeable:!0,onClose:function(){return p(!1)}},Sp.integrations.woocommerce)),i.show&&(0,st.jsx)(Qb,{title:i.title,closeable:!0,content:i.content,link:i.link,secondaryLink:i.secondaryLink,show:i.show,onClose:function(){return a((0,kn.Z)((0,kn.Z)({},i),{},{show:!1}))}}),(0,st.jsx)(ly,{activeKey:$r.path.settings.integrations,type:"settings"}),(0,st.jsxs)(iy,{pageClassName:"pe-integration-page",containerIdName:"pe-integration-page",children:[!e&&(0,st.jsx)(rg,{}),(0,st.jsxs)(ag,{cardIdName:"pe-integrations-card",cardHeader:Ua("Integrations","pushengage"),cardClassName:"pe-mb-20",children:[(0,st.jsx)($b,{type:"secondary",style:{maxWidth:964},children:Ua("Manage PushEngage integrations with third-party apps and services.","pushengage")}),(0,st.jsx)(Cu.Z,{}),(0,st.jsx)(dt.Z,{gutter:[16,16],children:l.map((function(e){var n=!1===e.canRender;return(0,st.jsx)(ht.Z,{xs:24,md:12,lg:8,children:(0,st.jsx)(Wc.Z,{className:"pe-integration-card ".concat(n?"is-inactive":""),children:(0,st.jsxs)("div",{className:"pe-integration-card__content",children:[(0,st.jsx)("div",{className:"pe-integration-card__header",children:(0,st.jsxs)("div",{className:"pe-integration-card__left",children:[(0,st.jsx)("div",{className:"pe-integration-card__icon",children:e.icon}),(0,st.jsxs)("div",{className:"pe-integration-card__meta",children:[(0,st.jsxs)(Xb,{level:4,className:"pe-integration-label pe-mb-0",children:[e.title,!s&&(0,st.jsx)(Gb,{plan:"growth",leftMargin:10})]}),function(){var t;return t=!1===e.canRender?(0,st.jsx)(nf.default,{className:"pe-badge",children:Ua("Not installed","pushengage")}):e.isConnected?(0,st.jsx)(nf.default,{className:"pe-badge pe-badge-green",icon:(0,st.jsx)(Pp,{className:"pe-fs-14"}),children:Ua("Connected","pushengage")}):(0,st.jsx)(nf.default,{className:"pe-badge",children:Ua("Not connected","pushengage")}),(0,st.jsx)("div",{className:"pe-integration-card__status",children:t})}()]})]})}),(0,st.jsx)("div",{className:"pe-integration-card__body",children:(0,st.jsx)($b,{className:"pe-integration-description",children:e.description})}),(0,st.jsx)("div",{className:"pe-integration-card__footer",style:{textAlign:"right",marginTop:"16px",paddingTop:"20px",borderTop:"1px solid #f0f0f0"},children:n?(0,st.jsx)(pt.default,{type:"primary",href:e.learnMoreLink,target:"_self",children:Ua("Install WooCommerce","pushengage")}):(0,st.jsx)(pt.default,{type:"primary",onClick:function(){return function(e){e.settingsPath&&t(e.settingsPath)}(e)},disabled:e.isDisabled&&s,children:Ua("Go to settings","pushengage")})})]})})},e.key)}))})]})]})]})},ex=mt.Z.Title,tx=function(){return(0,st.jsx)(dt.Z,{justify:"center",style:{marginTop:"64px"},children:(0,st.jsx)(ht.Z,{style:{maxWidth:"600px"},children:(0,st.jsxs)(Ju.default,{direction:"vertical",align:"center",size:"large",children:[(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/records-not-found.svg"),alt:"not found",style:{maxWidth:"300px",width:"90%"}}),(0,st.jsx)(ex,{level:3,className:"ta-center",children:Ua("Unfortunately, the page you are looking for has been moved or deleted.","pushengage")}),(0,st.jsx)(ot.OL,{to:$r.path.dashboard,children:(0,st.jsx)(pt.default,{type:"primary",children:Ua("Go To Dashboard","pushengage")})})]})})})};function nx(){return new URLSearchParams((0,vt.TH)().search)}var rx=mt.Z.Title,ix=mt.Z.Paragraph,ax=function(e){var t=e.isLoading,n=(0,oe.useState)(0),r=(0,xe.Z)(n,2),i=r[0],a=r[1],o=(0,oe.useState)(0),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=[{title:Ua("Setting up your account","pushengage"),description:Ua("This may take a few moments","pushengage")},{title:Ua("Configuring notification settings","pushengage"),description:Ua("This may take a few moments","pushengage")},{title:Ua("Finalizing installation","pushengage"),description:Ua("We are almost done!","pushengage")}];return(0,oe.useEffect)((function(){var e=setInterval((function(){a((function(n){if(n>=100&&!t)return clearInterval(e),f(!0),100;var r=Math.floor(n/25);return r!==l&&r<h.length&&c(r),n+1}))}),80);return function(){clearInterval(e)}}),[l,h.length,t]),(0,st.jsx)("div",{className:"pe-onboarding-setup-animation-container",children:(0,st.jsx)(Wc.Z,{className:"setup-loader-card",children:(0,st.jsxs)(Ju.default,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,st.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:p?(0,st.jsx)(Pp,{className:"pe-color-green",style:{fontSize:56}}):(0,st.jsx)(Hc.default,{size:"large"})}),(0,st.jsxs)("div",{className:"setup-progress",children:[(0,st.jsxs)("div",{className:"setup-steps-container pe-ta-center",children:[!p&&h.map((function(e,t){return(0,st.jsxs)(Ju.default,{direction:"vertical",size:"small",children:[(0,st.jsx)(rx,{level:3,className:"pe-fs-18 pe-fw-600 ".concat(l===t?"visible active":"hidden"),children:e.title}),(0,st.jsx)(ix,{className:"".concat(l===t?"visible active":"hidden"),type:"secondary",children:e.description})]},t)})),p&&(0,st.jsx)(rx,{level:3,className:"pe-fs-18 pe-fw-600",children:Ua("Setup completed successfully!","pushengage")})]}),(0,st.jsx)(Lb.default,{percent:i-5,status:p?"success":"active",strokeColor:{"0%":"#1890ff","100%":"#1890ff"},showInfo:!1})]})]})})})};function ox(e){return Lc.post("auth/send-otp",e)}var sx,lx,cx,ux=mt.Z.Title,dx=mt.Z.Paragraph,px=mt.Z.Text,fx=function(e){var t=e.onComplete,n=nx(),r=(0,oe.useState)({onboardingType:"signin",isLoading:!1}),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=Gc.baseDashboardAppUrl,l=My(n),c=Iy(n),u=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a,o,s,l,c,u,d,p,f,h,g;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apiKey,r=t.siteId,i=t.siteSubdomain,e.prev=1,e.next=4,gs({apiKey:n,siteId:r,options:{params:{name:"service_worker,optin_settings"}}});case 4:return l=e.sent,c=null===l||void 0===l||null===(a=l.data)||void 0===a||null===(o=a.service_worker)||void 0===o?void 0:o.worker,e.next=8,zo(c);case 8:if(!e.sent){e.next=13;break}return e.next=12,ul({service_worker_error:0});case 12:return e.abrupt("return");case 13:return u=null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.optin_settings,d=new URL(window.pushengage.pluginUrl),p="".concat(d.pathname,"packages/service-worker.js"),f="".concat(d.pathname,"packages/service-worker.js.php?domain=").concat(i),h={service_worker:{worker:p,workerStatus:!0,scope:!1}},g=0,e.next=21,zo(p);case 21:if(!e.sent){e.next=28;break}return g=1,e.next=26,ul({service_worker_error:0});case 26:e.next=37;break;case 28:return e.next=30,zo(f);case 30:if(!e.sent){e.next=35;break}return g=1,e.next=35,ul({service_worker_error:0});case 35:h.service_worker.worker=f,h.service_worker.scope=!0;case 37:return Wi()(u)||(u=Ko({optinSettings:u,isSwSupport:g}),h.optin_settings=u),e.next=40,ms({apiKey:n,siteId:r,data:h});case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(1),ie.default.error({message:Ua("An error was encountered while connecting your account, please try again.","pushengage"),description:"sw_update_error"});case 45:case"end":return e.stop()}}),e,null,[[1,42]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(n,r,i,a,s,l,c){var d,p,f,h,g,m,v,y,b;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({onboardingType:l,isLoading:!0}),localStorage.removeItem(ni.onboarding),localStorage.removeItem(ni.onboardingTasksCloseCount),localStorage.removeItem(ni.connectionRequestId),e.prev=4,d={siteId:n,apiKey:r,ownerId:i,siteKey:a,siteSubdomain:s,action:rl.UPDATE_ONBOARDING_DATA},e.next=8,il(d);case 8:return e.prev=8,e.next=11,Wv({site_id:n,status:"connected",connected_at:(new Date).toISOString()});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(8);case 15:return e.next=17,u({apiKey:r,siteId:n,siteSubdomain:s});case 17:return e.next=19,t(l,c,{apiKey:r,siteId:n,ownerId:i,siteKey:a});case 19:e.next=26;break;case 21:e.prev=21,e.t1=e.catch(4),y=null===e.t1||void 0===e.t1||null===(p=e.t1.response)||void 0===p||null===(f=p.data)||void 0===f||null===(h=f.data)||void 0===h?void 0:h.code,b=null===e.t1||void 0===e.t1||null===(g=e.t1.response)||void 0===g||null===(m=g.data)||void 0===m||null===(v=m.data)||void 0===v?void 0:v.message,ie.default.error({message:b||Ua("An error was encountered while connecting your account, please try again.","pushengage"),description:y?ba(Ua("Error code: %1s","pushengage"),y):""});case 26:o({onboardingType:"",isLoading:!1});case 27:case"end":return e.stop()}}),e,null,[[4,21],[8,13]])})));return function(t,n,r,i,a,o,s){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){var e=n.get("action"),t=n.get("auth_token"),r=n.get("request_id");function i(e){return a.apply(this,arguments)}function a(){return(a=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(null===s||void 0===s?void 0:s.indexOf(t.origin))){e.next=2;break}return e.abrupt("return");case 2:if(n=t.data,r=n.action,["wp_register","wp_connect"].includes(r)){e.next=6;break}return e.abrupt("return");case 6:return a="","signin"===(i="wp_register"===r?"signup":"signin")&&(a=n.sign_in_type),e.next=11,d(n.site_id,n.api_key,n.owner_id,n.site_key,n.site_subdomain,i,a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(window.addEventListener("message",i),e&&!t)&&gc("signup"===e?c:l);return(0,at.Z)((0,it.Z)().mark((function e(){var i,a,s,l,c,u,p,f,h,g;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=localStorage.getItem(ni.connectionRequestId)){e.next=3;break}return e.abrupt("return");case 3:if(r&&t){e.next=5;break}return e.abrupt("return");case 5:if(i===r){e.next=7;break}return e.abrupt("return");case 7:return a=n.get("action"),s=n.get("sign_in_type")||"",e.prev=9,o({onboardingType:a,isLoading:!0}),e.next=13,m=t,Lc.post("auth/wp/verify-auth-code",{auth_code:m});case 13:return l=e.sent,c=l.data,u=c.siteId,p=c.ownerId,f=c.siteKey,h=c.siteSubdomain,g=c.apiKey,e.next=18,d(u,g,p,f,h,a,s);case 18:o({onboardingType:a,isLoading:!1}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),ie.default.error({message:Ua("An error was encountered while connecting your account, please try again.","pushengage")});case 24:case"end":return e.stop()}var m}),e,null,[[9,21]])})))(),function(){window.removeEventListener("message",i)}}),[]);var p=("signup"===a.onboardingType||"signin"===a.onboardingType)&&a.isLoading;return(0,st.jsxs)(st.Fragment,{children:[p?(0,st.jsx)(ax,{isLoading:p}):(0,st.jsx)("div",{className:"pe-onboarding-card",children:(0,st.jsxs)("div",{className:"pe-onboarding-card-content pe-ta-center",children:[(0,st.jsx)(ux,{className:"step-title pe-mb-20",children:Ua("Welcome to PushEngage Setup Wizard!","pushengage")}),(0,st.jsx)(dx,{type:"secondary",className:"large",children:Ua("Let\u2019s get you set up.","pushengage")}),(0,st.jsxs)("div",{className:"pe-onboarding-action-buttons",children:[(0,st.jsx)(pt.default,{type:"primary",size:"large",block:!0,className:"pe-mb-16",style:{height:62},loading:p,disabled:a.isLoading,onClick:function(){return gc(c)},children:Ua("Claim Your Free Account","pushengage")}),(0,st.jsx)(pt.default,{size:"large",block:!0,style:{height:62},onClick:function(){return gc(l)},loading:p,disabled:a.isLoading,children:Ua("Connect Your Existing Account","pushengage")})]})]})}),(0,st.jsx)("div",{className:"pe-ta-center",children:(0,st.jsx)(ot.OL,{to:"/",children:(0,st.jsxs)(px,{type:"secondary",className:"small",children:["\u2190 ",Ua("Go back to the dashboard","pushengage")]})})}),(0,st.jsx)("div",{className:"pe-ta-center pe-mt-20",children:(0,st.jsx)("div",{className:"pe-ta-center pushengage-rating-badges",children:(0,st.jsxs)("ul",{className:"badges-list",children:[(0,st.jsx)("li",{children:(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/wpbeginner-verified.svg"),style:{paddingRight:"15px",maxWidth:"180px"},alt:"WP Beginner"})}),(0,st.jsxs)("li",{children:[(0,st.jsxs)("div",{className:"holder",children:[(0,st.jsx)("img",{width:"28",height:"28",src:"".concat(window.pushengage.assetsUrl,"img/wordpress-logo.svg"),alt:"WordPress"}),(0,st.jsxs)("div",{className:"text rating-stars",children:[(0,st.jsx)(ym,{rating:4.2}),(0,st.jsx)("span",{children:"Reviews"})]})]}),(0,st.jsx)("div",{className:"right-holder",children:(0,st.jsx)("strong",{className:"mark",children:"4.2"})})]}),(0,st.jsx)("li",{style:{color:"#ffffff",backgroundColor:"#0353a3",padding:"14px 10px"},children:(0,st.jsxs)("div",{className:"holder",style:{justifyContent:"space-evenly"},children:[(0,st.jsx)(Pp,{className:"pe-fs-24"}),(0,st.jsxs)("div",{className:"text",children:[(0,st.jsx)("span",{className:"pe-d-block pe-fs-14 pe-fw-700",children:"GDPR"}),(0,st.jsx)("span",{children:"Compliant"})]}),(0,st.jsx)("div",{className:"right-holder",children:(0,st.jsx)(gm,{className:"pe-fs-24"})})]})}),(0,st.jsx)("li",{style:{color:"#ffffff",backgroundColor:"#e07d25",padding:"14px 10px"},children:(0,st.jsxs)("div",{className:"holder",style:{justifyContent:"space-evenly"},children:[(0,st.jsx)(Pp,{className:"pe-fs-24"}),(0,st.jsxs)("div",{className:"text",children:[(0,st.jsx)("span",{className:"pe-d-block pe-fs-14 pe-fw-700",children:"CCPA"}),(0,st.jsx)("span",{children:"Compliant"})]}),(0,st.jsx)("div",{className:"right-holder",children:(0,st.jsx)(vm,{className:"pe-fs-24"})})]})})]})})})]})},hx=function(e){var t=e.total,n=e.current,r=e.iterator;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"".concat(r<n?"pe-ant-step-active":"pe-ant-step-inactive"," pe-ant-step-container"),children:(0,st.jsx)("div",{className:"pe-ant-step"})}),t-1>r?(0,st.jsx)("div",{className:"pe-ant-step-divider".concat(n-1>r?" pe-ant-step-divider-active":"")}):null]})},gx=function(e){var t=e.total,n=e.current;return(0,st.jsx)("div",{className:"my-40 pe-onboarding-steps",children:(0,st.jsx)("div",{className:"pe-ant-steps-container",children:Array.from(Array(t),(function(e,r){return(0,st.jsx)(hx,{iterator:r,current:n,total:t},r)}))})})},mx=mt.Z.Text,vx=mt.Z.Title,yx=mt.Z.Paragraph,bx=function(e){var t=e.onCancelWizard,n=e.onClickNext,r=e.current,i=e.total,a=e.recommendedFeatures,o=e.setSelectedFeatures,s=(0,oe.useState)([]),l=(0,xe.Z)(s,2),c=l[0],u=l[1];(0,oe.useEffect)((function(){u(a)}),[a]);var d=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(c),n(1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"pe-onboarding-card",children:[(0,st.jsxs)("div",{className:"pe-onboarding-card-content small",children:[(0,st.jsxs)(mx,{type:"secondary",className:"pe-fs-13",children:["Step ",r," of ",i]}),(0,st.jsx)(vx,{className:"step-title",children:"Recommended Features"}),(0,st.jsx)(yx,{type:"secondary",className:"pe-fs-16 pe-lh-24",children:"We recommend enabling the following features:"}),(0,st.jsx)("div",{className:"mt-28",children:(0,st.jsx)(Kc.default,{className:"pe-recommended-features-container",dataSource:a,renderItem:function(e){return(0,st.jsxs)(Kc.default.Item,{children:[(0,st.jsx)(Kc.default.Item.Meta,{title:e.title,description:e.excerpt}),(0,st.jsx)("div",{children:(0,st.jsx)(Vy.default,{checked:!!c.find((function(t){return t.slug===e.slug})),className:"pe-ant-checkbox-circle pe-ant-checkbox-primary",onChange:function(t){return function(e,t){if(e)u([].concat((0,we.Z)(c),[t]));else{var n=c.filter((function(e){return e.slug!==t.slug}));u(n)}}(t.target.checked,e)}})})]},e.slug)}})})]}),(0,st.jsx)("div",{className:"pe-onboarding-footer pe-justify-right",children:(0,st.jsx)(pt.default,{type:"primary",size:"large",style:{height:48},className:"pe-px-54 pe-fs-21",onClick:d,children:"Next"})})]}),(0,st.jsx)(yx,{type:"secondary",className:"pe-my-40 pe-ta-center",children:c.length?"The following plugins and addons will be installed: ".concat(c.length?c.map((function(e){return e.title})).join(", "):null,"."):null}),(0,st.jsx)("div",{className:"pe-ta-center",children:(0,st.jsx)(pt.default,{className:"pe-btn-plain",onClick:t,children:"Close and Exit Wizard without Saving"})})]})},xx=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 10 11",fill:"currentColor",focusable:"false","data-icon":"pe-bell-Filled","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M5 10.625C5.68359 10.625 6.23047 10.0781 6.23047 9.375H3.75C3.75 10.0781 4.29687 10.625 5 10.625ZM9.19922 7.71484C8.82812 7.30469 8.10547 6.69922 8.10547 4.6875C8.10547 3.18359 7.05078 1.97266 5.60547 1.66016V1.25C5.60547 0.917969 5.33203 0.625 5 0.625C4.64844 0.625 4.375 0.917969 4.375 1.25V1.66016C2.92969 1.97266 1.875 3.18359 1.875 4.6875C1.875 6.69922 1.15234 7.30469 0.781249 7.71484C0.664062 7.83203 0.605468 7.98828 0.624999 8.125C0.624999 8.45703 0.859374 8.75 1.25 8.75H8.73047C9.12109 8.75 9.35547 8.45703 9.375 8.125C9.375 7.98828 9.31641 7.83203 9.19922 7.71484Z"})}))},wx=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:xx},e))},kx=mt.Z.Title,_x=mt.Z.Text,Cx=function(e){var t=bt(Hr),n=e.utmMedium||"UpgradeBanner",r=e.utmContent||Ua("Upgrade Your Plan","pushengage"),i="".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:t,drawer:!0,planType:e.planType||ii.GROWTH,utm_medium:n,utm_content:r,feature:e.name||e.title,ref:"upgrade_banner"})),a="".concat(e.featureLink||"https://pushengage.com/wordpress-pricing/").concat(Qc({utm_medium:n,utm_content:Ua("Learn more about these features","pushengage"),feature:e.name||e.title})),o=[{label:Ua("Web Push","pushengage"),icon:(0,st.jsx)(wx,{})},{label:Ua("WhatsApp","pushengage"),icon:(0,st.jsx)(xv,{})},{label:Ua("Multi Chat","pushengage"),icon:(0,st.jsx)(hg,{})},{label:Ua("Cart Recovery","pushengage"),icon:(0,st.jsx)(dc,{})}],s={price:"$49",period:"/ year",originalPrice:"$76",offerTag:Ua("Intro Offer","pushengage"),features:[Ua("Automated Push + WhatsApp","pushengage"),Ua("Multi-Channel Chat (Multi-Agent)","pushengage"),Ua("AI Copy Generator","pushengage"),Ua("Advanced Segmentation","pushengage"),Ua("A/B Testing","pushengage"),Ua("Priority Support","pushengage")]},l=e.featureTags||o,c=e.pricingCard||s,u=e.title||Ua("Unlock Multi-Channel","pushengage"),d=e.titleHighlight,p=e.description||Ua("Upgrade to access advanced Web Push tools, WhatsApp automation, predefined campaigns, auto-push from your editor, A/B testing, and multi-agent chat.","pushengage"),f=e.btnLabel||Ua("Upgrade Now","pushengage"),h=e.viewFeaturesLabel||Ua("View All Features","pushengage");return(0,st.jsx)(Wc.Z,{className:"pe-upgrade-banner ".concat(e.className||""),bordered:!0,bodyStyle:{padding:"16px 24px"},children:(0,st.jsxs)(dt.Z,{gutter:[24,16],align:"middle",children:[(0,st.jsx)(ht.Z,{xs:24,md:16,children:(0,st.jsxs)("div",{className:"pe-upgrade-banner-content",children:[(0,st.jsxs)(kx,{level:4,className:"pe-upgrade-banner-title pe-mt-0 pe-mb-4 pe-fs-20",children:[u," ",d&&(0,st.jsx)("span",{className:"pe-upgrade-banner-title-highlight",children:d})]}),(0,st.jsx)(_x,{type:"secondary",className:"pe-d-block pe-mb-12 pe-fs-13 pe-upgrade-banner-description",style:{maxWidth:"95%"},children:p}),l.length>0&&(0,st.jsx)("div",{className:"pe-upgrade-banner-tags",children:(0,st.jsx)(Ju.default,{size:[6,6],wrap:!0,children:l.map((function(e,t){return(0,st.jsx)(nf.default,{icon:e.icon,className:"pe-upgrade-banner-tag pe-fs-12 pe-mb-0 pe-mr-4 pe-bg-neutral-5",children:e.label},t)}))})}),(0,st.jsxs)(Ju.default,{size:"small",className:"pe-upgrade-banner-actions",children:[(0,st.jsx)(pt.default,{type:"primary",size:"small",className:"pe-fw-600 pe-px-16 pe-h-32",onClick:function(){window.open(i,"_blank")},children:f}),(0,st.jsxs)(pt.default,{type:"link",size:"small",className:"pe-upgrade-banner-feature-link",onClick:function(){window.open(a,"_blank")},children:[h," ",(0,st.jsx)(kh,{})]})]})]})}),(0,st.jsx)(ht.Z,{xs:24,md:8,children:(0,st.jsxs)("div",{className:"pe-upgrade-banner-pricing-card",children:[(0,st.jsxs)("div",{className:"pe-upgrade-banner-pricing-header",children:[(0,st.jsxs)("div",{className:"pe-upgrade-banner-pricing-amount",children:[(0,st.jsx)(_x,{strong:!0,className:"pe-upgrade-banner-price pe-fs-20 pe-color-neutral-90",children:c.price}),c.period&&(0,st.jsx)(_x,{type:"secondary",className:"pe-upgrade-banner-period pe-fs-11",children:c.period}),c.originalPrice&&(0,st.jsx)(_x,{delete:!0,type:"secondary",className:"pe-upgrade-banner-original-price pe-fs-11",children:c.originalPrice})]}),c.offerTag&&(0,st.jsx)(nf.default,{color:"success",className:"pe-upgrade-banner-offer-tag pe-fs-10 pe-fw-600 pe-mb-0 pe-mr-4",children:c.offerTag})]}),(0,st.jsx)(Kc.default,{split:!1,size:"small",dataSource:c.features,renderItem:function(e){return(0,st.jsx)(Kc.default.Item,{className:"pe-upgrade-banner-feature-item",children:(0,st.jsxs)("div",{className:"pe-upgrade-banner-feature-item-content",children:[(0,st.jsx)(Wf,{className:"pe-upgrade-banner-feature-check pe-color-primary pe-fs-10 pe-mt-4"}),(0,st.jsx)(_x,{className:"pe-upgrade-banner-feature-text pe-fs-13 pe-fw-500 pe-color-neutral-50 pe-lh-1-3",children:e})]})})}})]})})]})})},jx=mt.Z.Title,Sx=mt.Z.Text,Zx=mt.Z.Paragraph,Nx=function(e){var t=e.onCancelWizard,n=e.onClickPrev,r=e.onClickNext,i=e.current,a=e.total,o=bt((function(e){return e.session.user}));return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"pe-onboarding-card",children:[(0,st.jsxs)("div",{className:"pe-mx-24 pe-my-36 small",children:[(0,st.jsxs)(Sx,{type:"secondary",className:"pe-fs-13",children:["Step ",i," of ",a]}),(0,st.jsx)(jx,{className:"step-title",children:"Upgrade Your Account"}),(0,st.jsx)(Zx,{type:"secondary",className:"pe-fs-16",children:Ua("PushEngage helps you grow your business much faster. Unlock unlimited campaigns, the best converting templates, and a host of advanced features for just $41 per year. Start growing and automating your campaigns more quickly by upgrading to the Business Plan","pushengage")}),(0,st.jsx)(Cx,{planType:ii.BUSINESS,titleHighlight:"Power",utmMedium:"OnboardingUpgradeAccount",utmContent:"Upgrade to Unlock Unlimited Campaigns",className:"pe-mb-20"}),(0,st.jsx)("div",{className:"pe-mt-24 pe-ta-center",children:(0,st.jsxs)(pt.default,{className:"pe-btn-plain",onClick:r,children:[Ua("Skip this Step and Continue with PushEngage","pushengage"),Ed(o)?" Lite (free version) \u2192":""]})})]}),3===i&&(0,st.jsx)("div",{className:"pe-onboarding-footer",children:(0,st.jsxs)(pt.default,{className:"pe-btn-plain",onClick:n,children:["\u2190 \xa0 ",(0,st.jsx)("span",{className:"pe-btn-txt-underline",children:Ua("Go back","pushengage")})]})})]}),(0,st.jsx)("div",{className:"pe-ta-center",children:(0,st.jsx)(pt.default,{className:"pe-btn-plain",onClick:t,children:Ua("Close and Exit Wizard without Saving","pushengage")})})]})},Ex=function(){var e=(0,oe.useState)(!1),t=(0,xe.Z)(e,2),n=t[0],r=t[1],i=(0,oe.useState)({active_caching_plugin:null}),a=(0,xe.Z)(i,2),o=a[0],s=a[1];return(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,il({action:rl.VERIFY_INSTALLATION});case 4:(t=e.sent).data&&s(t.data),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:r(!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}),[]),{loading:n,verificationInfo:o}},Ox=mt.Z.Text,Ax=mt.Z.Title,Tx=mt.Z.Paragraph,Px=null!==(sx=null===(lx=window)||void 0===lx||null===(cx=lx.pushengage)||void 0===cx?void 0:cx.isPEWooCommerceConnected)&&void 0!==sx&&sx,Mx=function(e){var t=e.total,n=e.current,r=e.selectedFeatures,i=(0,vt.s0)(),a=bt(Yr),o=(0,oe.useState)(!!r.length),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=Ex(),d=u.verificationInfo,p=u.loading,f=(0,oe.useState)(1),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useRef)();(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.length){e.next=10;break}return c(!0),e.prev=2,e.next=5,il({action:rl.INSTALL_RECOMMENDED_PLUGIN,features:r.map((function(e){return{slug:e.slug}}))});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:c(!1);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))()}),[r]),(0,oe.useEffect)((function(){return clearInterval(v.current),(r.length||p)&&(v.current=setInterval((function(){l||p?m((function(e){var t=1;return e>=98?t=0:e>=90?t=.25:e>=80&&(t=.5),e+t})):(m(100),clearInterval(v.current))}),500)),function(){clearInterval(v.current)}}),[l,r,p]);var y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wv({data:{onboarding:{completed_at:(new Date).toISOString(),channels:null===(n=fc())||void 0===n?void 0:n.channels}}});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:localStorage.removeItem(ni.onboarding),i(t);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)("div",{className:"pe-onboarding-card",children:[(0,st.jsxs)("div",{className:"pe-onboarding-card-content small pe-pb-40",children:[(0,st.jsxs)(Ox,{type:"secondary",className:"pe-fs-13",children:["Step ",n," of ",t]}),l||p?(0,st.jsxs)(st.Fragment,{children:[l?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Ax,{className:"step-title",children:Ua("Installing Recommended Features","pushengage")}),(0,st.jsxs)(Tx,{type:"secondary",children:[Ua("The following plugins are being installed","pushengage"),":"," ",r.map((function(e){return e.title})).join(", ")]})]}):(0,st.jsx)(Ax,{className:"step-title",children:Ua("Verifying Plugin Installation","pushengage")}),(0,st.jsx)("div",{style:{marginBottom:100},children:(0,st.jsx)(Lb.default,{percent:g,status:"active",showInfo:!1,strokeLinecap:"butt",strokeColor:"#4b59d0",strokeWidth:16})})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Ax,{className:"step-title",children:[Ua(Yo?"Congratulations! Your setup is done.":"Congratulations!","pushengage")," ",(0,st.jsx)("br",{})," ",!Yo&&Ua("Your Site is Ready for Better Conversions","pushengage")]}),Yo&&!Px&&(0,st.jsx)(Tx,{type:"secondary",children:Ua("Connect your WooCommerce store to enable cart and browse abandonment campaigns, and start boosting your sales effortlessly.","pushengage")}),(0,st.jsxs)("div",{className:"pe-mt-20",children:[(0,st.jsx)(cd,{}),d.active_caching_plugin&&(0,st.jsx)(Au.default,{type:"info",className:"pe-mb-20",message:(0,st.jsx)(Ox,{type:"secondary",children:Ua("Your site is currently using a caching plugin. To ensure that the push notification permission prompt is displayed correctly to visitors on existing posts and pages of your site, please clear the cache.","pushengage")})}),!a&&(0,st.jsx)(Au.default,{type:"warning",message:Ua("Please verify your email address.","pushengage"),description:(0,st.jsx)(Ox,{type:"secondary",children:Ua("Activate your account by verifying your email address. Please click the link in the verification email we have sent you.","pushengage")})})]})]})]}),!l&&!p&&(0,st.jsxs)("div",{className:"pe-onboarding-footer",style:{flexDirection:Yo?"column":"row"},children:[(0,st.jsx)(dt.Z,{style:{width:"100%",gap:"16px 24px"},children:Yo&&!Px?(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(ht.Z,{className:"pe-ta-center",flex:"1 1 auto",children:(0,st.jsx)(pt.default,{type:"primary",block:!0,size:"large",className:"pe-fs-16",style:{maxWidth:"500px",height:48},onClick:function(){return y($r.path.settings.integrations)},children:Ua("Connect Store","pushengage")})})}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ht.Z,{flex:"1 1 auto",children:(0,st.jsx)(pt.default,{type:"primary",block:!0,size:"large",className:"pe-fs-16",style:{height:48},onClick:function(){return y($r.path.campaigns.createNotification)},children:Ua("Create a Campaign","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"1 1 auto",children:(0,st.jsx)(pt.default,{block:!0,size:"large",className:"pe-fs-16",style:{height:48},onClick:function(){return y($r.path.settings.autoPush)},children:Ua("Auto Push Settings","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"1 1 auto",children:(0,st.jsx)(pt.default,{block:!0,size:"large",className:"pe-fs-16",style:{height:48},onClick:function(){return y($r.path.dashboard)},children:Ua("PushEngage Dashboard","pushengage")})})]})}),Yo&&(0,st.jsx)(dt.Z,{className:"pe-ta-center",style:{width:"100%",gap:"16px 24px"},children:(0,st.jsx)(ht.Z,{flex:"1 1 auto",children:(0,st.jsx)(pt.default,{className:"pe-btn-plain",onClick:function(){return y($r.path.dashboard)},children:Ua("Skip to Dashboard","pushengage")})})})]})]})};function Ix(){return Dx.apply(this,arguments)}function Dx(){return(Dx=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,s,l,c,u;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,n=null,i=Oc.getState().session,e.prev=3,n=(null===i||void 0===i?void 0:i.apiKey)||window.pushengage.apiKey,r=(null===i||void 0===i?void 0:i.currentSite)||window.pushengage.siteId,!n||!r){e.next=13;break}return e.next=9,Oc.dispatch(es({siteId:r})).unwrap();case 9:a=e.sent,o=a.user,t=o,Oc.dispatch(vs({siteId:r,options:{name:"service_worker,utm_settings"}}));case 13:if(t)try{Ed(t)||(null===(c=document.querySelector("li.pe-upgrade-to-pro-submenu"))||void 0===c||c.remove(),null===(u=document.querySelector("li.pe-admin-bar-upgrade-option"))||void 0===u||u.remove()),null===(s=document.querySelector("span.pe-nav-menu-awaiting-mod"))||void 0===s||s.remove(),null===(l=document.querySelector("span.pe-admin-bar-menu-awaiting-mod"))||void 0===l||l.remove()}catch(d){}if(n&&t&&r){e.next=16;break}throw new Error;case 16:return e.next=18,Oc.dispatch(Fr({apiKey:n,user:t,currentSite:r}));case 18:return e.abrupt("return",t);case 21:e.prev=21,e.t0=e.catch(3),Oc.dispatch({type:"RESET_INITIAL_STATE"});case 24:case"end":return e.stop()}}),e,null,[[3,21]])})))).apply(this,arguments)}n(9999);var Lx=n(77682),Rx=n(16),Bx=n.n(Rx),Fx=function(e){var t=e.value,n=e.onChange,r=e.placeholder,i=e.addonToolbar,a=[[{color:[]},{background:[]}],["bold","italic","underline","strike"],[{size:["small",!1,"large"]}],["clean"]];return i&&i.length>0&&a.push.apply(a,(0,we.Z)(i)),(0,st.jsx)(Bx(),{theme:"bubble",value:t||"",modules:{toolbar:a},onChange:n,placeholder:r,className:"pe-inline-rich-text-editor"})};Fx.defaultProps={value:"",placeholder:"",addonToolbar:[],onChange:void 0};var zx=Fx,Vx=n(29584),Ux=function(e,t,n,r,i){var a=i.clientWidth,o=i.clientHeight,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var d=void 0;if(d=u<0?0:u>o?1:Math.round(100*u/o)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var p=void 0;if(r!==(p=c<0?0:c>a?1:Math.round(100*c/a)/100))return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null},Hx={},Wx=function(e,t,n,r){var i=e+"-"+t+"-"+n+(r?"-server":"");if(Hx[i])return Hx[i];var a=function(e,t,n,r){if("undefined"===typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var a=i.getContext("2d");return a?(a.fillStyle=e,a.fillRect(0,0,i.width,i.height),a.fillStyle=t,a.fillRect(0,0,n,n),a.translate(n,n),a.fillRect(0,0,n,n),i.toDataURL()):null}(e,t,n,r);return Hx[i]=a,a},qx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx=function(e){var t=e.white,n=e.grey,r=e.size,i=e.renderers,a=e.borderRadius,o=e.boxShadow,s=e.children,l=(0,Vx.ZP)({default:{grid:{borderRadius:a,boxShadow:o,absolute:"0px 0px 0px 0px",background:"url("+Wx(t,n,r,i.canvas)+") center left"}}});return(0,oe.isValidElement)(s)?oe.cloneElement(s,qx({},s.props,{style:qx({},s.props.style,l.grid)})):oe.createElement("div",{style:l.grid})};Kx.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Yx=Kx,Gx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Xx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Jx=function(e){function t(){var e,n,r;Xx(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=$x(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleChange=function(e){var t=Ux(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},$x(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Qx(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,Vx.ZP)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:Gx({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return oe.createElement("div",{style:n.alpha},oe.createElement("div",{style:n.checkboard},oe.createElement(Yx,{renderers:this.props.renderers})),oe.createElement("div",{style:n.gradient}),oe.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("div",{style:n.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:n.slider}))))}}]),t}(oe.PureComponent||oe.Component),ew=Jx,tw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var nw=[38,40],rw=1,iw=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,nw.indexOf(t)>-1)){var i=n.getArrowOffset(),a=38===e.keyCode?r+i:r-i;n.setUpdatedValue(a,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+rw++,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),tw(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,Vx.ZP)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return oe.createElement("div",{style:t.wrap},oe.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?oe.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(oe.PureComponent||oe.Component),aw=iw,ow=function(e,t,n,r){var i=r.clientWidth,a=r.clientHeight,o="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=o-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u=void 0;if(c<0)u=359;else if(c>a)u=0;else{u=360*(-100*c/a+100)/100}if(n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var d=void 0;if(l<0)d=0;else if(l>i)d=359;else{d=360*(100*l/i)/100}if(n.h!==d)return{h:d,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},sw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function lw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var uw=function(e){function t(){var e,n,r;lw(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=cw(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleChange=function(e){var t=ow(e,r.props.direction,r.props.hsl,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},cw(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),sw(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,Vx.ZP)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return oe.createElement("div",{style:r.hue},oe.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),oe.createElement("div",{style:r.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:r.slider}))))}}]),t}(oe.PureComponent||oe.Component),dw=uw,pw=n(75192),fw=n.n(pw);var hw=function(){this.__data__=[],this.size=0};var gw=function(e,t){return e===t||e!==e&&t!==t};var mw=function(e,t){for(var n=e.length;n--;)if(gw(e[n][0],t))return n;return-1},vw=Array.prototype.splice;var yw=function(e){var t=this.__data__,n=mw(t,e);return!(n<0)&&(n==t.length-1?t.pop():vw.call(t,n,1),--this.size,!0)};var bw=function(e){var t=this.__data__,n=mw(t,e);return n<0?void 0:t[n][1]};var xw=function(e){return mw(this.__data__,e)>-1};var ww=function(e,t){var n=this.__data__,r=mw(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function kw(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kw.prototype.clear=hw,kw.prototype.delete=yw,kw.prototype.get=bw,kw.prototype.has=xw,kw.prototype.set=ww;var _w=kw;var Cw=function(){this.__data__=new _w,this.size=0};var jw=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Sw=function(e){return this.__data__.get(e)};var Zw=function(e){return this.__data__.has(e)},Nw="object"==typeof global&&global&&global.Object===Object&&global,Ew="object"==typeof self&&self&&self.Object===Object&&self,Ow=Nw||Ew||Function("return this")(),Aw=Ow.Symbol,Tw=Object.prototype,Pw=Tw.hasOwnProperty,Mw=Tw.toString,Iw=Aw?Aw.toStringTag:void 0;var Dw=function(e){var t=Pw.call(e,Iw),n=e[Iw];try{e[Iw]=void 0;var r=!0}catch(a){}var i=Mw.call(e);return r&&(t?e[Iw]=n:delete e[Iw]),i},Lw=Object.prototype.toString;var Rw=function(e){return Lw.call(e)},Bw=Aw?Aw.toStringTag:void 0;var Fw=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Bw&&Bw in Object(e)?Dw(e):Rw(e)};var zw=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Vw=function(e){if(!zw(e))return!1;var t=Fw(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Uw=Ow["__core-js_shared__"],Hw=function(){var e=/[^.]+$/.exec(Uw&&Uw.keys&&Uw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var Ww=function(e){return!!Hw&&Hw in e},qw=Function.prototype.toString;var Kw=function(e){if(null!=e){try{return qw.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Yw=/^\[object .+?Constructor\]$/,Gw=Function.prototype,Qw=Object.prototype,Xw=Gw.toString,$w=Qw.hasOwnProperty,Jw=RegExp("^"+Xw.call($w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ek=function(e){return!(!zw(e)||Ww(e))&&(Vw(e)?Jw:Yw).test(Kw(e))};var tk=function(e,t){return null==e?void 0:e[t]};var nk=function(e,t){var n=tk(e,t);return ek(n)?n:void 0},rk=nk(Ow,"Map"),ik=nk(Object,"create");var ak=function(){this.__data__=ik?ik(null):{},this.size=0};var ok=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},sk=Object.prototype.hasOwnProperty;var lk=function(e){var t=this.__data__;if(ik){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return sk.call(t,e)?t[e]:void 0},ck=Object.prototype.hasOwnProperty;var uk=function(e){var t=this.__data__;return ik?void 0!==t[e]:ck.call(t,e)};var dk=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ik&&void 0===t?"__lodash_hash_undefined__":t,this};function pk(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pk.prototype.clear=ak,pk.prototype.delete=ok,pk.prototype.get=lk,pk.prototype.has=uk,pk.prototype.set=dk;var fk=pk;var hk=function(){this.size=0,this.__data__={hash:new fk,map:new(rk||_w),string:new fk}};var gk=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var mk=function(e,t){var n=e.__data__;return gk(t)?n["string"==typeof t?"string":"hash"]:n.map};var vk=function(e){var t=mk(this,e).delete(e);return this.size-=t?1:0,t};var yk=function(e){return mk(this,e).get(e)};var bk=function(e){return mk(this,e).has(e)};var xk=function(e,t){var n=mk(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function wk(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wk.prototype.clear=hk,wk.prototype.delete=vk,wk.prototype.get=yk,wk.prototype.has=bk,wk.prototype.set=xk;var kk=wk;var _k=function(e,t){var n=this.__data__;if(n instanceof _w){var r=n.__data__;if(!rk||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new kk(r)}return n.set(e,t),this.size=n.size,this};function Ck(e){var t=this.__data__=new _w(e);this.size=t.size}Ck.prototype.clear=Cw,Ck.prototype.delete=jw,Ck.prototype.get=Sw,Ck.prototype.has=Zw,Ck.prototype.set=_k;var jk=Ck,Sk=function(){try{var e=nk(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Zk=function(e,t,n){"__proto__"==t&&Sk?Sk(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Nk=function(e,t,n){(void 0!==n&&!gw(e[t],n)||void 0===n&&!(t in e))&&Zk(e,t,n)};var Ek=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}(),Ok="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ak=Ok&&"object"==typeof module&&module&&!module.nodeType&&module,Tk=Ak&&Ak.exports===Ok?Ow.Buffer:void 0,Pk=Tk?Tk.allocUnsafe:void 0;var Mk=function(e,t){if(t)return e.slice();var n=e.length,r=Pk?Pk(n):new e.constructor(n);return e.copy(r),r},Ik=Ow.Uint8Array;var Dk=function(e){var t=new e.constructor(e.byteLength);return new Ik(t).set(new Ik(e)),t};var Lk=function(e,t){var n=t?Dk(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Rk=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Bk=Object.create,Fk=function(){function e(){}return function(t){if(!zw(t))return{};if(Bk)return Bk(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),zk=Fk;var Vk=function(e,t){return function(n){return e(t(n))}},Uk=Vk(Object.getPrototypeOf,Object),Hk=Object.prototype;var Wk=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Hk)};var qk=function(e){return"function"!=typeof e.constructor||Wk(e)?{}:zk(Uk(e))};var Kk=function(e){return null!=e&&"object"==typeof e};var Yk=function(e){return Kk(e)&&"[object Arguments]"==Fw(e)},Gk=Object.prototype,Qk=Gk.hasOwnProperty,Xk=Gk.propertyIsEnumerable,$k=Yk(function(){return arguments}())?Yk:function(e){return Kk(e)&&Qk.call(e,"callee")&&!Xk.call(e,"callee")},Jk=$k,e_=Array.isArray;var t_=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var n_=function(e){return null!=e&&t_(e.length)&&!Vw(e)};var r_=function(e){return Kk(e)&&n_(e)};var i_=function(){return!1},a_="object"==typeof exports&&exports&&!exports.nodeType&&exports,o_=a_&&"object"==typeof module&&module&&!module.nodeType&&module,s_=o_&&o_.exports===a_?Ow.Buffer:void 0,l_=(s_?s_.isBuffer:void 0)||i_,c_=Function.prototype,u_=Object.prototype,d_=c_.toString,p_=u_.hasOwnProperty,f_=d_.call(Object);var h_=function(e){if(!Kk(e)||"[object Object]"!=Fw(e))return!1;var t=Uk(e);if(null===t)return!0;var n=p_.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&d_.call(n)==f_},g_={};g_["[object Float32Array]"]=g_["[object Float64Array]"]=g_["[object Int8Array]"]=g_["[object Int16Array]"]=g_["[object Int32Array]"]=g_["[object Uint8Array]"]=g_["[object Uint8ClampedArray]"]=g_["[object Uint16Array]"]=g_["[object Uint32Array]"]=!0,g_["[object Arguments]"]=g_["[object Array]"]=g_["[object ArrayBuffer]"]=g_["[object Boolean]"]=g_["[object DataView]"]=g_["[object Date]"]=g_["[object Error]"]=g_["[object Function]"]=g_["[object Map]"]=g_["[object Number]"]=g_["[object Object]"]=g_["[object RegExp]"]=g_["[object Set]"]=g_["[object String]"]=g_["[object WeakMap]"]=!1;var m_=function(e){return Kk(e)&&t_(e.length)&&!!g_[Fw(e)]};var v_=function(e){return function(t){return e(t)}},y_="object"==typeof exports&&exports&&!exports.nodeType&&exports,b_=y_&&"object"==typeof module&&module&&!module.nodeType&&module,x_=b_&&b_.exports===y_&&Nw.process,w_=function(){try{var e=b_&&b_.require&&b_.require("util").types;return e||x_&&x_.binding&&x_.binding("util")}catch(t){}}(),k_=w_&&w_.isTypedArray,__=k_?v_(k_):m_;var C_=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]},j_=Object.prototype.hasOwnProperty;var S_=function(e,t,n){var r=e[t];j_.call(e,t)&&gw(r,n)&&(void 0!==n||t in e)||Zk(e,t,n)};var Z_=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?Zk(n,s,l):S_(n,s,l)}return n};var N_=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},E_=/^(?:0|[1-9]\d*)$/;var O_=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&E_.test(e))&&e>-1&&e%1==0&&e<t},A_=Object.prototype.hasOwnProperty;var T_=function(e,t){var n=e_(e),r=!n&&Jk(e),i=!n&&!r&&l_(e),a=!n&&!r&&!i&&__(e),o=n||r||i||a,s=o?N_(e.length,String):[],l=s.length;for(var c in e)!t&&!A_.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||O_(c,l))||s.push(c);return s};var P_=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},M_=Object.prototype.hasOwnProperty;var I_=function(e){if(!zw(e))return P_(e);var t=Wk(e),n=[];for(var r in e)("constructor"!=r||!t&&M_.call(e,r))&&n.push(r);return n};var D_=function(e){return n_(e)?T_(e,!0):I_(e)};var L_=function(e){return Z_(e,D_(e))};var R_=function(e,t,n,r,i,a,o){var s=C_(e,n),l=C_(t,n),c=o.get(l);if(c)Nk(e,n,c);else{var u=a?a(s,l,n+"",e,t,o):void 0,d=void 0===u;if(d){var p=e_(l),f=!p&&l_(l),h=!p&&!f&&__(l);u=l,p||f||h?e_(s)?u=s:r_(s)?u=Rk(s):f?(d=!1,u=Mk(l,!0)):h?(d=!1,u=Lk(l,!0)):u=[]:h_(l)||Jk(l)?(u=s,Jk(s)?u=L_(s):zw(s)&&!Vw(s)||(u=qk(l))):d=!1}d&&(o.set(l,u),i(u,l,r,a,o),o.delete(l)),Nk(e,n,u)}};var B_=function e(t,n,r,i,a){t!==n&&Ek(n,(function(o,s){if(a||(a=new jk),zw(o))R_(t,n,s,r,e,i,a);else{var l=i?i(C_(t,s),o,s+"",t,n,a):void 0;void 0===l&&(l=o),Nk(t,s,l)}}),D_)};var F_=function(e){return e};var z_=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},V_=Math.max;var U_=function(e,t,n){return t=V_(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=V_(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),z_(e,this,s)}};var H_=function(e){return function(){return e}},W_=Sk?function(e,t){return Sk(e,"toString",{configurable:!0,enumerable:!1,value:H_(t),writable:!0})}:F_,q_=W_,K_=Date.now;var Y_=function(e){var t=0,n=0;return function(){var r=K_(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},G_=Y_(q_);var Q_=function(e,t){return G_(U_(e,t,F_),e+"")};var X_=function(e,t,n){if(!zw(n))return!1;var r=typeof t;return!!("number"==r?n_(n)&&O_(t,n.length):"string"==r&&t in n)&&gw(n[t],e)};var $_=function(e){return Q_((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&X_(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}((function(e,t,n){B_(e,t,n)})),J_=function(e){var t=e.zDepth,n=e.radius,r=e.background,i=e.children,a=e.styles,o=void 0===a?{}:a,s=(0,Vx.ZP)($_({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},o),{"zDepth-1":1===t});return oe.createElement("div",{style:s.wrap},oe.createElement("div",{style:s.bg}),oe.createElement("div",{style:s.content},i))};J_.propTypes={background:fw().string,zDepth:fw().oneOf([0,1,2,3,4,5]),radius:fw().number,styles:fw().object},J_.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var eC=J_,tC=function(){return Ow.Date.now()},nC=/\s/;var rC=function(e){for(var t=e.length;t--&&nC.test(e.charAt(t)););return t},iC=/^\s+/;var aC=function(e){return e?e.slice(0,rC(e)+1).replace(iC,""):e};var oC=function(e){return"symbol"==typeof e||Kk(e)&&"[object Symbol]"==Fw(e)},sC=/^[-+]0x[0-9a-f]+$/i,lC=/^0b[01]+$/i,cC=/^0o[0-7]+$/i,uC=parseInt;var dC=function(e){if("number"==typeof e)return e;if(oC(e))return NaN;if(zw(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=zw(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=aC(e);var n=lC.test(e);return n||cC.test(e)?uC(e.slice(2),n?2:8):sC.test(e)?NaN:+e},pC=Math.max,fC=Math.min;var hC=function(e,t,n){var r,i,a,o,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function h(e){return c=e,s=setTimeout(m,t),u?f(e):o}function g(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=a}function m(){var e=tC();if(g(e))return v(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?fC(n,a-(e-c)):n}(e))}function v(e){return s=void 0,p&&r?f(e):(r=i=void 0,o)}function y(){var e=tC(),n=g(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return h(l);if(d)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=dC(t)||0,zw(n)&&(u=!!n.leading,a=(d="maxWait"in n)?pC(dC(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?o:v(tC())},y};var gC=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return zw(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hC(e,t,{leading:r,maxWait:t,trailing:i})},mC=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var vC=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),i=r.width,a=r.height,o="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=o-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>i&&(l=i),c<0?c=0:c>a&&(c=a);var u=l/i,d=1-c/a;return{h:t.h,s:u,v:d,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=gC((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),mC(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,a=t.pointer,o=t.circle,s=(0,Vx.ZP)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:a,circle:o}},{custom:!!this.props.style});return oe.createElement("div",{style:s.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),oe.createElement("div",{style:s.white,className:"saturation-white"},oe.createElement("div",{style:s.black,className:"saturation-black"}),oe.createElement("div",{style:s.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:s.circle}))))}}]),t}(oe.PureComponent||oe.Component),yC=vC;var bC=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},xC=Vk(Object.keys,Object),wC=Object.prototype.hasOwnProperty;var kC=function(e){if(!Wk(e))return xC(e);var t=[];for(var n in Object(e))wC.call(e,n)&&"constructor"!=n&&t.push(n);return t};var _C=function(e){return n_(e)?T_(e):kC(e)};var CC=function(e,t){return function(n,r){if(null==n)return n;if(!n_(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}((function(e,t){return e&&Ek(e,t,_C)}));var jC=function(e){return"function"==typeof e?e:F_};var SC=function(e,t){return(e_(e)?bC:CC)(e,jC(t))};function ZC(e){return ZC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZC(e)}var NC=/^\s+/,EC=/\s+$/;function OC(e,t){if(t=t||{},(e=e||"")instanceof OC)return e;if(!(this instanceof OC))return new OC(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;"string"==typeof e&&(e=function(e){e=e.replace(NC,"").replace(EC,"").toLowerCase();var t,n=!1;if(KC[e])e=KC[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=rj.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=rj.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=rj.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=rj.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=rj.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=rj.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=rj.hex8.exec(e))return{r:$C(t[1]),g:$C(t[2]),b:$C(t[3]),a:nj(t[4]),format:n?"name":"hex8"};if(t=rj.hex6.exec(e))return{r:$C(t[1]),g:$C(t[2]),b:$C(t[3]),format:n?"name":"hex"};if(t=rj.hex4.exec(e))return{r:$C(t[1]+""+t[1]),g:$C(t[2]+""+t[2]),b:$C(t[3]+""+t[3]),a:nj(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=rj.hex3.exec(e))return{r:$C(t[1]+""+t[1]),g:$C(t[2]+""+t[2]),b:$C(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==ZC(e)&&(ij(e.r)&&ij(e.g)&&ij(e.b)?(t=function(e,t,n){return{r:255*QC(e,255),g:255*QC(t,255),b:255*QC(n,255)}}(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):ij(e.h)&&ij(e.s)&&ij(e.v)?(r=ej(e.s),i=ej(e.v),t=function(e,t,n){e=6*QC(e,360),t=QC(t,100),n=QC(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6;return{r:255*[n,o,a,a,s,n][l],g:255*[s,n,n,o,a,a][l],b:255*[a,a,s,n,n,o][l]}}(e.h,r,i),o=!0,s="hsv"):ij(e.h)&&ij(e.s)&&ij(e.l)&&(r=ej(e.s),a=ej(e.l),t=function(e,t,n){var r,i,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=QC(e,360),t=QC(t,100),n=QC(n,100),0===t)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=o(l,s,e+1/3),i=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,a),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=GC(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function AC(e,t,n){e=QC(e,255),t=QC(t,255),n=QC(n,255);var r,i,a=Math.max(e,t,n),o=Math.min(e,t,n),s=(a+o)/2;if(a==o)r=i=0;else{var l=a-o;switch(i=s>.5?l/(2-a-o):l/(a+o),a){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function TC(e,t,n){e=QC(e,255),t=QC(t,255),n=QC(n,255);var r,i,a=Math.max(e,t,n),o=Math.min(e,t,n),s=a,l=a-o;if(i=0===a?0:l/a,a==o)r=0;else{switch(a){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function PC(e,t,n,r){var i=[JC(Math.round(e).toString(16)),JC(Math.round(t).toString(16)),JC(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function MC(e,t,n,r){return[JC(tj(r)),JC(Math.round(e).toString(16)),JC(Math.round(t).toString(16)),JC(Math.round(n).toString(16))].join("")}function IC(e,t){t=0===t?0:t||10;var n=OC(e).toHsl();return n.s-=t/100,n.s=XC(n.s),OC(n)}function DC(e,t){t=0===t?0:t||10;var n=OC(e).toHsl();return n.s+=t/100,n.s=XC(n.s),OC(n)}function LC(e){return OC(e).desaturate(100)}function RC(e,t){t=0===t?0:t||10;var n=OC(e).toHsl();return n.l+=t/100,n.l=XC(n.l),OC(n)}function BC(e,t){t=0===t?0:t||10;var n=OC(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),OC(n)}function FC(e,t){t=0===t?0:t||10;var n=OC(e).toHsl();return n.l-=t/100,n.l=XC(n.l),OC(n)}function zC(e,t){var n=OC(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,OC(n)}function VC(e){var t=OC(e).toHsl();return t.h=(t.h+180)%360,OC(t)}function UC(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=OC(e).toHsl(),r=[OC(e)],i=360/t,a=1;a<t;a++)r.push(OC({h:(n.h+a*i)%360,s:n.s,l:n.l}));return r}function HC(e){var t=OC(e).toHsl(),n=t.h;return[OC(e),OC({h:(n+72)%360,s:t.s,l:t.l}),OC({h:(n+216)%360,s:t.s,l:t.l})]}function WC(e,t,n){t=t||6,n=n||30;var r=OC(e).toHsl(),i=360/n,a=[OC(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(OC(r));return a}function qC(e,t){t=t||6;for(var n=OC(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(OC({h:r,s:i,v:a})),a=(a+s)%1;return o}OC.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=GC(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=TC(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=TC(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=AC(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=AC(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return PC(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var a=[JC(Math.round(e).toString(16)),JC(Math.round(t).toString(16)),JC(Math.round(n).toString(16)),JC(tj(r))];if(i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*QC(this._r,255))+"%",g:Math.round(100*QC(this._g,255))+"%",b:Math.round(100*QC(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*QC(this._r,255))+"%, "+Math.round(100*QC(this._g,255))+"%, "+Math.round(100*QC(this._b,255))+"%)":"rgba("+Math.round(100*QC(this._r,255))+"%, "+Math.round(100*QC(this._g,255))+"%, "+Math.round(100*QC(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(YC[PC(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+MC(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=OC(e);n="#"+MC(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return OC(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(RC,arguments)},brighten:function(){return this._applyModification(BC,arguments)},darken:function(){return this._applyModification(FC,arguments)},desaturate:function(){return this._applyModification(IC,arguments)},saturate:function(){return this._applyModification(DC,arguments)},greyscale:function(){return this._applyModification(LC,arguments)},spin:function(){return this._applyModification(zC,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(WC,arguments)},complement:function(){return this._applyCombination(VC,arguments)},monochromatic:function(){return this._applyCombination(qC,arguments)},splitcomplement:function(){return this._applyCombination(HC,arguments)},triad:function(){return this._applyCombination(UC,[3])},tetrad:function(){return this._applyCombination(UC,[4])}},OC.fromRatio=function(e,t){if("object"==ZC(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:ej(e[r]));e=n}return OC(e,t)},OC.equals=function(e,t){return!(!e||!t)&&OC(e).toRgbString()==OC(t).toRgbString()},OC.random=function(){return OC.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},OC.mix=function(e,t,n){n=0===n?0:n||50;var r=OC(e).toRgb(),i=OC(t).toRgb(),a=n/100;return OC({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},OC.readability=function(e,t){var n=OC(e),r=OC(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},OC.isReadable=function(e,t,n){var r,i,a=OC.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},OC.mostReadable=function(e,t,n){var r,i,a,o,s=null,l=0;i=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var c=0;c<t.length;c++)(r=OC.readability(e,t[c]))>l&&(l=r,s=OC(t[c]));return OC.isReadable(e,s,{level:a,size:o})||!i?s:(n.includeFallbackColors=!1,OC.mostReadable(e,["#fff","#000"],n))};var KC=OC.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},YC=OC.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(KC);function GC(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function QC(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function XC(e){return Math.min(1,Math.max(0,e))}function $C(e){return parseInt(e,16)}function JC(e){return 1==e.length?"0"+e:""+e}function ej(e){return e<=1&&(e=100*e+"%"),e}function tj(e){return Math.round(255*parseFloat(e)).toString(16)}function nj(e){return $C(e)/255}var rj=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ij(e){return!!rj.CSS_UNIT.exec(e)}var aj=function(e){var t=0,n=0;return SC(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},oj=function(e,t){var n=e.hex?OC(e.hex):OC(e),r=n.toHsl(),i=n.toHsv(),a=n.toRgb(),o=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===o&&0===a.a?"transparent":"#"+o,rgb:a,hsv:i,oldHue:e.h||t||r.h,source:e.source}},sj=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&OC(e).isValid()},lj=function(e){if(!e)return"#fff";var t=oj(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},cj=function(e,t){return OC(t+" ("+e.replace("\xb0","")+")")._ok},uj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dj=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var pj=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(aj(e)){var r=oj(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(aj(e)){var r=oj(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=uj({},oj(e.color,0)),t.debounce=hC((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),dj(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),oe.createElement(e,uj({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return uj({},oj(e.color,t.oldHue))}}]),n}(oe.PureComponent||oe.Component);return t.propTypes=uj({},e.propTypes),t.defaultProps=uj({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},fj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hj=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function gj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mj(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function vj(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;gj(this,r);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=n=mj(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(a))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},mj(n,t)}return vj(r,n),hj(r,[{key:"render",value:function(){return oe.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},oe.createElement(e,fj({},this.props,this.state)))}}]),r}(oe.Component)}((function(e){var t=e.color,n=e.style,r=e.onClick,i=void 0===r?function(){}:r,a=e.onHover,o=e.title,s=void 0===o?t:o,l=e.children,c=e.focus,u=e.focusStyle,d=void 0===u?{}:u,p="transparent"===t,f=(0,Vx.ZP)({default:{swatch:yj({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,c?d:{})}}),h={};return a&&(h.onMouseOver=function(e){return a(t,e)}),oe.createElement("div",yj({style:f.swatch,onClick:function(e){return i(t,e)},title:s,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&i(t,e)}},h),l,p&&oe.createElement(Yx,{borderRadius:f.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))})),xj=function(e){var t=e.direction,n=(0,Vx.ZP)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return oe.createElement("div",{style:n.picker})},wj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kj=function(e){var t=e.rgb,n=e.hsl,r=e.width,i=e.height,a=e.onChange,o=e.direction,s=e.style,l=e.renderers,c=e.pointer,u=e.className,d=void 0===u?"":u,p=(0,Vx.ZP)({default:{picker:{position:"relative",width:r,height:i},alpha:{radius:"2px",style:s}}});return oe.createElement("div",{style:p.picker,className:"alpha-picker "+d},oe.createElement(ew,wj({},p.alpha,{rgb:t,hsl:n,pointer:c,renderers:l,onChange:a,direction:o})))};kj.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:xj};pj(kj);var _j=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Cj=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var jj=function(e){return this.__data__.has(e)};function Sj(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new kk;++t<n;)this.add(e[t])}Sj.prototype.add=Sj.prototype.push=Cj,Sj.prototype.has=jj;var Zj=Sj;var Nj=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Ej=function(e,t){return e.has(t)};var Oj=function(e,t,n,r,i,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,f=2&n?new Zj:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var h=e[d],g=t[d];if(r)var m=o?r(g,h,d,t,e,a):r(h,g,d,e,t,a);if(void 0!==m){if(m)continue;p=!1;break}if(f){if(!Nj(t,(function(e,t){if(!Ej(f,t)&&(h===e||i(h,e,n,r,a)))return f.push(t)}))){p=!1;break}}else if(h!==g&&!i(h,g,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p};var Aj=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Tj=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Pj=Aw?Aw.prototype:void 0,Mj=Pj?Pj.valueOf:void 0;var Ij=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Ik(e),new Ik(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return gw(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Aj;case"[object Set]":var l=1&r;if(s||(s=Tj),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=Oj(s(e),s(t),r,i,a,o);return o.delete(e),u;case"[object Symbol]":if(Mj)return Mj.call(e)==Mj.call(t)}return!1};var Dj=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var Lj=function(e,t,n){var r=t(e);return e_(e)?r:Dj(r,n(e))};var Rj=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Bj=function(){return[]},Fj=Object.prototype.propertyIsEnumerable,zj=Object.getOwnPropertySymbols,Vj=zj?function(e){return null==e?[]:(e=Object(e),Rj(zj(e),(function(t){return Fj.call(e,t)})))}:Bj;var Uj=function(e){return Lj(e,_C,Vj)},Hj=Object.prototype.hasOwnProperty;var Wj=function(e,t,n,r,i,a){var o=1&n,s=Uj(e),l=s.length;if(l!=Uj(t).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in t:Hj.call(t,u)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var f=!0;a.set(e,t),a.set(t,e);for(var h=o;++c<l;){var g=e[u=s[c]],m=t[u];if(r)var v=o?r(m,g,u,t,e,a):r(g,m,u,e,t,a);if(!(void 0===v?g===m||i(g,m,n,r,a):v)){f=!1;break}h||(h="constructor"==u)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return a.delete(e),a.delete(t),f},qj=nk(Ow,"DataView"),Kj=nk(Ow,"Promise"),Yj=nk(Ow,"Set"),Gj=nk(Ow,"WeakMap"),Qj="[object Map]",Xj="[object Promise]",$j="[object Set]",Jj="[object WeakMap]",eS="[object DataView]",tS=Kw(qj),nS=Kw(rk),rS=Kw(Kj),iS=Kw(Yj),aS=Kw(Gj),oS=Fw;(qj&&oS(new qj(new ArrayBuffer(1)))!=eS||rk&&oS(new rk)!=Qj||Kj&&oS(Kj.resolve())!=Xj||Yj&&oS(new Yj)!=$j||Gj&&oS(new Gj)!=Jj)&&(oS=function(e){var t=Fw(e),n="[object Object]"==t?e.constructor:void 0,r=n?Kw(n):"";if(r)switch(r){case tS:return eS;case nS:return Qj;case rS:return Xj;case iS:return $j;case aS:return Jj}return t});var sS=oS,lS="[object Arguments]",cS="[object Array]",uS="[object Object]",dS=Object.prototype.hasOwnProperty;var pS=function(e,t,n,r,i,a){var o=e_(e),s=e_(t),l=o?cS:sS(e),c=s?cS:sS(t),u=(l=l==lS?uS:l)==uS,d=(c=c==lS?uS:c)==uS,p=l==c;if(p&&l_(e)){if(!l_(t))return!1;o=!0,u=!1}if(p&&!u)return a||(a=new jk),o||__(e)?Oj(e,t,n,r,i,a):Ij(e,t,l,n,r,i,a);if(!(1&n)){var f=u&&dS.call(e,"__wrapped__"),h=d&&dS.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,m=h?t.value():t;return a||(a=new jk),i(g,m,n,r,a)}}return!!p&&(a||(a=new jk),Wj(e,t,n,r,i,a))};var fS=function e(t,n,r,i,a){return t===n||(null==t||null==n||!Kk(t)&&!Kk(n)?t!==t&&n!==n:pS(t,n,r,i,e,a))};var hS=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],c=e[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new jk;if(r)var p=r(c,u,l,e,t,d);if(!(void 0===p?fS(u,c,3,r,d):p))return!1}}return!0};var gS=function(e){return e===e&&!zw(e)};var mS=function(e){for(var t=_C(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,gS(i)]}return t};var vS=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var yS=function(e){var t=mS(e);return 1==t.length&&t[0][2]?vS(t[0][0],t[0][1]):function(n){return n===e||hS(n,e,t)}},bS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xS=/^\w*$/;var wS=function(e,t){if(e_(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!oC(e))||(xS.test(e)||!bS.test(e)||null!=t&&e in Object(t))};function kS(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(kS.Cache||kk),n}kS.Cache=kk;var _S=kS;var CS=function(e){var t=_S(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t},jS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,SS=/\\(\\)?/g,ZS=CS((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(jS,(function(e,n,r,i){t.push(r?i.replace(SS,"$1"):n||e)})),t})),NS=ZS,ES=Aw?Aw.prototype:void 0,OS=ES?ES.toString:void 0;var AS=function e(t){if("string"==typeof t)return t;if(e_(t))return _j(t,e)+"";if(oC(t))return OS?OS.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var TS=function(e){return null==e?"":AS(e)};var PS=function(e,t){return e_(e)?e:wS(e,t)?[e]:NS(TS(e))};var MS=function(e){if("string"==typeof e||oC(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var IS=function(e,t){for(var n=0,r=(t=PS(t,e)).length;null!=e&&n<r;)e=e[MS(t[n++])];return n&&n==r?e:void 0};var DS=function(e,t,n){var r=null==e?void 0:IS(e,t);return void 0===r?n:r};var LS=function(e,t){return null!=e&&t in Object(e)};var RS=function(e,t,n){for(var r=-1,i=(t=PS(t,e)).length,a=!1;++r<i;){var o=MS(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&t_(i)&&O_(o,i)&&(e_(e)||Jk(e))};var BS=function(e,t){return null!=e&&RS(e,t,LS)};var FS=function(e,t){return wS(e)&&gS(t)?vS(MS(e),t):function(n){var r=DS(n,e);return void 0===r&&r===t?BS(n,e):fS(t,r,3)}};var zS=function(e){return function(t){return null==t?void 0:t[e]}};var VS=function(e){return function(t){return IS(t,e)}};var US=function(e){return wS(e)?zS(MS(e)):VS(e)};var HS=function(e){return"function"==typeof e?e:null==e?F_:"object"==typeof e?e_(e)?FS(e[0],e[1]):yS(e):US(e)};var WS=function(e,t){var n=-1,r=n_(e)?Array(e.length):[];return CC(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var qS=function(e,t){return(e_(e)?_j:WS)(e,HS(t,3))},KS=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,i=(0,Vx.ZP)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return oe.createElement("div",{style:i.swatches},qS(t,(function(e){return oe.createElement(bj,{key:e,color:e,style:i.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),oe.createElement("div",{style:i.clear}))},YS=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,a=e.width,o=e.triangle,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d="transparent"===r,p=function(e,n){sj(e)&&t({hex:e,source:"hex"},n)},f=(0,Vx.ZP)($_({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:lj(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},l),{"hide-triangle":"hide"===o});return oe.createElement("div",{style:f.card,className:"block-picker "+u},oe.createElement("div",{style:f.triangle}),oe.createElement("div",{style:f.head},d&&oe.createElement(Yx,{borderRadius:"6px 6px 0 0"}),oe.createElement("div",{style:f.label},r)),oe.createElement("div",{style:f.body},oe.createElement(KS,{colors:i,onClick:p,onSwatchHover:n}),oe.createElement(aw,{style:{input:f.input},value:r,onChange:p})))};YS.propTypes={width:fw().oneOfType([fw().string,fw().number]),colors:fw().arrayOf(fw().string),triangle:fw().oneOf(["top","hide"]),styles:fw().object},YS.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};pj(YS);var GS={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},QS={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},XS={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},$S={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},JS={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},eZ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},tZ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},nZ={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},rZ={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},iZ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},aZ={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},oZ={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},sZ={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},lZ={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},cZ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},uZ={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},dZ={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},pZ={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},fZ=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,i=e.hover,a=e.active,o=e.circleSize,s=e.circleSpacing,l=(0,Vx.ZP)({default:{swatch:{width:o,height:o,marginRight:s,marginBottom:s,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(o/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:i,active:a});return oe.createElement("div",{style:l.swatch},oe.createElement(bj,{style:l.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:l.Swatch.boxShadow+", 0 0 5px "+t}}))};fZ.defaultProps={circleSize:28,circleSpacing:14};var hZ=(0,Vx.tz)(fZ),gZ=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,i=e.colors,a=e.hex,o=e.circleSize,s=e.styles,l=void 0===s?{}:s,c=e.circleSpacing,u=e.className,d=void 0===u?"":u,p=(0,Vx.ZP)($_({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},l)),f=function(e,t){return n({hex:e,source:"hex"},t)};return oe.createElement("div",{style:p.card,className:"circle-picker "+d},qS(i,(function(e){return oe.createElement(hZ,{key:e,color:e,onClick:f,onSwatchHover:r,active:a===e.toLowerCase(),circleSize:o,circleSpacing:c})})))};gZ.propTypes={width:fw().oneOfType([fw().string,fw().number]),circleSize:fw().number,circleSpacing:fw().number,styles:fw().object},gZ.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[GS[500],QS[500],XS[500],$S[500],JS[500],eZ[500],tZ[500],nZ[500],rZ[500],iZ[500],aZ[500],oZ[500],sZ[500],lZ[500],cZ[500],uZ[500],dZ[500],pZ[500]],styles:{}};pj(gZ);var mZ=function(e){return void 0===e},vZ=n(3050),yZ=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var bZ=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?sj(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"===typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"===typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(mZ(e.s)?n.props.hsl.s:e.s),l:Number(mZ(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),yZ(t,[{key:"render",value:function(){var e=this,t=(0,Vx.ZP)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=oe.createElement("div",{style:t.fields,className:"flexbox-fix"},oe.createElement("div",{style:t.field},oe.createElement(aw,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=oe.createElement("div",{style:t.fields,className:"flexbox-fix"},oe.createElement("div",{style:t.field},oe.createElement(aw,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),oe.createElement("div",{style:t.field},oe.createElement(aw,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),oe.createElement("div",{style:t.field},oe.createElement(aw,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),oe.createElement("div",{style:t.alpha},oe.createElement(aw,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=oe.createElement("div",{style:t.fields,className:"flexbox-fix"},oe.createElement("div",{style:t.field},oe.createElement(aw,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),oe.createElement("div",{style:t.field},oe.createElement(aw,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),oe.createElement("div",{style:t.field},oe.createElement(aw,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),oe.createElement("div",{style:t.alpha},oe.createElement(aw,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),oe.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,oe.createElement("div",{style:t.toggle},oe.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},oe.createElement(vZ.Z,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(oe.Component);bZ.defaultProps={view:"hex"};var xZ=bZ,wZ=function(){var e=(0,Vx.ZP)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return oe.createElement("div",{style:e.picker})},kZ=function(){var e=(0,Vx.ZP)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return oe.createElement("div",{style:e.picker})},_Z=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,i=e.rgb,a=e.hsl,o=e.hsv,s=e.hex,l=e.renderers,c=e.styles,u=void 0===c?{}:c,d=e.className,p=void 0===d?"":d,f=e.defaultView,h=(0,Vx.ZP)($_({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},u),{disableAlpha:r});return oe.createElement("div",{style:h.picker,className:"chrome-picker "+p},oe.createElement("div",{style:h.saturation},oe.createElement(yC,{style:h.Saturation,hsl:a,hsv:o,pointer:kZ,onChange:n})),oe.createElement("div",{style:h.body},oe.createElement("div",{style:h.controls,className:"flexbox-fix"},oe.createElement("div",{style:h.color},oe.createElement("div",{style:h.swatch},oe.createElement("div",{style:h.active}),oe.createElement(Yx,{renderers:l}))),oe.createElement("div",{style:h.toggles},oe.createElement("div",{style:h.hue},oe.createElement(dw,{style:h.Hue,hsl:a,pointer:wZ,onChange:n})),oe.createElement("div",{style:h.alpha},oe.createElement(ew,{style:h.Alpha,rgb:i,hsl:a,pointer:wZ,renderers:l,onChange:n})))),oe.createElement(xZ,{rgb:i,hsl:a,hex:s,view:f,onChange:n,disableAlpha:r})))};_Z.propTypes={width:fw().oneOfType([fw().string,fw().number]),disableAlpha:fw().bool,styles:fw().object,defaultView:fw().oneOf(["hex","rgb","hsl"])},_Z.defaultProps={width:225,disableAlpha:!1,styles:{}};pj(_Z);var CZ=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,a=e.active,o=(0,Vx.ZP)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:lj(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:a,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return oe.createElement(bj,{style:o.color,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},oe.createElement("div",{style:o.dot}))},jZ=function(e){var t=e.hex,n=e.rgb,r=e.onChange,i=(0,Vx.ZP)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return oe.createElement("div",{style:i.fields,className:"flexbox-fix"},oe.createElement("div",{style:i.active}),oe.createElement(aw,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:t,onChange:a}),oe.createElement(aw,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:a}),oe.createElement(aw,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:a}),oe.createElement(aw,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:a}))},SZ=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,i=e.hex,a=e.rgb,o=e.styles,s=void 0===o?{}:o,l=e.className,c=void 0===l?"":l,u=(0,Vx.ZP)($_({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},s)),d=function(e,n){e.hex?sj(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return oe.createElement(eC,{style:u.Compact,styles:s},oe.createElement("div",{style:u.compact,className:"compact-picker "+c},oe.createElement("div",null,qS(r,(function(e){return oe.createElement(CZ,{key:e,color:e,active:e.toLowerCase()===i,onClick:d,onSwatchHover:n})})),oe.createElement("div",{style:u.clear})),oe.createElement(jZ,{hex:i,rgb:a,onChange:d})))};SZ.propTypes={colors:fw().arrayOf(fw().string),styles:fw().object},SZ.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};pj(SZ);var ZZ=(0,Vx.tz)((function(e){var t=e.hover,n=e.color,r=e.onClick,i=e.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},o=(0,Vx.ZP)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:t});return oe.createElement("div",{style:o.swatch},oe.createElement(bj,{color:n,onClick:r,onHover:i,focusStyle:a}))})),NZ=function(e){var t=e.width,n=e.colors,r=e.onChange,i=e.onSwatchHover,a=e.triangle,o=e.styles,s=void 0===o?{}:o,l=e.className,c=void 0===l?"":l,u=(0,Vx.ZP)($_({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},s),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a,"bottom-left-triangle":"bottom-left"===a,"bottom-right-triangle":"bottom-right"===a}),d=function(e,t){return r({hex:e,source:"hex"},t)};return oe.createElement("div",{style:u.card,className:"github-picker "+c},oe.createElement("div",{style:u.triangleShadow}),oe.createElement("div",{style:u.triangle}),qS(n,(function(e){return oe.createElement(ZZ,{color:e,key:e,onClick:d,onSwatchHover:i})})))};NZ.propTypes={width:fw().oneOfType([fw().string,fw().number]),colors:fw().arrayOf(fw().string),triangle:fw().oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:fw().object},NZ.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};pj(NZ);var EZ=function(e){var t=e.direction,n=(0,Vx.ZP)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return oe.createElement("div",{style:n.picker})},OZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AZ=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.hsl,a=e.direction,o=e.pointer,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,Vx.ZP)($_({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},l));return oe.createElement("div",{style:d.picker,className:"hue-picker "+u},oe.createElement(dw,OZ({},d.hue,{hsl:i,pointer:o,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:a})))};AZ.propTypes={styles:fw().object},AZ.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:EZ,styles:{}};pj(AZ),pj((function(e){var t=e.onChange,n=e.hex,r=e.rgb,i=e.styles,a=void 0===i?{}:i,o=e.className,s=void 0===o?"":o,l=(0,Vx.ZP)($_({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},a)),c=function(e,n){e.hex?sj(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return oe.createElement(eC,{styles:a},oe.createElement("div",{style:l.material,className:"material-picker "+s},oe.createElement(aw,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:n,onChange:c}),oe.createElement("div",{style:l.split,className:"flexbox-fix"},oe.createElement("div",{style:l.third},oe.createElement(aw,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:r.r,onChange:c})),oe.createElement("div",{style:l.third},oe.createElement(aw,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:r.g,onChange:c})),oe.createElement("div",{style:l.third},oe.createElement(aw,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:r.b,onChange:c})))))}));var TZ=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,i=e.hex,a=(0,Vx.ZP)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),o=function(e,i){e["#"]?sj(e["#"])&&t({hex:e["#"],source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},i):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},i)};return oe.createElement("div",{style:a.fields},oe.createElement(aw,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(r.h),onChange:o}),oe.createElement(aw,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:o}),oe.createElement(aw,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:o}),oe.createElement("div",{style:a.divider}),oe.createElement(aw,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:o}),oe.createElement(aw,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:o}),oe.createElement(aw,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:o}),oe.createElement("div",{style:a.divider}),oe.createElement(aw,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:i.replace("#",""),onChange:o}),oe.createElement("div",{style:a.fieldSymbols},oe.createElement("div",{style:a.symbol},"\xb0"),oe.createElement("div",{style:a.symbol},"%"),oe.createElement("div",{style:a.symbol},"%")))},PZ=function(e){var t=e.hsl,n=(0,Vx.ZP)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return oe.createElement("div",{style:n.picker})},MZ=function(){var e=(0,Vx.ZP)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return oe.createElement("div",{style:e.pointer},oe.createElement("div",{style:e.left},oe.createElement("div",{style:e.leftInside})),oe.createElement("div",{style:e.right},oe.createElement("div",{style:e.rightInside})))},IZ=function(e){var t=e.onClick,n=e.label,r=e.children,i=e.active,a=(0,Vx.ZP)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return oe.createElement("div",{style:a.button,onClick:t},n||r)},DZ=function(e){var t=e.rgb,n=e.currentColor,r=(0,Vx.ZP)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return oe.createElement("div",null,oe.createElement("div",{style:r.label},"new"),oe.createElement("div",{style:r.swatches},oe.createElement("div",{style:r.new}),oe.createElement("div",{style:r.current})),oe.createElement("div",{style:r.label},"current"))},LZ=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var RZ=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),LZ(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,i=void 0===r?"":r,a=(0,Vx.ZP)($_({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return oe.createElement("div",{style:a.picker,className:"photoshop-picker "+i},oe.createElement("div",{style:a.head},this.props.header),oe.createElement("div",{style:a.body,className:"flexbox-fix"},oe.createElement("div",{style:a.saturation},oe.createElement(yC,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:PZ,onChange:this.props.onChange})),oe.createElement("div",{style:a.hue},oe.createElement(dw,{direction:"vertical",hsl:this.props.hsl,pointer:MZ,onChange:this.props.onChange})),oe.createElement("div",{style:a.controls},oe.createElement("div",{style:a.top,className:"flexbox-fix"},oe.createElement("div",{style:a.previews},oe.createElement(DZ,{rgb:this.props.rgb,currentColor:this.state.currentColor})),oe.createElement("div",{style:a.actions},oe.createElement(IZ,{label:"OK",onClick:this.props.onAccept,active:!0}),oe.createElement(IZ,{label:"Cancel",onClick:this.props.onCancel}),oe.createElement(TZ,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(oe.Component);RZ.propTypes={header:fw().string,styles:fw().object},RZ.defaultProps={header:"Color Picker",styles:{}};pj(RZ);var BZ=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,a=e.disableAlpha,o=(0,Vx.ZP)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),s=function(e,i){e.hex?sj(e.hex)&&t({hex:e.hex,source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},i):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},i))};return oe.createElement("div",{style:o.fields,className:"flexbox-fix"},oe.createElement("div",{style:o.double},oe.createElement(aw,{style:{input:o.input,label:o.label},label:"hex",value:i.replace("#",""),onChange:s})),oe.createElement("div",{style:o.single},oe.createElement(aw,{style:{input:o.input,label:o.label},label:"r",value:n.r,onChange:s,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:o.single},oe.createElement(aw,{style:{input:o.input,label:o.label},label:"g",value:n.g,onChange:s,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:o.single},oe.createElement(aw,{style:{input:o.input,label:o.label},label:"b",value:n.b,onChange:s,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:o.alpha},oe.createElement(aw,{style:{input:o.input,label:o.label},label:"a",value:Math.round(100*n.a),onChange:s,dragLabel:"true",dragMax:"100"})))},FZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zZ=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,a=(0,Vx.ZP)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),o=function(e,t){r({hex:e,source:"hex"},t)};return oe.createElement("div",{style:a.colors,className:"flexbox-fix"},t.map((function(e){var t="string"===typeof e?{color:e}:e,n=""+t.color+(t.title||"");return oe.createElement("div",{key:n,style:a.swatchWrap},oe.createElement(bj,FZ({},t,{style:a.swatch,onClick:o,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};zZ.propTypes={colors:fw().arrayOf(fw().oneOfType([fw().string,fw().shape({color:fw().string,title:fw().string})])).isRequired};var VZ=zZ,UZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HZ=function(e){var t=e.width,n=e.rgb,r=e.hex,i=e.hsv,a=e.hsl,o=e.onChange,s=e.onSwatchHover,l=e.disableAlpha,c=e.presetColors,u=e.renderers,d=e.styles,p=void 0===d?{}:d,f=e.className,h=void 0===f?"":f,g=(0,Vx.ZP)($_({default:UZ({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:l});return oe.createElement("div",{style:g.picker,className:"sketch-picker "+h},oe.createElement("div",{style:g.saturation},oe.createElement(yC,{style:g.Saturation,hsl:a,hsv:i,onChange:o})),oe.createElement("div",{style:g.controls,className:"flexbox-fix"},oe.createElement("div",{style:g.sliders},oe.createElement("div",{style:g.hue},oe.createElement(dw,{style:g.Hue,hsl:a,onChange:o})),oe.createElement("div",{style:g.alpha},oe.createElement(ew,{style:g.Alpha,rgb:n,hsl:a,renderers:u,onChange:o}))),oe.createElement("div",{style:g.color},oe.createElement(Yx,null),oe.createElement("div",{style:g.activeColor}))),oe.createElement(BZ,{rgb:n,hsl:a,hex:r,onChange:o,disableAlpha:l}),oe.createElement(VZ,{colors:c,onClick:o,onSwatchHover:s}))};HZ.propTypes={disableAlpha:fw().bool,width:fw().oneOfType([fw().string,fw().number]),styles:fw().object},HZ.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var WZ=pj(HZ),qZ=function(e){var t=e.hsl,n=e.offset,r=e.onClick,i=void 0===r?function(){}:r,a=e.active,o=e.first,s=e.last,l=(0,Vx.ZP)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:o,last:s});return oe.createElement("div",{style:l.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})},KZ=function(e){var t=e.onClick,n=e.hsl,r=(0,Vx.ZP)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return oe.createElement("div",{style:r.swatches},oe.createElement("div",{style:r.swatch},oe.createElement(qZ,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<i&&Math.abs(n.s-.5)<i,onClick:t,first:!0})),oe.createElement("div",{style:r.swatch},oe.createElement(qZ,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<i&&Math.abs(n.s-.5)<i,onClick:t})),oe.createElement("div",{style:r.swatch},oe.createElement(qZ,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<i&&Math.abs(n.s-.5)<i,onClick:t})),oe.createElement("div",{style:r.swatch},oe.createElement(qZ,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<i&&Math.abs(n.s-.5)<i,onClick:t})),oe.createElement("div",{style:r.swatch},oe.createElement(qZ,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<i&&Math.abs(n.s-.5)<i,onClick:t,last:!0})),oe.createElement("div",{style:r.clear}))},YZ=function(){var e=(0,Vx.ZP)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return oe.createElement("div",{style:e.picker})},GZ=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,i=e.styles,a=void 0===i?{}:i,o=e.className,s=void 0===o?"":o,l=(0,Vx.ZP)($_({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},a));return oe.createElement("div",{style:l.wrap||{},className:"slider-picker "+s},oe.createElement("div",{style:l.hue},oe.createElement(dw,{style:l.Hue,hsl:t,pointer:r,onChange:n})),oe.createElement("div",{style:l.swatches},oe.createElement(KZ,{hsl:t,onClick:n})))};GZ.propTypes={styles:fw().object},GZ.defaultProps={pointer:YZ,styles:{}};pj(GZ);var QZ=n(99932),XZ=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,a=e.first,o=e.last,s=e.active,l=(0,Vx.ZP)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:lj(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:a,last:o,active:s,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return oe.createElement(bj,{color:t,style:l.color,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},oe.createElement("div",{style:l.check},oe.createElement(QZ.Z,null)))},$Z=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,i=e.active,a=(0,Vx.ZP)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return oe.createElement("div",{style:a.group},qS(r,(function(e,a){return oe.createElement(XZ,{key:e,color:e,active:e.toLowerCase()===i,first:0===a,last:a===r.length-1,onClick:t,onSwatchHover:n})})))},JZ=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.onSwatchHover,a=e.colors,o=e.hex,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,Vx.ZP)($_({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},l)),p=function(e,t){return r({hex:e,source:"hex"},t)};return oe.createElement("div",{style:d.picker,className:"swatches-picker "+u},oe.createElement(eC,null,oe.createElement("div",{style:d.overflow},oe.createElement("div",{style:d.body},qS(a,(function(e){return oe.createElement($Z,{key:e.toString(),group:e,active:o,onClick:p,onSwatchHover:i})})),oe.createElement("div",{style:d.clear})))))};JZ.propTypes={width:fw().oneOfType([fw().string,fw().number]),height:fw().oneOfType([fw().string,fw().number]),colors:fw().arrayOf(fw().arrayOf(fw().string)),styles:fw().object},JZ.defaultProps={width:320,height:240,colors:[[GS[900],GS[700],GS[500],GS[300],GS[100]],[QS[900],QS[700],QS[500],QS[300],QS[100]],[XS[900],XS[700],XS[500],XS[300],XS[100]],[$S[900],$S[700],$S[500],$S[300],$S[100]],[JS[900],JS[700],JS[500],JS[300],JS[100]],[eZ[900],eZ[700],eZ[500],eZ[300],eZ[100]],[tZ[900],tZ[700],tZ[500],tZ[300],tZ[100]],[nZ[900],nZ[700],nZ[500],nZ[300],nZ[100]],[rZ[900],rZ[700],rZ[500],rZ[300],rZ[100]],["#194D33",iZ[700],iZ[500],iZ[300],iZ[100]],[aZ[900],aZ[700],aZ[500],aZ[300],aZ[100]],[oZ[900],oZ[700],oZ[500],oZ[300],oZ[100]],[sZ[900],sZ[700],sZ[500],sZ[300],sZ[100]],[lZ[900],lZ[700],lZ[500],lZ[300],lZ[100]],[cZ[900],cZ[700],cZ[500],cZ[300],cZ[100]],[uZ[900],uZ[700],uZ[500],uZ[300],uZ[100]],[dZ[900],dZ[700],dZ[500],dZ[300],dZ[100]],[pZ[900],pZ[700],pZ[500],pZ[300],pZ[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};pj(JZ);var eN=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,a=e.width,o=e.triangle,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,Vx.ZP)($_({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},l),{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o}),p=function(e,n){sj(e)&&t({hex:e,source:"hex"},n)};return oe.createElement("div",{style:d.card,className:"twitter-picker "+u},oe.createElement("div",{style:d.triangleShadow}),oe.createElement("div",{style:d.triangle}),oe.createElement("div",{style:d.body},qS(i,(function(e,t){return oe.createElement(bj,{key:t,color:e,hex:e,style:d.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),oe.createElement("div",{style:d.hash},"#"),oe.createElement(aw,{label:null,style:{input:d.input},value:r.replace("#",""),onChange:p}),oe.createElement("div",{style:d.clear})))};eN.propTypes={width:fw().oneOfType([fw().string,fw().number]),triangle:fw().oneOf(["hide","top-left","top-right"]),colors:fw().arrayOf(fw().string),styles:fw().object},eN.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};pj(eN);var tN=function(e){var t=(0,Vx.ZP)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return oe.createElement("div",{style:t.picker})};tN.propTypes={hsl:fw().shape({h:fw().number,s:fw().number,l:fw().number,a:fw().number})},tN.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var nN=tN,rN=function(e){var t=(0,Vx.ZP)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return oe.createElement("div",{style:t.picker})};rN.propTypes={hsl:fw().shape({h:fw().number,s:fw().number,l:fw().number,a:fw().number})},rN.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var iN=rN,aN=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,a=e.hsv,o=function(e,n){if(e.hex)sj(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var r=e.rgb.split(",");cj(e.rgb,"rgb")&&t({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(e.hsv){var i=e.hsv.split(",");cj(e.hsv,"hsv")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("\xb0",""),1==i[1]?i[1]=.01:1==i[2]&&(i[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsv"},n))}else if(e.hsl){var a=e.hsl.split(",");cj(e.hsl,"hsl")&&(a[2]=a[2].replace("%",""),a[1]=a[1].replace("%",""),a[0]=a[0].replace("\xb0",""),1==u[1]?u[1]=.01:1==u[2]&&(u[2]=.01),t({h:Number(a[0]),s:Number(a[1]),v:Number(a[2]),source:"hsl"},n))}},s=(0,Vx.ZP)({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),l=n.r+", "+n.g+", "+n.b,c=Math.round(r.h)+"\xb0, "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",u=Math.round(a.h)+"\xb0, "+Math.round(100*a.s)+"%, "+Math.round(100*a.v)+"%";return oe.createElement("div",{style:s.wrap,className:"flexbox-fix"},oe.createElement("div",{style:s.fields},oe.createElement("div",{style:s.double},oe.createElement(aw,{style:{input:s.input,label:s.label},label:"hex",value:i,onChange:o})),oe.createElement("div",{style:s.column},oe.createElement("div",{style:s.single},oe.createElement(aw,{style:{input:s.input2,label:s.label2},label:"rgb",value:l,onChange:o})),oe.createElement("div",{style:s.single},oe.createElement(aw,{style:{input:s.input2,label:s.label2},label:"hsv",value:u,onChange:o})),oe.createElement("div",{style:s.single},oe.createElement(aw,{style:{input:s.input2,label:s.label2},label:"hsl",value:c,onChange:o})))))},oN=function(e){var t=e.width,n=e.onChange,r=e.rgb,i=e.hsl,a=e.hsv,o=e.hex,s=e.header,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,p=(0,Vx.ZP)($_({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return oe.createElement("div",{style:p.picker,className:"google-picker "+d},oe.createElement("div",{style:p.head},s),oe.createElement("div",{style:p.swatch}),oe.createElement("div",{style:p.saturation},oe.createElement(yC,{hsl:i,hsv:a,pointer:nN,onChange:n})),oe.createElement("div",{style:p.body},oe.createElement("div",{style:p.controls,className:"flexbox-fix"},oe.createElement("div",{style:p.hue},oe.createElement(dw,{style:p.Hue,hsl:i,radius:"4px",pointer:iN,onChange:n}))),oe.createElement(aN,{rgb:r,hsl:i,hex:o,hsv:a,onChange:n})))};oN.propTypes={width:fw().oneOfType([fw().string,fw().number]),styles:fw().object,header:fw().string},oN.defaultProps={width:652,styles:{},header:"Color picker"};pj(oN);var sN=function(e){var t=(0,oe.useState)(!1),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a="#fff"===e.value||"#ffffff"===e.value?"#f0f0f5":e.value;return(0,st.jsx)(Ff.default,{trigger:"click",placement:e.placement,arrowPointAtCenter:!0,visible:r,onVisibleChange:function(e){return i(e)},content:(0,st.jsx)("div",{style:{margin:"-12px -15px"},children:(0,st.jsx)(WZ,{width:"250px",color:e.value,onChangeComplete:function(t){e.onChange&&e.onChange(t.hex)}})}),children:(0,st.jsx)("div",{children:(0,st.jsx)(ed.Z.Item,{noStyle:!0,name:e.name,initialValue:e.value,children:(0,st.jsx)(Yc.default,{className:"pe-color-picker-editor",onKeyUp:function(e){27===e.which&&i(!1)},prefix:(0,st.jsx)("div",{style:{backgroundColor:e.value,width:"16px",height:"16px",borderRadius:"4px",border:"1px solid ".concat(a)}}),autoFocus:e.autoFocus,onChange:function(){e.onChange&&e.onChange(e.value)},value:e.value,style:e.style})})})})};sN.defaultProps={style:{width:"120px"},autoFocus:!1,placement:"top",name:void 0,onChange:void 0};var lN=sN,cN=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-upload-outlined-alt","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"})}))},uN=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:cN},e))},dN=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 11 10",fill:"currentColor",focusable:"false","data-icon":"pe-browser-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M9.81767 0.364578H1.01562C0.444336 0.364578 0 0.830073 0 1.3802V8.82816C0 9.39941 0.444336 9.84375 1.01562 9.84375H9.81767C10.3678 9.84375 10.8333 9.39941 10.8333 8.82816V1.3802C10.8333 0.830073 10.3678 0.364578 9.81767 0.364578ZM0.677083 1.3802C0.677083 1.21093 0.825195 1.04166 1.01562 1.04166H2.03125V2.39583H0.677083V1.3802ZM10.1562 8.82816C10.1562 9.01858 9.987 9.16666 9.81767 9.16666H1.01562C0.825195 9.16666 0.677083 9.01858 0.677083 8.82816V3.07291H10.1562V8.82816ZM10.1562 2.39583H2.70833V1.04166H9.81767C9.987 1.04166 10.1562 1.21093 10.1562 1.3802V2.39583Z"})}))},pN=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:dN},e))},fN=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({width:"1em",height:"1em",viewBox:"0 0 9 14",fill:"currentColor",focusable:"false","data-icon":"pe-Device-outlined","aria-hidden":"true"},e),{},{children:(0,st.jsx)("path",{d:"M5.474 11.1875C5.474 10.7559 5.09314 10.375 4.6615 10.375C4.20447 10.375 3.849 10.7559 3.849 11.1875C3.849 11.6445 4.20447 12 4.6615 12C5.09314 12 5.474 11.6445 5.474 11.1875ZM8.724 1.84375C8.724 1.18359 8.16541 0.625 7.50525 0.625H1.81775C1.1322 0.625 0.598999 1.18359 0.598999 1.84375V12.4062C0.598999 13.0918 1.1322 13.625 1.81775 13.625H7.50525C8.16541 13.625 8.724 13.0918 8.724 12.4062V1.84375ZM7.50525 12.2539C7.50525 12.3555 7.42908 12.4062 7.35291 12.4062H1.97009C1.86853 12.4062 1.81775 12.3555 1.81775 12.2539V1.99609C1.81775 1.91992 1.86853 1.84375 1.97009 1.84375H7.35291C7.42908 1.84375 7.50525 1.91992 7.50525 1.99609V12.2539Z"})}))},hN=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:fN},e))},gN=function(e){var t=(0,oe.useState)(""),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=e.initialData,o=e.onValuesChange,s=e.siteDetails,l=e.deviceType,c=e.getDeviceType,u=e.updateSiteDetailsState,d=ed.Z.useForm(),p=(0,xe.Z)(d,1)[0],f=mt.Z.Title,h=[{name:Ua("Top Left","pushengage"),value:"pe-top-left"},{name:Ua("Top Center","pushengage"),value:"pe-top-center"},{name:Ua("Top Right","pushengage"),value:"pe-top-right"}],g=[{name:Ua("Top","pushengage"),value:"pe-mobile-top"},{name:Ua("Bottom","pushengage"),value:"pe-mobile-bottom"}],m=function(e){o&&o(e,(0,kn.Z)((0,kn.Z)({},a),e))},v=function(e,t){m((0,ti.Z)({},e,t))};return(0,oe.useEffect)((function(){p.setFieldsValue(a)}),[a]),(0,oe.useEffect)((function(){p.setFieldsValue({siteImage:Ii()(s,"site_image")}),i(Ii()(s,"site_image"))}),[s]),(0,st.jsxs)(ed.Z,{layout:"vertical",initialValues:a,onFinish:function(){},onValuesChange:function(){},form:p,style:{maxWidth:"28rem"},colon:!1,children:[(0,st.jsx)(dt.Z,{className:"pe-mb-10",children:(0,st.jsxs)(zy.default.Group,{value:l,buttonStyle:"solid",size:"small",optionType:"button",className:"pe-design-radio-btn pe-radio-btn-color-white",onChange:function(e){c(e.target.value)},children:[(0,st.jsxs)(zy.default.Button,{value:"desktop",children:[(0,st.jsx)(pN,{style:{fontSize:"11px"}}),Ua(" Desktop","pushengage")]}),(0,st.jsxs)(zy.default.Button,{value:"mobile",children:[(0,st.jsx)(hN,{style:{fontSize:"11px"}}),Ua(" Mobile","pushengage")]})]})}),(0,st.jsx)(ed.Z.Item,{initialValue:null===a||void 0===a?void 0:a.site_name,name:"site_name",label:Ua("Site Name","pushengage"),help:null,children:(0,st.jsx)(zx,{value:null===a||void 0===a?void 0:a.site_name,onChange:function(e){v("site_name",e)},placeholder:Ua("Enter Site Name","pushengage")})}),(0,st.jsx)(ed.Z.Item,{name:"siteImage",label:Ua("Site icon","pushengage"),children:(0,st.jsxs)(dt.Z,{gutter:16,align:"middle",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)("div",{style:{width:64,height:64,border:"1px dashed #d9d9d9",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,background:"#fafafa"},children:Wi()(r)?(0,st.jsx)("div",{className:"pe-empty-image",children:(0,st.jsx)(lv,{style:{fontSize:"24px"}})}):(0,st.jsx)("img",{src:r,alt:"Site Icon",style:{width:"100%",height:"100%"}})})}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(pt.default,{onClick:function(){!function(){var e=So();e.open(),e.on("select",(function(){var t=e.state().get("selection").first().toJSON();t.url&&u&&u({site_image:t.url})}))}()},icon:(0,st.jsx)(uN,{}),children:Ua("Upload icon","pushengage")}),(0,st.jsx)("div",{className:"pe-fs-12 pe-mt-4",style:{color:"#8c8c8c"},children:Ua("Recommended size 192x192px (Max 1MB)","pushengage")})]})]})}),(0,st.jsx)(ed.Z.Item,{name:"optin_title",label:Ua("Message","pushengage"),help:null,children:(0,st.jsx)(zx,{value:null===a||void 0===a?void 0:a.optin_title,onChange:function(e){v("optin_title",e)},placeholder:Ua("Enter Popup Message","pushengage")})}),(0,st.jsx)(ed.Z.Item,{name:"optin_allow_btn_txt",label:Ua("Allow Button Text","pushengage"),help:null,children:(0,st.jsx)(zx,{value:null===a||void 0===a?void 0:a.optin_allow_btn_txt,onChange:function(e){v("optin_allow_btn_txt",e)},placeholder:Ua("Enter Allow Button Text","pushengage")})}),(0,st.jsxs)(f,{level:5,children:["Colors"," ",(0,st.jsx)(ft.default,{title:Ua("Customize the colors to match your brand perfectly.","pushengage"),children:(0,st.jsx)(Mv,{className:"pe-color-neutral-40"})})]}),(0,st.jsxs)(dt.Z,{gutter:24,children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(ed.Z.Item,{label:Ua("Background","pushengage"),children:(0,st.jsx)(lN,{value:null===a||void 0===a?void 0:a.bg,onChange:function(e){m({bg:e})}})})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(ed.Z.Item,{label:Ua("Allow Button","pushengage"),children:(0,st.jsx)(lN,{value:null===a||void 0===a?void 0:a.allowBtnBg,onChange:function(e){m({allowBtnBg:e})}})})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(ed.Z.Item,{label:Ua("Close Icon","pushengage"),children:(0,st.jsx)(lN,{value:null===a||void 0===a?void 0:a.closeBtnBg,onChange:function(e){m({closeBtnBg:e})}})})})]}),(0,st.jsxs)(f,{level:5,children:["Position Settings"," ",(0,st.jsx)(ft.default,{title:Ua("Select where the permission box appears on your website. Strategic placement can help increase conversion rate.","pushengage"),children:(0,st.jsx)(Mv,{className:"pe-color-neutral-40"})})]}),(0,st.jsx)(dt.Z,{gutter:[16,16],children:(0,st.jsx)(ht.Z,{span:10,children:"desktop"===l?(0,st.jsx)(ed.Z.Item,{name:"placement",label:Ua("Desktop","pushengage"),initialValue:null===a||void 0===a?void 0:a.placement,preserve:!1,children:(0,st.jsx)(Rv.default,{onChange:function(e){m({placement:e})},children:h.map((function(e,t){return(0,st.jsx)(Rv.default.Option,{value:e.value,children:e.name},t)}))})}):(0,st.jsx)(ed.Z.Item,{name:"placement",label:Ua("Mobile","pushengage"),initialValue:null===a||void 0===a?void 0:a.placement,preserve:!1,children:(0,st.jsx)(Rv.default,{onChange:function(e){m({placement:e})},children:g.map((function(e,t){return(0,st.jsx)(Rv.default.Option,{value:e.value,children:e.name},t)}))})})})}),(0,st.jsx)(dt.Z,{children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(ed.Z.Item,{name:"optin_delay",label:Ua("Delay (seconds)","pushengage"),initialValue:(null===a||void 0===a?void 0:a.optin_delay)||10,tooltip:{title:Ua("Set the delay time before displaying the popup. This gives visitors a moment to settle in, helping boost opt-in rates without disrupting their experience.","pushengage"),icon:(0,st.jsx)(Mv,{className:"pe-color-neutral-40"}),className:"pe-color-neutral-40"},children:(0,st.jsx)(Yc.default,{type:"number",min:0,style:{maxWidth:"177px"},onChange:function(e){m({optin_delay:parseInt(e.target.value,10)||0})}})})})})]})},mN=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 18 22",fill:"currentColor",focusable:"false","data-icon":"pe-opt-in-bell","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M9.0528 0.00546861C9.10255 0.0273431 9.14677 0.0546861 9.19652 0.0765606C9.52267 0.229682 9.71062 0.481238 9.7272 0.842167C9.73826 1.1156 9.73273 1.38903 9.7272 1.66246C9.7272 1.7773 9.76037 1.82652 9.88198 1.84839C12.458 2.31322 14.3762 4.14521 14.9068 6.67171C14.9953 7.10373 15.0174 7.55216 15.0285 7.99511C15.0506 8.91931 15.0119 9.84351 15.0672 10.7622C15.1667 12.3317 15.8466 13.6442 17.0296 14.6996C17.3723 15.0004 17.6321 15.3395 17.6708 15.8043C17.7537 16.7285 17.107 17.4503 16.1672 17.4996C16.1119 17.505 16.0567 17.4996 16.0014 17.4996C11.2308 17.4996 6.45468 17.4996 1.6841 17.4996C1.13131 17.4996 0.666963 17.33 0.324232 16.8925C-0.189863 16.2418 -0.0848327 15.3449 0.584044 14.7653C1.17 14.2567 1.63987 13.6715 1.99919 12.988C2.45248 12.1239 2.65701 11.1943 2.65701 10.2263C2.65701 9.38414 2.64595 8.54744 2.66254 7.70528C2.71782 4.82879 4.90134 2.32416 7.77032 1.85386C7.93063 1.82652 7.97485 1.76636 7.96933 1.61871C7.95827 1.45465 7.98038 1.29059 7.9638 1.12653C7.91405 0.585142 8.11858 0.202339 8.6382 0C8.7764 0.00546861 8.9146 0.00546861 9.0528 0.00546861Z"}),(0,st.jsx)("path",{d:"M8.47234 21.0049C8.06881 20.8737 7.64316 20.7862 7.27279 20.5948C6.40491 20.1518 5.87423 19.4245 5.61994 18.4948C5.61441 18.4675 5.61441 18.4401 5.60889 18.3964C7.76477 18.3964 9.91513 18.3964 12.0821 18.3964C12.0102 18.7901 11.8554 19.1511 11.6343 19.4847C11.0815 20.3159 10.3076 20.819 9.30706 20.9721C9.27389 20.9776 9.24625 20.994 9.21308 21.0049C8.96985 21.0049 8.7211 21.0049 8.47234 21.0049Z"})]}))},vN=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:mN},e))},yN=function(e){var t=(0,oe.useMemo)((function(){return Xa(e.bg)}),[e.bg]),n=(0,kn.Z)((0,kn.Z)({},e.style),{},{maxWidth:370,"--opt-in-width":"100%","--opt-in-background-color":e.bg,"--allow-btn-background-color":e.allowBtnBg,"--close-btn-background-color":e.closeBtnBg,"--opt-in-icon-url":"url(".concat(e.siteImage,")"),"--checkbox-checked-tick-color":e.checkbox_tick_color,"--checkbox-unchecked--color":e.checkbox_bg,"--checkbox-checked-background-color":e.bg});return(0,st.jsx)("div",{className:"opt-in__sleek-opt-in-box opt-in__sleek-opt-in-box--".concat(e.placement," opt-in__sleek-opt-in-box--").concat(t," opt-in__sleek-opt-in-box--").concat(e.viewType),style:n,children:(0,st.jsxs)("div",{className:"opt-in__sleek-opt-in-box__body",children:[(0,st.jsxs)("div",{className:"opt-in__sleek-opt-in-box__header",children:[(0,st.jsxs)("div",{className:"opt-in__sleek-opt-in-box__header__title",children:[(0,st.jsx)("div",{className:"opt-in__sleek-opt-in-box__bell-icon",children:(0,st.jsx)(vN,{})}),(0,st.jsx)("div",{className:"opt-in__sleek-opt-in-box__site-name",children:pf(e.site_name||"")})]}),(0,st.jsx)("div",{className:"opt-in__sleek-opt-in-box__close-icon",children:(0,st.jsx)($c,{})})]}),(0,st.jsxs)("div",{className:"opt-in__sleek-opt-in-box__content",children:[(0,st.jsx)("div",{className:"opt-in__sleek-opt-in-box__title",children:pf(e.optin_title)}),e.siteImage?(0,st.jsx)("div",{className:"opt-in__sleek-opt-in-box__icon__container",children:(0,st.jsx)("div",{className:"opt-in__sleek-opt-in-box__icon"})}):(0,st.jsx)("div",{className:"opt-in__sleek-opt-in-box__icon__container opt-in__sleek-opt-in-box__icon__container--default-icon",children:(0,st.jsx)(vN,{})})]}),Array.isArray(e.optin_segments)&&e.optin_segments.length>0&&(0,st.jsx)("div",{className:"opt-in__sleek-opt-in-box__segments",children:e.optin_segments.map((function(t,n){return(0,st.jsxs)("div",{className:"opt-in__checkbox",style:{marginTop:"".concat(n>=2?"10px":"0px")},children:[(0,st.jsx)("input",{name:"segments-".concat(t),type:"checkbox",value:t,id:"opt-in__segment-".concat(e.viewType,"-").concat(n),defaultChecked:e.default_segment_selection}),(0,st.jsx)("label",{htmlFor:"opt-in__segment-".concat(e.viewType,"-").concat(n),children:Ka(t)})]},"".concat(t,"-").concat(e.default_segment_selection))}))}),(0,st.jsx)("div",{className:"opt-in__sleek-opt-in-box__button",children:(0,st.jsx)("div",{className:"opt-in__sleek-opt-in-box__button__allow",children:pf(e.optin_allow_btn_txt)})}),!e.isWhiteLabel&&(0,st.jsxs)("div",{className:"opt-in__sleek-opt-in-box__powered-by",children:["Powered by ",(0,st.jsx)("strong",{children:"PushEngage"})]})]})})};yN.defaultProps={style:void 0};var bN=yN,xN=function(e){var t=mt.Z.Title,n=e.deviceType,r=e.previewProps,i=e.siteImage,a=(0,kn.Z)((0,kn.Z)({},r),{},{siteImage:i});return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(t,{level:3,children:Ua("Preview")}),(0,st.jsx)("div",{className:"pe-onboarding-subscriber-list-preview",children:"desktop"===n?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"pe-ant-card pe-ant-card-bordered",style:{padding:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,st.jsxs)(Ju.default,{size:6,children:[(0,st.jsx)("div",{style:{width:10,height:10,borderRadius:"50%",backgroundColor:"#f87171"}}),(0,st.jsx)("div",{style:{width:10,height:10,borderRadius:"50%",backgroundColor:"#facc15"}}),(0,st.jsx)("div",{style:{width:10,height:10,borderRadius:"50%",backgroundColor:"#4ade80"}})]}),(0,st.jsx)("div",{style:{flex:1,margin:"0 8px"},children:(0,st.jsx)("div",{className:"pe-ant-card pe-ant-card-body",style:{backgroundColor:"#f3f4f6",padding:"4px 8px",fontSize:"12px",color:"#6b7280",maxWidth:"300px",borderRadius:"4px",margin:"0 auto",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis"},children:window.location.hostname})})]}),(0,st.jsx)("div",{style:{border:"1px solid #e5e7eb",borderRadius:"4px",backgroundColor:"#f5f5f5",padding:"16px 16px 8rem 16px"},children:(0,st.jsxs)("div",{className:"pe-preview-popup-wrap",style:{margin:"0 auto",position:"relative"},children:[r&&(0,st.jsx)(bN,(0,kn.Z)({},a)),(0,st.jsx)("div",{style:{height:24,backgroundColor:"#e5e7eb",borderRadius:"4px",width:"144px",marginBottom:"16px"}}),(0,st.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[(0,st.jsx)("div",{style:{height:"96px",backgroundColor:"#e5e7eb",borderRadius:"4px"}}),(0,st.jsx)("div",{style:{height:"96px",backgroundColor:"#e5e7eb",borderRadius:"4px"}})]}),(0,st.jsx)("div",{style:{height:12,backgroundColor:"#e5e7eb",borderRadius:"4px",width:"100%",marginBottom:"8px"}}),(0,st.jsx)("div",{style:{height:12,backgroundColor:"#e5e7eb",borderRadius:"4px",width:"83.33%",marginBottom:"8px"}}),(0,st.jsx)("div",{style:{height:12,backgroundColor:"#e5e7eb",borderRadius:"4px",width:"66.67%"}})]})})]}):(0,st.jsx)("div",{className:"pe-mobile-preview",style:{position:"relative",backgroundImage:"url(".concat(window.pushengage.assetsUrl,"img/pe_android_preview.svg)")},children:r&&(0,st.jsx)(bN,(0,kn.Z)({},a))})})]})},wN=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{viewBox:"64 64 896 896",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"})}))},kN=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:wN},e))},_N=function(e){var t=e.stepDetails,n=e.saveHandler,r=e.handleStepChange,i=e.loading,a=e.onStateUpdate,o=(0,vt.s0)(),s=(0,oe.useMemo)((function(){return md()}),[]),l=fc(),c=0===t.current&&0===t.currentChannelIndex;return(0,st.jsxs)(dt.Z,{justify:"space-between",align:"middle",className:"pe-mt-24 pe-onboarding-panel-footer",children:[0!==t.current?(0,st.jsxs)(pt.default,{size:"large",loading:i,onClick:function(){r("prev")},children:[(0,st.jsx)(kN,{})," ",Ua("Previous Step")]}):c?(0,st.jsx)(pt.default,{size:"large",loading:i,icon:(0,st.jsx)(kN,{}),onClick:function(){var e={current:0,currentStepId:"channelSelection",onboardingType:"onboarding_setup_wizard",total:3};localStorage.setItem(ni.onboarding,JSON.stringify(e)),a&&a(e)},children:Ua("Channel Selection","pushengage")}):(0,st.jsx)("div",{}),(0,st.jsx)(pt.default,{className:"pe-btn-plain",onClick:function(){if(t.selectedChannels.length>1)if(t.currentChannelIndex<t.selectedChannels.length-1){var e=s.find((function(e){return e.id===t.selectedChannels[t.currentChannelIndex+1]}));if(e){var n=t.selectedChannels[t.currentChannelIndex],r=[].concat((0,we.Z)(l.skippedChannels||[]),[n]),i=(l.channels||[]).map((function(t){return t.id===n?(0,kn.Z)((0,kn.Z)({},t),{},{isSkipped:!0,isCurrent:!1,isSelected:!0,steps:t.steps.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:!1})}))}):t.id===e.id?(0,kn.Z)((0,kn.Z)({},t),{},{isCurrent:!0,isSelected:!0,steps:t.steps.map((function(e,t){return(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:0===t})}))}):t})),c={current:0,currentStepId:e.steps[0].id,selectedChannels:t.selectedChannels,currentChannelIndex:t.currentChannelIndex+1,total:e.steps.length,skippedChannels:r},u=(0,kn.Z)((0,kn.Z)((0,kn.Z)({},l),c),{},{channels:i,onboardingType:"onboarding_setup_wizard"});localStorage.setItem(ni.onboarding,JSON.stringify(u)),a&&a(u)}}else{var d=t.selectedChannels[t.currentChannelIndex],p=[].concat((0,we.Z)(l.skippedChannels||[]),[d]),f=(l.channels||[]).map((function(e){return e.id===d?(0,kn.Z)((0,kn.Z)({},e),{},{isSkipped:!0,isCurrent:!1,isSelected:!0,steps:e.steps.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:!1})}))}):e})),h=(0,kn.Z)((0,kn.Z)({},l),{},{skippedChannels:p,channels:f,onboardingType:"onboarding_setup_wizard"});localStorage.setItem(ni.onboarding,JSON.stringify(h)),o($r.path.dashboard)}else{var g=t.selectedChannels[t.currentChannelIndex],m=[].concat((0,we.Z)(l.skippedChannels||[]),[g]),v=(l.channels||[]).map((function(e){return e.id===g?(0,kn.Z)((0,kn.Z)({},e),{},{isSkipped:!0,isCurrent:!1,isSelected:!0,steps:e.steps.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:!1})}))}):e})),y=(0,kn.Z)((0,kn.Z)({},l),{},{skippedChannels:m,channels:v,onboardingType:"onboarding_setup_wizard"});localStorage.setItem(ni.onboarding,JSON.stringify(y)),o($r.path.dashboard)}},children:t.selectedChannels.length>1&&t.currentChannelIndex<t.selectedChannels.length-1?Ua("Skip"):Ua("Skip to Dashboard","pushengage")}),(0,st.jsxs)(pt.default,{size:"large",loading:i,type:"primary",onClick:function(){n()},children:[t.current!==t.total-1?Ua("Next Step"):Ua("Complete Setup")," ",(0,st.jsx)(kd,{})]})]})},CN=mt.Z.Title,jN=mt.Z.Text,SN=function(e){var t,n,r,i,a,o,s,l,c,u,d=e.stepDetails,p=e.handleStepChange,f=e.onStateUpdate,h=(0,oe.useState)(!1),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)("desktop"),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useState)({}),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useState)({}),Z=(0,xe.Z)(S,2),N=Z[0],E=Z[1],O=(0,oe.useState)(!1),A=(0,xe.Z)(O,2),T=A[0],P=A[1],M=bt(Hr),I=yt(),D=bt((function(e){var t,n;return(null===(t=e.session.user)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.site_url)||""})),L=bt((function(e){var t,n;return(null===(t=e.session.user)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.site_image)||""})),R=rd(D),B={duration:86400,enabled:!0,method:"last_click",result_name:"revenue",currency:(null===(t=window)||void 0===t||null===(n=t.pushengage)||void 0===n?void 0:n.wooCommerceCurrency)||"USD"},F=fc();(0,oe.useEffect)((function(){localStorage.setItem(ni.onboarding,JSON.stringify((0,kn.Z)((0,kn.Z)({},F),{},{current:0,currentStepId:"buildSubscriberList",onboardingType:"onboarding_setup_wizard"})))}),[F]),(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,ps({siteId:M,data:{notification_analytics:{result:B}}});case 4:t=e.sent,n=t.data,I(as(n)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:v(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))(),(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,ds({siteId:M,options:{name:"optin_settings"}});case 4:t=e.sent,j(t.data),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:v(!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}),[M]),(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E({site_image:L});case 2:case"end":return e.stop()}}),e)})))()}),[M]);var z={desktop:null===(r=C.optin_settings)||void 0===r||null===(i=r.optins)||void 0===i||null===(a=i["".concat(9)])||void 0===a||null===(o=a.desktop)||void 0===o?void 0:o[R],mobile:null===(s=C.optin_settings)||void 0===s||null===(l=s.optins)||void 0===l||null===(c=l["".concat(9)])||void 0===c||null===(u=c.mobile)||void 0===u?void 0:u[R]},V=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f=(0,kn.Z)({},C);if(null!==e&&void 0!==e&&null!==(t=e.desktop)&&void 0!==t&&t.optin_segments)null===f||void 0===f||(null===(r=f.optin_settings)||void 0===r||(null===(i=r.optins)||void 0===i||(null===(a=i[9])||void 0===a||(null===(o=a.desktop)||void 0===o||(null===(s=o.http)||void 0===s||delete s.optin_segments))))),null===f||void 0===f||(null===(l=f.optin_settings)||void 0===l||(null===(c=l.optins)||void 0===c||(null===(u=c[9])||void 0===u||(null===(d=u.desktop)||void 0===d||(null===(p=d.https)||void 0===p||delete p.optin_segments)))));else if(null!==e&&void 0!==e&&null!==(n=e.mobile)&&void 0!==n&&n.optin_segments){var h,g,m,v,y,b,x,w,k,_;null===f||void 0===f||(null===(h=f.optin_settings)||void 0===h||(null===(g=h.optins)||void 0===g||(null===(m=g[9])||void 0===m||(null===(v=m.mobile)||void 0===v||(null===(y=v.http)||void 0===y||delete y.optin_segments))))),null===f||void 0===f||(null===(b=f.optin_settings)||void 0===b||(null===(x=b.optins)||void 0===x||(null===(w=x[9])||void 0===w||(null===(k=w.mobile)||void 0===k||(null===(_=k.https)||void 0===_||delete _.optin_segments)))))}var S={};S=Object.prototype.hasOwnProperty.call(e,"desktop")?{desktop:{https:e.desktop,http:e.desktop||void 0}}:{mobile:{https:e.mobile,http:e.mobile||void 0}},f.optin_settings=Li()({},f.optin_settings,{optins:(0,ti.Z)({},9,S)});var Z={https:{type:9,types:Array.from(new Set([9]))},http:{type:9,types:Array.from(new Set([9]))}};f.optin_settings.activeOptin=Z,j(f)},U=function(e,t){if(V){var n=(0,kn.Z)((0,kn.Z)({},(0,ti.Z)({},x,e)),(0,ti.Z)({},x,t));V(n)}},H=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ps){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,ps({siteId:M,data:C});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:if(N.site_image&&!Wi()(N.site_image)){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,e.next=14,Zd({siteId:M,data:N});case 14:e.next=18;break;case 16:e.prev=16,e.t1=e.catch(11);case 18:case"end":return e.stop()}}),e,null,[[2,7],[11,16]])})));return function(){return e.apply(this,arguments)}}(),W=function(e){E((0,kn.Z)((0,kn.Z)({},N),e))},q=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,H();case 3:v(!1),p("next");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[T&&(0,st.jsx)(Cy,{visible:T,text:Ua("You don't have permission to update design settings. Please contact to your admin."),onOk:function(){return P(!1)}}),(0,st.jsxs)(Wc.Z,{style:{borderRadius:"8px"},children:[(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(CN,{className:"pe-fs-24 pe-mb-16",level:2,children:ba(Ua("Step %s: Build Subscriber List"),d.current+1)}),(0,st.jsx)(jN,{className:"pe-mb-24",type:"secondary",children:Ua("Welcome! Let's get started by setting up how and when your visitors see the push notification permission box. This is your first and most important step toward growing your subscriber list. It invites users to subscribe so you can reach them with personalized updates, offers, and alerts\u2014even after they leave your site.")})]}),(0,st.jsx)(Hc.default,{spinning:m,children:(0,st.jsxs)(dt.Z,{gutter:[16,16],children:[(0,st.jsx)(ht.Z,{lg:12,xs:24,md:12,children:"desktop"===x?(0,st.jsx)(gN,{initialData:z.desktop,onValuesChange:U,siteDetails:N,deviceType:"desktop",getDeviceType:function(e){return w(e)},updateSiteDetailsState:W}):(0,st.jsx)(gN,{initialData:z.mobile,onValuesChange:U,siteDetails:N,deviceType:"mobile",getDeviceType:function(e){return w(e)},updateSiteDetailsState:W})}),(0,st.jsx)(ht.Z,{style:{padding:"1.5rem",backgroundColor:"#f9fafb",borderRadius:"8px"},lg:12,xs:24,md:12,children:"desktop"===x?(0,st.jsx)(xN,{deviceType:x,previewProps:z.desktop,siteImage:N.site_image}):(0,st.jsx)(xN,{deviceType:x,previewProps:z.mobile,siteImage:N.site_image})})]})})]}),(0,st.jsx)(_N,{stepDetails:d,saveHandler:q,handleStepChange:p,loading:m,onStateUpdate:f})]})},ZN=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 15 10",fill:"currentColor",focusable:"false","data-icon":"pe-Eye-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M7.3125 2.28125C7.0332 2.30664 6.75391 2.33203 6.5 2.4082C6.62695 2.61133 6.67773 2.86523 6.70312 3.09375C6.70312 3.88086 6.04297 4.51562 5.28125 4.51562C5.02734 4.51562 4.77344 4.46484 4.5957 4.33789C4.51953 4.5918 4.46875 4.8457 4.46875 5.125C4.46875 6.69922 5.73828 7.96875 7.3125 7.96875C8.88672 7.96875 10.1562 6.69922 10.1562 5.125C10.1562 3.57617 8.88672 2.30664 7.3125 2.30664V2.28125ZM14.5234 4.76953C13.1523 2.07812 10.4102 0.25 7.3125 0.25C4.18945 0.25 1.44727 2.07812 0.0761719 4.76953C0.0253906 4.87109 0 4.99805 0 5.125C0 5.27734 0.0253906 5.4043 0.0761719 5.50586C1.44727 8.19727 4.18945 10 7.3125 10C10.4102 10 13.1523 8.19727 14.5234 5.50586C14.5742 5.4043 14.5996 5.27734 14.5996 5.15039C14.5996 4.99805 14.5742 4.87109 14.5234 4.76953ZM7.3125 8.78125C4.79883 8.78125 2.48828 7.38477 1.26953 5.125C2.48828 2.86523 4.79883 1.46875 7.3125 1.46875C9.80078 1.46875 12.1113 2.86523 13.3301 5.125C12.1113 7.38477 9.80078 8.78125 7.3125 8.78125Z"})}))},NN=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:ZN},e))},EN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Lc.get("sites/".concat(e,"/automation/drips").concat(t))},ON=function(e,t,n){return Lc.patch("sites/".concat(e,"/automation/drips/").concat(t,"/status"),n)},AN=function(e,t){return Lc.delete("sites/".concat(e,"/automation/drips/").concat(t))},TN=function(e,t){return Lc.get("sites/".concat(e,"/automation/drips/").concat(t,"/edit"))},PN=function(e,t,n){var r="";return n&&(r=Eo(n)),Lc.get("sites/".concat(e,"/automation/drips/").concat(t).concat(r))},MN=function(e,t){return Lc.post("sites/".concat(e,"/automation/drips"),t)},IN=function(e,t,n){return Lc.put("sites/".concat(e,"/automation/drips/").concat(t),n)};function DN(e,t,n){var r=Eo(n);return Lc.get("sites/".concat(e,"/automation/drips/").concat(t).concat(r))}var LN=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",focusable:"false","data-icon":"pe-ai-outlined","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M13.6712 11.0625L5.49556 2.86938C5.05681 2.43188 4.34618 2.43188 3.90743 2.86938L2.87868 3.89501C2.43993 4.33251 2.43993 5.04126 2.87868 5.47876L11.0543 13.6719C11.4931 14.1094 12.2037 14.1094 12.6424 13.6719L13.6712 12.6463C14.1099 12.2088 14.1099 11.5 13.6712 11.0625ZM8.68681 8.01626L8.03994 8.66126C7.83431 8.86626 7.50118 8.86626 7.29556 8.66126L3.71306 5.08814C3.50743 4.88314 3.50743 4.55064 3.71306 4.34564L4.35993 3.70064C4.56556 3.49564 4.89868 3.49564 5.10431 3.70064L8.68681 7.27376C8.89244 7.47876 8.89244 7.81126 8.68681 8.01626Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M4.77056 0H3.77119V1.67563H4.77056V0Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M1.65746 3.80811H-4.0849e-05V4.75936H1.65746V3.80811Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M3.82495 10.3681H4.82433V8.6925H3.82495V10.3681Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M8.71307 4.84813H10.3706V3.89688H8.71307V4.84813Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M8.61875 0.123749L6.30625 2.43062L7.10563 3.2275L9.41813 0.920624L8.61875 0.123749Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M0.900607 0.0093689L0.101857 0.806244L2.41498 3.11312L3.21373 2.31624L0.900607 0.0093689Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M2.41436 6.24564L0.101857 8.55251L0.901232 9.34939L3.21373 7.04251L2.41436 6.24564Z",fill:"currentColor"})]}))},RN=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:LN},e))},BN=n(80646),FN=n.n(BN),zN=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 17 16",fill:"currentColor",focusable:"false","data-icon":"pe-smile-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M8.5 0.25C4.21875 0.25 0.75 3.71875 0.75 8C0.75 12.2812 4.21875 15.75 8.5 15.75C12.7812 15.75 16.25 12.2812 16.25 8C16.25 3.71875 12.7812 0.25 8.5 0.25ZM8.5 14.25C5.03125 14.25 2.25 11.4688 2.25 8C2.25 4.5625 5.03125 1.75 8.5 1.75C11.9375 1.75 14.75 4.5625 14.75 8C14.75 11.4688 11.9375 14.25 8.5 14.25ZM6 7.5C6.53125 7.5 7 7.0625 7 6.5C7 5.96875 6.53125 5.5 6 5.5C5.4375 5.5 5 5.96875 5 6.5C5 7.0625 5.4375 7.5 6 7.5ZM11 7.5C11.5312 7.5 12 7.0625 12 6.5C12 5.96875 11.5312 5.5 11 5.5C10.4375 5.5 10 5.96875 10 6.5C10 7.0625 10.4375 7.5 11 7.5ZM11.125 9.78125C10.4688 10.5625 9.5 11 8.5 11C7.46875 11 6.5 10.5625 5.875 9.78125C5.59375 9.46875 5.125 9.4375 4.8125 9.6875C4.5 9.9375 4.4375 10.4375 4.71875 10.75C5.65625 11.875 7.03125 12.5 8.5 12.5C9.9375 12.5 11.3125 11.875 12.25 10.75C12.5312 10.4375 12.5 9.9375 12.1562 9.6875C11.8438 9.4375 11.375 9.46875 11.125 9.78125Z"})}))},VN=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:zN},e))},UN=function(e){var t=e.value,n=e.setValue,r=e.inputId,i=e.overlayClassName,a=void 0===i?"picker__wrap":i,o=e.placement,s=void 0===o?"bottomRight":o,l=e.trigger,c=void 0===l?"click":l,u=e.icon,d=e.iconClassName,p=void 0===d?"pe-fs-16 pe-h-19":d,f=e.iconStyle,h=void 0===f?{verticalAlign:"middle"}:f,g=e.searchPlaceholder,m=void 0===g?"Search":g,v=e.getPopupContainer;return(0,st.jsx)(Ff.default,{overlayClassName:a,trigger:c,placement:s,arrowPointAtCenter:!0,transitionName:"",getPopupContainer:v||function(e){return e.closest("div")},content:(0,st.jsx)(FN(),{searchPlaceholder:m,onEmojiClick:function(e,i){e.preventDefault();var a=document.getElementById(r||""),o=0;if(a&&a.selectionStart&&(o=a.selectionStart),o<Number(null===t||void 0===t?void 0:t.length)){var s=t.slice(0,o)+i.emoji+t.slice(o);n(s),setTimeout((function(){a.focus(),a.setSelectionRange(o+2,o+2)}),0)}else n(t+i.emoji)}}),children:u||(0,st.jsx)(VN,{className:p,style:h})})},HN=function(e){var t=(0,oe.useState)(""),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=void 0!==e.limit.min&&e.limit.min>=e.value.length,o=function(t){e.setValue(t.target.value),i("");var n=void 0!==e.limit.min&&e.limit.min>=t.target.value.length;t.target.value.length>e.limit.value||n?e.setError&&e.setError(!0):e.setError&&e.setError(!1)},s=function(t){e.setValue(t.target.value),i("");var n=void 0!==e.limit.min&&e.limit.min>=t.target.value.length;e.setError&&(t.target.value.length>e.limit.value||n?e.setError(!0):e.setError(!1))},l=function(t){e.setValue(t.target.value),i("");var n=void 0!==e.limit.min&&e.limit.min>=t.target.value.length;e.setErrorMessage&&e.setErrorMessage(""),e.setError&&(t.target.value.length>e.limit.value||n?e.setError(!0):e.setError(!1))},c=function(){var t;switch(e.type||"text"){case"textArea":return(0,st.jsx)(Yc.default.TextArea,{autoSize:{minRows:2,maxRows:6},value:e.value,placeholder:e.placeHolder,onChange:o,disabled:e.disabled||!1,onKeyDown:e.onKeyDown||void 0});case"password":return(0,st.jsx)(Yc.default.Password,{size:"large",value:e.value,placeholder:e.placeHolder,onChange:s,disabled:e.disabled||!1});case"text":return(0,st.jsx)(Yc.default,{"data-testid":e.testId,value:e.value,name:e.name||"",id:(null===e||void 0===e?void 0:e.id)||"",placeholder:e.placeHolder,onChange:l,disabled:e.disabled||!1,onBlur:e.onBlur,onFocus:e.onFocus,size:e.size,className:"".concat(e.value&&e.value.length>e.limit.value?"goal-length-exceeded":"pe-input-counter"),suffix:e.limit.value?(0,st.jsx)("span",{children:String(e.limit.value-Number((null===(t=e.value)||void 0===t?void 0:t.length)||0))}):void 0,addonAfter:e.hasEmoji?(0,st.jsx)(UN,{value:e.value,setValue:e.setValue,inputId:null===e||void 0===e?void 0:e.id}):null});default:return null}};return e.wrapperCol?(0,st.jsx)(ed.Z.Item,{label:e.label,className:"limit-input ".concat(e.className||""),help:e.errorMessage&&""!==e.errorMessage?e.errorMessage:""!==r?e.limit.error:a?e.limit.min&&0!==e.limit.min?"minimum ".concat(e.limit.min+1," characters required"):"":e.limit?e.value&&e.value.length&&"".concat(e.value.length.toString(),"/").concat(e.limit&&e.limit.value):"",extra:e.extra,hasFeedback:e.hasFeedback,wrapperCol:e.wrapperCol,children:c()}):(0,st.jsx)(ed.Z.Item,{label:e.label,className:"limit-input ".concat(e.className?e.className:""),hasFeedback:e.hasFeedback,validateStatus:e.errorMessage&&"error",help:e.errorMessage||void 0,extra:e.extra,tooltip:e.tooltipConfig?e.tooltipConfig:void 0,children:e.isTextGenerator&&"function"===typeof e.openAiTextGenerateModal?(0,st.jsxs)(dt.Z,{className:"ai-text-generator-limit-input",gutter:[8,8],children:[(0,st.jsx)(ht.Z,{span:24,xl:18,className:"ai-text-generator-limit-input-field",children:c()}),(0,st.jsx)(ht.Z,{span:24,xl:6,className:"ai-text-generator-limit-input-btn pe-d-flex",children:(0,st.jsx)(ft.default,{title:Ua("Generate text using AI","pushengage"),children:(0,st.jsx)(pt.default,{className:"pe-fs-14",style:{color:"#5E6071",alignSelf:"center"},icon:(0,st.jsx)(RN,{className:"pe-fs-14 color-primary"}),onClick:e.openAiTextGenerateModal,children:Ua("Generate Text","pushengage")})})})]}):c()})},WN=mt.Z.Text,qN=function(e){var t,n,r,i=e.campaign,a=e.onValueChange,o=ed.Z.useForm(),s=(0,xe.Z)(o,1)[0];(0,oe.useEffect)((function(){i&&s.setFieldsValue(i.notifications[0])}),[i]);return(0,st.jsxs)(dt.Z,{justify:"center",children:[(0,st.jsx)(ht.Z,{span:12,md:12,sm:24,style:{paddingRight:"3.5rem"},children:(0,st.jsxs)(ed.Z,{initialValues:null===i||void 0===i?void 0:i.notifications[0],layout:"vertical",children:[(0,st.jsx)(HN,{type:"text",name:"notification_title",id:"notification-title",label:Ua("Notification Title","pushengage"),className:"pe-notification-title",value:null===i||void 0===i?void 0:i.notifications[0].notification_title,setValue:function(e){return a("notification_title",e)},limit:{value:130},errorMessage:"",hasEmoji:!0}),(0,st.jsx)(HN,{type:"text",name:"notification_message",label:Ua("Notification Message","pushengage"),className:"pe-notification-msg",value:null===i||void 0===i?void 0:i.notifications[0].notification_message,setValue:function(e){return a("notification_message",e)},limit:{value:200},errorMessage:"",hasEmoji:!0,id:"notification-message"}),(0,st.jsx)(HN,{className:"pe-notification-url",name:"notification_url",value:null===i||void 0===i?void 0:i.notifications[0].notification_url,label:Ua("Notification URL","pushengage"),limit:{value:200},extra:(0,st.jsx)(WN,{type:"secondary",className:"darker",children:Ua("Example Notification URL : https://www.pushengage.com","pushengage")}),type:"text",setValue:function(e){return a("notification_url",e)},errorMessage:""}),(0,st.jsx)(ed.Z.Item,{name:"notification_image",label:Ua("Notification Image","pushengage"),children:(0,st.jsxs)(dt.Z,{gutter:16,align:"middle",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)("div",{style:{width:64,height:64,border:"1px dashed #d9d9d9",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,background:"#fafafa"},children:null!==i&&void 0!==i&&null!==(t=i.notifications[0])&&void 0!==t&&t.notification_image?(0,st.jsx)("img",{src:null===i||void 0===i||null===(n=i.notifications[0])||void 0===n?void 0:n.notification_image,alt:"Site Icon",style:{width:"100%",height:"100%"}}):(0,st.jsx)("div",{className:"pe-empty-image",children:(0,st.jsx)(lv,{style:{fontSize:"24px"}})})})}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(pt.default,{onClick:function(){!function(){var e=So();e.open(),e.on("select",(function(){var t=e.state().get("selection").first().toJSON();t.url&&a("notification_image",t.url)}))}()},icon:(0,st.jsx)(uN,{}),children:Ua("Upload icon","pushengage")}),(0,st.jsx)("div",{className:"pe-fs-12 pe-mt-4",style:{color:"#8c8c8c"},children:Ua("Recommended size 192x192px (Max 1MB)","pushengage")})]})]})})]})}),(0,st.jsx)(ht.Z,{span:12,md:12,sm:24,children:(0,st.jsx)("div",{className:"pe-campaign-notification-preview",style:{backgroundImage:"url(".concat(window.pushengage.assetsUrl,"img/pe_windows_preview.svg)"),backgroundSize:"cover",backgroundPosition:"100% 100%",height:"532px"},children:(0,st.jsx)(jb,{title:null===i||void 0===i?void 0:i.notifications[0].notification_title,message:null===i||void 0===i?void 0:i.notifications[0].notification_message,imgUrl:null===i||void 0===i?void 0:i.notifications[0].notification_image,big_image:null!==(r=null===i||void 0===i?void 0:i.notifications[0].big_image)&&void 0!==r?r:void 0,btn1:{title:Ua("View","pushengage"),url:null===i||void 0===i?void 0:i.notifications[0].notification_url},url:null===i||void 0===i?void 0:i.notifications[0].notification_url})})})]})},KN=/^(https?):\/\/[^\s$.?#].[^\s]*$/,YN=Object.freeze({emptyNotificationTitle:Ua("Add a catchy broadcast title. Let\u2019s get your broadcast noticed.","pushengage"),emptyNotificationMessage:Ua("Add a message. Give your subscribers a reason to click.","pushengage"),emptyNotificationUrl:Ua("Add a URL to your landing page. Get more conversions right away.","pushengage"),limitNotificationTitle:Ua("Notification title cannot be longer than 85 characters","pushengage"),limitNotificationMessage:Ua("Notification message cannot be longer than 135 characters","pushengage"),limitNotificationUrl:Ua("Notification URL cannot be longer than 1600 characters","pushengage"),invalidNotificationUrl:Ua("Invalid notification URL","pushengage"),emptyNotificationBigImage:Ua("Notification large image cannot be blank if enabled","pushengage"),emptyRepeatScheduleDay:Ua("Choose At least one day in week to repeat schedule","pushengage"),emptyTriggerTitle:Ua("Notification title cannot be blank","pushengage"),emptyTriggerMessage:Ua("Notification message cannot be blank","pushengage"),emptyTriggerUrl:Ua("Notification URL cannot be blank","pushengage"),limitTriggerTitle:Ua("Notification title cannot be longer than 200 characters","pushengage"),limitTriggerMessage:Ua("Notification message cannot be longer than 200 characters","pushengage"),limitTriggerUrl:Ua("Notification URL cannot be longer than 300 characters","pushengage"),invalidTriggerUrl:Ua("Invalid notification URL","pushengage"),limitTriggerImage:Ua("Notification image cannot be longer than 300 characters","pushengage"),limitTriggerBigImage:Ua("Notification big image cannot be longer than 300 characters","pushengage"),emptyTriggerEventName:Ua("Event name can not be empty","pushengage"),emptyTriggerCampaignName:Ua("Campaign name can not be empty","pushengage"),limitTriggerCampaignName:Ua("Campaign name length can not be greater than 150 characters","pushengage"),limitTriggerActionLabel:Ua("Action label cannot be longer than 200 characters","pushengage"),limitTriggerActionUrl:Ua("Action URL cannot be longer than 300 characters","pushengage"),emptyDripCampaignName:Ua("Campaign name can not be Empty","pushengage"),limitDripCampaignName:Ua("Campaign name length can not be greater than 150 characters","pushengage"),emptyActionLabel:Ua("Action label cannot be blank","pushengage"),emptyActionUrl:Ua("Action URL cannot be blank","pushengage"),limitActionLabel:Ua("Action label cannot be longer than 12 characters","pushengage"),limitActionUrl:Ua("Action URL cannot be longer than 256 characters","pushengage"),invalidActionUrl:Ua("Invalid action URL","pushengage"),limitAndroidPushAccentColor:"Invalid color code",limitAndroidPushSmallIcon:"Small icon cannot be longer than 160 characters",limitAndroidPushDeepLink:"Deep link cannot be longer than 1600 characters",limitAndroidPushSound:"Sound cannot be longer than 80 characters",limitAndroidPushGroupKey:"Group key cannot be longer than 80 characters",limitAndroidPushChannel:"Please select a channel",limitAndroidPushActionUrl:"Action url cannot be longer than 1600 characters",limitAndroidPushActionLabel:"Action label  cannot be longer than 40 characters",emptyAndroidPushActionLabel:"Action label cannot be blank if action url is specified",emptyAndroidPushActionUrl:"Action url cannot be blank if action label is specified",limitIosPushDeepLink:"Deep link icon cannot be longer than 1600 characters",limitIosPushSound:"Sound cannot be longer than 80 characters",limitIosPushCategoryName:"Category name cannot be longer than 80 characters",limitIosPushThreadId:"Thread id cannot be longer than 80 characters",limitIosPushActionId:"Action id cannot be longer than 1600 characters",limitIosPushActionLabel:"Action label  cannot be longer than 40 characters",emptyIosPushActionLabel:"Action label cannot be blank if action id is specified",emptyIosPushActionId:"Action id cannot be blank if action label is specified",limitMobilePushCollapseId:"Collapse id cannot be longer than 40 characters",limitAdditionalDataKey:"Additional field key cannot be longer than 16 characters",limitAdditionalDataValue:"Additional field value cannot be longer than 512 characters",emptyAdditionalDataKey:"Additional field key cannot be blank if additional field value is specified",emptyAdditionalDataValue:"Additional field value cannot be blank if additional field key is specified",emptyUtmSource:Ua("UTM Source cannot be blank","pushengage"),emptyUtmMedium:Ua("UTM Medium cannot be blank","pushengage"),emptyUtmCampaign:Ua("UTM Campaign cannot be blank","pushengage"),emptyUtmTerm:Ua("UTM Term cannot be blank","pushengage"),emptyUtmContent:Ua("UTM Content cannot be blank","pushengage"),limitUtmSource:Ua("UTM Source cannot be longer than 80 characters","pushengage"),limitUtmMedium:Ua("UTM Medium cannot be longer than 80 characters","pushengage"),limitUtmCampaign:Ua("UTM Campaign cannot be longer than 80 characters","pushengage"),limitUtmTerm:Ua("UTM Term cannot be longer than 80 characters","pushengage"),limitUtmContent:Ua("UTM Content cannot be longer than 120 characters","pushengage"),maxExpiry:Ua("Expiry can be maximum of 28 days","pushengage"),minExpiry:Ua("Expiry must be minimum of 1 minute","pushengage"),limitGoalName:Ua("Goal name must be a minimum of 1 and maximum of 64 characters","pushengage"),invalidGoalName:Ua("Result name can contain only alphabets, numbers, hyphen(-) and underscore(_)","pushengage")});function GN(e){var t=[],n=e;return"object"!==typeof e||Array.isArray(e)||Object.values(n).forEach((function(e){"boolean"!==typeof e&&("string"===typeof e?e&&t.push(e):"object"===typeof e&&(Array.isArray(e)?e.forEach((function(e){t.push.apply(t,(0,we.Z)(GN(e)))})):t.push.apply(t,(0,we.Z)(GN(e)))))})),t}function QN(e){var t,n={},r=!1;if(null!==e&&void 0!==e&&null!==(t=e.utm_params)&&void 0!==t&&t.enabled){var i,a,o,s,l,c=((null===(i=e.utm_params)||void 0===i?void 0:i.utm_source)||"").trim();c?c.length>80&&(r=!0,n.utm_source=YN.limitUtmSource):(r=!0,n.utm_source=YN.emptyUtmSource);var u=((null===(a=e.utm_params)||void 0===a?void 0:a.utm_medium)||"").trim();u?u.length>80&&(r=!0,n.utm_medium=YN.limitUtmMedium):(r=!0,n.utm_medium=YN.emptyUtmMedium);var d=((null===(o=e.utm_params)||void 0===o?void 0:o.utm_campaign)||"").trim();d?d.length>80&&(r=!0,n.utm_campaign=YN.limitUtmCampaign):(r=!0,n.utm_campaign=YN.emptyUtmCampaign),((null===(s=e.utm_params)||void 0===s?void 0:s.utm_term)||"").trim().length>80&&(r=!0,n.utm_term=YN.limitUtmTerm),((null===(l=e.utm_params)||void 0===l?void 0:l.utm_term)||"").trim().length>120&&(r=!0,n.utm_content=YN.limitUtmContent)}return{errors:n,isValid:!r}}function XN(e){var t={label:"",url:"",image_url:""},n=!1,r=e.label.trim();return r?r.length>12&&(n=!0,t.label=YN.limitActionLabel):(n=!0,t.label=YN.emptyActionLabel),(r=e.url.trim())?r.length>256?(n=!0,t.url=YN.limitActionUrl):KN.test(r)||(n=!0,t.url=YN.invalidActionUrl):(n=!0,t.url=YN.emptyActionUrl),{hasError:n,error:t}}function $N(e){var t,n,r={notification_title:"",notification_message:"",notification_url:"",big_image:"",actions:[{label:"",url:"",image_url:""},{label:"",url:"",image_url:""}],expiry:"",utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:"",valid_from:"",multiSite:"",schedule_days:"",repeat_schedule_start_end_date:"",sent_limit:"",sent_limit_percentage:"",winner_delay:"",maxSubCount:""},i=!1,a="",o=(e.notification_title||"").trim();if(o?o.length>85&&(i=!0,r.notification_title=YN.limitNotificationTitle):(i=!0,r.notification_title=YN.emptyNotificationTitle),(o=(e.notification_message||"").trim())?o.length>135&&(i=!0,r.notification_message=YN.limitNotificationMessage):(i=!0,r.notification_message=YN.emptyNotificationMessage),(o=(e.notification_url||"").trim())?KN.test(o)?o.length>1600&&(i=!0,r.notification_url=YN.limitNotificationUrl):(i=!0,r.notification_url=YN.invalidNotificationUrl):(i=!0,r.notification_url=YN.emptyNotificationUrl),e.big_image_enabled&&!e.big_image&&(i=!0,r.big_image=YN.emptyNotificationBigImage),i&&(a="general-info"),e.multiAction){var s=!1;r.actions=[{label:"",url:"",image_url:""}];var l=XN(e.actions[0]);l.hasError&&(s=l.hasError,r.actions[0]=l.error),e.multiActionBtn2&&(r.actions.push({label:"",url:"",image_url:""}),(l=XN(e.actions[1])).hasError&&(s=l.hasError,r.actions[1]=l.error)),s&&(i=!0,a=a||"multi-actions")}if(null!==(t=e.utm_params)&&void 0!==t&&t.enabled){var c=QN(e),u=c.isValid,d=c.errors;u||(r=(0,kn.Z)((0,kn.Z)({},r),d),i=!0,a=a||"utm-params")}return(null!==e&&void 0!==e&&e.duration_enabled||null!==e&&void 0!==e&&null!==(n=e.notification_duration)&&void 0!==n&&n.enabled)&&(e.expiry>li.MAX_EXPIRY?(i=!0,r.expiry=YN.maxExpiry):e.expiry<li.MIN_EXPIRY&&(i=!0,r.expiry=YN.minExpiry)),{errors:r,isValid:!i,messages:GN(r),box:a}}function JN(e){var t=Bi()(e),n=[],r=!1;return t.noti=t.notifications.map((function(e,t){var i=[],a=function(e){var t,n,r,i,a,o,s={},l=!1,c=(e.notification_title||"").trim();return""===c?(l=!0,s.notification_title=YN.emptyTriggerTitle):c.length>200&&(l=!0,s.notification_title=YN.limitTriggerTitle),""===(c=(e.notification_message||"").trim())?(l=!0,s.notification_message=YN.emptyTriggerMessage):c.length>200&&(l=!0,s.notification_message=YN.limitTriggerMessage),""===(c=(e.notification_url||"").trim())?(l=!0,s.notification_url=YN.emptyTriggerUrl):c.length>300&&(l=!0,s.notification_url=YN.limitTriggerUrl),(c=(e.notification_image||"").trim()).length>300&&(l=!0,s.notification_image=YN.limitTriggerImage),(c=(e.big_image||"").trim()).length>300&&(l=!0,s.big_image=YN.limitTriggerBigImage),e.multiAction&&(s.actions=[{label:"",url:""}],""===(c=((null===e||void 0===e||null===(r=e.actions[0])||void 0===r?void 0:r.label)||"").trim())?(l=!0,s.actions[0].label=YN.emptyActionLabel):c.length>200&&(l=!0,s.actions[0].label=YN.limitTriggerActionLabel),""===(c=((null===e||void 0===e||null===(i=e.actions[0])||void 0===i?void 0:i.url)||"").trim())?(l=!0,s.actions[0].url=YN.emptyActionUrl):c.length>300&&(l=!0,s.actions[0].url=YN.limitTriggerActionUrl),e.multiActionBtn2&&(s.actions.push({label:"",url:""}),""===(c=((null===e||void 0===e||null===(a=e.actions[1])||void 0===a?void 0:a.label)||"").trim())?(l=!0,s.actions[1].label=YN.emptyActionLabel):c.length>200&&(l=!0,s.actions[1].label=YN.limitTriggerActionLabel),""===(c=((null===e||void 0===e||null===(o=e.actions[1])||void 0===o?void 0:o.url)||"").trim())?(l=!0,s.actions[1].url=YN.emptyActionUrl):c.length>300&&(l=!0,s.actions[1].url=YN.limitTriggerActionUrl))),null!==e&&void 0!==e&&null!==(t=e.notification_duration)&&void 0!==t&&t.enabled&&e.expiry>li.MAX_EXPIRY&&(l=!0,s.expiry=YN.maxExpiry),null!==e&&void 0!==e&&null!==(n=e.notification_duration)&&void 0!==n&&n.enabled&&e.expiry<li.MIN_EXPIRY&&(l=!0,s.expiry=YN.minExpiry),{errors:s,isValid:!l,messages:GN(s)}}(e);if(a.isValid||(r=!0,e.errors=(0,kn.Z)((0,kn.Z)({},e.errors),a.errors),a.messages&&(i=a.messages)),"immediately"!==e.schedule_options.type&&0===e.schedule_options.value){r=!0;var o="Notification delay should be greater than to 0 ".concat(e.schedule_options.unit);e.errors=(0,kn.Z)((0,kn.Z)({},e.errors),{},{schedule_value:o}),i.push(o)}if("immediately"!==e.schedule_type&&e.schedule_options.value>1825&&"days"===e.schedule_options.unit){r=!0;var s="Notification delay should be less than 1826 days";e.errors=(0,kn.Z)((0,kn.Z)({},e.errors),{},{schedule_value:s}),i.push(s)}return i.length&&n.push({index:t,messages:i}),e})),{campaign:t,isValid:!r,messages:n}}function eE(e,t,n){var r,i,a,o,s,l,c,u,d,p,f=!1,h=Bi()(e);(""===h.campaign_name.trim()&&(f=!0,h.errors.campaign_name=YN.emptyTriggerCampaignName),h.campaign_name&&h.campaign_name.length>150&&(f=!0,h.errors.campaign_name=YN.limitTriggerCampaignName),[xi.PRICE_DROP,xi.INVENTORY].includes(e.campaign_type))||(""===(null===h||void 0===h||null===(o=h.rules)||void 0===o||null===(s=o.if)||void 0===s?void 0:s.trim())&&(f=!0,h.errors.ruleIf=YN.emptyTriggerEventName),""===(null===h||void 0===h||null===(l=h.rules)||void 0===l||null===(c=l.this)||void 0===c?void 0:c.trim())&&(f=!0,h.errors.ruleThis=YN.emptyTriggerEventName));(h.weekly_trigger_limit&&h.trigger_limit&&(null===h||void 0===h?void 0:h.trigger_limit)>(null===h||void 0===h?void 0:h.weekly_trigger_limit)&&(f=!0,h.errors.triggerLimit="Trigger Daily Limit cannot be greater than Trigger Weekly limit"),h.weekly_trigger_limit&&!h.trigger_limit&&(f=!0,h.errors.triggerLimit="Please enter Trigger Daily limit"),h.trigger_limit&&h.trigger_limit>200&&(f=!0,h.errors.triggerLimit="Trigger Daily limit must be less than or equal to 200"),h.weekly_trigger_limit&&h.weekly_trigger_limit>2e3&&(f=!0,h.errors.triggerLimit="Trigger Weekly limit must be less than or equal to 2000"),t&&null!==n&&void 0!==n&&null!==(r=n.notification_analytics)&&void 0!==r&&null!==(i=r.result)&&void 0!==i&&i.enabled)&&(null!==(u=h.options)&&void 0!==u&&u.result_name&&(h.options.result_name.length<1||h.options.result_name.length>64)&&(f=!0,h.errors.result_name=YN.limitGoalName),null!==(d=h.options)&&void 0!==d&&d.result_name&&!Gv.test(null===(p=h.options)||void 0===p?void 0:p.result_name)&&(f=!0,h.errors.result_name=YN.invalidGoalName));if(null!==h&&void 0!==h&&null!==(a=h.utm_params)&&void 0!==a&&a.enabled){var g=QN(e);g.isValid||(f=!0,h.errors=(0,kn.Z)((0,kn.Z)({},h.errors),g.errors))}return{campaign:h,isValid:!f}}var tE={title:{drip:"Welcome to [siteName]!",trigger:"Your {{productname}} is in cart",browse:"{{productname}} is selling out fast!",generic:"Your {{productname}} is in cart",price_drop:"Price Drop Alert",inventory:"Inventory Alert"},message:{drip:"Explore our collection and enjoy shopping with us!",trigger:"Checkout by paying {{price}}",browse:"Checkout now by paying just {{price}}",generic:"Checkout by paying {{price}}",price_drop:"{{title}} price has dropped below {{alert_price}}",inventory:"Your {{title}} is in stock"},url:{drip:"",trigger:"{{notificationurl}}",browse:"{{notificationurl}}",generic:"{{notificationurl}}",price_drop:"{{link}}",inventory:"{{link}}"},image_url:{drip:"",trigger:"{{imageurl}}",browse:"{{imageurl}}",generic:"{{imageurl}}",price_drop:"{{image_link}}",inventory:"{{image_link}}"},big_image_url:{drip:"",trigger:"{{bigimageurl}}",browse:"{{bigimageurl}}",generic:"{{bigimageurl}}",price_drop:"{{big_image_link}}",inventory:"{{big_image_link}}"}},nE=function(){return[{key:"all",label:Ua("All","pushengage"),count:0},{key:"active",label:Ua("Active","pushengage"),count:0},{key:"new",label:Ua("Draft","pushengage"),count:0},{key:"cancelled",label:Ua("Paused","pushengage"),count:0}]},rE=function(e){return[{key:"all",label:Ua("All","pushengage"),count:e.active+e.new+e.cancelled},{key:"active",label:Ua("Active","pushengage"),count:e.active},{key:"new",label:Ua("Draft","pushengage"),count:e.new},{key:"cancelled",label:Ua("Paused","pushengage"),count:e.cancelled}]},iE="all",aE="custom";var oE={notification_title:"",notification_message:"",notification_url:"",notification_bigImage:"",actions:[{label:"",url:"",image_url:""},{label:"",url:"",image_url:""}],schedule_value:"",expiry:""};function sE(e,t,n,r){var i,a,o,s=function(e,t){var n,r,i,a=(null===(n=t.default_notification_expiry)||void 0===n?void 0:n.value)||1800,o=t.utm_settings||{},s="";return qd(e)&&null!==(r=t.notification_analytics)&&void 0!==r&&r.result.enabled&&(s=t.notification_analytics.result.result_name),{analytics:{ctr:0,views:0,clicks:0,sentcount:0,unsubscribed:0,conversion_count:0,revenue:0},rule_set_name:"New Drip Autoresponder",status:"new",notifications:[{analytics:{ctr:0,views:0,clicks:0,sentcount:0,unsubscribed:0,conversion_count:0,revenue:0},notification_title:tE.title.drip,notification_message:tE.message.drip,notification_url:tE.url.drip,notification_image:(null===e||void 0===e||null===(i=e.site)||void 0===i?void 0:i.site_image)||"",big_image:"",schedule_options:{type:"immediately",unit:"",value:0,at:void 0},multiAction:!1,multiActionBtn2:!1,actions:[{label:"",url:"",image_url:""}],rule_order:0,expiry:a,notification_duration:{enabled:!1,open_until_interaction:!0,duration_in_days:0,duration_in_hours:0,duration_in_minutes:Math.floor(a/60)},errors:Bi()(oE)}],sentToKey:iE,sent_to:{include_segments:{segments:[]},include_or_segments:{segments:[]},exclude_segments:{segments:[]},include_countries:{countries:[]},exclude_countries:{countries:[]},include_states:{states:[]},include_cities:{cities:[]},include_browsers:{browsers:[]},include_device_types:{devices:[]}},options:{result_name:s},utm_params:(0,kn.Z)({enabled:!1,utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:""},o),errors:{rule_set_name:"",result_name:"",utm_source:"",utm_medium:"",utm_campaign:"",utm_content:"",utm_term:""}}}(e,t);if(!n)return s;(s=(0,kn.Z)((0,kn.Z)((0,kn.Z)({},s),n),{},{sent_to:(0,kn.Z)((0,kn.Z)({},s.sent_to),n.sent_to)}),r||(s.rule_set_name="".concat(n.rule_set_name," Copy")),s.notifications=s.notifications.filter((function(e){return 1===e.status})).sort((function(e,t){return Number((null===e||void 0===e?void 0:e.rule_order)-(null===t||void 0===t?void 0:t.rule_order))})).map((function(n){var i,a,o,l;if(r||delete n.rule_id,n.big_image_enabled=!(null===n||void 0===n||!n.big_image),null!==n&&void 0!==n&&null!==(i=n.actions)&&void 0!==i&&i.length&&(n.multiAction=!0,2===n.actions.length&&(n.multiActionBtn2=!0)),n.notification_duration=(0,kn.Z)({enabled:!0,open_until_interaction:Boolean(null===n||void 0===n?void 0:n.ri)},Po(n.expiry||li.EXPIRY)),n.expiry&&n.expiry!==(null===(a=t.default_notification_expiry)||void 0===a?void 0:a.value)&&n.expiry!==li.EXPIRY||1!==n.ri?n.notification_duration.enabled=!0:n.notification_duration.enabled=!1,"rightaway"===(null===n||void 0===n||null===(o=n.schedule_options)||void 0===o?void 0:o.type)&&(n.schedule_options.type="immediately"),"dow"===(null===n||void 0===n||null===(l=n.schedule_options)||void 0===l?void 0:l.unit)&&(n.schedule_options.type="next"),!r){var c;n.analytics={ctr:0,views:0,clicks:0,sentcount:0,unsubscribed:0,conversion_count:0,revenue:0};var u,d="";if(qd(e)&&null!==(c=t.notification_analytics)&&void 0!==c&&c.result.enabled)d=(null===(u=s.options)||void 0===u?void 0:u.result_name)||t.notification_analytics.result.result_name;d&&(n.result=(0,ti.Z)({},d,{count:0,value:0}))}return n.errors=Bi()(oE),n})),function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,v,y;return!(null!==e&&void 0!==e&&null!==(t=e.include_or_segments)&&void 0!==t&&null!==(n=t.segments)&&void 0!==n&&n.length||null!==e&&void 0!==e&&null!==(r=e.include_segments)&&void 0!==r&&null!==(i=r.segments)&&void 0!==i&&i.length||null!==e&&void 0!==e&&null!==(a=e.exclude_segments)&&void 0!==a&&null!==(o=a.segments)&&void 0!==o&&o.length||null!==e&&void 0!==e&&null!==(s=e.include_countries)&&void 0!==s&&null!==(l=s.countries)&&void 0!==l&&l.length||null!==e&&void 0!==e&&null!==(c=e.exclude_countries)&&void 0!==c&&null!==(u=c.countries)&&void 0!==u&&u.length||null!==e&&void 0!==e&&null!==(d=e.include_states)&&void 0!==d&&null!==(p=d.states)&&void 0!==p&&p.length||null!==e&&void 0!==e&&null!==(f=e.include_cities)&&void 0!==f&&null!==(h=f.cities)&&void 0!==h&&h.length||null!==e&&void 0!==e&&null!==(g=e.include_browsers)&&void 0!==g&&null!==(m=g.browsers)&&void 0!==m&&m.length||null!==e&&void 0!==e&&null!==(v=e.include_device_types)&&void 0!==v&&null!==(y=v.devices)&&void 0!==y&&y.length)}(s.sent_to||{})||(s.sentToKey=aE),r)||(delete s.rule_set_id,null===(i=s)||void 0===i||delete i.analytics,null===(a=s)||void 0===a||delete a.after,null===(o=s)||void 0===o||delete o.drip_type,delete s.create_date,delete s.updated_date,delete s.site_id);return s}var lE,cE=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n,r){var i,a,o,s,l,c,u,d,p,f,h,g,m,v,y,b,x,w,k,_,C,j;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"all"===(null===t||void 0===t?void 0:t.sentToKey)?delete t.sent_to:t.sent_to&&(null!==(o=t.sent_to.include_segments)&&void 0!==o&&null!==(s=o.segments)&&void 0!==s&&s.length||delete t.sent_to.include_segments,null!==(l=t.sent_to.include_or_segments)&&void 0!==l&&null!==(c=l.segments)&&void 0!==c&&c.length||delete t.sent_to.include_or_segments,null!==(u=t.sent_to.exclude_segments)&&void 0!==u&&null!==(d=u.segments)&&void 0!==d&&d.length||delete t.sent_to.exclude_segments,null!==(p=t.sent_to.include_countries)&&void 0!==p&&null!==(f=p.countries)&&void 0!==f&&f.length||delete t.sent_to.include_countries,null!==(h=t.sent_to.exclude_countries)&&void 0!==h&&null!==(g=h.countries)&&void 0!==g&&g.length||delete t.sent_to.exclude_countries,null!==(m=t.sent_to.include_states)&&void 0!==m&&null!==(v=m.states)&&void 0!==v&&v.length||delete t.sent_to.include_states,null!==(y=t.sent_to.include_cities)&&void 0!==y&&null!==(b=y.cities)&&void 0!==b&&b.length||delete t.sent_to.include_cities,null!==(x=t.sent_to.include_browsers)&&void 0!==x&&null!==(w=x.browsers)&&void 0!==w&&w.length||delete t.sent_to.include_browsers,null!==(k=t.sent_to.include_device_types)&&void 0!==k&&null!==(_=k.devices)&&void 0!==_&&_.length||delete t.sent_to.include_device_types),delete t.sentToKey,""===(null===t||void 0===t||null===(i=t.options)||void 0===i?void 0:i.result_name)&&delete t.options.result_name,t.notifications=t.notifications.map((function(e,t){var n,i,a,o;if(e.notification_image||delete e.notification_image,e.big_image&&null!==e&&void 0!==e&&e.big_image_enabled||delete e.big_image,delete e.big_image_enabled,e.multiAction){var s=[];s=e.multiActionBtn2?e.actions:[e.actions[0]],e.actions=s.map((function(e){return""===(null===e||void 0===e?void 0:e.image_url)&&delete e.image_url,e}))}else delete e.actions;(delete e.multiAction,delete e.multiActionBtn2,"immediately"===e.schedule_options.type)?(delete e.schedule_options.value,delete e.schedule_options.unit,delete e.schedule_options.at,e.schedule_options.type="rightaway"):("next"===e.schedule_options.type&&(e.schedule_options.type="after",e.schedule_options.unit="dow"),"days"!==e.schedule_options.unit&&"dow"!==e.schedule_options.unit&&delete e.schedule_options.at,null!==e&&void 0!==e&&null!==(i=e.schedule_options)&&void 0!==i&&i.at||delete e.schedule_options.at);null!==e&&void 0!==e&&null!==(n=e.notification_duration)&&void 0!==n&&n.enabled?e.ri=Number(null===e||void 0===e||null===(a=e.notification_duration)||void 0===a?void 0:a.open_until_interaction):(e.ri=1,e.expiry=(null===(o=r.default_notification_expiry)||void 0===o?void 0:o.value)||li.EXPIRY);return delete e.notification_duration,delete e.errors,delete e.analytics,(0,kn.Z)((0,kn.Z)({},e),{},{schedule_options:(0,kn.Z)((0,kn.Z)({},e.schedule_options),{},{value:e.schedule_options.value}),rule_order:t})})),null!==t&&void 0!==t&&null!==(a=t.utm_params)&&void 0!==a&&a.enabled&&(""===(null===t||void 0===t||null===(C=t.utm_params)||void 0===C?void 0:C.utm_content)&&delete t.utm_params.utm_content,""===(null===t||void 0===t||null===(j=t.utm_params)||void 0===j?void 0:j.utm_term)&&delete t.utm_params.utm_term),t.status=n,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),uE=mt.Z.Title,dE=function(e){var t=(0,oe.useState)(!1),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useState)({}),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)({}),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)(!1),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)(!1),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useState)(!1),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=(0,oe.useState)([{id:"welcome_drip",enabled:!0},{id:"promote_new_posts",enabled:!0},{id:"notify_new_product_listings",enabled:!0},{id:"send_order_updates",enabled:!0,subItems:[{id:"new_order",enabled:!0,enable_admin:!0,enable_customer:!1},{id:"cancelled_order",enabled:!0,enable_admin:!0,enable_customer:!0},{id:"failed_order",enabled:!1,enable_admin:!1,enable_customer:!1},{id:"order_on_hold",enabled:!1,enable_admin:!1,enable_customer:!1},{id:"processing_order",enabled:!1,enable_admin:!1,enable_customer:!1},{id:"completed_order",enabled:!0,enable_admin:!1,enable_customer:!0},{id:"refunded_order",enabled:!1,enable_admin:!1,enable_customer:!1}]},{id:"review_request",enabled:!0}]),S=(0,xe.Z)(j,2),Z=S[0],N=S[1],E=e.stepDetails,O=e.handleStepChange,A=e.onStateUpdate,T=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.currentSite})),P=bt((function(e){return e.globals.settings}),Zi()),M=bt(Yr),I=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,TN(T,s.rule_set_id);case 3:t=e.sent,n=t.data,p(n),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,s,l,c;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={campaign_settings:Z,action:rl.UPDATE_ONBOARDING_CAMPAIGN_SETTINGS},e.next=4,il(t);case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),l=null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.code,c=null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.message,ie.default.error({message:c||Ua("Failed to save drip campaign settings.","pushengage"),description:l?ba(Ua("Error code: %1s","pushengage"),l):Ua("Please make sure you have verified your email address and you have campaign access.","pushengage")});case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),L=[{id:"welcome_drip",title:"Welcome New Subscribers",description:"Send a welcome message to new subscribers when they opt-in",editable:!0,onEdit:function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:C(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),loadingAction:b},{id:"promote_new_posts",title:"Promote New Posts",description:"Automatically notify subscribers when new posts are published"}];Yo&&(L=[].concat((0,we.Z)(L),[{id:"notify_new_product_listings",title:"Notify New Product Listings",description:"Alert subscribers about new product launches"},{id:"send_order_updates",title:"Send Order Updates",description:"Keep customers informed about their order status",subItems:[{id:"new_order",title:Ua("New Order","pushengage"),description:Ua("Receive instant alerts when a customer places a new order. Keep your team updated and send automated confirmation notifications to build trust with your customers.","pushengage")},{id:"cancelled_order",title:Ua("Cancelled Order","pushengage"),description:Ua("Get real-time alerts when a customer cancels an order. Send an automated push notification to re-engage them and recover potential lost sales with exclusive offers or assistance.","pushengage")},{id:"failed_order",title:Ua("Failed Order","pushengage"),description:Ua("Get notified immediately when a payment fails, so you can troubleshoot issues quickly. Automatically guide customers to retry their purchase and prevent losing a sale.","pushengage")},{id:"order_on_hold",title:Ua("Order on Hold","pushengage"),description:Ua("Inform your customers when an order is placed on hold. Keep your operations smooth by addressing issues promptly and keeping everyone updated.","pushengage")},{id:"processing_order",title:Ua("Processing Order","pushengage"),description:Ua("Notify customers as their order moves to the next stage. Keep them engaged and informed, ensuring a positive shopping experience while streamlining internal operations.","pushengage")},{id:"completed_order",title:Ua("Completed Order","pushengage"),description:Ua("Celebrate a successful sale by notifying your customers when their order is completed. Encourage repeat purchases with personalized post-sale offers.","pushengage")},{id:"refunded_order",title:Ua("Refunded Order","pushengage"),description:Ua("Send instant notifications to inform customers that their refund has been processed. Build trust and improve satisfaction by keeping them in the loop.","pushengage")}]},{id:"review_request",title:"Request Reviews",description:"Automatically request reviews 5 days after delivery"}])),(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,EN(T);case 3:t=e.sent,n=t.data.data,r=n.find((function(e){return"welcome"===e.drip_type})),r&&l(r),m(!1);case 8:case"end":return e.stop()}}),e)})))()}),[T]),(0,oe.useEffect)((function(){s&&N(Z.map((function(e){return"welcome_drip"===e.id?(0,kn.Z)((0,kn.Z)({},e),{},{enabled:!0,dripId:null===s||void 0===s?void 0:s.rule_set_id}):e})))}),[s]);var R=function(e,t){N(Z.map((function(n){if(n.id===e){var r,i=!n.enabled;return(0,kn.Z)((0,kn.Z)((0,kn.Z)({},n),{},{enabled:i},t),{},{subItems:(null===(r=n.subItems)||void 0===r?void 0:r.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{enabled:i})})))||n.subItems})}return n.subItems?(0,kn.Z)((0,kn.Z)({},n),{},{subItems:n.subItems.map((function(n){return n.id===e?(0,kn.Z)((0,kn.Z)({},n),{},{enabled:!n.enabled},t):n}))}):n})))},B=function(e,t){N(Z.map((function(n){return n.subItems?(0,kn.Z)((0,kn.Z)({},n),{},{subItems:n.subItems.map((function(n){return n.id===e?(0,kn.Z)((0,kn.Z)({},n),{},(0,ti.Z)({},t,!n[t])):n}))}):n})))},F=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),M){e.next=5;break}return ie.default.error({message:Ua("Email verification is required to save welcome drip campaign settings.","pushengage")}),x(!1),e.abrupt("return");case 5:return e.next=7,cE(d,"active",P);case 7:return t=e.sent,e.prev=8,e.next=11,IN(T,s.rule_set_id,t);case 11:n=e.sent,r=n.data,p(r),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),ie.default.error({message:Ua("Error while saving the welcome drip campaign","pushengage"),description:null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(a=i.data)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message});case 19:x(!1),C(!1);case 21:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(){return e.apply(this,arguments)}}(),z=function(e){var t,n=(0,sp.Z)(Z);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e)return r.enabled;if(r.subItems){var i=r.subItems.find((function(t){return t.id===e}));if(i)return i.enabled}}}catch(a){n.e(a)}finally{n.f()}return!1},V=function(e,t){var n,r=(0,sp.Z)(Z);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.subItems){var a=i.subItems.find((function(t){return t.id===e}));if(a)return"enable_admin"===t?a.enable_admin:a.enable_customer}}}catch(o){r.e(o)}finally{r.f()}return!1},U=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,D();case 3:i(!1),O("next");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Wc.Z,{style:{width:"100%",borderRadius:"8px"},children:[(0,st.jsx)(dt.Z,{gutter:[16,16],children:(0,st.jsx)(uE,{className:"pe-fs-24 pe-mb-24",level:2,children:ba(Ua("Step %s: Add Campaigns"),E.current+1)})}),(0,st.jsx)(Hc.default,{spinning:g||r,children:(0,st.jsx)(Kc.default,{className:"pe-onboarding-add-campaign-list",itemLayout:"horizontal",dataSource:L,renderItem:function(e){var t,n;return(0,st.jsxs)(Kc.default.Item,{className:0<(null!==(t=null===(n=e.subItems)||void 0===n?void 0:n.length)&&void 0!==t?t:0)?"pe-list-has-children":"",style:{borderBottom:"none"},children:[(0,st.jsx)(Wc.Z,{bordered:!1,style:{width:"100%",boxShadow:"0px 3px 5px -1.5px rgba(0, 0, 0, 0.2)",borderRadius:"0.5rem"},children:(0,st.jsxs)(dt.Z,{style:{padding:"10px 0"},align:"middle",justify:"space-between",children:[(0,st.jsx)("div",{className:"pe-campaign-row-content",children:(0,st.jsxs)(uE,{className:"pe-fs-20 pe-fw-600",level:2,style:{marginBottom:"0.5rem"},children:[e.title,(0,st.jsx)(ft.default,{title:e.description,children:(0,st.jsx)(Mv,{width:16,height:16,className:"pe-ml-10",style:{fontSize:"16px",color:"rgb(156 163 175 / 1)",cursor:"help"}})})]})}),(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},className:"pe-campaign-row-actions",children:[(null===e||void 0===e?void 0:e.editable)&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ft.default,{title:Ua("Edit","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:function(){var t;null===(t=e.onEdit)||void 0===t||t.call(e)},loading:e.loadingAction})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Preview","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",loading:e.loadingAction,size:"small",icon:(0,st.jsx)(NN,{}),onClick:function(){var t;null===(t=e.onEdit)||void 0===t||t.call(e)}})})]}),(0,st.jsx)(Lv.Z,{checked:z(e.id),onChange:function(){var t={welcome_drip:{dripId:null===s||void 0===s?void 0:s.rule_set_id}};R(e.id,t[e.id]||{})}})]})]})}),e.subItems&&z(e.id)&&(0,st.jsx)(Kc.default,{itemLayout:"vertical",className:"pe-campaigns-list-subitems",dataSource:e.subItems,renderItem:function(e){return(0,st.jsx)(Kc.default.Item,{style:{padding:"8px 0",borderBottom:"none"},children:(0,st.jsx)(Wc.Z,{bordered:!1,style:{width:"100%",boxShadow:"0px 3px 5px -1.5px rgba(0, 0, 0, 0.2)",borderRadius:"0.5rem",borderLeft:"4px solid rgb(191 219 254 / 0.8)"},children:(0,st.jsxs)(dt.Z,{style:{padding:"10px 0"},align:"middle",justify:"space-between",children:[(0,st.jsx)("div",{className:"pe-campaign-row-content",children:(0,st.jsxs)(uE,{level:4,style:{margin:0},children:[e.title,(0,st.jsx)(ft.default,{title:e.description,children:(0,st.jsx)(Mv,{width:16,height:16,className:"pe-ml-10",style:{fontSize:"16px",color:"rgb(156 163 175 / 1)",cursor:"help"}})})]})}),(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem",cursor:"pointer"},className:"pe-campaign-row-actions",children:[(null===e||void 0===e?void 0:e.editable)&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ft.default,{title:Ua("Edit","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:function(){var t;null===(t=e.onEdit)||void 0===t||t.call(e)}})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Preview","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(NN,{}),onClick:function(){var t;null===(t=e.onEdit)||void 0===t||t.call(e)}})})]}),(0,st.jsxs)("div",{style:{display:"flex",gap:"1.5rem"},children:[(0,st.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,st.jsx)(Vy.default,{checked:V(e.id,"enable_admin"),style:{marginLeft:"0"},onChange:function(){B(e.id,"enable_admin")},value:"enable_admin",children:Ua("Admin")}),(0,st.jsx)(Vy.default,{checked:V(e.id,"enable_customer"),style:{marginLeft:"0"},onChange:function(){B(e.id,"enable_customer")},value:"enable_customer",children:Ua("Customer")})]}),(0,st.jsx)(Lv.Z,{checked:z(e.id),onChange:function(){R(e.id)}})]})]})]})})})},style:{marginTop:"8px"}})]})}})})]}),(0,st.jsx)(_N,{stepDetails:E,saveHandler:U,handleStepChange:O,loading:r,onStateUpdate:A}),(0,st.jsx)(gt.Z,{visible:_,zIndex:100002,width:"90%",onCancel:function(){return C(!1)},footer:(0,st.jsx)(pt.default,{type:"primary",loading:b,onClick:function(){F()},children:Ua("Save Changes")}),title:Ua("Edit Welcome Drip Campaign - First Notification"),children:(0,st.jsx)(Hc.default,{spinning:b,children:(0,st.jsx)(qN,{campaign:d,onValueChange:function(e,t){p((0,kn.Z)((0,kn.Z)({},d),{},{notifications:[(0,kn.Z)((0,kn.Z)({},d.notifications[0]),{},(0,ti.Z)({},e,t))]}))}})})})]})},pE=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({width:"1em",height:"1.5em",viewBox:"0 0 9 10",fill:"currentColor",focusable:"false","data-icon":"pe-plus-outlined","aria-hidden":"true"},e),{},{children:(0,st.jsx)("path",{d:"M8.74864 5.58333H5.35434V9.08333H4.22291V5.58333H0.828613V4.41667H4.22291V0.916668H5.35434V4.41667H8.74864V5.58333Z"})}))},fE=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:pE},e))},hE=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",focusable:"false","data-icon":"pe-usergroup-add","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,st.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,st.jsx)("polyline",{points:"16 11 18 13 22 9"})]}))},gE=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:hE},e))};function mE(e){var t=[],n=[],r=[];e.country&&Object.keys(e.country).forEach((function(n){var r;t.push({name:n,value:(null===(r=e.country)||void 0===r?void 0:r[n])||0})})),t=t.filter((function(e){return e.value})).sort((function(e,t){return t.value-e.value})),e.device&&Object.keys(e.device).forEach((function(t){var r;n.push({name:t,value:(null===(r=e.device)||void 0===r?void 0:r[t])||0})})),n=n.filter((function(e){return e.value})).sort((function(e,t){return t.value-e.value})),e.device_type&&Object.keys(e.device_type).forEach((function(t){var n;r.push({name:t,value:(null===(n=e.device_type)||void 0===n?void 0:n[t])||0})})),r=r.filter((function(e){return e.value})).sort((function(e,t){return t.value-e.value}));var i=r.reduce((function(e,t){return e+t.value}),0);return{countries:t,devices:n,browsers:r,totalSubscriberCount:i}}function vE(e,t){return t?"".concat(_o(Number(100*e/t).toFixed(1))):"0"}var yE={TS_CREATED:"ts_created",TS_LAST_SENT:"ts_last_sent",TS_LAST_VIEW:"ts_last_view",TS_LAST_CLICK:"ts_last_click",DEVICE_TYPE:"device_type",DEVICE:"device",COUNTRY:"country",STATE:"state",CITY:"city",SENT_COUNT:"sent_count",CLICK_COUNT:"click_count",VIEW_COUNT:"view_count",ATTRIBUTES:"attributes",SEGMENTS:"segments",PROFILE_ID:"profile_id",SUBSCRIBER_HASH:"device_token_hash"},bE={EQ:"eq",NE:"ne",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",ALL:"all",IN:"in",NIN:"nin",EXISTS:"exists",NOT_EXISTS:"not_exists",TS_ELAPSED_GT:"ts_elapsed_gt",TS_ELAPSED_LT:"ts_elapsed_lt"},xE=[{label:Ua("Attribute","pushengage"),value:yE.ATTRIBUTES,description:Ua("Select the audience based on the attributes you have added to a user.","pushengage")},{label:Ua("Segment","pushengage"),value:yE.SEGMENTS,description:Ua("Select the audience based on the segment the user belongs to.","pushengage")},{label:Ua("Browser","pushengage"),value:yE.DEVICE_TYPE,description:Ua("Select the audience based on the user's browser/platform.","pushengage")},{label:Ua("Device","pushengage"),value:yE.DEVICE,description:Ua("Select the audience based on the user's device type.","pushengage")},{label:Ua("Country","pushengage"),value:yE.COUNTRY,description:Ua("Select the audience based on the user's country","pushengage")},{label:Ua("State","pushengage"),value:yE.STATE,description:"Select the audience based on the user\u2019s state."},{label:Ua("City","pushengage"),value:yE.CITY,description:Ua("Select the audience based on the user's city.","pushengage")},{label:Ua("Subscription date","pushengage"),value:yE.TS_CREATED,description:Ua("Select the audience based on their subscription date/time.","pushengage")},{label:Ua("Last sent date","pushengage"),value:yE.TS_LAST_SENT,description:Ua("Most recent date/time a notification was sent to the user.","pushengage")},{label:Ua("Last click date","pushengage"),value:yE.TS_LAST_CLICK,description:Ua("Most recent date/time the user clicked on a notification.","pushengage")},{label:Ua("Last view date","pushengage"),value:yE.TS_LAST_VIEW,description:Ua("Most recent date/time the user viewed a notification.","pushengage")},{label:Ua("Total sent count","pushengage"),value:yE.SENT_COUNT,description:Ua("Total number of notifications sent to a user.","pushengage")},{label:Ua("Total view count","pushengage"),value:yE.VIEW_COUNT,description:Ua("Total number of notifications viewed by a user.","pushengage")},{label:Ua("Total click count","pushengage"),value:yE.CLICK_COUNT,description:Ua("Total number of times a user has clicked on notifications.","pushengage")},{label:Ua("Profile Id","pushengage"),value:yE.PROFILE_ID,description:Ua("Select the audience based on the profile id or user id you have assigned to a user.","pushengage")},{label:Ua("Subscriber Hash","pushengage"),value:yE.SUBSCRIBER_HASH,description:Ua("Select the audience based on user id (subscriber hash or device token hash) assigned by PushEngage to a user.","pushengage")}],wE=[{value:"chrome",label:Ua("Chrome","pushengage")},{value:"opera",label:Ua("Opera","pushengage")},{value:"firefox",label:Ua("Firefox","pushengage")},{value:"safari",label:Ua("Safari","pushengage")},{value:"edge",label:Ua("Edge","pushengage")},{value:"ucbrowser",label:Ua("UC Browser","pushengage")},{value:"android",label:Ua("Native android app","pushengage")},{value:"ios",label:Ua("Native iOS app","pushengage")},{value:"unknown",label:Ua("Unknown","pushengage")}],kE=[{value:"mobile",label:Ua("Mobile","pushengage")},{value:"tablet",label:Ua("Tablet","pushengage")},{value:"desktop",label:Ua("Desktop","pushengage")},{value:"unknown",label:Ua("Unknown","pushengage")}],_E=(lE={},(0,ti.Z)(lE,bE.EQ,"="),(0,ti.Z)(lE,bE.NE,"!="),(0,ti.Z)(lE,bE.LT,"<"),(0,ti.Z)(lE,bE.LTE,"<="),(0,ti.Z)(lE,bE.GT,">"),(0,ti.Z)(lE,bE.GTE,">="),(0,ti.Z)(lE,bE.ALL,"matches all"),(0,ti.Z)(lE,bE.IN,"is in"),(0,ti.Z)(lE,bE.NIN,"is not in"),(0,ti.Z)(lE,bE.TS_ELAPSED_GT,"before "),(0,ti.Z)(lE,bE.TS_ELAPSED_LT,"in the last"),(0,ti.Z)(lE,bE.EXISTS,"is set"),(0,ti.Z)(lE,bE.NOT_EXISTS,"is not set"),lE);function CE(e){switch(e){case yE.CITY:case yE.COUNTRY:case yE.STATE:case yE.DEVICE:case yE.DEVICE_TYPE:return[{label:Ua("is any of the following","pushengage"),value:bE.IN},{label:Ua("is none of the following","pushengage"),value:bE.NIN}];case yE.SEGMENTS:return[{label:Ua("is any of the following","pushengage"),value:bE.IN},{label:Ua("is all of the following","pushengage"),value:bE.ALL},{label:Ua("is none of the following","pushengage"),value:bE.NIN}];case yE.SENT_COUNT:case yE.VIEW_COUNT:case yE.CLICK_COUNT:return[{label:Ua("equal to","pushengage"),value:bE.EQ},{label:Ua("less than","pushengage"),value:bE.LT},{label:Ua("greater than","pushengage"),value:bE.GT},{label:Ua("less than or equal to","pushengage"),value:bE.LTE},{label:Ua("greater than or equal to","pushengage"),value:bE.GTE}];case yE.TS_CREATED:case yE.TS_LAST_SENT:case yE.TS_LAST_VIEW:case yE.TS_LAST_CLICK:return[{label:Ua("before","pushengage"),value:bE.LT},{label:Ua("after","pushengage"),value:bE.GT},{label:Ua("in the last","pushengage"),value:bE.TS_ELAPSED_LT},{label:Ua("greater than","pushengage"),value:bE.TS_ELAPSED_GT}];case yE.PROFILE_ID:case yE.SUBSCRIBER_HASH:return[{label:Ua("is any of the following","pushengage"),value:bE.IN}];default:return[{label:Ua("equal to","pushengage"),value:bE.EQ},{label:Ua("not equal to","pushengage"),value:bE.NE},{label:Ua("greater than","pushengage"),value:bE.GT},{label:Ua("greater than or equal to","pushengage"),value:bE.GTE},{label:Ua("less than","pushengage"),value:bE.LT},{label:Ua("less than or equal to","pushengage"),value:bE.LTE},{label:Ua("is any of the following","pushengage"),value:bE.IN},{label:Ua("is none of the following","pushengage"),value:bE.NIN},{label:Ua("is set","pushengage"),value:bE.EXISTS},{label:Ua("is not set","pushengage"),value:bE.NOT_EXISTS}]}}function jE(e,t){var n=ei()().utc().subtract(t,"days").startOf("day").format("YYYY-MM-DD 00:00:00");switch(e){case"click":return{filter:{value:[[{field:yE.TS_LAST_CLICK,op:bE.LT,value:n}]]}};case"view":return{filter:{value:[[{field:yE.TS_LAST_VIEW,op:bE.LT,value:n}]]}};case"sent":return{filter:{value:[[{field:yE.TS_LAST_SENT,op:bE.LT,value:n}]]}};default:throw new Error("Invalid filter action")}}function SE(e){var t=new RegExp(/^(true|false)$/);return Number.isNaN(Number(e))?t.test(e)?"true"===e:e:Number(e)}var ZE=function(e){if(e){var t=function(e){return e.filter.value.map((function(e){return e.map((function(e){var t=e.value;return e.field===yE.ATTRIBUTES&&Array.isArray(e.value)&&(t=e.value.join(", ")),(0,kn.Z)((0,kn.Z)({},e),{},{value:t})}))}))}(e);return(0,kn.Z)((0,kn.Z)({},e),{},{filter:{value:t}})}return{name:"",description:"",filter:{value:[[{field:"",op:"",value:""}]]}}};function NE(e){return e.value.forEach((function(e){e.forEach((function(e){e.field!==bE.EXISTS&&e.field!==bE.NOT_EXISTS||delete e.value,e.field!==yE.ATTRIBUTES&&delete e.key,e.field===yE.ATTRIBUTES&&(e.value=SE(e.value)),e.op!==bE.IN&&e.op!==bE.NIN||function(e){Array.isArray(e.value)||"string"===typeof e.value&&(e.value=e.value.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e})).map(SE))}(e)}))})),e}var EE=function(e,t){var n=NE(e.filter);return{name:e.name||(null===t||void 0===t?void 0:t.name),description:e.description||(null===t||void 0===t?void 0:t.description),filter:{value:n.value}}},OE=function(e,t,n){var r=[],i=(0,we.Z)(n),a=n.map((function(e){return e.category_name}));return t.forEach((function(e){a.includes(e)||i.push({category_name:e,segment_id:[],segment_name:[],segment_mapping:{}})})),i.forEach((function(n){var i=null!==n&&void 0!==n&&n.segment_id?"object"===typeof(null===n||void 0===n?void 0:n.segment_id)?null===n||void 0===n?void 0:n.segment_id:[null===n||void 0===n?void 0:n.segment_id]:[],a=null!==n&&void 0!==n&&n.segment_name?"object"===typeof(null===n||void 0===n?void 0:n.segment_name)?null===n||void 0===n?void 0:n.segment_name:[null===n||void 0===n?void 0:n.segment_name]:[],o=(0,kn.Z)({},null===n||void 0===n?void 0:n.segment_mapping);return t.includes(n.category_name)?(i=da()([].concat((0,we.Z)(i),[e.segment_id])),a=da()([].concat((0,we.Z)(a),[e.segment_name])),o[e.segment_id]=e.segment_name):(i=i.filter((function(t){return t===e.segment_id&&delete o[t],t!==e.segment_id})),a=a.filter((function(t){return t!==e.segment_name}))),i.length&&a.length&&r.push({category_name:null===n||void 0===n?void 0:n.category_name,segment_id:i,segment_name:a,segment_mapping:o}),n})),r},AE=mt.Z.Paragraph,TE=dp.createUrl,PE=[{label:Ua("Starts With","pushengage"),value:"start"},{label:Ua("Contains","pushengage"),value:"contains"},{label:Ua("Exact Match","pushengage"),value:"exact"}],ME=function(e){var t=e.children;return(0,st.jsx)("div",{className:"pe-py-20 pe-px-24",children:t})},IE=function(e){var t=e.name,n=_u();return(0,st.jsx)(ed.Z.List,{name:t,children:function(e,r){var i=r.add,a=r.remove;return(0,st.jsxs)(st.Fragment,{children:[e.map((function(e){return(0,st.jsxs)(dt.Z,{gutter:[16,2],className:"",wrap:!1,children:[(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsxs)(dt.Z,{gutter:[8,0],wrap:!0,children:[(0,st.jsx)(ht.Z,{className:n.xs?"pe-ant-col-xs-24":"",children:(0,st.jsx)(ed.Z.Item,(0,kn.Z)((0,kn.Z)({},e),{},{name:[e.name,"rule"],validateFirst:!0,required:!1,rules:[{required:!0,message:Ua("Please select rule name","pushengage")}],children:(0,st.jsx)(Rv.default,{options:PE,defaultActiveFirstOption:!0,style:{minWidth:"150px"},showArrow:!0,dropdownClassName:"pe-ant-single-select-box"})}))}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(ed.Z.Item,(0,kn.Z)((0,kn.Z)({},e),{},{name:[e.name,"value"],validateFirst:!0,rules:[{required:!0,whitespace:!0,message:Ua("Please enter rule value","pushengage")}],children:(0,st.jsx)(Yc.default,{})}))})]})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Nh,{}),onClick:function(){return a(e.name)}})})]},e.key)})),(0,st.jsx)(ed.Z.Item,{noStyle:!0,children:(0,st.jsxs)(pt.default,{type:"text",className:"pe-add-more-btn",size:"small",onClick:function(){i({rule:"start",value:""})},children:[(0,st.jsx)(fE,{className:"pe-fs-11"}),Ei()(t)," ",Ua("More Patterns","pushengage")]})})]})}})},DE=function(e){var t,n,r=e.segment,i=e.onAction,a=e.categorySegments,o=(0,oe.useState)(!1),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)([]),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=ed.Z.useForm(),g=(0,xe.Z)(h,1)[0],m=(0,oe.useState)({id:(null===r||void 0===r?void 0:r.segment_id)||null,name:r.segment_name,add_segment_on_page_load:!!r.add_segment_on_page_load,include:(null===(t=r.segment_criteria)||void 0===t?void 0:t.include)||[],exclude:(null===(n=r.segment_criteria)||void 0===n?void 0:n.exclude)||[],categories:r.categories}),v=(0,xe.Z)(m,1)[0],y=(0,oe.useState)(!1),b=(0,xe.Z)(y,2),x=b[0],w=b[1];(0,oe.useEffect)((function(){var e=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,il({action:rl.GET_ALL_CATEGORIES});case 4:(t=e.sent).success&&t.data&&(n=t.data.map((function(e){return{label:e,value:e}})),f(n)),c(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,oe.useEffect)((function(){g.resetFields()}),[v,g]);var k=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,o,s,l,c,u,d,p;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===r||void 0===r?void 0:r.segment_id,w(!0),e.prev=2,o={segment_name:t.name||r.segment_name,add_segment_on_page_load:t.add_segment_on_page_load?1:0,segment_criteria:{include:t.include,exclude:t.exclude}},!n){e.next=12;break}return e.next=7,Zs(r.site_id,r.segment_id,o);case 7:l=e.sent,c=l.data,s=c,e.next=17;break;case 12:return e.next=14,Cs(r.site_id,o);case 14:u=e.sent,d=u.data,s=d;case 17:return p=OE(s,t.categories,a),e.next=20,il({action:rl.MAP_SEGMENT_WITH_CATEGORIES,settings:p});case 20:i("submit"),ie.default.success({message:Ua(n?"Segment updated successfully":"Segment created successfully","pushengage")}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),ie.default.error({message:Ua(n?"Failed to update segment":"Failed to create segment","pushengage")});case 27:w(!1);case 28:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(t){return e.apply(this,arguments)}}();return l?(0,st.jsx)(dt.Z,{className:"pe-pa-24",children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(rt.default,{active:!0})})}):(0,st.jsxs)(ed.Z,{id:"pe-segment-form",form:g,initialValues:v,onFinish:k,scrollToFirstError:!0,labelAlign:"left",labelCol:{sm:{span:24},md:{span:7}},autoComplete:"off",children:[(0,st.jsxs)(ME,{children:[(0,st.jsx)(AE,{className:"pe-mb-32",children:(0,st.jsx)(Lu,{mapping:{a:(0,st.jsx)("a",{href:"".concat(TE.url).concat(Qc(TE.utmParams)),target:"_blank",rel:"noreferrer",className:"pe-py-0"})},children:Ua("Segments help you send targeted campaigns that get more conversions. Check out our <a>guide for creating segments</a> if you need some inspiration.","pushengage")})}),(0,st.jsx)(ed.Z.Item,{name:"name",label:Ua("Segment Name","pushengage"),colon:!1,validateFirst:!0,required:!1,rules:[{required:!0,whitespace:!0,message:Ua("Segment name is required","pushengage")}],children:(0,st.jsx)(Yc.default,{style:{minWidth:"200px"},placeholder:Ua("Segment Name","pushengage")})})]}),(0,st.jsx)(Cu.Z,{}),(0,st.jsxs)(ME,{children:[(0,st.jsx)(AE,{className:"pe-fw-700 pe-mb-16",children:Ua("Specify Your Segment Addition URL Pattern","pushengage")}),(0,st.jsx)("div",{children:(0,st.jsx)(ed.Z.Item,{name:"include",label:Ua("Include Patterns","pushengage"),colon:!1,validateFirst:!0,required:!1,className:"pe-mb-15",children:(0,st.jsx)(IE,{name:"include"})})}),(0,st.jsx)(ed.Z.Item,{name:"exclude",label:Ua("Exclude Patterns","pushengage"),colon:!1,validateFirst:!0,required:!1,children:(0,st.jsx)(IE,{name:"exclude"})}),(0,st.jsx)(dt.Z,{children:(0,st.jsx)(ht.Z,{sm:{span:24},md:{span:17,offset:7},children:(0,st.jsx)(ed.Z.Item,{name:"add_segment_on_page_load",label:"",colon:!1,validateFirst:!0,required:!1,noStyle:!0,valuePropName:"checked",children:(0,st.jsxs)(Vy.default,{children:["Segment on Page Visit (Optional)",(0,st.jsx)(ft.default,{title:Ua("By default, subscribers who subscribed through URLs matching the defined pattern will be added to the Segment. Turn on the option to evaluate the segment criteria on every page visit.","pushengage"),children:(0,st.jsx)(yg,{})})]})})})})]}),(0,st.jsx)(Cu.Z,{}),(0,st.jsxs)(ME,{children:[(0,st.jsx)(ed.Z.Item,{name:"categories",label:Ua("Category Segment Name","pushengage"),colon:!1,validateFirst:!0,required:!1,extra:(0,st.jsx)(st.Fragment,{children:Ua("Add users to this segment if they visit a post or page with the selected categories.","pushengage")}),children:(0,st.jsx)(Rv.default,{mode:"multiple",style:{width:"100%"},options:p,placeholder:Ua("Name of the category segments","pushengage"),showArrow:!0,allowClear:!0})}),(0,st.jsxs)("div",{children:[(0,st.jsx)(ed.Z.Item,{style:{display:"inline-block",marginRight:10},children:(0,st.jsx)(pt.default,{type:"primary",htmlType:"submit",loading:x,disabled:x,children:null!==r&&void 0!==r&&r.segment_id?Ua("Update","pushengage"):Ua("Create","pushengage")})}),(0,st.jsx)(pt.default,{type:"default",className:"pe-fw-600",onClick:function(){g.resetFields(),i("cancel")},children:Ua("Cancel","pushengage")})]})]})]})},LE=function(e){var t=e.upgradeUrl,n=e.title,r=e.description,i=e.buttonText,a=mt.Z.Title,o=mt.Z.Text;return(0,st.jsx)(Wc.Z,{className:"pe-mt-16",style:{backgroundColor:"#f5f5ff",borderRadius:"8px",border:"1px solid #3b43ff33"},children:(0,st.jsxs)(dt.Z,{justify:"space-between",align:"middle",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)(a,{level:3,style:{margin:0},children:n}),(0,st.jsx)(o,{type:"secondary",style:{margin:0},children:r})]}),(0,st.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:(0,st.jsx)(pt.default,{type:"primary",size:"large",children:i})})]})})},RE=mt.Z.Title,BE=mt.Z.Text,FE=qc.Z.Panel;function zE(e){return{segment_name:"New Segment",segment_criteria:{include:[],exclude:[]},add_segment_on_page_load:0,site_id:e,categories:[]}}var VE=function(e){var t=e.stepDetails,n=e.handleStepChange,r=e.onStateUpdate,i=(0,oe.useState)(!1),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)([]),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=bt((function(e){return e.session.user}),Zi()),f=(0,oe.useState)(!1),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=Bd(p),y=bt(Vr),b=bt(Ur),x=(0,oe.useState)((0,kn.Z)({},zE(b))),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)([]),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)([{id:"primary_categories",enabled:!0,categories:[]},{id:"customers",enabled:!0},{id:"leads",enabled:!0}]),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T="".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:b,drawer:!0,planType:ii.BUSINESS,planMode:"year",utm_medium:"Onboarding Wizard",utm_content:"Upgrade Now at $49/year",feature:"Setup Retargeting",ref:"upgrade_now_onboarding_wizard"})),P=[{id:"primary_categories",name:Ua("Primary Categories"),icon:(0,st.jsx)(dc,{style:{fontSize:"24px",borderRadius:"5px",padding:"10px",background:"#3b43ff1a"},className:"pe-color-primary"}),categories:[],description:Ua("Target users based on their primary category interactions")}];Yo&&(P=[].concat((0,we.Z)(P),[{id:"customers",name:Ua("Customers"),icon:(0,st.jsx)(ac,{style:{fontSize:"24px",borderRadius:"5px",padding:"10px",background:"#3b43ff1a"},className:"pe-color-primary"}),description:Ua("Reach out to users who have made purchases")},{id:"leads",name:Ua("Leads"),icon:(0,st.jsx)(gE,{style:{fontSize:"24px",borderRadius:"5px",padding:"10px",background:"#3b43ff1a"},className:"pe-color-primary"}),description:Ua("Connect with potential customers showing interest")}])),(0,oe.useEffect)((function(){s(!0),(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,il({action:rl.GET_TOP_LEVEL_CATEGORIES});case 3:t=e.sent,d(t.data),s(!1),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]);var M=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,il({action:rl.GET_CATEGORY_SEGMENTATIONS});case 4:t=e.sent,n=t.data,Z(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0;case 12:s(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,s,l,c;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t={segmentSettings:O,action:rl.UPDATE_ONBOARDING_RETARGETING_SETTINGS},e.next=6,il(t);case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),l=null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.code,c=null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.message,ie.default.error({message:c||Ua("An error was encountered while while saving the retargeting settings, please try again.","pushengage"),description:l?ba(Ua("Error code: %1s","pushengage"),l):""});case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){y&&v&&M()}),[]);var D=function(e){var t;return!!v&&(null===(t=O.find((function(t){return t.id===e})))||void 0===t?void 0:t.enabled)},L=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,I();case 3:s(!1),n("next");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Wc.Z,{style:{width:"100%",borderRadius:"8px"},children:[(0,st.jsx)(dt.Z,{gutter:[16,16],children:(0,st.jsx)(RE,{className:"pe-fs-24 pe-mb-24",level:2,children:ba(Ua("Step %s: Setup Retargeting"),t.current+1)})}),v&&Fd(p)&&(0,st.jsxs)(dt.Z,{justify:"space-between",gutter:[16,16],children:[(0,st.jsx)(RE,{level:2,children:Ua("Audience Segments")}),(0,st.jsx)(pt.default,{onClick:function(){return m(!0)},icon:(0,st.jsx)(fE,{}),className:"pe-btn-hollow",children:Ua("Create Custom Segment")})]}),(0,st.jsxs)(Hc.default,{spinning:o,children:[P.map((function(e){return(0,st.jsxs)(Wc.Z,{className:"pe-mt-16",style:{borderRadius:"8px"},children:[(0,st.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",gap:"1rem",alignItems:"center"},children:[(0,st.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e.icon,(0,st.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,st.jsxs)(RE,{level:3,children:[e.name," ",!v&&(0,st.jsx)(nf.default,{className:"pe-color-primary pe-fw-600",color:"#3b43ff",style:{borderRadius:"24px",borderColor:"transparent",background:"#3b43ff1a",marginLeft:"5px"},children:Ua("Business+","pushengage")})," "]}),(0,st.jsx)(BE,{children:e.description})]})]}),(0,st.jsx)("div",{children:(0,st.jsx)(Lv.Z,{disabled:!v,checked:D(e.id),onChange:function(t){return function(e,t){A(O.map((function(n){return n.id===e?(0,kn.Z)((0,kn.Z)({},n),{},{enabled:t}):n})))}(e.id,t)}})})]}),"primary_categories"===e.id&&!Wi()(u)&&(0,st.jsx)(qc.Z,{style:{marginLeft:"32px",fontWeight:500},ghost:!0,expandIconPosition:"end",children:(0,st.jsx)(FE,{header:Ua("View Categories"),children:(0,st.jsx)(Vy.default.Group,{style:{width:"100%"},onChange:function(e){A((function(t){return t.map((function(t){return"primary_categories"===t.id?(0,kn.Z)((0,kn.Z)({},t),{},{categories:e}):t}))}))},children:(0,st.jsx)(dt.Z,{children:u.map((function(e){return(0,st.jsx)(ht.Z,{span:8,children:(0,st.jsx)(Vy.default,{disabled:!v,value:e,children:e})},e)}))})})},"1")})]},e.id)})),!v&&(0,st.jsx)(LE,{upgradeUrl:T,title:Ua("Unlock Advanced Retargeting"),description:Ua("Get access to powerful retargeting features and more"),buttonText:Ua("Upgrade Now For $49/year \u2192")})]})]}),(0,st.jsx)(_N,{stepDetails:t,saveHandler:L,handleStepChange:n,loading:o,onStateUpdate:r}),v&&Fd(p)&&(0,st.jsx)(gt.Z,{width:850,centered:!0,zIndex:100003,className:"pe-modal-form pe-custom-segment-modal-form",title:Ua("Create a New Segment","pushengage"),closeIcon:(0,st.jsx)($c,{}),visible:g,destroyOnClose:!0,footer:null,onCancel:function(e){e.preventDefault(),m(!1),_((0,kn.Z)({},zE(b)))},maskClosable:!1,children:(0,st.jsx)(DE,{segment:k,onAction:function(){_((0,kn.Z)({},zE(b))),m(!1)},categorySegments:S})})]})},UE=function(e,t){var n=Eo(t);return Lc.get("sites/".concat(e,"/automation/triggers").concat(n))},HE=function(e,t,n){return Lc.patch("sites/".concat(e,"/automation/triggers/").concat(t,"/status"),n)},WE=function(e,t){return Lc.delete("sites/".concat(e,"/automation/triggers/").concat(t))},qE=function(e,t,n){var r=Eo(n);return Lc.get("sites/".concat(e,"/automation/triggers/").concat(t).concat(r))},KE=function(e,t){return Lc.post("sites/".concat(e,"/automation/triggers"),t)},YE=function(e,t,n){return Lc.put("sites/".concat(e,"/automation/triggers/").concat(t),n)},GE=function(e,t){return Lc.get("sites/".concat(e,"/automation/triggers/available/campaignName/").concat(t))},QE={trigger:{notifications:[{schedule_options:{type:"after",value:"15",unit:"minutes",at:"05:00:00"},notification_title:"Left Something Behind?",notification_message:"Your {{productname}} at {{price}} is still in your cart. Check out now or see reviews!",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:0,actions:[{label:"Complete Purchase",url:"{{notificationurl}}"},{label:"Read Reviews",url:"{{notificationurl}}"}]},{schedule_options:{type:"after",value:"1",unit:"days",at:"05:00:00"},notification_title:"See What You're Missing?",notification_message:"{{productname}} is more than just an item. It's what you've been looking for. Still unsure? Ask us anything!",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:1,actions:[{label:"Return to Cart",url:"{{notificationurl}}"},{label:"Browse More",url:"{{siteurl}}"}]},{schedule_options:{type:"after",value:"2",unit:"days",at:"05:00:00"},notification_title:"Special Offer Just for You!",notification_message:"Get an exclusive 10% off on {{productname}} for the next 24 hours. Not what you're looking for? Explore similar items.",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:2,actions:[{label:"Use Offer",url:"{{checkouturl}}"},{label:"Explore More",url:"{{siteurl}}"}]},{schedule_options:{type:"after",value:"3",unit:"days",at:"05:00:00"},notification_title:"Everyone's Loving {{productname}}",notification_message:"Join the happy customers who've made {{productname}} theirs. Buy now or see what they're saying!",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:3,actions:[{label:"Buy Now",url:"{{checkouturl}}"},{label:"Explore More",url:"{{siteurl}}"}]},{schedule_options:{type:"after",value:"5",unit:"days",at:"05:00:00"},notification_title:"Last Chance for {{productname}}!",notification_message:"{{productname}} has been popular and stock is running low. Don't miss out!",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:4,actions:[{label:"Secure Yours",url:"{{checkouturl}}"},{label:"View Cart",url:"{{notificationurl}}"}]},{schedule_options:{type:"after",value:"7",unit:"days",at:"05:00:00"},notification_title:"Your Last Chance to Grab {{productname}}",notification_message:"We've saved your cart with {{productname}} for one last day. Use code LASTCHANCE for an extra 15% off at checkout. Don't miss out on this exclusive offer!",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:5,actions:[{label:"Apply Code & Checkout",url:"{{checkouturl}}"},{label:"View My Cart",url:"{{notificationurl}}"}]}]},browse:{notifications:[{schedule_options:{type:"after",value:"30",unit:"minutes",at:"08:00:00"},notification_title:"Loved What You Saw, {{customername || }}?",notification_message:"Seems like {{productname}} caught your eye. Need more details or ready to make it yours?",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:0,actions:[{label:"View Product",url:"{{notificationurl}}"}]},{schedule_options:{type:"after",value:"1",unit:"days",at:"08:00:00"},notification_title:"Discover More About {{productname}}",notification_message:"{{productname}} isn't just another item. Dive into its unique features and see why it's a perfect match for you.",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:1,actions:[{label:"Explore Features",url:"{{notificationurl}}"},{label:"See it in Action",url:"{{notificationurl}}"}]},{schedule_options:{type:"after",value:"2",unit:"days",at:"08:00:00"},notification_title:"Everyone's talking about {{productname}}",notification_message:"Find out why {{productname}} is highly rated by our community. Check reviews or join the conversation!",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:2,actions:[{label:"Read Reviews",url:"{{notificationurl}}"}]},{schedule_options:{type:"after",value:"3",unit:"days",at:"08:00:00"},notification_title:"Exclusive offer just for you!",notification_message:"Get 10% off on {{productname}} for the next 24 hours only. Use code BROWSE10 at checkout. Don't miss this!",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:3,actions:[{label:"Use Code BROWSE10",url:"{{notificationurl}}"},{label:"Learn More",url:"{{notificationurl}}"}]},{schedule_options:{type:"after",value:"5",unit:"days",at:"08:00:00"},notification_title:"Need Help Deciding?",notification_message:"Our experts are here to help you make the best choice. Weather it's about {{productname}} or finding something else, we've got you covered!",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:4,actions:[{label:"Get Expert Help",url:"{{notificationurl}}"},{label:"Continue Browsing",url:"{{siteurl}}"}]},{schedule_options:{type:"after",value:"7",unit:"days",at:"08:00:00"},notification_title:"Last chance for Your Special Offer on {{productname}}",notification_message:"Your exclusive 10% discount on {{productname}} ends tonight! Use code BROWSE10 now. Don't let this deal slip away.",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:5,actions:[{label:"Apply Code & Checkout",url:"{{notificationurl}}"},{label:"View Product",url:"{{notificationurl}}"}]}]},price_drop:{notifications:[{schedule_options:{type:"immediately"},notification_title:"Price Drop Alert",notification_message:"{{title}} price has dropped below {{alert_price}}",notification_url:"{{link}}",notification_image:"{{image_link}}",big_image:"{{big_image_link}}",ri:1,order:0}]},inventory:{notifications:[{schedule_options:{type:"immediately"},notification_title:"Inventory Alert",notification_message:"{{title || Item}} is back in stock",notification_url:"{{link}}",notification_image:"{{image_link}}",big_image:"{{big_image_link}}",ri:1,order:0}]},generic:{notifications:[{schedule_options:{type:"immediately"},notification_title:"Your {{productname}} is in cart",notification_message:"Checkout by paying {{price}}",notification_url:"{{notificationurl}}",notification_image:"{{imageurl}}",big_image:"{{bigimageurl}}",ri:1,order:0}]}},XE={notification_title:"",notification_message:"",notification_url:"",big_image:"",actions:[{label:"",url:""},{label:"",url:""}],schedule_value:"",expiry:""},$E={ruleIf:"",ruleThis:"",campaign_name:"",triggerLimit:"",result_name:"",utm_source:"",utm_medium:"",utm_campaign:"",utm_content:"",utm_term:""},JE=function(){return[{key:"all",label:Ua("All","pushengage"),count:0},{key:"active",label:Ua("Active","pushengage"),count:0},{key:"new",label:Ua("Draft","pushengage"),count:0},{key:"cancelled",label:Ua("Paused","pushengage"),count:0}]},eO=function(e){return[{key:"all",label:Ua("All","pushengage"),count:e.active+e.new+e.cancelled},{key:"active",label:Ua("Active","pushengage"),count:e.active},{key:"new",label:Ua("Draft","pushengage"),count:e.new},{key:"cancelled",label:Ua("Paused","pushengage"),count:e.cancelled}]};var tO=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generic";return(null===(t=QE[n])||void 0===t?void 0:t.notifications)||QE.generic.notifications},nO=function(e){return{analytics:{ctr:0,views:0,clicks:0,sentcount:0,unsubscribed:0,conversion_count:0,revenue:0},campaign_name:"New Triggered Campaign-".concat($a()),campaign_type:xi.GENERIC,criteria:{campaign:{expiry:2592e3,price_drop_threshold:{type:"percentage",value:10}}},status:bi.NEW,trigger_limit:void 0,weekly_trigger_limit:void 0,options:{result_name:""},rules:{if:"",operator:"NOT",this:""},notifications:tO(e),utm_params:{utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:"",enabled:!1},errors:{ruleIf:"",ruleThis:"",campaign_name:"",triggerLimit:"",result_name:"",utm_source:"",utm_medium:"",utm_campaign:"",utm_content:"",utm_term:""}}},rO=function(e,t,n){var r,i,a=e;return a.status=t,delete a.analytics,delete a.errors,a.notifications=a.notifications.map((function(e,t){var r,i,a,o,s,l,c,u;(null!==(r=e.notification_image)&&void 0!==r&&r.length||null===e||void 0===e||delete e.notification_image,e.big_image||delete e.big_image,e.actions=(null===e||void 0===e?void 0:e.actions)&&e.actions.map((function(e){return delete e.image_url,e})),e.multiAction?e.multiAction&&!e.multiActionBtn2&&(e.actions=[e.actions[0]]):delete e.actions,delete e.multiAction,delete e.multiActionBtn2,"immediately"===(null===(i=e.schedule_options)||void 0===i?void 0:i.type)&&(e.schedule_options.type="rightaway"),"rightaway"===(null===e||void 0===e||null===(a=e.schedule_options)||void 0===a?void 0:a.type)?(delete e.schedule_options.value,delete e.schedule_options.unit,delete e.schedule_options.at):"days"!==(null===e||void 0===e||null===(o=e.schedule_options)||void 0===o?void 0:o.unit)&&delete e.schedule_options.at,void 0===(null===e||void 0===e||null===(s=e.schedule_options)||void 0===s?void 0:s.at)&&delete e.schedule_options.at,null!==e&&void 0!==e&&null!==(l=e.notification_duration)&&void 0!==l&&l.enabled)?e.ri=Number(null===e||void 0===e||null===(c=e.notification_duration)||void 0===c?void 0:c.open_until_interaction):(e.ri=1,e.expiry=(null===(u=n.default_notification_expiry)||void 0===u?void 0:u.value)||li.EXPIRY);return e.order=t,delete e.analytics,delete e.rule_order,delete e.notification_duration,delete e.errors,e})),[xi.PRICE_DROP,xi.INVENTORY].includes(a.campaign_type)?delete a.rules:delete a.criteria,null!==(r=a.utm_params)&&void 0!==r&&r.enabled&&(""===a.utm_params.utm_content&&delete a.utm_params.utm_content,""===a.utm_params.utm_term&&delete a.utm_params.utm_term),null!==(i=a.options)&&void 0!==i&&i.result_name||delete a.options.result_name,a},iO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.map((function(e){var n,r,i,a,o=Bi()(e);(null!==o&&void 0!==o&&null!==(n=o.actions)&&void 0!==n&&n.length&&(o.multiAction=!0,2===o.actions.length&&(o.multiActionBtn2=!0)),o.rule_order=o.order,null!==o&&void 0!==o&&null!==(r=o.schedule_options)&&void 0!==r&&r.type)&&(o.schedule_options.type="rightaway"===(null===o||void 0===o||null===(i=o.schedule_options)||void 0===i?void 0:i.type)?"immediately":null===o||void 0===o||null===(a=o.schedule_options)||void 0===a?void 0:a.type);return!o.expiry&&t&&(o.expiry=t||li.EXPIRY),o.notification_duration=(0,kn.Z)({enabled:Boolean(null===o||void 0===o?void 0:o.expiry),open_until_interaction:Boolean(null===o||void 0===o?void 0:o.ri)},Po(o.expiry)),o.expiry&&o.expiry!==t&&o.expiry!==li.EXPIRY||1!==o.ri?o.notification_duration.enabled=!0:o.notification_duration.enabled=!1,o.errors=Bi()(XE),o})).sort((function(e,t){return e.order-t.order}));return n};function aO(e,t){var n,r,i=null===t||void 0===t||null===(n=t.default_notification_expiry)||void 0===n?void 0:n.value,a=Ki()(Bi()(e),["site_id","trigger_id","created_at","updated_at"]);a.campaign_name="Copy ".concat(a.campaign_name),a.utm_params=Bi()((null===e||void 0===e?void 0:e.utm_params)||(null===t||void 0===t?void 0:t.utm_settings));var o=a.notifications.filter((function(e){return 1===e.status}));return a.notifications=null===(r=iO(o,i))||void 0===r?void 0:r.map((function(e){return e.analytics={ctr:0,views:0,clicks:0,sentcount:0,unsubscribed:0,conversion_count:0,revenue:0},delete e.delay,delete e.drip_id,delete e.status,delete e.trigger_id,delete e.updated_at,e})),a.errors=Bi()($E),a}function oO(e,t,n){var r,i,a,o=nO(n),s={if:"",operator:"NOT",this:""};e===xi.TRIGGER&&(s.if="add-to-cart",s.this="checkout"),e===xi.BROWSE&&(s.if="browse",s.this="add-to-cart"),e===xi.GENERIC&&(s.if="",s.this=""),o.rules=s;var l=null===t||void 0===t||null===(r=t.default_notification_expiry)||void 0===r?void 0:r.value,c=tO(n,e);return o.notifications=iO(c,l),o.options={result_name:(null===t||void 0===t||null===(i=t.notification_analytics)||void 0===i||null===(a=i.result)||void 0===a?void 0:a.result_name)||""},o.campaign_type=e,o.utm_params=Bi()(null===t||void 0===t?void 0:t.utm_settings),o}var sO=mt.Z.Title,lO=mt.Z.Text,cO=[{id:"cart_abandonment",title:Ua("Abandoned Cart Recovery"),description:Ua("Recover lost sales by reminding customers about their abandoned carts"),icon:(0,st.jsx)(dc,{style:{fontSize:"24px",borderRadius:"5px",padding:"10px",background:"#3b43ff1a"},className:"pe-color-primary"})},{id:"browse_abandonment",title:Ua("Convert your window shoppers"),description:Ua("Turn browsers into buyers with targeted messaging"),icon:(0,st.jsx)(ac,{style:{fontSize:"24px",borderRadius:"5px",padding:"10px",background:"#3b43ff1a"},className:"pe-color-primary"})}],uO=function(e){var t=e.stepDetails,n=e.handleStepChange,r=e.onStateUpdate,i=(0,oe.useState)(!1),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.currentSite})),c=bt((function(e){return e.session.user}),Zi()),u=bt((function(e){return Xd(e.session.user)})),d=bt((function(e){return $d(e.session.user)})),p=bt(Yr),f=bt((function(e){return e.globals.settings})),h=(0,oe.useState)([{id:"cart_abandonment",enabled:!0},{id:"browse_abandonment",enabled:!0}]),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y="".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:l,drawer:!0,planType:ii.GROWTH,planMode:"year",utm_medium:"Onboarding Wizard",utm_content:"Upgrade Now at $99/year",feature:"Recover Sales",ref:"upgrade_now_onboarding_wizard"})),b=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=oO(t,f,c)).campaign_name=xi.BROWSE===t?ba(Ua("WooCommerce Browse Abandonment-%1$s","pushengage"),$a()):xi.TRIGGER===t?ba(Ua("WooCommerce Cart Abandonment-%1$s","pushengage"),$a()):n.campaign_name,r=rO(n,"active",f),e.next=6,KE(l,r);case 6:return i=e.sent,a=i.data,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){u&&d&&p&&((0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,c;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,t={campaign_type:xi.TRIGGER},e.next=5,UE(l,t);case 5:if(n=e.sent,r=n.data,Wi()(r.data)){e.next=14;break}i=r.data[0],a=i.campaign_name,o=i.trigger_id,v((function(e){return e.map((function(e){return"cart_abandonment"===e.id?(0,kn.Z)((0,kn.Z)({},e),{},{triggerId:o,triggerName:a}):e}))})),e.next=20;break;case 14:return e.next=16,b(xi.TRIGGER);case 16:if(c=e.sent){e.next=19;break}return e.abrupt("return");case 19:v((function(e){return e.map((function(e){return"cart_abandonment"===e.id?(0,kn.Z)((0,kn.Z)({},e),{},{triggerId:c.trigger_id,triggerName:c.campaign_name}):e}))}));case 20:s(!1),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(1);case 25:case"end":return e.stop()}}),e,null,[[1,23]])})))(),(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,c;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,t={campaign_type:xi.BROWSE},e.next=5,UE(l,t);case 5:if(n=e.sent,r=n.data,Wi()(r.data)){e.next=14;break}i=r.data[0],a=i.campaign_name,o=i.trigger_id,v((function(e){return e.map((function(e){return"browse_abandonment"===e.id?(0,kn.Z)((0,kn.Z)({},e),{},{triggerId:o,triggerName:a}):e}))})),e.next=20;break;case 14:return e.next=16,b(xi.BROWSE);case 16:if(c=e.sent){e.next=19;break}return e.abrupt("return");case 19:v((function(e){return e.map((function(e){return"browse_abandonment"===e.id?(0,kn.Z)((0,kn.Z)({},e),{},{triggerId:c.trigger_id,triggerName:c.campaign_name}):e}))}));case 20:s(!1),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(1);case 25:case"end":return e.stop()}}),e,null,[[1,23]])})))())}),[l]);var x=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,s,l,c,p,f,h;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&u){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t={recoverSalesSettings:m,action:rl.UPDATE_ONBOARDING_RECOVER_SALES_SETTINGS},e.next=6,il(t);case 6:(n=e.sent).success&&(window.pushengage.isPEWooCommerceConnected=(null===(r=n.data)||void 0===r?void 0:r.browse_enabled)||(null===(i=n.data)||void 0===i?void 0:i.cart_enabled)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),f=null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.code,h=null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(c=l.data)||void 0===c||null===(p=c.data)||void 0===p?void 0:p.message,ie.default.error({message:h||Ua("An error was encountered while while saving the recover sales settings, please try again.","pushengage"),description:f?ba(Ua("Error code: %1s","pushengage"),f):""});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),w=function(e){var t;return!(!d||!u)&&(null===(t=m.find((function(t){return t.id===e})))||void 0===t?void 0:t.enabled)},k=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,x();case 3:s(!1),n("next");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Wc.Z,{style:{width:"100%",borderRadius:"8px"},children:[(0,st.jsx)(dt.Z,{gutter:[16,16],children:(0,st.jsx)(sO,{className:"pe-fs-24 pe-mb-24",level:2,children:ba(Ua("Step %s: Recover Sales"),t.current+1)})}),(0,st.jsxs)(Hc.default,{spinning:o,children:[(0,st.jsx)(dt.Z,{gutter:[16,16],children:cO.map((function(e){return(0,st.jsx)(ht.Z,{lg:12,xs:24,md:12,children:(0,st.jsx)(Wc.Z,{style:{borderRadius:"8px",minHeight:"130px"},bodyStyle:{padding:"1.5rem"},children:(0,st.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",gap:"1.5rem"},children:[(0,st.jsxs)(Ju.default,{align:"start",size:10,children:[e.icon,(0,st.jsxs)(Ju.default,{direction:"vertical",size:0,children:[(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(sO,{level:3,children:e.title}),u&&d?null:(0,st.jsx)(nf.default,{className:"pe-color-primary pe-fw-600",color:"#3b43ff",style:{borderRadius:"24px",borderColor:"transparent",background:"#3b43ff1a"},children:Ua("Growth+")})]}),(0,st.jsxs)(lO,{type:"secondary",className:"pe-fs-14",children:[e.description," "]})]})]}),(0,st.jsx)(Ju.default,{children:(0,st.jsx)(Lv.Z,{disabled:!d||!u,checked:w(e.id),onChange:function(t){v(m.map((function(n){return n.id===e.id?(0,kn.Z)((0,kn.Z)({},n),{},{enabled:t}):n})))},style:{marginLeft:"auto"}})})]})})},e.id)}))}),u&&d?null:(0,st.jsx)(LE,{upgradeUrl:y,title:Ua("Unlock Advanced Recovery Features"),description:Ua("Get access to powerful sales recovery tools and more"),buttonText:Ua("Upgrade Now For $99/year")})]})]}),(0,st.jsx)(_N,{stepDetails:t,saveHandler:k,handleStepChange:n,loading:o,onStateUpdate:r})]})},dO=mt.Z.Text,pO=mt.Z.Title,fO=mt.Z.Paragraph,hO=function(){var e=(0,vt.s0)(),t=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user})),n=bt(Ur),r=bt(Yr),i=Ex(),a=i.verificationInfo,o=i.loading,s="".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:n,drawer:!0,planType:ii.GROWTH,utm_medium:"Onboarding",utm_content:"Upgrade for advanced features",ref:"upgrade_modal"})),l=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(n){var r,i;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Wv({data:{onboarding:{completed_at:(new Date).toISOString(),channels:null===(r=fc())||void 0===r?void 0:r.channels}}});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:i=fc(),i.channels.every((function(e){return e.isCompleted}))&&localStorage.removeItem(ni.onboarding),e(n);case 11:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}();return(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(Wc.Z,{style:{padding:"2.5rem",width:"100%",borderRadius:"8px"},children:(0,st.jsxs)(Hc.default,{spinning:o,children:[(0,st.jsxs)(dt.Z,{justify:"center",gutter:[16,16],style:{maxWidth:600,margin:"0 auto",textAlign:"center"},children:[(0,st.jsxs)("div",{className:"pe-mt-20",children:[(0,st.jsx)(cd,{}),a.active_caching_plugin&&(0,st.jsx)(Au.default,{type:"info",className:"pe-mb-20",message:(0,st.jsx)(dO,{type:"secondary",children:Ua("Your site is currently using a caching plugin. To ensure that the push notification permission prompt is displayed correctly to visitors on existing posts and pages of your site, please clear the cache.","pushengage")})}),!r&&(0,st.jsx)(Au.default,{type:"warning",message:Ua("Please verify your email address.","pushengage"),description:(0,st.jsx)(dO,{type:"secondary",children:Ua("Activate your account by verifying your email address. Please click the link in the verification email we have sent you.","pushengage")})})]}),(0,st.jsxs)(Ju.default,{direction:"vertical",align:"center",children:[(0,st.jsx)(Pp,{className:"pe-color-green",style:{fontSize:"72px"}}),(0,st.jsx)(pO,{level:1,className:"pe-fs-28 pe-ta-center pe-mb-16",children:Ua("\ud83c\udf89 You\u2019re All Set!","pushengage")}),(0,st.jsx)(pO,{level:2,className:"step-title",children:Ua("Your PushEngage account is now fully configured.","pushengage")})]}),(0,st.jsx)(fO,{className:"pe-fs-16",type:"secondary",children:Ua("You are ready to start engaging your audience across channels. From welcome messages to cart recovery and order updates, you now have the tools to reach your customers where they\u2019re most active.","pushengage")}),(0,st.jsx)(fO,{className:"pe-fs-16",type:"secondary",children:Ua("Next step? Sit back and watch your engagement grow.","pushengage")})]}),(0,st.jsx)(dt.Z,{justify:"center",className:"pe-mt-20",gutter:[16,16],children:(0,st.jsx)(ht.Z,{children:(0,st.jsxs)(pt.default,{block:!0,type:"primary",size:"large",className:"pe-fs-16",style:{height:48,width:220},onClick:function(){return l($r.path.dashboard)},children:[Ua("Go to Dashboard","pushengage")," ",(0,st.jsx)(kh,{className:"pe-color-primary pe-fs-10"})]})})}),Td(t)&&(0,st.jsx)("div",{className:"pe-ta-center pe-mt-10",children:(0,st.jsx)(pt.default,{className:"pe-fw-500",onClick:function(){window.open(s,"_blank")},type:"link",children:Ua("Upgrade for advanced features","pushengage")})})]})})})},gO=(n(99583),n(9670)),mO=function(){var e=mt.Z.Text,t=(0,oe.useState)(!1),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useState)({min:0,sec:0}),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(""),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)(""),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=bt(Yr),y=bt((function(e){var t,n;return null===e||void 0===e||null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.user_email})),b=(0,oe.useState)(!1),x=(0,xe.Z)(b,2),w=x[0],k=x[1],_=yt(),C=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.currentSite})),j=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xo(C);case 3:null!==(n=e.sent)&&void 0!==n&&null!==(t=n.user)&&void 0!==t&&t.is_verified&&(k(!0),_(Br(null)),ie.default.success({message:Ua("Email Verified"),description:Ua("You now have full access to PushEngage.")})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=ei().utc(),t=e.add(10,"minutes"),n=t.diff(e,"seconds"),r=setInterval((function(){if((n=t.diff(ei().utc(),"seconds"))<0)l({min:0,sec:0}),clearInterval(r);else{var e=Math.floor(n/60);l({min:e,sec:Math.floor(n-60*e)})}}),1e3)};(0,oe.useEffect)((function(){v||w||(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,ox({type:"verify_email"});case 4:t=e.sent,m(t.data.token),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),j();case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}),[v]);var Z=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,ox({type:"verify_email"});case 4:t=e.sent,m(t.data.token),S(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j();case 12:i(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==d.trim()){e.next=2;break}return e.abrupt("return");case 2:return i(!0),e.prev=3,e.next=6,r={token:g,otp:d},Lc.post("auth/verify-otp",r);case 6:n=e.sent,null!==(t=n.data)&&void 0!==t&&t.is_verified&&(k(!0),ie.default.success({message:Ua("Email Verified"),description:Ua("You now have full access to PushEngage.")})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),j();case 13:i(!1);case 14:case"end":return e.stop()}var r}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,st.jsx)(gt.Z,{className:"pe-verify-email-modal",zIndex:100006,maskStyle:{backgroundColor:"rgba(0, 0, 0, 0.7)"},visible:!v&&!w,footer:null,closable:!1,centered:!0,children:(0,st.jsx)(Hc.default,{spinning:r,children:(0,st.jsxs)("div",{style:{textAlign:"center"},children:[(0,st.jsx)(mv,{style:{fontSize:40,color:"#3B43FF"}}),(0,st.jsx)(mt.Z.Title,{level:4,children:Ua("Verify your email")}),(0,st.jsx)(mt.Z.Text,{children:ba(Ua("We have sent a verification code to %s"),y)}),(0,st.jsx)(Yc.default,{placeholder:"Enter 6-digit verification code",maxLength:6,style:{marginTop:16,textAlign:"center"},onChange:function(e){p(e.target.value)}}),(0,st.jsx)(pt.default,{type:"primary",block:!0,style:{marginTop:16,backgroundColor:"#3B43FF"},onClick:N,disabled:r,children:Ua("Verify Email")}),0!==s.sec||0!==s.min?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(e,{type:"secondary",className:"d-block",style:{textAlign:"end"},children:"".concat(s.min.toString().padStart(2,"0")," : ").concat(s.sec.toString().padStart(2,"0"))}),(0,st.jsx)(Au.default,{className:"mt-16 pe-ta-left",message:Ua("We have sent an email with OTP to verify your email. The email verification OTP will only be valid for 10 minutes."),type:"success",showIcon:!0})]}):(0,st.jsxs)(mt.Z.Text,{style:{display:"block",marginTop:16},children:[Ua("Didn't receive a code?")," ",(0,st.jsx)(pt.default,{className:"pe-fw-500",type:"link",style:{padding:0},onClick:Z,children:Ua("Resend")})]}),(0,st.jsxs)(mt.Z.Text,{style:{display:"block",marginTop:8},children:[Ua("Need help?")," ",(0,st.jsx)(pt.default,{className:"pe-fw-500",onClick:function(){window.open("".concat(Gc.baseDashboardAppUrl,"/account/support").concat(Qc({sid:C,utm_medium:"OnboardingSetup",utm_content:"Contact Customer Care"})),"_blank")},type:"link",style:{padding:0},children:Ua("Contact Customer Care")})]})]})})})},vO=mt.Z.Title,yO=mt.Z.Text,bO=mt.Z.Paragraph,xO=function(e){var t=e.onChannelSelect,n=bt(Hr),r=(0,oe.useMemo)((function(){return md()}),[]),i=(0,oe.useState)([]),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)({}),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)(!1),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=fc(),v=(0,vt.s0)();(0,oe.useEffect)((function(){s(r.map((function(e){return e.id})))}),[r]),(0,oe.useEffect)((function(){localStorage.setItem(ni.onboarding,JSON.stringify((0,kn.Z)((0,kn.Z)({},m),{},{current:0,currentStepId:"channelSelection",onboardingType:"onboarding_setup_wizard",channels:r.map((function(e){return{id:e.id,name:e.name||"",isSelected:!0,isSkipped:!1,isCompleted:!1,icon:e.icon,steps:e.steps.map((function(e){return{id:e.id,isCompleted:!1,isCurrent:!1,trackStep:e.trackStep,title:e.title}}))}}))})))}),[r,m]),(0,oe.useEffect)((function(){g(!0),(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ds({siteId:n,options:{name:"optin_settings"}});case 3:t=e.sent,d(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,g(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})))()}),[n]);var y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,Wv({data:{onboarding:{started_at:(new Date).toISOString()}}});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:if(o.includes("webPush")){e.next=18;break}return e.prev=9,e.next=12,ps({siteId:n,data:(0,kn.Z)((0,kn.Z)({},u),{},{optin_settings:(0,kn.Z)((0,kn.Z)({},u.optin_settings),{},{activeOptin:{http:{type:vi.SAFARI_STYLE_BOX,types:[]},https:{type:vi.SAFARI_STYLE_BOX,types:[]}}})})});case 12:e.next=18;break;case 14:return e.prev=14,e.t1=e.catch(9),g(!1),e.abrupt("return");case 18:g(!1),t(o);case 20:case"end":return e.stop()}}),e,null,[[1,6],[9,14]])})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)(Hc.default,{spinning:h,children:[(0,st.jsx)(mO,{}),(0,st.jsxs)("div",{className:"pe-channel-selection pe-mx-auto pe-pt-20",children:[(0,st.jsxs)("div",{className:"pe-channel-selection-header",children:[(0,st.jsx)(vO,{level:2,className:"pe-ta-center pe-mb-8 pe-fs-24 pe-fw-700",children:Ua("Welcome to PushEngage","pushengage")}),(0,st.jsx)(bO,{className:"pe-ta-center pe-mb-16 pe-fs-18 pe-color-secondary pe-max-w-634 pe-mx-auto",type:"secondary",children:Ua("Choose the services you would like to activate for your business. You can always add or modify these later.","pushengage")}),(0,st.jsx)("div",{className:"pe-ta-center pe-mb-32",children:(0,st.jsx)(pt.default,{icon:o.length===r.length?(0,st.jsx)(Wf,{}):null,type:o.length===r.length?"primary":"default",className:"pe-select-all-btn pe-fw-500",onClick:function(){o.length===r.length?s([]):s(r.map((function(e){return e.id})))},children:o.length===r.length?Ua("All Selected","pushengage"):Ua("Select All Channels","pushengage")})})]}),(0,st.jsx)(dt.Z,{gutter:[24,24],justify:"center",style:{display:"flex"},children:r.map((function(e){var t=o.includes(e.id);return(0,st.jsx)(ht.Z,{xs:24,sm:12,md:8,style:{display:"flex"},children:(0,st.jsx)(gO.Z,{count:t?(0,st.jsx)(Pp,{className:"pe-color-primary pe-bg-white pe-channel-badge-icon"}):null,offset:[-10,10],children:(0,st.jsx)(Wc.Z,{className:"pe-channel-card".concat(t?" pe-channel-card-selected":""),onClick:function(){return t=e.id,void s((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat((0,we.Z)(e),[t])}));var t},hoverable:!0,bordered:!1,style:{flex:1},children:(0,st.jsxs)("div",{className:"pe-channel-card-content",children:[(0,st.jsx)("div",{className:"pe-channel-icon",children:(0,st.jsx)(e.icon,{style:{fontSize:"3.5rem",color:"whatsapp"===e.id||"clickToChat"===e.id?"#25D366":""}})}),(0,st.jsx)(vO,{level:4,className:"pe-fs-22 pe-fw-700 pe-mb-8 pe-ta-center",children:e.name}),(0,st.jsx)(bO,{className:"pe-fs-13 pe-color-secondary pe-ta-center pe-mb-16",children:e.description}),(0,st.jsx)("ul",{className:"pe-channel-features",children:((null===e||void 0===e?void 0:e.features)||[]).map((function(e){return(0,st.jsxs)("li",{className:"pe-fs-13 pe-fw-600",children:[(0,st.jsx)("span",{className:"pe-feature-dot pe-mr-10 pe-bg-primary"}),e]},e)}))}),(0,st.jsx)("div",{className:"pe-channel-select-label pe-ta-center pe-mt-10 pe-fs-15",children:(0,st.jsx)(yO,{type:t?"success":"secondary",className:"pe-fs-14 ".concat(t?"pe-color-green":"pe-color-primary"),strong:!0,children:t?"\u2713 Selected":"Click to select"})})]})})})},e.id)}))}),(0,st.jsxs)("div",{className:"pe-channel-selection-footer pe-ta-center",children:[(0,st.jsxs)(pt.default,{type:"primary",size:"large",className:"pe-continue-btn pe-fs-16 pe-fw-600 pe-mb-18",onClick:y,disabled:0===o.length,block:!0,children:[0===o.length?Ua("Please select at least one service","pushengage"):ba(Ha("Continue with %1$s service","Continue with %1$s services",o.length,"pushengage"),o.length),(0,st.jsx)(kh,{})]}),(0,st.jsx)(pt.default,{className:"pe-btn-plain",onClick:function(){return v($r.path.dashboard)},children:Ua("Skip to Dashboard","pushengage")})]})]})]})},wO="https://graph.facebook.com/".concat("v20.0"),kO=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a,o,s,l,c,u;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qo().get("".concat(wO,"/").concat(t.whatsappBusinessId),{params:{access_token:t.accessToken,fields:"name,message_template_namespace"}});case 3:return n=e.sent,e.prev=4,e.next=7,Qo().get("".concat(wO,"/").concat(t.phoneNumberId),{params:{access_token:t.accessToken,fields:"verified_name,display_phone_number,quality_rating"}});case 7:return r=e.sent,e.abrupt("return",{success:!0,message:"WhatsApp Cloud API credentials are valid.",data:{business:n.data,phoneNumber:r.data}});case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{success:!1,message:"Phone Number ID is invalid or inaccessible with provided access token.",error:null===(i=e.t0.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.error});case 14:e.next=19;break;case 16:return e.prev=16,e.t1=e.catch(0),e.abrupt("return",{success:!1,message:(null===(o=e.t1.response)||void 0===o||null===(s=o.data)||void 0===s||null===(l=s.error)||void 0===l?void 0:l.message)||"Invalid WhatsApp credentials.",error:null===(c=e.t1.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.error});case 19:case"end":return e.stop()}}),e,null,[[0,16],[4,11]])})));return function(t){return e.apply(this,arguments)}}(),_O=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qo().get("".concat(wO,"/").concat(t.whatsappBusinessId,"/message_templates"),{params:(0,kn.Z)({access_token:t.accessToken},n)});case 3:return r=e.sent,e.abrupt("return",{success:!0,data:r.data});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{success:!1,error:null===(i=e.t0.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),CO=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n,r,i){var a,o,s,l,c,u,d=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:"DAILY",o=d.length>5?d[5]:void 0,e.prev=2,s={access_token:t.accessToken,template_ids:n,start:r,end:i,granularity:a},o&&o.length>0&&(s.metric_types=o),e.next=7,Qo().get("".concat(wO,"/").concat(t.whatsappBusinessId,"/template_analytics"),{params:s});case 7:return l=e.sent,e.abrupt("return",{success:!0,data:l.data});case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",{success:!1,error:null===(c=e.t0.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.error});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),jO=mt.Z.Title,SO=mt.Z.Paragraph,ZO=mt.Z.Text,NO={whatsappBusinessId:"",whatsappPhoneNumber:"",phoneNumberId:"",accessToken:""},EO=(0,oe.forwardRef)((function(e,t){var n=e.initialValues,r=void 0===n?NO:n,i=ed.Z.useForm(),a=(0,xe.Z)(i,1)[0],o=(0,oe.useState)(null),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(null),d=(0,xe.Z)(u,2),p=d[0],f=d[1];(0,oe.useEffect)((function(){a.setFieldsValue(r)}),[a,r]);var h=(0,oe.useCallback)((0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,o,s,l,u;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,n=a.getFieldsValue(!0),c(null),f(null),e.next=7,kO(n);case 7:(r=e.sent).success?(l=null===(i=r.data)||void 0===i||null===(o=i.phoneNumber)||void 0===o||null===(s=o.display_phone_number)||void 0===s?void 0:s.replace(/\D/g,""),u=n.whatsappPhoneNumber,l!==u?(a.setFields([{name:"whatsappPhoneNumber",errors:[Ua("The phone number associated with the ID ".concat(n.phoneNumberId," is ").concat(l,".\n                   Please update your whatsapp phone number to match it."))]}]),t=!1):(t=!0,c("success"),f(Ua("WhatsApp credentials validated successfully!")))):(c("error"),f(r.message||Ua("Invalid WhatsApp credentials"))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),c("error"),f(Ua("Please fill in all required fields with valid values"));case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[1,11]])}))),[a]);return(0,oe.useImperativeHandle)(t,(function(){return{validateForm:function(){return(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.validateFields();case 3:return e.next=5,h();case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},getFormValues:function(){return a.getFieldsValue(!0)}}}),[a,h]),(0,st.jsxs)(Ju.default,{className:"pe-mb-24",direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,st.jsxs)(dt.Z,{align:"middle",gutter:16,children:[(0,st.jsx)(ht.Z,{flex:"none",children:(0,st.jsx)(xv,{style:{fontSize:"1.5rem",color:"#25D366"}})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(jO,{level:4,className:"pe-mb-0",children:Ua("WhatsApp Cloud API Settings")})})]}),(0,st.jsx)(SO,{className:"pe-fw-500",type:"secondary",children:Ua("Configure your WhatsApp Cloud API settings to enable WhatsApp messaging functionality.")}),(0,st.jsxs)(dt.Z,{gutter:24,justify:"space-between",children:[(0,st.jsx)(ht.Z,{xs:24,md:12,children:(0,st.jsxs)(ed.Z,{form:a,layout:"vertical",initialValues:r,requiredMark:"optional",children:[(0,st.jsx)(ed.Z.Item,{name:"whatsappBusinessId",label:Ua("WhatsApp Business ID"),messageVariables:{name:Ua("WhatsApp Business ID")},rules:[{required:!0}],extra:Ua("The unique identifier for your WhatsApp Business account"),children:(0,st.jsx)(Yc.default,{})}),(0,st.jsx)(ed.Z.Item,{name:"phoneNumberId",label:Ua("Phone Number ID"),messageVariables:{name:Ua("Phone Number ID")},rules:[{required:!0}],extra:Ua("The ID of the phone number associated with your WhatsApp Business account"),children:(0,st.jsx)(Yc.default,{})}),(0,st.jsx)(ed.Z.Item,{name:"whatsappPhoneNumber",label:Ua("WhatsApp Phone Number"),messageVariables:{name:Ua("WhatsApp Phone Number")},rules:[{required:!0},{pattern:/^[0-9]+$/,message:Ua("Please enter only digits without the + sign (e.g. 919876543210)")},{validator:function(e,t){return!t||t.length>=10&&t.length<=15?Promise.resolve():Promise.reject(new Error(Ua("Phone number should be between 10 and 15 digits including country code")))}}],extra:Ua("The phone number associated with your WhatsApp Business account in international format with country code without + sign (e.g. 919876543210)"),children:(0,st.jsx)(Yc.default,{})}),(0,st.jsx)(ed.Z.Item,{name:"accessToken",label:Ua("Access Token"),messageVariables:{name:Ua("Access Token")},rules:[{required:!0}],extra:Ua("The permanent access token for WhatsApp Cloud API."),children:(0,st.jsx)(Yc.default.Password,{})}),"error"===l&&(0,st.jsx)(Au.default,{type:l,message:p,showIcon:!0,closable:!0,onClose:function(){return c(null)},className:"pe-mb-24"})]})}),(0,st.jsx)(ht.Z,{xs:24,md:10,style:{maxWidth:"500px"},children:(0,st.jsx)(Au.default,{type:"info",description:(0,st.jsxs)("div",{children:[(0,st.jsx)(SO,{children:Ua("To get your WhatsApp Cloud API credentials, follow these steps:")}),(0,st.jsxs)("ol",{children:[(0,st.jsxs)("li",{children:[(0,st.jsx)(ZO,{strong:!0,children:Ua("Create a Meta Developer Account")}),(0,st.jsx)("br",{}),(0,st.jsx)(ZO,{children:Ua("Sign for facebook developer account and agree to the terms to become a Meta developer.")})]}),(0,st.jsxs)("li",{children:[(0,st.jsx)(ZO,{strong:!0,children:Ua("Set up a WhatsApp Business Account")}),(0,st.jsx)("br",{}),(0,st.jsx)(ZO,{children:Ua("Create and verify a WhatsApp Business Account through Meta Business Manager.")})]}),(0,st.jsxs)("li",{children:[(0,st.jsx)(ZO,{strong:!0,children:Ua("Create a Meta App and Configure WhatsApp Integration")}),(0,st.jsx)("br",{}),(0,st.jsx)(ZO,{children:Ua("Create a new app in your Meta Developer Dashboard, then add the WhatsApp product and complete the required configuration.")})]}),(0,st.jsxs)("li",{children:[(0,st.jsx)(ZO,{strong:!0,children:Ua("Retrieve Your API Credentials")}),(0,st.jsx)("br",{}),(0,st.jsx)(ZO,{children:Ua("Copy your WhatsApp Business ID, Phone Number ID, and Permanent Access Token from the WhatsApp -> API Setup section of your Meta App.")})]})]}),(0,st.jsx)(SO,{children:(0,st.jsx)("a",{href:"https://www.pushengage.com/documentation/guide-to-create-whatsapp-business-account/",target:"_blank",rel:"noreferrer",children:Ua("See the documentation for detailed instructions.")})})]})})})]})]})}));EO.displayName="WhatsappCloudApiForm";var OO=EO,AO=function(e){var t=e.handleStepChange,n=e.stepDetails,r=e.onStateUpdate,i=(0,oe.useState)(!1),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)(!1),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useRef)(null),f=(0,oe.useState)({whatsappBusinessId:"",whatsappPhoneNumber:"",phoneNumberId:"",accessToken:""}),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,ml();case 4:null!==(t=e.sent)&&void 0!==t&&t.data&&m(t.data),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,d(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.current){e.next=23;break}return e.prev=1,s(!0),e.next=5,p.current.validateForm();case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return n=p.current.getFormValues(),e.next=11,vl(n);case 11:return m(n),e.next=14,Wv({data:{whatsapp:{status:"connected",connected_at:(new Date).toISOString()}}});case 14:t("next"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),ie.default.error({message:Ua("Error"),description:Ua("Failed to update settings. Please try again.")});case 20:return e.prev=20,s(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})));return function(){return e.apply(this,arguments)}}();return(0,oe.useEffect)((function(){v()}),[]),(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Wc.Z,{className:"pe-onboarding-panel-whatsapp-setup",style:{width:"100%",borderRadius:"8px"},children:(0,st.jsx)(Hc.default,{spinning:u,children:(0,st.jsx)(OO,{ref:p,initialValues:g})})}),(0,st.jsx)(_N,{stepDetails:n,saveHandler:y,handleStepChange:t,loading:o,onStateUpdate:r})]})};function TO(e){if(!e)return[];for(var t,n=/\{\{([^}]+)\}\}/g,r=[];null!==(t=n.exec(e));)r.push(t[1]);return r}var PO={order_placed:{title:Ua("New Order","pushengage"),longTitle:Ua("Send notification when new order is placed","pushengage"),description:Ua("This notification will be sent when a new order is placed.","pushengage")},order_processing:{title:Ua("Order Processing","pushengage"),longTitle:Ua("Send notification when order is processing","pushengage"),description:Ua("This notification will be sent when an order status is changed to Processing.","pushengage")},order_on_hold:{title:Ua("Order On Hold","pushengage"),longTitle:Ua("Send notification when order is on hold","pushengage"),description:Ua("This notification will be sent when an order status is changed to On Hold.","pushengage")},order_completed:{title:Ua("Order Completed","pushengage"),longTitle:Ua("Send notification when order is completed","pushengage"),description:Ua("This notification will be sent when an order status is changed to Completed.","pushengage")},order_cancelled:{title:Ua("Order Cancelled","pushengage"),longTitle:Ua("Send notification when order is cancelled","pushengage"),description:Ua("This notification will be sent when an order status is changed to Cancelled.","pushengage")},order_failed:{title:Ua("Order Failed","pushengage"),longTitle:Ua("Send notification when order is failed","pushengage"),description:Ua("This notification will be sent when an order status is changed to Failed.","pushengage")},order_refunded:{title:Ua("Order Refunded","pushengage"),longTitle:Ua("Send notification when order is refunded","pushengage"),description:Ua("This notification will be sent when an order status is changed to Refunded.","pushengage")},cart_abandoned:{title:Ua("Cart Abandonment","pushengage"),longTitle:Ua("Send notification when cart is abandoned","pushengage"),description:Ua("Remind customers about their abandoned cart.","pushengage")}},MO={enabled:!1,templateName:"",templateLanguage:"",recipients:"",headerVariables:[],bodyVariables:[]},IO={enabled:!1,templateName:"",templateLanguage:"",recipientType:"billing",headerVariables:[],bodyVariables:[]},DO=[{id:"order_placed",enabled:!1,adminConfig:MO,customerConfig:IO},{id:"order_processing",enabled:!1,adminConfig:MO,customerConfig:IO},{id:"order_on_hold",enabled:!1,adminConfig:MO,customerConfig:IO},{id:"order_completed",enabled:!1,adminConfig:MO,customerConfig:IO},{id:"order_cancelled",enabled:!1,adminConfig:MO,customerConfig:IO},{id:"order_failed",enabled:!1,adminConfig:MO,customerConfig:IO},{id:"order_refunded",enabled:!1,adminConfig:MO,customerConfig:IO},{id:"cart_abandoned",enabled:!1,customerConfig:(0,kn.Z)((0,kn.Z)({},IO),{},{cartAbandonedCutoffTime:15})}],LO={enabled:!1,phoneNumber:"",greetingMessage:"Hi there!",buttonStyle:"style1",buttonSize:48,buttonPosition:"bottom-right",horizontalOffset:20,verticalOffset:20,zIndex:9999};function RO(e){var t=e.components.find((function(e){return"HEADER"===e.type}));if(t&&"TEXT"!==t.format)return!1;var n=e.components.find((function(e){return"BUTTONS"===e.type}));if(n&&n.buttons.length>0){var r=n.buttons.find((function(e){var t;return"URL"===e.type&&(null===(t=e.url)||void 0===t?void 0:t.includes("{{"))})),i=["ORDER_DETAILS","COPY_CODE","FLOW","CATALOG"],a=n.buttons.find((function(e){return i.includes(e.type)}));if(r||a)return!1}return!0}var BO="WhatsappCampaignCard_campaignCard__YWYIB",FO="WhatsappCampaignCard_previewColumn__m9GzD",zO="WhatsappCampaignCard_previewWrapper__EVULG",VO="WhatsappCampaignCard_variablesContainer__8nmlF",UO="WhatsappCampaignCard_titleContainer__ppx-C",HO="WhatsappCampaignCard_tagsContainer__4iQYb",WO=(n(10100),n(36227)),qO="WhatsappTemplatePreview_previewContainer__4aeZ+",KO="WhatsappTemplatePreview_messageContainer__cdylJ",YO="WhatsappTemplatePreview_messageCardWrapper__7R3Ua",GO="WhatsappTemplatePreview_messageCard__1xYX+",QO="WhatsappTemplatePreview_messageHeader__zmZR4",XO="WhatsappTemplatePreview_messageBody__4vGAy",$O="WhatsappTemplatePreview_messageFooter__YAfMU",JO="WhatsappTemplatePreview_timestamp__q2ljg",eA="WhatsappTemplatePreview_actionButton__kS1rp",tA=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{viewBox:"0 0 24 24",height:"1em",width:"1em",focusable:"false","data-icon":"pe-phone-filled","aria-hidden":"true",fill:"currentColor",children:(0,st.jsx)("path",{d:"M19.23 15.26l-2.54-.29c-.61-.07-1.21.14-1.64.57l-1.84 1.84c-2.83-1.44-5.15-3.75-6.59-6.59l1.85-1.85c.43-.43.64-1.03.57-1.64l-.29-2.52c-.12-1.01-.97-1.77-1.99-1.77H5.03c-1.13 0-2.07.94-2 2.07.53 8.54 7.36 15.36 15.89 15.89 1.13.07 2.07-.87 2.07-2v-1.73c.01-1.01-.75-1.86-1.76-1.98z",fill:"currentColor"})}))},nA=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:tA},e))},rA=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 44 45",fill:"currentColor",focusable:"false","data-icon":"pe-exit-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M37.8122 22.5H36.4372C36.0075 22.5 35.7497 22.8438 35.7497 23.1875V40.375C35.7497 41.1484 35.0622 41.75 34.3747 41.75H4.12468C3.35124 41.75 2.74968 41.1484 2.74968 40.375V10.125C2.74968 9.4375 3.35124 8.75 4.12468 8.75H21.3122C21.6559 8.75 21.9997 8.49219 21.9997 8.0625V6.6875C21.9997 6.34375 21.6559 6 21.3122 6H4.12468C1.80437 6 -0.000320435 7.89062 -0.000320435 10.125V40.375C-0.000320435 42.6953 1.80437 44.5 4.12468 44.5H34.3747C36.6091 44.5 38.4997 42.6953 38.4997 40.375V23.1875C38.4997 22.8438 38.1559 22.5 37.8122 22.5ZM41.2497 0.5H41.1637L32.9137 0.585938C30.5075 0.585938 29.3044 3.50781 31.0231 5.22656L34.0309 8.32031L11.2575 31.0938C11.0856 31.2656 10.9137 31.5234 10.9137 31.7812C10.9137 32.0391 11.0856 32.2969 11.2575 32.5547L11.945 33.2422C12.2028 33.4141 12.4606 33.5859 12.7184 33.5859C12.9762 33.5859 13.2341 33.4141 13.4059 33.2422L36.1794 10.4688L39.2731 13.4766C40.9919 15.1953 43.9137 13.9922 43.9137 11.5859L43.9997 3.33594V3.25C43.9997 1.78906 42.7106 0.5 41.2497 0.5ZM41.1637 11.5859L32.9137 3.33594L41.2497 3.25L41.1637 11.5859Z"})}))},iA=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:rA},e))},aA=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{viewBox:"0 0 29 29",fill:"currentColor",width:"1em",height:"1em",focusable:"false","data-icon":"pe-doc-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M10.819 21.637h7.212c.34 0 .626-.115.857-.345.23-.23.345-.516.345-.857 0-.34-.115-.626-.345-.856a1.163 1.163 0 0 0-.857-.346H10.82c-.34 0-.626.116-.857.346-.23.23-.345.516-.345.856 0 .341.115.627.345.857.23.23.516.345.857.345zm0-4.808h7.212c.34 0 .626-.115.857-.346.23-.23.345-.515.345-.856 0-.34-.115-.626-.345-.856a1.163 1.163 0 0 0-.857-.346H10.82c-.34 0-.626.115-.857.346-.23.23-.345.515-.345.856 0 .34.115.626.345.856.23.23.516.346.857.346zm-3.606 9.617a2.315 2.315 0 0 1-1.698-.706 2.315 2.315 0 0 1-.707-1.698V4.808c0-.66.236-1.227.707-1.698a2.315 2.315 0 0 1 1.698-.706h8.625a2.374 2.374 0 0 1 1.682.691l5.83 5.83a2.374 2.374 0 0 1 .691 1.683v13.434c0 .66-.235 1.227-.706 1.698-.47.47-1.036.706-1.698.706H7.213zm8.414-16.83V4.809H7.213v19.234h14.424V10.819H16.83c-.34 0-.626-.116-.856-.346a1.163 1.163 0 0 1-.346-.856z"})}))},oA=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:aA},e))},sA=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{viewBox:"0 0 24 24",height:"1em",width:"1em",focusable:"false","data-icon":"pe-reply-filled","aria-hidden":"true",fill:"currentColor",children:(0,st.jsx)("path",{d:"M6.8249 12L9.7249 14.9C9.9249 15.1 10.0207 15.3334 10.0124 15.6C10.0041 15.8667 9.8999 16.1 9.6999 16.3C9.4999 16.4834 9.26657 16.5792 8.9999 16.5875C8.73324 16.5959 8.4999 16.5 8.2999 16.3L3.6999 11.7C3.4999 11.5 3.3999 11.2667 3.3999 11C3.3999 10.7334 3.4999 10.5 3.6999 10.3L8.2999 5.70005C8.48324 5.51672 8.7124 5.42505 8.9874 5.42505C9.2624 5.42505 9.4999 5.51672 9.6999 5.70005C9.8999 5.90005 9.9999 6.13755 9.9999 6.41255C9.9999 6.68755 9.8999 6.92505 9.6999 7.12505L6.8249 10H15.9999C17.3832 10 18.5624 10.4875 19.5374 11.4625C20.5124 12.4375 20.9999 13.6167 20.9999 15V18C20.9999 18.2834 20.9041 18.5209 20.7124 18.7125C20.5207 18.9042 20.2832 19 19.9999 19C19.7166 19 19.4791 18.9042 19.2874 18.7125C19.0957 18.5209 18.9999 18.2834 18.9999 18V15C18.9999 14.1667 18.7082 13.4584 18.1249 12.875C17.5416 12.2917 16.8332 12 15.9999 12H6.8249Z"})}))},lA=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:sA},e))},cA=mt.Z.Text,uA=function(e){if(!e)return[];for(var t,n=/```([^]*?)```/g,r=[],i=0;null!==(t=n.exec(e));)t.index>i&&r.push({type:"text",content:e.substring(i,t.index)}),r.push({type:"code",content:t[1]}),i=t.index+t[0].length;i<e.length&&r.push({type:"text",content:e.substring(i)});var a=r.flatMap((function(e,t){if("code"===e.type)return[(0,st.jsx)("pre",{style:{fontFamily:"monospace",display:"inline"},children:e.content},"code-".concat(t))];var n=[];return e.content.split(/\*(.*?)\*/g).forEach((function(e,r){r%2===0?n.push(e):n.push((0,st.jsx)("strong",{children:e},"bold-".concat(t,"-").concat(r)))})),n.map((function(e,n){if("string"!==typeof e)return e;var r=e.split(/_(.*?)_/g);return 1===r.length?e:r.map((function(e,r){return r%2===0?e:(0,st.jsx)("em",{children:e},"italic-".concat(t,"-").concat(n,"-").concat(r))}))})).flat().map((function(e,n){if("string"!==typeof e)return e;var r=e.split(/~(.*?)~/g);return 1===r.length?e:r.map((function(e,r){return r%2===0?e:(0,st.jsx)("del",{children:e},"strike-".concat(t,"-").concat(n,"-").concat(r))}))})).flat()})),o=[];return a.forEach((function(e,t){if("string"===typeof e)e.split("\n").forEach((function(e,n){n>0&&o.push((0,st.jsx)("br",{},"br-".concat(t,"-").concat(n))),e&&o.push(e)}));else if(oe.isValidElement(e)&&e.props&&"string"===typeof e.props.children){var n=e.props.children.split("\n");n.length>1?n.forEach((function(n,r){if(r>0&&o.push((0,st.jsx)("br",{},"br-".concat(t,"-").concat(r))),n){var i=e.key?"".concat(e.key,"-").concat(r):"element-".concat(t,"-").concat(r);o.push(oe.cloneElement(e,{key:i},n))}})):o.push(e)}else o.push(e)})),o},dA=function(e){var t=e.button;return"URL"===t.type?(0,st.jsx)(iA,{className:"pe-fs-14"}):"PHONE_NUMBER"===t.type?(0,st.jsx)(nA,{className:"pe-fs-20"}):"COPY_CODE"===t.type?(0,st.jsx)(Sh,{className:"pe-fs-18"}):"FLOW"===t.type?(0,st.jsx)(oA,{className:"pe-fs-20"}):"QUICK_REPLY"===t.type?(0,st.jsx)(lA,{className:"pe-fs-20"}):null},pA=function(e){var t=e.template;if(!t)return(0,st.jsx)("div",{className:qO,children:(0,st.jsx)("div",{className:KO,children:(0,st.jsx)("div",{className:XO,children:(0,st.jsx)(cA,{children:"Select a template to preview"})})})});var n=t.components.find((function(e){return"HEADER"===e.type})),r=(null===n||void 0===n?void 0:n.text)||"",i=t.components.find((function(e){return"BODY"===e.type})),a=(null===i||void 0===i?void 0:i.text)||"",o=t.components.find((function(e){return"FOOTER"===e.type})),s=(null===o||void 0===o?void 0:o.text)||"",l=t.components.find((function(e){return"BUTTONS"===e.type}));return(0,st.jsx)("div",{className:qO,children:(0,st.jsx)("div",{className:KO,children:(0,st.jsx)("div",{className:"pe-px-8 pe-py-12",children:(0,st.jsx)("div",{className:YO,children:(0,st.jsxs)("div",{className:GO,children:[(0,st.jsxs)("div",{className:"pe-p-relative",children:[r&&(0,st.jsx)("div",{className:QO,children:(0,st.jsx)("span",{children:r})}),a&&(0,st.jsx)("div",{className:XO,children:uA(a)}),s&&(0,st.jsx)("div",{className:$O,children:(0,st.jsx)("span",{children:s})}),(0,st.jsx)("span",{className:"pe-d-inline-block pe-mr-32"}),(0,st.jsx)("time",{className:JO,children:"11:21"})]}),l&&l.buttons.length>0&&(0,st.jsx)("div",{children:l.buttons.map((function(e){return(0,st.jsxs)("div",{className:eA,children:[(0,st.jsx)(dA,{button:e}),(0,st.jsx)("span",{children:e.text})]},e.text)}))})]})})})})})},fA=function(e){var t=e.value,n=e.variableKey,r=e.onChange,i=e.placeholder,a=e.variables,o=(0,oe.useRef)(null),s=(0,oe.useCallback)((function(e){var t,n=null===(t=o.current)||void 0===t?void 0:t.input;if(n){var i=n.value,a=n.selectionStart||0,s=i.substring(0,a)+"{{".concat(e,"}}")+i.substring(a);r(s),setTimeout((function(){if(n){var t=a+e.length+4;n.focus(),n.setSelectionRange(t,t)}}),0)}}),[r]),l=(0,oe.useCallback)((function(){return(0,st.jsx)($u.default,{onClick:function(e){var t=e.key;return s(t)},style:{maxHeight:"300px",overflow:"auto"},children:a.map((function(e){return(0,st.jsx)($u.default.Item,{children:(0,st.jsxs)("div",{children:[(0,st.jsx)("div",{children:e.label}),e.description&&(0,st.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:e.description})]})},e.value)}))})}),[a,s]);return(0,st.jsx)(Yc.default,{ref:o,value:t,onChange:function(e){return r(e.target.value)},placeholder:i||"Enter value for ".concat(n),className:"pe-py-0 pe-pr-0",suffix:(0,st.jsx)(Xu.default,{overlay:l(),trigger:["click"],children:(0,st.jsxs)(pt.default,{type:"link",size:"small",style:{fontWeight:"normal"},children:[Ua("Add Variable")," ",(0,st.jsx)(Kf,{})]})})})},hA=mt.Z.Text,gA=Rv.default.Option,mA=function(e){var t=e.template;return(0,st.jsxs)(dt.Z,{justify:"space-between",children:[(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)("div",{style:{fontWeight:"bold"},children:t.name}),(0,st.jsxs)("span",{className:"pe-fs-12",children:[t.category," \u2022 ",t.language.toUpperCase(),!t.isSupported&&(0,st.jsxs)(st.Fragment,{children:["\u2022 ",(0,st.jsx)("span",{className:"pe-fs-10",children:Ua("(Not Supported)","pushengage")})]})]})]}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(nf.default,{className:"pe-fs-11 pe-tag-sm",color:"APPROVED"===t.status?"success":"REJECTED"===t.status?"error":"",children:t.status})})]})},vA=function(e){var t,n,r,i,a,o,s,l,c=e.visible,u=e.campaign,d=e.templateOptions,p=e.onCancel,f=e.onSave,h=ed.Z.useForm(),g=(0,xe.Z)(h,1)[0],m=(0,oe.useState)(u),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)(!1),w=(0,xe.Z)(x,2),k=w[0],_=w[1];(0,oe.useEffect)((function(){b((0,kn.Z)({},u))}),[u]);var C=PO[u.id],j=(0,oe.useMemo)((function(){return function(e){var t,n=[{label:Ua("Site Title","pushengage"),value:"site_title",description:Ua("Name of the website","pushengage")},{label:Ua("Site URL","pushengage"),value:"site_url",description:Ua("URL of the website homepage","pushengage")},{label:Ua("Shop URL","pushengage"),value:"shop_url",description:Ua("URL of the shop page","pushengage")},{label:Ua("Checkout URL","pushengage"),value:"checkout_url",description:Ua("URL of the checkout page","pushengage")},{label:Ua("Cart URL","pushengage"),value:"cart_url",description:Ua("URL of the cart page","pushengage")},{label:Ua("Account URL","pushengage"),value:"account_url",description:Ua("URL of the user account page","pushengage")}],r=[],i=[];return"cart_abandoned"===e?r=[{label:Ua("Cart Items Count","pushengage"),value:"cart_items_count",description:Ua("Number of items in the cart","pushengage")},{label:Ua("Cart Total","pushengage"),value:"cart_total",description:Ua("Total amount of the cart","pushengage")},{label:Ua("Cart Currency","pushengage"),value:"cart_currency",description:Ua("Currency of the cart","pushengage")}]:i=[{label:Ua("Order ID","pushengage"),value:"order_id",description:Ua("The unique ID of the order","pushengage")},{label:Ua("Order Total","pushengage"),value:"order_total",description:Ua("The total amount of the order","pushengage")},{label:Ua("Order Items Count","pushengage"),value:"order_items_count",description:Ua("Number of items in the order","pushengage")},{label:Ua("Order Currency","pushengage"),value:"order_currency",description:Ua("Currency of the order","pushengage")},{label:Ua("Order Date","pushengage"),value:"order_date",description:Ua("Date when the order was placed","pushengage")},{label:Ua("Order URL","pushengage"),value:"order_url",description:Ua("URL of the order page","pushengage")},{label:Ua("Order Admin URL","pushengage"),value:"order_admin_url",description:Ua("URL of the order admin page","pushengage")}],t=[{label:Ua("Billing First Name","pushengage"),value:"billing_first_name",description:Ua("Customer's billing first name","pushengage")},{label:Ua("Billing Last Name","pushengage"),value:"billing_last_name",description:Ua("Customer's billing last name","pushengage")},{label:Ua("Billing Full Name","pushengage"),value:"billing_full_name",description:Ua("Customer's full billing name","pushengage")},{label:Ua("Billing Company","pushengage"),value:"billing_company",description:Ua("Customer's billing company","pushengage")},{label:Ua("Billing Address 1","pushengage"),value:"billing_address_1",description:Ua("Customer's billing address line 1","pushengage")},{label:Ua("Billing Address 2","pushengage"),value:"billing_address_2",description:Ua("Customer's billing address line 2","pushengage")},{label:Ua("Billing City","pushengage"),value:"billing_city",description:Ua("Customer's billing city","pushengage")},{label:Ua("Billing State","pushengage"),value:"billing_state",description:Ua("Customer's billing state","pushengage")},{label:Ua("Billing Postcode","pushengage"),value:"billing_postcode",description:Ua("Customer's billing postal code","pushengage")},{label:Ua("Billing Country","pushengage"),value:"billing_country",description:Ua("Customer's billing country","pushengage")},{label:Ua("Billing Phone","pushengage"),value:"billing_phone",description:Ua("Customer's billing phone number","pushengage")},{label:Ua("Billing Email","pushengage"),value:"billing_email",description:Ua("Customer's billing email address","pushengage")},{label:Ua("Billing Address","pushengage"),value:"billing_address",description:Ua("Customer's formatted billing address","pushengage")},{label:Ua("Shipping First Name","pushengage"),value:"shipping_first_name",description:Ua("Customer's shipping first name","pushengage")},{label:Ua("Shipping Last Name","pushengage"),value:"shipping_last_name",description:Ua("Customer's shipping last name","pushengage")},{label:Ua("Shipping Full Name","pushengage"),value:"shipping_full_name",description:Ua("Customer's full shipping name","pushengage")},{label:Ua("Shipping Address 1","pushengage"),value:"shipping_address_1",description:Ua("Customer's shipping address line 1","pushengage")},{label:Ua("Shipping Address 2","pushengage"),value:"shipping_address_2",description:Ua("Customer's shipping address line 2","pushengage")},{label:Ua("Shipping City","pushengage"),value:"shipping_city",description:Ua("Customer's shipping city","pushengage")},{label:Ua("Shipping State","pushengage"),value:"shipping_state",description:Ua("Customer's shipping state","pushengage")},{label:Ua("Shipping Postcode","pushengage"),value:"shipping_postcode",description:Ua("Customer's shipping postal code","pushengage")},{label:Ua("Shipping Country","pushengage"),value:"shipping_country",description:Ua("Customer's shipping country","pushengage")},{label:Ua("Shipping Phone","pushengage"),value:"shipping_phone",description:Ua("Customer's shipping phone number","pushengage")},{label:Ua("Shipping Address","pushengage"),value:"shipping_address",description:Ua("Customer's formatted shipping address","pushengage")}],[].concat(n,(0,we.Z)(r),(0,we.Z)(i),(0,we.Z)(t))}(u.id)}),[u.id]),S=(0,oe.useMemo)((function(){return d.find((function(e){var t,n;return(null===(t=y.adminConfig)||void 0===t?void 0:t.templateName)===e.name&&(null===(n=y.adminConfig)||void 0===n?void 0:n.templateLanguage)===e.language}))}),[d,null===(t=y.adminConfig)||void 0===t?void 0:t.templateName,null===(n=y.adminConfig)||void 0===n?void 0:n.templateLanguage]),Z=(0,oe.useMemo)((function(){return d.find((function(e){var t,n;return(null===(t=y.customerConfig)||void 0===t?void 0:t.templateName)===e.name&&(null===(n=y.customerConfig)||void 0===n?void 0:n.templateLanguage)===e.language}))}),[d,null===(r=y.customerConfig)||void 0===r?void 0:r.templateName,null===(i=y.customerConfig)||void 0===i?void 0:i.templateLanguage]),N=null===S||void 0===S||null===(a=S.components)||void 0===a?void 0:a.find((function(e){return"HEADER"===e.type})),E=null===S||void 0===S||null===(o=S.components)||void 0===o?void 0:o.find((function(e){return"BODY"===e.type})),O=null===Z||void 0===Z||null===(s=Z.components)||void 0===s?void 0:s.find((function(e){return"HEADER"===e.type})),A=null===Z||void 0===Z||null===(l=Z.components)||void 0===l?void 0:l.find((function(e){return"BODY"===e.type})),T=TO(null===N||void 0===N?void 0:N.text),P=TO(null===E||void 0===E?void 0:E.text),M=TO(null===O||void 0===O?void 0:O.text),I=TO(null===A||void 0===A?void 0:A.text),D=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,s,l,c,d,p,f,h,g,m,v,b,x,w,k,_,C;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,i=[],null!==(t=y.customerConfig)&&void 0!==t&&t.enabled&&("cart_abandoned"===u.id&&(!(a=y.customerConfig.cartAbandonedCutoffTime)||a<=0)&&(o=Ua("Cart abandoned cutoff time is required and must be greater than 0."),i.push(o),r=!1),y.customerConfig.recipientType||(s=Ua("Customer phone type is required."),i.push(s),r=!1),y.customerConfig.templateName&&y.customerConfig.templateLanguage||(l=Ua("Customer message template is required."),i.push(l),r=!1),M.length>0&&(p=M.filter((function(e){var t,n,r=null===(t=y.customerConfig)||void 0===t||null===(n=t.headerVariables)||void 0===n?void 0:n.find((function(t){return t.key===e}));return!(null!==r&&void 0!==r&&r.value)})),p.length>0&&(i.push(ba(Ua("Customer header variables %s is required."),p.join(", "))),r=!1),null===(c=y.customerConfig)||void 0===c||null===(d=c.headerVariables)||void 0===d||d.forEach((function(e){e.value&&(/[\n\t]/.test(e.value)||/ {5,}/.test(e.value))&&(i.push(ba(Ua("Customer header variable {{%s}} value cannot have new-line/tab characters or more than 4 consecutive spaces.","pushengage"),e.key)),r=!1)}))),I.length>0&&(g=I.filter((function(e){var t,n,r=null===(t=y.customerConfig)||void 0===t||null===(n=t.bodyVariables)||void 0===n?void 0:n.find((function(t){return t.key===e}));return!(null!==r&&void 0!==r&&r.value)})),g.length>0&&(i.push(ba(Ua("Customer body variables %s  required."),g.join(", "))),r=!1),null===(f=y.customerConfig)||void 0===f||null===(h=f.bodyVariables)||void 0===h||h.forEach((function(e){e.value&&(/[\n\t]/.test(e.value)||/ {5,}/.test(e.value))&&(i.push(ba(Ua("Customer body variable {{%s}} value cannot have new-line/tab characters or more than 4 consecutive spaces.","pushengage"),e.key)),r=!1)})))),null!==(n=y.adminConfig)&&void 0!==n&&n.enabled&&(y.adminConfig.recipients?(m=y.adminConfig.recipients.split(",").map((function(e){return e.trim()})),v=m.filter((function(e){return!/^\d{11,16}$/.test(e)})),v.length>0&&(i.push(Ua("Invalid admin phone number. Numbers must include country code without + sign.")),r=!1)):(i.push(Ua("Admin phone numbers is required.")),r=!1),y.adminConfig.templateName&&y.adminConfig.templateLanguage||(i.push(Ua("Admin message template is required.")),r=!1),T.length>0&&(w=T.filter((function(e){var t,n,r=null===(t=y.adminConfig)||void 0===t||null===(n=t.headerVariables)||void 0===n?void 0:n.find((function(t){return t.key===e}));return!(null!==r&&void 0!==r&&r.value)})),w.length>0&&(i.push(ba(Ua("Admin header variables %s is required."),w.join(", "))),r=!1),null===(b=y.adminConfig)||void 0===b||null===(x=b.headerVariables)||void 0===x||x.forEach((function(e){e.value&&(/[\n\t]/.test(e.value)||/ {5,}/.test(e.value))&&(i.push(ba(Ua("Admin header variable {{%s}} value cannot have new-line/tab characters or more than 4 consecutive spaces.","pushengage"),e.key)),r=!1)}))),P.length>0&&(C=P.filter((function(e){var t,n,r=null===(t=y.adminConfig)||void 0===t||null===(n=t.bodyVariables)||void 0===n?void 0:n.find((function(t){return t.key===e}));return!(null!==r&&void 0!==r&&r.value)})),C.length>0&&(i.push(ba(Ua("Admin body variables %s required."),C.join(", "))),r=!1),null===(k=y.adminConfig)||void 0===k||null===(_=k.bodyVariables)||void 0===_||_.forEach((function(e){e.value&&(/[\n\t]/.test(e.value)||/ {5,}/.test(e.value))&&(i.push(ba(Ua("Admin body variable {{%s}} value cannot have new-line/tab characters or more than 4 consecutive spaces.","pushengage"),e.key)),r=!1)})))),!r&&i.length>0&&WO.default.error(i.join(", ")),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:if(!e.sent){e.next=8;break}return _(!0),e.next=7,f(y);case 7:_(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e,t,n){if(y.adminConfig){var r="header"===n?"headerVariables":"bodyVariables",i=y.adminConfig[r]||[],a=i.findIndex((function(t){return t.key===e}));if(a>=0){var o=(0,we.Z)(i);o[a]={key:e,value:t},b((0,kn.Z)((0,kn.Z)({},y),{},{adminConfig:(0,kn.Z)((0,kn.Z)({},y.adminConfig),{},(0,ti.Z)({},r,o))}))}else{var s=[].concat((0,we.Z)(i),[{key:e,value:t}]);b((0,kn.Z)((0,kn.Z)({},y),{},{adminConfig:(0,kn.Z)((0,kn.Z)({},y.adminConfig),{},(0,ti.Z)({},r,s))}))}}},B=function(e,t,n){if(y.customerConfig){var r="header"===n?"headerVariables":"bodyVariables",i=y.customerConfig[r]||[],a=i.findIndex((function(t){return t.key===e}));if(a>=0){var o=(0,we.Z)(i);o[a]={key:e,value:t},b((0,kn.Z)((0,kn.Z)({},y),{},{customerConfig:(0,kn.Z)((0,kn.Z)({},y.customerConfig),{},(0,ti.Z)({},r,o))}))}else{var s=[].concat((0,we.Z)(i),[{key:e,value:t}]);b((0,kn.Z)((0,kn.Z)({},y),{},{customerConfig:(0,kn.Z)((0,kn.Z)({},y.customerConfig),{},(0,ti.Z)({},r,s))}))}}};return(0,st.jsx)(gt.Z,{title:(0,st.jsxs)("div",{children:[(0,st.jsx)("h3",{className:"pe-mb-0 pe-fw-600 pe-fs-16",children:C.title}),(0,st.jsx)(hA,{type:"secondary",className:"pe-mb-0 pe-fs-14",children:C.description})]}),visible:c,onCancel:p,destroyOnClose:!0,closeIcon:(0,st.jsx)($c,{}),width:1e3,zIndex:100002,footer:[(0,st.jsx)(pt.default,{onClick:p,disabled:k,children:Ua("Cancel")},"cancel"),(0,st.jsx)(pt.default,{type:"primary",loading:k,onClick:L,children:Ua("Save")},"save")],children:(0,st.jsx)(ed.Z,{form:g,layout:"horizontal",colon:!1,requiredMark:!1,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:(0,st.jsxs)("div",{className:"pe-py-16",children:[y.customerConfig&&(0,st.jsxs)(dt.Z,{gutter:24,children:[(0,st.jsxs)(ht.Z,{lg:16,sm:24,children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Customer Notification"),children:(0,st.jsx)(Vy.default,{checked:y.customerConfig.enabled,onChange:function(e){return function(e){var t;y.customerConfig&&b((0,kn.Z)((0,kn.Z)({},y),{},{enabled:(null===(t=y.adminConfig)||void 0===t?void 0:t.enabled)||e,customerConfig:(0,kn.Z)((0,kn.Z)({},y.customerConfig),{},{enabled:e})}))}(e.target.checked)},children:(0,st.jsx)(hA,{className:"pe-fw-500",type:"secondary",children:Ua("Send notification to customer")})})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Customer Phone"),extra:Ua("Select which customer phone number to use for notifications"),children:(0,st.jsxs)(Rv.default,{placeholder:Ua("Select phone number type"),value:y.customerConfig.recipientType,onChange:function(e){y.customerConfig&&b((0,kn.Z)((0,kn.Z)({},y),{},{customerConfig:(0,kn.Z)((0,kn.Z)({},y.customerConfig),{},{recipientType:e})}))},style:{width:"100%"},children:[(0,st.jsx)(gA,{value:"billing",children:Ua("Billing Phone")}),(0,st.jsx)(gA,{value:"shipping",children:Ua("Shipping Phone")}),(0,st.jsx)(gA,{value:"both",children:Ua("Both (Billing and Shipping)")})]})}),"cart_abandoned"===u.id&&(0,st.jsx)(ed.Z.Item,{label:Ua("Cart Abandoned Cutoff Time"),extra:Ua("Time in minutes after which a cart is considered abandoned"),children:(0,st.jsx)(Yc.default,{type:"number",placeholder:Ua("Enter cutoff time in minutes"),value:y.customerConfig.cartAbandonedCutoffTime,min:1,onChange:function(e){return function(e){var t=parseInt(e,10);y.customerConfig&&b((0,kn.Z)((0,kn.Z)({},y),{},{customerConfig:(0,kn.Z)((0,kn.Z)({},y.customerConfig),{},{cartAbandonedCutoffTime:t})}))}(e.target.value)},suffix:Ua("minutes")})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Message Template"),children:(0,st.jsx)(Rv.default,{placeholder:Ua("Select Template"),value:Z?Z.id:void 0,onChange:function(e){var t=d.find((function(t){return t.id===e}));t&&y.customerConfig&&b((0,kn.Z)((0,kn.Z)({},y),{},{customerConfig:(0,kn.Z)((0,kn.Z)({},y.customerConfig),{},{templateName:t.name,templateLanguage:t.language,headerVariables:[],bodyVariables:[]})}))},style:{width:"100%"},optionLabelProp:"label",showSearch:!0,filterOption:function(e,t){return((null===t||void 0===t?void 0:t.title)||"").toLowerCase().includes(e.toLowerCase())},children:d.map((function(e){return(0,st.jsx)(gA,{value:e.id,disabled:"APPROVED"!==e.status||!e.isSupported,label:e.name,title:e.name,children:(0,st.jsx)(mA,{template:e})},e.id)}))})}),M.length>0&&(0,st.jsx)(ed.Z.Item,{label:Ua("Header Variables"),children:(0,st.jsx)("div",{className:VO,children:M.map((function(e){var t,n,r,i=(null===(t=y.customerConfig)||void 0===t||null===(n=t.headerVariables)||void 0===n||null===(r=n.find((function(t){return t.key===e})))||void 0===r?void 0:r.value)||"",a="customer-header-".concat(e);return(0,st.jsxs)(dt.Z,{gutter:[16,16],className:"pe-mb-20",children:[(0,st.jsx)(ht.Z,{span:6,children:(0,st.jsx)(Yc.default,{size:"small",disabled:!0,value:"{{".concat(e,"}}")})}),(0,st.jsx)(ht.Z,{span:18,children:(0,st.jsx)(fA,{inputId:a,value:i,variableKey:e,onChange:function(t){return B(e,t,"header")},variables:j})})]},a)}))})}),I.length>0&&(0,st.jsx)(ed.Z.Item,{label:Ua("Body Variables"),children:(0,st.jsx)("div",{className:VO,children:I.map((function(e){var t,n,r,i=(null===(t=y.customerConfig)||void 0===t||null===(n=t.bodyVariables)||void 0===n||null===(r=n.find((function(t){return t.key===e})))||void 0===r?void 0:r.value)||"",a="customer-body-".concat(e);return(0,st.jsxs)(dt.Z,{gutter:[16,16],className:"pe-mb-20",children:[(0,st.jsx)(ht.Z,{span:6,children:(0,st.jsx)(Yc.default,{size:"small",disabled:!0,value:"{{".concat(e,"}}")})}),(0,st.jsx)(ht.Z,{span:18,children:(0,st.jsx)(fA,{inputId:a,value:i,variableKey:e,onChange:function(t){return B(e,t,"body")},variables:j})})]},a)}))})})]}),(0,st.jsx)(ht.Z,{lg:8,sm:24,className:FO,children:(0,st.jsxs)("div",{className:zO,children:[(0,st.jsx)(hA,{strong:!0,className:"pe-mb-16",children:Ua("Customer Template Preview")}),(0,st.jsx)(pA,{template:Z})]})})]}),y.customerConfig&&y.adminConfig&&(0,st.jsx)(Cu.Z,{className:"pe-my-16"}),y.adminConfig&&(0,st.jsxs)(dt.Z,{gutter:24,children:[(0,st.jsxs)(ht.Z,{lg:16,sm:24,children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Admin Notification"),children:(0,st.jsx)(Vy.default,{checked:y.adminConfig.enabled||!1,onChange:function(e){return function(e){var t;y.adminConfig&&b((0,kn.Z)((0,kn.Z)({},y),{},{enabled:(null===(t=y.customerConfig)||void 0===t?void 0:t.enabled)||e,adminConfig:(0,kn.Z)((0,kn.Z)({},y.adminConfig),{},{enabled:e})}))}(e.target.checked)},children:(0,st.jsx)(hA,{className:"pe-fw-500",type:"secondary",children:Ua("Send notification to admin")})})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Admin Phone Numbers"),extra:Ua("Enter comma-separated phone numbers with country code without + sign e.g. 919876543210,918765432109"),children:(0,st.jsx)(Yc.default,{value:y.adminConfig.recipients,onChange:function(e){return t=e.target.value,void(y.adminConfig&&b((0,kn.Z)((0,kn.Z)({},y),{},{adminConfig:(0,kn.Z)((0,kn.Z)({},y.adminConfig),{},{recipients:t})})));var t}})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Message Template"),children:(0,st.jsx)(Rv.default,{placeholder:Ua("Select Template"),value:S?S.id:void 0,onChange:function(e){var t=d.find((function(t){return t.id===e}));t&&y.adminConfig&&b((0,kn.Z)((0,kn.Z)({},y),{},{adminConfig:(0,kn.Z)((0,kn.Z)({},y.adminConfig),{},{templateName:t.name,templateLanguage:t.language,headerVariables:[],bodyVariables:[]})}))},style:{width:"100%"},optionLabelProp:"label",showSearch:!0,filterOption:function(e,t){return((null===t||void 0===t?void 0:t.title)||"").toLowerCase().includes(e.toLowerCase())},children:d.map((function(e){return(0,st.jsx)(gA,{value:e.id,disabled:"APPROVED"!==e.status||!e.isSupported,label:e.name,title:e.name,children:(0,st.jsx)(mA,{template:e})},e.id)}))})}),T.length>0&&(0,st.jsx)(ed.Z.Item,{label:Ua("Header Variables"),children:(0,st.jsx)("div",{className:VO,children:T.map((function(e){var t,n,r,i=(null===(t=y.adminConfig)||void 0===t||null===(n=t.headerVariables)||void 0===n||null===(r=n.find((function(t){return t.key===e})))||void 0===r?void 0:r.value)||"",a="admin-header-".concat(e);return(0,st.jsxs)(dt.Z,{gutter:[16,16],className:"pe-mb-20",children:[(0,st.jsx)(ht.Z,{span:6,children:(0,st.jsx)(Yc.default,{size:"small",disabled:!0,value:"{{".concat(e,"}}")})}),(0,st.jsx)(ht.Z,{span:18,children:(0,st.jsx)(fA,{inputId:a,value:i,variableKey:e,onChange:function(t){return R(e,t,"header")},variables:j})})]},a)}))})}),P.length>0&&(0,st.jsx)(ed.Z.Item,{label:Ua("Body Variables"),children:(0,st.jsx)("div",{className:VO,children:P.map((function(e){var t,n,r,i=(null===(t=y.adminConfig)||void 0===t||null===(n=t.bodyVariables)||void 0===n||null===(r=n.find((function(t){return t.key===e})))||void 0===r?void 0:r.value)||"",a="admin-body-".concat(e);return(0,st.jsxs)(dt.Z,{gutter:[16,16],className:"pe-mb-20",children:[(0,st.jsx)(ht.Z,{span:6,children:(0,st.jsx)(Yc.default,{size:"small",disabled:!0,value:"{{".concat(e,"}}")})}),(0,st.jsx)(ht.Z,{span:18,children:(0,st.jsx)(fA,{inputId:a,value:i,variableKey:e,onChange:function(t){return R(e,t,"body")},variables:j})})]},a)}))})})]}),(0,st.jsx)(ht.Z,{lg:8,sm:24,className:FO,children:(0,st.jsxs)("div",{className:zO,children:[(0,st.jsx)(hA,{strong:!0,className:"pe-mb-16",children:Ua("Admin Template Preview")}),(0,st.jsx)(pA,{template:S})]})})]})]})})})},yA=mt.Z.Text,bA=function(e){var t=e.templateOptions,n=e.campaign,r=e.onCampaignChange,i=(0,oe.useState)(!1),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)(!1),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=PO[n.id],f=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),h=(0,oe.useState)({title:"",description:"",benefits:[],planType:ii.GROWTH,visible:!1}),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useMemo)((function(){return"cart_abandoned"===n.id?function(e){return!![ii.GROWTH,ii.ENTERPRISE].find((function(t){var n;return t===(null===e||void 0===e||null===(n=e.owner.paymentSubscription.plan)||void 0===n?void 0:n.plan_type)}))}(f)?"":ii.GROWTH:function(e){return!Ed(e)}(f)?"":ii.BUSINESS}),[n.id,f]),b=function(){y?"cart_abandoned"===n.id?v((0,kn.Z)((0,kn.Z)({},Sp.whatsappCartAbandonmentAutomation),{},{btnLabel:Ua("Get Started At $99/Year!","pushengage"),moneyBackGuaranteeText:Ua("14-day money-back guarantee. Cancel anytime.","pushengage"),visible:!0})):v((0,kn.Z)((0,kn.Z)({},Sp.whatsappOrderAutomation),{},{btnLabel:Ua("Get Started At $49/Year!","pushengage"),moneyBackGuaranteeText:Ua("14-day money-back guarantee. No questions asked.","pushengage"),visible:!0})):s(!0)},x=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:e.sent.success&&s(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}if(!y){e.next=5;break}b(),e.next=13;break;case 5:if(!(null!==(i=n.customerConfig)&&void 0!==i&&i.enabled||null!==(a=n.adminConfig)&&void 0!==a&&a.enabled)){e.next=12;break}return d(!0),e.next=9,r((0,kn.Z)((0,kn.Z)({},n),{},{enabled:t}));case 9:d(!1),e.next=13;break;case 12:b();case 13:e.next=19;break;case 15:return d(!0),e.next=18,r((0,kn.Z)((0,kn.Z)({},n),{},{enabled:t}));case 18:d(!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)("div",{className:BO,children:[(0,st.jsx)("div",{className:"pe-px-24 pe-py-16",children:(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",children:[(0,st.jsxs)(ht.Z,{children:[(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,st.jsx)("h3",{className:"pe-mb-0 pe-fw-600 pe-fs-16",children:p.title}),y?(0,st.jsx)(Gb,{plan:y}):n.enabled?(0,st.jsx)(nf.default,{className:"pe-fs-11 pe-ml-8 pe-badge pe-badge-green",children:Ua("Active")}):(0,st.jsx)(nf.default,{className:"pe-fs-11 pe-ml-8 pe-badge pe-badge-red",children:Ua("Inactive")})]}),(0,st.jsx)(yA,{type:"secondary",className:"pe-mb-0",children:p.description})]}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(pt.default,{className:"pe-mr-12",onClick:b,shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{})}),(0,st.jsx)(Lv.Z,{checked:n.enabled,className:"pe-mr-8",onChange:w,loading:u})]})]})}),(0,st.jsx)(vA,{visible:o,campaign:n,templateOptions:t,onCancel:function(){s(!1)},onSave:x}),m.visible&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},m),{},{closeable:!0,onClose:function(){return v((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{visible:!1})}))}}))]})},xA=function(e){var t=e.handleStepChange,n=e.stepDetails,r=e.onStateUpdate,i=mt.Z.Title,a=mt.Z.Paragraph,o=(0,oe.useState)(!1),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(DO),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)(),g=(0,xe.Z)(h,2),m=(g[0],g[1]),v=(0,oe.useState)([]),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r={limit:100,after:""},e.prev=2;case 3:if(!n){e.next=10;break}return e.next=6,_O(t,r);case 6:(i=e.sent).success?function(){var e=i.data.data.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{isSupported:RO(e)})}));x((function(t){return[].concat((0,we.Z)(t),(0,we.Z)(e))})),i.data.data.length<r.limit?n=!1:r.after=i.data.paging.cursors.after}():(ie.default.error({message:Ua("Error fetching whatsapp templates"),description:i.error.message}),n=!1),e.next=3;break;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bl(n);case 3:return null!==(r=e.sent)&&void 0!==r&&r.data&&f((function(e){return e.map((function(e){return e.id===t?(0,kn.Z)((0,kn.Z)({},e),r.data):e}))})),e.abrupt("return",{success:!0});case 8:return e.prev=8,e.t0=e.catch(0),ie.default.error({message:Ua("Error"),description:Ua("Failed to save campaign settings")}),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){function e(){return e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,ml();case 4:if(null===(t=e.sent)||void 0===t||!t.data||Wi()(t.data)){e.next=9;break}return m(t.data),e.next=9,w(t.data);case 9:return e.next=11,yl();case 11:null!==(n=e.sent)&&void 0!==n&&n.data&&n.data.length>0&&f((function(e){return e.map((function(e){var t,r=null===(t=n.data)||void 0===t?void 0:t.find((function(t){return t.id===e.id}));return r?(0,kn.Z)((0,kn.Z)({},e),r):e}))})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),ie.default.error({message:Ua("Error"),description:Ua("Failed to load WhatsApp automation campaigns")});case 18:return e.prev=18,c(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Hc.default,{spinning:l,children:(0,st.jsxs)(Wc.Z,{style:{width:"100%",borderRadius:"8px"},children:[(0,st.jsx)(dt.Z,{gutter:[0,16],children:(0,st.jsxs)(ht.Z,{span:24,children:[(0,st.jsx)(i,{level:4,children:Ua("Automation")}),(0,st.jsx)(a,{type:"secondary",className:"pe-fw-500",children:Ua("Enable automated transactional and promotional campaigns in a few clicks from proven templates.","pushengage")})]})}),(0,st.jsx)(dt.Z,{gutter:[0,16],children:p.map((function(e){return(0,st.jsx)(ht.Z,{span:23,children:(0,st.jsx)(bA,{campaign:e,templateOptions:b,onCampaignChange:function(t){return k(e.id,t)}})},e.id)}))})]})}),(0,st.jsx)(_N,{stepDetails:n,saveHandler:function(){t("next")},handleStepChange:t,loading:l,onStateUpdate:r})]})},wA=(n(9191),n(58457));function kA(){return kA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kA.apply(this,arguments)}function _A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CA(e,t){if(e){if("string"===typeof e)return _A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_A(e,t):void 0}}function jA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||CA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){SA(e,t,n[t])}))}return e}function NA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OA(e,t,n){return t&&EA(e.prototype,t),n&&EA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function AA(e){return AA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AA(e)}function TA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PA(e,t){if(t&&("object"===AA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return TA(e)}function MA(e){return MA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},MA(e)}function IA(e,t){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},IA(e,t)}function DA(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IA(e,t)}var LA=n(36993),RA=n.n(LA);function BA(e){return function(e){if(Array.isArray(e))return _A(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||CA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var FA=function(){function e(){NA(this,e),SA(this,"refs",{})}return OA(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(zA)}}]),e}();function zA(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function VA(e,t,n){return(e=e.slice()).splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e}function UA(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}var HA={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},WA=function(){if("undefined"===typeof window||"undefined"===typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function qA(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function KA(e,t){e.style["".concat(WA,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function YA(e,t){e.style["".concat(WA,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function GA(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function QA(e,t,n){return Math.max(e,Math.min(n,t))}function XA(e){return"px"===e.substr(-2)?parseFloat(e):0}function $A(e){var t=window.getComputedStyle(e);return{bottom:XA(t.marginBottom),left:XA(t.marginLeft),right:XA(t.marginRight),top:XA(t.marginTop)}}function JA(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function eT(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function tT(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function nT(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function rT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:rT(e.parentNode,t,r)}}function iT(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function aT(e){var t=e.lockOffset,n=e.width,r=e.height,i=t,a=t,o="px";if("string"===typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);RA()(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),a=parseFloat(t),o=s[1]}return RA()(isFinite(i)&&isFinite(a),"lockOffset value should be a finite. Given %s",t),"%"===o&&(i=i*n/100,a=a*r/100),{x:i,y:a}}function oT(e){var t=e.height,n=e.width,r=e.lockOffset,i=Array.isArray(r)?r:[r,r];RA()(2===i.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var a=jA(i,2),o=a[0],s=a[1];return[aT({height:t,lockOffset:o,width:n}),aT({height:t,lockOffset:s,width:n})]}function sT(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:sT(e.parentNode):null}function lT(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:XA(t.gridColumnGap),y:XA(t.gridRowGap)}:{x:0,y:0}}var cT=27,uT=32,dT=37,pT=38,fT=39,hT=40,gT="A",mT="BUTTON",vT="CANVAS",yT="INPUT",bT="OPTION",xT="TEXTAREA",wT="SELECT";function kT(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0);return BA(r.querySelectorAll(t)).forEach((function(e,t){("file"!==e.type&&(e.value=n[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===vT&&n[t].width>0&&n[t].height>0)&&e.getContext("2d").drawImage(n[t],0,0)})),r}function _T(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){var e,t;NA(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return SA(TA(TA(t=PA(this,(e=MA(n)).call.apply(e,[this].concat(i))))),"wrappedInstance",(0,oe.createRef)()),t}return DA(n,t),OA(n,[{key:"componentDidMount",value:function(){(0,ue.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return RA()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return(0,oe.createElement)(e,kA({ref:t},this.props))}}]),n}(oe.Component),SA(t,"displayName",JA("sortableHandle",e)),n}function CT(e){return null!=e.sortableHandle}var jT=function(){function e(t,n){NA(this,e),this.container=t,this.onScrollCallback=n}return OA(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,n=e.translate,r=e.minTranslate,i=e.maxTranslate,a=e.width,o=e.height,s={x:0,y:0},l={x:1,y:1},c=10,u=10,d=this.container,p=d.scrollTop,f=d.scrollLeft,h=d.scrollHeight,g=d.scrollWidth,m=0===p,v=h-p-d.clientHeight===0,y=0===f,b=g-f-d.clientWidth===0;n.y>=i.y-o/2&&!v?(s.y=1,l.y=u*Math.abs((i.y-o/2-n.y)/o)):n.x>=i.x-a/2&&!b?(s.x=1,l.x=c*Math.abs((i.x-a/2-n.x)/a)):n.y<=r.y+o/2&&!m?(s.y=-1,l.y=u*Math.abs((n.y-o/2-r.y)/o)):n.x<=r.x+a/2&&!y&&(s.x=-1,l.x=c*Math.abs((n.x-a/2-r.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===s.x&&0===s.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*s.x,top:l.y*s.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var ST={axis:fw().oneOf(["x","y","xy"]),contentWindow:fw().any,disableAutoscroll:fw().bool,distance:fw().number,getContainer:fw().func,getHelperDimensions:fw().func,helperClass:fw().string,helperContainer:fw().oneOfType([fw().func,"undefined"===typeof HTMLElement?fw().any:fw().instanceOf(HTMLElement)]),hideSortableGhost:fw().bool,keyboardSortingTransitionDuration:fw().number,lockAxis:fw().string,lockOffset:fw().oneOfType([fw().number,fw().string,fw().arrayOf(fw().oneOfType([fw().number,fw().string]))]),lockToContainerEdges:fw().bool,onSortEnd:fw().func,onSortMove:fw().func,onSortOver:fw().func,onSortStart:fw().func,pressDelay:fw().number,pressThreshold:fw().number,keyCodes:fw().shape({lift:fw().arrayOf(fw().number),drop:fw().arrayOf(fw().number),cancel:fw().arrayOf(fw().number),up:fw().arrayOf(fw().number),down:fw().arrayOf(fw().number)}),shouldCancelStart:fw().func,transitionDuration:fw().number,updateBeforeSortStart:fw().func,useDragHandle:fw().bool,useWindowAsScrollContainer:fw().bool},ZT={lift:[uT],drop:[uT],cancel:[cT],up:[pT,dT],down:[hT,fT]},NT={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:ZT,shouldCancelStart:function(e){return-1!==[yT,xT,wT,bT,mT].indexOf(e.target.tagName)||!!GA(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},ET=Object.keys(ST);function OT(e){RA()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function AT(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var TT=(0,oe.createContext)({manager:{}});function PT(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;NA(this,n),SA(TA(TA(t=PA(this,MA(n).call(this,e)))),"state",{}),SA(TA(TA(t)),"handleStart",(function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2!==e.button&&!i(e)){t.touched=!0,t.position=tT(e);var a=GA(e.target,(function(e){return null!=e.sortableInfo}));if(a&&a.sortableInfo&&t.nodeIsChild(a)&&!t.state.sorting){var o=t.props.useDragHandle,s=a.sortableInfo,l=s.index,c=s.collection;if(s.disabled)return;if(o&&!GA(e.target,CT))return;t.manager.active={collection:c,index:l},nT(e)||e.target.tagName!==gT||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),SA(TA(TA(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),SA(TA(TA(t)),"handleMove",(function(e){var n=t.props,r=n.distance,i=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var a=tT(e),o={x:t.position.x-a.x,y:t.position.y-a.y},s=Math.abs(o.x)+Math.abs(o.y);t.delta=o,r||i&&!(s>=i)?r&&s>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),SA(TA(TA(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),SA(TA(TA(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),SA(TA(TA(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n=p.sortableInfo.index,r=$A(p),i=lT(t.container),c=t.scrollContainer.getBoundingClientRect(),g=o({index:n,node:p,collection:f});if(t.node=p,t.margin=r,t.gridGap=i,t.width=g.width,t.height=g.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=p.getBoundingClientRect(),t.containerBoundingRect=c,t.index=n,t.newIndex=n,t.axis={x:a.indexOf("x")>=0,y:a.indexOf("y")>=0},t.offsetEdge=rT(p,t.container),t.initialOffset=tT(h?ZA({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(kT(p)),qA(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-r.top,"px"),width:"".concat(t.width,"px")}),h&&t.helper.focus(),l&&(t.sortableGhost=p,qA(p,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},h){var m=d?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,v=m.top,y=m.left,b=m.width,x=v+m.height,w=y+b;t.axis.x&&(t.minTranslate.x=y-t.boundingClientRect.left,t.maxTranslate.x=w-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=v-t.boundingClientRect.top,t.maxTranslate.y=x-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(d?0:c.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:c.left+c.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:c.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:c.top+c.height)-t.boundingClientRect.top-t.height/2);s&&s.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?e.target:t.contentWindow,h?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(HA.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),HA.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),u&&u({node:p,index:n,collection:f,isKeySorting:h,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),h&&t.keyMove(0)},i=t.props,a=i.axis,o=i.getHelperDimensions,s=i.helperClass,l=i.hideSortableGhost,c=i.updateBeforeSortStart,u=i.onSortStart,d=i.useWindowAsScrollContainer,p=n.node,f=n.collection,h=t.manager.isKeySorting,g=function(){if("function"===typeof c){t._awaitingUpdateBeforeSortStart=!0;var n=AT((function(){var t=p.sortableInfo.index;return Promise.resolve(c({collection:f,index:t,node:p,isKeySorting:h},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return g&&g.then?g.then(r):r()}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(i){return Promise.reject(i)}})),SA(TA(TA(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"===typeof e.preventDefault&&e.cancelable&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),SA(TA(TA(t)),"handleSortEnd",(function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,a=t.manager,o=a.active.collection,s=a.isKeySorting,l=t.manager.getOrderedRefs();t.listenerNode&&(s?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(HA.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),HA.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&qA(t.sortableGhost,{opacity:"",visibility:""});for(var c=0,u=l.length;c<u;c++){var d=l[c],p=d.node;d.edgeOffset=null,d.boundingClientRect=null,KA(p,null),YA(p,null),d.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"===typeof i&&i({collection:o,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:s,nodes:l},e),t.touched=!1})),SA(TA(TA(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var r=ZA({},t.translate),i=0,a=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),i=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),a=t.translate.y-r.y),t.translate=r,KA(t.helper,t.translate),t.scrollContainer.scrollLeft+=i,void(t.scrollContainer.scrollTop+=a)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),SA(TA(TA(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),SA(TA(TA(t)),"handleKeyDown",(function(e){var n=e.keyCode,r=t.props,i=r.shouldCancelStart,a=r.keyCodes,o=ZA({},ZT,void 0===a?{}:a);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||o.lift.includes(n)&&!i(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),o.lift.includes(n)&&!t.manager.active?t.keyLift(e):o.drop.includes(n)&&t.manager.active?t.keyDrop(e):o.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):o.up.includes(n)?t.keyMove(-1):o.down.includes(n)&&t.keyMove(1))})),SA(TA(TA(t)),"keyLift",(function(e){var n=e.target,r=GA(n,(function(e){return null!=e.sortableInfo})).sortableInfo,i=r.index,a=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:i,collection:a},t.handlePress(e)})),SA(TA(TA(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,i=t.newIndex+e,a=t.newIndex;if(!(i<0||i>r)){t.prevIndex=a,t.newIndex=i;var o=iT(t.newIndex,t.prevIndex,t.index),s=n.find((function(e){return e.node.sortableInfo.index===o})),l=s.node,c=t.containerScrollDelta,u=s.boundingClientRect||eT(l,c),d=s.translate||{x:0,y:0},p=u.top+d.y-c.top,f=u.left+d.x-c.left,h=a<i,g=h&&t.axis.x?l.offsetWidth-t.width:0,m=h&&t.axis.y?l.offsetHeight-t.height:0;t.handleSortMove({pageX:f+g,pageY:p+m,ignoreTransition:0===e})}})),SA(TA(TA(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),SA(TA(TA(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),SA(TA(TA(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,r=e.target,i=GA(r,(function(e){return null!=e.sortableInfo}));return i&&i.sortableInfo&&!i.sortableInfo.disabled&&(n?CT(r):r.sortableInfo)}));var r=new FA;return OT(e),t.manager=r,t.wrappedInstance=(0,oe.createRef)(),t.sortableContextValue={manager:r},t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return DA(n,t),OA(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"===typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:sT(e.container)||e.container,e.autoScroller=new jT(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return HA[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return HA[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,i=t.lockToContainerEdges,a=t.transitionDuration,o=t.keyboardSortingTransitionDuration,s=void 0===o?a:o,l=this.manager.isKeySorting,c=e.ignoreTransition,u=tT(e),d={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,i){var p=jA(oT({height:this.height,lockOffset:r,width:this.width}),2),f=p[0],h=p[1],g={x:this.width/2-f.x,y:this.height/2-f.y},m={x:this.width/2-h.x,y:this.height/2-h.y};d.x=QA(this.minTranslate.x+g.x,this.maxTranslate.x-m.x,d.x),d.y=QA(this.minTranslate.y+g.y,this.maxTranslate.y-m.y,d.y)}"x"===n?d.y=0:"y"===n&&(d.x=0),l&&s&&!c&&YA(this.helper,s),KA(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,i=this.containerScrollDelta,a=this.windowScrollDelta,o=this.manager.getOrderedRefs(),s=this.offsetEdge.left+this.translate.x+i.left,l=this.offsetEdge.top+this.translate.y+i.top,c=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var d=0,p=o.length;d<p;d++){var f=o[d].node,h=f.sortableInfo.index,g=f.offsetWidth,m=f.offsetHeight,v={height:this.height>m?m/2:this.height/2,width:this.width>g?g/2:this.width/2},y=c&&h>this.index&&h<=u,b=c&&h<this.index&&h>=u,x={x:0,y:0},w=o[d].edgeOffset;w||(w=rT(f,this.container),o[d].edgeOffset=w,c&&(o[d].boundingClientRect=eT(f,i)));var k=d<o.length-1&&o[d+1],_=d>0&&o[d-1];k&&!k.edgeOffset&&(k.edgeOffset=rT(k.node,this.container),c&&(k.boundingClientRect=eT(k.node,i))),h!==this.index?(t&&YA(f,t),this.axis.x?this.axis.y?b||h<this.index&&(s+a.left-v.width<=w.left&&l+a.top<=w.top+v.height||l+a.top+v.height<=w.top)?(x.x=this.width+this.marginOffset.x,w.left+x.x>this.containerBoundingRect.width-v.width&&k&&(x.x=k.edgeOffset.left-w.left,x.y=k.edgeOffset.top-w.top),null===this.newIndex&&(this.newIndex=h)):(y||h>this.index&&(s+a.left+v.width>=w.left&&l+a.top+v.height>=w.top||l+a.top+v.height>=w.top+m))&&(x.x=-(this.width+this.marginOffset.x),w.left+x.x<this.containerBoundingRect.left+v.width&&_&&(x.x=_.edgeOffset.left-w.left,x.y=_.edgeOffset.top-w.top),this.newIndex=h):y||h>this.index&&s+a.left+v.width>=w.left?(x.x=-(this.width+this.marginOffset.x),this.newIndex=h):(b||h<this.index&&s+a.left<=w.left+v.width)&&(x.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=h)):this.axis.y&&(y||h>this.index&&l+a.top+v.height>=w.top?(x.y=-(this.height+this.marginOffset.y),this.newIndex=h):(b||h<this.index&&l+a.top<=w.top+v.height)&&(x.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=h))),KA(f,x),o[d].translate=x):n&&(this.sortableGhost=f,qA(f,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=u);var C=c?this.prevIndex:u;r&&this.newIndex!==C&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:C,isKeySorting:c,nodes:o,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return RA()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!==typeof e?(0,ue.findDOMNode)(this):e(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return(0,oe.createElement)(TT.Provider,{value:this.sortableContextValue},(0,oe.createElement)(e,kA({ref:t},UA(this.props,ET))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"===typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(oe.Component),SA(t,"displayName",JA("sortableList",e)),SA(t,"defaultProps",NT),SA(t,"propTypes",ST),n}var MT={index:fw().number.isRequired,collection:fw().oneOfType([fw().number,fw().string]),disabled:fw().bool},IT=Object.keys(MT);function DT(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){var e,t;NA(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return SA(TA(TA(t=PA(this,(e=MA(n)).call.apply(e,[this].concat(i))))),"wrappedInstance",(0,oe.createRef)()),t}return DA(n,t),OA(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,i=(0,ue.findDOMNode)(this);i.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return RA()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return(0,oe.createElement)(e,kA({ref:t},UA(this.props,IT)))}}]),n}(oe.Component),SA(t,"displayName",JA("sortableElement",e)),SA(t,"contextType",TT),SA(t,"propTypes",MT),SA(t,"defaultProps",{collection:0}),n}var LT=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-tiktok-icon","aria-hidden":"true",children:(0,st.jsx)("path",{stroke:"null",d:"m29.11825,14.02763c-1.25151,0 -2.40924,-0.41538 -3.33648,-1.11484c-1.06393,-0.80129 -1.83038,-1.98045 -2.10105,-3.33648c-0.067,-0.33498 -0.10183,-0.6807 -0.10451,-1.03712l-3.58035,0l0,9.78165l-0.00268,5.35445c0,1.43375 -0.9326,2.64775 -2.227,3.07385c-0.37519,0.12595 -0.77986,0.18223 -1.20328,0.16079c-0.53598,-0.02948 -1.04248,-0.19296 -1.47931,-0.45558c-0.93529,-0.55742 -1.56775,-1.57042 -1.58382,-2.72814c-0.0268,-1.81162 1.43643,-3.28824 3.24537,-3.28824c0.35643,0 0.69945,0.05896 1.02104,0.16348l0,-3.63396c-0.33767,-0.04824 -0.68338,-0.07503 -1.03176,-0.07503c-1.98045,0 -3.83227,0.82273 -5.15613,2.30739c-1.00228,1.1202 -1.60259,2.54859 -1.6937,4.04933c-0.12328,1.96973 0.59762,3.84299 1.99653,5.22314c0.20635,0.20367 0.42074,0.39127 0.64586,0.56546c1.19792,0.92189 2.66383,1.42303 4.20745,1.42303c0.34839,0 0.69409,-0.02679 1.03176,-0.07772c1.44179,-0.21171 2.77102,-0.87365 3.82154,-1.91077c1.28904,-1.27564 2.00189,-2.96666 2.00994,-4.76755l-0.01877,-7.99952c0.61638,0.47434 1.28904,0.86829 2.00994,1.17112c1.12288,0.47434 2.31544,0.71554 3.54016,0.71554l0,-3.56428c0,0 -0.01072,0 -0.01072,0l-0.00001,0zm0,0",fill:"currentColor",fillRule:"nonzero"})}))},RT=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-instagram-icon","aria-hidden":"true",children:[(0,st.jsx)("circle",{className:"color-element",cx:"19.5",cy:"19.5",r:"19.5",fill:"url(#linear-gradient-insta-dm)"})," ",(0,st.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",d:"M18.3682 12.0225H14.7069L14.7072 12.0146H8.34406C7.68102 12.0146 7.37264 12.8369 7.87214 13.2729L12.3314 17.1655L12.3349 17.1575L14.2487 18.8409L15.5297 20.0303L15.8136 30.1568C15.8335 30.8679 16.7223 31.1766 17.1788 30.6311L18.1515 29.4688L18.1501 29.4639L23.0436 23.4746L23.042 23.4662L27.0348 18.6748L27.0342 18.6702L31.5963 13.1853C31.9852 12.7178 31.6527 12.0088 31.0446 12.0088H26.8826L26.8812 12.0117H22.4407C22.4384 12.0117 22.4361 12.0154 22.4339 12.0225H22.4305L22.4307 12.0166H18.3682V12.0225ZM22.144 22.3959L22.1417 22.3907L26.4497 17.1663L26.4485 17.1572C26.8174 16.7145 28.1257 14.9555 28.2462 14.748L26.9385 15.4023L26.9341 15.4013L22.3595 17.6036L22.3592 17.6022L18.7611 19.3095L18.7628 19.3125L18.5032 19.4318L18.2248 19.5631L17.9411 19.6897C17.6515 19.764 17.0784 20.0395 17.0784 20.5547C17.0784 21.0538 17.192 25.532 17.2547 27.9372C17.2572 28.0334 17.373 28.0799 17.442 28.0129L17.6881 27.7738L22.144 22.3959ZM26.5753 14.0135L26.5753 14.0117L27.625 13.4429H27.3214H14.6612L14.6611 13.445H10.3521L12.4872 15.351L12.487 15.3582L16.0313 18.4673C16.3197 18.7229 16.6615 18.7989 16.9921 18.6007L17.5635 18.2922L22.2794 16.0459L22.2799 16.048L26.5753 14.0135Z",fill:"currentColor"})]}))},BT=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-instagram-alt-icon","aria-hidden":"true",children:[(0,st.jsx)("circle",{className:"color-element",cx:"19.5",cy:"19.5",r:"19.5",fill:"url(#linear-gradient)"}),(0,st.jsx)("path",{id:"Path_1923","data-name":"Path 1923",d:"M13.177,0H5.022A5.028,5.028,0,0,0,0,5.022v8.155A5.028,5.028,0,0,0,5.022,18.2h8.155A5.028,5.028,0,0,0,18.2,13.177V5.022A5.028,5.028,0,0,0,13.177,0Zm3.408,13.177a3.412,3.412,0,0,1-3.408,3.408H5.022a3.411,3.411,0,0,1-3.408-3.408V5.022A3.412,3.412,0,0,1,5.022,1.615h8.155a3.412,3.412,0,0,1,3.408,3.408v8.155Z",transform:"translate(10 10.4)",fill:"currentColor"}),(0,st.jsx)("path",{id:"Path_1924","data-name":"Path 1924",d:"M45.658,40.97a4.689,4.689,0,1,0,4.69,4.69A4.695,4.695,0,0,0,45.658,40.97Zm0,7.764a3.075,3.075,0,1,1,3.075-3.075A3.078,3.078,0,0,1,45.658,48.734Z",transform:"translate(-26.558 -26.159)",fill:"currentColor"})]}))},FT=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-sms-icon","aria-hidden":"true",children:(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.60298 0H16.9194C18.351 0 19.5224 1.19321 19.5224 2.65158V14.5838C19.5224 16.0421 18.351 17.2354 16.9194 17.2354H7.4185L3.64418 20.4173C3.51402 20.5499 3.38388 20.5499 3.25372 20.5499H2.99344C2.73314 20.4173 2.60298 20.1521 2.60298 19.887V17.2354C1.17134 17.2354 0 16.0421 0 14.5838V2.65158C0 1.19321 1.17134 0 2.60298 0ZM2.60316 11.2696C2.60316 11.6673 2.86346 11.9325 3.25391 11.9325H4.5554C5.5966 11.9325 6.50764 11.0044 6.50764 9.94376C6.50764 8.88312 5.5966 7.95505 4.5554 7.95505C4.16496 7.95505 3.90465 7.68991 3.90465 7.29218C3.90465 6.89441 4.16496 6.62927 4.5554 6.62927H5.85689C6.24733 6.62927 6.50764 6.36411 6.50764 5.96637C6.50764 5.56863 6.24733 5.30347 5.85689 5.30347H4.5554C3.51421 5.30347 2.60316 6.23154 2.60316 7.29218C2.60316 8.35281 3.51421 9.28085 4.5554 9.28085C4.94585 9.28085 5.20613 9.54602 5.20613 9.94376C5.20613 10.3415 4.94585 10.6067 4.5554 10.6067H3.25391C2.86346 10.6067 2.60316 10.8718 2.60316 11.2696ZM14.9678 11.9325H13.6664C13.2759 11.9325 13.0156 11.6673 13.0156 11.2696C13.0156 10.8718 13.2759 10.6067 13.6664 10.6067H14.9678C15.3583 10.6067 15.6186 10.3415 15.6186 9.94376C15.6186 9.54602 15.3583 9.28085 14.9678 9.28085C13.9267 9.28085 13.0156 8.35281 13.0156 7.29218C13.0156 6.23154 13.9267 5.30347 14.9678 5.30347H16.2693C16.6598 5.30347 16.9201 5.56863 16.9201 5.96637C16.9201 6.36411 16.6598 6.62927 16.2693 6.62927H14.9678C14.5774 6.62927 14.3171 6.89441 14.3171 7.29218C14.3171 7.68991 14.5774 7.95505 14.9678 7.95505C16.009 7.95505 16.9201 8.88312 16.9201 9.94376C16.9201 11.0044 16.009 11.9325 14.9678 11.9325ZM10.4126 11.2697C10.4126 11.6674 10.6729 11.9326 11.0633 11.9326C11.4538 11.9326 11.7141 11.6674 11.8442 11.2697V5.96649C11.8442 5.70135 11.5839 5.43619 11.3236 5.30362C10.9332 5.30362 10.6729 5.43619 10.5427 5.70135L9.76186 7.15973L8.98094 5.70135C8.85081 5.43619 8.46034 5.17102 8.20006 5.30362C7.93977 5.43619 7.67946 5.70135 7.67946 5.96649V11.2697C7.67946 11.6674 7.93977 11.9326 8.33022 11.9326C8.72066 11.9326 8.98094 11.6674 8.98094 11.2697V8.75067L9.1111 8.88327C9.37138 9.28101 10.0221 9.28101 10.2825 8.88327L10.4126 8.75067V11.2697Z",transform:"translate(9.67801 10.4601)",fill:"currentColor"})}))},zT=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-line-icon","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M24 9.36561C24 4.19474 18.6178 0 12 0C5.38215 0 0 4.19474 0 9.36561C0 13.9825 4.25629 17.8606 10.0229 18.5993C10.4073 18.6785 10.9565 18.8368 11.0664 19.1797C11.1762 19.4699 11.1487 19.9184 11.0938 20.235C11.0938 20.235 10.9565 21.0528 10.9291 21.2111C10.8741 21.5013 10.6819 22.3456 11.9725 21.8443C13.2632 21.3167 18.8924 17.9398 21.3913 15.1433C23.1487 13.2702 24 11.4234 24 9.36561Z",transform:"translate(7 10)",fill:"currentColor"}),(0,st.jsx)("path",{d:"M1.0984 0H0.24714C0.10984 0 -2.09503e-07 0.105528 -2.09503e-07 0.211056V5.22364C-2.09503e-07 5.35555 0.10984 5.43469 0.24714 5.43469H1.0984C1.2357 5.43469 1.34554 5.32917 1.34554 5.22364V0.211056C1.34554 0.105528 1.2357 0 1.0984 0Z",transform:"translate(15.4577 16.8593)",fill:"currentColor",className:"color-element"}),(0,st.jsx)("path",{d:"M4.66819 0H3.81693C3.67963 0 3.56979 0.105528 3.56979 0.211056V3.19222L1.18078 0.0791458C1.18078 0.0791458 1.18078 0.0527642 1.15332 0.0527642C1.15332 0.0527642 1.15332 0.0527641 1.12586 0.0263821C1.12586 0.0263821 1.12586 0.0263821 1.0984 0.0263821H0.247139C0.10984 0.0263821 4.19006e-07 0.13191 4.19006e-07 0.237438V5.25002C4.19006e-07 5.38193 0.10984 5.46108 0.247139 5.46108H1.0984C1.2357 5.46108 1.34554 5.35555 1.34554 5.25002V2.26885L3.73455 5.38193C3.76201 5.40831 3.76201 5.43469 3.78947 5.43469C3.78947 5.43469 3.78947 5.43469 3.81693 5.43469C3.81693 5.43469 3.81693 5.43469 3.84439 5.43469C3.87185 5.43469 3.87185 5.43469 3.89931 5.43469H4.75057C4.88787 5.43469 4.99771 5.32917 4.99771 5.22364V0.211056C4.91533 0.105528 4.80549 0 4.66819 0Z",transform:"translate(17.6819 16.8593)",fill:"currentColor",className:"color-element"}),(0,st.jsx)("path",{d:"M3.62471 4.22112H1.34554V0.237438C1.34554 0.105528 1.2357 0 1.0984 0H0.24714C0.10984 0 -5.23757e-08 0.105528 -5.23757e-08 0.237438V5.25002C-5.23757e-08 5.30278 0.0274599 5.35555 0.0549198 5.40831C0.10984 5.43469 0.16476 5.46108 0.21968 5.46108H3.56979C3.70709 5.46108 3.78947 5.35555 3.78947 5.22364V4.4058C3.87185 4.32665 3.76201 4.22112 3.62471 4.22112Z",transform:"translate(10.8993 16.8593)",fill:"currentColor",className:"color-element"}),(0,st.jsx)("path",{d:"M3.56979 1.29272C3.70709 1.29272 3.78947 1.18719 3.78947 1.05528V0.237438C3.78947 0.105528 3.67963 -1.00639e-07 3.56979 -1.00639e-07H0.219679C0.164759 -1.00639e-07 0.10984 0.0263821 0.0549199 0.0527641C0.02746 0.105528 -2.09503e-07 0.158292 -2.09503e-07 0.211056V5.22364C-2.09503e-07 5.2764 0.02746 5.32917 0.0549199 5.38193C0.10984 5.40831 0.164759 5.43469 0.219679 5.43469H3.56979C3.70709 5.43469 3.78947 5.32917 3.78947 5.19726V4.37941C3.78947 4.2475 3.67963 4.14198 3.56979 4.14198H1.29062V3.29775H3.56979C3.70709 3.29775 3.78947 3.19222 3.78947 3.06031V2.24247C3.78947 2.11056 3.67963 2.00503 3.56979 2.00503H1.29062V1.16081H3.56979V1.29272Z",transform:"translate(23.421 16.8329)",fill:"currentColor",className:"color-element"})]}))},VT=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-google-maps-icon","aria-hidden":"true",children:(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8.06381C0 3.68631 3.68633 0 8.06383 0C12.4413 0 16.1276 3.68631 16.1276 8.06381C16.1276 12.2109 9.67659 19.5835 8.9854 20.2747C8.755 20.5051 8.29422 20.7355 8.06383 20.7355C7.83344 20.7355 7.37263 20.5051 7.14224 20.2747C6.45107 19.5835 0 12.2109 0 8.06381ZM11.5203 8.06378C11.5203 9.97244 9.97302 11.5197 8.06436 11.5197C6.15572 11.5197 4.60844 9.97244 4.60844 8.06378C4.60844 6.15515 6.15572 4.60788 8.06436 4.60788C9.97302 4.60788 11.5203 6.15515 11.5203 8.06378Z",transform:"translate(11.3764 9.07178)",fill:"currentColor"})}))},UT=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-viber-icon","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M17.6837 2.14833C17.16 1.64578 15.0497 0.0389578 10.3496 0.0158143C10.3496 0.0158143 4.80418 -0.334645 2.10085 2.26405C0.596193 3.84111 0.0662511 6.14886 0.0126261 9.01205C-0.0441534 11.8752 -0.116705 17.2346 4.8168 18.6894H4.81995L4.8168 20.9078C4.8168 20.9078 4.78525 21.8071 5.3499 21.989C6.03125 22.2105 6.43186 21.5294 7.08482 20.7921C7.44127 20.3888 7.93651 19.7936 8.30874 19.3407C11.6808 19.6382 14.2769 18.9572 14.5702 18.858C15.2516 18.6265 19.1063 18.1075 19.7309 12.7481C20.3775 7.22338 19.4154 3.7254 17.6837 2.14833ZM18.2546 12.3513C17.7247 16.828 14.5986 17.1123 14.0245 17.3041C13.7785 17.3867 11.501 17.9818 8.63679 17.7835C8.63679 17.7835 6.50126 20.4813 5.83567 21.1856C5.73158 21.2947 5.60856 21.341 5.52654 21.3178C5.41298 21.2881 5.38144 21.1459 5.38144 20.9376C5.38459 20.64 5.40037 17.2512 5.40037 17.2512C5.39721 17.2512 5.39721 17.2512 5.40037 17.2512C1.23023 16.0378 1.47312 11.4719 1.52044 9.08148C1.56775 6.69108 1.99675 4.73379 3.26798 3.41792C5.55493 1.24904 10.2645 1.57305 10.2645 1.57305C14.2422 1.59288 16.1475 2.84594 16.5891 3.26583C18.0527 4.58501 18.8003 7.73585 18.2546 12.3513Z",transform:"translate(9.47299 8.4238)",fill:"currentColor"})," ",(0,st.jsx)("path",{d:"M1.58982 1.72254C1.53935 0.628182 1.00941 0.0562059 0 1.00898e-07",transform:"translate(20.166 15.5914)",stroke:"currentColor",strokeWidth:"0.518873",strokeLinecap:"round",strokeLinejoin:"round"})," ",(0,st.jsx)("path",{d:"M3.35945 3.69636C3.38153 2.67804 3.09448 1.82834 2.49514 1.14395C1.8958 0.459565 1.06619 0.0793496 1.9253e-07 2.01796e-07",transform:"translate(19.7592 14.0966)",stroke:"currentColor",strokeWidth:"0.518873",strokeLinecap:"round",strokeLinejoin:"round"})," ",(0,st.jsx)("path",{d:"M5.22371 5.71646C5.21109 3.94763 4.70639 2.55902 3.71275 1.5407C2.71911 0.525689 1.47942 0.00991877 -3.8506e-07 1.00898e-07",transform:"translate(19.2931 12.6479)",stroke:"currentColor",strokeWidth:"0.518873",strokeLinecap:"round",strokeLinejoin:"round"})," ",(0,st.jsx)("path",{d:"M6.35738 8.04532C6.35738 8.04532 6.73276 8.07838 6.93149 7.81719L7.32263 7.30142C7.5119 7.04353 7.96929 6.88153 8.41722 7.14272C8.66641 7.2915 9.11434 7.57914 9.39193 7.79405C9.68844 8.02218 10.2972 8.55448 10.2972 8.55448C10.5875 8.80906 10.6537 9.18597 10.4581 9.58271C10.4581 9.58602 10.455 9.58933 10.455 9.58933C10.2531 9.96293 9.9818 10.3167 9.63797 10.644C9.63482 10.6473 9.63482 10.6473 9.63167 10.6506C9.35092 10.8953 9.07333 11.0375 8.80205 11.0705C8.77051 11.0771 8.7295 11.0804 8.68219 11.0771C8.56232 11.0771 8.44561 11.0606 8.32889 11.0209L8.31943 11.0077C7.89989 10.8854 7.20277 10.5746 6.03879 9.90342C5.28173 9.467 4.654 9.02066 4.12406 8.57762C3.84331 8.34619 3.55626 8.08169 3.2629 7.77752C3.25344 7.7676 3.24398 7.75768 3.23451 7.74776C3.22505 7.73784 3.21559 7.72792 3.20612 7.718C3.19666 7.70808 3.1872 7.69817 3.17773 7.68825C3.16827 7.67833 3.15881 7.66841 3.14934 7.65849C2.85914 7.35101 2.60678 7.05015 2.38597 6.75589C1.96328 6.20045 1.53744 5.5392 1.12105 4.74902C0.480708 3.52902 0.184194 2.79834 0.0674803 2.35862L0.0548623 2.3487C0.0170094 2.22637 -0.00191702 2.10404 0.0012374 1.9784C-0.00191702 1.92881 0.0012373 1.88583 0.00754613 1.85276C0.0390903 1.56843 0.17473 1.27748 0.408157 0.983227C0.411312 0.979921 0.411311 0.979921 0.414466 0.976615C0.726753 0.616237 1.06112 0.331902 1.42072 0.120304C1.42388 0.120304 1.42703 0.116997 1.42703 0.116997C1.80556 -0.0879887 2.16517 -0.0185578 2.40806 0.285615C2.41121 0.288921 2.91592 0.923716 3.13357 1.2345C3.33861 1.52875 3.6162 1.99493 3.75499 2.25612C4.00419 2.72561 3.84962 3.20501 3.60358 3.40338L3.11149 3.81335C2.86229 4.02495 2.89384 4.41509 2.89384 4.41509C2.89384 4.41509 3.62566 7.31464 6.35738 8.04532Z",transform:"translate(13.863 13.0014)",fill:"currentColor"})]}))},HT=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-telegram-icon","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M3.56917 -2.55497e-07L0 6.42978L7.5349 1.87535L3.56917 -2.55497e-07Z",transform:"translate(13.9704 24.6145)",fill:"#E0E0E0"}),(0,st.jsx)("path",{d:"M20.8862 0.133954C20.754 0 20.4897 0 20.2253 0L0.396574 8.03723C0.132191 8.17118 0 8.43909 0 8.707C0 8.97491 0.132191 9.24282 0.396574 9.37677L17.5814 17.414C17.7136 17.414 17.7136 17.414 17.8458 17.414C17.978 17.414 18.1102 17.414 18.1102 17.28C18.2424 17.1461 18.3746 17.0121 18.5068 16.7442L21.1506 0.669769C21.1506 0.535815 21.1506 0.267908 20.8862 0.133954Z",transform:"translate(7.36069 10.9512)",fill:"currentColor"}),(0,st.jsx)("path",{d:"M13.8801 0L0 11.52V19.4233L3.70136 13.2614L13.8801 0Z",transform:"translate(13.9704 11.6208)",fill:"currentColor"})]}))},WT=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false",fillRule:"evenodd","data-icon":"pe-twitter-icon","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M921 912L601.11 445.75l.55.43L890.08 112H793.7L558.74 384 372.15 112H119.37l298.65 435.31-.04-.04L103 912h96.39L460.6 609.38 668.2 912zM333.96 184.73l448.83 654.54H706.4L257.2 184.73z"})}))},qT=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-wechat-icon","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M17.3707 6.90938C15.0508 7.03077 13.0281 7.71242 11.3888 9.26248C9.73039 10.8312 8.97307 12.7455 9.18397 15.1172C8.27327 15.0052 7.44884 14.8838 6.61482 14.8184C6.32723 14.7904 5.99171 14.8278 5.74246 14.9585C4.93721 15.4067 4.16071 15.9016 3.24042 16.4619C3.41298 15.7242 3.51843 15.0705 3.71015 14.4449C3.85395 13.9874 3.78685 13.7353 3.35546 13.4364C0.584998 11.5222 -0.594125 8.65553 0.287821 5.69547C1.10266 2.95952 3.09663 1.30674 5.80957 0.447674C9.50991 -0.728879 13.68 0.475687 15.9232 3.33303C16.738 4.36952 17.2365 5.53673 17.3707 6.90938ZM6.69152 5.98494C6.71069 5.44336 6.23137 4.95779 5.65619 4.93912C5.07142 4.92044 4.5921 5.35932 4.57293 5.91958C4.55375 6.48918 5.00431 6.94673 5.58908 6.95607C6.18344 6.97474 6.67234 6.53587 6.69152 5.98494ZM12.2612 4.93912C11.686 4.94846 11.2067 5.42468 11.2163 5.96627C11.2259 6.52653 11.7052 6.9654 12.29 6.9654C12.8843 6.95607 13.3253 6.51719 13.3253 5.93825C13.3157 5.37799 12.846 4.92978 12.2612 4.93912Z",transform:"translate(7 9)",fill:"currentColor"}),(0,st.jsx)("path",{d:"M12.48 13.2605C11.7418 12.943 11.0708 12.4668 10.3518 12.3921C9.63283 12.3174 8.88509 12.7189 8.13735 12.7936C5.8558 13.0177 3.8139 12.4014 2.13629 10.8887C-1.06556 8.00334 -0.605416 3.57726 3.09492 1.21482C6.38305 -0.886168 11.2146 -0.185839 13.5345 2.72753C15.5572 5.26739 15.3175 8.64764 12.8538 10.786C12.1349 11.4023 11.876 11.9158 12.3362 12.7282C12.4225 12.8776 12.432 13.0737 12.48 13.2605ZM4.11108 5.3701C4.58081 5.3701 4.96426 5.01527 4.98344 4.56706C5.00261 4.09084 4.60957 3.68932 4.12066 3.68932C3.63176 3.68932 3.22913 4.09084 3.2483 4.55772C3.26748 5.00593 3.65093 5.3701 4.11108 5.3701ZM9.5082 3.68932C9.05764 3.68932 8.6646 4.04415 8.64543 4.49236C8.62626 4.96858 9.00971 5.36077 9.48903 5.36077C9.95876 5.36077 10.3326 5.01527 10.3422 4.55772C10.371 4.09084 9.98752 3.68932 9.5082 3.68932Z",transform:"translate(17.1057 16.7395)",fill:"currentColor"})]}))},KT=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-snapchat-icon","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M21.5684 15.5864C18.7017 15.0298 17.3366 12.1073 17.3366 11.9681C17.2001 11.6898 17.2001 11.4115 17.2001 11.2723C17.3366 10.8548 18.0191 10.7157 18.4287 10.5765C18.5652 10.5765 18.7017 10.4373 18.7017 10.4373C19.1112 10.2982 19.3842 10.159 19.5207 9.88067C19.7938 9.60234 19.7938 9.46318 19.7938 9.32402C19.7938 8.90652 19.5207 8.62819 19.1112 8.48903C18.9747 8.48903 18.8382 8.34986 18.7017 8.34986C18.5652 8.34986 18.4287 8.34986 18.2922 8.48903C17.8826 8.62819 17.6096 8.76736 17.3366 8.76736C17.2001 8.76736 17.0636 8.76736 17.0636 8.76736C17.0636 8.62819 17.0636 8.48903 17.0636 8.34986C17.2001 6.81906 17.3366 5.00992 16.7906 3.8966C16.5175 3.20078 15.9715 2.50496 15.4255 1.9483C15.016 1.53081 14.4699 1.11332 13.7874 0.834987C12.6953 4.97691e-07 11.7397 0 11.3302 0C11.1937 0 10.9207 0 10.9207 0C10.3747 0 9.4191 0.139164 8.46354 0.556657C7.9175 0.834986 7.37147 1.25248 6.82544 1.66997C6.2794 2.22663 5.86988 2.92245 5.46035 3.61827C4.91431 4.73159 5.05082 6.54073 5.18733 8.07153C5.18733 8.2107 5.18733 8.34986 5.18733 8.62819C5.05082 8.62819 5.05082 8.62819 4.77781 8.62819C4.50479 8.62819 4.23177 8.48903 3.82224 8.34986C3.68574 8.34986 3.54923 8.2107 3.41272 8.2107C3.1397 8.2107 3.00319 8.2107 2.73018 8.34986C2.45716 8.48903 2.32065 8.76736 2.32065 8.90652C2.32065 9.04568 2.32065 9.32401 2.59366 9.74151C2.73017 9.88067 3.00319 10.0198 3.41272 10.159C3.54923 10.159 3.54922 10.2982 3.68573 10.2982C4.09526 10.4373 4.6413 10.5765 4.91431 10.994C5.05082 11.1332 4.91431 11.4115 4.77781 11.6898C4.77781 11.829 4.36828 12.5248 3.68573 13.3598C3.27621 13.7773 2.86668 14.1948 2.32065 14.6123C1.77461 15.0298 1.09207 15.3081 0.409527 15.3081C0.13651 15.3081 2.08296e-06 15.5864 2.08296e-06 15.8647C2.08296e-06 16.0039 2.08296e-06 16.0039 2.08296e-06 16.1431C0.136511 16.4214 0.409528 16.5606 0.682546 16.8389C1.22858 17.1172 1.91112 17.2564 2.86668 17.3955C2.86668 17.5347 3.00319 17.6739 3.00319 17.813C3.00319 17.9522 3.1397 18.0914 3.1397 18.3697C3.1397 18.5089 3.41272 18.7872 3.68573 18.7872C3.82224 18.7872 3.95875 18.7872 4.23177 18.648C4.50479 18.648 4.91431 18.5089 5.32384 18.5089C5.59686 18.5089 5.86988 18.5089 6.14289 18.648C6.68893 18.7872 7.09845 19.0655 7.64449 19.483C8.46354 20.0397 9.28259 20.7355 10.6477 20.7355H10.7842H10.9207C12.2858 20.7355 13.1048 20.0397 13.9239 19.483C14.4699 19.0655 14.8794 18.7872 15.4255 18.648C15.6985 18.648 15.9715 18.5089 16.2445 18.5089C16.6541 18.5089 17.0636 18.5089 17.3366 18.648C17.6096 18.648 17.7461 18.648 17.8826 18.648C18.1557 18.648 18.4287 18.5089 18.4287 18.2305C18.4287 18.0914 18.5652 17.9522 18.5652 17.6739C18.5652 17.5347 18.7017 17.2564 18.7017 17.2564C19.6572 17.1172 20.3398 16.9781 20.8858 16.6997C21.2954 16.5606 21.5684 16.2822 21.5684 16.0039C21.5684 15.8647 21.5684 15.8647 21.5684 15.7256C21.9779 15.8647 21.8414 15.5864 21.5684 15.5864Z",transform:"translate(8.52631 9.07178)",fill:"currentColor"})}))},YT=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-waze-icon","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M12.3405 18.0628C3.97637 18.0628 0 16.5344 0 13.1997C0 12.7829 0.274233 12.505 0.685582 12.505C1.37116 12.505 1.91963 12.3661 2.19386 11.9492C3.01656 10.9766 2.74233 9.17034 2.74233 9.17034C2.74233 4.02939 6.99293 0 12.3405 0C17.688 0 21.9386 4.02939 21.9386 9.0314C21.9386 14.0334 17.688 18.0628 12.3405 18.0628ZM1.50828 13.7555C2.19386 15.5618 5.896 16.6733 12.3405 16.6733C16.8653 16.6733 20.5675 13.1997 20.5675 9.0314C20.5675 4.86306 16.8653 1.38945 12.3405 1.38945C7.81563 1.38945 4.11349 4.86306 4.11349 9.0314C4.11349 9.0314 4.52484 11.3935 3.29079 12.7829C2.74233 13.3387 2.19386 13.6166 1.50828 13.7555Z",transform:"translate(8.46936 9.01862)",fill:"currentColor"})," ",(0,st.jsx)("path",{d:"M2.74233 5.55778C4.25687 5.55778 5.48465 4.31363 5.48465 2.77889C5.48465 1.24415 4.25687 0 2.74233 0C1.22778 0 0 1.24415 0 2.77889C0 4.31363 1.22778 5.55778 2.74233 5.55778Z",transform:"translate(20.8105 24.3027)",fill:"currentColor"})," ",(0,st.jsx)("path",{d:"M2.74233 5.55778C4.25687 5.55778 5.48465 4.31363 5.48465 2.77889C5.48465 1.24415 4.25687 0 2.74233 0C1.22778 0 0 1.24415 0 2.77889C0 4.31363 1.22778 5.55778 2.74233 5.55778Z",transform:"translate(12.5836 24.3025)",fill:"currentColor"})," ",(0,st.jsx)("path",{d:"M0.685582 1.38945C0.274233 1.38945 0 1.11156 0 0.694723C0 0.277889 0.274233 0 0.685582 0C1.09693 0 1.37116 0.277889 1.37116 0.694723C1.37116 1.11156 1.09693 1.38945 0.685582 1.38945Z",transform:"translate(17.3835 15.2717)",fill:"currentColor"})," ",(0,st.jsx)("path",{d:"M0.685582 1.38945C0.274233 1.38945 0 1.11156 0 0.694723C0 0.277889 0.274233 0 0.685582 0C1.09693 0 1.37116 0.277889 1.37116 0.694723C1.37116 1.11156 1.09693 1.38945 0.685582 1.38945Z",transform:"translate(22.8668 15.2717)",fill:"currentColor"})," ",(0,st.jsx)("path",{d:"M4.14916 4.20448C2.22953 4.20448 0.447017 2.81503 0.035668 0.869809C-0.101448 0.452975 0.172786 0.175088 0.584135 0.0361436C0.995484 -0.102801 1.26972 0.17509 1.40683 0.591924C1.68106 1.84242 2.77799 2.81503 4.14916 2.81503C5.52032 2.81503 6.61725 1.84242 6.89148 0.591924C7.0286 0.17509 7.30283 0.0361436 7.71418 0.0361436C8.12553 0.175088 8.26265 0.452975 8.26265 0.869809C7.8513 2.81503 6.06879 4.20448 4.14916 4.20448Z",transform:"translate(16.662 18.7092)",fill:"currentColor"})]}))},GT=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-linkedin-icon","aria-hidden":"true",children:(0,st.jsx)("path",{id:"LinkedIn_color",d:"M18,20.1v6.655H14.142V20.549c0-1.56-.558-2.624-1.954-2.624a2.111,2.111,0,0,0-1.98,1.411,2.64,2.64,0,0,0-.128.941v6.481H6.221s.052-10.516,0-11.606H10.08V16.8c-.008.012-.018.026-.025.037h.025V16.8a3.832,3.832,0,0,1,3.478-1.918C16.1,14.88,18,16.539,18,20.1ZM2.184,9.558a2.011,2.011,0,1,0-.051,4.011h.026a2.012,2.012,0,1,0,.025-4.011ZM.229,26.758H4.087V15.152H.229Z",transform:"translate(11 1.442)",fill:"currentColor"})}))},QT=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 39 39",fill:"currentColor",focusable:"false","data-icon":"pe-vkontakte-icon","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M11.0953 12.4775H12.5097C12.5097 12.4775 12.934 12.4774 13.0755 12.1971C13.2169 12.0569 13.2169 11.6363 13.2169 11.6363C13.2169 11.6363 13.2169 9.81373 14.0656 9.53334C14.9142 9.25294 15.9043 11.2157 17.0359 12.0569C17.8845 12.6176 18.5917 12.4775 18.5917 12.4775H21.562C21.562 12.4775 23.1178 12.3373 22.4106 11.2157C22.4106 11.0755 21.9863 10.2343 20.1476 8.69216C18.3088 7.0098 18.4503 7.29019 20.8548 4.20588C22.2692 2.38333 22.835 1.26176 22.6935 0.700978C22.5521 0.28039 21.562 0.42059 21.562 0.42059H18.1674C18.1674 0.42059 17.8845 0.420588 17.7431 0.560784C17.6016 0.70098 17.4602 0.981371 17.4602 0.981371C17.4602 0.981371 16.8944 2.38333 16.1872 3.6451C14.6313 6.16863 14.0656 6.30882 13.7827 6.16863C13.2169 5.74804 13.3584 4.62647 13.3584 3.92549C13.3584 1.40196 13.7827 0.420589 12.6512 0.140197C12.2268 1.06543e-06 11.944 -2.13922e-06 11.0953 -2.13922e-06C9.82233 -2.13922e-06 8.83224 -1.06543e-06 8.26647 0.280391C7.84215 0.420587 7.55927 0.841177 7.70071 0.841177C7.9836 0.841177 8.40792 0.98137 8.6908 1.40196C8.97368 1.82255 8.97368 2.94412 8.97368 2.94412C8.97368 2.94412 9.11513 5.88824 8.54936 6.16863C8.12503 6.44902 7.41783 5.88824 6.14485 3.6451C5.43764 2.52353 4.87188 1.12157 4.87188 1.12157C4.87188 1.12157 4.73044 0.841174 4.589 0.700978C4.30611 0.560782 4.02323 0.560784 4.02323 0.560784H0.770071C0.770071 0.560784 0.345746 0.560785 0.0628629 0.841177C-0.0785787 0.981374 0.0628629 1.40196 0.0628629 1.40196C0.0628629 1.40196 2.60881 7.2902 5.43764 10.2343C8.12503 12.7578 11.0953 12.4775 11.0953 12.4775Z",transform:"translate(6.78613 14.4898)",fill:"currentColor"})}))},XT=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 128 128",focusable:"false","data-icon":"pe-slack-icon","aria-hidden":"true",children:[(0,st.jsx)("path",{fill:"currentColor",d:"M27.255 80.719c0 7.33-5.978 13.317-13.309 13.317S.63 88.049.63 80.719s5.987-13.317 13.317-13.317h13.309zm6.709 0c0-7.33 5.987-13.317 13.317-13.317s13.317 5.986 13.317 13.317v33.335c0 7.33-5.986 13.317-13.317 13.317c-7.33 0-13.317-5.987-13.317-13.317zm0 0"}),(0,st.jsx)("path",{fill:"currentColor",d:"M47.281 27.255c-7.33 0-13.317-5.978-13.317-13.309S39.951.63 47.281.63s13.317 5.987 13.317 13.317v13.309zm0 6.709c7.33 0 13.317 5.987 13.317 13.317s-5.986 13.317-13.317 13.317H13.946C6.616 60.598.63 54.612.63 47.281c0-7.33 5.987-13.317 13.317-13.317zm0 0"}),(0,st.jsx)("path",{fill:"currentColor",d:"M100.745 47.281c0-7.33 5.978-13.317 13.309-13.317s13.317 5.987 13.317 13.317s-5.987 13.317-13.317 13.317h-13.309zm-6.709 0c0 7.33-5.987 13.317-13.317 13.317s-13.317-5.986-13.317-13.317V13.946C67.402 6.616 73.388.63 80.719.63c7.33 0 13.317 5.987 13.317 13.317zm0 0"}),(0,st.jsx)("path",{fill:"currentColor",d:"M80.719 100.745c7.33 0 13.317 5.978 13.317 13.309s-5.987 13.317-13.317 13.317s-13.317-5.987-13.317-13.317v-13.309zm0-6.709c-7.33 0-13.317-5.987-13.317-13.317s5.986-13.317 13.317-13.317h33.335c7.33 0 13.317 5.986 13.317 13.317c0 7.33-5.987 13.317-13.317 13.317zm0 0"})]}))},$T=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 48 48",fill:"currentColor",focusable:"false","data-icon":"pe-discord-icon","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M32.3303 16.2278C30.7767 15.5009 29.1156 14.9727 27.3789 14.6719C27.1656 15.0575 26.9164 15.5761 26.7446 15.9887C24.8985 15.7111 23.0693 15.7111 21.2572 15.9887C21.0854 15.5761 20.8306 15.0575 20.6154 14.6719C18.8768 14.9727 17.2138 15.5029 15.6602 16.2317C12.5266 20.9669 11.6772 25.5845 12.1019 30.1365C14.1803 31.6885 16.1944 32.6313 18.1746 33.2483C18.6635 32.5754 19.0995 31.8601 19.4752 31.1063C18.7598 30.8344 18.0745 30.499 17.4271 30.1095C17.5988 29.9822 17.7669 29.8492 17.9292 29.7123C21.8782 31.5594 26.1689 31.5594 30.0707 29.7123C30.235 29.8492 30.403 29.9822 30.5728 30.1095C29.9235 30.5009 29.2364 30.8363 28.521 31.1082C28.8966 31.8601 29.3308 32.5774 29.8216 33.2502C31.8036 32.6333 33.8197 31.6905 35.898 30.1365C36.3964 24.8595 35.0467 20.2843 32.3303 16.2278ZM20.0132 27.337C18.8277 27.337 17.8556 26.2303 17.8556 24.8826C17.8556 23.535 18.807 22.4264 20.0132 22.4264C21.2194 22.4264 22.1916 23.533 22.1708 24.8826C22.1727 26.2303 21.2194 27.337 20.0132 27.337ZM27.9867 27.337C26.8013 27.337 25.8291 26.2303 25.8291 24.8826C25.8291 23.535 26.7805 22.4264 27.9867 22.4264C29.193 22.4264 30.1651 23.533 30.1444 24.8826C30.1444 26.2303 29.193 27.337 27.9867 27.337Z",fill:"currentColor"})}))},JT=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"39",height:"39",viewBox:"0 0 48 48",fill:"currentColor",focusable:"false","data-icon":"pe-microsoft-teams-icon","aria-hidden":"true",children:[(0,st.jsxs)("g",{clipPath:"url(#clip0_3945_17159)",children:[" ",(0,st.jsx)("path",{d:"M28.9361 21H35.5782C36.2057 21 36.7144 21.5104 36.7144 22.14V28.2102C36.7144 30.5242 34.8448 32.4 32.5385 32.4H32.5188C30.2125 32.4003 28.3426 30.5248 28.3423 28.2108C28.3423 28.2106 28.3423 28.2104 28.3423 28.2102V21.5958C28.3423 21.2667 28.6082 21 28.9361 21Z",fill:"currentColor"})," ",(0,st.jsx)("path",{d:"M33.4254 19.8004C34.9116 19.8004 36.1164 18.5916 36.1164 17.1004C36.1164 15.6092 34.9116 14.4004 33.4254 14.4004C31.9392 14.4004 30.7344 15.6092 30.7344 17.1004C30.7344 18.5916 31.9392 19.8004 33.4254 19.8004Z",fill:"currentColor"})," ",(0,st.jsx)("path",{d:"M25.0531 19.8C27.1998 19.8 28.9401 18.0539 28.9401 15.9C28.9401 13.7461 27.1998 12 25.0531 12C22.9063 12 21.166 13.7461 21.166 15.9C21.166 18.0539 22.9063 19.8 25.0531 19.8Z",fill:"currentColor"})," ",(0,st.jsx)("path",{d:"M30.2362 21H19.2723C18.6523 21.0154 18.1618 21.5317 18.1762 22.1538V29.0772C18.0896 32.8105 21.0334 35.9086 24.7543 36C28.4751 35.9086 31.4189 32.8105 31.3323 29.0772V22.1538C31.3467 21.5317 30.8562 21.0154 30.2362 21Z",fill:"currentColor"})," ",(0,st.jsx)("path",{opacity:"0.1",d:"M25.3522 21V30.702C25.3492 31.1469 25.0805 31.5466 24.6705 31.716C24.5399 31.7714 24.3996 31.8 24.2578 31.8H18.7023C18.6246 31.602 18.5528 31.404 18.493 31.2C18.2837 30.5115 18.1769 29.7958 18.1761 29.076V22.152C18.1617 21.5309 18.6514 21.0154 19.2704 21H25.3522Z",fill:"currentColor"})," ",(0,st.jsx)("path",{opacity:"0.2",d:"M24.7542 21V31.302C24.7542 31.4442 24.7257 31.585 24.6705 31.716C24.5016 32.1274 24.1033 32.397 23.6598 32.4H18.9834C18.8817 32.202 18.7861 32.004 18.7023 31.8C18.6186 31.596 18.5528 31.404 18.493 31.2C18.2837 30.5115 18.1769 29.7958 18.1761 29.076V22.152C18.1617 21.5309 18.6514 21.0154 19.2704 21H24.7542Z",fill:"currentColor"})," ",(0,st.jsx)("path",{opacity:"0.2",d:"M24.7542 21V30.102C24.7496 30.7065 24.2623 31.1954 23.6598 31.2H18.493C18.2837 30.5115 18.1769 29.7958 18.1761 29.076V22.152C18.1617 21.5309 18.6514 21.0154 19.2704 21H24.7542Z",fill:"currentColor"})," ",(0,st.jsx)("path",{opacity:"0.2",d:"M24.1562 21V30.102C24.1516 30.7065 23.6643 31.1954 23.0618 31.2H18.493C18.2837 30.5115 18.1769 29.7958 18.1761 29.076V22.152C18.1617 21.5309 18.6514 21.0154 19.2704 21H24.1562Z",fill:"currentColor"})," ",(0,st.jsx)("path",{opacity:"0.1",d:"M25.3523 17.8988V19.7888C25.2507 19.7948 25.155 19.8008 25.0533 19.8008C24.9517 19.8008 24.856 19.7948 24.7543 19.7888C24.5525 19.7753 24.3523 19.7432 24.1563 19.6928C22.9454 19.405 21.9449 18.5529 21.4653 17.4008C21.3828 17.2073 21.3187 17.0064 21.2739 16.8008H24.258C24.8614 16.8031 25.35 17.2933 25.3523 17.8988Z",fill:"currentColor"})," ",(0,st.jsx)("path",{d:"M24.7544 18.4984V19.7884C24.5525 19.7749 24.3523 19.7428 24.1564 19.6924C22.9454 19.4047 21.9449 18.5526 21.4653 17.4004H23.66C24.2635 17.4027 24.7521 17.8929 24.7544 18.4984Z",fill:"currentColor"})," ",(0,st.jsx)("path",{opacity:"0.2",d:"M24.1564 18.4984V19.6924C22.9454 19.4047 21.9449 18.5526 21.4653 17.4004H23.062C23.6655 17.4027 24.1541 17.8929 24.1564 18.4984Z",fill:"black"})," ",(0,st.jsx)("path",{d:"M12.0961 17.4004H23.06C23.6654 17.4004 24.1561 17.8928 24.1561 18.5002V29.5006C24.1561 30.108 23.6654 30.6004 23.06 30.6004H12.0961C11.4908 30.6004 11 30.108 11 29.5006V18.5002C11 17.8928 11.4908 17.4004 12.0961 17.4004Z",fill:"currentColor"})," ",(0,st.jsx)("path",{d:"M20.4629 21.5874H18.2712V27.5754H16.8749V21.5874H14.6934V20.4258H20.4629V21.5874Z",fill:"#C4C4C4"})," "]})," ",(0,st.jsxs)("defs",{children:[" ",(0,st.jsxs)("clipPath",{id:"clip0_3945_17159",children:[" ",(0,st.jsx)("rect",{width:"25.7143",height:"24",fill:"white",transform:"translate(11 12)"})," "]})," "]})]}))},eP=[{type:"whatsapp",label:"WhatsApp",color:"#25D366",Icon:xv,placeholder:Ua("Enter phone number e.g. +19876543210","pushengage"),example:"Example: +1548587534",helpTitle:"How do I use this?",help:"Enter your country code (for example, +1), followed by your phone number without the leading zero (for example, 9876543210).",mainValueLabel:Ua("Phone Number","pushengage"),fields:[{key:"prefill_message",label:Ua("Prefill Message","pushengage"),placeholder:Ua("Type your default message","pushengage"),type:"textarea",required:!1,defaultValue:""}]},{type:"messenger",label:"Messenger",color:"#1890ff",Icon:yv,placeholder:"https://m.me/Your-Page/",example:"Example: https://m.me/Your-Page/",mainValueLabel:Ua("Messenger URL","pushengage")},{type:"phone",label:"Phone",color:"#52c41a",Icon:nA,placeholder:Ua("Phone number","pushengage"),example:"Example: +1548587534",mainValueLabel:Ua("Phone Number","pushengage")},{type:"email",label:"Email",color:"#faad14",Icon:mv,placeholder:"Email",example:"Example: someone@example.com",mainValueLabel:Ua("Email Address","pushengage")},{type:"instagram_dm",label:"Instagram DM",color:"#F56040",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:RT},e))},placeholder:"Instagram DM Example: Instagram_handle",example:"Instagram DM Example: Instagram_handle",mainValueLabel:Ua("Instagram DM Handle","pushengage")},{type:"instagram_page",label:"Instagram Page",color:"#C13584",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:BT},e))},placeholder:"Instagram Page Handle",example:"Instagram Page Example: Instagram_handle",mainValueLabel:Ua("Instagram Page Handle","pushengage")},{type:"sms",label:"SMS",color:"#ff85c0",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:FT},e))},placeholder:Ua("Phone number","pushengage"),example:"Example: +1507854875",mainValueLabel:Ua("Phone Number","pushengage")},{type:"line",label:"Line",color:"#00c300",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:zT},e))},placeholder:Ua("User Name","pushengage"),example:"Example: http://line.me/ti/p/2a-s5A2B8B",mainValueLabel:Ua("Line Username","pushengage")},{type:"telegram",label:"Telegram",color:"#54a9eb",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:HT},e))},placeholder:Ua("Telegram Username","pushengage"),example:"Example: myusername",mainValueLabel:Ua("Telegram Username","pushengage")},{type:"google_maps",label:"Google Maps",color:"#13c2c2",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:VT},e))},placeholder:Ua("Maps link","pushengage"),example:"Example: https://goo.gl/maps/4m93C84v2DC2",mainValueLabel:Ua("Place or URL","pushengage")},{type:"viber",label:"Viber",color:"#665CAC",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:UT},e))},placeholder:Ua("Phone Number","pushengage"),example:"Example: +18006927753 or your Viber ID",mainValueLabel:Ua("Phone","pushengage")},{type:"twitter",label:"X (Twitter)",color:"#14171A",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:WT},e))},placeholder:Ua("Twitter Handle","pushengage"),example:"Example: MyTwitterHandle",mainValueLabel:Ua("Twitter Handle","pushengage")},{type:"wechat",label:"WeChat",color:"#7bb32e",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:qT},e))},placeholder:Ua("WeChat Username","pushengage"),example:"Example: UserID",helpTitle:"How do I use this?",help:"Unfortunately, WeChat doesn't have a click-to-chat API, therefore we can only show your username so visitors can look-up for it. We have a QR upload option that visitors can use to quickly launch your WeChat profile.",mainValueLabel:Ua("WeChat Username","pushengage"),fields:[{key:"wechat_qr_code",label:Ua("WeChat QR Code","pushengage"),placeholder:Ua("Upload your QR code","pushengage"),type:"image_upload",required:!1,isProField:!0}]},{type:"snapchat",label:"Snapchat",color:"#fffc00",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:KT},e))},placeholder:Ua("Snapchat Username","pushengage"),example:"Example: myusername",mainValueLabel:Ua("Username","pushengage")},{type:"tiktok",label:"TikTok",color:"#000000",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:LT},e))},placeholder:Ua("@TikTok_username","pushengage"),example:"Example: @TikTok_username",mainValueLabel:Ua("TikTok Handle","pushengage")},{type:"waze",label:"Waze",color:"#87e8de",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:YT},e))},placeholder:Ua("Enter a waze link","pushengage"),example:"Example: https://waze.com/ul/hdr5ru7vtv",mainValueLabel:Ua("Place or URL","pushengage")},{type:"linkedin",label:"Linkedin",color:"#0a66c2",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:GT},e))},placeholder:Ua("my-linkedin-profile-44573b150","pushengage"),example:"Example: my-linkedin-profile-44573b150",mainValueLabel:Ua("LinkedIn Profile ID","pushengage"),helpTitle:"How do I use this?",help:"Enter your LinkedIn profile ID. You can find it in the URL of your LinkedIn profile. For example, if your profile URL is https://www.linkedin.com/in/my-profile-44573b150, your profile ID is my-profile-44573b150."},{type:"vkontakte",label:"Vkontakte",color:"#2787f5",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:QT},e))},placeholder:Ua("Vkontakte Username","pushengage"),example:"Example: myusername",mainValueLabel:Ua("Vkontakte Profile ID","pushengage"),helpTitle:"How do I use this?",help:"Enter your Vkontakte profile ID. You can find it in the URL of your Vkontakte profile. For example, if your profile URL is https://vk.com/profile_id, your profile ID is profile_id."},{type:"slack",label:"Slack",color:"#611f69",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:XT},e))},placeholder:Ua("Slack Workspace URL","pushengage"),example:"Example: https://workspace.slack.com/",mainValueLabel:Ua("Slack Workspace URL","pushengage")},{type:"discord",label:"Discord",color:"#5865F2",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:$T},e))},placeholder:Ua("Discord Invite URL","pushengage"),example:"Example: https://discord.gg/abcde",mainValueLabel:Ua("Discord Invite URL","pushengage")},{type:"microsoft_teams",label:"Microsoft Teams",color:"#6264A7",Icon:function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:JT},e))},placeholder:Ua("Microsoft Teams","pushengage"),example:"Example: https://teams.microsoft.com/join/abcde",mainValueLabel:Ua("Microsoft Teams URL","pushengage")},{type:"custom",label:"Custom Link",color:"#1E88E5",Icon:od,placeholder:Ua("Enter channel link or URL","pushengage"),example:"Example: https://www.example.com/contact",mainValueLabel:Ua("Channel Link/URL","pushengage")}],tP=function(e){return eP.find((function(t){return t.type===e}))},nP=function(e){var t=tP(e);return(null===t||void 0===t?void 0:t.label)||""},rP=function(e){var t=tP(e);return t&&"string"===typeof t.helpTitle?t.helpTitle:void 0},iP=function(e){var t=tP(e);return null===t||void 0===t?void 0:t.help},aP=function(e){var t=tP(e);return null===t||void 0===t?void 0:t.mainValueLabel},oP=function(e){var t=tP(e);return Array.isArray(null===t||void 0===t?void 0:t.fields)?null===t||void 0===t?void 0:t.fields:[]},sP=function(e){var t=tP(e);return null===t||void 0===t?void 0:t.color},lP=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-Drag-outlined","aria-hidden":"true",children:[(0,st.jsx)("circle",{cx:"8",cy:"7",r:"1.5"}),(0,st.jsx)("circle",{cx:"8",cy:"12",r:"1.5"}),(0,st.jsx)("circle",{cx:"8",cy:"17",r:"1.5"}),(0,st.jsx)("circle",{cx:"14",cy:"7",r:"1.5"}),(0,st.jsx)("circle",{cx:"14",cy:"12",r:"1.5"}),(0,st.jsx)("circle",{cx:"14",cy:"17",r:"1.5"})]}))},cP=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:lP},e))},uP=10,dP=11,pP=12,fP=13,hP=15,gP=16,mP=17,vP=18,yP=19,bP=20,xP=21,wP=22,kP=23,_P=24,CP=25;function jP(e){return e>=48&&e<=57}function SP(e){return jP(e)||e>=65&&e<=70||e>=97&&e<=102}function ZP(e){return e>=65&&e<=90}function NP(e){return function(e){return ZP(e)||function(e){return e>=97&&e<=122}(e)}(e)||function(e){return e>=128}(e)||95===e}function EP(e){return NP(e)||jP(e)||45===e}function OP(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e}function AP(e){return 10===e||13===e||12===e}function TP(e){return AP(e)||32===e||9===e}function PP(e,t){return 92===e&&(!AP(t)&&0!==t)}function MP(e,t,n){return 45===e?NP(t)||45===t||PP(t,n):!!NP(e)||92===e&&PP(e,t)}function IP(e,t,n){return 43===e||45===e?jP(t)?2:46===t&&jP(n)?3:0:46===e?jP(t)?2:0:jP(e)?1:0}function DP(e){return 65279===e||65534===e?1:0}for(var LP=new Array(128),RP=130,BP=0;BP<LP.length;BP++)LP[BP]=(TP(BP)?RP:jP(BP)&&131)||NP(BP)&&132||OP(BP)&&133||BP||128;function FP(e){return e<128?LP[e]:132}function zP(e,t){return t<e.length?e.charCodeAt(t):0}function VP(e,t,n){return 13===n&&10===zP(e,t+1)?2:1}function UP(e,t,n){var r=e.charCodeAt(t);return ZP(r)&&(r|=32),r===n}function HP(e,t,n,r){if(n-t!==r.length)return!1;if(t<0||n>e.length)return!1;for(var i=t;i<n;i++){var a=r.charCodeAt(i-t),o=e.charCodeAt(i);if(ZP(o)&&(o|=32),o!==a)return!1}return!0}function WP(e,t){for(;t<e.length&&TP(e.charCodeAt(t));t++);return t}function qP(e,t){for(;t<e.length&&jP(e.charCodeAt(t));t++);return t}function KP(e,t){if(SP(zP(e,(t+=2)-1))){for(var n=Math.min(e.length,t+5);t<n&&SP(zP(e,t));t++);var r=zP(e,t);TP(r)&&(t+=VP(e,t,r))}return t}function YP(e,t){for(;t<e.length;t++){var n=e.charCodeAt(t);if(!EP(n)){if(!PP(n,zP(e,t+1)))break;t=KP(e,t)-1}}return t}function GP(e,t){var n=e.charCodeAt(t);if(43!==n&&45!==n||(n=e.charCodeAt(t+=1)),jP(n)&&(t=qP(e,t+1),n=e.charCodeAt(t)),46===n&&jP(e.charCodeAt(t+1))&&(t=qP(e,t+=2)),UP(e,t,101)){var r=0;45!==(n=e.charCodeAt(t+1))&&43!==n||(r=1,n=e.charCodeAt(t+2)),jP(n)&&(t=qP(e,t+1+r+1))}return t}function QP(e,t){for(;t<e.length;t++){var n=e.charCodeAt(t);if(41===n){t++;break}PP(n,zP(e,t+1))&&(t=KP(e,t))}return t}function XP(e){if(1===e.length&&!SP(e.charCodeAt(0)))return e[0];var t=parseInt(e,16);return(0===t||t>=55296&&t<=57343||t>1114111)&&(t=65533),String.fromCodePoint(t)}var $P=["EOF-token","ident-token","function-token","at-keyword-token","hash-token","string-token","bad-string-token","url-token","bad-url-token","delim-token","number-token","percentage-token","dimension-token","whitespace-token","CDO-token","CDC-token","colon-token","semicolon-token","comma-token","[-token","]-token","(-token",")-token","{-token","}-token","comment-token"];function JP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return null===e||e.length<t?new Uint32Array(Math.max(t+1024,16384)):e}function eM(e){for(var t=e.source,n=t.length,r=t.length>0?DP(t.charCodeAt(0)):0,i=JP(e.lines,n),a=JP(e.columns,n),o=e.startLine,s=e.startColumn,l=r;l<n;l++){var c=t.charCodeAt(l);i[l]=o,a[l]=s++,10!==c&&13!==c&&12!==c||(13===c&&l+1<n&&10===t.charCodeAt(l+1)&&(i[++l]=o,a[l]=s),o++,s=1)}i[n]=o,a[n]=s,e.lines=i,e.columns=a,e.computed=!0}var tM=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.setSource(t,n,r,i),this.lines=null,this.columns=null}return(0,Sa.Z)(e,[{key:"setSource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.source=e,this.startOffset=t,this.startLine=n,this.startColumn=r,this.computed=!1}},{key:"getLocation",value:function(e,t){return this.computed||eM(this),{source:t,offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}}},{key:"getLocationRange",value:function(e,t,n){return this.computed||eM(this),{source:n,start:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]},end:{offset:this.startOffset+t,line:this.lines[t],column:this.columns[t]}}}}]),e}(),nM=16777215,rM=24,iM=new Uint8Array(32);function aM(e){return 0!==iM[e]}iM[2]=wP,iM[21]=wP,iM[19]=bP,iM[23]=_P;var oM=function(){function e(t,n){(0,Za.Z)(this,e),this.setSource(t,n)}return(0,Sa.Z)(e,[{key:"reset",value:function(){this.eof=!1,this.tokenIndex=-1,this.tokenType=0,this.tokenStart=this.firstCharOffset,this.tokenEnd=this.firstCharOffset}},{key:"setSource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=(e=String(e||"")).length,r=JP(this.offsetAndType,e.length+1),i=JP(this.balance,e.length+1),a=0,o=-1,s=0,l=e.length;this.offsetAndType=null,this.balance=null,i.fill(0),t(e,(function(e,t,n){var c=a++;if(r[c]=e<<rM|n,-1===o&&(o=t),i[c]=l,e===s){var u=i[l];i[l]=c,l=u,s=iM[r[u]>>rM]}else aM(e)&&(l=c,s=iM[e])})),r[a]=0|n,i[a]=a;for(var c=0;c<a;c++){var u=i[c];if(u<=c){var d=i[u];d!==c&&(i[c]=d)}else u>a&&(i[c]=a)}this.source=e,this.firstCharOffset=-1===o?0:o,this.tokenCount=a,this.offsetAndType=r,this.balance=i,this.reset(),this.next()}},{key:"lookupType",value:function(e){return(e+=this.tokenIndex)<this.tokenCount?this.offsetAndType[e]>>rM:0}},{key:"lookupTypeNonSC",value:function(e){for(var t=this.tokenIndex;t<this.tokenCount;t++){var n=this.offsetAndType[t]>>rM;if(n!==fP&&n!==CP&&0===e--)return n}return 0}},{key:"lookupOffset",value:function(e){return(e+=this.tokenIndex)<this.tokenCount?this.offsetAndType[e-1]&nM:this.source.length}},{key:"lookupOffsetNonSC",value:function(e){for(var t=this.tokenIndex;t<this.tokenCount;t++){var n=this.offsetAndType[t]>>rM;if(n!==fP&&n!==CP&&0===e--)return t-this.tokenIndex}return 0}},{key:"lookupValue",value:function(e,t){return(e+=this.tokenIndex)<this.tokenCount&&HP(this.source,this.offsetAndType[e-1]&nM,this.offsetAndType[e]&nM,t)}},{key:"getTokenStart",value:function(e){return e===this.tokenIndex?this.tokenStart:e>0?e<this.tokenCount?this.offsetAndType[e-1]&nM:this.offsetAndType[this.tokenCount]&nM:this.firstCharOffset}},{key:"substrToCursor",value:function(e){return this.source.substring(e,this.tokenStart)}},{key:"isBalanceEdge",value:function(e){return this.balance[this.tokenIndex]<e}},{key:"isDelim",value:function(e,t){return t?9===this.lookupType(t)&&this.source.charCodeAt(this.lookupOffset(t))===e:9===this.tokenType&&this.source.charCodeAt(this.tokenStart)===e}},{key:"skip",value:function(e){var t=this.tokenIndex+e;t<this.tokenCount?(this.tokenIndex=t,this.tokenStart=this.offsetAndType[t-1]&nM,t=this.offsetAndType[t],this.tokenType=t>>rM,this.tokenEnd=t&nM):(this.tokenIndex=this.tokenCount,this.next())}},{key:"next",value:function(){var e=this.tokenIndex+1;e<this.tokenCount?(this.tokenIndex=e,this.tokenStart=this.tokenEnd,e=this.offsetAndType[e],this.tokenType=e>>rM,this.tokenEnd=e&nM):(this.eof=!0,this.tokenIndex=this.tokenCount,this.tokenType=0,this.tokenStart=this.tokenEnd=this.source.length)}},{key:"skipSC",value:function(){for(;this.tokenType===fP||this.tokenType===CP;)this.next()}},{key:"skipUntilBalanced",value:function(e,t){var n=e,r=0,i=0;e:for(;n<this.tokenCount&&!((r=this.balance[n])<e);n++)switch(i=n>0?this.offsetAndType[n-1]&nM:this.firstCharOffset,t(this.source.charCodeAt(i))){case 1:break e;case 2:n++;break e;default:aM(this.offsetAndType[n]>>rM)&&(n=r)}this.skip(n-this.tokenIndex)}},{key:"forEachToken",value:function(e){for(var t=0,n=this.firstCharOffset;t<this.tokenCount;t++){var r=n,i=this.offsetAndType[t],a=i&nM;n=a,e(i>>rM,r,a,t)}}},{key:"dump",value:function(){var e=this,t=new Array(this.tokenCount);return this.forEachToken((function(n,r,i,a){t[a]={idx:a,type:$P[n],chunk:e.source.substring(r,i),balance:e.balance[a]}})),t}}]),e}();function sM(e,t){function n(t){return t<s?e.charCodeAt(t):0}function r(){return MP(n(c=GP(e,c)),n(c+1),n(c+2))?(o=pP,void(c=YP(e,c))):37===n(c)?(o=dP,void c++):void(o=uP)}function i(){var t=c;return c=YP(e,c),HP(e,t,c,"url")&&40===n(c)?34===n(c=WP(e,c+1))||39===n(c)?(o=2,void(c=t+4)):void function(){for(o=7,c=WP(e,c);c<e.length;c++){var t=e.charCodeAt(c);switch(FP(t)){case 41:return void c++;case RP:return 41===n(c=WP(e,c))||c>=e.length?void(c<e.length&&c++):(c=QP(e,c),void(o=8));case 34:case 39:case 40:case 133:return c=QP(e,c),void(o=8);case 92:if(PP(t,n(c+1))){c=KP(e,c)-1;break}return c=QP(e,c),void(o=8)}}}():40===n(c)?(o=2,void c++):void(o=1)}function a(t){for(t||(t=n(c++)),o=5;c<e.length;c++){var r=e.charCodeAt(c);switch(FP(r)){case t:return void c++;case RP:if(AP(r))return c+=VP(e,c,r),void(o=6);break;case 92:if(c===e.length-1)break;var i=n(c+1);AP(i)?c+=VP(e,c+1,i):PP(r,i)&&(c=KP(e,c)-1)}}}for(var o,s=(e=String(e||"")).length,l=DP(n(0)),c=l;c<s;){var u=e.charCodeAt(c);switch(FP(u)){case RP:o=fP,c=WP(e,c+1);break;case 34:a();break;case 35:EP(n(c+1))||PP(n(c+1),n(c+2))?(o=4,c=YP(e,c+1)):(o=9,c++);break;case 39:a();break;case 40:o=xP,c++;break;case 41:o=wP,c++;break;case 43:IP(u,n(c+1),n(c+2))?r():(o=9,c++);break;case 44:o=vP,c++;break;case 45:IP(u,n(c+1),n(c+2))?r():45===n(c+1)&&62===n(c+2)?(o=hP,c+=3):MP(u,n(c+1),n(c+2))?i():(o=9,c++);break;case 46:IP(u,n(c+1),n(c+2))?r():(o=9,c++);break;case 47:42===n(c+1)?(o=CP,c=-1===(c=e.indexOf("*/",c+2))?e.length:c+2):(o=9,c++);break;case 58:o=gP,c++;break;case 59:o=mP,c++;break;case 60:33===n(c+1)&&45===n(c+2)&&45===n(c+3)?(o=14,c+=4):(o=9,c++);break;case 64:MP(n(c+1),n(c+2),n(c+3))?(o=3,c=YP(e,c+1)):(o=9,c++);break;case 91:o=yP,c++;break;case 92:PP(u,n(c+1))?i():(o=9,c++);break;case 93:o=bP,c++;break;case 123:o=kP,c++;break;case 125:o=_P,c++;break;case 131:r();break;case 132:i();break;default:o=9,c++}t(o,l,l=c)}}var lM=null,cM=function(e){function t(){(0,Za.Z)(this,t),this.head=null,this.tail=null,this.cursor=null}return(0,Sa.Z)(t,[{key:"createItem",value:function(e){return t.createItem(e)}},{key:"allocateCursor",value:function(e,t){var n;return null!==lM?(n=lM,lM=lM.cursor,n.prev=e,n.next=t,n.cursor=this.cursor):n={prev:e,next:t,cursor:this.cursor},this.cursor=n,n}},{key:"releaseCursor",value:function(){var e=this.cursor;this.cursor=e.cursor,e.prev=null,e.next=null,e.cursor=lM,lM=e}},{key:"updateCursors",value:function(e,t,n,r){for(var i=this.cursor;null!==i;)i.prev===e&&(i.prev=t),i.next===n&&(i.next=r),i=i.cursor}},{key:e,value:(0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(null===t){e.next=7;break}return e.next=4,t.data;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"size",get:function(){for(var e=0,t=this.head;null!==t;t=t.next)e++;return e}},{key:"isEmpty",get:function(){return null===this.head}},{key:"first",get:function(){return this.head&&this.head.data}},{key:"last",get:function(){return this.tail&&this.tail.data}},{key:"fromArray",value:function(e){var n=null;this.head=null;var r,i=(0,sp.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t.createItem(a);null!==n?n.next=o:this.head=o,o.prev=n,n=o}}catch(s){i.e(s)}finally{i.f()}return this.tail=n,this}},{key:"toArray",value:function(){return(0,we.Z)(this)}},{key:"toJSON",value:function(){return(0,we.Z)(this)}},{key:"forEach",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=this.allocateCursor(null,this.head);null!==n.next;){var r=n.next;n.next=r.next,e.call(t,r.data,r,this)}this.releaseCursor()}},{key:"forEachRight",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=this.allocateCursor(this.tail,null);null!==n.prev;){var r=n.prev;n.prev=r.prev,e.call(t,r.data,r,this)}this.releaseCursor()}},{key:"reduce",value:function(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,i=this.allocateCursor(null,this.head),a=t;null!==i.next;)n=i.next,i.next=n.next,a=e.call(r,a,n.data,n,this);return this.releaseCursor(),a}},{key:"reduceRight",value:function(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,i=this.allocateCursor(this.tail,null),a=t;null!==i.prev;)n=i.prev,i.prev=n.prev,a=e.call(r,a,n.data,n,this);return this.releaseCursor(),a}},{key:"some",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=this.head;null!==n;n=n.next)if(e.call(t,n.data,n,this))return!0;return!1}},{key:"map",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r=new t,i=this.head;null!==i;i=i.next)r.appendData(e.call(n,i.data,i,this));return r}},{key:"filter",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r=new t,i=this.head;null!==i;i=i.next)e.call(n,i.data,i,this)&&r.appendData(i.data);return r}},{key:"nextUntil",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;if(null!==e){for(var r=this.allocateCursor(null,e);null!==r.next;){var i=r.next;if(r.next=i.next,t.call(n,i.data,i,this))break}this.releaseCursor()}}},{key:"prevUntil",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;if(null!==e){for(var r=this.allocateCursor(e,null);null!==r.prev;){var i=r.prev;if(r.prev=i.prev,t.call(n,i.data,i,this))break}this.releaseCursor()}}},{key:"clear",value:function(){this.head=null,this.tail=null}},{key:"copy",value:function(){var e,n=new t,r=(0,sp.Z)(this);try{for(r.s();!(e=r.n()).done;){var i=e.value;n.appendData(i)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"prepend",value:function(e){return this.updateCursors(null,e,this.head,e),null!==this.head?(this.head.prev=e,e.next=this.head):this.tail=e,this.head=e,this}},{key:"prependData",value:function(e){return this.prepend(t.createItem(e))}},{key:"append",value:function(e){return this.insert(e)}},{key:"appendData",value:function(e){return this.insert(t.createItem(e))}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t)if(this.updateCursors(t.prev,e,t,e),null===t.prev){if(this.head!==t)throw new Error("before doesn't belong to list");this.head=e,t.prev=e,e.next=t,this.updateCursors(null,e)}else t.prev.next=e,e.prev=t.prev,t.prev=e,e.next=t;else this.updateCursors(this.tail,e,null,e),null!==this.tail?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e;return this}},{key:"insertData",value:function(e,n){return this.insert(t.createItem(e),n)}},{key:"remove",value:function(e){if(this.updateCursors(e,e.prev,e,e.next),null!==e.prev)e.prev.next=e.next;else{if(this.head!==e)throw new Error("item doesn't belong to list");this.head=e.next}if(null!==e.next)e.next.prev=e.prev;else{if(this.tail!==e)throw new Error("item doesn't belong to list");this.tail=e.prev}return e.prev=null,e.next=null,e}},{key:"push",value:function(e){this.insert(t.createItem(e))}},{key:"pop",value:function(){return null!==this.tail?this.remove(this.tail):null}},{key:"unshift",value:function(e){this.prepend(t.createItem(e))}},{key:"shift",value:function(){return null!==this.head?this.remove(this.head):null}},{key:"prependList",value:function(e){return this.insertList(e,this.head)}},{key:"appendList",value:function(e){return this.insertList(e)}},{key:"insertList",value:function(e,t){return null===e.head||(void 0!==t&&null!==t?(this.updateCursors(t.prev,e.tail,t,e.head),null!==t.prev?(t.prev.next=e.head,e.head.prev=t.prev):this.head=e.head,t.prev=e.tail,e.tail.next=t):(this.updateCursors(this.tail,e.tail,null,e.head),null!==this.tail?(this.tail.next=e.head,e.head.prev=this.tail):this.head=e.head,this.tail=e.tail),e.head=null,e.tail=null),this}},{key:"replace",value:function(e,t){"head"in t?this.insertList(t,e):this.insert(t,e),this.remove(e)}}],[{key:"createItem",value:function(e){return{prev:null,next:null,data:e}}}]),t}(Symbol.iterator);function uM(e,t){var n=Object.create(SyntaxError.prototype),r=new Error;return Object.assign(n,{name:e,message:t,get stack(){return(r.stack||"").replace(/^(.+\n){1,3}/,"".concat(e,": ").concat(t,"\n"))}})}var dM="    ";function pM(e,t){var n=e.source,r=e.line,i=e.column,a=e.baseLine,o=e.baseColumn;function s(e,t){return l.slice(e,t).map((function(t,n){return String(e+n+1).padStart(d)+" |"+t})).join("\n")}var l=("\n".repeat(Math.max(a-1,0))+" ".repeat(Math.max(o-1,0))+n).split(/\r\n?|\n|\f/),c=Math.max(1,r-t)-1,u=Math.min(r+t,l.length+1),d=Math.max(4,String(u).length)+1,p=0;(i+=(dM.length-1)*(l[r-1].substr(0,i-1).match(/\t/g)||[]).length)>100&&(p=i-60+3,i=58);for(var f=c;f<=u;f++)f>=0&&f<l.length&&(l[f]=l[f].replace(/\t/g,dM),l[f]=(p>0&&l[f].length>p?"\u2026":"")+l[f].substr(p,98)+(l[f].length>p+100-1?"\u2026":""));return[s(c,r),new Array(i+d+2).join("-")+"^",s(r,u)].filter(Boolean).join("\n").replace(/^(\s+\d+\s+\|\n)+/,"").replace(/\n(\s+\d+\s+\|)+$/,"")}function fM(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=Object.assign(uM("SyntaxError",e),{source:t,offset:n,line:r,column:i,sourceFragment:function(e){return pM({source:t,line:r,column:i,baseLine:a,baseColumn:o},isNaN(e)?0:e)},get formattedMessage(){return"Parse error: ".concat(e,"\n")+pM({source:t,line:r,column:i,baseLine:a,baseColumn:o},2)}});return s}function hM(e){for(var t=this.createList(),n=!1,r={recognizer:e};!this.eof;){switch(this.tokenType){case CP:this.next();continue;case fP:n=!0,this.next();continue}var i=e.getNode.call(this,r);if(void 0===i)break;n&&(e.onWhiteSpace&&e.onWhiteSpace.call(this,i,t,r),n=!1),t.push(i)}return n&&e.onWhiteSpace&&e.onWhiteSpace.call(this,null,t,r),t}var gM=function(){};function mM(e){return function(){return this[e]()}}function vM(e){for(var t=Object.create(null),n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],a=e[i],o=a.parse||a;o&&(t[i]=o)}return t}function yM(e){var t="",n="<unknown>",r=!1,i=gM,a=!1,o=new tM,s=Object.assign(new oM,function(e){for(var t={context:Object.create(null),features:Object.assign(Object.create(null),e.features),scope:Object.assign(Object.create(null),e.scope),atrule:vM(e.atrule),pseudo:vM(e.pseudo),node:vM(e.node)},n=0,r=Object.entries(e.parseContext);n<r.length;n++){var i=(0,xe.Z)(r[n],2),a=i[0],o=i[1];switch(typeof o){case"function":t.context[a]=o;break;case"string":t.context[a]=mM(o)}}return(0,kn.Z)((0,kn.Z)({config:t},t),t.node)}(e||{}),{parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:hM,consumeUntilBalanceEnd:function(){return 0},consumeUntilLeftCurlyBracket:function(e){return 123===e?1:0},consumeUntilLeftCurlyBracketOrSemicolon:function(e){return 123===e||59===e?1:0},consumeUntilExclamationMarkOrSemicolon:function(e){return 33===e||59===e?1:0},consumeUntilSemicolonIncluded:function(e){return 59===e?2:0},createList:function(){return new cM},createSingleNodeList:function(e){return(new cM).appendData(e)},getFirstListNode:function(e){return e&&e.first},getLastListNode:function(e){return e&&e.last},parseWithFallback:function(e,t){var n=this.tokenIndex;try{return e.call(this)}catch(o){if(a)throw o;this.skip(n-this.tokenIndex);var r=t.call(this);return a=!0,i(o,r),a=!1,r}},lookupNonWSType:function(e){var t;do{if((t=this.lookupType(e++))!==fP&&t!==CP)return t}while(0!==t);return 0},charCodeAt:function(e){return e>=0&&e<t.length?t.charCodeAt(e):0},substring:function(e,n){return t.substring(e,n)},substrToCursor:function(e){return this.source.substring(e,this.tokenStart)},cmpChar:function(e,n){return UP(t,e,n)},cmpStr:function(e,n,r){return HP(t,e,n,r)},consume:function(e){var t=this.tokenStart;return this.eat(e),this.substrToCursor(t)},consumeFunctionName:function(){var e=t.substring(this.tokenStart,this.tokenEnd-1);return this.eat(2),e},consumeNumber:function(e){var n=t.substring(this.tokenStart,GP(t,this.tokenStart));return this.eat(e),n},eat:function(e){if(this.tokenType!==e){var t=$P[e].slice(0,-6).replace(/-/g," ").replace(/^./,(function(e){return e.toUpperCase()})),n="".concat(/[[\](){}]/.test(t)?'"'.concat(t,'"'):t," is expected"),r=this.tokenStart;switch(e){case 1:2===this.tokenType||7===this.tokenType?(r=this.tokenEnd-1,n="Identifier is expected but function found"):n="Identifier is expected";break;case 4:this.isDelim(35)&&(this.next(),r++,n="Name is expected");break;case dP:this.tokenType===uP&&(r=this.tokenEnd,n="Percent sign is expected")}this.error(n,r)}this.next()},eatIdent:function(e){1===this.tokenType&&!1!==this.lookupValue(0,e)||this.error('Identifier "'.concat(e,'" is expected')),this.next()},eatDelim:function(e){this.isDelim(e)||this.error('Delim "'.concat(String.fromCharCode(e),'" is expected')),this.next()},getLocation:function(e,t){return r?o.getLocationRange(e,t,n):null},getLocationFromList:function(e){if(r){var t=this.getFirstListNode(e),i=this.getLastListNode(e);return o.getLocationRange(null!==t?t.loc.start.offset-o.startOffset:this.tokenStart,null!==i?i.loc.end.offset-o.startOffset:this.tokenStart,n)}return null},error:function(e,n){var r="undefined"!==typeof n&&n<t.length?o.getLocation(n):this.eof?o.getLocation(function(e,t){for(;t>=0&&TP(e.charCodeAt(t));t--);return t+1}(t,t.length-1)):o.getLocation(this.tokenStart);throw new fM(e||"Unexpected input",t,r.offset,r.line,r.column,o.startLine,o.startColumn)}});return Object.assign((function(e,l){t=e,l=l||{},s.setSource(t,sM),o.setSource(t,l.offset,l.line,l.column),n=l.filename||"<unknown>",r=Boolean(l.positions),i="function"===typeof l.onParseError?l.onParseError:gM,a=!1,s.parseAtrulePrelude=!("parseAtrulePrelude"in l)||Boolean(l.parseAtrulePrelude),s.parseRulePrelude=!("parseRulePrelude"in l)||Boolean(l.parseRulePrelude),s.parseValue=!("parseValue"in l)||Boolean(l.parseValue),s.parseCustomProperty="parseCustomProperty"in l&&Boolean(l.parseCustomProperty);var c=l,u=c.context,d=void 0===u?"default":u,p=c.onComment;if(d in s.context===!1)throw new Error("Unknown context `"+d+"`");"function"===typeof p&&s.forEachToken((function(e,n,r){if(e===CP){var i=s.getLocation(n,r),a=HP(t,r-2,r,"*/")?t.slice(n+2,r-2):t.slice(n+2,r);p(a,i)}}));var f=s.context[d].call(s,l);return s.eof||s.error(),f}),{SyntaxError:fM,config:s.config})}var bM=n(32481),xM=new Set(["Atrule","Selector","Declaration"]);var wM=function(e,t){if(9===e&&(e=t),"string"===typeof e){var n=e.charCodeAt(0);return n>127?32768:n<<8}return e},kM=[[1,1],[1,2],[1,7],[1,8],[1,"-"],[1,uP],[1,dP],[1,pP],[1,hP],[1,xP],[3,1],[3,2],[3,7],[3,8],[3,"-"],[3,uP],[3,dP],[3,pP],[3,hP],[4,1],[4,2],[4,7],[4,8],[4,"-"],[4,uP],[4,dP],[4,pP],[4,hP],[pP,1],[pP,2],[pP,7],[pP,8],[pP,"-"],[pP,uP],[pP,dP],[pP,pP],[pP,hP],["#",1],["#",2],["#",7],["#",8],["#","-"],["#",uP],["#",dP],["#",pP],["#",hP],["-",1],["-",2],["-",7],["-",8],["-","-"],["-",uP],["-",dP],["-",pP],["-",hP],[uP,1],[uP,2],[uP,7],[uP,8],[uP,uP],[uP,dP],[uP,pP],[uP,"%"],[uP,hP],["@",1],["@",2],["@",7],["@",8],["@","-"],["@",hP],[".",uP],[".",dP],[".",pP],["+",uP],["+",dP],["+",pP],["/","*"]],_M=kM.concat([[1,4],[pP,4],[4,4],[3,xP],[3,5],[3,gP],[dP,dP],[dP,pP],[dP,2],[dP,"-"],[wP,1],[wP,2],[wP,dP],[wP,pP],[wP,4],[wP,"-"]]);function CM(e){var t=new Set(e.map((function(e){var t=(0,xe.Z)(e,2),n=t[0],r=t[1];return wM(n)<<16|wM(r)})));return function(e,n,r){var i=wM(n,r),a=r.charCodeAt(0);return(45===a&&1!==n&&2!==n&&n!==hP||43===a?t.has(e<<16|a<<8):t.has(e<<16|i))&&this.emit(" ",fP,!0),i}}var jM=CM(kM),SM=CM(_M);function ZM(e,t){var n=this;if("function"!==typeof t)e.children.forEach(this.node,this);else{var r=null;e.children.forEach((function(e){null!==r&&t.call(n,r),n.node(e),r=e}))}}function NM(e){var t=this;sM(e,(function(n,r,i){t.token(n,e.slice(r,i))}))}function EM(e){for(var t=new Map,n=0,i=Object.entries(e.node);n<i.length;n++){var a=(0,xe.Z)(i[n],2),o=a[0],s=a[1];"function"===typeof(s.generate||s)&&t.set(o,s.generate||s)}return function(e,n){var i="",a=0,o={node:function(e){if(!t.has(e.type))throw new Error("Unknown node type: "+e.type);t.get(e.type).call(s,e)},tokenBefore:SM,token:function(e,t){a=this.tokenBefore(a,e,t),this.emit(t,e,!1),9===e&&92===t.charCodeAt(0)&&this.emit("\n",fP,!0)},emit:function(e){i+=e},result:function(){return i}};n&&("function"===typeof n.decorator&&(o=n.decorator(o)),n.sourceMap&&(o=function(e){var t=new bM.h,n={line:1,column:0},r={line:0,column:0},i={line:1,column:0},a={generated:i},o=1,s=0,l=!1,c=e.node;e.node=function(e){if(e.loc&&e.loc.start&&xM.has(e.type)){var u=e.loc.start.line,d=e.loc.start.column-1;r.line===u&&r.column===d||(r.line=u,r.column=d,n.line=o,n.column=s,l&&(l=!1,n.line===i.line&&n.column===i.column||t.addMapping(a)),l=!0,t.addMapping({source:e.loc.source,original:r,generated:n}))}c.call(this,e),l&&xM.has(e.type)&&(i.line=o,i.column=s)};var u=e.emit;e.emit=function(e,t,n){for(var r=0;r<e.length;r++)10===e.charCodeAt(r)?(o++,s=0):s++;u(e,t,n)};var d=e.result;return e.result=function(){return l&&t.addMapping(a),{css:d(),map:t}},e}(o)),n.mode in r&&(o.tokenBefore=r[n.mode]));var s={node:function(e){return o.node(e)},children:ZM,token:function(e,t){return o.token(e,t)},tokenize:NM};return o.node(e),o.result()}}var OM=Object.prototype.hasOwnProperty,AM=function(){};function TM(e){return"function"===typeof e?e:AM}function PM(e,t){return function(n,r,i){n.type===t&&e.call(this,n,r,i)}}function MM(e,t){var n=t.structure,r=[];for(var i in n)if(!1!==OM.call(n,i)){var a=n[i],o={name:i,type:!1,nullable:!1};Array.isArray(a)||(a=[a]);var s,l=(0,sp.Z)(a);try{for(l.s();!(s=l.n()).done;){var c=s.value;null===c?o.nullable=!0:"string"===typeof c?o.type="node":Array.isArray(c)&&(o.type="list")}}catch(u){l.e(u)}finally{l.f()}o.type&&r.push(o)}return r.length?{context:t.walkContext,fields:r}:null}function IM(e,t){var n=e.fields.slice(),r=e.context,i="string"===typeof r;return t&&n.reverse(),function(e,a,o,s){var l;i&&(l=a[r],a[r]=e);var c,u=(0,sp.Z)(n);try{for(u.s();!(c=u.n()).done;){var d=c.value,p=e[d.name];if(!d.nullable||p)if("list"===d.type){if(t?p.reduceRight(s,!1):p.reduce(s,!1))return!0}else if(o(p))return!0}}catch(f){u.e(f)}finally{u.f()}i&&(a[r]=l)}}function DM(e){var t=e.StyleSheet,n=e.Atrule,r=e.Rule,i=e.Block;return{Atrule:{StyleSheet:t,Atrule:n,Rule:r,Block:i},Rule:{StyleSheet:t,Atrule:n,Rule:r,Block:i},Declaration:{StyleSheet:t,Atrule:n,Rule:r,Block:i,DeclarationList:e.DeclarationList}}}function LM(e){var t=function(e){var t={};for(var n in e.node)if(OM.call(e.node,n)){var r=e.node[n];if(!r.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");t[n]=MM(0,r)}return t}(e),n={},r={},i=Symbol("break-walk"),a=Symbol("skip-node");for(var o in t)OM.call(t,o)&&null!==t[o]&&(n[o]=IM(t[o],!1),r[o]=IM(t[o],!0));var s=DM(n),l=DM(r),c=function(e,o){function c(e,t,n){var r=u.call(h,e,t,n);return r===i||r!==a&&(!(!p.hasOwnProperty(e.type)||!p[e.type](e,h,c,f))||d.call(h,e,t,n)===i)}var u=AM,d=AM,p=n,f=function(e,t,n,r){return e||c(t,n,r)},h={break:i,skip:a,root:e,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null};if("function"===typeof o)u=o;else if(o&&(u=TM(o.enter),d=TM(o.leave),o.reverse&&(p=r),o.visit)){if(s.hasOwnProperty(o.visit))p=o.reverse?l[o.visit]:s[o.visit];else if(!t.hasOwnProperty(o.visit))throw new Error("Bad value `"+o.visit+"` for `visit` option (should be: "+Object.keys(t).sort().join(", ")+")");u=PM(u,o.visit),d=PM(d,o.visit)}if(u===AM&&d===AM)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");c(e)};return c.break=i,c.skip=a,c.find=function(e,t){var n=null;return c(e,(function(e,r,a){if(t.call(this,e,r,a))return n=e,i})),n},c.findLast=function(e,t){var n=null;return c(e,{reverse:!0,enter:function(e,r,a){if(t.call(this,e,r,a))return n=e,i}}),n},c.findAll=function(e,t){var n=[];return c(e,(function(e,r,i){t.call(this,e,r,i)&&n.push(e)})),n},c}function RM(e){return e}function BM(e,t,n,r){var i;switch(e.type){case"Group":i=function(e,t,n,r){var i=" "===e.combinator||r?e.combinator:" "+e.combinator+" ",a=e.terms.map((function(e){return BM(e,t,n,r)})).join(i);return e.explicit||n?(r||","===a[0]?"[":"[ ")+a+(r?"]":" ]"):a}(e,t,n,r)+(e.disallowEmpty?"!":"");break;case"Multiplier":return BM(e.term,t,n,r)+t(function(e){var t=e.min,n=e.max,r=e.comma;return 0===t&&0===n?r?"#?":"*":0===t&&1===n?"?":1===t&&0===n?r?"#":"+":1===t&&1===n?"":(r?"#":"")+(t===n?"{"+t+"}":"{"+t+","+(0!==n?n:"")+"}")}(e),e);case"Boolean":i="<boolean-expr["+BM(e.term,t,n,r)+"]>";break;case"Type":i="<"+e.name+(e.opts?t(function(e){if("Range"===e.type)return" ["+(null===e.min?"-\u221e":e.min)+","+(null===e.max?"\u221e":e.max)+"]";throw new Error("Unknown node type `"+e.type+"`")}(e.opts),e.opts):"")+">";break;case"Property":i="<'"+e.name+"'>";break;case"Keyword":i=e.name;break;case"AtKeyword":i="@"+e.name;break;case"Function":i=e.name+"(";break;case"String":case"Token":i=e.value;break;case"Comma":i=",";break;default:throw new Error("Unknown node type `"+e.type+"`")}return t(i,e)}function FM(e,t){var n=RM,r=!1,i=!1;return"function"===typeof t?n=t:t&&(r=Boolean(t.forceBraces),i=Boolean(t.compact),"function"===typeof t.decorate&&(n=t.decorate)),BM(e,n,r,i)}var zM={offset:0,line:1,column:1};function VM(e,t){var n=e&&e.loc&&e.loc[t];return n?"line"in n?UM(n):n:null}function UM(e,t){var n={offset:e.offset,line:e.line,column:e.column};if(t){var r=t.split(/\n|\r\n?|\f/);n.offset+=t.length,n.line+=r.length-1,n.column=1===r.length?n.column+t.length:r.pop().length+1}return n}var HM=function(e,t){var n=uM("SyntaxReferenceError",e+(t?" `"+t+"`":""));return n.reference=t,n},WM=function(e,t,n,r){var i=uM("SyntaxMatchError",e),a=function(e,t){for(var n,r,i=e.tokens,a=e.longestMatch,o=a<i.length&&i[a].node||null,s=o!==t?o:null,l=0,c=0,u=0,d="",p=0;p<i.length;p++){var f=i[p].value;p===a&&(c=f.length,l=d.length),null!==s&&i[p].node===s&&(p<=a?u++:u=0),d+=f}return a===i.length||u>1?(n=VM(s||t,"end")||UM(zM,d),r=UM(n)):(n=VM(s,"start")||UM(VM(t,"start")||zM,d.slice(0,l)),r=VM(s,"end")||UM(n,d.substr(l,c))),{css:d,mismatchOffset:l,mismatchLength:c,start:n,end:r}}(r,n),o=a.css,s=a.mismatchOffset,l=a.mismatchLength,c=a.start,u=a.end;return i.rawMessage=e,i.syntax=t?FM(t):"<generic>",i.css=o,i.mismatchOffset=s,i.mismatchLength=l,i.message=e+"\n  syntax: "+i.syntax+"\n   value: "+(o||"<empty string>")+"\n  --------"+new Array(i.mismatchOffset+1).join("-")+"^",Object.assign(i,c),i.loc={source:n&&n.loc&&n.loc.source||"<unknown>",start:c,end:u},i},qM=new Map,KM=new Map,YM=function(e){if(qM.has(e))return qM.get(e);var t=e.toLowerCase(),n=qM.get(t);if(void 0===n){var r=QM(t,0),i=r?"":XM(t,0);n=Object.freeze({basename:t.substr(i.length),name:t,prefix:i,vendor:i,custom:r})}return qM.set(e,n),n},GM=function(e){if(KM.has(e))return KM.get(e);var t=e,n=e[0];"/"===n?n="/"===e[1]?"//":"/":"_"!==n&&"*"!==n&&"$"!==n&&"#"!==n&&"+"!==n&&"&"!==n&&(n="");var r=QM(t,n.length);if(!r&&(t=t.toLowerCase(),KM.has(t))){var i=KM.get(t);return KM.set(e,i),i}var a=r?"":XM(t,n.length),o=t.substr(0,n.length+a.length),s=Object.freeze({basename:t.substr(o.length),name:t.substr(n.length),hack:n,vendor:a,prefix:o,custom:r});return KM.set(e,s),s};function QM(e,t){return t=t||0,e.length-t>=2&&45===e.charCodeAt(t)&&45===e.charCodeAt(t+1)}function XM(e,t){if(t=t||0,e.length-t>=3&&45===e.charCodeAt(t)&&45!==e.charCodeAt(t+1)){var n=e.indexOf("-",t+2);if(-1!==n)return e.substring(t,n+1)}return""}var $M=["initial","inherit","unset","revert","revert-layer"],JM=45,eI=!0;function tI(e,t){return null!==e&&9===e.type&&e.value.charCodeAt(0)===t}function nI(e,t,n){for(;null!==e&&(e.type===fP||e.type===CP);)e=n(++t);return t}function rI(e,t,n,r){if(!e)return 0;var i=e.value.charCodeAt(t);if(43===i||i===JM){if(n)return 0;t++}for(;t<e.value.length;t++)if(!jP(e.value.charCodeAt(t)))return 0;return r+1}function iI(e,t,n){var r=!1,i=nI(e,t,n);if(null===(e=n(i)))return t;if(e.type!==uP){if(!tI(e,43)&&!tI(e,JM))return t;if(r=!0,i=nI(n(++i),i,n),null===(e=n(i))||e.type!==uP)return 0}if(!r){var a=e.value.charCodeAt(0);if(43!==a&&a!==JM)return 0}return rI(e,r?0:1,r,i)}function aI(e,t){return null!==e&&9===e.type&&e.value.charCodeAt(0)===t}function oI(e,t,n){for(var r=0,i=t;i<e.value.length;i++){var a=e.value.charCodeAt(i);if(45===a&&n&&0!==r)return oI(e,t+r+1,!1),6;if(!SP(a))return 0;if(++r>6)return 0}return r}function sI(e,t,n){if(!e)return 0;for(;aI(n(t),63);){if(++e>6)return 0;t++}return t}var lI=["calc(","-moz-calc(","-webkit-calc("],cI=new Map([[2,wP],[xP,wP],[yP,bP],[kP,_P]]);function uI(e,t){return t<e.length?e.charCodeAt(t):0}function dI(e,t){return HP(e,0,e.length,t)}function pI(e,t){for(var n=0;n<t.length;n++)if(dI(e,t[n]))return!0;return!1}function fI(e,t){return t===e.length-2&&(92===uI(e,t)&&jP(uI(e,t+1)))}function hI(e,t,n){if(e&&"Range"===e.type){var r=Number(void 0!==n&&n!==t.length?t.substr(0,n):t);if(isNaN(r))return!0;if(null!==e.min&&r<e.min&&"string"!==typeof e.min)return!0;if(null!==e.max&&r>e.max&&"string"!==typeof e.max)return!0}return!1}function gI(e){return function(t,n,r){return null===t?0:2===t.type&&pI(t.value,lI)?function(e,t){var n=0,r=[],i=0;e:do{switch(e.type){case _P:case wP:case bP:if(e.type!==n)break e;if(n=r.pop(),0===r.length){i++;break e}break;case 2:case xP:case yP:case kP:r.push(n),n=cI.get(e.type)}i++}while(e=t(i));return i}(t,n):e(t,n,r)}}function mI(e){return function(t){return null===t||t.type!==e?0:1}}function vI(e){return null===e||1!==e.type||45!==uI(e.value,0)||45!==uI(e.value,1)?0:1}function yI(e){return e&&(e=new Set(e)),function(t,n,r){if(null===t||t.type!==pP)return 0;var i=GP(t.value,0);if(null!==e){var a=t.value.indexOf("\\",i),o=-1!==a&&fI(t.value,a)?t.value.substring(i,a):t.value.substr(i);if(!1===e.has(o.toLowerCase()))return 0}return hI(r,t.value,i)?0:1}}function bI(e){return"function"!==typeof e&&(e=function(){return 0}),function(t,n,r){return null!==t&&t.type===uP&&0===Number(t.value)?1:e(t,n,r)}}var xI={"ident-token":mI(1),"function-token":mI(2),"at-keyword-token":mI(3),"hash-token":mI(4),"string-token":mI(5),"bad-string-token":mI(6),"url-token":mI(7),"bad-url-token":mI(8),"delim-token":mI(9),"number-token":mI(uP),"percentage-token":mI(dP),"dimension-token":mI(pP),"whitespace-token":mI(fP),"CDO-token":mI(14),"CDC-token":mI(hP),"colon-token":mI(gP),"semicolon-token":mI(mP),"comma-token":mI(vP),"[-token":mI(yP),"]-token":mI(bP),"(-token":mI(xP),")-token":mI(wP),"{-token":mI(kP),"}-token":mI(_P)},wI={string:mI(5),ident:mI(1),percentage:gI((function(e,t,n){return null===e||e.type!==dP||hI(n,e.value,e.value.length-1)?0:1})),zero:bI(),number:gI((function(e,t,n){if(null===e)return 0;var r=GP(e.value,0);return r===e.value.length||fI(e.value,r)?hI(n,e.value,r)?0:1:0})),integer:gI((function(e,t,n){if(null===e||e.type!==uP)return 0;for(var r=43===uI(e.value,0)||45===uI(e.value,0)?1:0;r<e.value.length;r++)if(!jP(uI(e.value,r)))return 0;return hI(n,e.value,r)?0:1})),"custom-ident":function(e){if(null===e||1!==e.type)return 0;var t=e.value.toLowerCase();return pI(t,$M)||dI(t,"default")?0:1},"dashed-ident":vI,"custom-property-name":function(e){return vI(e)?"--"===e.value?0:1:0},"hex-color":function(e){if(null===e||4!==e.type)return 0;var t=e.value.length;if(4!==t&&5!==t&&7!==t&&9!==t)return 0;for(var n=1;n<t;n++)if(!SP(uI(e.value,n)))return 0;return 1},"id-selector":function(e){return null===e||4!==e.type?0:MP(uI(e.value,1),uI(e.value,2),uI(e.value,3))?1:0},"an-plus-b":function(e,t){var n=0;if(!e)return 0;if(e.type===uP)return rI(e,0,false,n);if(1===e.type&&e.value.charCodeAt(0)===JM){if(!UP(e.value,1,110))return 0;switch(e.value.length){case 2:return iI(t(++n),n,t);case 3:return e.value.charCodeAt(2)!==JM?0:(n=nI(t(++n),n,t),rI(e=t(n),0,eI,n));default:return e.value.charCodeAt(2)!==JM?0:rI(e,3,eI,n)}}else if(1===e.type||tI(e,43)&&1===t(n+1).type){if(1!==e.type&&(e=t(++n)),null===e||!UP(e.value,0,110))return 0;switch(e.value.length){case 1:return iI(t(++n),n,t);case 2:return e.value.charCodeAt(1)!==JM?0:(n=nI(t(++n),n,t),rI(e=t(n),0,eI,n));default:return e.value.charCodeAt(1)!==JM?0:rI(e,2,eI,n)}}else if(e.type===pP){for(var r=e.value.charCodeAt(0),i=43===r||r===JM?1:0,a=i;a<e.value.length&&jP(e.value.charCodeAt(a));a++);return a===i?0:UP(e.value,a,110)?a+1===e.value.length?iI(t(++n),n,t):e.value.charCodeAt(a+1)!==JM?0:a+2===e.value.length?(n=nI(t(++n),n,t),rI(e=t(n),0,eI,n)):rI(e,a+2,eI,n):0}return 0},urange:function(e,t){var n=0;if(null===e||1!==e.type||!UP(e.value,0,117))return 0;if(null===(e=t(++n)))return 0;if(aI(e,43))return null===(e=t(++n))?0:1===e.type?sI(oI(e,0,!0),++n,t):aI(e,63)?sI(1,++n,t):0;if(e.type===uP){var r=oI(e,1,!0);return 0===r?0:null===(e=t(++n))?n:e.type===pP||e.type===uP?function(e,t){return e.value.charCodeAt(0)===t}(e,45)&&oI(e,1,!1)?n+1:0:sI(r,n,t)}return e.type===pP?sI(oI(e,1,!0),++n,t):0},"declaration-value":function(e,t){if(!e)return 0;var n=0,r=[],i=0;e:do{switch(e.type){case 6:case 8:break e;case _P:case wP:case bP:if(e.type!==n)break e;n=r.pop();break;case mP:if(0===n)break e;break;case 9:if(0===n&&"!"===e.value)break e;break;case 2:case xP:case yP:case kP:r.push(n),n=cI.get(e.type)}i++}while(e=t(i));return i},"any-value":function(e,t){if(!e)return 0;var n=0,r=[],i=0;e:do{switch(e.type){case 6:case 8:break e;case _P:case wP:case bP:if(e.type!==n)break e;n=r.pop();break;case 2:case xP:case yP:case kP:r.push(n),n=cI.get(e.type)}i++}while(e=t(i));return i}};function kI(e){return(0,kn.Z)((0,kn.Z)((0,kn.Z)({},xI),wI),function(e){var t=e||{},n=t.angle,r=t.decibel,i=t.frequency,a=t.flex,o=t.length,s=t.resolution,l=t.semitones,c=t.time;return{dimension:gI(yI(null)),angle:gI(yI(n)),decibel:gI(yI(r)),frequency:gI(yI(i)),flex:gI(yI(a)),length:gI(bI(yI(o))),resolution:gI(yI(s)),semitones:gI(yI(l)),time:gI(yI(c))}}(e))}var _I=["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],CI=["deg","grad","rad","turn"],jI=["s","ms"],SI=["hz","khz"],ZI=["dpi","dpcm","dppx","x"],NI=["fr"],EI=["db"],OI=["st"];function AI(e,t,n){return Object.assign(uM("SyntaxError",e),{input:t,offset:n,rawMessage:e,message:e+"\n  "+t+"\n--"+new Array((n||t.length)+1).join("-")+"^"})}var TI=new Uint8Array(128).map((function(e,t){return/[a-zA-Z0-9\-]/.test(String.fromCharCode(t))?1:0})),PI=function(){function e(t){(0,Za.Z)(this,e),this.str=t,this.pos=0}return(0,Sa.Z)(e,[{key:"charCodeAt",value:function(e){return e<this.str.length?this.str.charCodeAt(e):0}},{key:"charCode",value:function(){return this.charCodeAt(this.pos)}},{key:"isNameCharCode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.charCode();return e<128&&1===TI[e]}},{key:"nextCharCode",value:function(){return this.charCodeAt(this.pos+1)}},{key:"nextNonWsCode",value:function(e){return this.charCodeAt(this.findWsEnd(e))}},{key:"skipWs",value:function(){this.pos=this.findWsEnd(this.pos)}},{key:"findWsEnd",value:function(e){for(;e<this.str.length;e++){var t=this.str.charCodeAt(e);if(13!==t&&10!==t&&12!==t&&32!==t&&9!==t)break}return e}},{key:"substringToPos",value:function(e){return this.str.substring(this.pos,this.pos=e)}},{key:"eat",value:function(e){this.charCode()!==e&&this.error("Expect `"+String.fromCharCode(e)+"`"),this.pos++}},{key:"peek",value:function(){return this.pos<this.str.length?this.str.charAt(this.pos++):""}},{key:"error",value:function(e){throw new AI(e,this.str,this.pos)}},{key:"scanSpaces",value:function(){return this.substringToPos(this.findWsEnd(this.pos))}},{key:"scanWord",value:function(){for(var e=this.pos;e<this.str.length;e++){var t=this.str.charCodeAt(e);if(t>=128||0===TI[t])break}return this.pos===e&&this.error("Expect a keyword"),this.substringToPos(e)}},{key:"scanNumber",value:function(){for(var e=this.pos;e<this.str.length;e++){var t=this.str.charCodeAt(e);if(t<48||t>57)break}return this.pos===e&&this.error("Expect a number"),this.substringToPos(e)}},{key:"scanString",value:function(){var e=this.str.indexOf("'",this.pos+1);return-1===e&&(this.pos=this.str.length,this.error("Expect an apostrophe")),this.substringToPos(e+1)}}]),e}(),MI=123,II={" ":1,"&&":2,"||":3,"|":4};function DI(e){var t,n=null;return e.eat(MI),e.skipWs(),t=e.scanNumber(e),e.skipWs(),44===e.charCode()?(e.pos++,e.skipWs(),125!==e.charCode()&&(n=e.scanNumber(e),e.skipWs())):n=t,e.eat(125),{min:Number(t),max:n?Number(n):0}}function LI(e,t){var n=function(e){var t=null,n=!1;switch(e.charCode()){case 42:e.pos++,t={min:0,max:0};break;case 43:e.pos++,t={min:1,max:0};break;case 63:e.pos++,t={min:0,max:1};break;case 35:e.pos++,n=!0,e.charCode()===MI?t=DI(e):63===e.charCode()?(e.pos++,t={min:0,max:0}):t={min:1,max:0};break;case MI:t=DI(e);break;default:return null}return{type:"Multiplier",comma:n,min:t.min,max:t.max,term:null}}(e);return null!==n?(n.term=t,35===e.charCode()&&43===e.charCodeAt(e.pos-1)?LI(e,n):n):t}function RI(e){var t=e.peek();return""===t?null:LI(e,{type:"Token",value:t})}function BI(e){var t,n=null;if(e.eat(60),"boolean-expr"===(t=e.scanWord())){e.eat(91);var r=zI(e,93);return e.eat(93),e.eat(62),LI(e,{type:"Boolean",term:1===r.terms.length?r.terms[0]:r})}return 40===e.charCode()&&41===e.nextCharCode()&&(e.pos+=2,t+="()"),91===e.charCodeAt(e.findWsEnd(e.pos))&&(e.skipWs(),n=function(e){var t=null,n=null,r=1;return e.eat(91),45===e.charCode()&&(e.peek(),r=-1),-1==r&&8734===e.charCode()?e.peek():(t=r*Number(e.scanNumber(e)),e.isNameCharCode()&&(t+=e.scanWord())),e.skipWs(),e.eat(44),e.skipWs(),8734===e.charCode()?e.peek():(r=1,45===e.charCode()&&(e.peek(),r=-1),n=r*Number(e.scanNumber(e)),e.isNameCharCode()&&(n+=e.scanWord())),e.eat(93),{type:"Range",min:t,max:n}}(e)),e.eat(62),LI(e,{type:"Type",name:t,opts:n})}function FI(e,t){function n(e,t){return{type:"Group",terms:e,combinator:t,disallowEmpty:!1,explicit:!1}}var r;for(t=Object.keys(t).sort((function(e,t){return II[e]-II[t]}));t.length>0;){r=t.shift();for(var i=0,a=0;i<e.length;i++){var o=e[i];"Combinator"===o.type&&(o.value===r?(-1===a&&(a=i-1),e.splice(i,1),i--):(-1!==a&&i-a>1&&(e.splice(a,i-a,n(e.slice(a,i),r)),i=a+1),a=-1))}-1!==a&&t.length&&e.splice(a,i-a,n(e.slice(a,i),r))}return r}function zI(e,t){for(var n,r=Object.create(null),i=[],a=null,o=e.pos;e.charCode()!==t&&(n=VI(e,t));)"Spaces"!==n.type&&("Combinator"===n.type?(null!==a&&"Combinator"!==a.type||(e.pos=o,e.error("Unexpected combinator")),r[n.value]=!0):null!==a&&"Combinator"!==a.type&&(r[" "]=!0,i.push({type:"Combinator",value:" "})),i.push(n),a=n,o=e.pos);return null!==a&&"Combinator"===a.type&&(e.pos-=o,e.error("Unexpected combinator")),{type:"Group",terms:i,combinator:FI(i,r)||" ",disallowEmpty:!1,explicit:!1}}function VI(e,t){var n=e.charCode();switch(n){case 93:break;case 91:return LI(e,function(e,t){var n;return e.eat(91),n=zI(e,t),e.eat(93),n.explicit=!0,33===e.charCode()&&(e.pos++,n.disallowEmpty=!0),n}(e,t));case 60:return 39===e.nextCharCode()?function(e){var t;return e.eat(60),e.eat(39),t=e.scanWord(),e.eat(39),e.eat(62),LI(e,{type:"Property",name:t})}(e):BI(e);case 124:return{type:"Combinator",value:e.substringToPos(e.pos+(124===e.nextCharCode()?2:1))};case 38:return e.pos++,e.eat(38),{type:"Combinator",value:"&&"};case 44:return e.pos++,{type:"Comma"};case 39:return LI(e,{type:"String",value:e.scanString()});case 32:case 9:case 10:case 13:case 12:return{type:"Spaces",value:e.scanSpaces()};case 64:return n=e.nextCharCode(),e.isNameCharCode(n)?(e.pos++,{type:"AtKeyword",name:e.scanWord()}):RI(e);case 42:case 43:case 63:case 35:case 33:break;case MI:if((n=e.nextCharCode())<48||n>57)return RI(e);break;default:return e.isNameCharCode(n)?function(e){var t=e.scanWord();return 40===e.charCode()?(e.pos++,{type:"Function",name:t}):LI(e,{type:"Keyword",name:t})}(e):RI(e)}}function UI(e){var t=new PI(e),n=zI(t);return t.pos!==e.length&&t.error("Unexpected input"),1===n.terms.length&&"Group"===n.terms[0].type?n.terms[0]:n}var HI=function(){};function WI(e){return"function"===typeof e?e:HI}var qI={decorator:function(e){var t=[],n=null;return(0,kn.Z)((0,kn.Z)({},e),{},{node:function(t){var r=n;n=t,e.node.call(this,t),n=r},emit:function(e,r,i){t.push({type:r,value:e,node:i?null:n})},result:function(){return t}})}};function KI(e,t){return"string"===typeof e?function(e){var t=[];return sM(e,(function(n,r,i){return t.push({type:n,value:e.slice(r,i),node:null})})),t}(e):t.generate(e,qI)}var YI={type:"Match"},GI={type:"Mismatch"},QI={type:"DisallowEmpty"};function XI(e,t,n){return t===YI&&n===GI||e===YI&&t===YI&&n===YI?e:("If"===e.type&&e.else===GI&&t===YI&&(t=e.then,e=e.match),{type:"If",match:e,then:t,else:n})}function $I(e){return e.length>2&&40===e.charCodeAt(e.length-2)&&41===e.charCodeAt(e.length-1)}function JI(e){return"Keyword"===e.type||"AtKeyword"===e.type||"Function"===e.type||"Type"===e.type&&$I(e.name)}function eD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"Group",terms:e,combinator:t,disallowEmpty:!1,explicit:n}}function tD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!n.has(e))switch(n.add(e),e.type){case"If":e.match=tD(e.match,t,n),e.then=tD(e.then,t,n),e.else=tD(e.else,t,n);break;case"Type":return t[e.name]||e}return e}function nD(e,t,n){switch(e){case" ":for(var r=YI,i=t.length-1;i>=0;i--){r=XI(t[i],r,GI)}return r;case"|":for(var a=GI,o=null,s=t.length-1;s>=0;s--){var l=t[s];if(JI(l)&&(null===o&&s>0&&JI(t[s-1])&&(a=XI({type:"Enum",map:o=Object.create(null)},YI,a)),null!==o)){var c=($I(l.name)?l.name.slice(0,-1):l.name).toLowerCase();if(c in o===!1){o[c]=l;continue}}o=null,a=XI(l,YI,a)}return a;case"&&":if(t.length>5)return{type:"MatchOnce",terms:t,all:!0};for(var u=GI,d=function(n){var r=t[n],i=void 0;i=t.length>1?nD(e,t.filter((function(e){return e!==r})),!1):YI,u=XI(r,i,u)},p=t.length-1;p>=0;p--)d(p);return u;case"||":if(t.length>5)return{type:"MatchOnce",terms:t,all:!1};for(var f=n?YI:GI,h=function(n){var r=t[n],i=void 0;i=t.length>1?nD(e,t.filter((function(e){return e!==r})),!0):YI,f=XI(r,i,f)},g=t.length-1;g>=0;g--)h(g);return f}}function rD(e){if("function"===typeof e)return{type:"Generic",fn:e};switch(e.type){case"Group":var t=nD(e.combinator,e.terms.map(rD),!1);return e.disallowEmpty&&(t=XI(t,QI,GI)),t;case"Multiplier":return function(e){var t=YI,n=rD(e.term);if(0===e.max)n=XI(n,QI,GI),(t=XI(n,null,GI)).then=XI(YI,YI,t),e.comma&&(t.then.else=XI({type:"Comma",syntax:e},t,GI));else for(var r=e.min||1;r<=e.max;r++)e.comma&&t!==YI&&(t=XI({type:"Comma",syntax:e},t,GI)),t=XI(n,XI(YI,YI,t),GI);if(0===e.min)t=XI(YI,YI,t);else for(var i=0;i<e.min-1;i++)e.comma&&t!==YI&&(t=XI({type:"Comma",syntax:e},t,GI)),t=XI(n,t,GI);return t}(e);case"Boolean":var n=rD(e.term),r=rD(eD([eD([{type:"Keyword",name:"not"},{type:"Type",name:"!boolean-group"}]),eD([{type:"Type",name:"!boolean-group"},eD([{type:"Multiplier",comma:!1,min:0,max:0,term:eD([{type:"Keyword",name:"and"},{type:"Type",name:"!boolean-group"}])},{type:"Multiplier",comma:!1,min:0,max:0,term:eD([{type:"Keyword",name:"or"},{type:"Type",name:"!boolean-group"}])}],"|")])],"|")),i=rD(eD([{type:"Type",name:"!term"},eD([{type:"Token",value:"("},{type:"Type",name:"!self"},{type:"Token",value:")"}]),{type:"Type",name:"general-enclosed"}],"|"));return tD(i,{"!term":n,"!self":r}),tD(r,{"!boolean-group":i}),r;case"Type":case"Property":return{type:e.type,name:e.name,syntax:e};case"Keyword":return{type:e.type,name:e.name.toLowerCase(),syntax:e};case"AtKeyword":return{type:e.type,name:"@"+e.name.toLowerCase(),syntax:e};case"Function":return{type:e.type,name:e.name.toLowerCase()+"(",syntax:e};case"String":return 3===e.value.length?{type:"Token",value:e.value.charAt(1),syntax:e}:{type:e.type,value:e.value.substr(1,e.value.length-2).replace(/\\'/g,"'"),syntax:e};case"Token":return{type:e.type,value:e.value,syntax:e};case"Comma":return{type:e.type,syntax:e};default:throw new Error("Unknown node type:",e.type)}}function iD(e,t){return"string"===typeof e&&(e=UI(e)),{type:"MatchGraph",match:rD(e),syntax:t||null,source:e}}var aD=Object.prototype.hasOwnProperty,oD="Match";function sD(e){for(var t=null,n=null,r=e;null!==r;)n=r.prev,r.prev=t,t=r,r=n;return t}function lD(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=t.charCodeAt(n),i=e.charCodeAt(n);if(i>=65&&i<=90&&(i|=32),i!==r)return!1}return!0}function cD(e){return null===e||(e.type===vP||2===e.type||e.type===xP||e.type===yP||e.type===kP||function(e){return 9===e.type&&"?"!==e.value}(e))}function uD(e){return null===e||(e.type===wP||e.type===bP||e.type===_P||9===e.type&&"/"===e.value)}function dD(e,t,n){function r(){do{v++,m=v<e.length?e[v]:null}while(null!==m&&(m.type===fP||m.type===CP))}function i(t){var n=v+t;return n<e.length?e[n]:null}function a(e,t){return{nextState:e,matchStack:b,syntaxStack:u,thenStack:d,tokenIndex:v,prev:t}}function o(e){d={nextState:e,matchStack:b,syntaxStack:u,prev:d}}function s(e){p=a(e,p)}function l(){b={type:1,syntax:t.syntax,token:m,prev:b},r(),f=null,v>y&&(y=v)}function c(){b=2===b.type?b.prev:{type:3,syntax:u.syntax,token:b.token,prev:b},u=u.prev}var u=null,d=null,p=null,f=null,h=0,g=null,m=null,v=-1,y=0,b={type:0,syntax:null,token:null,prev:null};for(r();null===g&&++h<15e3;)switch(t.type){case"Match":if(null===d){if(null!==m&&(v!==e.length-1||"\\0"!==m.value&&"\\9"!==m.value)){t=GI;break}g=oD;break}if((t=d.nextState)===QI){if(d.matchStack===b){t=GI;break}t=YI}for(;d.syntaxStack!==u;)c();d=d.prev;break;case"Mismatch":if(null!==f&&!1!==f)(null===p||v>p.tokenIndex)&&(p=f,f=!1);else if(null===p){g="Mismatch";break}t=p.nextState,d=p.thenStack,u=p.syntaxStack,b=p.matchStack,v=p.tokenIndex,m=v<e.length?e[v]:null,p=p.prev;break;case"MatchGraph":t=t.match;break;case"If":t.else!==GI&&s(t.else),t.then!==YI&&o(t.then),t=t.match;break;case"MatchOnce":t={type:"MatchOnceBuffer",syntax:t,index:0,mask:0};break;case"MatchOnceBuffer":var x=t.syntax.terms;if(t.index===x.length){if(0===t.mask||t.syntax.all){t=GI;break}t=YI;break}if(t.mask===(1<<x.length)-1){t=YI;break}for(;t.index<x.length;t.index++){var w=1<<t.index;if(0===(t.mask&w)){s(t),o({type:"AddMatchOnce",syntax:t.syntax,mask:t.mask|w}),t=x[t.index++];break}}break;case"AddMatchOnce":t={type:"MatchOnceBuffer",syntax:t.syntax,index:0,mask:t.mask};break;case"Enum":if(null!==m){var k=m.value.toLowerCase();if(-1!==k.indexOf("\\")&&(k=k.replace(/\\[09].*$/,"")),aD.call(t.map,k)){t=t.map[k];break}}t=GI;break;case"Generic":var _=null!==u?u.opts:null,C=v+Math.floor(t.fn(m,i,_));if(!isNaN(C)&&C>v){for(;v<C;)l();t=YI}else t=GI;break;case"Type":case"Property":var j="Type"===t.type?"types":"properties",S=aD.call(n,j)?n[j][t.name]:null;if(!S||!S.match)throw new Error("Bad syntax reference: "+("Type"===t.type?"<"+t.name+">":"<'"+t.name+"'>"));if(!1!==f&&null!==m&&"Type"===t.type)if("custom-ident"===t.name&&1===m.type||"length"===t.name&&"0"===m.value){null===f&&(f=a(t,p)),t=GI;break}u={syntax:t.syntax,opts:t.syntax.opts||null!==u&&u.opts||null,prev:u},b={type:2,syntax:t.syntax,token:b.token,prev:b},t=S.matchRef||S.match;break;case"Keyword":var Z=t.name;if(null!==m){var N=m.value;if(-1!==N.indexOf("\\")&&(N=N.replace(/\\[09].*$/,"")),lD(N,Z)){l(),t=YI;break}}t=GI;break;case"AtKeyword":case"Function":if(null!==m&&lD(m.value,t.name)){l(),t=YI;break}t=GI;break;case"Token":if(null!==m&&m.value===t.value){l(),t=YI;break}t=GI;break;case"Comma":null!==m&&m.type===vP?cD(b.token)?t=GI:(l(),t=uD(m)?GI:YI):t=cD(b.token)||uD(m)?YI:GI;break;case"String":for(var E="",O=v;O<e.length&&E.length<t.value.length;O++)E+=e[O].value;if(lD(E,t.value)){for(;v<O;)l();t=YI}else t=GI;break;default:throw new Error("Unknown node type: "+t.type)}switch(h,g){case null:console.warn("[csstree-match] BREAK after 15000 iterations"),g="Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)",b=null;break;case oD:for(;null!==u;)c();break;default:b=null}return{tokens:e,reason:g,iterations:h,match:b,longestMatch:y}}function pD(e,t,n){var r=dD(e,t,n||{});if(null===r.match)return r;var i=r.match,a=r.match={syntax:t.syntax||null,match:[]},o=[a];for(i=sD(i).prev;null!==i;){switch(i.type){case 2:a.match.push(a={syntax:i.syntax,match:[]}),o.push(a);break;case 3:o.pop(),a=o[o.length-1];break;default:a.match.push({syntax:i.syntax||null,token:i.token.value,node:i.token.node})}i=i.prev}return r}function fD(e){function t(e){return null!==e&&("Type"===e.type||"Property"===e.type||"Keyword"===e.type)}var n=null;return null!==this.matched&&function r(i){if(Array.isArray(i.match)){for(var a=0;a<i.match.length;a++)if(r(i.match[a]))return t(i.syntax)&&n.unshift(i.syntax),!0}else if(i.node===e)return n=t(i.syntax)?[i.syntax]:[],!0;return!1}(this.matched),n}function hD(e,t){return vD(this,e,(function(e){return"Type"===e.type&&e.name===t}))}function gD(e,t){return vD(this,e,(function(e){return"Property"===e.type&&e.name===t}))}function mD(e){return vD(this,e,(function(e){return"Keyword"===e.type}))}function vD(e,t,n){var r=fD.call(e,t);return null!==r&&r.some(n)}function yD(e){return"node"in e?e.node:yD(e.match[0])}function bD(e){return"node"in e?e.node:bD(e.match[e.match.length-1])}function xD(e,t,n,r,i){var a=[];return null!==n.matched&&function n(o){if(null!==o.syntax&&o.syntax.type===r&&o.syntax.name===i){var s=yD(o),l=bD(o);e.syntax.walk(t,(function(e,t,n){if(e===s){var r=new cM;do{if(r.appendData(t.data),t.data===l)break;t=t.next}while(null!==t);a.push({parent:n,nodes:r})}}))}Array.isArray(o.match)&&o.match.forEach(n)}(n.matched),a}var wD=Object.prototype.hasOwnProperty;function kD(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e&&e>=0}function _D(e){return Boolean(e)&&kD(e.offset)&&kD(e.line)&&kD(e.column)}function CD(e,t){return function(n,r){if(!n||n.constructor!==Object)return r(n,"Type of node should be an Object");for(var i in n){var a=!0;if(!1!==wD.call(n,i)){if("type"===i)n.type!==e&&r(n,"Wrong node type `"+n.type+"`, expected `"+e+"`");else if("loc"===i){if(null===n.loc)continue;if(n.loc&&n.loc.constructor===Object)if("string"!==typeof n.loc.source)i+=".source";else if(_D(n.loc.start)){if(_D(n.loc.end))continue;i+=".end"}else i+=".start";a=!1}else if(t.hasOwnProperty(i)){a=!1;for(var o=0;!a&&o<t[i].length;o++){var s=t[i][o];switch(s){case String:a="string"===typeof n[i];break;case Boolean:a="boolean"===typeof n[i];break;case null:a=null===n[i];break;default:"string"===typeof s?a=n[i]&&n[i].type===s:Array.isArray(s)&&(a=n[i]instanceof cM)}}}else r(n,"Unknown field `"+i+"` for "+e+" node type");a||r(n,"Bad value for `"+e+"."+i+"`")}}for(var l in t)wD.call(t,l)&&!1===wD.call(n,l)&&r(n,"Field `"+e+"."+l+"` is missed")}}function jD(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];if(i===String||i===Boolean)n.push(i.name.toLowerCase());else if(null===i)n.push("null");else if("string"===typeof i)n.push(i);else{if(!Array.isArray(i))throw new Error("Wrong value `"+i+"` in `"+t+"` structure definition");n.push("List<"+(jD(i,t)||"any")+">")}}return n.join(" | ")}function SD(e,t){var n=t.structure,r={type:String,loc:!0},i={type:'"'+e+'"'};for(var a in n)if(!1!==wD.call(n,a)){var o=r[a]=Array.isArray(n[a])?n[a].slice():[n[a]];i[a]=jD(o,e+"."+a)}return{docs:i,check:CD(e,r)}}function ZD(e,t,n){var r={};for(var i in e)e[i].syntax&&(r[i]=n?e[i].syntax:FM(e[i].syntax,{compact:t}));return r}function ND(e,t,n){for(var r={},i=0,a=Object.entries(e);i<a.length;i++){var o=(0,xe.Z)(a[i],2),s=o[0],l=o[1];r[s]={prelude:l.prelude&&(n?l.prelude.syntax:FM(l.prelude.syntax,{compact:t})),descriptors:l.descriptors&&ZD(l.descriptors,t,n)}}return r}function ED(e){var t=e.terms[0];return!1===e.explicit&&1===e.terms.length&&"Multiplier"===t.type&&!0===t.comma}function OD(e,t,n){return(0,kn.Z)({matched:e,iterations:n,error:t},a)}function AD(e,t,n,r){var i,a=KI(n,e.syntax);return function(e){for(var t=0;t<e.length;t++)if("var("===e[t].value.toLowerCase())return!0;return!1}(a)?OD(null,new Error("Matching for a tree with var() is not supported")):(r&&(i=pD(a,e.cssWideKeywordsSyntax,e)),r&&i.match||(i=pD(a,t.match,e)).match?OD(i.match,null,i.iterations):OD(null,new WM(i.reason,t.syntax,n,i),i.iterations))}var TD=function(){function e(t,n,r){if((0,Za.Z)(this,e),this.cssWideKeywords=$M,this.syntax=n,this.generic=!1,this.units=(0,kn.Z)({},i),this.atrules=Object.create(null),this.properties=Object.create(null),this.types=Object.create(null),this.structure=r||function(e){var t={};if(e.node)for(var n in e.node)if(wD.call(e.node,n)){var r=e.node[n];if(!r.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");t[n]=SD(n,r)}return t}(t),t){if(t.cssWideKeywords&&(this.cssWideKeywords=t.cssWideKeywords),t.units)for(var a=0,o=Object.keys(i);a<o.length;a++){var s=o[a];Array.isArray(t.units[s])&&(this.units[s]=t.units[s])}if(t.types)for(var l=0,c=Object.entries(t.types);l<c.length;l++){var u=(0,xe.Z)(c[l],2),d=u[0],p=u[1];this.addType_(d,p)}if(t.generic){this.generic=!0;for(var f=0,h=Object.entries(kI(this.units));f<h.length;f++){var g=(0,xe.Z)(h[f],2),m=g[0],v=g[1];this.addType_(m,v)}}if(t.atrules)for(var y=0,b=Object.entries(t.atrules);y<b.length;y++){var x=(0,xe.Z)(b[y],2),w=x[0],k=x[1];this.addAtrule_(w,k)}if(t.properties)for(var _=0,C=Object.entries(t.properties);_<C.length;_++){var j=(0,xe.Z)(C[_],2),S=j[0],Z=j[1];this.addProperty_(S,Z)}}this.cssWideKeywordsSyntax=iD(this.cssWideKeywords.join(" |  "))}return(0,Sa.Z)(e,[{key:"checkStructure",value:function(e){function t(e,t){r.push({node:e,message:t})}var n=this.structure,r=[];return this.syntax.walk(e,(function(e){n.hasOwnProperty(e.type)?n[e.type].check(e,t):t(e,"Unknown node type `"+e.type+"`")})),!!r.length&&r}},{key:"createDescriptor",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i={type:t,name:n},a={type:t,name:n,parent:r,serializable:"string"===typeof e||e&&"string"===typeof e.type,syntax:null,match:null,matchRef:null};return"function"===typeof e?a.match=iD(e,i):("string"===typeof e?Object.defineProperty(a,"syntax",{get:function(){return Object.defineProperty(a,"syntax",{value:UI(e)}),a.syntax}}):a.syntax=e,Object.defineProperty(a,"match",{get:function(){return Object.defineProperty(a,"match",{value:iD(a.syntax,i)}),a.match}}),"Property"===t&&Object.defineProperty(a,"matchRef",{get:function(){var e=a.syntax,t=ED(e)?iD((0,kn.Z)((0,kn.Z)({},e),{},{terms:[e.terms[0].term]}),i):null;return Object.defineProperty(a,"matchRef",{value:t}),t}})),a}},{key:"addAtrule_",value:function(e,t){var n=this;t&&(this.atrules[e]={type:"Atrule",name:e,prelude:t.prelude?this.createDescriptor(t.prelude,"AtrulePrelude",e):null,descriptors:t.descriptors?Object.keys(t.descriptors).reduce((function(r,i){return r[i]=n.createDescriptor(t.descriptors[i],"AtruleDescriptor",i,e),r}),Object.create(null)):null})}},{key:"addProperty_",value:function(e,t){t&&(this.properties[e]=this.createDescriptor(t,"Property",e))}},{key:"addType_",value:function(e,t){t&&(this.types[e]=this.createDescriptor(t,"Type",e))}},{key:"checkAtruleName",value:function(e){if(!this.getAtrule(e))return new HM("Unknown at-rule","@"+e)}},{key:"checkAtrulePrelude",value:function(e,t){var n=this.checkAtruleName(e);if(n)return n;var r=this.getAtrule(e);return!r.prelude&&t?new SyntaxError("At-rule `@"+e+"` should not contain a prelude"):!r.prelude||t||AD(this,r.prelude,"",!1).matched?void 0:new SyntaxError("At-rule `@"+e+"` should contain a prelude")}},{key:"checkAtruleDescriptorName",value:function(e,t){var n=this.checkAtruleName(e);if(n)return n;var r=this.getAtrule(e),i=YM(t);return r.descriptors?r.descriptors[i.name]||r.descriptors[i.basename]?void 0:new HM("Unknown at-rule descriptor",t):new SyntaxError("At-rule `@"+e+"` has no known descriptors")}},{key:"checkPropertyName",value:function(e){if(!this.getProperty(e))return new HM("Unknown property",e)}},{key:"matchAtrulePrelude",value:function(e,t){var n=this.checkAtrulePrelude(e,t);if(n)return OD(null,n);var r=this.getAtrule(e);return r.prelude?AD(this,r.prelude,t||"",!1):OD(null,null)}},{key:"matchAtruleDescriptor",value:function(e,t,n){var r=this.checkAtruleDescriptorName(e,t);if(r)return OD(null,r);var i=this.getAtrule(e),a=YM(t);return AD(this,i.descriptors[a.name]||i.descriptors[a.basename],n,!1)}},{key:"matchDeclaration",value:function(e){return"Declaration"!==e.type?OD(null,new Error("Not a Declaration node")):this.matchProperty(e.property,e.value)}},{key:"matchProperty",value:function(e,t){if(GM(e).custom)return OD(null,new Error("Lexer matching doesn't applicable for custom properties"));var n=this.checkPropertyName(e);return n?OD(null,n):AD(this,this.getProperty(e),t,!0)}},{key:"matchType",value:function(e,t){var n=this.getType(e);return n?AD(this,n,t,!1):OD(null,new HM("Unknown type",e))}},{key:"match",value:function(e,t){return"string"===typeof e||e&&e.type?("string"!==typeof e&&e.match||(e=this.createDescriptor(e,"Type","anonymous")),AD(this,e,t,!1)):OD(null,new HM("Bad syntax"))}},{key:"findValueFragments",value:function(e,t,n,r){return xD(this,t,this.matchProperty(e,t),n,r)}},{key:"findDeclarationValueFragments",value:function(e,t,n){return xD(this,e.value,this.matchDeclaration(e),t,n)}},{key:"findAllFragments",value:function(e,t,n){var r=this,i=[];return this.syntax.walk(e,{visit:"Declaration",enter:function(e){i.push.apply(i,r.findDeclarationValueFragments(e,t,n))}}),i}},{key:"getAtrule",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=YM(e),r=n.vendor&&t?this.atrules[n.name]||this.atrules[n.basename]:this.atrules[n.name];return r||null}},{key:"getAtrulePrelude",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getAtrule(e,t);return n&&n.prelude||null}},{key:"getAtruleDescriptor",value:function(e,t){return this.atrules.hasOwnProperty(e)&&this.atrules.declarators&&this.atrules[e].declarators[t]||null}},{key:"getProperty",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=GM(e),r=n.vendor&&t?this.properties[n.name]||this.properties[n.basename]:this.properties[n.name];return r||null}},{key:"getType",value:function(e){return hasOwnProperty.call(this.types,e)?this.types[e]:null}},{key:"validate",value:function(){function e(e,t){return t?"<".concat(e,">"):"<'".concat(e,"'>")}function t(a,o,s,l){if(s.has(o))return s.get(o);s.set(o,!1),null!==l.syntax&&function(e,t,n){var r=HI,i=HI;if("function"===typeof t?r=t:t&&(r=WI(t.enter),i=WI(t.leave)),r===HI&&i===HI)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");!function e(t){switch(r.call(n,t),t.type){case"Group":t.terms.forEach(e);break;case"Multiplier":case"Boolean":e(t.term);break;case"Type":case"Property":case"Keyword":case"AtKeyword":case"Function":case"String":case"Token":case"Comma":break;default:throw new Error("Unknown type: "+t.type)}i.call(n,t)}(e)}(l.syntax,(function(l){if("Type"===l.type||"Property"===l.type){var c="Type"===l.type?a.types:a.properties,u="Type"===l.type?r:i;hasOwnProperty.call(c,l.name)?t(a,l.name,u,c[l.name])&&(n.push("".concat(e(o,s===r)," used broken syntax definition ").concat(e(l.name,"Type"===l.type))),s.set(o,!0)):(n.push("".concat(e(o,s===r)," used missed syntax definition ").concat(e(l.name,"Type"===l.type))),s.set(o,!0))}}),this)}var n=[],r=new Map,i=new Map;for(var a in this.types)t(this,a,r,this.types[a]);for(var o in this.properties)t(this,o,i,this.properties[o]);var s=(0,we.Z)(r.keys()).filter((function(e){return r.get(e)})),l=(0,we.Z)(i.keys()).filter((function(e){return i.get(e)}));return s.length||l.length?{errors:n,types:s,properties:l}:null}},{key:"dump",value:function(e,t){return{generic:this.generic,cssWideKeywords:this.cssWideKeywords,units:this.units,types:ZD(this.types,!t,e),properties:ZD(this.properties,!t,e),atrules:ND(this.atrules,!t,e)}}},{key:"toString",value:function(){return JSON.stringify(this.dump())}}]),e}();function PD(e,t){return"string"===typeof t&&/^\s*\|/.test(t)?"string"===typeof e?e+t:t.replace(/^\s*\|\s*/,""):t||null}function MD(e,t){for(var n=Object.create(null),r=0,i=Object.entries(e);r<i.length;r++){var a=(0,xe.Z)(i[r],2),o=a[0],s=a[1];if(s){n[o]={};for(var l=0,c=Object.keys(s);l<c.length;l++){var u=c[l];t.includes(u)&&(n[o][u]=s[u])}}}return n}function ID(e,t){for(var n=(0,kn.Z)({},e),r=0,i=Object.entries(t);r<i.length;r++){var a=(0,xe.Z)(i[r],2),o=a[0],s=a[1];switch(o){case"generic":n[o]=Boolean(s);break;case"cssWideKeywords":n[o]=e[o]?[].concat((0,we.Z)(e[o]),(0,we.Z)(s)):s||[];break;case"units":n[o]=(0,kn.Z)({},e[o]);for(var l=0,c=Object.entries(s);l<c.length;l++){var u=(0,xe.Z)(c[l],2),d=u[0],p=u[1];n[o][d]=Array.isArray(p)?p:[]}break;case"atrules":n[o]=(0,kn.Z)({},e[o]);for(var f=0,h=Object.entries(s);f<h.length;f++){var g=(0,xe.Z)(h[f],2),m=g[0],v=g[1],y=n[o][m]||{},b=n[o][m]={prelude:y.prelude||null,descriptors:(0,kn.Z)({},y.descriptors)};if(v){b.prelude=v.prelude?PD(b.prelude,v.prelude):b.prelude||null;for(var x=0,w=Object.entries(v.descriptors||{});x<w.length;x++){var k=(0,xe.Z)(w[x],2),_=k[0],C=k[1];b.descriptors[_]=C?PD(b.descriptors[_],C):null}Object.keys(b.descriptors).length||(b.descriptors=null)}}break;case"types":case"properties":n[o]=(0,kn.Z)({},e[o]);for(var j=0,S=Object.entries(s);j<S.length;j++){var Z=(0,xe.Z)(S[j],2),N=Z[0],E=Z[1];n[o][N]=PD(n[o][N],E)}break;case"scope":case"features":n[o]=(0,kn.Z)({},e[o]);for(var O=0,A=Object.entries(s);O<A.length;O++){var T=(0,xe.Z)(A[O],2),P=T[0],M=T[1];n[o][P]=(0,kn.Z)((0,kn.Z)({},n[o][P]),M)}break;case"parseContext":n[o]=(0,kn.Z)((0,kn.Z)({},e[o]),s);break;case"atrule":case"pseudo":n[o]=(0,kn.Z)((0,kn.Z)({},e[o]),MD(s,["parse"]));break;case"node":n[o]=(0,kn.Z)((0,kn.Z)({},e[o]),MD(s,["name","structure","parse","generate","walkContext"]))}}return n}function DD(e){var t=yM(e),n=LM(e),r=EM(e),i=function(e){return{fromPlainObject:function(t){return e(t,{enter:function(e){e.children&&e.children instanceof cM===!1&&(e.children=(new cM).fromArray(e.children))}}),t},toPlainObject:function(t){return e(t,{leave:function(e){e.children&&e.children instanceof cM&&(e.children=e.children.toArray())}}),t}}}(n),a=i.fromPlainObject,o=i.toPlainObject,s={lexer:null,createLexer:function(e){return new TD(e,s,s.lexer.structure)},tokenize:sM,parse:t,generate:r,walk:n,find:n.find,findLast:n.findLast,findAll:n.findAll,fromPlainObject:a,toPlainObject:o,fork:function(t){var n=ID({},e);return DD("function"===typeof t?t(n):ID(n,t))}};return s.lexer=new TD({generic:e.generic,cssWideKeywords:e.cssWideKeywords,units:e.units,types:e.types,atrules:e.atrules,properties:e.properties,node:e.node},s),s}var LD=43,RD=45,BD=110,FD=!0;function zD(e,t){var n=this.tokenStart+e,r=this.charCodeAt(n);for(r!==LD&&r!==RD||(t&&this.error("Number sign is not allowed"),n++);n<this.tokenEnd;n++)jP(this.charCodeAt(n))||this.error("Integer is expected",n)}function VD(e){return zD.call(this,0,e)}function UD(e,t){if(!this.cmpChar(this.tokenStart+e,t)){var n="";switch(t){case BD:n="N is expected";break;case RD:n="HyphenMinus is expected"}this.error(n,this.tokenStart+e)}}function HD(){for(var e=0,t=0,n=this.tokenType;n===fP||n===CP;)n=this.lookupType(++e);if(n!==uP){if(!this.isDelim(LD,e)&&!this.isDelim(RD,e))return null;t=this.isDelim(LD,e)?LD:RD;do{n=this.lookupType(++e)}while(n===fP||n===CP);n!==uP&&(this.skip(e),VD.call(this,FD))}return e>0&&this.skip(e),0===t&&(n=this.charCodeAt(this.tokenStart))!==LD&&n!==RD&&this.error("Number sign is expected"),VD.call(this,0!==t),t===RD?"-"+this.consume(uP):this.consume(uP)}var WD="AnPlusB",qD={a:[String,null],b:[String,null]};function KD(){var e=this.tokenStart,t=null,n=null;if(this.tokenType===uP)VD.call(this,false),n=this.consume(uP);else if(1===this.tokenType&&this.cmpChar(this.tokenStart,RD))switch(t="-1",UD.call(this,1,BD),this.tokenEnd-this.tokenStart){case 2:this.next(),n=HD.call(this);break;case 3:UD.call(this,2,RD),this.next(),this.skipSC(),VD.call(this,FD),n="-"+this.consume(uP);break;default:UD.call(this,2,RD),zD.call(this,3,FD),this.next(),n=this.substrToCursor(e+2)}else if(1===this.tokenType||this.isDelim(LD)&&1===this.lookupType(1)){var r=0;switch(t="1",this.isDelim(LD)&&(r=1,this.next()),UD.call(this,0,BD),this.tokenEnd-this.tokenStart){case 1:this.next(),n=HD.call(this);break;case 2:UD.call(this,1,RD),this.next(),this.skipSC(),VD.call(this,FD),n="-"+this.consume(uP);break;default:UD.call(this,1,RD),zD.call(this,2,FD),this.next(),n=this.substrToCursor(e+r+1)}}else if(this.tokenType===pP){for(var i=this.charCodeAt(this.tokenStart),a=i===LD||i===RD,o=this.tokenStart+a;o<this.tokenEnd&&jP(this.charCodeAt(o));o++);o===this.tokenStart+a&&this.error("Integer is expected",this.tokenStart+a),UD.call(this,o-this.tokenStart,BD),t=this.substring(e,o),o+1===this.tokenEnd?(this.next(),n=HD.call(this)):(UD.call(this,o-this.tokenStart+1,RD),o+2===this.tokenEnd?(this.next(),this.skipSC(),VD.call(this,FD),n="-"+this.consume(uP)):(zD.call(this,o-this.tokenStart+2,FD),this.next(),n=this.substrToCursor(o+1)))}else this.error();return null!==t&&t.charCodeAt(0)===LD&&(t=t.substr(1)),null!==n&&n.charCodeAt(0)===LD&&(n=n.substr(1)),{type:"AnPlusB",loc:this.getLocation(e,this.tokenStart),a:t,b:n}}function YD(e){if(e.a){var t=("+1"===e.a||"1"===e.a?"n":"-1"===e.a&&"-n")||e.a+"n";if(e.b){var n="-"===e.b[0]||"+"===e.b[0]?e.b:"+"+e.b;this.tokenize(t+n)}else this.tokenize(t)}else this.tokenize(e.b)}function GD(){return this.Raw(this.consumeUntilLeftCurlyBracketOrSemicolon,!0)}function QD(){for(var e,t=1;e=this.lookupType(t);t++){if(e===_P)return!0;if(e===kP||3===e)return!1}return!1}var XD="Atrule",$D="atrule",JD={name:String,prelude:["AtrulePrelude","Raw",null],block:["Block",null]};function eL(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.tokenStart,i=null,a=null;switch(this.eat(3),t=(e=this.substrToCursor(r+1)).toLowerCase(),this.skipSC(),!1===this.eof&&this.tokenType!==kP&&this.tokenType!==mP&&(i=this.parseAtrulePrelude?this.parseWithFallback(this.AtrulePrelude.bind(this,e,n),GD):GD.call(this,this.tokenIndex),this.skipSC()),this.tokenType){case mP:this.next();break;case kP:a=hasOwnProperty.call(this.atrule,t)&&"function"===typeof this.atrule[t].block?this.atrule[t].block.call(this,n):this.Block(QD.call(this))}return{type:"Atrule",loc:this.getLocation(r,this.tokenStart),name:e,prelude:i,block:a}}function tL(e){this.token(3,"@"+e.name),null!==e.prelude&&this.node(e.prelude),e.block?this.node(e.block):this.token(mP,";")}var nL="AtrulePrelude",rL="atrulePrelude",iL={children:[[]]};function aL(e){var t=null;return null!==e&&(e=e.toLowerCase()),this.skipSC(),t=hasOwnProperty.call(this.atrule,e)&&"function"===typeof this.atrule[e].prelude?this.atrule[e].prelude.call(this):this.readSequence(this.scope.AtrulePrelude),this.skipSC(),!0!==this.eof&&this.tokenType!==kP&&this.tokenType!==mP&&this.error("Semicolon or block is expected"),{type:"AtrulePrelude",loc:this.getLocationFromList(t),children:t}}function oL(e){this.children(e)}function sL(){this.eof&&this.error("Unexpected end of input");var e=this.tokenStart,t=!1;return this.isDelim(42)?(t=!0,this.next()):this.isDelim(124)||this.eat(1),this.isDelim(124)?61!==this.charCodeAt(this.tokenStart+1)?(this.next(),this.eat(1)):t&&this.error("Identifier is expected",this.tokenEnd):t&&this.error("Vertical line is expected"),{type:"Identifier",loc:this.getLocation(e,this.tokenStart),name:this.substrToCursor(e)}}function lL(){var e=this.tokenStart,t=this.charCodeAt(e);return 61!==t&&126!==t&&94!==t&&36!==t&&42!==t&&124!==t&&this.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),this.next(),61!==t&&(this.isDelim(61)||this.error("Equal sign is expected"),this.next()),this.substrToCursor(e)}var cL="AttributeSelector",uL={name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]};function dL(){var e,t=this.tokenStart,n=null,r=null,i=null;return this.eat(yP),this.skipSC(),e=sL.call(this),this.skipSC(),this.tokenType!==bP&&(1!==this.tokenType&&(n=lL.call(this),this.skipSC(),r=5===this.tokenType?this.String():this.Identifier(),this.skipSC()),1===this.tokenType&&(i=this.consume(1),this.skipSC())),this.eat(bP),{type:"AttributeSelector",loc:this.getLocation(t,this.tokenStart),name:e,matcher:n,value:r,flags:i}}function pL(e){this.token(9,"["),this.node(e.name),null!==e.matcher&&(this.tokenize(e.matcher),this.node(e.value)),null!==e.flags&&this.token(1,e.flags),this.token(9,"]")}function fL(){return this.Raw(null,!0)}function hL(){return this.parseWithFallback(this.Rule,fL)}function gL(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}function mL(){if(this.tokenType===mP)return gL.call(this,this.tokenIndex);var e=this.parseWithFallback(this.Declaration,gL);return this.tokenType===mP&&this.next(),e}var vL="Block",yL="block",bL={children:[["Atrule","Rule","Declaration"]]};function xL(e){var t=e?mL:hL,n=this.tokenStart,r=this.createList();this.eat(kP);e:for(;!this.eof;)switch(this.tokenType){case _P:break e;case fP:case CP:this.next();break;case 3:r.push(this.parseWithFallback(this.Atrule.bind(this,e),fL));break;default:e&&this.isDelim(38)?r.push(hL.call(this)):r.push(t.call(this))}return this.eof||this.eat(_P),{type:"Block",loc:this.getLocation(n,this.tokenStart),children:r}}function wL(e){var t=this;this.token(kP,"{"),this.children(e,(function(e){"Declaration"===e.type&&t.token(mP,";")})),this.token(_P,"}")}var kL="Brackets",_L={children:[[]]};function CL(e,t){var n,r=this.tokenStart;return this.eat(yP),n=e.call(this,t),this.eof||this.eat(bP),{type:"Brackets",loc:this.getLocation(r,this.tokenStart),children:n}}function jL(e){this.token(9,"["),this.children(e),this.token(9,"]")}var SL="CDC",ZL=[];function NL(){var e=this.tokenStart;return this.eat(hP),{type:"CDC",loc:this.getLocation(e,this.tokenStart)}}function EL(){this.token(hP,"--\x3e")}var OL="CDO",AL=[];function TL(){var e=this.tokenStart;return this.eat(14),{type:"CDO",loc:this.getLocation(e,this.tokenStart)}}function PL(){this.token(14,"\x3c!--")}var ML="ClassSelector",IL={name:String};function DL(){return this.eatDelim(46),{type:"ClassSelector",loc:this.getLocation(this.tokenStart-1,this.tokenEnd),name:this.consume(1)}}function LL(e){this.token(9,"."),this.token(1,e.name)}var RL="Combinator",BL={name:String};function FL(){var e,t=this.tokenStart;switch(this.tokenType){case fP:e=" ";break;case 9:switch(this.charCodeAt(this.tokenStart)){case 62:case 43:case 126:this.next();break;case 47:this.next(),this.eatIdent("deep"),this.eatDelim(47);break;default:this.error("Combinator is expected")}e=this.substrToCursor(t)}return{type:"Combinator",loc:this.getLocation(t,this.tokenStart),name:e}}function zL(e){this.tokenize(e.name)}var VL="Comment",UL={value:String};function HL(){var e=this.tokenStart,t=this.tokenEnd;return this.eat(CP),t-e+2>=2&&42===this.charCodeAt(t-2)&&47===this.charCodeAt(t-1)&&(t-=2),{type:"Comment",loc:this.getLocation(e,this.tokenStart),value:this.substring(e+2,t)}}function WL(e){this.token(CP,"/*"+e.value+"*/")}var qL=new Set([gP,wP,0]),KL="Condition",YL={kind:String,children:[["Identifier","Feature","FeatureFunction","FeatureRange","SupportsDeclaration"]]};function GL(e){return 1===this.lookupTypeNonSC(1)&&qL.has(this.lookupTypeNonSC(2))?this.Feature(e):this.FeatureRange(e)}var QL={media:GL,container:GL,supports:function(){return this.SupportsDeclaration()}};function XL(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"media",n=this.createList();e:for(;!this.eof;)switch(this.tokenType){case CP:case fP:this.next();continue;case 1:n.push(this.Identifier());break;case xP:var r=this.parseWithFallback((function(){return QL[t].call(e,t)}),(function(){return null}));r||(r=this.parseWithFallback((function(){e.eat(xP);var n=e.Condition(t);return e.eat(wP),n}),(function(){return e.GeneralEnclosed(t)}))),n.push(r);break;case 2:var i=this.parseWithFallback((function(){return e.FeatureFunction(t)}),(function(){return null}));i||(i=this.GeneralEnclosed(t)),n.push(i);break;default:break e}return n.isEmpty&&this.error("Condition is expected"),{type:"Condition",loc:this.getLocationFromList(n),kind:t,children:n}}function $L(e){var t=this;e.children.forEach((function(e){"Condition"===e.type?(t.token(xP,"("),t.node(e),t.token(wP,")")):t.node(e)}))}function JL(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!0)}function eR(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1)}function tR(){var e=this.tokenIndex,t=this.Value();return"Raw"!==t.type&&!1===this.eof&&this.tokenType!==mP&&!1===this.isDelim(33)&&!1===this.isBalanceEdge(e)&&this.error(),t}var nR="Declaration",rR="declaration",iR={important:[Boolean,String],property:String,value:["Value","Raw"]};function aR(){var e,t=this.tokenStart,n=this.tokenIndex,r=sR.call(this),i=QM(r),a=i?this.parseCustomProperty:this.parseValue,o=i?eR:JL,s=!1;this.skipSC(),this.eat(gP);var l=this.tokenIndex;if(i||this.skipSC(),e=a?this.parseWithFallback(tR,o):o.call(this,this.tokenIndex),i&&"Value"===e.type&&e.children.isEmpty)for(var c=l-this.tokenIndex;c<=0;c++)if(this.lookupType(c)===fP){e.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}return this.isDelim(33)&&(s=lR.call(this),this.skipSC()),!1===this.eof&&this.tokenType!==mP&&!1===this.isBalanceEdge(n)&&this.error(),{type:"Declaration",loc:this.getLocation(t,this.tokenStart),important:s,property:r,value:e}}function oR(e){this.token(1,e.property),this.token(gP,":"),this.node(e.value),e.important&&(this.token(9,"!"),this.token(1,!0===e.important?"important":e.important))}function sR(){var e=this.tokenStart;if(9===this.tokenType)switch(this.charCodeAt(this.tokenStart)){case 42:case 36:case 43:case 35:case 38:this.next();break;case 47:this.next(),this.isDelim(47)&&this.next()}return 4===this.tokenType?this.eat(4):this.eat(1),this.substrToCursor(e)}function lR(){this.eat(9),this.skipSC();var e=this.consume(1);return"important"===e||e}function cR(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}var uR="DeclarationList",dR={children:[["Declaration","Atrule","Rule"]]};function pR(){for(var e=this.createList();!this.eof;)switch(this.tokenType){case fP:case CP:case mP:this.next();break;case 3:e.push(this.parseWithFallback(this.Atrule.bind(this,!0),cR));break;default:this.isDelim(38)?e.push(this.parseWithFallback(this.Rule,cR)):e.push(this.parseWithFallback(this.Declaration,cR))}return{type:"DeclarationList",loc:this.getLocationFromList(e),children:e}}function fR(e){var t=this;this.children(e,(function(e){"Declaration"===e.type&&t.token(mP,";")}))}var hR="Dimension",gR={value:String,unit:String};function mR(){var e=this.tokenStart,t=this.consumeNumber(pP);return{type:"Dimension",loc:this.getLocation(e,this.tokenStart),value:t,unit:this.substring(e+t.length,this.tokenStart)}}function vR(e){this.token(pP,e.value+e.unit)}var yR="Feature",bR={kind:String,name:String,value:["Identifier","Number","Dimension","Ratio","Function",null]};function xR(e){var t,n=this,r=this.tokenStart,i=null;if(this.eat(xP),this.skipSC(),t=this.consume(1),this.skipSC(),this.tokenType!==wP){switch(this.eat(gP),this.skipSC(),this.tokenType){case uP:i=9===this.lookupNonWSType(1)?this.Ratio():this.Number();break;case pP:i=this.Dimension();break;case 1:i=this.Identifier();break;case 2:i=this.parseWithFallback((function(){var e=n.Function(n.readSequence,n.scope.Value);return n.skipSC(),n.isDelim(47)&&n.error(),e}),(function(){return n.Ratio()}));break;default:this.error("Number, dimension, ratio or identifier is expected")}this.skipSC()}return this.eof||this.eat(wP),{type:"Feature",loc:this.getLocation(r,this.tokenStart),kind:e,name:t,value:i}}function wR(e){this.token(xP,"("),this.token(1,e.name),null!==e.value&&(this.token(gP,":"),this.node(e.value)),this.token(wP,")")}var kR="FeatureFunction",_R={kind:String,feature:String,value:["Declaration","Selector"]};function CR(e,t){var n=(this.features[e]||{})[t];return"function"!==typeof n&&this.error("Unknown feature ".concat(t,"()")),n}function jR(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",n=this.tokenStart,r=this.consumeFunctionName(),i=CR.call(this,t,r.toLowerCase());this.skipSC();var a=this.parseWithFallback((function(){var t=e.tokenIndex,n=i.call(e);return!1===e.eof&&!1===e.isBalanceEdge(t)&&e.error(),n}),(function(){return e.Raw(null,!1)}));return this.eof||this.eat(wP),{type:"FeatureFunction",loc:this.getLocation(n,this.tokenStart),kind:t,feature:r,value:a}}function SR(e){this.token(2,e.feature+"("),this.node(e.value),this.token(wP,")")}var ZR="FeatureRange",NR={kind:String,left:["Identifier","Number","Dimension","Ratio","Function"],leftComparison:String,middle:["Identifier","Number","Dimension","Ratio","Function"],rightComparison:[String,null],right:["Identifier","Number","Dimension","Ratio","Function",null]};function ER(){var e=this;switch(this.skipSC(),this.tokenType){case uP:return this.isDelim(47,this.lookupOffsetNonSC(1))?this.Ratio():this.Number();case pP:return this.Dimension();case 1:return this.Identifier();case 2:return this.parseWithFallback((function(){var t=e.Function(e.readSequence,e.scope.Value);return e.skipSC(),e.isDelim(47)&&e.error(),t}),(function(){return e.Ratio()}));default:this.error("Number, dimension, ratio or identifier is expected")}}function OR(e){if(this.skipSC(),this.isDelim(60)||this.isDelim(62)){var t=this.source[this.tokenStart];return this.next(),this.isDelim(61)?(this.next(),t+"="):t}if(this.isDelim(61))return"=";this.error("Expected ".concat(e?'":", ':"",'"<", ">", "=" or ")"'))}function AR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=this.tokenStart;this.skipSC(),this.eat(xP);var n=ER.call(this),r=OR.call(this,"Identifier"===n.type),i=ER.call(this),a=null,o=null;return this.lookupNonWSType(0)!==wP&&(a=OR.call(this),o=ER.call(this)),this.skipSC(),this.eat(wP),{type:"FeatureRange",loc:this.getLocation(t,this.tokenStart),kind:e,left:n,leftComparison:r,middle:i,rightComparison:a,right:o}}function TR(e){this.token(xP,"("),this.node(e.left),this.tokenize(e.leftComparison),this.node(e.middle),e.right&&(this.tokenize(e.rightComparison),this.node(e.right)),this.token(wP,")")}var PR="Function",MR="function",IR={name:String,children:[[]]};function DR(e,t){var n,r=this.tokenStart,i=this.consumeFunctionName(),a=i.toLowerCase();return n=t.hasOwnProperty(a)?t[a].call(this,t):e.call(this,t),this.eof||this.eat(wP),{type:"Function",loc:this.getLocation(r,this.tokenStart),name:i,children:n}}function LR(e){this.token(2,e.name+"("),this.children(e),this.token(wP,")")}var RR="GeneralEnclosed",BR={kind:String,function:[String,null],children:[[]]};function FR(e){var t=this,n=this.tokenStart,r=null;2===this.tokenType?r=this.consumeFunctionName():this.eat(xP);var i=this.parseWithFallback((function(){var e=t.tokenIndex,n=t.readSequence(t.scope.Value);return!1===t.eof&&!1===t.isBalanceEdge(e)&&t.error(),n}),(function(){return t.createSingleNodeList(t.Raw(null,!1))}));return this.eof||this.eat(wP),{type:"GeneralEnclosed",loc:this.getLocation(n,this.tokenStart),kind:e,function:r,children:i}}function zR(e){e.function?this.token(2,e.function+"("):this.token(xP,"("),this.children(e),this.token(wP,")")}var VR="XXX",UR="Hash",HR={value:String};function WR(){var e=this.tokenStart;return this.eat(4),{type:"Hash",loc:this.getLocation(e,this.tokenStart),value:this.substrToCursor(e+1)}}function qR(e){this.token(4,"#"+e.value)}var KR="Identifier",YR={name:String};function GR(){return{type:"Identifier",loc:this.getLocation(this.tokenStart,this.tokenEnd),name:this.consume(1)}}function QR(e){this.token(1,e.name)}var XR="IdSelector",$R={name:String};function JR(){var e=this.tokenStart;return this.eat(4),{type:"IdSelector",loc:this.getLocation(e,this.tokenStart),name:this.substrToCursor(e+1)}}function eB(e){this.token(9,"#"+e.name)}var tB="Layer",nB={name:String};function rB(){for(var e=this.tokenStart,t=this.consume(1);this.isDelim(46);)this.eat(9),t+="."+this.consume(1);return{type:"Layer",loc:this.getLocation(e,this.tokenStart),name:t}}function iB(e){this.tokenize(e.name)}var aB="LayerList",oB={children:[["Layer"]]};function sB(){var e=this.createList();for(this.skipSC();!this.eof&&(e.push(this.Layer()),this.lookupTypeNonSC(0)===vP);)this.skipSC(),this.next(),this.skipSC();return{type:"LayerList",loc:this.getLocationFromList(e),children:e}}function lB(e){var t=this;this.children(e,(function(){return t.token(vP,",")}))}var cB="MediaQuery",uB={modifier:[String,null],mediaType:[String,null],condition:["Condition",null]};function dB(){var e=this.tokenStart,t=null,n=null,r=null;if(this.skipSC(),1===this.tokenType&&this.lookupTypeNonSC(1)!==xP){var i=this.consume(1),a=i.toLowerCase();switch("not"===a||"only"===a?(this.skipSC(),t=a,n=this.consume(1)):n=i,this.lookupTypeNonSC(0)){case 1:this.skipSC(),this.eatIdent("and"),r=this.Condition("media");break;case kP:case mP:case vP:case 0:break;default:this.error("Identifier or parenthesis is expected")}}else switch(this.tokenType){case 1:case xP:case 2:r=this.Condition("media");break;case kP:case mP:case 0:break;default:this.error("Identifier or parenthesis is expected")}return{type:"MediaQuery",loc:this.getLocation(e,this.tokenStart),modifier:t,mediaType:n,condition:r}}function pB(e){e.mediaType?(e.modifier&&this.token(1,e.modifier),this.token(1,e.mediaType),e.condition&&(this.token(1,"and"),this.node(e.condition))):e.condition&&this.node(e.condition)}var fB="MediaQueryList",hB={children:[["MediaQuery"]]};function gB(){var e=this.createList();for(this.skipSC();!this.eof&&(e.push(this.MediaQuery()),this.tokenType===vP);)this.next();return{type:"MediaQueryList",loc:this.getLocationFromList(e),children:e}}function mB(e){var t=this;this.children(e,(function(){return t.token(vP,",")}))}var vB="NestingSelector",yB={};function bB(){var e=this.tokenStart;return this.eatDelim(38),{type:"NestingSelector",loc:this.getLocation(e,this.tokenStart)}}function xB(){this.token(9,"&")}var wB="Nth",kB={nth:["AnPlusB","Identifier"],selector:["SelectorList",null]};function _B(){this.skipSC();var e,t=this.tokenStart,n=t,r=null;return e=this.lookupValue(0,"odd")||this.lookupValue(0,"even")?this.Identifier():this.AnPlusB(),n=this.tokenStart,this.skipSC(),this.lookupValue(0,"of")&&(this.next(),r=this.SelectorList(),n=this.tokenStart),{type:"Nth",loc:this.getLocation(t,n),nth:e,selector:r}}function CB(e){this.node(e.nth),null!==e.selector&&(this.token(1,"of"),this.node(e.selector))}var jB="Number",SB={value:String};function ZB(){return{type:"Number",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consume(uP)}}function NB(e){this.token(uP,e.value)}var EB="Operator",OB={value:String};function AB(){var e=this.tokenStart;return this.next(),{type:"Operator",loc:this.getLocation(e,this.tokenStart),value:this.substrToCursor(e)}}function TB(e){this.tokenize(e.value)}var PB="Parentheses",MB={children:[[]]};function IB(e,t){var n,r=this.tokenStart;return this.eat(xP),n=e.call(this,t),this.eof||this.eat(wP),{type:"Parentheses",loc:this.getLocation(r,this.tokenStart),children:n}}function DB(e){this.token(xP,"("),this.children(e),this.token(wP,")")}var LB="Percentage",RB={value:String};function BB(){return{type:"Percentage",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consumeNumber(dP)}}function FB(e){this.token(dP,e.value+"%")}var zB="PseudoClassSelector",VB="function",UB={name:String,children:[["Raw"],null]};function HB(){var e,t,n=this.tokenStart,r=null;return this.eat(gP),2===this.tokenType?(t=(e=this.consumeFunctionName()).toLowerCase(),this.lookupNonWSType(0)==wP?r=this.createList():hasOwnProperty.call(this.pseudo,t)?(this.skipSC(),r=this.pseudo[t].call(this),this.skipSC()):(r=this.createList()).push(this.Raw(null,!1)),this.eat(wP)):e=this.consume(1),{type:"PseudoClassSelector",loc:this.getLocation(n,this.tokenStart),name:e,children:r}}function WB(e){this.token(gP,":"),null===e.children?this.token(1,e.name):(this.token(2,e.name+"("),this.children(e),this.token(wP,")"))}var qB="PseudoElementSelector",KB="function",YB={name:String,children:[["Raw"],null]};function GB(){var e,t,n=this.tokenStart,r=null;return this.eat(gP),this.eat(gP),2===this.tokenType?(t=(e=this.consumeFunctionName()).toLowerCase(),this.lookupNonWSType(0)==wP?r=this.createList():hasOwnProperty.call(this.pseudo,t)?(this.skipSC(),r=this.pseudo[t].call(this),this.skipSC()):(r=this.createList()).push(this.Raw(null,!1)),this.eat(wP)):e=this.consume(1),{type:"PseudoElementSelector",loc:this.getLocation(n,this.tokenStart),name:e,children:r}}function QB(e){this.token(gP,":"),this.token(gP,":"),null===e.children?this.token(1,e.name):(this.token(2,e.name+"("),this.children(e),this.token(wP,")"))}function XB(){switch(this.skipSC(),this.tokenType){case uP:return this.Number();case 2:return this.Function(this.readSequence,this.scope.Value);default:this.error("Number of function is expected")}}var $B="Ratio",JB={left:["Number","Function"],right:["Number","Function",null]};function eF(){var e=this.tokenStart,t=XB.call(this),n=null;return this.skipSC(),this.isDelim(47)&&(this.eatDelim(47),n=XB.call(this)),{type:"Ratio",loc:this.getLocation(e,this.tokenStart),left:t,right:n}}function tF(e){this.node(e.left),this.token(9,"/"),e.right?this.node(e.right):this.node(uP,1)}function nF(){return this.tokenIndex>0&&this.lookupType(-1)===fP?this.tokenIndex>1?this.getTokenStart(this.tokenIndex-1):this.firstCharOffset:this.tokenStart}var rF="Raw",iF={value:String};function aF(e,t){var n,r=this.getTokenStart(this.tokenIndex);return this.skipUntilBalanced(this.tokenIndex,e||this.consumeUntilBalanceEnd),n=t&&this.tokenStart>r?nF.call(this):this.tokenStart,{type:"Raw",loc:this.getLocation(r,n),value:this.substring(r,n)}}function oF(e){this.tokenize(e.value)}function sF(){return this.Raw(this.consumeUntilLeftCurlyBracket,!0)}function lF(){var e=this.SelectorList();return"Raw"!==e.type&&!1===this.eof&&this.tokenType!==kP&&this.error(),e}var cF="Rule",uF="rule",dF={prelude:["SelectorList","Raw"],block:["Block"]};function pF(){var e,t,n=this.tokenIndex,r=this.tokenStart;return e=this.parseRulePrelude?this.parseWithFallback(lF,sF):sF.call(this,n),t=this.Block(!0),{type:"Rule",loc:this.getLocation(r,this.tokenStart),prelude:e,block:t}}function fF(e){this.node(e.prelude),this.node(e.block)}var hF="Scope",gF={root:["SelectorList","Raw",null],limit:["SelectorList","Raw",null]};function mF(){var e=this,t=null,n=null;this.skipSC();var r=this.tokenStart;return this.tokenType===xP&&(this.next(),this.skipSC(),t=this.parseWithFallback(this.SelectorList,(function(){return e.Raw(!1,!0)})),this.skipSC(),this.eat(wP)),1===this.lookupNonWSType(0)&&(this.skipSC(),this.eatIdent("to"),this.skipSC(),this.eat(xP),this.skipSC(),n=this.parseWithFallback(this.SelectorList,(function(){return e.Raw(!1,!0)})),this.skipSC(),this.eat(wP)),{type:"Scope",loc:this.getLocation(r,this.tokenStart),root:t,limit:n}}function vF(e){e.root&&(this.token(xP,"("),this.node(e.root),this.token(wP,")")),e.limit&&(this.token(1,"to"),this.token(xP,"("),this.node(e.limit),this.token(wP,")"))}var yF="Selector",bF={children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator"]]};function xF(){var e=this.readSequence(this.scope.Selector);return null===this.getFirstListNode(e)&&this.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(e),children:e}}function wF(e){this.children(e)}var kF="SelectorList",_F="selector",CF={children:[["Selector","Raw"]]};function jF(){for(var e=this.createList();!this.eof&&(e.push(this.Selector()),this.tokenType===vP);)this.next();return{type:"SelectorList",loc:this.getLocationFromList(e),children:e}}function SF(e){var t=this;this.children(e,(function(){return t.token(vP,",")}))}function ZF(e){for(var t=e.length,n=e.charCodeAt(0),r=34===n||39===n?1:0,i=1===r&&t>1&&e.charCodeAt(t-1)===n?t-2:t-1,a="",o=r;o<=i;o++){var s=e.charCodeAt(o);if(92===s){if(o===i){o!==t-1&&(a=e.substr(o+1));break}if(PP(92,s=e.charCodeAt(++o))){var l=o-1,c=KP(e,l);o=c-1,a+=XP(e.substring(l+1,c))}else 13===s&&10===e.charCodeAt(o+1)&&o++}else a+=e[o]}return a}var NF="String",EF={value:String};function OF(){return{type:"String",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:ZF(this.consume(5))}}function AF(e){this.token(5,function(e,t){for(var n=t?"'":'"',r=t?39:34,i="",a=!1,o=0;o<e.length;o++){var s=e.charCodeAt(o);0!==s?s<=31||127===s?(i+="\\"+s.toString(16),a=!0):s===r||92===s?(i+="\\"+e.charAt(o),a=!1):(a&&(SP(s)||TP(s))&&(i+=" "),i+=e.charAt(o),a=!1):i+="\ufffd"}return n+i+n}(e.value))}function TF(){return this.Raw(null,!1)}var PF="StyleSheet",MF="stylesheet",IF={children:[["Comment","CDO","CDC","Atrule","Rule","Raw"]]};function DF(){for(var e,t=this.tokenStart,n=this.createList();!this.eof;){switch(this.tokenType){case fP:this.next();continue;case CP:if(33!==this.charCodeAt(this.tokenStart+2)){this.next();continue}e=this.Comment();break;case 14:e=this.CDO();break;case hP:e=this.CDC();break;case 3:e=this.parseWithFallback(this.Atrule,TF);break;default:e=this.parseWithFallback(this.Rule,TF)}n.push(e)}return{type:"StyleSheet",loc:this.getLocation(t,this.tokenStart),children:n}}function LF(e){this.children(e)}var RF="SupportsDeclaration",BF={declaration:"Declaration"};function FF(){var e=this.tokenStart;this.eat(xP),this.skipSC();var t=this.Declaration();return this.eof||this.eat(wP),{type:"SupportsDeclaration",loc:this.getLocation(e,this.tokenStart),declaration:t}}function zF(e){this.token(xP,"("),this.node(e.declaration),this.token(wP,")")}function VF(){1!==this.tokenType&&!1===this.isDelim(42)&&this.error("Identifier or asterisk is expected"),this.next()}var UF="TypeSelector",HF={name:String};function WF(){var e=this.tokenStart;return this.isDelim(124)?(this.next(),VF.call(this)):(VF.call(this),this.isDelim(124)&&(this.next(),VF.call(this))),{type:"TypeSelector",loc:this.getLocation(e,this.tokenStart),name:this.substrToCursor(e)}}function qF(e){this.tokenize(e.name)}function KF(e,t){for(var n=0,r=this.tokenStart+e;r<this.tokenEnd;r++){var i=this.charCodeAt(r);if(45===i&&t&&0!==n)return KF.call(this,e+n+1,!1),-1;SP(i)||this.error(t&&0!==n?"Hyphen minus"+(n<6?" or hex digit":"")+" is expected":n<6?"Hex digit is expected":"Unexpected input",r),++n>6&&this.error("Too many hex digits",r)}return this.next(),n}function YF(e){for(var t=0;this.isDelim(63);)++t>e&&this.error("Too many question marks"),this.next()}function GF(e){this.charCodeAt(this.tokenStart)!==e&&this.error((43===e?"Plus sign":"Hyphen minus")+" is expected")}function QF(){var e=0;switch(this.tokenType){case uP:if(e=KF.call(this,1,!0),this.isDelim(63)){YF.call(this,6-e);break}if(this.tokenType===pP||this.tokenType===uP){GF.call(this,45),KF.call(this,1,!1);break}break;case pP:(e=KF.call(this,1,!0))>0&&YF.call(this,6-e);break;default:if(this.eatDelim(43),1===this.tokenType){(e=KF.call(this,0,!0))>0&&YF.call(this,6-e);break}if(this.isDelim(63)){this.next(),YF.call(this,5);break}this.error("Hex digit or question mark is expected")}}var XF="UnicodeRange",$F={value:String};function JF(){var e=this.tokenStart;return this.eatIdent("u"),QF.call(this),{type:"UnicodeRange",loc:this.getLocation(e,this.tokenStart),value:this.substrToCursor(e)}}function ez(e){this.tokenize(e.value)}var tz="Url",nz={value:String};function rz(){var e,t=this.tokenStart;switch(this.tokenType){case 7:e=function(e){for(var t=e.length,n=4,r=41===e.charCodeAt(t-1)?t-2:t-1,i="";n<r&&TP(e.charCodeAt(n));)n++;for(;n<r&&TP(e.charCodeAt(r));)r--;for(var a=n;a<=r;a++){var o=e.charCodeAt(a);if(92===o){if(a===r){a!==t-1&&(i=e.substr(a+1));break}if(PP(92,o=e.charCodeAt(++a))){var s=a-1,l=KP(e,s);a=l-1,i+=XP(e.substring(s+1,l))}else 13===o&&10===e.charCodeAt(a+1)&&a++}else i+=e[a]}return i}(this.consume(7));break;case 2:this.cmpStr(this.tokenStart,this.tokenEnd,"url(")||this.error("Function name must be `url`"),this.eat(2),this.skipSC(),e=ZF(this.consume(5)),this.skipSC(),this.eof||this.eat(wP);break;default:this.error("Url or Function is expected")}return{type:"Url",loc:this.getLocation(t,this.tokenStart),value:e}}function iz(e){this.token(7,function(e){for(var t="",n=!1,r=0;r<e.length;r++){var i=e.charCodeAt(r);0!==i?i<=31||127===i?(t+="\\"+i.toString(16),n=!0):32===i||92===i||34===i||39===i||40===i||41===i?(t+="\\"+e.charAt(r),n=!1):(n&&SP(i)&&(t+=" "),t+=e.charAt(r),n=!1):t+="\ufffd"}return"url("+t+")"}(e.value))}var az="Value",oz={children:[[]]};function sz(){var e=this.tokenStart,t=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(e,this.tokenStart),children:t}}function lz(e){this.children(e)}var cz=Object.freeze({type:"WhiteSpace",loc:null,value:" "}),uz="WhiteSpace",dz={value:String};function pz(){return this.eat(fP),cz}function fz(e){this.token(fP,e.value)}var hz=(0,kn.Z)((0,kn.Z)({generic:!0,cssWideKeywords:$M},{generic:!0,cssWideKeywords:["initial","inherit","unset","revert","revert-layer"],units:{angle:["deg","grad","rad","turn"],decibel:["db"],flex:["fr"],frequency:["hz","khz"],length:["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],resolution:["dpi","dpcm","dppx","x"],semitones:["st"],time:["s","ms"]},types:{"abs()":"abs( <calc-sum> )","absolute-size":"xx-small|x-small|small|medium|large|x-large|xx-large|xxx-large","acos()":"acos( <calc-sum> )","alpha-value":"<number>|<percentage>","angle-percentage":"<angle>|<percentage>","angular-color-hint":"<angle-percentage>","angular-color-stop":"<color>&&<color-stop-angle>?","angular-color-stop-list":"[<angular-color-stop> [, <angular-color-hint>]?]# , <angular-color-stop>","animateable-feature":"scroll-position|contents|<custom-ident>","asin()":"asin( <calc-sum> )","atan()":"atan( <calc-sum> )","atan2()":"atan2( <calc-sum> , <calc-sum> )",attachment:"scroll|fixed|local","attr()":"attr( <attr-name> <type-or-unit>? [, <attr-fallback>]? )","attr-matcher":"['~'|'|'|'^'|'$'|'*']? '='","attr-modifier":"i|s","attribute-selector":"'[' <wq-name> ']'|'[' <wq-name> <attr-matcher> [<string-token>|<ident-token>] <attr-modifier>? ']'","auto-repeat":"repeat( [auto-fill|auto-fit] , [<line-names>? <fixed-size>]+ <line-names>? )","auto-track-list":"[<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>? <auto-repeat> [<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>?",axis:"block|inline|x|y","baseline-position":"[first|last]? baseline","basic-shape":"<inset()>|<xywh()>|<rect()>|<circle()>|<ellipse()>|<polygon()>|<path()>","bg-image":"none|<image>","bg-layer":"<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","bg-position":"[[left|center|right|top|bottom|<length-percentage>]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]|[center|[left|right] <length-percentage>?]&&[center|[top|bottom] <length-percentage>?]]","bg-size":"[<length-percentage>|auto]{1,2}|cover|contain","blur()":"blur( <length> )","blend-mode":"normal|multiply|screen|overlay|darken|lighten|color-dodge|color-burn|hard-light|soft-light|difference|exclusion|hue|saturation|color|luminosity",box:"border-box|padding-box|content-box","brightness()":"brightness( <number-percentage> )","calc()":"calc( <calc-sum> )","calc-sum":"<calc-product> [['+'|'-'] <calc-product>]*","calc-product":"<calc-value> ['*' <calc-value>|'/' <number>]*","calc-value":"<number>|<dimension>|<percentage>|<calc-constant>|( <calc-sum> )","calc-constant":"e|pi|infinity|-infinity|NaN","cf-final-image":"<image>|<color>","cf-mixing-image":"<percentage>?&&<image>","circle()":"circle( [<shape-radius>]? [at <position>]? )","clamp()":"clamp( <calc-sum>#{3} )","class-selector":"'.' <ident-token>","clip-source":"<url>",color:"<color-base>|currentColor|<system-color>|<device-cmyk()>|<light-dark()>|<-non-standard-color>","color-stop":"<color-stop-length>|<color-stop-angle>","color-stop-angle":"<angle-percentage>{1,2}","color-stop-length":"<length-percentage>{1,2}","color-stop-list":"[<linear-color-stop> [, <linear-color-hint>]?]# , <linear-color-stop>","color-interpolation-method":"in [<rectangular-color-space>|<polar-color-space> <hue-interpolation-method>?|<custom-color-space>]",combinator:"'>'|'+'|'~'|['|' '|']","common-lig-values":"[common-ligatures|no-common-ligatures]","compat-auto":"searchfield|textarea|push-button|slider-horizontal|checkbox|radio|square-button|menulist|listbox|meter|progress-bar|button","composite-style":"clear|copy|source-over|source-in|source-out|source-atop|destination-over|destination-in|destination-out|destination-atop|xor","compositing-operator":"add|subtract|intersect|exclude","compound-selector":"[<type-selector>? <subclass-selector>*]!","compound-selector-list":"<compound-selector>#","complex-selector":"<complex-selector-unit> [<combinator>? <complex-selector-unit>]*","complex-selector-list":"<complex-selector>#","conic-gradient()":"conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","contextual-alt-values":"[contextual|no-contextual]","content-distribution":"space-between|space-around|space-evenly|stretch","content-list":"[<string>|contents|<image>|<counter>|<quote>|<target>|<leader()>|<attr()>]+","content-position":"center|start|end|flex-start|flex-end","content-replacement":"<image>","contrast()":"contrast( [<number-percentage>] )","cos()":"cos( <calc-sum> )",counter:"<counter()>|<counters()>","counter()":"counter( <counter-name> , <counter-style>? )","counter-name":"<custom-ident>","counter-style":"<counter-style-name>|symbols( )","counter-style-name":"<custom-ident>","counters()":"counters( <counter-name> , <string> , <counter-style>? )","cross-fade()":"cross-fade( <cf-mixing-image> , <cf-final-image>? )","cubic-bezier-timing-function":"ease|ease-in|ease-out|ease-in-out|cubic-bezier( <number [0,1]> , <number> , <number [0,1]> , <number> )","deprecated-system-color":"ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText","discretionary-lig-values":"[discretionary-ligatures|no-discretionary-ligatures]","display-box":"contents|none","display-inside":"flow|flow-root|table|flex|grid|ruby","display-internal":"table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption|ruby-base|ruby-text|ruby-base-container|ruby-text-container","display-legacy":"inline-block|inline-list-item|inline-table|inline-flex|inline-grid","display-listitem":"<display-outside>?&&[flow|flow-root]?&&list-item","display-outside":"block|inline|run-in","drop-shadow()":"drop-shadow( <length>{2,3} <color>? )","east-asian-variant-values":"[jis78|jis83|jis90|jis04|simplified|traditional]","east-asian-width-values":"[full-width|proportional-width]","element()":"element( <custom-ident> , [first|start|last|first-except]? )|element( <id-selector> )","ellipse()":"ellipse( [<shape-radius>{2}]? [at <position>]? )","ending-shape":"circle|ellipse","env()":"env( <custom-ident> , <declaration-value>? )","exp()":"exp( <calc-sum> )","explicit-track-list":"[<line-names>? <track-size>]+ <line-names>?","family-name":"<string>|<custom-ident>+","feature-tag-value":"<string> [<integer>|on|off]?","feature-type":"@stylistic|@historical-forms|@styleset|@character-variant|@swash|@ornaments|@annotation","feature-value-block":"<feature-type> '{' <feature-value-declaration-list> '}'","feature-value-block-list":"<feature-value-block>+","feature-value-declaration":"<custom-ident> : <integer>+ ;","feature-value-declaration-list":"<feature-value-declaration>","feature-value-name":"<custom-ident>","fill-rule":"nonzero|evenodd","filter-function":"<blur()>|<brightness()>|<contrast()>|<drop-shadow()>|<grayscale()>|<hue-rotate()>|<invert()>|<opacity()>|<saturate()>|<sepia()>","filter-function-list":"[<filter-function>|<url>]+","final-bg-layer":"<'background-color'>||<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","fixed-breadth":"<length-percentage>","fixed-repeat":"repeat( [<integer [1,\u221e]>] , [<line-names>? <fixed-size>]+ <line-names>? )","fixed-size":"<fixed-breadth>|minmax( <fixed-breadth> , <track-breadth> )|minmax( <inflexible-breadth> , <fixed-breadth> )","font-stretch-absolute":"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded|<percentage>","font-variant-css21":"[normal|small-caps]","font-weight-absolute":"normal|bold|<number [1,1000]>","frequency-percentage":"<frequency>|<percentage>","general-enclosed":"[<function-token> <any-value>? )]|[( <any-value>? )]","generic-family":"<generic-script-specific>|<generic-complete>|<generic-incomplete>|<-non-standard-generic-family>","generic-name":"serif|sans-serif|cursive|fantasy|monospace","geometry-box":"<shape-box>|fill-box|stroke-box|view-box",gradient:"<linear-gradient()>|<repeating-linear-gradient()>|<radial-gradient()>|<repeating-radial-gradient()>|<conic-gradient()>|<repeating-conic-gradient()>|<-legacy-gradient>","grayscale()":"grayscale( <number-percentage> )","grid-line":"auto|<custom-ident>|[<integer>&&<custom-ident>?]|[span&&[<integer>||<custom-ident>]]","historical-lig-values":"[historical-ligatures|no-historical-ligatures]","hsl()":"hsl( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsl( <hue> , <percentage> , <percentage> , <alpha-value>? )","hsla()":"hsla( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsla( <hue> , <percentage> , <percentage> , <alpha-value>? )",hue:"<number>|<angle>","hue-rotate()":"hue-rotate( <angle> )","hue-interpolation-method":"[shorter|longer|increasing|decreasing] hue","hwb()":"hwb( [<hue>|none] [<percentage>|none] [<percentage>|none] [/ [<alpha-value>|none]]? )","hypot()":"hypot( <calc-sum># )",image:"<url>|<image()>|<image-set()>|<element()>|<paint()>|<cross-fade()>|<gradient>","image()":"image( <image-tags>? [<image-src>? , <color>?]! )","image-set()":"image-set( <image-set-option># )","image-set-option":"[<image>|<string>] [<resolution>||type( <string> )]","image-src":"<url>|<string>","image-tags":"ltr|rtl","inflexible-breadth":"<length-percentage>|min-content|max-content|auto","inset()":"inset( <length-percentage>{1,4} [round <'border-radius'>]? )","invert()":"invert( <number-percentage> )","keyframes-name":"<custom-ident>|<string>","keyframe-block":"<keyframe-selector># { <declaration-list> }","keyframe-block-list":"<keyframe-block>+","keyframe-selector":"from|to|<percentage>|<timeline-range-name> <percentage>","lab()":"lab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )","layer()":"layer( <layer-name> )","layer-name":"<ident> ['.' <ident>]*","lch()":"lch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )","leader()":"leader( <leader-type> )","leader-type":"dotted|solid|space|<string>","length-percentage":"<length>|<percentage>","light-dark()":"light-dark( <color> , <color> )","line-names":"'[' <custom-ident>* ']'","line-name-list":"[<line-names>|<name-repeat>]+","line-style":"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset","line-width":"<length>|thin|medium|thick","linear-color-hint":"<length-percentage>","linear-color-stop":"<color> <color-stop-length>?","linear-gradient()":"linear-gradient( [[<angle>|to <side-or-corner>]||<color-interpolation-method>]? , <color-stop-list> )","log()":"log( <calc-sum> , <calc-sum>? )","mask-layer":"<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||<geometry-box>||[<geometry-box>|no-clip]||<compositing-operator>||<masking-mode>","mask-position":"[<length-percentage>|left|center|right] [<length-percentage>|top|center|bottom]?","mask-reference":"none|<image>|<mask-source>","mask-source":"<url>","masking-mode":"alpha|luminance|match-source","matrix()":"matrix( <number>#{6} )","matrix3d()":"matrix3d( <number>#{16} )","max()":"max( <calc-sum># )","media-and":"<media-in-parens> [and <media-in-parens>]+","media-condition":"<media-not>|<media-and>|<media-or>|<media-in-parens>","media-condition-without-or":"<media-not>|<media-and>|<media-in-parens>","media-feature":"( [<mf-plain>|<mf-boolean>|<mf-range>] )","media-in-parens":"( <media-condition> )|<media-feature>|<general-enclosed>","media-not":"not <media-in-parens>","media-or":"<media-in-parens> [or <media-in-parens>]+","media-query":"<media-condition>|[not|only]? <media-type> [and <media-condition-without-or>]?","media-query-list":"<media-query>#","media-type":"<ident>","mf-boolean":"<mf-name>","mf-name":"<ident>","mf-plain":"<mf-name> : <mf-value>","mf-range":"<mf-name> ['<'|'>']? '='? <mf-value>|<mf-value> ['<'|'>']? '='? <mf-name>|<mf-value> '<' '='? <mf-name> '<' '='? <mf-value>|<mf-value> '>' '='? <mf-name> '>' '='? <mf-value>","mf-value":"<number>|<dimension>|<ident>|<ratio>","min()":"min( <calc-sum># )","minmax()":"minmax( [<length-percentage>|min-content|max-content|auto] , [<length-percentage>|<flex>|min-content|max-content|auto] )","mod()":"mod( <calc-sum> , <calc-sum> )","name-repeat":"repeat( [<integer [1,\u221e]>|auto-fill] , <line-names>+ )","named-color":"transparent|aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen","namespace-prefix":"<ident>","ns-prefix":"[<ident-token>|'*']? '|'","number-percentage":"<number>|<percentage>","numeric-figure-values":"[lining-nums|oldstyle-nums]","numeric-fraction-values":"[diagonal-fractions|stacked-fractions]","numeric-spacing-values":"[proportional-nums|tabular-nums]",nth:"<an-plus-b>|even|odd","opacity()":"opacity( [<number-percentage>] )","overflow-position":"unsafe|safe","outline-radius":"<length>|<percentage>","page-body":"<declaration>? [; <page-body>]?|<page-margin-box> <page-body>","page-margin-box":"<page-margin-box-type> '{' <declaration-list> '}'","page-margin-box-type":"@top-left-corner|@top-left|@top-center|@top-right|@top-right-corner|@bottom-left-corner|@bottom-left|@bottom-center|@bottom-right|@bottom-right-corner|@left-top|@left-middle|@left-bottom|@right-top|@right-middle|@right-bottom","page-selector-list":"[<page-selector>#]?","page-selector":"<pseudo-page>+|<ident> <pseudo-page>*","page-size":"A5|A4|A3|B5|B4|JIS-B5|JIS-B4|letter|legal|ledger","path()":"path( [<fill-rule> ,]? <string> )","paint()":"paint( <ident> , <declaration-value>? )","perspective()":"perspective( [<length [0,\u221e]>|none] )","polygon()":"polygon( <fill-rule>? , [<length-percentage> <length-percentage>]# )","polar-color-space":"hsl|hwb|lch|oklch",position:"[[left|center|right]||[top|center|bottom]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]?|[[left|right] <length-percentage>]&&[[top|bottom] <length-percentage>]]","pow()":"pow( <calc-sum> , <calc-sum> )","pseudo-class-selector":"':' <ident-token>|':' <function-token> <any-value> ')'","pseudo-element-selector":"':' <pseudo-class-selector>|<legacy-pseudo-element-selector>","pseudo-page":": [left|right|first|blank]",quote:"open-quote|close-quote|no-open-quote|no-close-quote","radial-gradient()":"radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )",ratio:"<number [0,\u221e]> [/ <number [0,\u221e]>]?","ray()":"ray( <angle>&&<ray-size>?&&contain?&&[at <position>]? )","ray-size":"closest-side|closest-corner|farthest-side|farthest-corner|sides","rectangular-color-space":"srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020|lab|oklab|xyz|xyz-d50|xyz-d65","relative-selector":"<combinator>? <complex-selector>","relative-selector-list":"<relative-selector>#","relative-size":"larger|smaller","rem()":"rem( <calc-sum> , <calc-sum> )","repeat-style":"repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}","repeating-conic-gradient()":"repeating-conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","repeating-linear-gradient()":"repeating-linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )","repeating-radial-gradient()":"repeating-radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )","reversed-counter-name":"reversed( <counter-name> )","rgb()":"rgb( <percentage>{3} [/ <alpha-value>]? )|rgb( <number>{3} [/ <alpha-value>]? )|rgb( <percentage>#{3} , <alpha-value>? )|rgb( <number>#{3} , <alpha-value>? )","rgba()":"rgba( <percentage>{3} [/ <alpha-value>]? )|rgba( <number>{3} [/ <alpha-value>]? )|rgba( <percentage>#{3} , <alpha-value>? )|rgba( <number>#{3} , <alpha-value>? )","rotate()":"rotate( [<angle>|<zero>] )","rotate3d()":"rotate3d( <number> , <number> , <number> , [<angle>|<zero>] )","rotateX()":"rotateX( [<angle>|<zero>] )","rotateY()":"rotateY( [<angle>|<zero>] )","rotateZ()":"rotateZ( [<angle>|<zero>] )","round()":"round( <rounding-strategy>? , <calc-sum> , <calc-sum> )","rounding-strategy":"nearest|up|down|to-zero","saturate()":"saturate( <number-percentage> )","scale()":"scale( [<number>|<percentage>]#{1,2} )","scale3d()":"scale3d( [<number>|<percentage>]#{3} )","scaleX()":"scaleX( [<number>|<percentage>] )","scaleY()":"scaleY( [<number>|<percentage>] )","scaleZ()":"scaleZ( [<number>|<percentage>] )","scroll()":"scroll( [<axis>||<scroller>]? )",scroller:"root|nearest|self","self-position":"center|start|end|self-start|self-end|flex-start|flex-end","shape-radius":"<length-percentage>|closest-side|farthest-side","sign()":"sign( <calc-sum> )","skew()":"skew( [<angle>|<zero>] , [<angle>|<zero>]? )","skewX()":"skewX( [<angle>|<zero>] )","skewY()":"skewY( [<angle>|<zero>] )","sepia()":"sepia( <number-percentage> )",shadow:"inset?&&<length>{2,4}&&<color>?","shadow-t":"[<length>{2,3}&&<color>?]",shape:"rect( <top> , <right> , <bottom> , <left> )|rect( <top> <right> <bottom> <left> )","shape-box":"<box>|margin-box","side-or-corner":"[left|right]||[top|bottom]","sin()":"sin( <calc-sum> )","single-animation":"<'animation-duration'>||<easing-function>||<'animation-delay'>||<single-animation-iteration-count>||<single-animation-direction>||<single-animation-fill-mode>||<single-animation-play-state>||[none|<keyframes-name>]||<single-animation-timeline>","single-animation-direction":"normal|reverse|alternate|alternate-reverse","single-animation-fill-mode":"none|forwards|backwards|both","single-animation-iteration-count":"infinite|<number>","single-animation-play-state":"running|paused","single-animation-timeline":"auto|none|<dashed-ident>|<scroll()>|<view()>","single-transition":"[none|<single-transition-property>]||<time>||<easing-function>||<time>||<transition-behavior-value>","single-transition-property":"all|<custom-ident>",size:"closest-side|farthest-side|closest-corner|farthest-corner|<length>|<length-percentage>{2}","sqrt()":"sqrt( <calc-sum> )","step-position":"jump-start|jump-end|jump-none|jump-both|start|end","step-timing-function":"step-start|step-end|steps( <integer> [, <step-position>]? )","subclass-selector":"<id-selector>|<class-selector>|<attribute-selector>|<pseudo-class-selector>","supports-condition":"not <supports-in-parens>|<supports-in-parens> [and <supports-in-parens>]*|<supports-in-parens> [or <supports-in-parens>]*","supports-in-parens":"( <supports-condition> )|<supports-feature>|<general-enclosed>","supports-feature":"<supports-decl>|<supports-selector-fn>","supports-decl":"( <declaration> )","supports-selector-fn":"selector( <complex-selector> )",symbol:"<string>|<image>|<custom-ident>","system-color":"AccentColor|AccentColorText|ActiveText|ButtonBorder|ButtonFace|ButtonText|Canvas|CanvasText|Field|FieldText|GrayText|Highlight|HighlightText|LinkText|Mark|MarkText|SelectedItem|SelectedItemText|VisitedText","tan()":"tan( <calc-sum> )",target:"<target-counter()>|<target-counters()>|<target-text()>","target-counter()":"target-counter( [<string>|<url>] , <custom-ident> , <counter-style>? )","target-counters()":"target-counters( [<string>|<url>] , <custom-ident> , <string> , <counter-style>? )","target-text()":"target-text( [<string>|<url>] , [content|before|after|first-letter]? )","time-percentage":"<time>|<percentage>","timeline-range-name":"cover|contain|entry|exit|entry-crossing|exit-crossing","easing-function":"linear|<cubic-bezier-timing-function>|<step-timing-function>","track-breadth":"<length-percentage>|<flex>|min-content|max-content|auto","track-list":"[<line-names>? [<track-size>|<track-repeat>]]+ <line-names>?","track-repeat":"repeat( [<integer [1,\u221e]>] , [<line-names>? <track-size>]+ <line-names>? )","track-size":"<track-breadth>|minmax( <inflexible-breadth> , <track-breadth> )|fit-content( <length-percentage> )","transform-function":"<matrix()>|<translate()>|<translateX()>|<translateY()>|<scale()>|<scaleX()>|<scaleY()>|<rotate()>|<skew()>|<skewX()>|<skewY()>|<matrix3d()>|<translate3d()>|<translateZ()>|<scale3d()>|<scaleZ()>|<rotate3d()>|<rotateX()>|<rotateY()>|<rotateZ()>|<perspective()>","transform-list":"<transform-function>+","transition-behavior-value":"normal|allow-discrete","translate()":"translate( <length-percentage> , <length-percentage>? )","translate3d()":"translate3d( <length-percentage> , <length-percentage> , <length> )","translateX()":"translateX( <length-percentage> )","translateY()":"translateY( <length-percentage> )","translateZ()":"translateZ( <length> )","type-or-unit":"string|color|url|integer|number|length|angle|time|frequency|cap|ch|em|ex|ic|lh|rlh|rem|vb|vi|vw|vh|vmin|vmax|mm|Q|cm|in|pt|pc|px|deg|grad|rad|turn|ms|s|Hz|kHz|%","type-selector":"<wq-name>|<ns-prefix>? '*'","var()":"var( <custom-property-name> , <declaration-value>? )","view()":"view( [<axis>||<'view-timeline-inset'>]? )","viewport-length":"auto|<length-percentage>","visual-box":"content-box|padding-box|border-box","wq-name":"<ns-prefix>? <ident-token>","-legacy-gradient":"<-webkit-gradient()>|<-legacy-linear-gradient>|<-legacy-repeating-linear-gradient>|<-legacy-radial-gradient>|<-legacy-repeating-radial-gradient>","-legacy-linear-gradient":"-moz-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-repeating-linear-gradient":"-moz-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-linear-gradient-arguments":"[<angle>|<side-or-corner>]? , <color-stop-list>","-legacy-radial-gradient":"-moz-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-repeating-radial-gradient":"-moz-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-radial-gradient-arguments":"[<position> ,]? [[[<-legacy-radial-gradient-shape>||<-legacy-radial-gradient-size>]|[<length>|<percentage>]{2}] ,]? <color-stop-list>","-legacy-radial-gradient-size":"closest-side|closest-corner|farthest-side|farthest-corner|contain|cover","-legacy-radial-gradient-shape":"circle|ellipse","-non-standard-font":"-apple-system-body|-apple-system-headline|-apple-system-subheadline|-apple-system-caption1|-apple-system-caption2|-apple-system-footnote|-apple-system-short-body|-apple-system-short-headline|-apple-system-short-subheadline|-apple-system-short-caption1|-apple-system-short-footnote|-apple-system-tall-body","-non-standard-color":"-moz-ButtonDefault|-moz-ButtonHoverFace|-moz-ButtonHoverText|-moz-CellHighlight|-moz-CellHighlightText|-moz-Combobox|-moz-ComboboxText|-moz-Dialog|-moz-DialogText|-moz-dragtargetzone|-moz-EvenTreeRow|-moz-Field|-moz-FieldText|-moz-html-CellHighlight|-moz-html-CellHighlightText|-moz-mac-accentdarkestshadow|-moz-mac-accentdarkshadow|-moz-mac-accentface|-moz-mac-accentlightesthighlight|-moz-mac-accentlightshadow|-moz-mac-accentregularhighlight|-moz-mac-accentregularshadow|-moz-mac-chrome-active|-moz-mac-chrome-inactive|-moz-mac-focusring|-moz-mac-menuselect|-moz-mac-menushadow|-moz-mac-menutextselect|-moz-MenuHover|-moz-MenuHoverText|-moz-MenuBarText|-moz-MenuBarHoverText|-moz-nativehyperlinktext|-moz-OddTreeRow|-moz-win-communicationstext|-moz-win-mediatext|-moz-activehyperlinktext|-moz-default-background-color|-moz-default-color|-moz-hyperlinktext|-moz-visitedhyperlinktext|-webkit-activelink|-webkit-focus-ring-color|-webkit-link|-webkit-text","-non-standard-image-rendering":"optimize-contrast|-moz-crisp-edges|-o-crisp-edges|-webkit-optimize-contrast","-non-standard-overflow":"overlay|-moz-scrollbars-none|-moz-scrollbars-horizontal|-moz-scrollbars-vertical|-moz-hidden-unscrollable","-non-standard-size":"intrinsic|min-intrinsic|-webkit-fill-available|-webkit-fit-content|-webkit-min-content|-webkit-max-content|-moz-available|-moz-fit-content|-moz-min-content|-moz-max-content","-webkit-gradient()":"-webkit-gradient( <-webkit-gradient-type> , <-webkit-gradient-point> [, <-webkit-gradient-point>|, <-webkit-gradient-radius> , <-webkit-gradient-point>] [, <-webkit-gradient-radius>]? [, <-webkit-gradient-color-stop>]* )","-webkit-gradient-color-stop":"from( <color> )|color-stop( [<number-zero-one>|<percentage>] , <color> )|to( <color> )","-webkit-gradient-point":"[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]","-webkit-gradient-radius":"<length>|<percentage>","-webkit-gradient-type":"linear|radial","-webkit-mask-box-repeat":"repeat|stretch|round","-ms-filter-function-list":"<-ms-filter-function>+","-ms-filter-function":"<-ms-filter-function-progid>|<-ms-filter-function-legacy>","-ms-filter-function-progid":"'progid:' [<ident-token> '.']* [<ident-token>|<function-token> <any-value>? )]","-ms-filter-function-legacy":"<ident-token>|<function-token> <any-value>? )","absolute-color-base":"<hex-color>|<absolute-color-function>|<named-color>|transparent","absolute-color-function":"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<oklab()>|<oklch()>|<color()>",age:"child|young|old","anchor-name":"<dashed-ident>","attr-name":"<wq-name>","attr-fallback":"<any-value>","bg-clip":"<box>|border|text",bottom:"<length>|auto","container-name":"<custom-ident>","container-condition":"not <query-in-parens>|<query-in-parens> [[and <query-in-parens>]*|[or <query-in-parens>]*]","coord-box":"content-box|padding-box|border-box|fill-box|stroke-box|view-box","generic-voice":"[<age>? <gender> <integer>?]",gender:"male|female|neutral","generic-script-specific":"generic( kai )|generic( fangsong )|generic( nastaliq )","generic-complete":"serif|sans-serif|system-ui|cursive|fantasy|math|monospace","generic-incomplete":"ui-serif|ui-sans-serif|ui-monospace|ui-rounded","-non-standard-generic-family":"-apple-system|BlinkMacSystemFont",left:"<length>|auto","color-base":"<hex-color>|<color-function>|<named-color>|<color-mix()>|transparent","color-function":"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<oklab()>|<oklch()>|<color()>","device-cmyk()":"<legacy-device-cmyk-syntax>|<modern-device-cmyk-syntax>","legacy-device-cmyk-syntax":"device-cmyk( <number>#{4} )","modern-device-cmyk-syntax":"device-cmyk( <cmyk-component>{4} [/ [<alpha-value>|none]]? )","cmyk-component":"<number>|<percentage>|none","color-mix()":"color-mix( <color-interpolation-method> , [<color>&&<percentage [0,100]>?]#{2} )","color-space":"<rectangular-color-space>|<polar-color-space>|<custom-color-space>","custom-color-space":"<dashed-ident>",paint:"none|<color>|<url> [none|<color>]?|context-fill|context-stroke","palette-identifier":"<dashed-ident>",right:"<length>|auto","scope-start":"<forgiving-selector-list>","scope-end":"<forgiving-selector-list>","forgiving-selector-list":"<complex-real-selector-list>","forgiving-relative-selector-list":"<relative-real-selector-list>","selector-list":"<complex-selector-list>","complex-real-selector-list":"<complex-real-selector>#","simple-selector-list":"<simple-selector>#","relative-real-selector-list":"<relative-real-selector>#","complex-selector-unit":"[<compound-selector>? <pseudo-compound-selector>*]!","complex-real-selector":"<compound-selector> [<combinator>? <compound-selector>]*","relative-real-selector":"<combinator>? <complex-real-selector>","pseudo-compound-selector":"<pseudo-element-selector> <pseudo-class-selector>*","simple-selector":"<type-selector>|<subclass-selector>","legacy-pseudo-element-selector":"':' [before|after|first-line|first-letter]","single-animation-composition":"replace|add|accumulate","svg-length":"<percentage>|<length>|<number>","svg-writing-mode":"lr-tb|rl-tb|tb-rl|lr|rl|tb",top:"<length>|auto",x:"<number>",y:"<number>",declaration:"<ident-token> : <declaration-value>? ['!' important]?","declaration-list":"[<declaration>? ';']* <declaration>?",url:"url( <string> <url-modifier>* )|<url-token>","url-modifier":"<ident>|<function-token> <any-value> )","number-zero-one":"<number [0,1]>","number-one-or-greater":"<number [1,\u221e]>","color()":"color( <colorspace-params> [/ [<alpha-value>|none]]? )","colorspace-params":"[<predefined-rgb-params>|<xyz-params>]","predefined-rgb-params":"<predefined-rgb> [<number>|<percentage>|none]{3}","predefined-rgb":"srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020","xyz-params":"<xyz-space> [<number>|<percentage>|none]{3}","xyz-space":"xyz|xyz-d50|xyz-d65","oklab()":"oklab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )","oklch()":"oklch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )","offset-path":"<ray()>|<url>|<basic-shape>","rect()":"rect( [<length-percentage>|auto]{4} [round <'border-radius'>]? )","xywh()":"xywh( <length-percentage>{2} <length-percentage [0,\u221e]>{2} [round <'border-radius'>]? )","query-in-parens":"( <container-condition> )|( <size-feature> )|style( <style-query> )|<general-enclosed>","size-feature":"<mf-plain>|<mf-boolean>|<mf-range>","style-feature":"<declaration>","style-query":"<style-condition>|<style-feature>","style-condition":"not <style-in-parens>|<style-in-parens> [[and <style-in-parens>]*|[or <style-in-parens>]*]","style-in-parens":"( <style-condition> )|( <style-feature> )|<general-enclosed>","-non-standard-display":"-ms-inline-flexbox|-ms-grid|-ms-inline-grid|-webkit-flex|-webkit-inline-flex|-webkit-box|-webkit-inline-box|-moz-inline-stack|-moz-box|-moz-inline-box","inset-area":"[[left|center|right|span-left|span-right|x-start|x-end|span-x-start|span-x-end|x-self-start|x-self-end|span-x-self-start|span-x-self-end|span-all]||[top|center|bottom|span-top|span-bottom|y-start|y-end|span-y-start|span-y-end|y-self-start|y-self-end|span-y-self-start|span-y-self-end|span-all]|[block-start|center|block-end|span-block-start|span-block-end|span-all]||[inline-start|center|inline-end|span-inline-start|span-inline-end|span-all]|[self-block-start|self-block-end|span-self-block-start|span-self-block-end|span-all]||[self-inline-start|self-inline-end|span-self-inline-start|span-self-inline-end|span-all]|[start|center|end|span-start|span-end|span-all]{1,2}|[self-start|center|self-end|span-self-start|span-self-end|span-all]{1,2}]","position-area":"[[left|center|right|span-left|span-right|x-start|x-end|span-x-start|span-x-end|x-self-start|x-self-end|span-x-self-start|span-x-self-end|span-all]||[top|center|bottom|span-top|span-bottom|y-start|y-end|span-y-start|span-y-end|y-self-start|y-self-end|span-y-self-start|span-y-self-end|span-all]|[block-start|center|block-end|span-block-start|span-block-end|span-all]||[inline-start|center|inline-end|span-inline-start|span-inline-end|span-all]|[self-block-start|center|self-block-end|span-self-block-start|span-self-block-end|span-all]||[self-inline-start|center|self-inline-end|span-self-inline-start|span-self-inline-end|span-all]|[start|center|end|span-start|span-end|span-all]{1,2}|[self-start|center|self-end|span-self-start|span-self-end|span-all]{1,2}]","anchor()":"anchor( <anchor-element>?&&<anchor-side> , <length-percentage>? )","anchor-side":"inside|outside|top|left|right|bottom|start|end|self-start|self-end|<percentage>|center","anchor-size()":"anchor-size( [<anchor-element>||<anchor-size>]? , <length-percentage>? )","anchor-size":"width|height|block|inline|self-block|self-inline","anchor-element":"<dashed-ident>","try-size":"most-width|most-height|most-block-size|most-inline-size","try-tactic":"flip-block||flip-inline||flip-start","font-variant-css2":"normal|small-caps","font-width-css3":"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded","system-family-name":"caption|icon|menu|message-box|small-caption|status-bar"},properties:{"--*":"<declaration-value>","-ms-accelerator":"false|true","-ms-block-progression":"tb|rl|bt|lr","-ms-content-zoom-chaining":"none|chained","-ms-content-zooming":"none|zoom","-ms-content-zoom-limit":"<'-ms-content-zoom-limit-min'> <'-ms-content-zoom-limit-max'>","-ms-content-zoom-limit-max":"<percentage>","-ms-content-zoom-limit-min":"<percentage>","-ms-content-zoom-snap":"<'-ms-content-zoom-snap-type'>||<'-ms-content-zoom-snap-points'>","-ms-content-zoom-snap-points":"snapInterval( <percentage> , <percentage> )|snapList( <percentage># )","-ms-content-zoom-snap-type":"none|proximity|mandatory","-ms-filter":"<string>","-ms-flow-from":"[none|<custom-ident>]#","-ms-flow-into":"[none|<custom-ident>]#","-ms-grid-columns":"none|<track-list>|<auto-track-list>","-ms-grid-rows":"none|<track-list>|<auto-track-list>","-ms-high-contrast-adjust":"auto|none","-ms-hyphenate-limit-chars":"auto|<integer>{1,3}","-ms-hyphenate-limit-lines":"no-limit|<integer>","-ms-hyphenate-limit-zone":"<percentage>|<length>","-ms-ime-align":"auto|after","-ms-overflow-style":"auto|none|scrollbar|-ms-autohiding-scrollbar","-ms-scrollbar-3dlight-color":"<color>","-ms-scrollbar-arrow-color":"<color>","-ms-scrollbar-base-color":"<color>","-ms-scrollbar-darkshadow-color":"<color>","-ms-scrollbar-face-color":"<color>","-ms-scrollbar-highlight-color":"<color>","-ms-scrollbar-shadow-color":"<color>","-ms-scrollbar-track-color":"<color>","-ms-scroll-chaining":"chained|none","-ms-scroll-limit":"<'-ms-scroll-limit-x-min'> <'-ms-scroll-limit-y-min'> <'-ms-scroll-limit-x-max'> <'-ms-scroll-limit-y-max'>","-ms-scroll-limit-x-max":"auto|<length>","-ms-scroll-limit-x-min":"<length>","-ms-scroll-limit-y-max":"auto|<length>","-ms-scroll-limit-y-min":"<length>","-ms-scroll-rails":"none|railed","-ms-scroll-snap-points-x":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-points-y":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-type":"none|proximity|mandatory","-ms-scroll-snap-x":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-x'>","-ms-scroll-snap-y":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-y'>","-ms-scroll-translation":"none|vertical-to-horizontal","-ms-text-autospace":"none|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space","-ms-touch-select":"grippers|none","-ms-user-select":"none|element|text","-ms-wrap-flow":"auto|both|start|end|maximum|clear","-ms-wrap-margin":"<length>","-ms-wrap-through":"wrap|none","-moz-appearance":"none|button|button-arrow-down|button-arrow-next|button-arrow-previous|button-arrow-up|button-bevel|button-focus|caret|checkbox|checkbox-container|checkbox-label|checkmenuitem|dualbutton|groupbox|listbox|listitem|menuarrow|menubar|menucheckbox|menuimage|menuitem|menuitemtext|menulist|menulist-button|menulist-text|menulist-textfield|menupopup|menuradio|menuseparator|meterbar|meterchunk|progressbar|progressbar-vertical|progresschunk|progresschunk-vertical|radio|radio-container|radio-label|radiomenuitem|range|range-thumb|resizer|resizerpanel|scale-horizontal|scalethumbend|scalethumb-horizontal|scalethumbstart|scalethumbtick|scalethumb-vertical|scale-vertical|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|separator|sheet|spinner|spinner-downbutton|spinner-textfield|spinner-upbutton|splitter|statusbar|statusbarpanel|tab|tabpanel|tabpanels|tab-scroll-arrow-back|tab-scroll-arrow-forward|textfield|textfield-multiline|toolbar|toolbarbutton|toolbarbutton-dropdown|toolbargripper|toolbox|tooltip|treeheader|treeheadercell|treeheadersortarrow|treeitem|treeline|treetwisty|treetwistyopen|treeview|-moz-mac-unified-toolbar|-moz-win-borderless-glass|-moz-win-browsertabbar-toolbox|-moz-win-communicationstext|-moz-win-communications-toolbox|-moz-win-exclude-glass|-moz-win-glass|-moz-win-mediatext|-moz-win-media-toolbox|-moz-window-button-box|-moz-window-button-box-maximized|-moz-window-button-close|-moz-window-button-maximize|-moz-window-button-minimize|-moz-window-button-restore|-moz-window-frame-bottom|-moz-window-frame-left|-moz-window-frame-right|-moz-window-titlebar|-moz-window-titlebar-maximized","-moz-binding":"<url>|none","-moz-border-bottom-colors":"<color>+|none","-moz-border-left-colors":"<color>+|none","-moz-border-right-colors":"<color>+|none","-moz-border-top-colors":"<color>+|none","-moz-context-properties":"none|[fill|fill-opacity|stroke|stroke-opacity]#","-moz-float-edge":"border-box|content-box|margin-box|padding-box","-moz-force-broken-image-icon":"0|1","-moz-image-region":"<shape>|auto","-moz-orient":"inline|block|horizontal|vertical","-moz-outline-radius":"<outline-radius>{1,4} [/ <outline-radius>{1,4}]?","-moz-outline-radius-bottomleft":"<outline-radius>","-moz-outline-radius-bottomright":"<outline-radius>","-moz-outline-radius-topleft":"<outline-radius>","-moz-outline-radius-topright":"<outline-radius>","-moz-stack-sizing":"ignore|stretch-to-fit","-moz-text-blink":"none|blink","-moz-user-focus":"ignore|normal|select-after|select-before|select-menu|select-same|select-all|none","-moz-user-input":"auto|none|enabled|disabled","-moz-user-modify":"read-only|read-write|write-only","-moz-window-dragging":"drag|no-drag","-moz-window-shadow":"default|menu|tooltip|sheet|none","-webkit-appearance":"none|button|button-bevel|caps-lock-indicator|caret|checkbox|default-button|inner-spin-button|listbox|listitem|media-controls-background|media-controls-fullscreen-background|media-current-time-display|media-enter-fullscreen-button|media-exit-fullscreen-button|media-fullscreen-button|media-mute-button|media-overlay-play-button|media-play-button|media-seek-back-button|media-seek-forward-button|media-slider|media-sliderthumb|media-time-remaining-display|media-toggle-closed-captions-button|media-volume-slider|media-volume-slider-container|media-volume-sliderthumb|menulist|menulist-button|menulist-text|menulist-textfield|meter|progress-bar|progress-bar-value|push-button|radio|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbargripper-horizontal|scrollbargripper-vertical|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|searchfield-cancel-button|searchfield-decoration|searchfield-results-button|searchfield-results-decoration|slider-horizontal|slider-vertical|sliderthumb-horizontal|sliderthumb-vertical|square-button|textarea|textfield|-apple-pay-button","-webkit-border-before":"<'border-width'>||<'border-style'>||<color>","-webkit-border-before-color":"<color>","-webkit-border-before-style":"<'border-style'>","-webkit-border-before-width":"<'border-width'>","-webkit-box-reflect":"[above|below|right|left]? <length>? <image>?","-webkit-line-clamp":"none|<integer>","-webkit-mask":"[<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||[<box>|border|padding|content|text]||[<box>|border|padding|content]]#","-webkit-mask-attachment":"<attachment>#","-webkit-mask-clip":"[<box>|border|padding|content|text]#","-webkit-mask-composite":"<composite-style>#","-webkit-mask-image":"<mask-reference>#","-webkit-mask-origin":"[<box>|border|padding|content]#","-webkit-mask-position":"<position>#","-webkit-mask-position-x":"[<length-percentage>|left|center|right]#","-webkit-mask-position-y":"[<length-percentage>|top|center|bottom]#","-webkit-mask-repeat":"<repeat-style>#","-webkit-mask-repeat-x":"repeat|no-repeat|space|round","-webkit-mask-repeat-y":"repeat|no-repeat|space|round","-webkit-mask-size":"<bg-size>#","-webkit-overflow-scrolling":"auto|touch","-webkit-tap-highlight-color":"<color>","-webkit-text-fill-color":"<color>","-webkit-text-stroke":"<length>||<color>","-webkit-text-stroke-color":"<color>","-webkit-text-stroke-width":"<length>","-webkit-touch-callout":"default|none","-webkit-user-modify":"read-only|read-write|read-write-plaintext-only","accent-color":"auto|<color>","align-content":"normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>","align-items":"normal|stretch|<baseline-position>|[<overflow-position>? <self-position>]","align-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? <self-position>","align-tracks":"[normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>]#",all:"initial|inherit|unset|revert|revert-layer","anchor-name":"none|<dashed-ident>#","anchor-scope":"none|all|<dashed-ident>#",animation:"<single-animation>#","animation-composition":"<single-animation-composition>#","animation-delay":"<time>#","animation-direction":"<single-animation-direction>#","animation-duration":"<time>#","animation-fill-mode":"<single-animation-fill-mode>#","animation-iteration-count":"<single-animation-iteration-count>#","animation-name":"[none|<keyframes-name>]#","animation-play-state":"<single-animation-play-state>#","animation-range":"[<'animation-range-start'> <'animation-range-end'>?]#","animation-range-end":"[normal|<length-percentage>|<timeline-range-name> <length-percentage>?]#","animation-range-start":"[normal|<length-percentage>|<timeline-range-name> <length-percentage>?]#","animation-timing-function":"<easing-function>#","animation-timeline":"<single-animation-timeline>#",appearance:"none|auto|textfield|menulist-button|<compat-auto>","aspect-ratio":"auto||<ratio>",azimuth:"<angle>|[[left-side|far-left|left|center-left|center|center-right|right|far-right|right-side]||behind]|leftwards|rightwards","backdrop-filter":"none|<filter-function-list>","backface-visibility":"visible|hidden",background:"[<bg-layer> ,]* <final-bg-layer>","background-attachment":"<attachment>#","background-blend-mode":"<blend-mode>#","background-clip":"<bg-clip>#","background-color":"<color>","background-image":"<bg-image>#","background-origin":"<box>#","background-position":"<bg-position>#","background-position-x":"[center|[[left|right|x-start|x-end]? <length-percentage>?]!]#","background-position-y":"[center|[[top|bottom|y-start|y-end]? <length-percentage>?]!]#","background-repeat":"<repeat-style>#","background-size":"<bg-size>#","block-size":"<'width'>",border:"<line-width>||<line-style>||<color>","border-block":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-color":"<'border-top-color'>{1,2}","border-block-style":"<'border-top-style'>","border-block-width":"<'border-top-width'>","border-block-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-end-color":"<'border-top-color'>","border-block-end-style":"<'border-top-style'>","border-block-end-width":"<'border-top-width'>","border-block-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-start-color":"<'border-top-color'>","border-block-start-style":"<'border-top-style'>","border-block-start-width":"<'border-top-width'>","border-bottom":"<line-width>||<line-style>||<color>","border-bottom-color":"<'border-top-color'>","border-bottom-left-radius":"<length-percentage>{1,2}","border-bottom-right-radius":"<length-percentage>{1,2}","border-bottom-style":"<line-style>","border-bottom-width":"<line-width>","border-collapse":"collapse|separate","border-color":"<color>{1,4}","border-end-end-radius":"<length-percentage>{1,2}","border-end-start-radius":"<length-percentage>{1,2}","border-image":"<'border-image-source'>||<'border-image-slice'> [/ <'border-image-width'>|/ <'border-image-width'>? / <'border-image-outset'>]?||<'border-image-repeat'>","border-image-outset":"[<length>|<number>]{1,4}","border-image-repeat":"[stretch|repeat|round|space]{1,2}","border-image-slice":"<number-percentage>{1,4}&&fill?","border-image-source":"none|<image>","border-image-width":"[<length-percentage>|<number>|auto]{1,4}","border-inline":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-color":"<'border-top-color'>{1,2}","border-inline-style":"<'border-top-style'>","border-inline-width":"<'border-top-width'>","border-inline-end-color":"<'border-top-color'>","border-inline-end-style":"<'border-top-style'>","border-inline-end-width":"<'border-top-width'>","border-inline-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-start-color":"<'border-top-color'>","border-inline-start-style":"<'border-top-style'>","border-inline-start-width":"<'border-top-width'>","border-left":"<line-width>||<line-style>||<color>","border-left-color":"<color>","border-left-style":"<line-style>","border-left-width":"<line-width>","border-radius":"<length-percentage>{1,4} [/ <length-percentage>{1,4}]?","border-right":"<line-width>||<line-style>||<color>","border-right-color":"<color>","border-right-style":"<line-style>","border-right-width":"<line-width>","border-spacing":"<length> <length>?","border-start-end-radius":"<length-percentage>{1,2}","border-start-start-radius":"<length-percentage>{1,2}","border-style":"<line-style>{1,4}","border-top":"<line-width>||<line-style>||<color>","border-top-color":"<color>","border-top-left-radius":"<length-percentage>{1,2}","border-top-right-radius":"<length-percentage>{1,2}","border-top-style":"<line-style>","border-top-width":"<line-width>","border-width":"<line-width>{1,4}",bottom:"<length>|<percentage>|auto","box-align":"start|center|end|baseline|stretch","box-decoration-break":"slice|clone","box-direction":"normal|reverse|inherit","box-flex":"<number>","box-flex-group":"<integer>","box-lines":"single|multiple","box-ordinal-group":"<integer>","box-orient":"horizontal|vertical|inline-axis|block-axis|inherit","box-pack":"start|center|end|justify","box-shadow":"none|<shadow>#","box-sizing":"content-box|border-box","break-after":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-before":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-inside":"auto|avoid|avoid-page|avoid-column|avoid-region","caption-side":"top|bottom|block-start|block-end|inline-start|inline-end",caret:"<'caret-color'>||<'caret-shape'>","caret-color":"auto|<color>","caret-shape":"auto|bar|block|underscore",clear:"none|left|right|both|inline-start|inline-end",clip:"<shape>|auto","clip-path":"<clip-source>|[<basic-shape>||<geometry-box>]|none","clip-rule":"nonzero|evenodd",color:"<color>","color-interpolation-filters":"auto|sRGB|linearRGB","color-scheme":"normal|[light|dark|<custom-ident>]+&&only?","column-count":"<integer>|auto","column-fill":"auto|balance","column-gap":"normal|<length-percentage>","column-rule":"<'column-rule-width'>||<'column-rule-style'>||<'column-rule-color'>","column-rule-color":"<color>","column-rule-style":"<'border-style'>","column-rule-width":"<'border-width'>","column-span":"none|all","column-width":"<length>|auto",columns:"<'column-width'>||<'column-count'>",contain:"none|strict|content|[[size||inline-size]||layout||style||paint]","contain-intrinsic-size":"[auto? [none|<length>]]{1,2}","contain-intrinsic-block-size":"auto? [none|<length>]","contain-intrinsic-height":"auto? [none|<length>]","contain-intrinsic-inline-size":"auto? [none|<length>]","contain-intrinsic-width":"auto? [none|<length>]",container:"<'container-name'> [/ <'container-type'>]?","container-name":"none|<custom-ident>+","container-type":"normal||[size|inline-size]",content:"normal|none|[<content-replacement>|<content-list>] [/ [<string>|<counter>]+]?","content-visibility":"visible|auto|hidden","counter-increment":"[<counter-name> <integer>?]+|none","counter-reset":"[<counter-name> <integer>?|<reversed-counter-name> <integer>?]+|none","counter-set":"[<counter-name> <integer>?]+|none",cursor:"[[<url> [<x> <y>]? ,]* [auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out|grab|grabbing|hand|-webkit-grab|-webkit-grabbing|-webkit-zoom-in|-webkit-zoom-out|-moz-grab|-moz-grabbing|-moz-zoom-in|-moz-zoom-out]]",d:"none|path( <string> )",cx:"<length>|<percentage>",cy:"<length>|<percentage>",direction:"ltr|rtl",display:"[<display-outside>||<display-inside>]|<display-listitem>|<display-internal>|<display-box>|<display-legacy>|<-non-standard-display>","dominant-baseline":"auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge","empty-cells":"show|hide","field-sizing":"content|fixed",fill:"<paint>","fill-opacity":"<number-zero-one>","fill-rule":"nonzero|evenodd",filter:"none|<filter-function-list>|<-ms-filter-function-list>",flex:"none|[<'flex-grow'> <'flex-shrink'>?||<'flex-basis'>]","flex-basis":"content|<'width'>","flex-direction":"row|row-reverse|column|column-reverse","flex-flow":"<'flex-direction'>||<'flex-wrap'>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap|wrap|wrap-reverse",float:"left|right|none|inline-start|inline-end",font:"[[<'font-style'>||<font-variant-css2>||<'font-weight'>||<font-width-css3>]? <'font-size'> [/ <'line-height'>]? <'font-family'>#]|<system-family-name>|<-non-standard-font>","font-family":"[<family-name>|<generic-family>]#","font-feature-settings":"normal|<feature-tag-value>#","font-kerning":"auto|normal|none","font-language-override":"normal|<string>","font-optical-sizing":"auto|none","font-palette":"normal|light|dark|<palette-identifier>","font-variation-settings":"normal|[<string> <number>]#","font-size":"<absolute-size>|<relative-size>|<length-percentage>","font-size-adjust":"none|[ex-height|cap-height|ch-width|ic-width|ic-height]? [from-font|<number>]","font-smooth":"auto|never|always|<absolute-size>|<length>","font-stretch":"<font-stretch-absolute>","font-style":"normal|italic|oblique <angle>?","font-synthesis":"none|[weight||style||small-caps||position]","font-synthesis-position":"auto|none","font-synthesis-small-caps":"auto|none","font-synthesis-style":"auto|none","font-synthesis-weight":"auto|none","font-variant":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-alternates":"normal|[stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )]","font-variant-caps":"normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","font-variant-east-asian":"normal|[<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-emoji":"normal|text|emoji|unicode","font-variant-ligatures":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>]","font-variant-numeric":"normal|[<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero]","font-variant-position":"normal|sub|super","font-weight":"<font-weight-absolute>|bolder|lighter","forced-color-adjust":"auto|none|preserve-parent-color",gap:"<'row-gap'> <'column-gap'>?",grid:"<'grid-template'>|<'grid-template-rows'> / [auto-flow&&dense?] <'grid-auto-columns'>?|[auto-flow&&dense?] <'grid-auto-rows'>? / <'grid-template-columns'>","grid-area":"<grid-line> [/ <grid-line>]{0,3}","grid-auto-columns":"<track-size>+","grid-auto-flow":"[row|column]||dense","grid-auto-rows":"<track-size>+","grid-column":"<grid-line> [/ <grid-line>]?","grid-column-end":"<grid-line>","grid-column-gap":"<length-percentage>","grid-column-start":"<grid-line>","grid-gap":"<'grid-row-gap'> <'grid-column-gap'>?","grid-row":"<grid-line> [/ <grid-line>]?","grid-row-end":"<grid-line>","grid-row-gap":"<length-percentage>","grid-row-start":"<grid-line>","grid-template":"none|[<'grid-template-rows'> / <'grid-template-columns'>]|[<line-names>? <string> <track-size>? <line-names>?]+ [/ <explicit-track-list>]?","grid-template-areas":"none|<string>+","grid-template-columns":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","grid-template-rows":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","hanging-punctuation":"none|[first||[force-end|allow-end]||last]",height:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","hyphenate-character":"auto|<string>","hyphenate-limit-chars":"[auto|<integer>]{1,3}",hyphens:"none|manual|auto","image-orientation":"from-image|<angle>|[<angle>? flip]","image-rendering":"auto|crisp-edges|pixelated|optimizeSpeed|optimizeQuality|<-non-standard-image-rendering>","image-resolution":"[from-image||<resolution>]&&snap?","ime-mode":"auto|normal|active|inactive|disabled","initial-letter":"normal|[<number> <integer>?]","initial-letter-align":"[auto|alphabetic|hanging|ideographic]","inline-size":"<'width'>","input-security":"auto|none",inset:"<'top'>{1,4}","inset-block":"<'top'>{1,2}","inset-block-end":"<'top'>","inset-block-start":"<'top'>","inset-inline":"<'top'>{1,2}","inset-inline-end":"<'top'>","inset-inline-start":"<'top'>","interpolate-size":"numeric-only|allow-keywords",isolation:"auto|isolate","justify-content":"normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]","justify-items":"normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]|legacy|legacy&&[left|right|center]","justify-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]","justify-tracks":"[normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]]#",left:"<length>|<percentage>|auto","letter-spacing":"normal|<length-percentage>","line-break":"auto|loose|normal|strict|anywhere","line-clamp":"none|<integer>","line-height":"normal|<number>|<length>|<percentage>","line-height-step":"<length>","list-style":"<'list-style-type'>||<'list-style-position'>||<'list-style-image'>","list-style-image":"<image>|none","list-style-position":"inside|outside","list-style-type":"<counter-style>|<string>|none",margin:"[<length>|<percentage>|auto]{1,4}","margin-block":"<'margin-left'>{1,2}","margin-block-end":"<'margin-left'>","margin-block-start":"<'margin-left'>","margin-bottom":"<length>|<percentage>|auto","margin-inline":"<'margin-left'>{1,2}","margin-inline-end":"<'margin-left'>","margin-inline-start":"<'margin-left'>","margin-left":"<length>|<percentage>|auto","margin-right":"<length>|<percentage>|auto","margin-top":"<length>|<percentage>|auto","margin-trim":"none|in-flow|all",marker:"none|<url>","marker-end":"none|<url>","marker-mid":"none|<url>","marker-start":"none|<url>",mask:"<mask-layer>#","mask-border":"<'mask-border-source'>||<'mask-border-slice'> [/ <'mask-border-width'>? [/ <'mask-border-outset'>]?]?||<'mask-border-repeat'>||<'mask-border-mode'>","mask-border-mode":"luminance|alpha","mask-border-outset":"[<length>|<number>]{1,4}","mask-border-repeat":"[stretch|repeat|round|space]{1,2}","mask-border-slice":"<number-percentage>{1,4} fill?","mask-border-source":"none|<image>","mask-border-width":"[<length-percentage>|<number>|auto]{1,4}","mask-clip":"[<geometry-box>|no-clip]#","mask-composite":"<compositing-operator>#","mask-image":"<mask-reference>#","mask-mode":"<masking-mode>#","mask-origin":"<geometry-box>#","mask-position":"<position>#","mask-repeat":"<repeat-style>#","mask-size":"<bg-size>#","mask-type":"luminance|alpha","masonry-auto-flow":"[pack|next]||[definite-first|ordered]","math-depth":"auto-add|add( <integer> )|<integer>","math-shift":"normal|compact","math-style":"normal|compact","max-block-size":"<'max-width'>","max-height":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","max-inline-size":"<'max-width'>","max-lines":"none|<integer>","max-width":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","min-block-size":"<'min-width'>","min-height":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","min-inline-size":"<'min-width'>","min-width":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","mix-blend-mode":"<blend-mode>|plus-lighter","object-fit":"fill|contain|cover|none|scale-down","object-position":"<position>",offset:"[<'offset-position'>? [<'offset-path'> [<'offset-distance'>||<'offset-rotate'>]?]?]! [/ <'offset-anchor'>]?","offset-anchor":"auto|<position>","offset-distance":"<length-percentage>","offset-path":"none|<offset-path>||<coord-box>","offset-position":"normal|auto|<position>","offset-rotate":"[auto|reverse]||<angle>",opacity:"<alpha-value>",order:"<integer>",orphans:"<integer>",outline:"[<'outline-width'>||<'outline-style'>||<'outline-color'>]","outline-color":"auto|<color>","outline-offset":"<length>","outline-style":"auto|<'border-style'>","outline-width":"<line-width>",overflow:"[visible|hidden|clip|scroll|auto]{1,2}|<-non-standard-overflow>","overflow-anchor":"auto|none","overflow-block":"visible|hidden|clip|scroll|auto","overflow-clip-box":"padding-box|content-box","overflow-clip-margin":"<visual-box>||<length [0,\u221e]>","overflow-inline":"visible|hidden|clip|scroll|auto","overflow-wrap":"normal|break-word|anywhere","overflow-x":"visible|hidden|clip|scroll|auto","overflow-y":"visible|hidden|clip|scroll|auto",overlay:"none|auto","overscroll-behavior":"[contain|none|auto]{1,2}","overscroll-behavior-block":"contain|none|auto","overscroll-behavior-inline":"contain|none|auto","overscroll-behavior-x":"contain|none|auto","overscroll-behavior-y":"contain|none|auto",padding:"[<length>|<percentage>]{1,4}","padding-block":"<'padding-left'>{1,2}","padding-block-end":"<'padding-left'>","padding-block-start":"<'padding-left'>","padding-bottom":"<length>|<percentage>","padding-inline":"<'padding-left'>{1,2}","padding-inline-end":"<'padding-left'>","padding-inline-start":"<'padding-left'>","padding-left":"<length>|<percentage>","padding-right":"<length>|<percentage>","padding-top":"<length>|<percentage>",page:"auto|<custom-ident>","page-break-after":"auto|always|avoid|left|right|recto|verso","page-break-before":"auto|always|avoid|left|right|recto|verso","page-break-inside":"auto|avoid","paint-order":"normal|[fill||stroke||markers]",perspective:"none|<length>","perspective-origin":"<position>","place-content":"<'align-content'> <'justify-content'>?","place-items":"<'align-items'> <'justify-items'>?","place-self":"<'align-self'> <'justify-self'>?","pointer-events":"auto|none|visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|inherit",position:"static|relative|absolute|sticky|fixed|-webkit-sticky","position-anchor":"auto|<anchor-name>","position-area":"none|<position-area>","position-try":"<'position-try-order'>? <'position-try-fallbacks'>","position-try-fallbacks":"none|[[<dashed-ident>||<try-tactic>]|<'position-area'>]#","position-try-order":"normal|<try-size>","position-visibility":"always|[anchors-valid||anchors-visible||no-overflow]","print-color-adjust":"economy|exact",quotes:"none|auto|[<string> <string>]+",r:"<length>|<percentage>",resize:"none|both|horizontal|vertical|block|inline",right:"<length>|<percentage>|auto",rotate:"none|<angle>|[x|y|z|<number>{3}]&&<angle>","row-gap":"normal|<length-percentage>","ruby-align":"start|center|space-between|space-around","ruby-merge":"separate|collapse|auto","ruby-position":"[alternate||[over|under]]|inter-character",rx:"<length>|<percentage>",ry:"<length>|<percentage>",scale:"none|[<number>|<percentage>]{1,3}","scrollbar-color":"auto|<color>{2}","scrollbar-gutter":"auto|stable&&both-edges?","scrollbar-width":"auto|thin|none","scroll-behavior":"auto|smooth","scroll-margin":"<length>{1,4}","scroll-margin-block":"<length>{1,2}","scroll-margin-block-start":"<length>","scroll-margin-block-end":"<length>","scroll-margin-bottom":"<length>","scroll-margin-inline":"<length>{1,2}","scroll-margin-inline-start":"<length>","scroll-margin-inline-end":"<length>","scroll-margin-left":"<length>","scroll-margin-right":"<length>","scroll-margin-top":"<length>","scroll-padding":"[auto|<length-percentage>]{1,4}","scroll-padding-block":"[auto|<length-percentage>]{1,2}","scroll-padding-block-start":"auto|<length-percentage>","scroll-padding-block-end":"auto|<length-percentage>","scroll-padding-bottom":"auto|<length-percentage>","scroll-padding-inline":"[auto|<length-percentage>]{1,2}","scroll-padding-inline-start":"auto|<length-percentage>","scroll-padding-inline-end":"auto|<length-percentage>","scroll-padding-left":"auto|<length-percentage>","scroll-padding-right":"auto|<length-percentage>","scroll-padding-top":"auto|<length-percentage>","scroll-snap-align":"[none|start|end|center]{1,2}","scroll-snap-coordinate":"none|<position>#","scroll-snap-destination":"<position>","scroll-snap-points-x":"none|repeat( <length-percentage> )","scroll-snap-points-y":"none|repeat( <length-percentage> )","scroll-snap-stop":"normal|always","scroll-snap-type":"none|[x|y|block|inline|both] [mandatory|proximity]?","scroll-snap-type-x":"none|mandatory|proximity","scroll-snap-type-y":"none|mandatory|proximity","scroll-timeline":"[<'scroll-timeline-name'>||<'scroll-timeline-axis'>]#","scroll-timeline-axis":"[block|inline|x|y]#","scroll-timeline-name":"[none|<dashed-ident>]#","shape-image-threshold":"<alpha-value>","shape-margin":"<length-percentage>","shape-outside":"none|[<shape-box>||<basic-shape>]|<image>","shape-rendering":"auto|optimizeSpeed|crispEdges|geometricPrecision",stroke:"<paint>","stroke-dasharray":"none|[<svg-length>+]#","stroke-dashoffset":"<svg-length>","stroke-linecap":"butt|round|square","stroke-linejoin":"miter|round|bevel","stroke-miterlimit":"<number-one-or-greater>","stroke-opacity":"<'opacity'>","stroke-width":"<svg-length>","tab-size":"<integer>|<length>","table-layout":"auto|fixed","text-align":"start|end|left|right|center|justify|match-parent","text-align-last":"auto|start|end|left|right|center|justify","text-anchor":"start|middle|end","text-combine-upright":"none|all|[digits <integer>?]","text-decoration":"<'text-decoration-line'>||<'text-decoration-style'>||<'text-decoration-color'>||<'text-decoration-thickness'>","text-decoration-color":"<color>","text-decoration-line":"none|[underline||overline||line-through||blink]|spelling-error|grammar-error","text-decoration-skip":"none|[objects||[spaces|[leading-spaces||trailing-spaces]]||edges||box-decoration]","text-decoration-skip-ink":"auto|all|none","text-decoration-style":"solid|double|dotted|dashed|wavy","text-decoration-thickness":"auto|from-font|<length>|<percentage>","text-emphasis":"<'text-emphasis-style'>||<'text-emphasis-color'>","text-emphasis-color":"<color>","text-emphasis-position":"auto|[over|under]&&[right|left]?","text-emphasis-style":"none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|<string>","text-indent":"<length-percentage>&&hanging?&&each-line?","text-justify":"auto|inter-character|inter-word|none","text-orientation":"mixed|upright|sideways","text-overflow":"[clip|ellipsis|<string>]{1,2}","text-rendering":"auto|optimizeSpeed|optimizeLegibility|geometricPrecision","text-shadow":"none|<shadow-t>#","text-size-adjust":"none|auto|<percentage>","text-spacing-trim":"space-all|normal|space-first|trim-start|trim-both|trim-all|auto","text-transform":"none|capitalize|uppercase|lowercase|full-width|full-size-kana","text-underline-offset":"auto|<length>|<percentage>","text-underline-position":"auto|from-font|[under||[left|right]]","text-wrap":"<'text-wrap-mode'>||<'text-wrap-style'>","text-wrap-mode":"auto|wrap|nowrap","text-wrap-style":"auto|balance|stable|pretty","timeline-scope":"none|<dashed-ident>#",top:"<length>|<percentage>|auto","touch-action":"auto|none|[[pan-x|pan-left|pan-right]||[pan-y|pan-up|pan-down]||pinch-zoom]|manipulation",transform:"none|<transform-list>","transform-box":"content-box|border-box|fill-box|stroke-box|view-box","transform-origin":"[<length-percentage>|left|center|right|top|bottom]|[[<length-percentage>|left|center|right]&&[<length-percentage>|top|center|bottom]] <length>?","transform-style":"flat|preserve-3d",transition:"<single-transition>#","transition-behavior":"<transition-behavior-value>#","transition-delay":"<time>#","transition-duration":"<time>#","transition-property":"none|<single-transition-property>#","transition-timing-function":"<easing-function>#",translate:"none|<length-percentage> [<length-percentage> <length>?]?","unicode-bidi":"normal|embed|isolate|bidi-override|isolate-override|plaintext|-moz-isolate|-moz-isolate-override|-moz-plaintext|-webkit-isolate|-webkit-isolate-override|-webkit-plaintext","user-select":"auto|text|none|contain|all","vector-effect":"none|non-scaling-stroke|non-scaling-size|non-rotation|fixed-position","vertical-align":"baseline|sub|super|text-top|text-bottom|middle|top|bottom|<percentage>|<length>","view-timeline":"[<'view-timeline-name'> <'view-timeline-axis'>?]#","view-timeline-axis":"[block|inline|x|y]#","view-timeline-inset":"[[auto|<length-percentage>]{1,2}]#","view-timeline-name":"none|<dashed-ident>#","view-transition-name":"none|<custom-ident>",visibility:"visible|hidden|collapse","white-space":"normal|pre|nowrap|pre-wrap|pre-line|break-spaces|[<'white-space-collapse'>||<'text-wrap'>||<'white-space-trim'>]","white-space-collapse":"collapse|discard|preserve|preserve-breaks|preserve-spaces|break-spaces",widows:"<integer>",width:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","will-change":"auto|<animateable-feature>#","word-break":"normal|break-all|keep-all|break-word|auto-phrase","word-spacing":"normal|<length>","word-wrap":"normal|break-word","writing-mode":"horizontal-tb|vertical-rl|vertical-lr|sideways-rl|sideways-lr|<svg-writing-mode>",x:"<length>|<percentage>",y:"<length>|<percentage>","z-index":"auto|<integer>",zoom:"normal|reset|<number>|<percentage>","-moz-background-clip":"padding|border","-moz-border-radius-bottomleft":"<'border-bottom-left-radius'>","-moz-border-radius-bottomright":"<'border-bottom-right-radius'>","-moz-border-radius-topleft":"<'border-top-left-radius'>","-moz-border-radius-topright":"<'border-bottom-right-radius'>","-moz-control-character-visibility":"visible|hidden","-moz-osx-font-smoothing":"auto|grayscale","-moz-user-select":"none|text|all|-moz-none","-ms-flex-align":"start|end|center|baseline|stretch","-ms-flex-item-align":"auto|start|end|center|baseline|stretch","-ms-flex-line-pack":"start|end|center|justify|distribute|stretch","-ms-flex-negative":"<'flex-shrink'>","-ms-flex-pack":"start|end|center|justify|distribute","-ms-flex-order":"<integer>","-ms-flex-positive":"<'flex-grow'>","-ms-flex-preferred-size":"<'flex-basis'>","-ms-interpolation-mode":"nearest-neighbor|bicubic","-ms-grid-column-align":"start|end|center|stretch","-ms-grid-row-align":"start|end|center|stretch","-ms-hyphenate-limit-last":"none|always|column|page|spread","-webkit-background-clip":"[<box>|border|padding|content|text]#","-webkit-column-break-after":"always|auto|avoid","-webkit-column-break-before":"always|auto|avoid","-webkit-column-break-inside":"always|auto|avoid","-webkit-font-smoothing":"auto|none|antialiased|subpixel-antialiased","-webkit-mask-box-image":"[<url>|<gradient>|none] [<length-percentage>{4} <-webkit-mask-box-repeat>{2}]?","-webkit-print-color-adjust":"economy|exact","-webkit-text-security":"none|circle|disc|square","-webkit-user-drag":"none|element|auto","-webkit-user-select":"auto|none|text|all","alignment-baseline":"auto|baseline|before-edge|text-before-edge|middle|central|after-edge|text-after-edge|ideographic|alphabetic|hanging|mathematical","baseline-shift":"baseline|sub|super|<svg-length>",behavior:"<url>+",cue:"<'cue-before'> <'cue-after'>?","cue-after":"<url> <decibel>?|none","cue-before":"<url> <decibel>?|none","glyph-orientation-horizontal":"<angle>","glyph-orientation-vertical":"<angle>",kerning:"auto|<svg-length>",pause:"<'pause-before'> <'pause-after'>?","pause-after":"<time>|none|x-weak|weak|medium|strong|x-strong","pause-before":"<time>|none|x-weak|weak|medium|strong|x-strong",rest:"<'rest-before'> <'rest-after'>?","rest-after":"<time>|none|x-weak|weak|medium|strong|x-strong","rest-before":"<time>|none|x-weak|weak|medium|strong|x-strong",src:"[<url> [format( <string># )]?|local( <family-name> )]#",speak:"auto|never|always","speak-as":"normal|spell-out||digits||[literal-punctuation|no-punctuation]","unicode-range":"<urange>#","voice-balance":"<number>|left|center|right|leftwards|rightwards","voice-duration":"auto|<time>","voice-family":"[[<family-name>|<generic-voice>] ,]* [<family-name>|<generic-voice>]|preserve","voice-pitch":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-range":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-rate":"[normal|x-slow|slow|medium|fast|x-fast]||<percentage>","voice-stress":"normal|strong|moderate|none|reduced","voice-volume":"silent|[[x-soft|soft|medium|loud|x-loud]||<decibel>]","white-space-trim":"none|discard-before||discard-after||discard-inner"},atrules:{charset:{prelude:"<string>",descriptors:null},"counter-style":{prelude:"<counter-style-name>",descriptors:{"additive-symbols":"[<integer>&&<symbol>]#",fallback:"<counter-style-name>",negative:"<symbol> <symbol>?",pad:"<integer>&&<symbol>",prefix:"<symbol>",range:"[[<integer>|infinite]{2}]#|auto","speak-as":"auto|bullets|numbers|words|spell-out|<counter-style-name>",suffix:"<symbol>",symbols:"<symbol>+",system:"cyclic|numeric|alphabetic|symbolic|additive|[fixed <integer>?]|[extends <counter-style-name>]"}},document:{prelude:"[<url>|url-prefix( <string> )|domain( <string> )|media-document( <string> )|regexp( <string> )]#",descriptors:null},"font-palette-values":{prelude:"<dashed-ident>",descriptors:{"base-palette":"light|dark|<integer [0,\u221e]>","font-family":"<family-name>#","override-colors":"[<integer [0,\u221e]> <absolute-color-base>]#"}},"font-face":{prelude:null,descriptors:{"ascent-override":"normal|<percentage>","descent-override":"normal|<percentage>","font-display":"[auto|block|swap|fallback|optional]","font-family":"<family-name>","font-feature-settings":"normal|<feature-tag-value>#","font-variation-settings":"normal|[<string> <number>]#","font-stretch":"<font-stretch-absolute>{1,2}","font-style":"normal|italic|oblique <angle>{0,2}","font-weight":"<font-weight-absolute>{1,2}","line-gap-override":"normal|<percentage>","size-adjust":"<percentage>",src:"[<url> [format( <string># )]?|local( <family-name> )]#","unicode-range":"<urange>#"}},"font-feature-values":{prelude:"<family-name>#",descriptors:null},import:{prelude:"[<string>|<url>] [layer|layer( <layer-name> )]? [supports( [<supports-condition>|<declaration>] )]? <media-query-list>?",descriptors:null},keyframes:{prelude:"<keyframes-name>",descriptors:null},layer:{prelude:"[<layer-name>#|<layer-name>?]",descriptors:null},media:{prelude:"<media-query-list>",descriptors:null},namespace:{prelude:"<namespace-prefix>? [<string>|<url>]",descriptors:null},page:{prelude:"<page-selector-list>",descriptors:{bleed:"auto|<length>",marks:"none|[crop||cross]","page-orientation":"upright|rotate-left|rotate-right",size:"<length>{1,2}|auto|[<page-size>||[portrait|landscape]]"}},"position-try":{prelude:"<dashed-ident>",descriptors:{top:"<'top'>",left:"<'left'>",bottom:"<'bottom'>",right:"<'right'>","inset-block-start":"<'inset-block-start'>","inset-block-end":"<'inset-block-end'>","inset-inline-start":"<'inset-inline-start'>","inset-inline-end":"<'inset-inline-end'>","inset-block":"<'inset-block'>","inset-inline":"<'inset-inline'>",inset:"<'inset'>","margin-top":"<'margin-top'>","margin-left":"<'margin-left'>","margin-bottom":"<'margin-bottom'>","margin-right":"<'margin-right'>","margin-block-start":"<'margin-block-start'>","margin-block-end":"<'margin-block-end'>","margin-inline-start":"<'margin-inline-start'>","margin-inline-end":"<'margin-inline-end'>",margin:"<'margin'>","margin-block":"<'margin-block'>","margin-inline":"<'margin-inline'>",width:"<'width'>",height:"<'height'>","min-width":"<'min-width'>","min-height":"<'min-height'>","max-width":"<'max-width'>","max-height":"<'max-height'>","block-size":"<'block-size'>","inline-size":"<'inline-size'>","min-block-size":"<'min-block-size'>","min-inline-size":"<'min-inline-size'>","max-block-size":"<'max-block-size'>","max-inline-size":"<'max-inline-size'>","align-self":"<'align-self'>|anchor-center","justify-self":"<'justify-self'>|anchor-center"}},property:{prelude:"<custom-property-name>",descriptors:{syntax:"<string>",inherits:"true|false","initial-value":"<declaration-value>?"}},scope:{prelude:"[( <scope-start> )]? [to ( <scope-end> )]?",descriptors:null},"starting-style":{prelude:null,descriptors:null},supports:{prelude:"<supports-condition>",descriptors:null},container:{prelude:"[<container-name>]? <container-condition>",descriptors:null},nest:{prelude:"<complex-selector-list>",descriptors:null}}}),{},{node:te});function gz(e){switch(this.tokenType){case 4:return this.Hash();case vP:return this.Operator();case xP:return this.Parentheses(this.readSequence,e.recognizer);case yP:return this.Brackets(this.readSequence,e.recognizer);case 5:return this.String();case pP:return this.Dimension();case dP:return this.Percentage();case uP:return this.Number();case 2:return this.cmpStr(this.tokenStart,this.tokenEnd,"url(")?this.Url():this.Function(this.readSequence,e.recognizer);case 7:return this.Url();case 1:return this.cmpChar(this.tokenStart,117)&&this.cmpChar(this.tokenStart+1,43)?this.UnicodeRange():this.Identifier();case 9:var t=this.charCodeAt(this.tokenStart);if(47===t||42===t||43===t||45===t)return this.Operator();35===t&&this.error("Hex or identifier is expected",this.tokenStart+1)}}var mz={getNode:gz};var vz={onWhiteSpace:function(e,t){null!==t.last&&"Combinator"!==t.last.type&&null!==e&&"Combinator"!==e.type&&t.push({type:"Combinator",loc:null,name:" "})},getNode:function(){switch(this.tokenType){case yP:return this.AttributeSelector();case 4:return this.IdSelector();case gP:return this.lookupType(1)===gP?this.PseudoElementSelector():this.PseudoClassSelector();case 1:return this.TypeSelector();case uP:case dP:return this.Percentage();case pP:46===this.charCodeAt(this.tokenStart)&&this.error("Identifier is expected",this.tokenStart+1);break;case 9:switch(this.charCodeAt(this.tokenStart)){case 43:case 62:case 126:case 47:return this.Combinator();case 46:return this.ClassSelector();case 42:case 124:return this.TypeSelector();case 35:return this.IdSelector();case 38:return this.NestingSelector()}}}};function yz(e){return null!==e&&"Operator"===e.type&&("-"===e.value[e.value.length-1]||"+"===e.value[e.value.length-1])}var bz={getNode:gz,onWhiteSpace:function(e,t){yz(e)&&(e.value=" "+e.value),yz(t.last)&&(t.last.value+=" ")},expression:function(){return this.createSingleNodeList(this.Raw(null,!1))},var:function(){var e=this.createList();if(this.skipSC(),e.push(this.Identifier()),this.skipSC(),this.tokenType===vP){e.push(this.Operator());var t=this.tokenIndex,n=this.parseCustomProperty?this.Value(null):this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1);if("Value"===n.type&&n.children.isEmpty)for(var r=t-this.tokenIndex;r<=0;r++)if(this.lookupType(r)===fP){n.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}e.push(n)}return e}},xz=new Set(["none","and","not","or"]),wz={parse:{prelude:function(){var e=this.createList();if(1===this.tokenType){var t=this.substring(this.tokenStart,this.tokenEnd);xz.has(t.toLowerCase())||e.push(this.Identifier())}return e.push(this.Condition("container")),e},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.Block(e)}}};function kz(e,t){var n=this;return this.parseWithFallback((function(){try{return e.call(n)}finally{n.skipSC(),n.lookupNonWSType(0)!==wP&&n.error()}}),t||function(){return n.Raw(null,!0)})}var _z={layer:function(){this.skipSC();var e=this.createList(),t=kz.call(this,this.Layer);return"Raw"===t.type&&""===t.value||e.push(t),e},supports:function(){var e=this;this.skipSC();var t=this.createList(),n=kz.call(this,this.Declaration,(function(){return kz.call(e,(function(){return e.Condition("supports")}))}));return"Raw"===n.type&&""===n.value||t.push(n),t}},Cz={parse:{prelude:function(){return this.createSingleNodeList(this.MediaQueryList())},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.Block(e)}}},jz={parse:{prelude:function(){return this.createSingleNodeList(this.Scope())},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.Block(e)}}},Sz={parse:{prelude:null,block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.Block(e)}}},Zz={parse:{prelude:function(){return this.createSingleNodeList(this.Condition("supports"))},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.Block(e)}}};var Nz={parse:function(){return this.createSingleNodeList(this.SelectorList())}},Ez={parse:function(){return this.createSingleNodeList(this.Selector())}},Oz={parse:function(){return this.createSingleNodeList(this.Nth())}},Az={parseContext:{default:"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atrulePrelude:function(e){return this.AtrulePrelude(e.atrule?String(e.atrule):null)},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",condition:function(e){return this.Condition(e.kind)},rule:"Rule",selectorList:"SelectorList",selector:"Selector",block:function(){return this.Block(!0)},declarationList:"DeclarationList",declaration:"Declaration",value:"Value"},features:{supports:{selector:function(){return this.Selector()}},container:{style:function(){return this.Declaration()}}},scope:ne,atrule:{container:wz,"font-face":{parse:{prelude:null,block:function(){return this.Block(!0)}}},import:{parse:{prelude:function(){var e=this.createList();switch(this.tokenType){case 5:e.push(this.String());break;case 7:case 2:e.push(this.Url());break;default:this.error("String or url() is expected")}return this.skipSC(),1===this.tokenType&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer")?e.push(this.Identifier()):2===this.tokenType&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer(")&&e.push(this.Function(null,_z)),this.skipSC(),2===this.tokenType&&this.cmpStr(this.tokenStart,this.tokenEnd,"supports(")&&e.push(this.Function(null,_z)),1!==this.lookupNonWSType(0)&&this.lookupNonWSType(0)!==xP||e.push(this.MediaQueryList()),e},block:null}},layer:{parse:{prelude:function(){return this.createSingleNodeList(this.LayerList())},block:function(){return this.Block(!1)}}},media:Cz,nest:{parse:{prelude:function(){return this.createSingleNodeList(this.SelectorList())},block:function(){return this.Block(!0)}}},page:{parse:{prelude:function(){return this.createSingleNodeList(this.SelectorList())},block:function(){return this.Block(!0)}}},scope:jz,"starting-style":Sz,supports:Zz},pseudo:{dir:{parse:function(){return this.createSingleNodeList(this.Identifier())}},has:Nz,lang:{parse:function(){var e=this.createList();this.skipSC();e:for(;!this.eof;){switch(this.tokenType){case 1:e.push(this.Identifier());break;case 5:e.push(this.String());break;case vP:e.push(this.Operator());break;case wP:break e;default:this.error("Identifier, string or comma is expected")}this.skipSC()}return e}},matches:Nz,is:Nz,"-moz-any":Nz,"-webkit-any":Nz,where:Nz,not:Nz,"nth-child":Oz,"nth-last-child":Oz,"nth-last-of-type":Oz,"nth-of-type":Oz,slotted:Ez,host:Ez,"host-context":Ez},node:re},Tz={node:te},Pz=function(e){return DD(ID({},e))}((0,kn.Z)((0,kn.Z)((0,kn.Z)({},hz),Az),Tz));Pz.tokenize;var Mz=Pz.parse,Iz=(Pz.generate,Pz.lexer),Dz=(Pz.createLexer,Pz.walk),Lz=(Pz.find,Pz.findLast,Pz.findAll,Pz.toPlainObject,Pz.fromPlainObject,Pz.fork,Ua("Mon","pushengage"),Ua("Tue","pushengage"),Ua("Wed","pushengage"),Ua("Thu","pushengage"),Ua("Fri","pushengage"),Ua("Sat","pushengage"),Ua("Sun","pushengage"),function(e){var t=function(e){var t=tP(e);return null===t||void 0===t?void 0:t.placeholder}(e);return t||("email"===e?"name@example.com":Ua("phone"===e||"sms"===e?"Phone Number":"whatsapp"===e||"viber"===e?"Phone (+CCC...)":"google_maps"===e||"waze"===e?"Place or URL":"custom"===e?"URL":"Page/User","pushengage"))}),Rz=function(e,t){var n="string"===typeof t?t.trim():t;if(e.required&&(void 0===n||null===n||""===String(n).trim()))return{valid:!1,message:Ua("This field is required.","pushengage")};if(void 0===n||null===n||""===String(n))return{valid:!0};if(e.validate){var r=e.validate.message||Ua("Invalid value.","pushengage");if("email"===e.validate.kind){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(n)))return{valid:!1,message:r}}else if("url"===e.validate.kind)try{new URL(String(n))}catch(i){return{valid:!1,message:r}}else if("phone"===e.validate.kind){if(!/^\+\d{6,15}$/.test(String(n)))return{valid:!1,message:r}}else if("number"===e.validate.kind){if(isNaN(Number(n)))return{valid:!1,message:r}}else if("regex"===e.validate.kind&&e.validate.pattern)try{if(!new RegExp(e.validate.pattern).test(String(n)))return{valid:!1,message:r}}catch(i){}}return{valid:!0}},Bz=function(e,t){for(var n=oP(e),r=0;r<n.length;r++){var i=n[r],a=t?t[i.key]:void 0,o=Rz(i,a);if(!o.valid)return{valid:!1,key:i.key,message:o.message}}return{valid:!0}},Fz=function(e,t){return t?"email"===e?Yv.test(t)?{valid:!0}:{valid:!1,message:Ua("Enter a valid email address.","pushengage")}:"phone"===e||"sms"===e||"whatsapp"===e||"viber"===e?$v.test(t)?{valid:!0}:{valid:!1,message:Ua("Enter phone with country code. Eg: +1415555","pushengage")}:"custom"===e||"google_maps"===e||"waze"===e||"instagram_page"===e||"messenger"===e||"discord"===e||"slack"===e||"microsoft_teams"===e?qv.test(t)?{valid:!0}:{valid:!1,message:Ua("Enter a valid URL.","pushengage")}:{valid:!0}:{valid:!1,message:Ua("This field is required.","pushengage")}},zz={name:"",status:"enabled",show_on:["desktop","mobile","tablet"],channels:[{id:"ch_whatsapp",type:"whatsapp",value:"",show_on:["desktop","tablet","mobile"],enabled:!0,agents:[]}],appearance:{icon:{color:"#25D366",size:"M",position:{type:"bottom_right",side:"right",x:20,y:20},state:"click_to_open",status:"enabled",custom_type:"image",cta:{text:"Start Chat",color:"#FFFFFF",background:"#25D366",behavior:"hide_after_first_click"},attention_effect:"pulse",shape:"bubble"},view:{layout:"vertical",background_blur:!1,color_theme:"light",style:"simple",heading:Ua("\ud83d\udc4b Welcome!","pushengage"),subheading:Ua("Choose your preferred channel to start chatting","pushengage")},font_family:"inherit",custom_css:""},behavior:{change_page_title:!1,page_title:"\ud83d\udcac New message",google_analytics:"disable",trigger:{type:"always",display_after_seconds:3},display_rules:{group_logic:"or",business_hours:(0,kn.Z)((0,kn.Z)({},{enabled:!1,days:{mon:{enabled:!1,start:"09:00",end:"17:00"},tue:{enabled:!1,start:"09:00",end:"17:00"},wed:{enabled:!1,start:"09:00",end:"17:00"},thu:{enabled:!1,start:"09:00",end:"17:00"},fri:{enabled:!1,start:"09:00",end:"17:00"},sat:{enabled:!1,start:"09:00",end:"17:00"},sun:{enabled:!1,start:"09:00",end:"17:00"}}}),{},{timezone:void 0}),rule_groups:[],date_scheduling:[]}}},Vz=function(e){var t,n,r,i,a,o,s=JSON.parse(JSON.stringify(zz)),l=(0,kn.Z)((0,kn.Z)((0,kn.Z)({},s),e),{},{appearance:(0,kn.Z)((0,kn.Z)((0,kn.Z)({},s.appearance),null===e||void 0===e?void 0:e.appearance),{},{icon:(0,kn.Z)((0,kn.Z)((0,kn.Z)({},s.appearance.icon),(null===e||void 0===e||null===(t=e.appearance)||void 0===t?void 0:t.icon)||{}),{},{cta:(0,kn.Z)((0,kn.Z)({},s.appearance.icon.cta),(null===e||void 0===e||null===(n=e.appearance)||void 0===n||null===(r=n.icon)||void 0===r?void 0:r.cta)||{})}),view:(0,kn.Z)((0,kn.Z)({},s.appearance.view),(null===e||void 0===e||null===(i=e.appearance)||void 0===i?void 0:i.view)||{})}),behavior:(0,kn.Z)((0,kn.Z)((0,kn.Z)({},s.behavior),null===e||void 0===e?void 0:e.behavior),{},{trigger:(0,kn.Z)((0,kn.Z)({},s.behavior.trigger),(null===e||void 0===e||null===(a=e.behavior)||void 0===a?void 0:a.trigger)||{}),display_rules:(0,kn.Z)((0,kn.Z)({},s.behavior.display_rules),(null===e||void 0===e||null===(o=e.behavior)||void 0===o?void 0:o.display_rules)||{})})});l.show_on=Array.isArray(null===e||void 0===e?void 0:e.show_on)?e.show_on:s.show_on,l.channels=Array.isArray(null===e||void 0===e?void 0:e.channels)?e.channels:s.channels,Array.isArray(l.channels)&&(l.channels=l.channels.map((function(e){if(e&&"custom"===e.type&&(null==e.label||""===String(e.label).trim())&&"string"===typeof e.channel_name&&""!==String(e.channel_name).trim())return(0,kn.Z)((0,kn.Z)({},e),{},{label:String(e.channel_name).trim()});var t=(0,kn.Z)({},e);if(!t.color||""===String(t.color).trim())try{var n=sP(null===e||void 0===e?void 0:e.type);n&&(t.color=n)}catch(i){}try{var r=oP(null===e||void 0===e?void 0:e.type);Array.isArray(r)&&r.length>0&&r.forEach((function(e){e.key&&void 0!==e.defaultValue&&void 0===t[e.key]&&(t[e.key]=e.defaultValue)}))}catch(i){}return t}))),l.behavior.display_rules.date_scheduling=Array.isArray(l.behavior.display_rules.date_scheduling)?l.behavior.display_rules.date_scheduling:[];var c=function(e){var t={enabled:!1,days:{mon:{enabled:!1,start:"09:00",end:"17:00"},tue:{enabled:!1,start:"09:00",end:"17:00"},wed:{enabled:!1,start:"09:00",end:"17:00"},thu:{enabled:!1,start:"09:00",end:"17:00"},fri:{enabled:!1,start:"09:00",end:"17:00"},sat:{enabled:!1,start:"09:00",end:"17:00"},sun:{enabled:!1,start:"09:00",end:"17:00"}}},n="object"===typeof e&&e?e:{},r={enabled:Boolean(n.enabled),days:(0,kn.Z)({},t.days)},i=n.days||{};return Object.keys(t.days).forEach((function(e){var t=i[e]||{};r.days[e]={enabled:Boolean(t.enabled),start:"string"===typeof t.start?t.start:"09:00",end:"string"===typeof t.end?t.end:"17:00"}})),r},u=l.behavior.display_rules.business_hours;return l.behavior.display_rules.business_hours="boolean"===typeof u?(0,kn.Z)((0,kn.Z)({},c({enabled:u})),{},{timezone:void 0}):(0,kn.Z)((0,kn.Z)({},c(u)),{},{timezone:u&&"string"===typeof u.timezone?u.timezone:void 0}),l},Uz=function(e){var t,n,r=JSON.parse(JSON.stringify(e)),i=null===r||void 0===r||null===(t=r.behavior)||void 0===t||null===(n=t.display_rules)||void 0===n?void 0:n.date_scheduling;return Array.isArray(i)&&(r.behavior.display_rules.date_scheduling=i.map((function(e){var t=null!==e&&void 0!==e&&e.from?ei()(e.from):null,n=null!==e&&void 0!==e&&e.to?ei()(e.to):null;return(0,kn.Z)((0,kn.Z)({},e),{},{from:t,to:n})}))),r},Hz=function(e){var t,n,r,i,a,o,s,l,c,u,d,p=JSON.parse(JSON.stringify(Vz(e))),f=(null===p||void 0===p||null===(t=p.behavior)||void 0===t?void 0:t.trigger)||{};"duration"===(null===f||void 0===f?void 0:f.type)?(delete f.display_after_scroll_percent,(null==f.display_after_seconds||f.display_after_seconds<0)&&(f.display_after_seconds=0)):"scroll"===(null===f||void 0===f?void 0:f.type)?(delete f.display_after_seconds,(null==f.display_after_scroll_percent||f.display_after_scroll_percent<0||f.display_after_scroll_percent>100)&&(f.display_after_scroll_percent=0)):(delete f.display_after_seconds,delete f.display_after_scroll_percent),p.behavior.trigger=f;var h=function(e){if(e){if("string"===typeof e)return e;if(ei().isMoment&&ei().isMoment(e))try{return e.toISOString()}catch(n){}if(e instanceof Date)return e.toISOString();try{var t=new Date(e);if(!isNaN(t.getTime()))return t.toISOString()}catch(n){}}},g=null===p||void 0===p||null===(n=p.behavior)||void 0===n||null===(r=n.display_rules)||void 0===r?void 0:r.date_scheduling;Array.isArray(g)&&(p.behavior.display_rules.date_scheduling=g.map((function(e){var t=h(null===e||void 0===e?void 0:e.from),n=h(null===e||void 0===e?void 0:e.to);return t&&n?{id:null===e||void 0===e?void 0:e.id,from:t,to:n}:null})).filter(Boolean));var m=null===p||void 0===p||null===(i=p.behavior)||void 0===i||null===(a=i.display_rules)||void 0===a?void 0:a.rule_groups;Array.isArray(m)?p.behavior.display_rules.rule_groups=m.map((function(e){var t="and"===(null===e||void 0===e?void 0:e.rules_logic)?"and":"or",n=(Array.isArray(null===e||void 0===e?void 0:e.rules)?e.rules:[]).map((function(e){var t=null===e||void 0===e?void 0:e.type,n={id:null===e||void 0===e?void 0:e.id,type:t};if("wp_page"===t){var r=["eq","neq"].indexOf(null===e||void 0===e?void 0:e.op)>-1?e.op:"eq",i=null===e||void 0===e?void 0:e.value;if(i&&"object"===typeof i){var a=i.id,o=Number(a);if(!isNaN(o)){var s={id:o};return"string"===typeof i.title&&(s.title=i.title),"string"===typeof i.url&&(s.url=i.url),(0,kn.Z)((0,kn.Z)({},n),{},{op:r,value:s})}return null}if(null!=i){var l=Number(i);return isNaN(l)?null:(0,kn.Z)((0,kn.Z)({},n),{},{op:r,value:{id:l}})}return null}if("url"===t){var c=["eq","contains","starts_with","ends_with"].indexOf(null===e||void 0===e?void 0:e.op)>-1?e.op:"starts_with",u="string"===typeof(null===e||void 0===e?void 0:e.value)?e.value.trim():"";return u?(0,kn.Z)((0,kn.Z)({},n),{},{op:c,value:u}):null}if("country"===t){var d=["in","nin"].indexOf(null===e||void 0===e?void 0:e.op)>-1?e.op:"in",p=Array.isArray(null===e||void 0===e?void 0:e.value)?e.value:[],f=Array.from(new Set(p.map((function(e){return"string"===typeof e?e.trim():""})).filter((function(e){return e.length>0}))));return f.length>0?(0,kn.Z)((0,kn.Z)({},n),{},{op:d,value:f}):null}return null})).filter(Boolean);return{id:null===e||void 0===e?void 0:e.id,rules_logic:t,rules:n}})).filter(Boolean):p.behavior.display_rules.rule_groups=[{rules_logic:"or",rules:[]}];var v=p.behavior.display_rules.group_logic;p.behavior.display_rules.group_logic="and"===v?"and":"or",p.behavior.google_analytics="enable"===(null===p||void 0===p||null===(o=p.behavior)||void 0===o?void 0:o.google_analytics)?"enable":"disable",p.behavior.change_page_title=Boolean(null===p||void 0===p||null===(s=p.behavior)||void 0===s?void 0:s.change_page_title),p.behavior.page_title=(null===p||void 0===p||null===(l=p.behavior)||void 0===l?void 0:l.page_title)||"",Array.isArray(null===p||void 0===p||null===(c=p.behavior)||void 0===c||null===(u=c.display_rules)||void 0===u?void 0:u.date_scheduling)||(p.behavior.display_rules.date_scheduling=[]),"string"!==typeof(null===p||void 0===p||null===(d=p.appearance)||void 0===d?void 0:d.custom_css)&&(p.appearance.custom_css="");var y=p.behavior.display_rules.business_hours,b=function(){var e="boolean"===typeof y?{enabled:y}:y||{},t=(0,kn.Z)((0,kn.Z)({},{enabled:!1,days:{mon:{enabled:!1,start:"09:00",end:"17:00"},tue:{enabled:!1,start:"09:00",end:"17:00"},wed:{enabled:!1,start:"09:00",end:"17:00"},thu:{enabled:!1,start:"09:00",end:"17:00"},fri:{enabled:!1,start:"09:00",end:"17:00"},sat:{enabled:!1,start:"09:00",end:"17:00"},sun:{enabled:!1,start:"09:00",end:"17:00"}}}),{},{enabled:Boolean(e.enabled)}),n=(0,kn.Z)((0,kn.Z)({},t),{},{timezone:"string"===typeof e.timezone?e.timezone:void 0}),r=e&&e.days||{};return Object.keys(t.days).forEach((function(e){var t=r[e]||{};n.days[e]={enabled:Boolean(t.enabled),start:"string"===typeof t.start?t.start:"09:00",end:"string"===typeof t.end?t.end:"17:00"}})),n}();p.behavior.display_rules.business_hours=b,p.channels=(p.channels||[]).map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{enabled:Boolean(e.enabled),show_on:Array.isArray(e.show_on)?e.show_on:["desktop","mobile","tablet"],agents:Array.isArray(e.agents)?e.agents:[]})})),p.show_on=Array.isArray(p.show_on)?p.show_on:["desktop","mobile","tablet"];var x=p.appearance&&p.appearance.view||{};return"light"!==x.color_theme&&"dark"!==x.color_theme&&"system"!==x.color_theme&&(x.color_theme="system"),p.appearance.view=x,p},Wz=function(e){var t=(e||"").trim();if(""===t)return{valid:!0};try{var n,r=Mz(t,{positions:!0,parseRulePrelude:!1,onParseError:function(e){throw e}});return Dz(r,{visit:"Declaration",enter:function(e){if(e&&"Declaration"===e.type)try{var t=Iz.matchProperty(e.property,e.value);(!t||t&&!1===t.matched)&&(n='Invalid value for "'.concat(e.property,'".'),this.break())}catch(r){n='Invalid value for "'.concat(e.property,'".'),this.break()}}}),n?{valid:!1,message:n}:{valid:!0}}catch(a){var i=a&&a.message?String(a.message):Ua("Invalid CSS syntax.","pushengage");return{valid:!1,message:i}}},qz=function(e){if(!e)return"Immediately";switch(e.type){case"duration":return"After ".concat(e.display_after_seconds||0,"s");case"scroll":return"After ".concat(e.display_after_scroll_percent||0,"% scroll");case"exit_intent":return"On Exit Intent";default:return"Immediately"}},Kz=[{label:"Match ANY group (OR)",value:"or"},{label:"Match ALL groups (AND)",value:"and"}],Yz=[{label:"Match ALL rules",value:"and"},{label:"Match ANY rule",value:"or"}],Gz=[{value:"english",label:"English"},{value:"hebrew",label:"Hebrew"},{value:"spanish",label:"Spanish (Espa\xf1ol)"},{value:"french",label:"French (Fran\xe7ais)"},{value:"arabic",label:"Arabic (\u0627\u0644\u0639\u0631\u0628\u064a\u0629)"},{value:"chinese",label:"Chinese (\u4e2d\u6587)"},{value:"german",label:"German (Deutsch)"},{value:"japanese",label:"Japanese (\u65e5\u672c\u8a9e)"},{value:"russian",label:"Russian (\u0440\u0443\u0441\u0441\u043a\u0438\u0439)"}],Qz=[{value:"customer_support",label:"Customer Support"},{value:"sales",label:"Sales"},{value:"marketing",label:"Marketing"},{value:"technical_support",label:"Technical Support"},{value:"other",label:"Other"}],Xz=([{label:"Site Font Family",value:"inherit"},{label:"System Stack",value:"system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol"}].concat([{label:"Inter",value:"Inter, sans-serif"},{label:"Roboto",value:"Roboto, Arial, sans-serif"},{label:"Open Sans",value:"Open Sans, Arial, sans-serif"},{label:"Lato",value:"Lato, Arial, sans-serif"},{label:"Poppins",value:"Poppins, Arial, sans-serif"},{label:"Montserrat",value:"Montserrat, Arial, sans-serif"},{label:"Source Sans Pro",value:"Source Sans Pro, Arial, sans-serif"},{label:"Nunito",value:"Nunito, Arial, sans-serif"},{label:"Noto Sans",value:"Noto Sans, Arial, sans-serif"},{label:"Work Sans",value:"Work Sans, Arial, sans-serif"},{label:"Rubik",value:"Rubik, Arial, sans-serif"},{label:"Merriweather",value:"Merriweather, Georgia, serif"},{label:"Playfair Display",value:"Playfair Display, Georgia, serif"},{label:"Raleway",value:"Raleway, Arial, sans-serif"},{label:"Oswald",value:"Oswald, Arial, sans-serif"},{label:"Fira Sans",value:"Fira Sans, Arial, sans-serif"},{label:"Ubuntu",value:"Ubuntu, Arial, sans-serif"},{label:"PT Sans",value:"PT Sans, Arial, sans-serif"}]),[{label:"Always display",value:"always"},{label:"Display after seconds",value:"duration"},{label:"Display after scroll %",value:"scroll"},{label:"Display on exit intent",value:"exit_intent"}]),$z={mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday",sun:"Sunday"},Jz=oe.forwardRef((function(e,t){var n=e.initialValues,r=e.onValuesChange,i=e.onEditChannel,a=e.form,o=ed.Z.useForm(),s=(0,xe.Z)(o,1)[0],l=a||s,c=ed.Z.useWatch("channels",l)||[],u=(0,oe.useRef)(n);(0,oe.useEffect)((function(){l.setFieldsValue(n),u.current=n}),[l,n]),(0,oe.useImperativeHandle)(t,(function(){return{validateForm:function(){return(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.validateFields();case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),(t=(null===e.t0||void 0===e.t0?void 0:e.t0.errorFields)||[]).length>0&&(n=t[0],r=null===n||void 0===n?void 0:n.name,(i=t.map((function(e){var t;return null===(t=e.errors)||void 0===t?void 0:t[0]})).filter((function(e){return e})).map((function(e){return"string"===typeof e?e:(null===e||void 0===e?void 0:e.message)||String(e)}))).length>0&&ie.default.error({message:Ua("Please fix the highlighted errors and try again.","pushengage"),description:(0,st.jsx)(st.Fragment,{children:i.map((function(e,t){return(0,st.jsx)("div",{children:e},"".concat(t,"-").concat(e))}))}),placement:"bottomRight"}),Array.isArray(r)&&r.length>0&&setTimeout((function(){var e=null;if("name"===r[0])e=document.getElementById("pe-widget-name-input");else{var t=r.join("_");e=document.querySelector('input[name*="'.concat(t,'"], textarea[name*="').concat(t,'"]'))}e&&(e.focus(),e.scrollIntoView({behavior:"smooth",block:"center"}))}),100)),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))()},getFormValues:function(){return l.getFieldsValue(!0)},setFormValues:function(e){l.setFieldsValue(e),u.current=e,r&&r(e)},updateChannelAt:function(e,t){var n=(l.getFieldValue("channels")||[]).slice();n[e]=t,l.setFieldsValue({channels:n});var i=l.getFieldsValue(!0);u.current=i,r&&r(i)},get form(){return l}}}),[l,r]);var d=function(){r&&r(l.getFieldsValue(!0))};return(0,st.jsxs)(ed.Z,{layout:"vertical",form:l,initialValues:n,size:"large",onValuesChange:d,children:[(0,st.jsx)(ed.Z.Item,{name:["name"],label:Ua("Widget Name","pushengage"),rules:[{required:!0,message:Ua("Please enter a widget name.","pushengage")}],help:Ua("Give your widget an unique name to easily identify it in the list of widgets.","pushengage"),children:(0,st.jsx)(Yc.default,{id:"pe-widget-name-input",placeholder:Ua("Widget Name","pushengage")})}),(0,st.jsx)("div",{className:"pe-mt-10",children:(0,st.jsx)(dt.Z,{gutter:[12,12],children:(0,st.jsxs)(ht.Z,{span:24,children:[(0,st.jsx)("div",{className:"pe-mt-20 pe-mb-10 pe-fs-18 pe-fw-600",children:Ua("Channels","pushengage")}),(0,st.jsx)(ed.Z.Item,{name:"channels",hidden:!0,children:(0,st.jsx)(Yc.default,{})}),(0,st.jsx)("div",{className:"pe-channels-grid",children:eP.map((function(e){var t=c,n=t.findIndex((function(t){return t.type===e.type})),r=n>-1?t[n]:null,a=!!r&&Boolean(r.enabled),o=function(t){if(t){var n=t.target;if(n&&(n.closest(".edit-button")||n.closest("button")))return}var r=l.getFieldValue("channels")||[],i=r.findIndex((function(t){return t.type===e.type}));if(-1===i){var a={id:"ch_".concat(Date.now()),type:e.type,value:"",show_on:["desktop","mobile","tablet"],enabled:!0,agents:[],color:e.color};l.setFieldsValue({channels:[].concat((0,we.Z)(r),[a])})}else{var o=(0,we.Z)(r);o[i]=(0,kn.Z)((0,kn.Z)({},o[i]),{},{enabled:!Boolean(o[i].enabled)}),l.setFieldsValue({channels:o})}d()};return(0,st.jsxs)("div",{className:"channel-tile".concat(a?" channel-tile--enabled":""),onClick:function(e){return o(e)},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(o(e),e.preventDefault())},role:"button",tabIndex:0,children:[a?(0,st.jsx)(xd.ZP,{className:"channel-tile__check",size:18,icon:(0,st.jsx)(Wf,{className:"pe-fs-10"})}):null,(0,st.jsx)(xd.ZP,{size:32,className:"channel-tile__avatar",style:{backgroundColor:a?e.color:"#f0f0f0"},icon:(0,st.jsx)(e.Icon,{className:a?"channel-tile__avatar-icon--on":"channel-tile__avatar-icon--off"})}),(0,st.jsx)("div",{className:"channel-tile__label",title:e.label,children:e.label}),(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),className:"edit-button channel-tile__edit",onClick:function(t){t.stopPropagation();var n=l.getFieldValue("channels")||[],r=n.findIndex((function(t){return t.type===e.type}));if(-1===r){var a={id:"ch_".concat(Date.now()),type:e.type,value:"",show_on:["desktop","mobile","tablet"],enabled:!0,agents:[],color:e.color},o=[].concat((0,we.Z)(n),[a]);l.setFieldsValue({channels:o}),r=o.length-1,i&&i((0,kn.Z)((0,kn.Z)({},a),{},{index:r}),r)}else i&&i((0,kn.Z)((0,kn.Z)({},n[r]),{},{index:r}),r);d()}})]},e.type)}))}),(0,st.jsx)("div",{className:"pe-mt-12",children:(0,st.jsxs)(pt.default,{type:"dashed",block:!0,disabled:(c||[]).filter((function(e){return"custom"===e.type})).length>=10,onClick:function(){var e,t=l.getFieldValue("channels")||[];if(t.filter((function(e){return"custom"===e.type})).length>=10)ie.default.error({message:Ua("Maximum custom channels limit reached","pushengage"),description:Ua("You can only add up to ".concat(10," custom channels."),"pushengage"),placement:"bottomRight"});else{var n={id:"ch_".concat(qa(13)),type:"custom",value:"",show_on:["desktop","mobile","tablet"],enabled:!0,agents:[],label:"",color:(null===(e=eP.find((function(e){return"custom"===e.type})))||void 0===e?void 0:e.color)||"#1E88E5"},r=[].concat((0,we.Z)(t),[n]);l.setFieldsValue({channels:r}),i&&i((0,kn.Z)((0,kn.Z)({},n),{},{index:r.length-1}),r.length-1),d()}},children:[Ua("Add Custom Channel","pushengage"),(0,st.jsx)(fE,{})]})}),(0,st.jsxs)("div",{className:"pe-mt-16",children:[(0,st.jsx)("div",{className:"pe-fw-600 pe-mb-8",children:Ua("Enabled Channels (drag to sort)","pushengage")}),function(){var e=(c||[]).map((function(e,t){return(0,kn.Z)((0,kn.Z)({},e),{},{index:t})})).filter((function(e){return e.enabled})),t=DT((function(e){var t=e.value,n=eP.find((function(e){return e.type===t.type})),r=null===n||void 0===n?void 0:n.Icon,a=t.label||(null===n||void 0===n?void 0:n.label)||("custom"===t.type?"Custom":t.type);return(0,st.jsxs)("div",{className:"channel-item",children:[(0,st.jsx)("div",{className:"drag-handle channel-item__drag","aria-hidden":!0,children:(0,st.jsx)(cP,{})}),(0,st.jsx)(xd.ZP,{size:28,className:"channel-item__avatar",style:{backgroundColor:(null===n||void 0===n?void 0:n.color)||"#f0f0f0"},icon:r?(0,st.jsx)(r,{className:"channel-item__avatar-icon"}):void 0}),(0,st.jsx)("div",{className:"channel-item__label",children:a}),(0,st.jsxs)("div",{className:"channel-item__actions",children:[(0,st.jsx)(ft.default,{title:Ua("Edit","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:function(e){e.stopPropagation();var n=l.getFieldValue("channels")||[];i&&i((0,kn.Z)((0,kn.Z)({},n[t.index]),{},{index:t.index}),t.index)}})}),"custom"===t.type?(0,st.jsx)(ft.default,{title:Ua("Remove","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",className:"pe-ml-8",size:"small",danger:!0,icon:(0,st.jsx)(Nh,{}),onClick:function(e){e.stopPropagation();var n=(l.getFieldValue("channels")||[]).filter((function(e,n){return n!==t.index}));l.setFieldsValue({channels:n}),d()}})}):null]})]})})),n=PT((function(e){var n=e.items;return(0,st.jsx)("div",{className:"channel-sort-grid",children:n.map((function(e,n){return(0,st.jsx)(t,{index:n,value:e},"item-".concat(e.id))}))})}));return(0,st.jsx)(n,{items:e,axis:"y",onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex,r=l.getFieldValue("channels")||[],i=r.map((function(e,t){return e.enabled?t:-1})).filter((function(e){return-1!==e})),a=function(e,t,n){var r=e.slice(),i=r.splice(t,1)[0];return r.splice(n,0,i),r}(r,i[t],i[n]);l.setFieldsValue({channels:a}),d()},shouldCancelStart:function(e){var t=null===e||void 0===e?void 0:e.target;return!!t&&(!!t.closest("button")||!!t.closest("a")||!!t.closest("input")||!!t.closest("textarea")||!!t.closest('[role="button"]'))},helperClass:"drag-helper"})}()]})]})})})]})}));Jz.displayName="ClickToChatV2Form";var eV=Jz,tV=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 16 12",fill:"currentColor",focusable:"false","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M1 0.75C0.585786 0.75 0.25 1.08579 0.25 1.5V8.5C0.25 8.91421 0.585786 9.25 1 9.25H6.5V10.5H5C4.58579 10.5 4.25 10.8358 4.25 11.25C4.25 11.6642 4.58579 12 5 12H11C11.4142 12 11.75 11.6642 11.75 11.25C11.75 10.8358 11.4142 10.5 11 10.5H9.5V9.25H15C15.4142 9.25 15.75 8.91421 15.75 8.5V1.5C15.75 1.08579 15.4142 0.75 15 0.75H1ZM1.75 2.25H14.25V7.75H1.75V2.25Z"})}))},nV=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:tV},e))},rV=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{viewBox:"-496.9 507.1 54 54",fill:"currentColor",focusable:"false","data-icon":"pe-bubble-filled","aria-hidden":"true",children:(0,st.jsx)("path",{className:"st1",d:"M-472.6,522.1h5.3c3,0,6,1.2,8.1,3.4c2.1,2.1,3.4,5.1,3.4,8.1c0,6-4.6,11-10.6,11.5v4.4c0,0.4-0.2,0.7-0.5,0.9 c-0.2,0-0.2,0-0.4,0c-0.2,0-0.5-0.2-0.7-0.4l-4.6-5c-3,0-6-1.2-8.1-3.4s-3.4-5.1-3.4-8.1C-484.1,527.2-478.9,522.1-472.6,522.1z M-462.9,535.3c1.1,0,1.8-0.7,1.8-1.8c0-1.1-0.7-1.8-1.8-1.8c-1.1,0-1.8,0.7-1.8,1.8C-464.6,534.6-463.9,535.3-462.9,535.3z M-469.9,535.3c1.1,0,1.8-0.7,1.8-1.8c0-1.1-0.7-1.8-1.8-1.8c-1.1,0-1.8,0.7-1.8,1.8C-471.7,534.6-471,535.3-469.9,535.3z M-477,535.3c1.1,0,1.8-0.7,1.8-1.8c0-1.1-0.7-1.8-1.8-1.8c-1.1,0-1.8,0.7-1.8,1.8C-478.8,534.6-478.1,535.3-477,535.3z"})}))},iV=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:rV},e))},aV=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-message-filled","aria-hidden":"true",children:[(0,st.jsx)("defs",{children:(0,st.jsxs)("mask",{id:"pe-msg-mask",children:[(0,st.jsx)("rect",{x:"0",y:"0",width:"24",height:"24",fill:"white"}),(0,st.jsx)("rect",{x:"6",y:"7",width:"12",height:"2",rx:"1",fill:"black"}),(0,st.jsx)("rect",{x:"6",y:"11",width:"8",height:"2",rx:"1",fill:"black"})]})}),(0,st.jsx)("path",{d:"M4 4H20C20.552 4 21 4.448 21 5V16C21 16.552 20.552 17 20 17H6L4 19V5C4 4.448 4.448 4 5 4Z",fill:"currentColor",mask:"url(#pe-msg-mask)"})]}))},oV=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:aV},e))},sV=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-phone","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M6.62 10.79C8.06 13.62 10.38 15.94 13.21 17.38L15.41 15.18C15.69 14.9 16.08 14.82 16.43 14.93C17.55 15.29 18.75 15.48 20 15.48C20.55 15.48 21 15.93 21 16.48V20C21 20.55 20.55 21 20 21C10.61 21 3 13.39 3 4C3 3.45 3.45 3 4 3H7.52C8.07 3 8.52 3.45 8.52 4C8.52 5.25 8.71 6.45 9.07 7.57C9.18 7.92 9.1 8.31 8.82 8.59L6.62 10.79Z",fill:"currentColor"})}))},lV=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:sV},e))},cV=function(e){var t,n,r=e.value,i=e.device,a=void 0===i?"desktop":i,o=e.onDeviceChange,s=e.height,l=r.appearance.icon,c=r.appearance.view,u=(0,oe.useState)("opened_by_default"===l.state),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=l.size,g=l.custom_size_px,m=(0,oe.useMemo)((function(){return"XXL"===h?64:"XL"===h?56:"L"===h?48:"S"===h?32:"custom"===h?Math.max(24,g||40):40}),[h,g]),v=(0,oe.useMemo)((function(){return"mobile"===a?{height:s||350,maxWidth:200}:{height:s||350,maxWidth:900}}),[a,s]),y=(0,oe.useMemo)((function(){return{border:"1px solid #eaeaea",borderRadius:"mobile"===a?28:8,height:v.height,width:"100%",maxWidth:v.maxWidth,position:"relative",overflow:"hidden",margin:"0 auto",boxShadow:"mobile"===a?"0 10px 30px rgba(0,0,0,0.12)":void 0}}),[a,v.height,v.maxWidth]),b=(0,oe.useRef)(null),x=(0,oe.useState)({width:v.maxWidth,height:v.height}),w=(0,xe.Z)(x,2),k=w[0],_=w[1];(0,oe.useEffect)((function(){var e=b.current;if(e){var t=function(){return _({width:e.clientWidth||v.maxWidth,height:e.clientHeight||v.height})};t();var n=window.ResizeObserver;if("undefined"!==typeof n){var r=new n(t);return r.observe(e),function(){return r.disconnect()}}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}_({width:v.maxWidth,height:v.height})}),[v.maxWidth,v.height]);var C=l.position||{type:"right"},j=C.side||"right",S=function(e,t){var n="string"===typeof e?parseFloat(e):e;return isFinite(n)?Number(n):t},Z=S(C.x,16),N=S(C.y,16),E=function(e,t,n){return Math.min(Math.max(e,t),n)},O=Math.max(0,Math.round((k.width||0)-m)),A=Math.max(0,Math.round((k.height||0)-m)),T=E(Z,0,O),P=E(N,0,A),M=(0,oe.useMemo)((function(){var e=Math.round(.25*m);return Math.max(8,Math.min(16,e))}),[m]),I={position:"absolute",bottom:"custom"===C.type?P:16,display:"flex",alignItems:"center",gap:M};"bottom_left"===C.type?I.left=16:"custom"===C.type?"left"===j?I.left=T:I.right=T:I.right=16;var D=("custom"===C.type?P:16)+m+M,L="custom"===C.type?P+m+8:64,R=l.cta&&l.cta.text&&""!==l.cta.text.trim(),B="bottom_left"===C.type||"custom"===C.type&&"left"===(C.side||"right"),F=function(){var e=r.channels||[],t=r.show_on||["desktop","mobile","tablet"],n="desktop"===a?"desktop":"mobile";return t.includes(n)?e.filter((function(e){return e.enabled&&(e.show_on||[]).includes(n)})):[]}(),z=1===F.length,V=(0,oe.useMemo)((function(){var e=l.attention_effect||"none";return"none"===e?"pe-attn-none":-1!==["pulse","blink","bounce","waggle","floating","sheen","spin","fade","shockwave"].indexOf(e)?"pe-attn-".concat(e):"pe-attn-none"}),[l.attention_effect]),U=(0,oe.useCallback)((function(){"hover_to_open"===l.state&&f(!0)}),[l.state]),H=(0,oe.useCallback)((function(){"hover_to_open"===l.state&&f(!1)}),[l.state]),W=(0,oe.useCallback)((function(){"click_to_open"===l.state&&f((function(e){return!e}))}),[l.state]),q=p||"opened_by_default"===l.state,K="chat"!==c.style&&!z&&q,Y="horizontal"===c.layout,G=K&&Y,Q=K&&!Y,X="mobile"===a?"pe-chat-panel pe-chat-panel--mobile":"pe-chat-panel",$=(null===r||void 0===r||null===(t=r.appearance)||void 0===t||null===(n=t.view)||void 0===n?void 0:n.color_theme)||"light",J=(0,oe.useState)(!1),ee=(0,xe.Z)(J,2),te=ee[0],ne=ee[1];(0,oe.useEffect)((function(){if("system"===$){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"),t=function(){return ne(Boolean(e&&e.matches))};return t(),e&&"function"===typeof e.addEventListener?(e.addEventListener("change",t),function(){return e.removeEventListener("change",t)}):e&&"function"===typeof e.addListener?(e.addListener(t),function(){return e.removeListener(t)}):void 0}}),[$]);var re="dark"===$||"system"===$&&te?"pe-theme-dark":"pe-theme-light";return(0,oe.useEffect)((function(){"opened_by_default"===l.state?f(!0):f(!1)}),[l.state]),(0,st.jsxs)("div",{className:"pe-preview ".concat(re),children:[(0,st.jsxs)("div",{className:"pe-preview__header",children:[(0,st.jsx)("div",{className:"pe-preview__title",children:Ua("Preview","pushengage")}),(0,st.jsxs)(zy.default.Group,{optionType:"button",buttonStyle:"solid",value:a,onChange:function(e){return o&&o(e.target.value)},size:"small",children:[(0,st.jsx)(zy.default.Button,{value:"desktop",children:(0,st.jsx)(nV,{})}),(0,st.jsx)(zy.default.Button,{value:"mobile",children:(0,st.jsx)(Ng,{})})]})]}),(0,st.jsxs)("div",{className:"pe-device-frame",style:(0,kn.Z)({},y),ref:b,children:["desktop"===a?(0,st.jsxs)("div",{className:"pe-desktop-topbar",children:[(0,st.jsx)("div",{className:"pe-desktop-topbar__dot pe--red"}),(0,st.jsx)("div",{className:"pe-desktop-topbar__dot pe--yellow"}),(0,st.jsx)("div",{className:"pe-desktop-topbar__dot pe--green"}),(0,st.jsx)("div",{className:"pe-desktop-topbar__address"})]}):null,Q?(0,st.jsx)("div",{className:"pe-simple-overlay",style:{position:"absolute",bottom:D,right:null!=I.right?I.right:void 0,left:null!=I.left?I.left:void 0,maxWidth:"mobile"===a?Math.min(360,v.maxWidth-40):420},onMouseEnter:function(){"hover_to_open"===l.state&&f(!0)},onMouseLeave:function(){"hover_to_open"===l.state&&f(!1)},children:(0,st.jsx)("div",{className:"pe-inline-icons",style:{flexDirection:"horizontal"===c.layout?"row":"column",margin:0},children:F.slice(0,8).map((function(e){var t=tP(e.type),n=null===t||void 0===t?void 0:t.Icon,r=e.custom_type||"image",i=e.custom_image,a=e.custom_icon,o=e.color||(null===t||void 0===t?void 0:t.color)||"#e5e5e5";return(0,st.jsx)("span",{className:"pe-inline-icon",style:{background:o,width:m,height:m,margin:0},children:"image"===r&&i?(0,st.jsx)("img",{src:i,alt:"channel",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}):"icon"===r&&a?(0,st.jsx)("i",{className:-1!==a.indexOf("fa-brands")||-1!==a.indexOf("fa-regular")||-1!==a.indexOf("fa-solid")?a:"fa-solid ".concat(a),style:{fontSize:Math.max(14,Math.round(.55*m)),color:"#ffffff",lineHeight:1},"aria-hidden":"true"}):n?(0,st.jsx)(n,{className:"pe-inline-icon__svg",style:{fontSize:Math.max(14,Math.round(.55*m))}}):null},e.id)}))})}):null,"mobile"===a?(0,st.jsx)("div",{className:"pe-mobile-statusbar",children:(0,st.jsx)("div",{className:"pe-mobile-notch"})}):null,(0,st.jsxs)("div",{style:I,onMouseEnter:z?void 0:U,onMouseLeave:z?void 0:H,onClick:z?void 0:W,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(z&&W(),e.preventDefault())},role:"button",tabIndex:0,"aria-disabled":z,children:[B||!R||K?null:(0,st.jsx)(pt.default,{type:"default",className:"pe-cta-btn",style:{background:l.cta.background||"#25D366",color:l.cta.color||"#fff"},children:l.cta.text}),!B&&G?(0,st.jsx)("div",{className:"pe-inline-icons",style:{margin:0},onMouseEnter:function(){"hover_to_open"===l.state&&f(!0)},onMouseLeave:function(){"hover_to_open"===l.state&&f(!1)},children:F.slice(0,8).map((function(e){var t=tP(e.type),n=null===t||void 0===t?void 0:t.Icon,r=e.custom_type||"image",i=e.custom_image,a=e.custom_icon,o=e.color||(null===t||void 0===t?void 0:t.color)||"#e5e5e5";return(0,st.jsx)("span",{className:"pe-inline-icon",style:{background:o,width:m,height:m,margin:0},children:"image"===r&&i?(0,st.jsx)("img",{src:i,alt:"channel",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}):"icon"===r&&a?(0,st.jsx)("i",{className:-1!==a.indexOf("fa-brands")||-1!==a.indexOf("fa-regular")||-1!==a.indexOf("fa-solid")?a:"fa-solid ".concat(a),style:{fontSize:Math.max(14,Math.round(.55*m)),color:"#ffffff",lineHeight:1},"aria-hidden":"true"}):n?(0,st.jsx)(n,{className:"pe-inline-icon__svg",style:{fontSize:Math.max(14,Math.round(.55*m))}}):null},e.id)}))}):null,z?function(){var e=F[0],t=tP(e.type),n=t&&t.Icon,r=e.custom_type||"image",i=e.custom_image,a=e.custom_icon,o=e.color||(null===t||void 0===t?void 0:t.color)||"#25D366";return(0,st.jsx)("div",{className:"".concat(V," pe-widget-bubble"),style:{width:m,height:m,background:o},children:"image"===r&&i?(0,st.jsx)("div",{className:"pe-bubble-img-wrap",children:(0,st.jsx)("img",{src:i,alt:"channel",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}})},i||"noimg"):"icon"===r&&a?(0,st.jsx)("i",{className:-1!==a.indexOf("fa-brands")||-1!==a.indexOf("fa-regular")||-1!==a.indexOf("fa-solid")?a:"fa-solid ".concat(a),style:{fontSize:Math.max(14,Math.round(.55*m)),color:"#ffffff",lineHeight:1},"aria-hidden":"true"}):n?(0,st.jsx)(n,{style:{fontSize:Math.max(14,Math.round(.55*m)),color:"#ffffff"}}):null})}():(0,st.jsx)("div",{className:"".concat(V," pe-widget-bubble"),style:{width:m,height:m,background:l.color||"#25D366"},children:function(){if("custom"===l.shape){var e=l.custom_type||"image",t=l.custom_image,n=l.custom_icon;if("image"===e&&t)return(0,st.jsx)("img",{src:t,alt:"widget-icon",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}});if("icon"===e&&n){var r={fontSize:Math.max(14,Math.round(.55*m)),color:"#ffffff",lineHeight:1},i=-1!==n.indexOf("fa-regular")||-1!==n.indexOf("fa-solid")||-1!==n.indexOf("fa-brands")?n:"fa-solid ".concat(n);return(0,st.jsx)("i",{className:i,style:r,"aria-hidden":"true"})}}var a="bubble"===l.shape?.65:.55,o={fontSize:Math.max(14,Math.round(m*a)),color:"#ffffff"};return"message"===l.shape?(0,st.jsx)(oV,{style:o}):"phone"===l.shape?(0,st.jsx)(lV,{style:o}):"chat"===l.shape?(0,st.jsx)(fd,{style:o}):(0,st.jsx)(iV,{style:o})}()}),B&&G?(0,st.jsx)("div",{className:"pe-inline-icons",style:{margin:0},onMouseEnter:function(){"hover_to_open"===l.state&&f(!0)},onMouseLeave:function(){"hover_to_open"===l.state&&f(!1)},children:F.slice(0,8).map((function(e){var t=tP(e.type),n=null===t||void 0===t?void 0:t.Icon,r=e.custom_type||"image",i=e.custom_image,a=e.custom_icon,o=e.color||(null===t||void 0===t?void 0:t.color)||"#e5e5e5";return(0,st.jsx)("span",{className:"pe-inline-icon",style:{background:o,width:m,height:m,margin:0},children:"image"===r&&i?(0,st.jsx)("img",{src:i,alt:"channel",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}):"icon"===r&&a?(0,st.jsx)("i",{className:-1!==a.indexOf("fa-brands")||-1!==a.indexOf("fa-regular")||-1!==a.indexOf("fa-solid")?a:"fa-solid ".concat(a),style:{fontSize:Math.max(14,Math.round(.55*m)),color:"#ffffff",lineHeight:1},"aria-hidden":"true"}):n?(0,st.jsx)(n,{className:"pe-inline-icon__svg",style:{fontSize:Math.max(14,Math.round(.55*m))}}):null},e.id)}))}):null,B&&R&&!K?(0,st.jsx)(pt.default,{type:"default",className:"pe-cta-btn",style:{background:l.cta.background||"#25D366",color:l.cta.color||"#fff"},children:l.cta.text}):null]}),"chat"!==c.style||z||!p&&"opened_by_default"!==l.state?null:(0,st.jsxs)("div",{className:X,style:"mobile"===a?{position:"absolute",top:44,left:0,right:0,bottom:0,width:"100%",maxWidth:"100%",height:"100%"}:{position:"absolute",bottom:L,right:null!=I.right?I.right:void 0,left:null!=I.left?I.left:void 0,width:280,maxWidth:"90%",height:"232px",overflow:"hidden"},onMouseEnter:function(){"hover_to_open"===l.state&&f(!0)},onMouseLeave:function(){"hover_to_open"===l.state&&f(!1)},children:[(0,st.jsx)("div",{className:"pe-chat-panel__header",children:(0,st.jsx)("span",{onClick:function(){return f(!1)},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(f(!1),e.preventDefault())},role:"button",tabIndex:0,"aria-label":"close","aria-disabled":!p,className:"pe-chat-panel__close",style:{marginLeft:"auto"},children:"\xd7"})}),(0,st.jsxs)("div",{className:"pe-chat-panel__center",children:[c.heading?(0,st.jsx)("div",{className:"pe-chat-panel__heading",children:c.heading}):null,c.subheading?(0,st.jsx)("div",{className:"pe-chat-panel__subheading",children:c.subheading}):null]}),(0,st.jsxs)("div",{className:"pe-channel-grid",style:{gridTemplateColumns:"mobile"===a?"repeat(1, minmax(0, 1fr))":"repeat(3, minmax(0, 1fr))",maxHeight:"mobile"===a?"60%":"100%"},children:[F.map((function(e){var t=tP(e.type),n=null===t||void 0===t?void 0:t.Icon,r=e.label||(null===t||void 0===t?void 0:t.label)||e.type,i=e.custom_type||"image",a=e.custom_image,o=e.custom_icon,s=e.color||(null===t||void 0===t?void 0:t.color)||"#666";return(0,st.jsx)("div",{className:"pe-channel-tile",children:function(){var t=Array.isArray(e.agents)?e.agents.length:0;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("span",{className:"pe-channel-tile__status"}),"image"===i&&a?(0,st.jsx)("img",{src:a,alt:"channel",className:"pe-channel-tile__icon-img"}):"icon"===i&&o?oe.createElement("span",{className:"pe-channel-tile__icon",style:{background:s,color:"#ffffff",borderRadius:"50%",width:36,height:36,display:"inline-flex",alignItems:"center",justifyContent:"center"}},oe.createElement("i",{className:-1!==o.indexOf("fa-brands")||-1!==o.indexOf("fa-regular")||-1!==o.indexOf("fa-solid")?o:"fa-solid ".concat(o),style:{fontSize:18,lineHeight:1},"aria-hidden":"true"})):n?oe.createElement("span",{className:"pe-channel-tile__icon",style:{background:s,color:"#ffffff",borderRadius:"50%",width:36,height:36,display:"inline-flex",alignItems:"center",justifyContent:"center"}},(0,st.jsx)(n,{style:{fontSize:18,color:"#ffffff"}})):null,(0,st.jsx)("div",{className:"pe-channel-tile__label",children:r}),t>0?(0,st.jsx)("div",{className:"pe-channel-tile__agents",children:"".concat(t," ").concat(Ua(1===t?"agent available":"agents available","pushengage"))}):null]})}()},e.id)})),0===F.length?(0,st.jsx)("div",{className:"pe-channel-grid__empty",children:Ua("No channels visible on this device","pushengage")}):null]})]})]})]})},uV=n(16031),dV=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 13 12",fill:"currentColor",focusable:"false","data-icon":"pe-upload-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M11.3438 6.5625H8.25V5.875H9.625C10.5273 5.875 11 4.7793 10.334 4.13477L6.89648 0.697266C6.50977 0.289062 5.84375 0.289062 5.45703 0.697266L2.01953 4.13477C1.35352 4.7793 1.82617 5.875 2.75 5.875H4.125V6.5625H1.03125C0.451172 6.5625 0 7.03516 0 7.59375V10.3438C0 10.9238 0.451172 11.375 1.03125 11.375H11.3438C11.9023 11.375 12.375 10.9238 12.375 10.3438V7.59375C12.375 7.03516 11.9023 6.5625 11.3438 6.5625ZM2.75 4.84375L6.1875 1.40625L9.625 4.84375H7.21875V8.28125H5.15625V4.84375H2.75ZM11.3438 10.3438H1.03125V7.59375H4.125V8.28125C4.125 8.86133 4.57617 9.3125 5.15625 9.3125H7.21875C7.77734 9.3125 8.25 8.86133 8.25 8.28125V7.59375H11.3438V10.3438ZM10.4844 8.96875C10.4844 8.68945 10.248 8.45312 9.96875 8.45312C9.66797 8.45312 9.45312 8.68945 9.45312 8.96875C9.45312 9.26953 9.66797 9.48438 9.96875 9.48438C10.248 9.48438 10.4844 9.26953 10.4844 8.96875Z"})}))},pV=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:dV},e))},fV=function(e){var t=e.onChange,n=e.title,r=e.btnText;return(0,st.jsx)(pt.default,{className:"pe-px-12 pe-mb-6",onClick:function(){var e=So();try{n&&(e.options.title=n),r&&e.options.button&&(e.options.button.text=r)}catch(i){}e.off("select"),e.on("select",(function(){var n=e.state().get("selection"),r=n&&n.first?n.first():null,i=r&&r.toJSON?r.toJSON():null;i&&i.url&&t(i.url)})),e.open()},size:"small",icon:(0,st.jsx)(pV,{}),children:Ua("Change image","pushengage")})};fV.defaultProps={title:Ua("Insert Notification Image","pushengage"),multiple:!1,btnText:Ua("Use this image","pushengage")};var hV=fV,gV=n(27869),mV=n(61774),vV=function(e){var t=e.editingChannel,n=e.setEditingChannel,r=e.drawerTriedSave,i=e.onRequestUpgrade,a=e.user,o=Fz(t.type,t.value||""),s=!o.valid,l=oP(t.type);return(0,st.jsxs)(Wc.Z,{className:"pe-channel-config-card",bordered:!0,children:[(0,st.jsxs)("div",{className:"section-header",children:[(0,st.jsx)(mV.default,{level:5,children:Ua("Configuration","pushengage")}),(0,st.jsx)(gV.default,{type:"secondary",children:Ua("Provide the necessary details to configure this channel.","pushengage")})]}),(0,st.jsxs)("div",{className:"section-content",children:[(0,st.jsx)(ed.Z.Item,{children:(0,st.jsxs)(Ju.default,{direction:"horizontal",className:"pe-d-flex pe-justify-space-between",align:"center",children:[(0,st.jsx)("label",{className:"pe-fw-600 pe-fs-14",children:Ua("Enabled","pushengage")}),(0,st.jsx)(Lv.Z,{checked:t.enabled,onChange:function(e){n((0,kn.Z)((0,kn.Z)({},t),{},{enabled:e}))}})]})}),"custom"===t.type?(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Channel Name","pushengage"),required:!0,validateStatus:r&&s?"error":void 0,help:r&&s?o.message:void 0,children:(0,st.jsx)(Yc.default,{placeholder:Ua("Enter channel name","pushengage"),value:t.label,onChange:function(e){n((0,kn.Z)((0,kn.Z)({},t),{},{label:e.target.value}))}})})}):null,(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsxs)(ed.Z.Item,{label:aP(t.type)||Ua("Username/Page","pushengage"),required:!0,validateStatus:r&&s?"error":void 0,help:r&&s?o.message:void 0,children:[(0,st.jsx)(Yc.default,{id:"pe-channel-value-input",placeholder:Lz(t.type),value:t.value,onChange:function(e){n((0,kn.Z)((0,kn.Z)({},t),{},{value:e.target.value}))}}),rP(t.type)&&(0,st.jsx)(ft.default,{placement:"bottom",title:iP(t.type),children:(0,st.jsx)("span",{className:"pe-color-secondary pe-mt-20 pe-fs-13 pe-cursor-help",children:rP(t.type)})})]})}),l.map((function(e){var o,s=t[e.key],l=Boolean(e.required),c=Boolean(e.isProField)&&!Hd(a),u=function(){if(!r)return!1;var t=Rz(e,s);return t&&!1===t.valid}(),d=r&&u?(null===(o=Rz(e,s))||void 0===o?void 0:o.message)||Ua("Invalid value.","pushengage"):void 0,p={id:"pe-extra-field-input-".concat(e.key),placeholder:e.placeholder,value:s,onChange:function(r){var i=r&&void 0!==r.target&&void 0!==r.target.value?r.target.value:r;n((0,kn.Z)((0,kn.Z)({},t),{},(0,ti.Z)({},e.key,i)))}};return(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsxs)(ed.Z.Item,{label:c?(0,st.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[e.label,(0,st.jsx)(Gb,{plan:ii.BUSINESS})]}):e.label,required:l,validateStatus:r&&u?"error":void 0,help:d,children:[c?(0,st.jsxs)("div",{className:"pe-flex pe-ai-center pe-g-8 pe-mt-10",children:[(0,st.jsx)(Yc.default,{disabled:!0,value:s,placeholder:e.placeholder}),(0,st.jsx)(pt.default,{className:"pe-fs-14 pe-mt-10",icon:(0,st.jsx)(vm,{className:"pe-mr-6"}),type:"primary",onClick:function(){i&&i()},children:Ua("Upgrade to Pro","pushengage")})]}):"textarea"===e.type?(0,st.jsx)(Yc.default.TextArea,(0,kn.Z)({},p)):"switch"===e.type?(0,st.jsx)(Lv.Z,{checked:Boolean(s),onChange:function(r){n((0,kn.Z)((0,kn.Z)({},t),{},(0,ti.Z)({},e.key,r)))}}):"select"===e.type?(0,st.jsx)(Rv.default,{id:"pe-extra-field-input-".concat(e.key),value:s,onChange:function(r){n((0,kn.Z)((0,kn.Z)({},t),{},(0,ti.Z)({},e.key,r)))},options:(e.options||[]).map((function(e){return{label:e.label,value:e.value}}))}):"image_upload"===e.type?(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center",style:{gap:12},children:[(0,st.jsxs)("div",{className:"pe-p-relative",style:{width:56,height:56},children:[(0,st.jsx)("div",{className:"pe-d-flex pe-align-items-center pe-justify-content-center",style:{width:56,height:56,borderRadius:6,overflow:"hidden",border:"1px solid #f0f0f0",background:"#fafafa"},children:s?(0,st.jsx)("img",{src:s,alt:"preview",style:{objectFit:"cover"},className:"pe-w-full pe-h-full"}):(0,st.jsx)("span",{className:"pe-fs-10 pe-color-neutral-40",children:Ua("No image selected","pushengage")})}),s?(0,st.jsx)(ft.default,{title:Ua("Remove image","pushengage"),children:(0,st.jsx)(pt.default,{type:"link",size:"small",style:{position:"absolute",top:-5,right:-5,padding:0,width:14,height:14,lineHeight:1,background:"#f5f5f5",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){return n((0,kn.Z)((0,kn.Z)({},t),{},(0,ti.Z)({},e.key,void 0)))},icon:(0,st.jsx)($c,{style:{fontSize:10,color:"rgba(255,77,79,0.7)"}})})}):null]}),(0,st.jsx)(hV,{onChange:function(r){n((0,kn.Z)((0,kn.Z)({},t),{},(0,ti.Z)({},e.key,r)))},title:Ua("Select Image","pushengage"),btnText:Ua("Use this image","pushengage")})]}):(0,st.jsx)(Yc.default,(0,kn.Z)({},p)),e.helpTitle&&(0,st.jsx)(ft.default,{placement:"bottom",title:e.help,children:(0,st.jsx)("span",{className:"pe-color-secondary pe-mt-10 pe-fs-16 pe-cursor-help",children:e.helpTitle})})]})},e.key)}))]})]})},yV=Object.freeze({emptyName:Ua("Please enter a widget name.","pushengage"),minOneChannel:Ua("Please enable at least one channel.","pushengage"),emptyShowOn:Ua("Please select at least one device to show on.","pushengage"),channelEmptyShowOn:Ua("Please select at least one device for this channel.","pushengage"),emptyChannelValue:Ua("Please enter a value for the channel.","pushengage"),invalidChannelValue:Ua("Please enter a valid value for the channel.","pushengage"),emptyCustomChannelLabel:Ua("Please enter a name for the custom channel.","pushengage"),maxCustomChannelsReached:Ua("You can only add up to ".concat(10," custom channels."),"pushengage"),invalidExtraField:Ua("One or more channel settings are invalid.","pushengage"),invalidAgentValue:Ua("Please enter a valid value for the agent.","pushengage"),channelScheduleNoDay:Ua("Enable at least one day in this channel schedule.","pushengage"),channelScheduleInvalidTime:Ua("For enabled days, start time must be before end time in channel schedule.","pushengage"),agentScheduleNoDay:Ua("Enable at least one day in this agent schedule.","pushengage"),agentScheduleInvalidTime:Ua("For enabled days, start time must be before end time in agent schedule.","pushengage"),agentScheduleEmptyTime:Ua("For enabled days, please enter both start and end time in agent schedule.","pushengage"),channelCustomIconRequired:Ua("Please select a custom icon for the channel.","pushengage"),channelCustomImageRequired:Ua("Please select a custom image for the channel.","pushengage"),invalidCustomCss:Ua("Invalid Custom CSS.","pushengage"),widgetCustomImageRequired:Ua("Please select a custom image for the widget icon.","pushengage"),widgetCustomIconRequired:Ua("Please select a custom icon for the widget icon.","pushengage"),widgetCustomSizeRequired:Ua("Please enter a custom size in pixels.","pushengage"),invalidTriggerSeconds:Ua("Display after seconds must be 0 or more.","pushengage"),invalidTriggerScroll:Ua("Scroll percent must be between 0 and 100.","pushengage"),invalidTriggerSecondsMax:Ua("Display after seconds must be 86400 or less.","pushengage"),invalidDateScheduleItem:Ua("Please select both From and To date/time.","pushengage"),invalidDateScheduleOrder:Ua("From date/time must be before To date/time.","pushengage"),ruleGroupMustHaveRule:Ua("Each rule group must contain at least one rule.","pushengage"),invalidRuleValue:Ua("One or more display rules are incomplete or invalid.","pushengage"),bhNoDayEnabled:Ua("Enable at least one day in business hours.","pushengage"),bhInvalidTime:Ua("Start time must be before end time for enabled business hour days.","pushengage")});function bV(e){var t=[],n=e;return"object"!==typeof e||Array.isArray(e)||Object.values(n).forEach((function(e){"boolean"!==typeof e&&("string"===typeof e?e&&t.push(e):"object"===typeof e&&(Array.isArray(e)?e.forEach((function(e){t.push.apply(t,(0,we.Z)(bV(e)))})):t.push.apply(t,(0,we.Z)(bV(e)))))})),t}function xV(e,t){var n,r,i=!1;return((null===e||void 0===e?void 0:e.name)||"").trim()||(i=!0,t.name=yV.emptyName,n=n||"content",r=r||{section:"general"}),Array.isArray(e.show_on)&&0!==e.show_on.length||(i=!0,t.show_on=yV.emptyShowOn,n=n||"content",r=r||{section:"general"}),{hasErrors:i,box:n,focus:r}}function wV(e,t){var n,r,i,a=!1,o=(null===e||void 0===e||null===(n=e.behavior)||void 0===n?void 0:n.display_rules)||{},s=Array.isArray(o.rule_groups)?o.rule_groups:[];if(s.length>0)for(var l=0;l<s.length;l++){var c=s[l]||{},u=Array.isArray(c.rules)?c.rules:[];if(0===u.length){a=!0,t.behavior.display_rules.rule_groups=yV.ruleGroupMustHaveRule,r=r||"display_rules",i=i||{section:"display_rules"};break}for(var d=0;d<u.length;d++){var p=u[d]||{},f=null===p||void 0===p?void 0:p.type;if("wp_page"===f){var h=null===p||void 0===p?void 0:p.value,g=Number(h&&h.id);if(!h||isNaN(g)||g<=0){a=!0,t.behavior.display_rules.rule_groups=yV.invalidRuleValue,r=r||"display_rules",i=i||{section:"display_rules"};break}}else if("url"===f){if(!("string"===typeof(null===p||void 0===p?void 0:p.value)?String(p.value).trim():"")){a=!0,t.behavior.display_rules.rule_groups=yV.invalidRuleValue,r=r||"display_rules",i=i||{section:"display_rules"};break}}else if("country"===f){if(0===(Array.isArray(null===p||void 0===p?void 0:p.value)?p.value:[]).length){a=!0,t.behavior.display_rules.rule_groups=yV.invalidRuleValue,r=r||"display_rules",i=i||{section:"display_rules"};break}}}if(a)break}return{hasErrors:a,box:r,focus:i}}function kV(e,t){var n,r,i=!1,a=Array.isArray(e.channels)?e.channels:[],o=a.filter((function(e){return e&&"custom"===e.type})).length;if(o>10){i=!0;var s=a.findIndex((function(e){return e&&"custom"===e.type}));return s>=0&&(t.channels=t.channels||a.map((function(){return{}})),t.channels[s]={value:yV.maxCustomChannelsReached},n=n||"content",r=r||{section:"channels",channelIndex:s,agentIndex:null}),{hasErrors:i,box:n,focus:r}}var l=a.map((function(e,t){return(0,kn.Z)((0,kn.Z)({},e),{},{index:t})})).filter((function(e){return Boolean(e&&e.enabled)}));if(0===l.length)return i=!0,t.channels=[{value:yV.minOneChannel}],{hasErrors:i,box:n=n||"content",focus:r=r||{section:"channels",channelIndex:0,agentIndex:null}};t.channels=a.map((function(){return{}}));for(var c=0;c<l.length;c++){var u=l[c],d=Number(u.index||0),p={};0===(Array.isArray(u.show_on)?u.show_on:[]).length&&(i=!0,p.show_on=yV.channelEmptyShowOn,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:null});var f=String(u.value||"").trim(),h=Fz(u.type,f);if(h.valid||(i=!0,p.value=h.message||yV.invalidChannelValue,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:null}),"custom"===u.type)String(u.label||"").trim()||(i=!0,p.label=yV.emptyCustomChannelLabel,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:null});try{var g=Bz(u.type,u);g.valid||(i=!0,p[g.key]=g.message||yV.invalidExtraField,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:null})}catch(C){}try{var m=u.schedule||{};m&&m.enabled&&function(){var e=m.days||{},t=Object.keys(e||{}),a=t.some((function(t){var n;return Boolean(null===(n=e[t])||void 0===n?void 0:n.enabled)}));if(a)for(var o=0;o<t.length;o++){var s=e[t[o]];if(s&&s.enabled){var l="string"===typeof s.start?s.start.trim():"",c="string"===typeof s.end?s.end.trim():"";if(!l||!c){i=!0,p.schedule=yV.channelScheduleInvalidTime,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:null};break}var u=ei()(l,"HH:mm",!0),f=ei()(c,"HH:mm",!0);if(!u.isValid()||!f.isValid()||!u.isBefore(f)){i=!0,p.schedule=yV.channelScheduleInvalidTime,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:null};break}}}else i=!0,p.schedule=yV.channelScheduleNoDay,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:null}}()}catch(C){}try{var v=u.custom_type,y="string"===typeof v&&["icon","image","disabled"].includes(v)?v:void 0;if("disabled"===y||void 0===y)continue;if("image"===y)String(u.custom_image||"").trim()||(i=!0,p.custom_image=yV.channelCustomImageRequired,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:null});else if("icon"===y){String(u.custom_icon||"").trim()||(i=!0,p.custom_icon=yV.channelCustomIconRequired,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:null})}}catch(C){}for(var b=Array.isArray(u.agents)?u.agents:[],x=0;x<b.length;x++){var w=String(b[x]&&b[x].value||"").trim();if(w){var k=Fz(u.type,w);k.valid||(i=!0,p.agents||(p.agents=[]),p.agents[x]=k.message||yV.invalidAgentValue,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:x})}try{var _=b[x]&&b[x].schedule||{};_&&_.enabled&&function(){var e=_.days||{},t=Object.keys(e||{}),a=t.some((function(t){var n;return Boolean(null===(n=e[t])||void 0===n?void 0:n.enabled)}));if(a)for(var o=0;o<t.length;o++){var s=e[t[o]];if(s&&s.enabled){var l="string"===typeof s.start?s.start.trim():"",c="string"===typeof s.end?s.end.trim():"";if(!l||!c){i=!0,p.agents||(p.agents=[]),p.agents[x]=yV.agentScheduleEmptyTime,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:x};break}var u=ei()(l,"HH:mm",!0),f=ei()(c,"HH:mm",!0);if(!u.isValid()||!f.isValid()||!u.isBefore(f)){i=!0,p.agents||(p.agents=[]),p.agents[x]=yV.agentScheduleInvalidTime,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:x};break}}}else i=!0,p.agents||(p.agents=[]),p.agents[x]=yV.agentScheduleNoDay,n=n||"content",r=r||{section:"channels",channelIndex:d,agentIndex:x}}()}catch(C){}}t.channels[d]=p}return{hasErrors:i,box:n,focus:r}}function _V(e,t){var n,r,i,a=!1,o=(null===e||void 0===e||null===(n=e.appearance)||void 0===n?void 0:n.custom_css)||"",s=Wz(o);s.valid||(a=!0,t.appearance.custom_css=s.message||yV.invalidCustomCss,r=r||"appearance",i=i||{section:"appearance"});try{var l,c=(null===e||void 0===e||null===(l=e.appearance)||void 0===l?void 0:l.icon)||{};if(c&&"custom"===c.shape){var u="icon"===c.custom_type?"icon":"image"===c.custom_type?"image":void 0;if(!u){var d="string"===typeof c.custom_image&&c.custom_image.trim().length>0,p="string"===typeof c.custom_icon&&c.custom_icon.trim().length>0;d||p||(a=!0,t.appearance.icon=t.appearance.icon||{},t.appearance.icon.custom_image=yV.widgetCustomImageRequired,r=r||"appearance",i=i||{section:"appearance"})}if("image"===u)String(c.custom_image||"").trim()||(a=!0,t.appearance.icon=t.appearance.icon||{},t.appearance.icon.custom_image=yV.widgetCustomImageRequired,r=r||"appearance",i=i||{section:"appearance"});else if("icon"===u){String(c.custom_icon||"").trim()||(a=!0,t.appearance.icon=t.appearance.icon||{},t.appearance.icon.custom_icon=yV.widgetCustomIconRequired,r=r||"appearance",i=i||{section:"appearance"})}}if(c&&"custom"===c.size){var f=Number(c.custom_size_px);(!isFinite(f)||f<=0)&&(a=!0,t.appearance.icon=t.appearance.icon||{},t.appearance.icon.custom_size_px=yV.widgetCustomSizeRequired,r=r||"appearance",i=i||{section:"appearance"})}}catch(h){}return{hasErrors:a,box:r,focus:i}}function CV(e,t){var n,r,i,a=!1,o=(null===e||void 0===e||null===(n=e.behavior)||void 0===n?void 0:n.trigger)||{};if("duration"===(null===o||void 0===o?void 0:o.type)){var s=Number(o.display_after_seconds);isNaN(s)||s<0?(a=!0,t.behavior.trigger.display_after_seconds=yV.invalidTriggerSeconds,r=r||"triggers",i=i||{section:"triggers"}):s>86400&&(a=!0,t.behavior.trigger.display_after_seconds=yV.invalidTriggerSecondsMax,r=r||"triggers",i=i||{section:"triggers"})}else if("scroll"===(null===o||void 0===o?void 0:o.type)){var l=Number(o.display_after_scroll_percent);(isNaN(l)||l<0||l>100)&&(a=!0,t.behavior.trigger.display_after_scroll_percent=yV.invalidTriggerScroll,r=r||"triggers",i=i||{section:"triggers"})}return{hasErrors:a,box:r,focus:i}}function jV(e,t){var n,r,i,a=!1,o=((null===e||void 0===e||null===(n=e.behavior)||void 0===n?void 0:n.display_rules)||{}).date_scheduling;if(Array.isArray(o))for(var s=0;s<o.length;s++){var l=o[s]||{},c=null!==l&&void 0!==l&&l.from?ei()(l.from):null,u=null!==l&&void 0!==l&&l.to?ei()(l.to):null;if(!c||!u||!c.isValid()||!u.isValid()){a=!0,t.behavior.display_rules.date_scheduling=yV.invalidDateScheduleItem,r=r||"display_rules",i=i||{section:"display_rules"};break}if(!c.isBefore(u)){a=!0,t.behavior.display_rules.date_scheduling=yV.invalidDateScheduleOrder,r=r||"display_rules",i=i||{section:"display_rules"};break}}return{hasErrors:a,box:r,focus:i}}function SV(e,t){var n,r,i,a=!1,o=((null===e||void 0===e||null===(n=e.behavior)||void 0===n?void 0:n.display_rules)||{}).date_scheduling;if(Array.isArray(o))for(var s=function(e){if(!e)return null;if(ei().isMoment&&ei().isMoment(e))return e;var t=ei()(e);return t&&t.isValid()?t:null},l=0;l<o.length;l++){var c=o[l]||{},u=s(null===c||void 0===c?void 0:c.from),d=s(null===c||void 0===c?void 0:c.to);if(!u||!d){a=!0,t.behavior.display_rules.date_scheduling=yV.invalidDateScheduleItem,r=r||"display_rules",i=i||{section:"display_rules"};break}if(!u.isBefore(d)){a=!0,t.behavior.display_rules.date_scheduling=yV.invalidDateScheduleOrder,r=r||"display_rules",i=i||{section:"display_rules"};break}}return{hasErrors:a,box:r,focus:i}}function ZV(e,t){var n,r,i,a=!1,o=((null===e||void 0===e||null===(n=e.behavior)||void 0===n?void 0:n.display_rules)||{}).business_hours;if(o&&"object"===typeof o){var s=(null===o||void 0===o?void 0:o.enabled)&&(null===o||void 0===o?void 0:o.days)&&Object.keys(o.days||{}).some((function(e){var t;return Boolean(null===(t=o.days[e])||void 0===t?void 0:t.enabled)}));if(null!==o&&void 0!==o&&o.enabled&&!s&&(a=!0,t.behavior.display_rules.business_hours=yV.bhNoDayEnabled,r=r||"display_rules",i=i||{section:"display_rules"}),null!==o&&void 0!==o&&o.enabled&&null!==o&&void 0!==o&&o.days)for(var l=Object.keys(o.days||{}),c=0;c<l.length;c++){var u=o.days[l[c]];if(u&&u.enabled){var d="string"===typeof u.start?u.start.trim():"",p="string"===typeof u.end?u.end.trim():"";if(!d||!p){a=!0,t.behavior.display_rules.business_hours=yV.bhInvalidTime,r=r||"display_rules",i=i||{section:"display_rules"};break}var f=ei()(d,"HH:mm",!0),h=ei()(p,"HH:mm",!0);if(!f.isValid()||!h.isValid()||!f.isBefore(h)){a=!0,t.behavior.display_rules.business_hours=yV.bhInvalidTime,r=r||"display_rules",i=i||{section:"display_rules"};break}}}}return{hasErrors:a,box:r,focus:i}}function NV(e){var t,n,r=Hz(Vz(e)),i={name:"",show_on:"",channels:[],appearance:{custom_css:""},behavior:{trigger:{display_after_seconds:"",display_after_scroll_percent:""},display_rules:{date_scheduling:"",business_hours:"",rule_groups:""}}},a=!1,o=function(e){e.hasErrors&&(a=!0),!t&&e.box&&(t=e.box),!n&&e.focus&&(n=e.focus)};return o(xV(r,i)),o(kV(r,i)),{errors:i,isValid:!a,messages:bV(i),box:t,focus:n}}function EV(e){var t,n,r,i=Hz(Vz(e)),a={name:"",show_on:"",channels:[],appearance:{custom_css:""},behavior:{trigger:{display_after_seconds:"",display_after_scroll_percent:""},display_rules:{date_scheduling:"",business_hours:"",rule_groups:""}}},o=!1;return(r=_V(i,a)).hasErrors&&(o=!0),!t&&r.box&&(t=r.box),!n&&r.focus&&(n=r.focus),{errors:a,isValid:!o,messages:bV(a),box:t,focus:n}}function OV(e){var t,n,r=Hz(Vz(e)),i={name:"",show_on:"",channels:[],appearance:{custom_css:""},behavior:{trigger:{display_after_seconds:"",display_after_scroll_percent:""},display_rules:{date_scheduling:"",business_hours:"",rule_groups:""}}},a=!1,o=function(e){e.hasErrors&&(a=!0),!t&&e.box&&(t=e.box),!n&&e.focus&&(n=e.focus)};return o(CV(r,i)),o(SV(e,i)),o(jV(r,i)),o(wV(r,i)),o(ZV(r,i)),{errors:i,isValid:!a,messages:bV(i),box:t,focus:n}}function AV(e){var t,n,r=Hz(Vz(e)),i={name:"",show_on:"",channels:[],appearance:{custom_css:""},behavior:{trigger:{display_after_seconds:"",display_after_scroll_percent:""},display_rules:{date_scheduling:"",business_hours:"",rule_groups:""}}},a=!1,o=function(e){e.hasErrors&&(a=!0),!t&&e.box&&(t=e.box),!n&&e.focus&&(n=e.focus)};return o(xV(r,i)),o(kV(r,i)),o(_V(r,i)),o(CV(r,i)),o(SV(e,i)),o(jV(r,i)),o(wV(r,i)),o(ZV(r,i)),{errors:i,isValid:!a,messages:bV(i),box:t,focus:n,normalized:r}}var TV=Hz,PV=function(e){var t="disabled"===(null===e||void 0===e?void 0:e.status)?"disabled":"enabled",n=JSON.parse(JSON.stringify(e));if(n&&"object"===typeof n){var r,i,a;if(delete n.name,null===n||void 0===n||null===(r=n.appearance)||void 0===r||!r.view||"chat"!==n.appearance.view.style)null!==n&&void 0!==n&&null!==(a=n.appearance)&&void 0!==a&&a.view&&(delete n.appearance.view.heading,delete n.appearance.view.subheading);n.behavior&&!n.behavior.change_page_title&&delete n.behavior.page_title,null!==n&&void 0!==n&&null!==(i=n.behavior)&&void 0!==i&&i.display_rules&&n.behavior.display_rules.business_hours&&!1===n.behavior.display_rules.business_hours.enabled&&"days"in n.behavior.display_rules.business_hours&&delete n.behavior.display_rules.business_hours.days,null!==n&&void 0!==n&&n.appearance&&"string"===typeof n.appearance.custom_css&&""===String(n.appearance.custom_css).trim()&&delete n.appearance.custom_css,Array.isArray(n.channels)&&(n.channels=n.channels.filter((function(e){return Boolean(e&&e.enabled)})).map((function(e){var t=(0,kn.Z)({},e);try{oP(null===t||void 0===t?void 0:t.type).forEach((function(e){if(e&&e.key){var n=t[e.key];void 0!==n&&null!==n&&""!==String(n).trim()||delete t[e.key]}}))}catch(r){}if(Array.isArray(t.agents)&&(t.agents=t.agents.map((function(e){var t=(0,kn.Z)({},e),n=t.agent_avatar_url;return(void 0===n||null===n||"string"===typeof n&&""===n.trim())&&"agent_avatar_url"in t&&delete t.agent_avatar_url,t}))),t&&"custom"===t.type){var n="string"===typeof t.label?t.label.trim():"";n?t.channel_name=n:"channel_name"in t&&delete t.channel_name}return"index"in t&&delete t.index,t&&t.schedule&&!1===t.schedule.enabled&&"days"in t.schedule&&delete t.schedule.days,t})))}return{name:(null===e||void 0===e?void 0:e.name)||"",status:t,config:n}},MV=[{name:"fa-home",style:"solid",keywords:["home","main","dashboard"]},{name:"fa-info-circle",style:"solid",keywords:["info","help"]},{name:"fa-exclamation-circle",style:"solid",keywords:["alert","warn"]},{name:"fa-exclamation-triangle",style:"solid",keywords:["alert","warn"]},{name:"fa-check",style:"solid",keywords:["ok","confirm"]},{name:"fa-times",style:"solid",keywords:["close","remove"]},{name:"fa-plus",style:"solid",keywords:["add","new"]},{name:"fa-minus",style:"solid",keywords:["subtract","remove"]},{name:"fa-search",style:"solid",keywords:["find","lookup"]},{name:"fa-search-plus",style:"solid",keywords:["zoom","in"]},{name:"fa-search-minus",style:"solid",keywords:["zoom","out"]},{name:"fa-cog",style:"solid",keywords:["settings","gear"]},{name:"fa-cogs",style:"solid",keywords:["settings","gears"]},{name:"fa-wrench",style:"solid",keywords:["tool","settings"]},{name:"fa-edit",style:"solid",keywords:["pencil","write"]},{name:"fa-pencil-alt",style:"solid",keywords:["edit","write"]},{name:"fa-trash",style:"solid",keywords:["delete","remove"]},{name:"fa-save",style:"solid",keywords:["store","persist"]},{name:"fa-download",style:"solid",keywords:["save","get"]},{name:"fa-upload",style:"solid",keywords:["send","put"]},{name:"fa-external-link-alt",style:"solid",keywords:["open","new"]},{name:"fa-link",style:"solid",keywords:["url","href"]},{name:"fa-unlink",style:"solid",keywords:["remove","link"]},{name:"fa-lock",style:"solid",keywords:["secure","private"]},{name:"fa-unlock",style:"solid",keywords:["open","access"]},{name:"fa-eye",style:"solid",keywords:["view","show"]},{name:"fa-eye-slash",style:"solid",keywords:["hide","conceal"]},{name:"fa-user",style:"solid",keywords:["account","person"]},{name:"fa-user-plus",style:"solid",keywords:["add","invite"]},{name:"fa-user-minus",style:"solid",keywords:["remove"]},{name:"fa-users",style:"solid",keywords:["group","team"]},{name:"fa-user-friends",style:"solid",keywords:["group","team"]},{name:"fa-sign-in-alt",style:"solid",keywords:["login","enter"]},{name:"fa-sign-out-alt",style:"solid",keywords:["logout","exit"]},{name:"fa-power-off",style:"solid",keywords:["off","shutdown"]},{name:"fa-bolt",style:"solid",keywords:["lightning","fast"]},{name:"fa-sync",style:"solid",keywords:["refresh","reload"]},{name:"fa-redo",style:"solid",keywords:["repeat","again"]},{name:"fa-undo",style:"solid",keywords:["back","reverse"]},{name:"fa-spinner",style:"solid",keywords:["loading","progress"]},{name:"fa-circle",style:"solid",keywords:["dot","status"]},{name:"fa-check-circle",style:"solid",keywords:["ok","success"]},{name:"fa-times-circle",style:"solid",keywords:["error","close"]},{name:"fa-question-circle",style:"solid",keywords:["help","info"]},{name:"fa-bell",style:"solid",keywords:["notify","notification"]},{name:"fa-bell-slash",style:"solid",keywords:["mute","silence"]},{name:"fa-calendar",style:"solid",keywords:["date","schedule"]},{name:"fa-calendar-alt",style:"solid",keywords:["date","event"]},{name:"fa-clock",style:"solid",keywords:["time","schedule"]},{name:"fa-history",style:"solid",keywords:["recent","back"]},{name:"fa-bars",style:"solid",keywords:["menu","nav"]},{name:"fa-ellipsis-h",style:"solid",keywords:["more","menu"]},{name:"fa-ellipsis-v",style:"solid",keywords:["more","menu"]},{name:"fa-arrow-right",style:"solid",keywords:["next","forward"]},{name:"fa-arrow-left",style:"solid",keywords:["back","previous"]},{name:"fa-arrow-up",style:"solid",keywords:["top","up"]},{name:"fa-arrow-down",style:"solid",keywords:["bottom","down"]},{name:"fa-long-arrow-alt-right",style:"solid",keywords:["next"]},{name:"fa-long-arrow-alt-left",style:"solid",keywords:["back"]},{name:"fa-chevron-right",style:"solid",keywords:["next"]},{name:"fa-chevron-left",style:"solid",keywords:["prev"]},{name:"fa-chevron-up",style:"solid",keywords:["up"]},{name:"fa-chevron-down",style:"solid",keywords:["down"]},{name:"fa-angle-right",style:"solid",keywords:["next"]},{name:"fa-angle-left",style:"solid",keywords:["prev"]},{name:"fa-angle-up",style:"solid",keywords:["up"]},{name:"fa-angle-down",style:"solid",keywords:["down"]},{name:"fa-play",style:"solid",keywords:["start","media"]},{name:"fa-pause",style:"solid",keywords:["stop","media"]},{name:"fa-stop",style:"solid",keywords:["end","media"]},{name:"fa-step-forward",style:"solid",keywords:["next"]},{name:"fa-step-backward",style:"solid",keywords:["prev"]},{name:"fa-fast-forward",style:"solid",keywords:["next","media"]},{name:"fa-fast-backward",style:"solid",keywords:["prev","media"]},{name:"fa-volume-up",style:"solid",keywords:["sound","audio"]},{name:"fa-volume-down",style:"solid",keywords:["sound","audio"]},{name:"fa-volume-off",style:"solid",keywords:["mute","audio"]},{name:"fa-microphone",style:"solid",keywords:["voice","record"]},{name:"fa-microphone-slash",style:"solid",keywords:["mute","voice"]},{name:"fa-file",style:"solid",keywords:["document"]},{name:"fa-file-alt",style:"solid",keywords:["document","text"]},{name:"fa-folder",style:"solid",keywords:["directory"]},{name:"fa-folder-open",style:"solid",keywords:["directory","open"]},{name:"fa-copy",style:"solid",keywords:["duplicate"]},{name:"fa-paste",style:"solid",keywords:["clipboard"]},{name:"fa-cut",style:"solid",keywords:["scissors"]},{name:"fa-paperclip",style:"solid",keywords:["attach"]},{name:"fa-shopping-cart",style:"solid",keywords:["cart","buy"]},{name:"fa-shopping-bag",style:"solid",keywords:["bag","buy"]},{name:"fa-shopping-basket",style:"solid",keywords:["basket","buy"]},{name:"fa-credit-card",style:"solid",keywords:["payment","pay"]},{name:"fa-tag",style:"solid",keywords:["label","price"]},{name:"fa-tags",style:"solid",keywords:["labels","prices"]},{name:"fa-dollar-sign",style:"solid",keywords:["money","usd"]},{name:"fa-laptop",style:"solid",keywords:["device","computer"]},{name:"fa-desktop",style:"solid",keywords:["device","computer"]},{name:"fa-mobile-alt",style:"solid",keywords:["phone","device"]},{name:"fa-tablet-alt",style:"solid",keywords:["tablet","device"]},{name:"fa-camera",style:"solid",keywords:["photo","image"]},{name:"fa-video",style:"solid",keywords:["movie","record"]},{name:"fa-wifi",style:"solid",keywords:["network","signal"]},{name:"fa-battery-full",style:"solid",keywords:["power","charge"]},{name:"fa-battery-half",style:"solid",keywords:["power","charge"]},{name:"fa-battery-empty",style:"solid",keywords:["power","charge"]},{name:"fa-cloud",style:"solid",keywords:["storage","internet"]},{name:"fa-cloud-download-alt",style:"solid",keywords:["download"]},{name:"fa-cloud-upload-alt",style:"solid",keywords:["upload"]},{name:"fa-map-marker-alt",style:"solid",keywords:["location","map"]},{name:"fa-map",style:"solid",keywords:["location","map"]},{name:"fa-location-arrow",style:"solid",keywords:["gps","locate"]},{name:"fa-compass",style:"solid",keywords:["navigate","direction"]},{name:"fa-globe-americas",style:"solid",keywords:["world","map"]},{name:"fa-globe",style:"solid",keywords:["world","internet"]},{name:"fa-shield-alt",style:"solid",keywords:["security","protect"]},{name:"fa-key",style:"solid",keywords:["password","access"]},{name:"fa-comment",style:"solid",keywords:["chat","message"]},{name:"fa-comment-dots",style:"solid",keywords:["chat","message","typing"]},{name:"fa-comments",style:"solid",keywords:["chats","messages"]},{name:"fa-comment-alt",style:"solid",keywords:["chat","message"]},{name:"fa-message",style:"solid",keywords:["chat","message"]},{name:"fa-envelope",style:"solid",keywords:["email","mail"]},{name:"fa-paper-plane",style:"solid",keywords:["send","share"]},{name:"fa-phone",style:"solid",keywords:["call","dial"]},{name:"fa-phone-volume",style:"solid",keywords:["call","ring"]},{name:"fa-headset",style:"solid",keywords:["support"]},{name:"fa-at",style:"solid",keywords:["email","address"]},{name:"fa-rss",style:"solid",keywords:["feed","subscribe"]},{name:"fa-sms",style:"solid",keywords:["text","message"]},{name:"fa-address-book",style:"regular",keywords:["contacts"]},{name:"fa-address-card",style:"regular",keywords:["id","profile"]},{name:"fa-bell",style:"regular",keywords:["notify","notification"]},{name:"fa-bookmark",style:"regular",keywords:["save","mark"]},{name:"fa-calendar-alt",style:"regular",keywords:["date","event"]},{name:"fa-clipboard",style:"regular",keywords:["copy","paste"]},{name:"fa-clock",style:"regular",keywords:["time"]},{name:"fa-clone",style:"regular",keywords:["duplicate"]},{name:"fa-compass",style:"regular",keywords:["navigate"]},{name:"fa-copy",style:"regular",keywords:["duplicate"]},{name:"fa-envelope",style:"regular",keywords:["email"]},{name:"fa-envelope-open",style:"regular",keywords:["email","open"]},{name:"fa-file",style:"regular",keywords:["document"]},{name:"fa-file-alt",style:"regular",keywords:["document","text"]},{name:"fa-flag",style:"regular",keywords:["mark","report"]},{name:"fa-folder",style:"regular",keywords:["directory"]},{name:"fa-folder-open",style:"regular",keywords:["directory","open"]},{name:"fa-hand-point-right",style:"regular",keywords:["point","arrow"]},{name:"fa-handshake",style:"regular",keywords:["deal","agreement"]},{name:"fa-hdd",style:"regular",keywords:["storage"]},{name:"fa-id-badge",style:"regular",keywords:["badge","id"]},{name:"fa-id-card",style:"regular",keywords:["id","profile"]},{name:"fa-image",style:"regular",keywords:["picture"]},{name:"fa-images",style:"regular",keywords:["gallery"]},{name:"fa-keyboard",style:"regular",keywords:["type","input"]},{name:"fa-life-ring",style:"regular",keywords:["support","help"]},{name:"fa-lightbulb",style:"regular",keywords:["idea","hint"]},{name:"fa-map",style:"regular",keywords:["location"]},{name:"fa-paper-plane",style:"regular",keywords:["send"]},{name:"fa-pause-circle",style:"regular",keywords:["pause","media"]},{name:"fa-play-circle",style:"regular",keywords:["play","media"]},{name:"fa-plus-square",style:"regular",keywords:["add","new"]},{name:"fa-minus-square",style:"regular",keywords:["remove"]},{name:"fa-check-square",style:"regular",keywords:["ok","confirm"]},{name:"fa-question-circle",style:"regular",keywords:["help","info"]},{name:"fa-save",style:"regular",keywords:["store","persist"]},{name:"fa-share-square",style:"regular",keywords:["share"]},{name:"fa-smile",style:"regular",keywords:["happy","emoji"]},{name:"fa-star",style:"regular",keywords:["favorite","rate"]},{name:"fa-star-half",style:"regular",keywords:["rating"]},{name:"fa-sticky-note",style:"regular",keywords:["note","memo"]},{name:"fa-stop-circle",style:"regular",keywords:["stop","media"]},{name:"fa-sun",style:"regular",keywords:["light","day"]},{name:"fa-thumbs-up",style:"regular",keywords:["like","approve"]},{name:"fa-thumbs-down",style:"regular",keywords:["dislike"]},{name:"fa-times-circle",style:"regular",keywords:["error","close"]},{name:"fa-trash-alt",style:"regular",keywords:["delete","remove"]},{name:"fa-user",style:"regular",keywords:["account","person"]},{name:"fa-user-circle",style:"regular",keywords:["account","person"]},{name:"fa-whatsapp",style:"brands",keywords:["whatsapp"]},{name:"fa-telegram",style:"brands",keywords:["telegram"]},{name:"fa-facebook-messenger",style:"brands",keywords:["messenger","facebook"]},{name:"fa-google",style:"brands",keywords:["google"]},{name:"fa-github",style:"brands",keywords:["code","git"]},{name:"fa-twitter",style:"brands",keywords:["tweet","social"]},{name:"fa-facebook",style:"brands",keywords:["facebook","social"]},{name:"fa-linkedin",style:"brands",keywords:["linkedin","social"]},{name:"fa-instagram",style:"brands",keywords:["instagram","social"]},{name:"fa-youtube",style:"brands",keywords:["video","social"]},{name:"fa-reddit",style:"brands",keywords:["reddit","social"]},{name:"fa-pinterest",style:"brands",keywords:["pinterest","social"]},{name:"fa-medium-m",style:"brands",keywords:["medium","blog"]},{name:"fa-dribbble",style:"brands",keywords:["design","social"]},{name:"fa-behance",style:"brands",keywords:["design","social"]},{name:"fa-skype",style:"brands",keywords:["skype","call"]},{name:"fa-slack",style:"brands",keywords:["slack","chat"]},{name:"fa-discord",style:"brands",keywords:["discord","chat"]},{name:"fa-apple",style:"brands",keywords:["ios","apple"]},{name:"fa-android",style:"brands",keywords:["android","google"]},{name:"fa-windows",style:"brands",keywords:["microsoft","windows"]}],IV=function(e){var t=e.value,n=e.onChange,r=e.placeholder,i=e.style;return(0,st.jsx)(Rv.default,{showSearch:!0,value:t,onChange:function(e){return n&&n(e)},placeholder:r||"Select icon",style:i||{minWidth:220},optionFilterProp:"children",filterOption:function(e,t){return String((null===t||void 0===t?void 0:t["data-search"])||"").toLowerCase().includes(e.toLowerCase())},options:MV.map((function(e){var t,n="brands"===(t=e).style?"fa-brands ".concat(t.name):"regular"===t.style?"fa-regular ".concat(t.name):"fa-solid ".concat(t.name);return{label:(0,st.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[(0,st.jsx)("i",{className:n,"aria-hidden":"true"}),(0,st.jsx)("span",{children:e.name})]}),value:n,"data-search":"".concat(e.name," ").concat((e.keywords||[]).join(" ")," ").concat(e.style)}}))})},DV=function(e){var t=e.open,n=e.value,r=e.onChange,i=e.onClose,a=e.title,o=(0,oe.useState)(""),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useMemo)((function(){var e=l.trim().toLowerCase();return e?MV.filter((function(t){var n=(t.keywords||[]).join(" ").toLowerCase();return t.name.toLowerCase().includes(e)||t.style.toLowerCase().includes(e)||n.includes(e)})):MV}),[l]);return(0,st.jsxs)(gt.Z,{visible:t,title:a||"Choose an icon",onCancel:i,footer:null,width:720,zIndex:100008,destroyOnClose:!0,children:[(0,st.jsx)("div",{style:{marginBottom:12},children:(0,st.jsx)(Yc.default.Search,{placeholder:"Search icons",value:l,onChange:function(e){return c(e.target.value)},allowClear:!0})}),(0,st.jsx)("div",{className:"pe-icon-picker-grid",style:{display:"grid",gridTemplateColumns:"repeat(6, minmax(0, 1fr))",gap:12,maxHeight:360,overflow:"auto"},children:u.map((function(e){var t=function(e){return"brands"===e.style?"fa-brands ".concat(e.name):"regular"===e.style?"fa-regular ".concat(e.name):"fa-solid ".concat(e.name)}(e),a=n===t||n===e.name;return(0,st.jsxs)("button",{type:"button",onClick:function(){null===r||void 0===r||r(t),null===i||void 0===i||i()},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:10,borderRadius:6,border:a?"2px solid #1890ff":"1px solid #f0f0f0",background:a?"rgba(24,144,255,0.06)":"#fff",cursor:"pointer",height:80},children:[(0,st.jsx)("i",{className:t,style:{fontSize:24,marginBottom:6},"aria-hidden":"true"}),(0,st.jsx)("span",{style:{fontSize:11,textAlign:"center"},children:e.name})]},"".concat(e.style,"-").concat(e.name))}))})]})},LV=[{label:"Purple",value:"#7F6DF2"},{label:"Green",value:"#25D366"},{label:"Blue",value:"#1890FF"},{label:"Orange",value:"#FAAD14"},{label:"Red",value:"#FF4D4F"},{label:"Black",value:"#000000"}],RV=function(e){var t=e.value,n=void 0===t?"#000000":t,r=e.onChange,i=e.variant,a=void 0===i?"picker":i,o=e.presets,s=e.showHexInput,l=void 0===s||s,c=function(e){return r&&r(e)};if("select"===a){var u=(o&&o.length?o:LV).map((function(e){return{label:(0,st.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[(0,st.jsx)("span",{style:{width:12,height:12,borderRadius:"50%",background:e.value,display:"inline-block",border:"1px solid rgba(0,0,0,0.1)"}}),e.label]}),value:e.value}}));return(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(Rv.default,{value:n,style:{minWidth:140},onChange:function(e){return c(e)},options:u}),l?(0,st.jsx)(Yc.default,{style:{width:100},value:n,onChange:function(e){return c(e.target.value)}}):null]})}return(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)("span",{"aria-label":"Selected color",title:n,style:{position:"relative",width:28,height:28,borderRadius:999,border:"1px solid rgba(0,0,0,0.15)",background:n,boxShadow:"0 1px 0 rgba(0,0,0,0.02) inset",display:"inline-block",overflow:"hidden",cursor:"pointer"},children:(0,st.jsx)("input",{"aria-label":"Pick color",type:"color",value:n,onChange:function(e){return c(e.target.value)},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer",border:0,padding:0,margin:0}})}),l?(0,st.jsx)(Yc.default,{style:{width:110},value:n,onChange:function(e){return c(e.target.value)}}):null]})},BV=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 12 12",fill:"currentColor",focusable:"false","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M2 0.75C1.58579 0.75 1.25 1.08579 1.25 1.5V10.5C1.25 10.9142 1.58579 11.25 2 11.25H10C10.4142 11.25 10.75 10.9142 10.75 10.5V1.5C10.75 1.08579 10.4142 0.75 10 0.75H2ZM2.75 2.25H9.25V9.75H2.75V2.25Z"})}))},FV=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:BV},e))},zV=function(){return(0,st.jsx)(ed.Z.Item,{shouldUpdate:!0,children:function(e){var t=(0,e.getFieldValue)("show_on")||[];return(0,st.jsx)(ed.Z.Item,{name:"show_on",rules:[{required:!0,message:"Please select at least one device"}],style:{marginBottom:0},children:(0,st.jsxs)(Vy.default.Group,{className:"target-device-selector-group",children:[(0,st.jsx)(Vy.default,{value:"desktop",className:"pe-target-device-option",disabled:1===t.length&&t.includes("desktop"),children:(0,st.jsxs)("div",{className:"target-device-btn",children:[(0,st.jsx)("span",{className:"target-device-icon",children:(0,st.jsx)(nV,{})}),Ua("Desktop","pushengage")]})}),(0,st.jsx)(Vy.default,{value:"tablet",className:"pe-target-device-option",disabled:1===t.length&&t.includes("tablet"),children:(0,st.jsxs)("div",{className:"target-device-btn",children:[(0,st.jsx)("span",{className:"target-device-icon",children:(0,st.jsx)(FV,{})}),Ua("Tablet","pushengage")]})}),(0,st.jsx)(Vy.default,{value:"mobile",className:"pe-target-device-option",disabled:1===t.length&&t.includes("mobile"),children:(0,st.jsxs)("div",{className:"target-device-btn",children:[(0,st.jsx)("span",{className:"target-device-icon",children:(0,st.jsx)(Ng,{})}),Ua("Mobile","pushengage")]})})]})})}})},VV=function(e){var t=e.editingChannel,n=e.setEditingChannel,r=e.user,i=e.onRequestUpgrade,a=e.drawerTriedSave,o=void 0!==a&&a,s=(0,oe.useState)(!1),l=(0,xe.Z)(s,2),c=l[0],u=l[1];return(0,st.jsxs)(Wc.Z,{className:"pe-channel-config-card",bordered:!0,children:[(0,st.jsxs)("div",{className:"section-header",children:[(0,st.jsx)(mV.default,{level:5,children:Ua("Design & Appearance","pushengage")}),(0,st.jsx)(gV.default,{type:"secondary",children:Ua("Customize how the widget looks on your website.","pushengage")})]}),(0,st.jsx)("div",{className:"section-content",children:(0,st.jsxs)(dt.Z,{className:"pe-pl-6",gutter:16,children:[(0,st.jsx)(ht.Z,{span:12,xs:24,children:(0,st.jsx)(ed.Z.Item,{children:(0,st.jsxs)(Ju.default,{direction:"horizontal",className:"pe-d-flex pe-justify-space-between pe-design-setting-row",align:"center",children:[(0,st.jsx)("label",{className:"pe-fw-600 pe-fs-14",children:Ua("Brand Color","pushengage")}),(0,st.jsx)(RV,{value:t.color||sP(t.type)||"#25D366",onChange:function(e){n((0,kn.Z)((0,kn.Z)({},t),{},{color:e}))}})]})})}),(0,st.jsxs)(ht.Z,{span:24,children:[(0,st.jsxs)(Ju.default,{direction:"horizontal",className:"pe-d-flex pe-justify-space-between pe-design-setting-row",align:"center",children:[(0,st.jsx)("label",{className:"pe-fw-600 pe-fs-14",children:Ua("Target Devices","pushengage")}),(0,st.jsx)(zV,{})]}),!o||Array.isArray(t.show_on)&&0!==t.show_on.length?null:(0,st.jsx)("div",{style:{color:"#ff4d4f",fontSize:"14px",marginTop:"4px"},children:yV.channelEmptyShowOn})]}),(0,st.jsx)(ht.Z,{span:12,xs:24,className:"pe-my-16",children:(0,st.jsx)(ed.Z.Item,{label:(0,st.jsx)("span",{role:"button",tabIndex:0,"aria-disabled":Hd(r),onClick:function(){Hd(r)||i()},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(Hd(r)||i(),e.preventDefault())},"aria-label":"Custom Icon/Image",children:Ua("Custom Icon/Image","pushengage")}),children:Hd(r)?(0,st.jsx)(Ju.default,{direction:"horizontal",className:"pe-d-flex pe-justify-space-between",align:"center",children:(0,st.jsx)(zy.default.Group,{className:"pe-ant-radio-group pe-ant-radio-group-small",style:{display:"inline-flex",flexWrap:"nowrap"},value:t.custom_type||"disabled",onChange:function(e){return n((0,kn.Z)((0,kn.Z)({},t),{},{custom_type:e.target.value}))},optionType:"button",buttonStyle:"solid",options:[{label:Ua("Disabled","pushengage"),value:"disabled"},{label:Ua("Image","pushengage"),value:"image"},{label:Ua("Icon","pushengage"),value:"icon"}]})}):(0,st.jsx)(pt.default,{className:"pe-px-12 pe-mb-6",size:"small",onClick:i,children:(0,st.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[Ua("Select custom appearance","pushengage"),(0,st.jsx)(ft.default,{title:Ua("Requires business plan or higher","pushengage"),children:(0,st.jsx)(vm,{})})]})})})}),Hd(r)?(0,st.jsxs)(ht.Z,{span:24,children:["image"===(t.custom_type||"disabled")&&(0,st.jsx)(ed.Z.Item,{validateStatus:o&&!t.custom_image?"error":void 0,help:o&&!t.custom_image?yV.channelCustomImageRequired:void 0,children:(0,st.jsxs)("div",{className:"pe-d-flex pe-flex-row pe-align-items-center pe-w-full",style:{gap:8},children:[(0,st.jsx)(hV,{onChange:function(e){n((0,kn.Z)((0,kn.Z)({},t),{},{custom_image:e}))},title:Ua("Select Custom Image","pushengage"),btnText:Ua("Select Image","pushengage")}),t.custom_image?(0,st.jsx)("div",{className:"pe-d-flex pe-align-items-center",style:{gap:8},children:(0,st.jsxs)("div",{style:{position:"relative",width:40,height:40},children:[(0,st.jsx)("div",{style:{width:40,height:40,borderRadius:"50%",overflow:"hidden"},children:(0,st.jsx)("img",{src:t.custom_image,alt:"custom",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,st.jsx)(ft.default,{title:Ua("Remove image","pushengage"),children:(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-d-flex pe-align-items-center pe-justify-center pe-p-absolute",style:{top:-5,right:-5,padding:0,width:14,height:14,lineHeight:1,background:"#f5f5f5",borderRadius:"50%"},onClick:function(){return n((0,kn.Z)((0,kn.Z)({},t),{},{custom_image:void 0}))},icon:(0,st.jsx)($c,{style:{fontSize:10,color:"rgba(255,77,79,0.7)"}})})})]})}):null]})}),"icon"===(t.custom_type||"disabled")&&(0,st.jsxs)(ed.Z.Item,{validateStatus:o&&!t.custom_icon?"error":void 0,help:o&&!t.custom_icon?yV.channelCustomIconRequired:void 0,children:[(0,st.jsxs)(Ju.default,{direction:"horizontal",className:"pe-d-flex pe-justify-space-between pe-appearance-icon-picker",align:"center",wrap:!0,children:[(0,st.jsx)(IV,{onChange:function(e){n((0,kn.Z)((0,kn.Z)({},t),{},{custom_icon:e}))},value:t.custom_icon,placeholder:Ua("Search icons","pushengage"),style:{width:"100%",minWidth:260}}),(0,st.jsx)("button",{type:"button",onClick:function(){return u(!0)},className:"pe-d-inline-flex pe-align-items-center pe-ant-btn pe-ant-btn-default",children:Ua("Browse all","pushengage")})]}),(0,st.jsx)(DV,{open:c,value:t.custom_icon,onChange:function(e){n((0,kn.Z)((0,kn.Z)({},t),{},{custom_icon:e}))},onClose:function(){return u(!1)},title:Ua("Choose an icon","pushengage")})]})]}):null]})})]})},UV=function(e){var t=e.value,n=e.onChange,r=e.disabled,i=e.placeholder,a=void 0===i?"Select timezone":i,o=e.inputId,s=bt((function(e){var t;return null===(t=e.globals.settings.timezone)||void 0===t?void 0:t.value})),l=bt((function(e){var t;return null===(t=e.globals.settings.timezone)||void 0===t?void 0:t.offset})),c=(0,oe.useState)([]),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)(!1),h=(0,xe.Z)(f,2),g=h[0],m=h[1];(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,zv();case 4:t=e.sent,p((null===t||void 0===t?void 0:t.data)||[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p([]);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()}),[]);var v=s?"".concat(s).concat(l?" (".concat(l,")"):""):"Use site timezone";return(0,st.jsxs)(Rv.default,{id:o,showSearch:!0,defaultActiveFirstOption:!0,value:t,onChange:function(e){return null===n||void 0===n?void 0:n(e)},placeholder:a,disabled:r,optionFilterProp:"label",filterOption:function(e,t){return String((null===t||void 0===t?void 0:t.label)||"").toLowerCase().includes(e.toLowerCase())},notFoundContent:g?(0,st.jsx)(Hc.default,{size:"small"}):null,dropdownClassName:"timezone-select-dropdown",children:[(0,st.jsxs)(Rv.default.Option,{value:"site-timezone",label:"Site Timezone ".concat(s?"(".concat(v,")"):""),children:["Site Timezone ",s?"(".concat(v,")"):""]}),d.map((function(e){var t="".concat(e.name).concat(e.offset?" (".concat(e.offset,")"):"");return(0,st.jsx)(Rv.default.Option,{value:e.name,label:t,children:t},e.name)}))]})};UV.defaultProps={value:void 0,onChange:void 0,disabled:!1,placeholder:"Select timezone",inputId:void 0};var HV=UV,WV=(n(61553),n(69274)),qV=[{key:"mon",label:"Monday"},{key:"tue",label:"Tuesday"},{key:"wed",label:"Wednesday"},{key:"thu",label:"Thursday"},{key:"fri",label:"Friday"},{key:"sat",label:"Saturday"},{key:"sun",label:"Sunday"}],KV=function(e){var t=e&&e.length?e:"09:00";return ei()(t,["HH:mm","HH:mm:ss"])},YV=function(e){var t=e.value,n=e.onChange,r=e.disabled,i=void 0!==r&&r,a=(0,oe.useMemo)((function(){return qV.reduce((function(e,n){var r=null===t||void 0===t?void 0:t[n.key];return e[n.key]=r||{enabled:!1,start:"09:00",end:"17:00"},e}),{})}),[t]),o=function(e,t){var r=(0,kn.Z)((0,kn.Z)({},a),{},(0,ti.Z)({},e,(0,kn.Z)((0,kn.Z)({},a[e]),t)));null===n||void 0===n||n(r)},s=function(e,t,n){n&&o(e,(0,ti.Z)({},t,n.format("HH:mm")))};return(0,st.jsx)("div",{className:"schedule-day-grid",children:qV.map((function(e){var t=a[e.key],n=!t.enabled;return(0,st.jsxs)("div",{className:"schedule-day-row",children:[(0,st.jsx)("div",{className:"day-label",children:(0,st.jsx)("span",{children:Ka(e.label)})}),(0,st.jsx)("div",{className:"day-toggle",children:(0,st.jsx)(Lv.Z,{checked:t.enabled,onChange:function(t){return o(e.key,{enabled:t})},disabled:i})}),(0,st.jsxs)("div",{className:"day-time-input",children:[(0,st.jsx)(WV.Z,{value:KV(t.start),format:"hh:mm A",use12Hours:!0,disabled:n||i,minuteStep:5,onChange:function(t){return s(e.key,"start",t)},size:"small",clearIcon:!1}),(0,st.jsx)("div",{className:"day-separator",children:"to"}),(0,st.jsx)(WV.Z,{value:KV(t.end),format:"hh:mm A",use12Hours:!0,disabled:n||i,minuteStep:5,onChange:function(t){return s(e.key,"end",t)},size:"small",clearIcon:!1})]})]},e.key)}))})};YV.defaultProps={value:void 0,onChange:void 0};var GV=YV,QV=function(e){var t=e.baseName,n=void 0===t?["schedule"]:t,r=e.disabled,i=void 0!==r&&r,a=e.timezoneInputId,o=void 0===a?"availability_schedule_timezone":a,s=e.timezoneErrorMessage;return(0,st.jsx)(ed.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(e){var t=(0,e.getFieldValue)([].concat((0,we.Z)(n),["enabled"]));return(0,st.jsxs)("div",{className:"availability-content".concat(t?"":" is-disabled"),children:[(0,st.jsx)("div",{className:"timezone-row",children:(0,st.jsx)(ed.Z.Item,{label:"Timezone",htmlFor:o,name:[].concat((0,we.Z)(n),["timezone"]),initialValue:"site-timezone",style:{marginBottom:0},rules:t?[{required:!0,message:s||"'timezone' is required"}]:[],children:(0,st.jsx)(HV,{inputId:o,disabled:i})})}),(0,st.jsx)(ed.Z.Item,{name:[].concat((0,we.Z)(n),["days"]),valuePropName:"value",rules:t?[{validator:function(e,t){var n=t||{};return Object.values(n).some((function(e){return null===e||void 0===e?void 0:e.enabled}))?Promise.resolve():Promise.reject(new Error("Enable at least one day"))}}]:[],children:(0,st.jsx)(GV,{disabled:i})})]})}})},XV=mt.Z.Title,$V=mt.Z.Paragraph,JV=function(e){var t=e.user,n=e.onRequestUpgrade,r=Hd(t),i=(0,oe.useRef)(!1);return(0,st.jsxs)(Wc.Z,{className:"pe-channel-config-card availability-card",bordered:!1,children:[(0,st.jsxs)("div",{className:"section-header",children:[(0,st.jsxs)("div",{children:[(0,st.jsxs)(Ju.default,{direction:"horizontal",size:0,children:[(0,st.jsx)(XV,{level:5,children:Ua("Availability Schedule","pushengage")}),!r&&(0,st.jsx)(Gb,{plan:"business"})]}),(0,st.jsx)($V,{type:"secondary",children:Ua("Configure when this channel should be visible to visitors.","pushengage")})]}),(0,st.jsx)(ed.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(e){var t=(0,e.getFieldValue)(["schedule","enabled"]);return void 0!==t&&(i.current=t),(0,st.jsx)(ed.Z.Item,{name:["schedule","enabled"],valuePropName:"checked",noStyle:!0,getValueFromEvent:function(e){return!r&&e?(n(),i.current):(i.current=e,e)},children:(0,st.jsx)(Lv.Z,{})})}})]}),(0,st.jsx)("div",{className:"section-content",children:(0,st.jsx)(QV,{})})]})},eU=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 512 512",fill:"currentColor",focusable:"false","data-icon":"pe-close-circle-filled","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"})}))},tU=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:eU},e))},nU=function(e){var t=e.value,n=e.onChange;return(0,st.jsxs)("div",{className:"agent-avatar-uploader",children:[(0,st.jsx)("div",{className:"avatar-preview",children:t?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("img",{src:t,alt:"Agent avatar"}),(0,st.jsx)(tU,{className:"remove-icon",onClick:function(){return null===n||void 0===n?void 0:n("")}})]}):(0,st.jsx)("span",{className:"placeholder-text",children:Ua("No image","pushengage")})}),(0,st.jsxs)("div",{className:"avatar-actions",children:[(0,st.jsx)(hV,{onChange:function(e){return null===n||void 0===n?void 0:n(e)},title:Ua("Select Agent Avatar","pushengage"),btnText:Ua("Use this image","pushengage")}),(0,st.jsx)(mt.Z.Paragraph,{type:"secondary",className:"helper-text",children:Ua("Use a square image (128x128px PNG/JPG) for best results.","pushengage")})]})]})};nU.defaultProps={value:"",onChange:void 0,inputId:void 0};var rU=nU,iU=function(e){switch(e){case"whatsapp":return[{key:"value",label:"Phone Number",name:["value"],rules:[{required:!0},{max:50},{pattern:$v,message:"Use international format without spaces (e.g., +19876543210)"}],render:(0,st.jsx)(Yc.default,{type:"tel",placeholder:"Enter phone number e.g. +19876543210"})},{key:"prefill_message",label:"Prefill Message",name:["prefill_message"],rules:[{max:255,message:"Prefill message cannot exceed 255 characters"}],render:(0,st.jsx)(Yc.default.TextArea,{rows:2,maxLength:255,placeholder:"Hi there! I have a question about..."})}];case"messenger":return[{key:"value",label:"Messenger URL",name:["value"],rules:[{required:!0},{type:"url",message:"Please enter a valid URL (e.g., https://m.me/your-page)"}],render:(0,st.jsx)(Yc.default,{placeholder:"https://m.me/your-page"})}];case"phone":case"sms":case"viber":return[{key:"value",label:"Phone number",name:["value"],rules:[{required:!0},{pattern:$v,message:"Use international format without spaces (e.g., +19876543210)"}],render:(0,st.jsx)(Yc.default,{type:"tel",placeholder:"Enter phone number"})}];case"email":return[{key:"value",label:"Email Address",name:["value"],rules:[{required:!0},{type:"email",message:"Please enter a valid email address"}],render:(0,st.jsx)(Yc.default,{type:"email",placeholder:"Enter email address"})}];case"instagram_dm":return[{key:"value",label:"Instagram DM Handle",name:["value"],rules:[{required:!0},{type:"string",max:60}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter Instagram DM handle (e.g., @username)"})}];case"instagram_page":return[{key:"value",label:"Instagram Page Handle",name:["value"],rules:[{required:!0},{type:"string",max:60}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter Instagram Page handle (e.g., @username)"})}];case"line":return[{key:"value",label:"Line Username",name:["value"],rules:[{required:!0},{type:"string",max:60}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter Line username"})}];case"telegram":return[{key:"value",label:"Telegram Username",name:["value"],rules:[{required:!0},{type:"string",max:60}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter Telegram username"})}];case"google_maps":return[{key:"value",label:"Place or URL",name:["value"],rules:[{required:!0},{type:"string",max:512}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter place name or Google Maps URL"})}];case"twitter":return[{key:"value",label:"Twitter Handle",name:["value"],rules:[{required:!0},{type:"string",max:60}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter Twitter handle (e.g., @username)"})}];case"snapchat":return[{key:"value",label:"Snapchat Username",name:["value"],rules:[{required:!0},{type:"string",max:60}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter Snapchat username"})}];case"tiktok":return[{key:"value",label:"TikTok Handle",name:["value"],rules:[{required:!0},{type:"string",max:60}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter TikTok handle"})}];case"waze":return[{key:"value",label:"Place or URL",name:["value"],rules:[{required:!0},{type:"string",max:512}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter place name or Waze URL"})}];case"linkedin":return[{key:"value",label:"LinkedIn Profile ID",name:["value"],rules:[{required:!0},{type:"string",max:100}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter LinkedIn profile ID"}),help:"Enter your LinkedIn profile ID. You can find it in the URL of your LinkedIn profile. For example, if your profile URL is https://www.linkedin.com/in/my-profile-44573b150, your profile ID is my-profile-44573b150."}];case"vkontakte":return[{key:"value",label:"Vkontakte Profile ID",name:["value"],rules:[{required:!0},{type:"string",max:100}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter Vkontakte profile ID"}),help:"Enter your Vkontakte profile ID. You can find it in the URL of your Vkontakte profile. For example, if your profile URL is https://vk.com/profile_id, your profile ID is profile_id."}];case"slack":return[{key:"value",label:"Slack Workspace URL",name:["value"],rules:[{required:!0},{type:"url",message:"Please enter a valid Slack Workspace URL"},{max:512}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter Slack Workspace URL"})}];case"discord":return[{key:"value",label:"Discord Invite URL",name:["value"],rules:[{required:!0},{type:"url",message:"Please enter a valid Discord Invite URL"},{max:512}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter Discord Invite URL"})}];case"microsoft_teams":return[{key:"value",label:"Microsoft Teams URL",name:["value"],rules:[{required:!0},{type:"url",message:"Please enter a valid Microsoft Teams URL"},{max:512}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter Microsoft Teams URL"})}];case"custom":return[{key:"channel_name",label:"Channel Name",name:["channel_name"],rules:[{required:!0},{max:32}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter channel name",maxLength:32})},{key:"value",label:"Channel Link/URL",name:["value"],rules:[{required:!0},{type:"url",message:"Please enter a valid URL"},{max:512}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter channel link or URL"})}];case"wechat":return[{key:"value",label:"WeChat Username",name:["value"],rules:[{required:!0},{type:"string",max:60}],render:(0,st.jsx)(Yc.default,{placeholder:"Enter WeChat username"}),help:"Unfortunately, WeChat doesn't have a click-to-chat API, therefore we can only show your username so visitors can look-up for it. We have a QR upload option that visitors can use to quickly launch your WeChat profile."},{key:"wechat_qr_code",label:"WeChat QR Code",name:["wechat_qr_code"],rules:[],render:(0,st.jsx)(Yc.default,{type:"file"})}];default:return[]}},aU=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 13 14",fill:"currentColor",focusable:"false","data-icon":"pe-plus-circle-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M9.75 6.71875C9.75 6.56641 9.59766 6.41406 9.44531 6.41406H7.21094V4.17969C7.21094 4.02734 7.05859 3.875 6.90625 3.875H6.09375C5.91602 3.875 5.78906 4.02734 5.78906 4.17969V6.41406H3.55469C3.37695 6.41406 3.25 6.56641 3.25 6.71875V7.53125C3.25 7.70898 3.37695 7.83594 3.55469 7.83594H5.78906V10.0703C5.78906 10.248 5.91602 10.375 6.09375 10.375H6.90625C7.05859 10.375 7.21094 10.248 7.21094 10.0703V7.83594H9.44531C9.59766 7.83594 9.75 7.70898 9.75 7.53125V6.71875ZM12.7969 7.125C12.7969 3.64648 9.97852 0.828125 6.5 0.828125C3.02148 0.828125 0.203125 3.64648 0.203125 7.125C0.203125 10.6035 3.02148 13.4219 6.5 13.4219C9.97852 13.4219 12.7969 10.6035 12.7969 7.125ZM11.5781 7.125C11.5781 9.94336 9.29297 12.2031 6.5 12.2031C3.68164 12.2031 1.42188 9.94336 1.42188 7.125C1.42188 4.33203 3.68164 2.04688 6.5 2.04688C9.29297 2.04688 11.5781 4.33203 11.5781 7.125Z"})}))},oU=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:aU},e))},sU=mt.Z.Title,lU=mt.Z.Paragraph,cU=function(e){return Array.isArray(null===e||void 0===e?void 0:e.name)&&1===e.name.length&&"value"===e.name[0]},uU=function(e){var t=e.isFreePlan,n=e.onShowUpgradeModal,r=e.channelType,i=(0,oe.useMemo)((function(){return r&&iU(r).find(cU)||null}),[r]),a=function(e,t){if(!i)return null;var n=i.render||(0,st.jsx)(Yc.default,{placeholder:"Enter contact detail"}),r=oe.isValidElement(n)?oe.cloneElement(n,{key:"agent-".concat(t,"-contact-input"),id:"pe-agent-value-input-".concat(e)}):n,a=(i.rules||[]).map((function(e){if(!0===e.required&&!e.message){var t=i.label||Ua("Contact","pushengage");return(0,kn.Z)((0,kn.Z)({},e),{},{message:ba(Ua("Please enter %s for the agent.","pushengage"),t)})}return e}));return(0,st.jsx)(ed.Z.Item,{label:i.label,name:[e,"value"],rules:a,help:i.help,children:r})};return(0,st.jsx)("div",{className:"pe-channel-agents",children:(0,st.jsx)(ed.Z.List,{name:"agents",children:function(e,r){var i=r.add,o=r.remove,s=e.length<50,l=function(){i({id:"ag_".concat(qa(13)),name:"",value:"",designation:"",languages:[],tags:[],agent_avatar_url:void 0,schedule:{enabled:!1,timezone:"site-timezone",days:{mon:{enabled:!0,start:"09:00",end:"17:00"},tue:{enabled:!0,start:"09:00",end:"17:00"},wed:{enabled:!0,start:"09:00",end:"17:00"},thu:{enabled:!0,start:"09:00",end:"17:00"},fri:{enabled:!0,start:"09:00",end:"17:00"},sat:{enabled:!1,start:"09:00",end:"17:00"},sun:{enabled:!1,start:"09:00",end:"17:00"}}}})};return 0===e.length?(0,st.jsxs)("div",{className:"agent-empty-state",children:[t?(0,st.jsxs)(pt.default,{type:"default",icon:(0,st.jsx)(oU,{}),onClick:n,children:[Ua("Add Agent","pushengage"),(0,st.jsx)(vm,{style:{fontSize:14}})]}):(0,st.jsx)(pt.default,{type:"default",icon:(0,st.jsx)(oU,{}),onClick:l,disabled:!s,children:Ua("Add Agent","pushengage")}),(0,st.jsx)(lU,{type:"secondary",children:ba("Assign up to %d agents. Each agent can have their own availability schedule.",50)})]}):(0,st.jsxs)(st.Fragment,{children:[e.map((function(e,t){var n="agent_".concat(e.name,"_avatar"),r="agent_".concat(e.name,"_schedule_timezone");return(0,st.jsxs)("div",{className:"agent-card",children:[(0,st.jsxs)("div",{className:"agent-card-header",children:[(0,st.jsxs)(sU,{level:5,children:["Agent ",t+1]}),(0,st.jsx)(pt.default,{type:"text",icon:(0,st.jsx)(Nh,{}),onClick:function(){return o(e.name)},children:Ua("Remove","pushengage")})]}),(0,st.jsxs)("div",{className:"agent-fields",children:[(0,st.jsx)("div",{className:"avatar-field",children:(0,st.jsx)(ed.Z.Item,{label:Ua("Avatar","pushengage"),name:[e.name,"agent_avatar_url"],valuePropName:"value",htmlFor:n,children:(0,st.jsx)(rU,{inputId:n})})}),(0,st.jsxs)("div",{className:"agent-text-fields",children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Agent name","pushengage"),name:[e.name,"name"],rules:[{required:!0,message:Ua("Please enter an agent name.","pushengage")},{max:64,message:Ua("Agent name cannot exceed 64 characters.","pushengage")}],children:(0,st.jsx)(Yc.default,{placeholder:Ua("Agent name","pushengage")})}),a(e.name,e.key),(0,st.jsx)(ed.Z.Item,{label:Ua("Designation","pushengage"),name:[e.name,"designation"],rules:[{max:64}],children:(0,st.jsx)(Yc.default,{placeholder:Ua("e.g. Sales Manager","pushengage")})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Languages","pushengage"),name:[e.name,"languages"],children:(0,st.jsx)(Rv.default,{mode:"multiple",placeholder:Ua("Select languages","pushengage"),options:Gz})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Tags","pushengage"),name:[e.name,"tags"],children:(0,st.jsx)(Rv.default,{mode:"multiple",placeholder:Ua("Add tags","pushengage"),options:Qz})})]})]}),(0,st.jsxs)("div",{className:"agent-schedule",children:[(0,st.jsxs)("div",{className:"agent-schedule-header",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("span",{className:"label",children:Ua("Agent schedule","pushengage")}),(0,st.jsx)(lU,{type:"secondary",children:Ua("Set weekly availability for this agent.","pushengage")})]}),(0,st.jsx)(ed.Z.Item,{name:[e.name,"schedule","enabled"],valuePropName:"checked",noStyle:!0,children:(0,st.jsx)(Lv.Z,{})})]}),(0,st.jsx)(ed.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(t){return(0,t.getFieldValue)(["agents",e.name,"schedule","enabled"])?(0,st.jsxs)("div",{className:"agent-schedule-body",children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Timezone","pushengage"),htmlFor:r,name:[e.name,"schedule","timezone"],rules:[{required:!0,message:Ua("Please select a timezone for the agent schedule.","pushengage")}],children:(0,st.jsx)(HV,{inputId:r})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Weekly hours","pushengage"),name:[e.name,"schedule","days"],valuePropName:"value",children:(0,st.jsx)(GV,{})})]}):null}})]})]},e.key)})),(0,st.jsxs)("div",{className:"agent-add-more",children:[t?(0,st.jsxs)(pt.default,{type:"dashed",icon:(0,st.jsx)(oU,{}),onClick:n,block:!0,children:[Ua("Add Another Agent","pushengage"),(0,st.jsx)(vm,{style:{fontSize:14}})]}):(0,st.jsx)(pt.default,{type:"dashed",icon:(0,st.jsx)(oU,{}),onClick:l,disabled:!s,block:!0,children:"Add Another Agent"}),!s&&(0,st.jsx)(lU,{type:"secondary",className:"agent-limit-text",children:ba("Maximum of %d agents allowed per channel.",50)})]})]})}})})},dU=function(e){var t=e.editingChannel,n=e.user,r=e.onRequestUpgrade,i=!Hd(n),a=mt.Z.Title,o=mt.Z.Paragraph;return(0,st.jsxs)(Wc.Z,{className:"pe-channel-config-card channel-agents-card",bordered:!1,children:[(0,st.jsxs)("div",{className:"section-header",children:[(0,st.jsxs)(Ju.default,{direction:"horizontal",size:0,children:[(0,st.jsx)(a,{level:5,children:Ua("Agents","pushengage")}),i&&(0,st.jsx)(Gb,{plan:"business"})]}),(0,st.jsx)(o,{type:"secondary",children:Ua("Add agents to this channel. Agents appear inside the widget for visitors to contact.","pushengage")})]}),(0,st.jsx)("div",{className:"section-content",children:(0,st.jsx)(uU,{isFreePlan:!Hd(n),onShowUpgradeModal:r,channelType:t.type})})]})},pU=mt.Z.Title,fU=function(e){var t=e.visible,n=e.width,r=e.editingChannel,i=e.setEditingChannel,a=e.onClose,o=e.formRef,s=e.drawerTriedSave,l=e.setDrawerTriedSave,c=e.sharedForm,u=ed.Z.useForm(),d=(0,xe.Z)(u,1)[0],p=c||d,f=bt((function(e){return e.session.user}),uV.isEqual),h=(0,oe.useState)(!1),g=(0,xe.Z)(h,2),m=g[0],v=g[1];(0,oe.useEffect)((function(){if(t&&c&&r&&null!=r.index){var e=r.index,n=c.getFieldValue("channels")||[];if(Array.isArray(n)&&n[e]){var i=n[e],a=(0,kn.Z)((0,kn.Z)({},i),{},{color:void 0!==r.color?r.color:i.color,custom_image:void 0!==r.custom_image?r.custom_image:i.custom_image,custom_type:void 0!==r.custom_type?r.custom_type:i.custom_type,custom_icon:void 0!==r.custom_icon?r.custom_icon:i.custom_icon,label:void 0!==r.label?r.label:i.label,show_on:void 0!==r.show_on?r.show_on:i.show_on}),o=n.slice();o[e]=a,c.setFieldsValue({channels:o})}}}),[t,c,r]),(0,oe.useEffect)((function(){if(r&&(!r.color||""===String(r.color).trim())){var e=tP(r.type);e&&e.color&&i((0,kn.Z)((0,kn.Z)({},r),{},{color:e.color}))}}),[null===r||void 0===r?void 0:r.type]),(0,oe.useEffect)((function(){if(t&&r&&p){var e=r.schedule,n=r.show_on||[],i=(r.agents||[]).map((function(e,t){return(0,kn.Z)((0,kn.Z)({},e),{},{id:e.id||"ag_".concat(Date.now(),"_").concat(t)})}));e?p.setFieldsValue({schedule:{enabled:e.enabled||!1,timezone:e.timezone||"site-timezone",days:e.days||{}},show_on:n,agents:i}):p.setFieldsValue({schedule:{enabled:!1,timezone:"site-timezone",days:{}},show_on:n,agents:i})}}),[t,null===r||void 0===r?void 0:r.index,p]);var y=ed.Z.useWatch("show_on",p);(0,oe.useEffect)((function(){t&&r&&void 0!==y&&Array.isArray(y)&&y.length>0&&i((0,kn.Z)((0,kn.Z)({},r),{},{show_on:y}))}),[y,t]);var b=ed.Z.useWatch("agents",p);return(0,oe.useEffect)((function(){if(t&&r&&void 0!==b&&Array.isArray(b)){var e=b.map((function(e,t){return(0,kn.Z)((0,kn.Z)({},e),{},{id:e.id||"ag_".concat(Date.now(),"_").concat(t)})}));i((0,kn.Z)((0,kn.Z)({},r),{},{agents:e}))}}),[b,t]),(0,st.jsxs)(st.Fragment,{children:[m&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.chatWidgets),{},{closeable:!0,onClose:function(){return v(!1)}})),(0,st.jsx)(Uc.Z,{zIndex:100006,title:r?(0,st.jsxs)(pU,{level:3,className:"pe-mb-0",children:[nP(r.type)," ",Ua("Settings","pushengage")]}):(0,st.jsx)(pU,{level:3,className:"pe-mb-0",children:Ua("Channel Settings","pushengage")}),placement:"right",width:n,closable:!0,onClose:a,closeIcon:(0,st.jsx)($c,{}),visible:t,destroyOnClose:!0,className:"pe-channel-settings-drawer",children:r&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"pe-drawer-scroll",children:(0,st.jsxs)(ed.Z,{layout:"vertical",form:p,children:[(0,st.jsx)(vV,{editingChannel:r,setEditingChannel:i,drawerTriedSave:s,onRequestUpgrade:function(){return v(!0)},user:f}),(0,st.jsx)(VV,{editingChannel:r,setEditingChannel:i,user:f,onRequestUpgrade:function(){return v(!0)},drawerTriedSave:s}),(0,st.jsx)(JV,{user:f,onRequestUpgrade:function(){return v(!0)}}),(0,st.jsx)(dU,{editingChannel:r,setEditingChannel:i,user:f,onRequestUpgrade:function(){return v(!0)},drawerTriedSave:s,sharedForm:p})]})}),(0,st.jsx)("div",{className:"pe-drawer-footer",children:(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(pt.default,{type:"primary",onClick:(0,at.Z)((0,it.Z)().mark((function e(){var t,n,i,s,u,d,f,h,g,m,v,y,b,x,w,k,_,C,j,S,Z,N,E,O,A,T,P,M,I,D,L,R,B,F,z,V,U,H;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),Fz(r.type,r.value||"").valid){e.next=6;break}return(t=document.getElementById("pe-channel-value-input"))&&t.focus(),e.abrupt("return");case 6:if((n=Bz(r.type,r)).valid){e.next=11;break}return(i=document.getElementById("pe-extra-field-input-".concat(n.key)))&&i.focus(),e.abrupt("return");case 11:if(0!==(r.show_on||[]).length){e.next=16;break}return(s=document.querySelector(".target-device-selector-group"))&&s.scrollIntoView({behavior:"smooth",block:"center"}),e.abrupt("return");case 16:if("custom"!==r.type){e.next=22;break}if((r.label||"").trim()){e.next=22;break}return(u=document.querySelector('input[placeholder*="custom channel"]'))&&(u.focus(),u.scrollIntoView({behavior:"smooth",block:"center"})),e.abrupt("return");case 22:if("image"!==(d=r.custom_type)){e.next=31;break}if((r.custom_image||"").trim()){e.next=29;break}return(f=document.querySelector(".pe-channel-config-card:has(.pe-d-flex) button"))&&f.scrollIntoView({behavior:"smooth",block:"center"}),e.abrupt("return");case 29:e.next=37;break;case 31:if("icon"!==d){e.next=37;break}if((r.custom_icon||"").trim()){e.next=37;break}return(h=document.querySelector(".pe-appearance-icon-picker input"))&&(h.focus(),h.scrollIntoView({behavior:"smooth",block:"center"})),e.abrupt("return");case 37:return e.prev=37,e.next=40,p.validateFields([["agents"]]);case 40:e.next=47;break;case 42:return e.prev=42,e.t0=e.catch(37),(g=(null===e.t0||void 0===e.t0?void 0:e.t0.errorFields)||[]).length>0&&(m=g[0],v=null===m||void 0===m?void 0:m.name,Array.isArray(v)&&v.length>=2&&(y=v[0],"name"===(b=v[1])?(x=document.querySelector('input[placeholder="'.concat(Ua("Agent Name","pushengage"),'"]')))&&(x.focus(),x.scrollIntoView({behavior:"smooth",block:"center"})):"value"===b&&(w=document.getElementById("pe-agent-value-input-".concat(y)))&&(w.focus(),w.scrollIntoView({behavior:"smooth",block:"center"})))),e.abrupt("return");case 47:if(k=p.getFieldValue("agents")||[],_=k.findIndex((function(e){return!(e.name||"").trim()})),!(_>-1)){e.next=53;break}return(C=document.querySelector(".agent-card:nth-child(".concat(_+1,') input[placeholder*="Agent name"]')))&&(C.focus(),C.scrollIntoView({behavior:"smooth",block:"center"})),e.abrupt("return");case 53:if(j=k.findIndex((function(e){return!Fz(r.type,e.value||"").valid})),!(j>-1)){e.next=58;break}return(S=document.getElementById("pe-agent-value-input-".concat(j)))&&(S.focus(),S.scrollIntoView({behavior:"smooth",block:"center"})),e.abrupt("return");case 58:Z=0;case 59:if(!(Z<k.length)){e.next=69;break}if(E=p.getFieldValue(["agents",Z,"schedule"]),!(O=E||(null===(N=k[Z])||void 0===N?void 0:N.schedule))||!O.enabled){e.next=66;break}if(A=function(){var e=O.days||{},t=Object.keys(e),n=t.some((function(t){var n;return Boolean(null===(n=e[t])||void 0===n?void 0:n.enabled)}));if(!n){var r=document.querySelector(".agent-card:nth-child(".concat(Z+1,") .day-toggle"));return r&&r.scrollIntoView({behavior:"smooth",block:"center"}),{v:void 0}}for(var i=0;i<t.length;i++){var a=e[t[i]];if(a&&a.enabled){var o=a.start.trim(),s=a.end.trim();if(!o||!s){var l=document.querySelector(".agent-card:nth-child(".concat(Z+1,") .day-toggle"));return l&&l.scrollIntoView({behavior:"smooth",block:"center"}),{v:void 0}}var c=ei()(o,"HH:mm",!0),u=ei()(s,"HH:mm",!0);if(!c.isValid()||!u.isValid()||!c.isBefore(u)){var d=document.querySelector(".agent-card:nth-child(".concat(Z+1,") .day-toggle"));return d&&d.scrollIntoView({behavior:"smooth",block:"center"}),{v:void 0}}}}}(),"object"!==typeof A){e.next=66;break}return e.abrupt("return",A.v);case 66:Z++,e.next=59;break;case 69:if(!p.getFieldValue(["schedule","enabled"])){e.next=81;break}return e.prev=71,e.next=74,p.validateFields([["schedule","timezone"],["schedule","days"]]);case 74:e.next=81;break;case 76:return e.prev=76,e.t1=e.catch(71),(T=(null===e.t1||void 0===e.t1?void 0:e.t1.errorFields)||[]).length>0&&(P=T[0],M=null===P||void 0===P?void 0:P.name,Array.isArray(M)&&(M.includes("timezone")?(I=document.getElementById("availability_schedule_timezone"))&&(I.focus(),I.scrollIntoView({behavior:"smooth",block:"center"})):M.includes("days")&&(D=document.querySelector(".schedule-day-row:first-child .day-toggle"))&&D.scrollIntoView({behavior:"smooth",block:"center"}))),e.abrupt("return");case 81:null!=r.index&&(R=p.getFieldValue(["schedule"]),B=k.map((function(e,t){var n=p.getFieldValue(["agents",t,"schedule"]);return(0,kn.Z)((0,kn.Z)({},e),{},{id:e.id||"ag_".concat(Date.now(),"_").concat(t),schedule:void 0!==n?n:e.schedule})})),c&&c.setFieldsValue?(F=c.getFieldValue("channels")||[],z=F[r.index],V=(0,kn.Z)((0,kn.Z)((0,kn.Z)({},z),r),{},{schedule:void 0!==R?R:z.schedule,agents:B}),(U=F.slice())[r.index]=V,c.setFieldsValue({channels:U})):null!==(L=o.current)&&void 0!==L&&L.updateChannelAt&&(H=(0,kn.Z)((0,kn.Z)({},r),{},{schedule:void 0!==R?R:r.schedule,agents:B}),o.current.updateChannelAt(r.index,H))),a();case 83:case"end":return e.stop()}}),e,null,[[37,42],[71,76]])}))),children:Ua("Save Changes","pushengage")}),(0,st.jsx)(pt.default,{onClick:a,children:Ua("Cancel","pushengage")})]})})]})})]})},hU=function(e){var t=e.handleStepChange,n=e.stepDetails,r=e.onStateUpdate,i=(0,oe.useRef)(null),a=ed.Z.useForm(),o=(0,xe.Z)(a,1)[0],s=(0,oe.useState)(zz),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(!1),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=(0,oe.useState)(!1),m=(0,xe.Z)(g,1)[0],v=bt((function(e){return e.session.currentSite}),Zi()),y=(0,oe.useState)(!1),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useState)(null),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useState)(!1),Z=(0,xe.Z)(S,2),N=Z[0],E=Z[1],O=(0,oe.useState)("desktop"),A=(0,xe.Z)(O,2),T=A[0],P=A[1],M=(0,oe.useMemo)((function(){return"undefined"!==typeof window?Math.min(720,window.innerWidth-24):720}),[]),I=function(){try{if(!C||null==C.index)return;for(var e=C.index,t=o.getFieldValue("channels")||[],n=t[e]||{},r=o.getFieldValue(["channels",e,"schedule"]),i=o.getFieldValue(["channels",e,"agents"])||[],a=C.agents||[],s=Math.max(i.length,a.length),l=[],c=0;c<s;c++){var u=(0,kn.Z)((0,kn.Z)({},i[c]||{}),a[c]||{}),d=o.getFieldValue(["channels",e,"agents",c,"schedule"]);void 0!==d&&(u.schedule=d),l.push(u)}var p=(0,kn.Z)((0,kn.Z)((0,kn.Z)({},n),C),{},{schedule:void 0!==r?r:n.schedule,agents:l}),f=t.slice();f[e]=p,o.setFieldsValue({channels:f})}catch(h){}},D=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var n,r,i,a,s,l,u,d,p,f,g,m,y,b,x,k,_,S;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C&&null!=C.index&&I(),e.prev=2,e.next=5,o.validateFields();case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),(n=(null===e.t0||void 0===e.t0?void 0:e.t0.errorFields)||[]).length>0&&((r=n.map((function(e){var t;return null===(t=e.errors)||void 0===t?void 0:t[0]})).filter((function(e){return e})).map((function(e){return"string"===typeof e?e:(null===e||void 0===e?void 0:e.message)||String(e)}))).length>0&&ie.default.error({message:Ua("Please fix the highlighted errors and try again.","pushengage"),description:(0,st.jsx)(st.Fragment,{children:r.map((function(e,t){return(0,st.jsx)("div",{children:e},"".concat(t,"-").concat(e))}))}),placement:"bottomRight"}),i=n[0],a=null===i||void 0===i?void 0:i.name,Array.isArray(a)&&a.length>0&&setTimeout((function(){var e=null;if("name"===a[0])e=document.getElementById("pe-widget-name-input");else{var t=a.join("_");e=document.querySelector('input[name*="'.concat(t,'"], textarea[name*="').concat(t,'"]'))}e&&(e.focus(),e.scrollIntoView({behavior:"smooth",block:"center"}))}),100)),e.abrupt("return");case 12:if(s=o.getFieldsValue(!0)||c,l=TV(s),(u=AV(l)).isValid){e.next=20;break}try{f=[],null!==(g=u.errors||{})&&void 0!==g&&g.name&&f.push({name:["name"],errors:[new Error(g.name)]}),null!==g&&void 0!==g&&g.show_on&&f.push({name:["show_on"],errors:[new Error(g.show_on)]}),null!==(m=(null===g||void 0===g||null===(d=g.behavior)||void 0===d?void 0:d.trigger)||{})&&void 0!==m&&m.display_after_seconds&&f.push({name:["behavior","trigger","display_after_seconds"],errors:[new Error(m.display_after_seconds)]}),null!==m&&void 0!==m&&m.display_after_scroll_percent&&f.push({name:["behavior","trigger","display_after_scroll_percent"],errors:[new Error(m.display_after_scroll_percent)]}),null!==(y=(null===g||void 0===g?void 0:g.appearance)||{})&&void 0!==y&&y.custom_css&&f.push({name:["appearance","custom_css"],errors:[new Error(y.custom_css)]}),null!==(b=(null===g||void 0===g?void 0:g.appearance)&&g.appearance.icon||{})&&void 0!==b&&b.custom_image&&f.push({name:["appearance","icon","custom_image"],errors:[new Error(b.custom_image)]}),null!==b&&void 0!==b&&b.custom_icon&&f.push({name:["appearance","icon","custom_icon"],errors:[new Error(b.custom_icon)]}),null!==(x=(null===g||void 0===g||null===(p=g.behavior)||void 0===p?void 0:p.display_rules)||{})&&void 0!==x&&x.date_scheduling&&f.push({name:["behavior","display_rules","date_scheduling"],errors:[new Error(x.date_scheduling)]}),null!==x&&void 0!==x&&x.business_hours&&f.push({name:["behavior","display_rules","business_hours"],errors:[new Error(x.business_hours)]}),f.length&&o.setFields(f)}catch(Z){}return u.focus&&"channels"===u.focus.section&&(k=u.focus.channelIndex,(_=(l.channels||[])[k])&&(j((0,kn.Z)((0,kn.Z)({},_),{},{index:k})),E(!0),w(!0))),ie.default.error({message:Ua("Please fix the highlighted errors and try again.","pushengage"),description:(0,st.jsx)(st.Fragment,{children:(u.messages||[]).map((function(e,t){return(0,st.jsx)("div",{children:e},"".concat(t,"-").concat(e))}))})}),e.abrupt("return");case 20:return S=PV(l),h(!0),e.next=24,Zf(v,S);case 24:ie.default.success({message:Ua("Widget created successfully","pushengage")}),t("next"),e.next=30;break;case 28:e.prev=28,e.t1=e.catch(0);case 30:return e.prev=30,h(!1),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[0,28,30,33],[2,7]])})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Wc.Z,{className:"pe-onboarding-panel-click-to-chat-setup",style:{width:"100%",borderRadius:"8px"},children:(0,st.jsx)(Hc.default,{spinning:m,children:(0,st.jsxs)(dt.Z,{gutter:[16,16],children:[(0,st.jsx)(ht.Z,{md:16,sm:24,xs:24,children:(0,st.jsx)(eV,{ref:i,initialValues:c,onValuesChange:function(e){return u(Vz(e))},form:o,onEditChannel:function(e){j(e),E(!1),w(!0)}})}),(0,st.jsx)(ht.Z,{md:8,sm:24,xs:24,children:(0,st.jsx)(wA.Z,{offsetTop:32,children:(0,st.jsx)(cV,{value:c,device:T,onDeviceChange:P})})})]})})}),(0,st.jsx)(_N,{stepDetails:n,saveHandler:D,handleStepChange:t,loading:f,onStateUpdate:r}),(0,st.jsx)(fU,{visible:x,editingChannel:C,onClose:function(){w(!1),j(null)},width:M,setEditingChannel:j,formRef:i,drawerTriedSave:N,setDrawerTriedSave:E,sharedForm:o})]})},gU=Lx.Z.Step,mU=function(){var e=fc(),t=(0,oe.useState)({current:(null===e||void 0===e?void 0:e.current)||0,currentStepId:e.currentStepId||"",selectedChannels:e.selectedChannels||[],currentChannelIndex:e.currentChannelIndex||0,total:0,skippedChannels:e.skippedChannels||[]}),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useMemo)((function(){return md()}),[]),o=function(t){if(0!==t.length){var n=a.filter((function(e){return t.includes(e.id)})).map((function(e){return e.id})),r=a.find((function(e){return e.id===n[0]}));if(r){var o=a.map((function(e){var r=t.includes(e.id);return{id:e.id,name:e.name||"",isSelected:r,isSkipped:!1,isCompleted:!1,isCurrent:r&&e.id===n[0],icon:e.icon,steps:e.steps.map((function(t,i){return{id:t.id,isCompleted:!1,isCurrent:r&&e.id===n[0]&&0===i,trackStep:t.trackStep,title:t.title}}))}})),s={current:0,currentStepId:r.steps[0].id,selectedChannels:n,currentChannelIndex:0,total:r.steps.length,skippedChannels:[]};localStorage.setItem(ni.onboarding,JSON.stringify((0,kn.Z)((0,kn.Z)((0,kn.Z)({},e),s),{},{channels:o,onboardingType:"onboarding_setup_wizard"}))),i(s)}}},s=function(t){var n=a.find((function(e){return e.id===r.selectedChannels[r.currentChannelIndex]}));n&&i((function(r){var i,o,s="next"===t?Math.min(r.current+1,n.steps.length-1):Math.max(r.current-1,0),l=s===n.steps.length-1,c=r.currentChannelIndex===r.selectedChannels.length-1,u="next"===t&&l&&!c,d=(e.channels||[]).map((function(e){if(e.id===n.id){var t=e.steps.map((function(e,t){return(0,kn.Z)((0,kn.Z)({},e),{},{isCompleted:!!l||t<s,isCurrent:t===s})}));return(0,kn.Z)((0,kn.Z)({},e),{},{isCompleted:l,isCurrent:!u,steps:t})}if(u){var i=a.find((function(e){return e.id===r.selectedChannels[r.currentChannelIndex+1]}));if(e.id===(null===i||void 0===i?void 0:i.id))return(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:!0,steps:e.steps.map((function(e,t){return(0,kn.Z)((0,kn.Z)({},e),{},{isCompleted:!1,isCurrent:0===t})}))})}return e})),p=u?{current:0,currentStepId:(null===(i=a.find((function(e){return e.id===r.selectedChannels[r.currentChannelIndex+1]})))||void 0===i?void 0:i.steps[0].id)||"",selectedChannels:r.selectedChannels,currentChannelIndex:r.currentChannelIndex+1,total:(null===(o=a.find((function(e){return e.id===r.selectedChannels[r.currentChannelIndex+1]})))||void 0===o?void 0:o.steps.length)||0,skippedChannels:[]}:(0,kn.Z)((0,kn.Z)({},r),{},{current:s,currentStepId:n.steps[s].id});return localStorage.setItem(ni.onboarding,JSON.stringify((0,kn.Z)((0,kn.Z)((0,kn.Z)({},e),p),{},{channels:d,onboardingType:"onboarding_setup_wizard"}))),p}))},l=function(e){i({current:e.current||0,currentStepId:e.currentStepId||"",selectedChannels:e.selectedChannels||[],currentChannelIndex:e.currentChannelIndex||0,total:e.total||0,skippedChannels:e.skippedChannels||[]})},c=function(){return 0===r.selectedChannels.length?null:(0,st.jsx)("div",{className:"pe-channel-stepper pe-d-flex pe-align-center pe-justify-center pe-mb-20",style:{gap:16},children:(e.channels||[]).filter((function(e){return e.isSelected})).map((function(t){var n=t.isCurrent,o=t.isCompleted,s=t.isSkipped,l=a.find((function(e){return e.id===t.id})),c=null===l||void 0===l?void 0:l.icon;return(0,st.jsxs)("div",{onClick:function(){return function(t,n){var o=a.find((function(e){return e.id===t}));if(o){var s=(e.channels||[]).map((function(e){var i=r.selectedChannels.indexOf(e.id);return e.id===t?(0,kn.Z)((0,kn.Z)({},e),{},{isSkipped:!1,isCurrent:!0,isSelected:!0,steps:e.steps.map((function(e,t){return(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:0===t})}))}):i<n?(0,kn.Z)((0,kn.Z)({},e),{},{isSkipped:!0,isCurrent:!1,isSelected:!0,steps:e.steps.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:!1})}))}):(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:!1,isSelected:e.isSelected,steps:e.steps.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{isCurrent:!1})}))})})),l=r.selectedChannels.slice(0,n).filter((function(e){return!r.skippedChannels.includes(e)})),c={current:0,currentStepId:o.steps[0].id,selectedChannels:r.selectedChannels,currentChannelIndex:n,total:o.steps.length,skippedChannels:[].concat((0,we.Z)(r.skippedChannels),(0,we.Z)(l))};localStorage.setItem(ni.onboarding,JSON.stringify((0,kn.Z)((0,kn.Z)((0,kn.Z)({},e),c),{},{channels:s,onboardingType:"onboarding_setup_wizard"}))),i(c)}}(t.id,r.selectedChannels.indexOf(t.id))},className:"pe-fs-14 pe-d-flex pe-align-center pe-justify-center pe-fw-600 pe-channel-stepper-pill".concat(n?" current":"").concat(o?" completed":"").concat(s?" skipped":""),style:{alignItems:"center",padding:"24px",height:24,borderRadius:32,background:n?"#4318FF":o?"#E9F9EE":"#F5F7FA",color:n?"#fff":o?"#38B16C":s?"#A3AED0":"#2A3362",boxShadow:n?"0 2px 8px #4318FF22":void 0,border:n?"2px solid #4318FF":o?"2px solid #E9F9EE":"2px solid #F5F7FA",position:"relative",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:function(e){e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},onMouseLeave:function(e){e.currentTarget.style.transform="none",e.currentTarget.style.boxShadow=n?"0 2px 8px #4318FF22":"none"},children:[o?(0,st.jsx)("span",{className:"pe-d-flex pe-justify-center pe-mr-8",style:{alignItems:"center",width:32,height:32,borderRadius:"50%",background:"#38B16C"},children:(0,st.jsx)(Wf,{style:{color:"#fff",fontSize:18}})}):c?(0,st.jsx)("span",{className:"pe-d-flex pe-justify-center pe-mr-8",style:{alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50%",background:n?"#4318FF":"#E9EDF7",display:"flex"},children:oe.createElement(c,{style:{color:n?"#ffffff":"#A3AED0",fontSize:18,display:"block"}})}):null,(0,st.jsx)("span",{style:{flex:1,textAlign:"center"},children:t.name}),n&&(0,st.jsxs)("span",{className:"pe-d-flex pe-justify-center pe-fs-15 pe-fw-700 pe-ml-8 pe-py-2 pe-px-4",style:{background:"#ffd37d",alignItems:"center",borderRadius:999999,boxShadow:"0 2px 8px #4318FF22",color:"#191a35"},children:[r.current+1,"/",t.steps.filter((function(e){return e.trackStep})).length]})]},t.id)}))})},u=function(){var t=(e.channels||[]).find((function(e){return e.isCurrent}));if(!t)return null;var n=t.steps.filter((function(e){return e.trackStep})),r=n.length,i=n.findIndex((function(e){return e.isCurrent})),a=Math.round(i/r*100);return(0,st.jsxs)("div",{className:"pe-mb-20",children:[(0,st.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,st.jsxs)("div",{className:"pe-fs-18 pe-fw-700",children:[t.name," ",Ua("Setup","pushengage")]}),(0,st.jsxs)("div",{className:"pe-fs-16 pe-color-secondary",children:[a,"% ",Ua("Complete","pushengage")]})]}),(0,st.jsxs)("div",{style:{position:"relative",height:16,marginBottom:8},children:[(0,st.jsx)("div",{style:{position:"absolute",top:6,left:0,width:"100%",height:4,background:"#E9EDF7",borderRadius:2,zIndex:1}}),(0,st.jsx)("div",{style:{position:"absolute",top:6,left:0,width:"".concat(a,"%"),height:4,background:"linear-gradient(90deg, #4318FF 0%, #FFB547 100%)",borderRadius:2,zIndex:2,transition:"width 0.3s"}})]}),(0,st.jsx)("div",{className:"pe-onboarding-steps-wrapper",children:(0,st.jsx)(Lx.Z,{current:i>=0?i:0,size:"small",responsive:!0,labelPlacement:"horizontal",children:n.map((function(e,t){var n=e.isCompleted,r=e.isCurrent;return(0,st.jsx)(gU,{title:e.title||"Step ".concat(t+1),status:n?"finish":r?"process":"wait",icon:n?(0,st.jsx)(Wf,{style:{color:"#fff",fontSize:18}}):t+1},e.id)}))})})]})};return function(){if(0===r.selectedChannels.length)return(0,st.jsx)(xO,{onChannelSelect:o});var t=(e.channels||[]).find((function(e){return e.isCurrent}));if(!t)return(0,st.jsx)(xO,{onChannelSelect:o});var n=t.steps.find((function(e){return e.isCurrent}));return n?(0,st.jsxs)(st.Fragment,{children:["finalStep"!==n.id&&(0,st.jsxs)(st.Fragment,{children:[c(),u()]}),(0,st.jsxs)("div",{className:"pe-onboarding-panel-content",children:["buildSubscriberList"===n.id&&(0,st.jsx)(SN,{handleStepChange:s,stepDetails:r,onStateUpdate:l}),"addCampaigns"===n.id&&(0,st.jsx)(dE,{handleStepChange:s,stepDetails:r,onStateUpdate:l}),"setupRetargeting"===n.id&&(0,st.jsx)(VE,{handleStepChange:s,stepDetails:r,onStateUpdate:l}),"recoverSales"===n.id&&(0,st.jsx)(uO,{handleStepChange:s,stepDetails:r,onStateUpdate:l}),"connectWhatsApp"===n.id&&(0,st.jsx)(AO,{handleStepChange:s,stepDetails:r,onStateUpdate:l}),"setupWhatsappAutomation"===n.id&&(0,st.jsx)(xA,{handleStepChange:s,stepDetails:r,onStateUpdate:l}),"setupChatWidget"===n.id&&(0,st.jsx)(hU,{handleStepChange:s,stepDetails:r,onStateUpdate:l}),"finalStep"===n.id&&(0,st.jsx)(hO,{})]})]}):(0,st.jsx)(xO,{onChannelSelect:o})}()},vU=function(){var e=yt(),t=(0,vt.s0)(),n=bt(Vr),r=(0,oe.useState)({onboardingType:"signin",signInType:"",currentStep:n?4:1,totalStep:4}),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=(0,oe.useState)([]),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)([]),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=(0,oe.useState)({recommendedFeatures:!1,upgradeAccount:!1}),m=(0,xe.Z)(g,2),v=m[0],y=m[1],b=function(){localStorage.removeItem(ni.onboarding),t($r.path.dashboard)},x=function(){o((function(e){var t=(0,kn.Z)((0,kn.Z)({},e),{},{currentStep:e.currentStep>=e.totalStep?e.currentStep:e.currentStep+1});return localStorage.setItem(ni.onboarding,JSON.stringify(t)),t}))},w=function(){return!v.recommendedFeatures&&2===a.currentStep},k=function(){return!v.upgradeAccount&&(v.recommendedFeatures?2===a.currentStep:3===a.currentStep)},_=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(n,r,i){var s,l,c,d,p,f,h;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Lr(i));case 2:return t.next=4,Ix();case 4:return l=t.sent,t.next=7,il({action:rl.GET_RECOMMENDED_PLUGIN_INFO});case 7:c=t.sent,d=(null===c||void 0===c||null===(s=c.data)||void 0===s?void 0:s.recommended_plugins)||[],p=d.filter((function(e){return!e.installed})),u(p),f=2,h={recommendedFeatures:!1,upgradeAccount:!1},!d.find((function(e){return!e.installed}))?h.recommendedFeatures=!0:f+=1,!l||Ed(l)?f+=1:h.upgradeAccount=!0,y(h),o((function(e){var t=(0,kn.Z)((0,kn.Z)({},e),{},{onboardingType:n,signInType:r,currentStep:Math.min(a.currentStep+1,e.totalStep),totalStep:f});return localStorage.setItem(ni.onboarding,JSON.stringify(t)),t}));case 18:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),C=fc(),j=function(){return n&&("signin"===(null===a||void 0===a?void 0:a.onboardingType)&&"new_site"===(null===a||void 0===a?void 0:a.signInType)||"signup"===(null===a||void 0===a?void 0:a.onboardingType))||n&&"onboarding_setup_wizard"===(null===C||void 0===C?void 0:C.onboardingType)};return(0,st.jsx)("div",{className:"pe-onboarding-container",children:(0,st.jsxs)("div",{className:"pe-onboarding-panel ".concat(j()?"pe-onboarding-panel--setup":""),children:[(0,st.jsx)("header",{className:"pe-onboarding-panel-header",children:(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/pushengage-logo.svg"),alt:""})}),!n&&(0,st.jsx)(fx,{onComplete:_}),n&&"signin"===(null===a||void 0===a?void 0:a.onboardingType)&&!j()?(0,st.jsx)(st.Fragment,{children:w()||k()||a.currentStep===a.totalStep?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"pe-mt-24 pe-mb-48",children:(0,st.jsx)(gx,{current:a.currentStep,total:a.totalStep})}),w()?(0,st.jsx)(bx,{onCancelWizard:b,onClickNext:x,recommendedFeatures:c,selectedFeatures:f,setSelectedFeatures:h,current:a.currentStep,total:a.totalStep}):k()?(0,st.jsx)(Nx,{onCancelWizard:b,onClickPrev:function(){o((function(e){var t=(0,kn.Z)((0,kn.Z)({},e),{},{currentStep:e.currentStep<=2?e.currentStep:e.currentStep-1});return localStorage.setItem(ni.onboarding,JSON.stringify(t)),t}))},onClickNext:x,current:a.currentStep,total:a.totalStep}):a.currentStep===a.totalStep?(0,st.jsx)(Mx,{selectedFeatures:f,current:a.currentStep,total:a.totalStep}):(0,st.jsx)(rt.default,{loading:!0})]}):(0,st.jsx)(rt.default,{loading:!0})}):null,j()&&(0,st.jsx)(mU,{})]})})},yU=function(e){var t=e.title,n=e.children,r=bt(Vr);return(0,st.jsx)(ft.default,{destroyTooltipOnHide:!0,title:r?void 0:t||Ua("You haven\u2019t finished setting up your site. Please connect your site.","pushengage"),children:n})},bU=function(e){var t=e.label,n=e.onClick,r=e.loading,i=bt(Vr);return(0,st.jsx)(yU,{children:(0,st.jsx)(pt.default,{type:"primary",size:"small",className:"pe-fs-13",loading:r,onClick:n,disabled:!i,children:t})})},xU=function(e){var t=e.items,n=e.onChange,r=e.onExport,i=e.exporting,a=e.activeNav,o=bt(Vr);return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Rv.default,{defaultValue:"all",value:a,size:"small",onChange:n,style:{width:132},dropdownClassName:"pe-ant-single-select-box",className:"pe-fs-13",children:t.map((function(e){return(0,st.jsxs)(Rv.default.Option,{value:e.key,children:[e.label,"\xa0(",e.count,")"]},e.key)}))}),(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-ant-btn-export",icon:(0,st.jsx)(Th,{}),onClick:r,disabled:i||!o,loading:i,children:Ua("Export","pushengage")})]})},wU=function(e){var t;return(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.result_name)||""},kU=function(e){var t,n,r=wU(e);return r&&""!==r&&(null===e||void 0===e||null===(t=e.result)||void 0===t||null===(n=t[r])||void 0===n?void 0:n.count)||0},_U=function(e){var t,n,r=wU(e);return r&&""!==r&&(null===e||void 0===e||null===(t=e.result)||void 0===t||null===(n=t[r])||void 0===n?void 0:n.value)||0},CU=function(e){var t=e.columns,n=e.data,r=e.rowKey,i=e.loading,a=e.emptyText,o=e.pagination,s=e.hideSummary,l=e.expandable,c=e.expandedClassName,u=e.expandableRecord;return(0,st.jsx)(_v.Z,{className:"pe-data-table pe-mt-15",rowClassName:function(e){return c&&u&&e.notification_id===u.id&&!u.loading?c:""},columns:t,dataSource:n,size:"middle",rowKey:r,loading:i,locale:{emptyText:a||Ua("No item found","pushengage")},summary:function(){return s?null:(0,st.jsx)(_v.Z.Summary,{children:(0,st.jsx)(_v.Z.Summary.Row,{children:t.map((function(e,t){return(0,st.jsx)(_v.Z.Summary.Cell,{index:t,children:null===e||void 0===e?void 0:e.title},t)}))})})},expandable:l||void 0,pagination:o||!1})},jU=function(e){var t=e.count,n=e.value,r=e.currency,i=0===t&&0===n;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(mt.Z.Paragraph,{className:"pe-mb-5 pe-fs-13 pe-fw-500",children:i?"--":(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("span",{className:"pe-color-neutral-40",children:[Ua("Count","pushengage"),":"]})," ",t]})}),(0,st.jsx)(mt.Z.Paragraph,{style:{maxWidth:125,overflowWrap:"break-word",overflow:"hidden"},className:"pe-fs-13 pe-fw-500",children:i?"--":(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("span",{className:"pe-color-neutral-40",children:[Ua("Value","pushengage"),":"]})," ","".concat(r).concat(n)]})})]})},SU=function(e){var t=e.sentcount,n=e.viewcount,r=e.clickcount,i=e.ctr;return(0,st.jsxs)(dt.Z,{justify:"space-between",wrap:!0,children:[(0,st.jsxs)(ht.Z,{flex:"1 1 auto",children:[(0,st.jsxs)("p",{className:"pe-mb-5 pe-fw-500 pe-fs-13",children:[(0,st.jsxs)("span",{className:"pe-color-neutral-40",children:[Ua("Sent","pushengage"),":"]})," ",ko(t)]}),(0,st.jsxs)("p",{className:"pe-mb-5 pe-fw-500 pe-fs-13",children:[(0,st.jsxs)("span",{className:"pe-color-neutral-40",children:[Ua("Seen","pushengage"),":"]})," ",ko(n)]}),(0,st.jsxs)("p",{className:"pe-fs-13 pe-fw-500 pe-mb-5",children:[(0,st.jsxs)("span",{className:"pe-color-neutral-40",children:[Ua("Clicked","pushengage"),":"]})," ",ko(r)]})]}),(0,st.jsx)(ht.Z,{style:{minWidth:"70px"},children:(0,st.jsxs)("p",{className:"pe-fw-500 pe-fs-13 pe-mb-0",children:[(0,st.jsxs)("span",{className:"pe-color-neutral-40",children:[Ua("CTR","pushengage"),":"]})," ",i,"%"]})})]})},ZU=function(e){var t=e.status;return(0,st.jsx)("span",{className:"pe-drip-status-".concat(t," pe-fs-13"),children:t===yi.ACTIVE?Ua("Active","pushengage"):t===yi.NEW?Ua("Draft","pushengage"):Ua("Pause","pushengage")})},NU=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 12 13",fill:"currentColor","data-icon":"pe-pause-outlined",children:(0,st.jsx)("path",{d:"M5.1875 2.00586C5.1875 1.3457 4.62891 0.787109 3.96875 0.787109H1.53125C0.845702 0.787109 0.312499 1.3457 0.312499 2.00586V10.9434C0.312499 11.6289 0.845702 12.1621 1.53125 12.1621H3.96875C4.62891 12.1621 5.1875 11.6289 5.1875 10.9434V2.00586ZM3.96875 10.791C3.96875 10.8926 3.89258 10.9434 3.81641 10.9434H1.68359C1.58203 10.9434 1.53125 10.8926 1.53125 10.791V2.1582C1.53125 2.08203 1.58203 2.00586 1.68359 2.00586H3.81641C3.89258 2.00586 3.96875 2.08203 3.96875 2.1582V10.791ZM11.6875 2.00586C11.6875 1.3457 11.1289 0.787109 10.4687 0.787109H8.03125C7.3457 0.787109 6.8125 1.3457 6.8125 2.00586V10.9434C6.8125 11.6289 7.3457 12.1621 8.03125 12.1621H10.4687C11.1289 12.1621 11.6875 11.6289 11.6875 10.9434V2.00586ZM10.4687 10.791C10.4687 10.8926 10.3926 10.9434 10.3164 10.9434H8.18359C8.08203 10.9434 8.03125 10.8926 8.03125 10.791V2.1582C8.03125 2.08203 8.08203 2.00586 8.18359 2.00586H10.3164C10.3926 2.00586 10.4687 2.08203 10.4687 2.1582V10.791Z"})}))},EU=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:NU},e))},OU=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 12 15",fill:"currentColor","data-icon":"pe-resume-outlined",children:(0,st.jsx)("path",{d:"M11.0781 6.45898L2.14062 1.17773C1.4043 0.746094 0.312499 1.17773 0.312499 2.21875V12.7812C0.312499 13.7461 1.32812 14.3301 2.14062 13.8477L11.0781 8.56641C11.8652 8.08398 11.8652 6.94141 11.0781 6.45898ZM1.53125 12.5273V2.49805C1.53125 2.37109 1.6582 2.29492 1.75976 2.37109L10.2402 7.37305C10.3418 7.44922 10.3418 7.57617 10.2402 7.65234L1.75976 12.6543C1.6582 12.7051 1.53125 12.6543 1.53125 12.5273Z"})}))},AU=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:OU},e))},TU=function(e){return(0,st.jsxs)("div",{className:"notification__preview windows10--chrome",children:[e.big_image&&(0,st.jsx)("div",{className:"notification__preview_big-image",children:(0,st.jsx)("img",{src:e.big_image,alt:e.title})}),(0,st.jsxs)(dt.Z,{className:"pe-px-8 pe-pt-8 pe-pb-4",justify:"space-between",children:[(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)("div",{className:"pe-d-inline",children:(0,st.jsx)("img",{src:wb,alt:"",width:14,height:14,className:"pe-pa-1 pe-bg-neutral-40"})}),(0,st.jsx)("span",{className:"pe-fs-11 pe-color-white pe-ml-6",children:"Google Chrome"})]}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)($c,{className:"pe-fs-10 pe-color-neutral-20"})})]}),(0,st.jsxs)("div",{style:{display:"flex"},children:[e.imgUrl&&(0,st.jsx)("div",{className:"left",children:(0,st.jsx)("img",{src:e.imgUrl,alt:""})}),(0,st.jsxs)("div",{className:"right",children:[(0,st.jsx)("h4",{className:"notification_preview_title",children:e.title}),(0,st.jsx)("p",{className:"notification_preview_message",children:e.message}),(0,st.jsx)("div",{className:"pe-fs-11 pe-ellipsis",children:e.url})]})]}),(0,st.jsxs)("div",{className:"action-buttons",children:[e.btn1&&e.btn1.title.length>0?(0,st.jsxs)("a",{className:"notification_preview_button notification_preview_button1",href:e.btn1.url,target:"_blank",rel:"noreferrer",children:[(0,st.jsx)("img",{src:e.btn1.image_url||"",alt:""}),e.btn1.title.slice(0,12)]}):null,e.btn2&&e.btn2.title.length>0?(0,st.jsxs)("a",{className:"notification_preview_button notification_preview_button2",href:e.btn2.url,target:"_blank",rel:"noreferrer",children:[(0,st.jsx)("img",{src:e.btn2.image_url||"",alt:""}),e.btn2.title.slice(0,12)]}):null]})]})},PU=mt.Z.Text,MU=function(e){return(0,st.jsxs)("div",{className:"notification__preview windows10--firefox",children:[(0,st.jsxs)("div",{className:"notificiation__preview_url-bar",children:[(0,st.jsx)("div",{className:"url-left",children:(0,st.jsx)(PU,{ellipsis:!0,strong:!0,children:e.title})}),(0,st.jsx)("div",{className:"url-right pe-ml-4",children:(0,st.jsx)($c,{className:"pe-color-neutral-60 pe-fs-10"})})]}),(0,st.jsxs)("div",{style:{display:"flex"},children:[(0,st.jsx)("div",{className:"left",children:e.imgUrl?(0,st.jsx)("img",{src:e.imgUrl,alt:""}):null}),(0,st.jsxs)("div",{className:"right",children:[(0,st.jsx)("p",{className:"notification_preview_message pe-color-neutral-80",children:""!==e.message.trim()?e.message.substring(0,135):"Sample Message"}),(0,st.jsxs)("span",{children:[" ","via ".concat(e.url)]})]})]})]})},IU=mt.Z.Text,DU=mt.Z.Paragraph,LU=function(e){var t,n,r,i,a=(0,oe.useState)(!1),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(!1),u=(0,xe.Z)(c,2),d=u[0],p=u[1];(0,oe.useEffect)((function(){e.imgUrl||l(!1)}),[e]);var f,h,g=!!e.imgUrl,m=!(null===(t=e.btn1)||void 0===t||!t.title)||!(null===(n=e.btn2)||void 0===n||!n.title),v=[];m&&(null!==(f=e.btn1)&&void 0!==f&&f.title&&v.push({key:"btn-1",label:(0,st.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e.btn1.url,children:e.btn1.title})}),null!==(h=e.btn2)&&void 0!==h&&h.title&&v.push({key:"btn-2",label:(0,st.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e.btn2.url,children:e.btn2.title})}),v.push({key:"settings",label:"Settings"}));var y=(0,st.jsx)($u.default,{children:v.map((function(e){return(0,st.jsx)($u.default.Item,{children:e.label},e.key)}))});return(0,st.jsxs)("div",{className:"notification__preview macos--chrome pe-p-relative ".concat(d?"notification__preview__dropdown--open":""," ").concat(s?"notification__preview--expanded":""),children:[s&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"notification__preview__header"}),(0,st.jsx)("div",{className:"notification__preview__image-container",children:(0,st.jsx)("img",{src:e.imgUrl,alt:"icon",className:"notification__preview__image-container__img"})})]}),(0,st.jsx)("div",{className:"notification__preview__close-btn",children:(0,st.jsx)($c,{})}),g&&(0,st.jsx)("div",{className:"notification__preview__arrow-btn",children:(0,st.jsxs)(Ju.default,{size:8,children:[s&&(0,st.jsx)(_b,{rotate:90}),(0,st.jsx)(kd,{rotate:s?90:0,onClick:function(){l(!s)}})]})}),!s&&(0,st.jsx)("div",{className:"notification__preview__settings",children:m?(0,st.jsx)(Xu.default,{overlay:y,trigger:["click"],destroyPopupOnHide:!0,onVisibleChange:function(e){return p(e)},overlayClassName:"notification__preview__settings-dropdown",children:(0,st.jsxs)(Ju.default,{size:4,children:["Options",(0,st.jsx)(kd,{rotate:90,style:{fontSize:"8px"}})]})}):"Settings"}),(0,st.jsxs)(dt.Z,{align:"middle",wrap:!1,className:"notification__preview__body",children:[(0,st.jsx)(ht.Z,{flex:"48px",style:{},children:(0,st.jsx)("div",{className:"pe-bg-white pe-ta-center notification__preview__browser-icon",children:(0,st.jsx)("img",{src:wb,alt:"",width:36})})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsx)(IU,{ellipsis:!0,strong:!0,className:"pe-lh-100 notification__preview__title",children:e.title}),(0,st.jsxs)(dt.Z,{wrap:!1,children:[(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsx)("div",{className:"pe-lh-100",children:(0,st.jsx)(IU,{strong:!0,ellipsis:!0,className:"notification__preview__url",children:e.url})}),(0,st.jsx)(DU,{className:"notification__preview__message",ellipsis:{rows:s?10:3},children:e.message})]}),!s&&(0,st.jsx)(ht.Z,{children:e.imgUrl?(0,st.jsx)("div",{className:"notification__preview_small-icon pe-ml-4 pe-mt-5",children:(0,st.jsx)("img",{src:e.imgUrl,alt:"",width:32,height:32,style:{borderRadius:"5px",objectFit:"cover"}})}):null})]})]})]}),s&&(0,st.jsx)("div",{className:"notification__preview__footer",children:(0,st.jsxs)("div",{className:"notification__preview__footer__btns",children:[(null===(r=e.btn1)||void 0===r?void 0:r.title)&&(0,st.jsx)("div",{className:"notification__preview__footer__btns__btn",children:(0,st.jsx)("a",{href:e.btn1.url,target:"_blank",rel:"noopener noreferrer",className:"",children:e.btn1.title})}),(null===(i=e.btn2)||void 0===i?void 0:i.title)&&(0,st.jsx)("div",{className:"notification__preview__footer__btns__btn",children:(0,st.jsx)("a",{href:e.btn2.url,target:"_blank",rel:"noopener noreferrer",children:e.btn2.title})}),(0,st.jsx)("div",{className:"notification__preview__footer__btns__btn",children:"Settings"})]})})]})},RU=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({width:"1em",height:"1em",viewBox:"0 0 496 512",fill:"currentColor",focusable:"false","data-icon":"pe-chrome-outlined","aria-hidden":"true"},e),{},{children:(0,st.jsx)("path",{d:"M131.5 217.5L55.1 100.1c47.6-59.2 119-91.8 192-92.1 42.3-.3 85.5 10.5 124.8 33.2 43.4 25.2 76.4 61.4 97.4 103L264 133.4c-58.1-3.4-113.4 29.3-132.5 84.1zm32.9 38.5c0 46.2 37.4 83.6 83.6 83.6s83.6-37.4 83.6-83.6-37.4-83.6-83.6-83.6-83.6 37.3-83.6 83.6zm314.9-89.2L339.6 174c37.9 44.3 38.5 108.2 6.6 157.2L234.1 503.6c46.5 2.5 94.4-7.7 137.8-32.9 107.4-62 150.9-192 107.4-303.9zM133.7 303.6L40.4 120.1C14.9 159.1 0 205.9 0 256c0 124 90.8 226.7 209.5 244.9l63.7-124.8c-57.6 10.8-113.2-20.8-139.5-72.5z"})}))},BU=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:RU},e))},FU=mt.Z.Text,zU=mt.Z.Paragraph,VU=function(e){var t,n=(0,oe.useState)(!!e.big_image),r=(0,xe.Z)(n,2),i=r[0],a=r[1],o=e.btn1&&e.btn1.title.length>0||e.btn2&&(null===(t=e.btn2)||void 0===t?void 0:t.title.length)>0;return(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)("div",{className:"notification__preview android--chrome",children:[(0,st.jsxs)(dt.Z,{className:"notification__preview_url-bar",wrap:!1,children:[(0,st.jsx)(ht.Z,{className:"url-left",flex:"1 1 auto",children:(0,st.jsxs)(dt.Z,{align:"middle",wrap:!1,children:[(0,st.jsx)(ht.Z,{flex:"0 0 16px",children:(0,st.jsx)(BU,{className:"browser-icon"})}),(0,st.jsx)(ht.Z,{flex:"0 0 auto",children:(0,st.jsx)(FU,{className:"browser-name",children:"Chrome\xa0\u2022\xa0"})}),(0,st.jsx)(ht.Z,{flex:"0 1 auto",style:{overflow:"auto"},children:(0,st.jsx)(FU,{className:"site-url",ellipsis:!0,children:e.url})}),(0,st.jsx)(ht.Z,{flex:"0 0 40px",children:(0,st.jsx)(FU,{className:"timestamp",children:"\xa0\u2022\xa0now"})})]})}),(0,st.jsx)(ht.Z,{className:"url-right",children:(0,st.jsx)(Kf,{rotate:i?180:0,onClick:function(){return a(!i)},className:"notification__preview__arrow-icon"})})]}),(0,st.jsxs)("div",{className:"notification__preview__body",children:[(0,st.jsxs)("div",{className:"left",children:[(0,st.jsx)(FU,{strong:!0,ellipsis:!0,className:"pe-fs-13",children:e.title}),(0,st.jsx)(zU,{ellipsis:{rows:!i||e.big_image?2:4},className:"pe-fs-13 pe-mb-0",children:e.message})]}),(0,st.jsx)("div",{className:"right",children:e.imgUrl&&(0,st.jsx)("img",{src:e.imgUrl,alt:""})})]}),i&&(0,st.jsxs)(st.Fragment,{children:[e.big_image&&(0,st.jsx)("div",{className:"notification__preview_big-image pe-mt-8",children:(0,st.jsx)("img",{src:e.big_image,alt:e.title})}),(0,st.jsxs)("div",{className:"notification__preview__footer",children:[e.btn1&&e.btn1.title.length>0&&(0,st.jsx)("div",{className:"notification__preview__cta-btn",children:(0,st.jsx)("a",{className:"pe-ellipsis",href:e.btn1.url,target:"_blank",rel:"noreferrer",children:e.btn1.title})}),e.btn2&&e.btn2.title.length>0&&(0,st.jsx)("div",{className:"notification__preview__cta-btn",children:(0,st.jsx)("a",{className:"pe-ellipsis",href:e.btn2.url,target:"_blank",rel:"noreferrer",children:e.btn2.title})}),(0,st.jsx)("div",{className:"notification__preview__cta-btn",children:(0,st.jsx)("span",{className:"pe-ellipsis",children:o?"Settings":"Site Settings"})})]})]})]})})},UU=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 12 8",fill:"currentColor",focusable:"false","data-icon":"pe-up-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M0.152344 6.76562L0.634766 7.27344C0.761719 7.375 0.964844 7.375 1.06641 7.27344L5.6875 2.67773L10.2832 7.27344C10.3848 7.375 10.5879 7.375 10.7148 7.27344L11.1973 6.76562C11.3242 6.63867 11.3242 6.46094 11.1973 6.33398L5.89062 1.00195C5.76367 0.900391 5.58594 0.900391 5.45898 1.00195L0.152344 6.33398C0.0253906 6.46094 0.0253906 6.63867 0.152344 6.76562Z"})}))},HU=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:UU},e))},WU=function(e){var t=(0,oe.useState)(!0),n=(0,xe.Z)(t,2),r=n[0],i=n[1];return(0,oe.useEffect)((function(){i(!!(e.big_image||e.androidBigImageUrl||Ii()(e,"androidBtn1Label.length")||Ii()(e,"androidBtn2Label.length")))}),[e.big_image,e.androidBigImageUrl,e.androidBtn1Label,e.androidBtn2Label]),(0,st.jsx)("div",{className:"notification__preview-app-android",children:(0,st.jsxs)("div",{className:"notification__preview android--app",children:[(0,st.jsxs)("div",{className:"notification-message-title-big-image-container",children:[(0,st.jsxs)("div",{className:"notification__preview_header_bar",onClick:function(){i(!r)},children:[(0,st.jsxs)("div",{className:"site-name",style:e.androidAccentColor?{color:e.androidAccentColor}:{},children:[(0,st.jsx)(wx,{style:e.androidAccentColor?{color:e.androidAccentColor}:{}}),(0,st.jsx)("span",{children:e.siteName})]}),e.androidBigImageUrl||e.big_image||Ii()(e,"androidBtn1Label.length")||Ii()(e,"androidBtn2Label.length")?(0,st.jsx)("div",{className:"arrow-icon",children:r?(0,st.jsx)(HU,{}):(0,st.jsx)(Kf,{})}):null]}),(0,st.jsxs)("div",{className:"notification_preview_title_message_icon",style:{display:"flex"},children:[(0,st.jsxs)("div",{className:"left",style:e.androidBigImageUrl&&r?{width:"100%",marginBottom:10}:{width:228,marginBottom:10,marginRight:4},children:[(0,st.jsx)("p",{className:"notification_preview_title",children:""!==e.title.trim()?e.title.substring(0,85):"Sample Title"}),(0,st.jsx)("p",{className:"notification_preview_message",style:e.androidBigImageUrl?{whiteSpace:"nowrap",wordBreak:"initial"}:{whiteSpace:"initial",wordBreak:"break-all"},children:""!==e.message.trim()?e.message.substring(0,135):"Sample Message"})]}),r||!e.androidImageUrl&&!e.imgUrl?null:(0,st.jsx)("div",{className:"right",children:(0,st.jsx)("img",{src:e.androidImageUrl||e.imgUrl,alt:null===e||void 0===e?void 0:e.title})})]}),(e.androidBigImageUrl||e.big_image)&&r?(0,st.jsx)("div",{className:"notification__preview_big-image",children:(0,st.jsx)("img",{src:e.androidBigImageUrl||e.big_image,alt:null===e||void 0===e?void 0:e.title})}):null]}),r?(0,st.jsx)(st.Fragment,{children:Ii()(e,"androidBtn1Label.length")||Ii()(e,"androidBtn2Label.length")?(0,st.jsxs)("div",{className:"action-buttons",children:[Ii()(e,"androidBtn1Label.length")?(0,st.jsx)("span",{className:"notification_preview_button notification_preview_button1",style:e.androidAccentColor?{color:e.androidAccentColor}:{},children:Ii()(e,"androidBtn1Label.length",0)>12?"".concat(Ii()(e,"androidBtn1Label","").slice(0,12)):Ii()(e,"androidBtn1Label")}):null,Ii()(e,"androidBtn2Label.length")?(0,st.jsx)("span",{className:"notification_preview_button notification_preview_button2",style:e.androidAccentColor?{color:e.androidAccentColor}:{},children:Ii()(e,"androidBtn2Label.length",0)>12?"".concat(Ii()(e,"androidBtn2Label","").slice(0,12)):Ii()(e,"androidBtn2Label")}):null]}):null}):null]})})},qU=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 496.255 608.728",fill:"currentColor",focusable:"false","data-icon":"pe-ios-icon","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M273.81 52.973C313.806.257 369.41 0 369.41 0s8.271 49.562-31.463 97.306c-42.426 50.98-90.649 42.638-90.649 42.638s-9.055-40.094 26.512-86.971zM252.385 174.662c20.576 0 58.764-28.284 108.471-28.284 85.562 0 119.222 60.883 119.222 60.883s-65.833 33.659-65.833 115.331c0 92.133 82.01 123.885 82.01 123.885s-57.328 161.357-134.762 161.357c-35.565 0-63.215-23.967-100.688-23.967-38.188 0-76.084 24.861-100.766 24.861C89.33 608.73 0 455.666 0 332.628c0-121.052 75.612-184.554 146.533-184.554 46.105 0 81.883 26.588 105.852 26.588z"})}))},KU=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:qU},e))},YU=mt.Z.Text,GU=mt.Z.Paragraph,QU=function(e){var t=bt((function(e){var t,n;return null===(t=e.session.user)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.site_image})),n=(0,oe.useState)(!1),r=(0,xe.Z)(n,2),i=r[0],a=r[1];return(0,st.jsxs)(dt.Z,{className:"notification__preview ios--web",wrap:!1,children:[(0,st.jsx)(ht.Z,{className:"notification-app-logo",flex:"34px",children:t&&!i?(0,st.jsx)("img",{className:"notification-app-logo-img",src:t,alt:"",onError:function(){a(!0)}}):(0,st.jsx)("div",{className:"notification-app-logo-img-placeholder",children:e.siteName?e.siteName[0].toUpperCase():(0,st.jsx)(KU,{})})}),(0,st.jsxs)(ht.Z,{className:"notification-content",flex:"auto",children:[(0,st.jsxs)(dt.Z,{wrap:!1,children:[(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(YU,{ellipsis:!0,className:"notification-title pe-fs-13",children:e.title})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(YU,{className:"notification-timestamp pe-fs-11 pe-color-neutral-70 pe-mx-4",children:"now"})})]}),(0,st.jsxs)(YU,{ellipsis:!0,className:"notification-app-name pe-fs-13",children:["from ",e.siteName]}),(0,st.jsx)(GU,{className:"notification-message pe-mb-0",ellipsis:{rows:4},children:e.message})]})]})},XU=mt.Z.Text,$U=function(e){var t,n,r=bt((function(e){var t,n;return(null===(t=e.session.user)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.site_url)||""})),i=bt((function(e){var t,n;return(null===(t=e.session.user)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.site_subdomain)||""})),a=(0,kn.Z)({},e);null!==(t=e.imgUrl)&&void 0!==t&&t.match(Xv)&&(a.imgUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAIAAADdvvtQAAAF+0lEQVR4nO3YXVPaaByH4ZBIKAViC4hjEFsYhrYH7ff/EJ71xGoHHSlCAZeRl/CWkD3IrOug7Xb7c1cy3tdRTTD+S26ehCSOj48N4HeZTz0A4o2AICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKCZOepB/gXfN8/OTkplUqlUmlje7fbvbm5CYIglUoVi8VCoXD3Bcvlstvtjsdj3/cty8rlcgcHB7ZtP9shH1FsAlqv1xcXF77vb2z3ff/s7GyxWEQ/zmazVqs1mUzevHkTbZnP52dnZ0EQ3L5+OByORqNGo5FKpZ7hkI8rHgGtVquLi4vpdHp/V6fTWSwWqVTq8PAwk8lE52Y4HDqO8/r16+gFQRDk8/n9/f1kMrlYLNrt9mQyabfbtVrtuQ356GJwD3R9fX1ycjKdTnO53MauMAyHw6FpmrVaLZfLmaaZyWRqtVoikej1etFrxuOxbdtHR0epVMo0zXQ6Xa1WLcsaj8fPbcj/QgxWoH6/v7OzU61WgyDYeENXq9V6vc5ms3fXedu20+m053nr9do0zU+fPm0c0LIs27Zns1kYholEYmPvZDL5+vWrbdsfPny43fvly5fZbFav17PZ7DYMuT1isAKVy+X3798/eObCMDQMwzQ3/xfRO75cLh88YBAEi8XixYsXD56YbDZbLBaXy2W/34+2DAaD2WxWLBZ/VM//P+T2iEFAuVzuR29iMplMJBLT6fT29tMwjNVqNZvNDMO4u/GuTqezXq/39vZ+9Bdd17Vt+/v3777v+77f6XRs23Zdd6uG3BIxCOgnTNPc3d0NgqDZbEaXA8/zzs/P1+v1j35lMBgMBoNcLrfxLXrjsJVKJQiCy8vL8/PzIAgqlcr9JeRph9wSMbgH+jnXdSeTyXQ6PT09jbaYpuk4zmg0un/Ke73e1dXVy5cv3759+/PDRifv+vraMIxCoXD/1ngbhtwG8V6BDMOwbbvRaLx69cqyLMuyHMdpNBrR87ednb8/HmEYfvv27erqynGcer1uWdY/Hjn6gm0Yxu7u7tYO+eRivwIZhmHb9saH1fM8y7KSyWT0Y/R8bzQa7e3tua77K7el0bmM/t1ut7PZ7G9fwv67IbdB7Feg09PTz58/R990Ip7neZ53e9EJwzA6MYeHh+Vy+RdPTLfbnc/nhUKhUCgsFotOp7OFQ26D2AfkOE4QBK1WK3rccnNz02w2DcPY39+PXtDtdkejUblcLhaLv3hMz/N6vV4ymXRd13XdZDLZ7/cffMT8hENuidhfwkql0h9/ud14cHCQTqcNw/B9P3ra22632+32xu9+/Pjx/n1GGIaXl5dhGB4dHUV7K5VKs9lstVrv3r37vbXh0YfcHrFfgUzTrNfrt/enmUymWq3efrKn0+ndC8eviC5e+Xz+9vriOE4+n5/P591ud0uG3B6J4+Pjp54BMRb7FQhPi4AgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAgISBICAgSAoKEgCAhIEgICBICgoSAICEgSAgIEgKChIAg+RP5pSDmJ9lXHwAAAABJRU5ErkJggg=="),null!==(n=e.big_image)&&void 0!==n&&n.match(Xv)&&(a.big_image="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAC0CAIAAAA2DCFiAAAOv0lEQVR4nO3dW1fiyN7H8SQGBAUUBFREbPsw9sW8/1fRF8/FrNU909q24lbOUZRTOGRf1Jpa9XCI/O1WezffzxVCCKFMfqmqVAr706dPFgBIOK+9AQD+9xAcAMQIDgBiBAcAMYIDgBjBAUCM4AAgRnAAECM4AIgRHADECA4AYgQHADGCA4AYwQFAjOAAIEZwABAjOACIERwAxAgOAGIEBwAxggOAGMEBQIzgACBGcAAQIzgAiBEcAMQIDgBiBAcAMYIDgBjBAUCM4AAgRnAAECM4AIgRHADECA4AYgQHADGCA4AYwQFAjOAAIEZwABAjOACIERwAxAgOAGIEBwAxggOAGMEBQIzgACBGcAAQIzgAiBEcAMQIDgBiBAcAMYIDgBjBAUCM4AAgRnAAECM4AIgRHADECA4AYgQHADGCA4AYwQFAjOAAIEZwABAjOACIERwAxAgOAGIEBwAxggOAGMEBQIzgACBGcAAQIzgAiBEcAMQIDgBiBAcAMYIDgBjBAUDMfe0N+N8wHA6bzeb9/f1gMBiPx67rRiKRRCKRyWRisdjyK7m9vb27u/N9fzgc2rYdjUY3NjYymUwikVhyJXd3d57ndbvd0WhkWVY0Go3H45lMJplMPvG7vaqLiwvP81zX/fPPP5dZfjKZeJ7Xbrd7vZ4qAdd14/F4KpVKp9OOs9SJ8Dcrw1dhf/r06bW34ZcWBEGlUqnVakEQzF0gnU4Xi8W1tbXwldTr9UqlMplM5i6QSqVKpZLrhuW47/sXFxedTmfuq8lkslQqRSKRkDX8au7u7s7Pzy3LWjI42u325eWlOtpnRSKRUqkUfvD/fmX4WmiqhAmC4Pz8vFqtLkoNy7I8z/v777+Hw2HISi4vL6+vrxelhmVZ7Xb79PR00SFhWdZgMPj69euiPd6yrPv7+3/++SdkM341vV7v4uJi+eVbrda3b99Cimg4HJ6dnbVarUUL/H5l+IoIjjA3NzftdvvRxXzfPz8/XxQuV1dXnuc9upJ+v391dTX3pSAIvn///ugOPRwOQzbjl9Lr9c7OzkKSdEq/3y+Xy8ssWS6Xe73e7PO/Xxm+Lvo4FvJ9v16v6z9TqdTOzk48Ho9EIpPJpNvt1ut1HSvdbtfzvEwmM7WSdrvdbDb1n+vr6/l8PplMuq47Go36/X69Xr+/v1ev3t7edrvdjY2NqZXU63XzYEin09lsNh6PB0HQ7XZrtZpeQ7fbbbVaOzs7P6kMnoXneeVyefnUsCzr5uZGH8y2bWez2Uwms76+blnWYDDwPK9er6sFgiC4vr5+9+7d1Bp+szJ8dQTHQo1GQ++sBwcHuVxOv7S2tpZMJpPJ5PX1da1WU0+2Wq3Z4Li5udGPt7a2jo6OdAdeNBqNRqOpVKpWq11fX6snPc+bCo4gCPRHzG6J2oxKpVKpVNQzlUrll93pJ5PJ9fV1o9GQvksf1bZtv3//fnNzU78aj8fj8fj29vbp6akKo4eHh9FoZHYY/U5l+IugqbKQrk1sbGyY+5lpf38/Go2qx91ud+rVTqejz3Kbm5tv3ryZ2+2fz+f1pZnZFni73dYN+2QyOXdL9vb2tra21OPhcPjw8BD6zV5Hs9n8/PmzTg3HcZa8IOX7vq6eZLNZMzU0838UBMFgMDBf/W3K8NdBjWOhjx8/PrqMbduJREJ1yM02jO/u7vRih4eHtm0/4bPMTpa9vb1Fi+3t7emPu729Xf767su4uroyKxrr6+tv3rxpNBr9fv/R95oFG5I18XhcPx6Px+ZLv0cZ/lIIjh+lT4azl/F0BTuVSi0/3GOKroO4rjv3ZKvE4/FoNOr7vmVZy58tgyD4+vWrrivlcrmDg4O5S7ZarcvLS/V4Y2Pjw4cPITk4Sx/Jqodif39/yTEX1v8v2Lkdn4pZy9DVQOVZy3A10VT5IWbze2oEwWQy0afTJ48sMmvdIXv81AKDwWDJ6wK2bZvdLvV6fe7VyuFw+J///Ec9dhzn6OhIlBpaKpU6OTk5ODhYPjUsy3JdV/f7NJvN2SahZVn9fl/3YkSjUTOmn7sMVxM1jqebTCYXFxfqXOo4Tj6fN1819zxdi1Y99g8PD+q0Fo1Gk8lkJpMxq9mm4XCoV6IuIoTQCwRBMBwOp866Ie8qFAr6SnC5XD45OZnKBf01LcsqFAqPbsmsra2t3d3dJ1e7CoXC6emp9W8VaWdnJ5PJRKNR27Z93/c8r9Fo6Krf/v6++d4XKMMVRHCIBUHQ7/fb7Xaj0VDjAtR5e2qnVNGgRCKR8Xg8O6Cj3++rK7I7OzvFYnH2NG6OO3h0Jzar9KPRaPmdPpvNtttt1RHQ7/er1arZEVCv13W9PZlMZrPZJVdr2t7efsK7tEQiUSqVyuVyEARBEDQajUWXZgqFQjqdNp95mTJcNQSHwHg8/uuvv6ZqsLFY7PDwcLYObI5xtG3769evIR2BzWaz3++/e/duqg5vdvKFj2qfWmCqd/BRh4eHX758Ue+qVqvb29uqdjAYDPQV5bW1tVKpJFrtT5TJZDY3NyuVyqLRdMlkcn9/f3YUzIuV4Uqhj0PA9/3Zdq/jOL1eb3Y4k7nbXV5ePnr5oNPpzA6OND/u0X4BcwHR8CrLsiKRyOHhof5QtSVqtKVe1eHh4SvexzEej1utlu5RmtXtdu/u7ma/+IuV4UqhxiHg+348Hl9fX1dN6263q8YddrvdRqNxfHxstlbM/VXt7rZtp9Np1aPhOM5wOGy327VaTTdq1NhTsyfVXMnT+iOXt729nU6n1fm80+nUarXBYKCvYqTT6R9sbvyIfr//7ds3s/U3azweV6vV29vbt2/fLvpHPHcZrg6CQ2Bra0uPEbIsazQa3dzcqBHl/X7/9PT05ORED1icqpusra0dHx+bQwOi0agaOv39+3c90KBarf6Um7ufdoQUi8WHhwfVKWCO8o5Go8Vi8ce36mnG4/HZ2ZnuqohEIrlcLpVKqQ4I3/fb7Xa9XlcLDAaDs7OzP/74I/xW42WQMiFoqjyd67qHh4e6D384HOqR49bMblcqleYOKHIc582bN7oJ0Ol0zDaOqOZsLvC0nd7sxTCDr1QqPdo78HwqlYpOjUQi8fHjRzXW1nEcNfw0n89//PhRB67v+3rwuPXiZbgiCI4ftbu7qzvkPM/Th715pMViMbOqMsVxHH2pIggCc4yTqK9O1Au4yOyI7Fwu94pjKIMg0HfKRyKR4+PjuV9NVeh0C6XVas39R7xMGa4CguMn0Nf/giAwBynqBWa7+qeYC5iXD83OyGVuCZ/7Rqmp0RY/Xuf/Eb1eTx/M2Ww25GB2HGd3d1c9nkwm+h/xKmX42yM4foK5u6Y5BODRznzzeDBry5FIRFeYp27cmqUv3Ni2/eSj3fd9PUhUqVQqIQO9n5vZISrKX11cL1+Gq4Dg+AnmVoDN8/aj+6s56MMMEdu2dfU7ZOoqRY/FjsViT26fX1xcTHUEBEFwcXHxWuOvzc99tIfC/Nbm/B0vXIargOCYr9Pp/N+/QmajU8zBBbr24TiOHkiuZogIWYN5S9VUS0EPLfN9P+TM3+v19Mn50TsyFqlWq/rQSiaTqVRKPe73++bEIi/JrM3NvUvFZC5g1hdesgxXBMExXzwe1yeckJmKrX/HHek/zdqyPvDUjMeL1jAajfQsYa7rTgWHXollWdVqddFKzPU/7YJur9fTK1GXV8yZe2u12qOn6+dglkaz2QzJ36nZeszbf16sDFcHwTGf4zh611Gzgc7Njl6vZ05RmUgkzBOdOSFYo9Ewd2ttNBp9+/ZNN3am7rOwLCuVSunGy+3t7dwAqlQqOrxc1zWPkyWpG/b0FykWi5FIRF1v1svMtmJegOu6+prOaDQ6Pz+fmx2TyeTy8lLXJtQvHuhXX6YMVwrdPwvl83k9LqvZbHY6nVwut7m5qXo9e72e53nNZtMMlEKhYK5hfX09k8nols719XW73VZzWLmuq0aOVqtV3Z/qOM7s5FS2bedyOXNWu263m8/n1YHR6/VqtZo5UU0+n39C4/zm5kb3C6bTaZ1fqVRKfwXVb2pGycvY3d3VTblOp/P58+dcLre1tRWNRh3H8X3//v6+Xq+bHUlTs/W8TBmuFIJjoUQisbOzoxsRj060vbe3N9vtXygU9E30lmU9PDyEzBCzt7c393bMfD7veZ4+MPSdrLNisdiiWQ5DqANPPY5EIlODRA8ODu7v71W6NZvNra2tFz4bJ5NJ8x8xHo/N+UFnqbCbevK5y3DV0FQJUywWlzxIcrnc3DnpXNd9//79MhNYZDKZqRk9NMdxjo+PH706qMZHSU+V4/FYT+1lzRskura2ZtYyyuVyeEfvcygWiyEj6ExqbtfZ55+1DFcQwRHGtu23b9/u7e2FDMSIRCJHR0eLZtyzLCsajX748GG280JzHKdQKITfsR6LxT58+BDS1a+m83vCFDtXV1e6rZTNZud2Cprn8OFwuOj3X56PbdvHx8fhEw7atp3P59+/f79omecrwxXET0AuRV34UL8dOxqNbNuORCIbGxvJZDKdTi95glLdIqraPx6P1X0W6phcfpDi3d2d+vkVdbSrafXS6fSSJ+Qpnufpn1NbX18/OTlZdNSNx+MvX77oiDk6OgqJwiWVy2XVAFn+t2P1zfX9fl9VfNbW1mKxmPod3yWL8eeW4WoiOACI0VQBIEZwABAjOACIERwAxAgOAGIEBwAxggOAGMEBQIzgACBGcAAQIzgAiBEcAMQIDgBiBAcAMYIDgBjBAUCM4AAgRnAAECM4AIgRHADECA4AYgQHADGCA4AYwQFAjOAAIEZwABAjOACIERwAxAgOAGIEBwAxggOAGMEBQIzgACBGcAAQIzgAiBEcAMQIDgBiBAcAMYIDgBjBAUCM4AAgRnAAECM4AIgRHADECA4AYgQHADGCA4AYwQFAjOAAIEZwABAjOACIERwAxAgOAGIEBwAxggOAGMEBQIzgACBGcAAQIzgAiBEcAMQIDgBiBAcAMYIDgBjBAUCM4AAgRnAAECM4AIgRHADECA4AYgQHADGCA4DYfwEAyWrrY3yCEQAAAABJRU5ErkJggg==");var o="pe-color-neutral-70 pe-mb-10 pe-lh-128 pe-d-block",s=e.url?e.url:/^https.+$/.test(r)?Jy(r):"".concat(i,".pushengage.com");return(0,st.jsx)("div",{children:function(){switch(e.notificationPreviewPicker){case"windows11--chrome":return(0,st.jsx)(jb,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}));case"windows10--chrome":return(0,st.jsx)(TU,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}));case"windows10--firefox":return(0,st.jsx)(MU,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}));case"macos--chrome":return(0,st.jsx)(LU,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}));case"android--chrome":return(0,st.jsx)(VU,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}));case"android--app":return(0,st.jsx)(WU,(0,kn.Z)({},a));case"ios--web":return(0,st.jsx)(QU,(0,kn.Z)({},e));case"all":return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"pe-mb-32",children:[(0,st.jsx)(XU,{className:o,children:Ua("Windows 11 - Chrome","pushengage")}),(0,st.jsx)(jb,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}))]}),(0,st.jsxs)("div",{className:"pe-mb-32",children:[(0,st.jsx)(XU,{className:o,children:Ua("Windows 10 - Chrome","pushengage")}),(0,st.jsx)(TU,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}))]}),(0,st.jsxs)("div",{className:"pe-mb-32",children:[(0,st.jsx)(XU,{className:o,children:Ua("Windows 10 - Firefox","pushengage")}),(0,st.jsx)(MU,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}))]}),(0,st.jsxs)("div",{className:"pe-mb-32",children:[(0,st.jsx)(XU,{className:o,children:Ua("macOS - Chrome","pushengage")}),(0,st.jsx)(LU,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}))]}),(0,st.jsxs)("div",{className:"pe-mb-32",children:[(0,st.jsx)(XU,{className:o,children:Ua("Android - Chrome","pushengage")}),(0,st.jsx)(VU,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}))]}),(0,st.jsxs)("div",{children:[(0,st.jsx)(XU,{type:"secondary",className:o,children:Ua("iOS - Web","pushengage")}),(0,st.jsx)(QU,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}))]})]});default:return(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(jb,(0,kn.Z)((0,kn.Z)({},a),{},{url:s}))})}}()})},JU=(n(62758),n(58176)),eH=function(e){var t;return(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(Wc.Z,{size:"small",bordered:!1,className:"pe-analytics-card pe-mt-12",style:{width:"100%"},children:(0,st.jsxs)(dt.Z,{justify:"space-around",gutter:[16,16],children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(JU.Z,{loading:e.loading,value:e.analytics.sentcount,title:Ua("Sent","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(JU.Z,{loading:e.loading,value:e.analytics.views,title:Ua("Seen","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(JU.Z,{loading:e.loading,value:e.analytics.clicks,title:Ua("Clicked","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(JU.Z,{loading:e.loading,value:"".concat(e.analytics.ctr,"%"),title:Ua("CTR","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(JU.Z,{loading:e.loading,value:e.analytics.unsubscribed,title:Ua("Unsubscribed","pushengage")})}),null!==e&&void 0!==e&&null!==(t=e.options)&&void 0!==t&&t.result_name?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(JU.Z,{loading:e.loading,value:e.result[e.options.result_name]?e.result[e.options.result_name].count:"--",title:Ua("Goal count","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(JU.Z,{loading:e.loading,value:e.result[e.options.result_name]?"".concat(e.currency).concat(wo(e.result[e.options.result_name].value)):"--",title:"".concat(Ua("Goal value","pushengage")," (").concat(e.options.result_name,")")})})]}):null,"drip"!==e.type&&"browse"!==e.type?(0,st.jsx)(ht.Z,{children:(0,st.jsx)(JU.Z,{loading:e.loading,value:e.analytics.conversion_count,title:Ua("Conversion","pushengage")})}):null,"trigger"===e.type||"price_drop"===e.type?(0,st.jsx)(ht.Z,{children:(0,st.jsx)(JU.Z,{value:"".concat(e.currency).concat(wo(e.analytics.revenue)),loading:e.loading,title:Ua("Revenue","pushengage")})}):null]})})})};eH.defaultProps={loading:!1};var tH=eH,nH=function(e){var t=e.status;return(0,st.jsx)("span",{className:"pe-badge pe-badge-".concat("active"===t?"green":"new"===t?"secondary":"pause"),style:{marginRight:"8px"},children:Ei()("active"===t?"Active":"new"===t?"Draft":"Pause")})},rH=Gi()((function(e,t){var n={Today:[ei()().utcOffset(e),ei()().utcOffset(e)],Yesterday:[ei()().utcOffset(e).subtract(1,"days"),ei()().utcOffset(e).subtract(1,"days")],"Last 7 Days":[ei()().utcOffset(e).subtract(6,"days"),ei()().utcOffset(e)],"Last Week":[ei()().utcOffset(e).subtract(1,"week").startOf("week").add(1,"day"),ei()().utcOffset(e).startOf("week")],"This Month":[ei()().utcOffset(e).startOf("month"),ei()().utcOffset(e)],"Last 30 Days":[ei()().utcOffset(e).subtract(1,"month"),ei()().utcOffset(e)],"Last Month":[ei()().utcOffset(e).subtract(1,"month").startOf("month"),ei()().utcOffset(e).subtract(1,"month").endOf("month")],"Last 3 Months":[ei()().utcOffset(e).subtract(3,"months"),ei()().utcOffset(e)]};return t&&(n["Last 6 Months"]=[ei()().utcOffset(e).subtract(6,"months"),ei()().utcOffset(e)],n["Last 12 months"]=[ei()().utcOffset(e).subtract(12,"months"),ei()().utcOffset(e)]),n})),iH=mt.Z.Title,aH={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},oH=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,v,y,b,x,w,k,_,C,j,S,Z,N,E,O,A,T,P,M,I,D,L,R,B,F,z,V,U,H,W,q,K=_u(),Y=(0,oe.useState)(1100),G=(0,xe.Z)(Y,2),Q=G[0],X=G[1],$=(0,oe.useState)([null,null]),J=(0,xe.Z)($,2),ee=J[0],te=J[1],ne=(0,oe.useState)(!1),re=(0,xe.Z)(ne,2),ae=re[0],se=re[1],le=(0,oe.useState)(null),ce=(0,xe.Z)(le,2),ue=ce[0],de=ce[1],pe=e.details.notifications.filter((function(e){return 1!==e.status}));(0,oe.useEffect)((function(){X(K.isDesktop?1100:K.isTablet?900:K.isMobile?"100%":500)}),[e.status,K]);return(0,st.jsx)(Uc.Z,{title:(0,st.jsx)(iH,{level:3,className:"pe-mb-0",children:e.details.rule_set_name||e.details.campaign_name}),placement:"right",width:Q,closeIcon:(0,st.jsx)($c,{}),onClose:e.onClose,visible:!0,drawerStyle:{background:"#f8f8fb"},className:"pe-automation-details-drawer",children:e.loading?null:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{children:[(0,st.jsx)(nH,{status:null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.status}),(0,st.jsxs)("span",{className:"pe-mr-16",children:[Ua("Created at","pushengage")," :"," ",mo(e.details.create_date||e.details.created_at)]}),(e.details.create_date||e.details.created_at)!==(e.details.updated_date||e.details.updated_at)?(0,st.jsxs)("span",{children:[Ua("Updated at","pushengage")," :"," ",mo(e.details.updated_date||e.details.updated_at)]}):null]}),(0,st.jsx)(dt.Z,{className:"pe-mt-20 pe-mb-20",gutter:[16,16],align:"stretch",children:e.type&&"trigger"===e.type||"browse"===e.type||"price_drop"===e.type||"generic"===e.type?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ht.Z,{xs:24,sm:12,children:(0,st.jsxs)(Wc.Z,{title:Ua("Sending Condition","pushengage"),className:"advaced-details pe-analytics-card",size:"small",style:{height:"100%"},bordered:!1,children:[e.details.rules&&e.details.rules.if?(0,st.jsxs)("div",{children:[(0,st.jsx)("b",{children:Ua("Start","pushengage")})," ",Ua("this Campaign","pushengage")," ",(0,st.jsx)("b",{children:Ua("If","pushengage")}),":"," ",(0,st.jsx)("span",{className:"pe-ml-6",children:e.details.rules.if})]}):null,e.details.rules&&e.details.rules.this?(0,st.jsxs)("div",{className:"pe-mt-8",children:[(0,st.jsx)("b",{children:Ua("Stop","pushengage")})," ",Ua("this Campaign","pushengage")," ",(0,st.jsx)("b",{children:Ua("If","pushengage")}),":",(0,st.jsx)("span",{className:"pe-ml-6",children:e.details.rules.this})]}):null]})}),(0,st.jsx)(ht.Z,{xs:24,sm:12,children:(0,st.jsxs)(Wc.Z,{title:Ua("Goal Tracking","pushengage"),className:"goal-tracking pe-analytics-card",size:"small",style:{height:"100%"},bordered:!1,children:[(0,st.jsxs)("b",{children:[Ua("Goal name","pushengage"),":"]}),(0,st.jsx)("span",{className:"pe-ml-6",children:(null===e||void 0===e||null===(n=e.details)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.result_name)||Ua("No Goal name was set","pushengage")})]})})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(ht.Z,{xs:24,sm:12,children:[(0,st.jsx)(Wc.Z,{title:Ua("Audience","pushengage"),className:"advaced-details pe-analytics-card",size:"small",bordered:!1,children:null!==e&&void 0!==e&&null!==(i=e.details)&&void 0!==i&&i.sent_to&&null!==(a=Object.keys(null===e||void 0===e||null===(o=e.details)||void 0===o?void 0:o.sent_to))&&void 0!==a&&a.length?(0,st.jsxs)(st.Fragment,{children:[null!==e&&void 0!==e&&null!==(s=e.details)&&void 0!==s&&null!==(l=s.sent_to)&&void 0!==l&&null!==(c=l.include_segments)&&void 0!==c&&null!==(u=c.segments)&&void 0!==u&&u.length?(0,st.jsxs)("div",{children:[(0,st.jsxs)("b",{children:[Ua("Matching all of the following segments","pushengage"),":"]})," ",e.details.sent_to.include_segments.segments_name,(0,st.jsx)(Cu.Z,{className:"pe-my-8"})]}):null,null!==e&&void 0!==e&&null!==(d=e.details)&&void 0!==d&&null!==(p=d.sent_to)&&void 0!==p&&null!==(f=p.include_or_segments)&&void 0!==f&&null!==(h=f.segments)&&void 0!==h&&h.length?(0,st.jsxs)("div",{children:[(0,st.jsxs)("b",{children:[Ua("Matching any of the following segments","pushengage"),":"]})," ",e.details.sent_to.include_or_segments.segments_name,(0,st.jsx)(Cu.Z,{className:"pe-my-8"})]}):null,null!==e&&void 0!==e&&null!==(g=e.details)&&void 0!==g&&null!==(m=g.sent_to)&&void 0!==m&&null!==(v=m.exclude_segments)&&void 0!==v&&null!==(y=v.segments)&&void 0!==y&&y.length?(0,st.jsxs)("div",{children:[(0,st.jsxs)("b",{children:[Ua("Matching none of the following segments","pushengage"),":"]})," ",e.details.sent_to.exclude_segments.segments_name,(0,st.jsx)(Cu.Z,{className:"pe-my-8"})]}):null,null!==e&&void 0!==e&&null!==(b=e.details)&&void 0!==b&&null!==(x=b.sent_to)&&void 0!==x&&null!==(w=x.include_countries)&&void 0!==w&&null!==(k=w.countries)&&void 0!==k&&k.length?(0,st.jsxs)("div",{children:[(0,st.jsxs)("b",{children:[Ua("Include Countries","pushengage"),":"]})," ",e.details.sent_to.include_countries.countries_name,(0,st.jsx)(Cu.Z,{className:"pe-my-8"})]}):null,null!==e&&void 0!==e&&null!==(_=e.details)&&void 0!==_&&null!==(C=_.sent_to)&&void 0!==C&&null!==(j=C.exclude_countries)&&void 0!==j&&null!==(S=j.countries)&&void 0!==S&&S.length?(0,st.jsxs)("div",{children:[(0,st.jsxs)("b",{children:[Ua("Exclude Countries","pushengage"),":"]})," ",e.details.sent_to.exclude_countries.countries_name,(0,st.jsx)(Cu.Z,{className:"pe-my-8"})]}):null,null!==e&&void 0!==e&&null!==(Z=e.details)&&void 0!==Z&&null!==(N=Z.sent_to)&&void 0!==N&&null!==(E=N.include_states)&&void 0!==E&&null!==(O=E.states)&&void 0!==O&&O.length?(0,st.jsxs)("div",{children:[(0,st.jsxs)("b",{children:[Ua("Include States","pushengage"),":"]})," ",e.details.sent_to.include_states.states_name,(0,st.jsx)(Cu.Z,{className:"pe-my-8"})]}):null,null!==e&&void 0!==e&&null!==(A=e.details)&&void 0!==A&&null!==(T=A.sent_to)&&void 0!==T&&null!==(P=T.include_cities)&&void 0!==P&&null!==(M=P.cities)&&void 0!==M&&M.length?(0,st.jsxs)("div",{children:[(0,st.jsxs)("b",{children:[Ua("Include Cities","pushengage"),":"]})," ",e.details.sent_to.include_cities.cities_name,(0,st.jsx)(Cu.Z,{className:"pe-my-8"})]}):null,null!==e&&void 0!==e&&null!==(I=e.details)&&void 0!==I&&null!==(D=I.sent_to)&&void 0!==D&&null!==(L=D.include_device_types)&&void 0!==L&&null!==(R=L.devices)&&void 0!==R&&R.length?(0,st.jsxs)("div",{children:[(0,st.jsxs)("b",{children:[Ua("Include Devices","pushengage"),":"]})," ",e.details.sent_to.include_device_types.devices_name,(0,st.jsx)(Cu.Z,{className:"pe-my-8"})]}):null,null!==e&&void 0!==e&&null!==(B=e.details)&&void 0!==B&&null!==(F=B.sent_to)&&void 0!==F&&null!==(z=F.include_browsers)&&void 0!==z&&null!==(V=z.browsers)&&void 0!==V&&V.length?(0,st.jsxs)("div",{children:[(0,st.jsxs)("b",{children:[Ua("Include Browsers","pushengage"),":"]})," ",e.details.sent_to.include_browsers.browsers_name,(0,st.jsx)(Cu.Z,{className:"pe-my-8"})]}):null]}):(0,st.jsx)("p",{className:"pe-mx-0 pe-my-0",children:Ua("Send To All","pushengage")})}),null!==e&&void 0!==e&&null!==(U=e.details)&&void 0!==U&&null!==(H=U.options)&&void 0!==H&&H.result_name?(0,st.jsxs)(Wc.Z,{title:Ua("Goal Tracking","pushengage"),className:"goal-tracking pe-mt-8 pe-analytics-card",size:"small",bordered:!1,children:[(0,st.jsxs)("b",{children:[Ua("Goal name","pushengage"),":"]})," ",null===e||void 0===e||null===(W=e.details)||void 0===W||null===(q=W.options)||void 0===q?void 0:q.result_name]}):null]}),(0,st.jsx)(ht.Z,{xs:24,sm:12,children:(0,st.jsxs)(Wc.Z,{title:Ua("Sending Condition","pushengage"),className:"advaced-details pe-analytics-card",size:"small",bordered:!1,style:{height:"100%"},children:[Ua("Subscription","pushengage"),(0,st.jsx)(Au.default,{className:"pe-mt-12",message:Ua("After user subscribes or gets added to the segment.","pushengage"),showIcon:!0})]})})]})}),(0,st.jsxs)(dt.Z,{className:"pe-mt-20 pe-mb-20",gutter:[16,16],align:"stretch",children:[e.details.criteria?(0,st.jsx)(ht.Z,{xs:24,sm:12,children:(0,st.jsxs)(Wc.Z,{title:Ua("Price Drop/Inventory Criteria","pushengage"),className:"advaced-details pe-analytics-card",size:"small",style:{height:"100%"},bordered:!1,children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("b",{children:Ua("Expiry","pushengage")}),":",(0,st.jsx)("span",{className:"pe-ml-6",children:e.details.criteria.campaign&&e.details.criteria.campaign.expiry?"".concat(e.details.criteria.campaign.expiry/86400," ").concat(e.details.criteria.campaign.expiry/86400===1?Ua("Day","pushengage"):Ua("Days","pushengage")):""})]}),(0,st.jsxs)("div",{className:"pe-mt-8",children:[(0,st.jsxs)("b",{children:[Ua("Campaign Type","pushengage"),":"]}),(0,st.jsx)("span",{className:"pe-ml-6",children:e.details.criteria.campaign&&e.details.criteria.campaign.price_drop_threshold?Ua("Price Drop","pushengage"):Ua("Inventory","pushengage")})]}),e.details.criteria.campaign&&e.details.criteria.campaign.price_drop_threshold?(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)("div",{className:"pe-mt-8",children:[(0,st.jsxs)("b",{children:[Ua("Price Drop Threshold","pushengage"),":"]}),(0,st.jsx)("span",{className:"pe-ml-6",children:"".concat(e.details.criteria.campaign.price_drop_threshold.value).concat("percentage"===e.details.criteria.campaign.price_drop_threshold.type?"%":Ua("(absolute)","pushengage"))})]})}):null]})}):null,(0,st.jsx)(ht.Z,{xs:24,sm:12,children:(0,st.jsxs)(Wc.Z,{title:Ua("Trigger Limits","pushengage"),className:"advaced-details pe-analytics-card",size:"small",style:{height:"100%"},bordered:!1,children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("b",{children:Ua("Daily Limit","pushengage")}),":",(0,st.jsx)("span",{className:"pe-ml-6",children:e.details.trigger_limit?e.details.trigger_limit:Ua("No Limit Set","pushengage")})]}),(0,st.jsxs)("div",{className:"pe-mt-8",children:[(0,st.jsx)("b",{children:Ua("Weekly Limit","pushengage")}),":",(0,st.jsx)("span",{className:"pe-ml-6",children:e.details.weekly_trigger_limit?e.details.weekly_trigger_limit:Ua("No Limit Set","pushengage")})]})]})})]}),(0,st.jsxs)(dt.Z,{justify:"space-between",align:"middle",children:[(0,st.jsx)(ht.Z,{className:"pe-pt-10",children:(0,st.jsxs)(Ju.default,{align:"center",size:[0,16],children:[(0,st.jsx)(iH,{level:3,className:"pe-mb-0",children:Ua("Analytics","pushengage")}),(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-ant-btn-export",icon:(0,st.jsx)(Th,{}),loading:e.exportingAnalytics,onClick:function(t){if(t.preventDefault(),ee[0]&&ee[1]&&ee[1].diff(ee[0],"d")>95)ie.default.error({message:Ua("You can only export analytics of maximum 3 months at a time.","pushengage")});else{var n={format:"csv"};ee[0]&&ee[1]&&(n.start_analytics_at=ee[0].format("YYYY-MM-DD"),n.end_analytics_at=ee[1].format("YYYY-MM-DD")),e.exportAnalytics(n)}},children:Ua("Export","pushengage")})]})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(zf.default.RangePicker,{defaultPickerValue:void 0,value:ee,onOpenChange:function(){se((function(e){return!e}))},open:ae,allowClear:!0,disabledDate:function(t){return!!(t&&t.utcOffset(e.timezoneOffset)>ei()().utcOffset(e.timezoneOffset).endOf("day"))},suffixIcon:(0,st.jsx)(Uf,{}),size:"small",format:["MMM DD, YYYY","MMM DD, YYYY"],onChange:function(t){var n={};if(t&&t[0]&&t[1]){if(t[1].diff(t[0],"d")>95){var r=Ua("You can only view analytics of maximum 3 months at a time.","pushengage");return de(r),se(!0),void ie.default.error({message:r})}te(t),n={start_analytics_at:t[0].format("YYYY-MM-DD"),end_analytics_at:t[1].format("YYYY-MM-DD")}}else te([null,null]);de(""),e.fetchAnalytics(n)},renderExtraFooter:function(){return ue?(0,st.jsx)(mt.Z.Text,{type:"danger",children:ue}):null},ranges:rH(e.timezoneOffset)})})]}),(0,st.jsx)(dt.Z,{gutter:[16,16],children:(0,st.jsx)(tH,{analytics:e.details.analytics,options:e.details.options,result:e.details.result,type:e.type,currency:e.currency,loading:e.fetchingAnalytics})}),(0,st.jsx)("ul",{className:"pe-notification-builder-wrapper",children:e.details.notifications.filter((function(e){return 1===e.status})).map((function(t,n){return(0,st.jsxs)("li",{className:"pe-notification-builder-wrap",children:[(0,st.jsx)("div",{className:"pe-notification-builder-index",children:(0,st.jsx)("div",{className:"sequence",children:0===t.status?"":n+1})}),(0,st.jsxs)("div",{className:"pe-notification-builder-content pe-ml-5",style:{border:"1px solid #ddd"},children:[(0,st.jsxs)("div",{className:"stepNotification__line1 pe-pa-8",children:[(0,st.jsx)(Qp,{}),(0,st.jsx)("span",{className:"pe-ml-10",children:Ua("Push","pushengage")}),(0,st.jsx)("span",{className:"color-primary pe-px-5",children:"rightaway"===t.schedule_options.type?Ua(" Right","pushengage"):"minutes"===t.schedule_options.unit?t.schedule_options.value>60?" after ".concat(Math.floor(t.schedule_options.value/60)," hours, ").concat(t.schedule_options.value%60," minutes"):" after ".concat(t.schedule_options.value," minutes"):"dow"===t.schedule_options.unit?" next ".concat(aH[t.schedule_options.value]," at ").concat(mo("10-05-1991 ".concat(t.schedule_options.at||"00:00:00"),"h:mm A")):" after ".concat(t.schedule_options.value," days at ").concat(mo("10-05-1991 ".concat(t.schedule_options.at||"00:00:00"),"h:mm A"))}),(0,st.jsx)("span",{children:Ua(0===n?" after user subscribes or is added to the list":" after sending the previous message","pushengage")})]}),(0,st.jsx)(dt.Z,{className:"pe-mt-16 pe-ml-12",children:(0,st.jsxs)(ht.Z,{span:24,children:[(0,st.jsx)($U,{type:"drip"!==(null===e||void 0===e?void 0:e.type)?"trigger":"drip",imgUrl:t.notification_image,title:t.notification_title,message:t.notification_message,btn1:{title:t.actions&&t.actions[0]?t.actions[0].label:"",url:t.actions&&t.actions[0]?t.actions[0].url:"",image_url:t.actions&&t.actions[0]?t.actions[0].image_url:""},btn2:{title:t.actions&&t.actions[1]?t.actions[1].label:"",url:t.actions&&t.actions[1]?t.actions[1].url:"",image_url:t.actions&&t.actions[1]?t.actions[1].image_url:""},big_image:"drip"===e.type&&t.big_image||""}),t.notification_url?(0,st.jsxs)("p",{className:"pe-ml-5 pe-mb-5 pe-pr-12 pe-ellipsis",style:{marginTop:"1em"},children:[(0,st.jsx)("b",{children:Ua("URL","pushengage")}),":"," ",(0,st.jsx)("a",{target:"_blank",href:(null===t||void 0===t?void 0:t.final_url)||t.notification_url,rel:"noreferrer",children:(null===t||void 0===t?void 0:t.final_url)||t.notification_url})]}):null]})}),(0,st.jsx)(dt.Z,{gutter:[8,8],className:"pe-mx-0 pe-px-8 pe-py-5 pe-color-neutral-15",children:(0,st.jsx)(tH,{analytics:t.analytics,options:e.details.options,result:t.result,type:e.type,currency:e.currency,loading:e.fetchingAnalytics})})]})]},t.rule_id||t.drip_id)}))}),pe.length?(0,st.jsxs)("div",{className:"pe-mt-24 pe-ml-24",children:[(0,st.jsx)(Cu.Z,{className:"pe-my-24"}),(0,st.jsx)(qc.Z,{expandIconPosition:"right",expandIcon:function(e){return(0,st.jsx)(pt.default,{shape:"circle",size:"small",children:(0,st.jsx)(kd,{rotate:e.isActive?90:0})})},children:(0,st.jsx)(qc.Z.Panel,{header:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(mt.Z.Text,{strong:!0,children:Ua("Deleted notifications","pushengage")}),(0,st.jsx)("span",{className:"pe-ml-8 pe-badge pe-badge-red",children:pe.length})]}),children:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"pe-mb-24",children:Ua("The following notifications in this campaign have been deleted and are no longer being sent to your subscribers.","pushengage")}),pe.map((function(t,n){return(0,st.jsxs)("div",{children:[(0,st.jsx)($U,{type:"drip"!==(null===e||void 0===e?void 0:e.type)?"trigger":"drip",imgUrl:t.notification_image,title:t.notification_title,message:t.notification_message,btn1:{title:t.actions&&t.actions[0]?t.actions[0].label:"",url:t.actions&&t.actions[0]?t.actions[0].url:"",image_url:t.actions&&t.actions[0]?t.actions[0].image_url:""},btn2:{title:t.actions&&t.actions[1]?t.actions[1].label:"",url:t.actions&&t.actions[1]?t.actions[1].url:"",image_url:t.actions&&t.actions[1]?t.actions[1].image_url:""},big_image:"drip"===e.type&&t.big_image||""}),t.notification_url?(0,st.jsxs)("p",{className:"pe-ml-5 pe-mb-5 pe-mt-12 pe-ellipsis pe-pr-12",children:[(0,st.jsx)("b",{children:"URL"}),":"," ",(0,st.jsx)("a",{target:"_blank",href:t.notification_url,rel:"noreferrer",children:t.notification_url})]}):null,(0,st.jsx)(tH,{analytics:t.analytics,options:e.details.options,result:t.result,type:e.type,currency:e.currency,loading:e.fetchingAnalytics}),n!==pe.length-1?(0,st.jsx)(Cu.Z,{}):null]},t.rule_id||t.drip_id)}))]})},"1")})]}):null]})})},sH=mt.Z.Text,lH=function(e){var t=e.title,n=e.onClick,r=_u();return(0,st.jsx)(sH,{className:"pe-cursor-pointer primary-on-hover pe-fs-13 pe-fw-600",ellipsis:!0,title:t,style:{maxWidth:r.isDesktop?"500px":"200px"},onClick:n,children:t})},cH=function(e){var t=bt(is),n=bt((function(e){return e.session.currentSite})),r=bt((function(e){return e.siteSettings.data.timezone}),Zi()),i=(0,oe.useState)({loading:!1,data:null,id:null,visible:!1}),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)(!1),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)(!1),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.expand="notification_analytics,result_analytics",PN(n,e,t)},v=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,s({loading:!0,data:null,id:t,visible:!0}),e.next=5,m(t,n);case 5:(i=e.sent).data.notifications=null===(r=i.data.notifications)||void 0===r?void 0:r.sort((function(e,t){return(null===e||void 0===e?void 0:e.rule_order)-(null===t||void 0===t?void 0:t.rule_order)})),s({loading:!1,data:i.data,id:t,visible:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s({loading:!1,data:null,id:t,visible:!0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},d(!0),e.prev=2,e.next=5,m(null===o||void 0===o?void 0:o.id,t);case 5:(r=e.sent).data.notifications=null===(n=r.data.notifications)||void 0===n?void 0:n.sort((function(e,t){return(null===e||void 0===e?void 0:e.rule_order)-(null===t||void 0===t?void 0:t.rule_order)})),s((0,kn.Z)((0,kn.Z)({},o),{},{data:r.data})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0;case 13:d(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},g(!0),e.prev=2,e.next=5,m(null===o||void 0===o?void 0:o.id,t);case 5:n=e.sent,r="drip-".concat(o.id,"-analytics"),t.start_analytics_at&&t.end_analytics_at&&(r="".concat(r,"-").concat(mo(t.start_analytics_at,"YYYY-MM-DD"),"-").concat(mo(t.end_analytics_at,"YYYY-MM-DD"))),To(n,r+=".csv"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),e.t0;case 15:g(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),x=function(t,n){return e.loadingType.type===t&&e.loadingType.loading&&e.loadingType.identifier===n},w=[{title:"".concat(Ua("Notification","pushengage")),dataIndex:"notification",responsive:["sm","xs"],width:"33%",render:function(e,t){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(lH,{title:ca()(t.rule_set_name,{length:60}),onClick:function(){return v(null===t||void 0===t?void 0:t.rule_set_id)}}),(0,st.jsx)("div",{children:(0,st.jsx)(sH,{className:"pe-fs-13 pe-color-neutral-40",children:mo(t.create_date)})})]})}},{title:"".concat(Ua("Stats","pushengage")),dataIndex:"stats",responsive:["sm","xs"],render:function(e,t){var n,r,i,a;return(0,st.jsx)(SU,{sentcount:(null===t||void 0===t||null===(n=t.analytics)||void 0===n?void 0:n.sentcount)||0,viewcount:(null===t||void 0===t||null===(r=t.analytics)||void 0===r?void 0:r.views)||0,clickcount:(null===t||void 0===t||null===(i=t.analytics)||void 0===i?void 0:i.clicks)||0,ctr:(null===t||void 0===t||null===(a=t.analytics)||void 0===a?void 0:a.ctr)||0})}},{title:"".concat(Ua("Goal","pushengage")),dataIndex:"goal",responsive:["sm","xs"],render:function(e,n){return(0,st.jsx)(jU,{count:kU(n)||0,value:_U(n)||0,currency:t})}},{title:"".concat(Ua("Status","pushengage")),dataIndex:"status",responsive:["sm","xs"],render:function(e,t){return(0,st.jsx)(ZU,{status:t.status})}},{title:"Action",dataIndex:"actions",responsive:["sm","xs"],render:function(t,n){return(0,st.jsxs)(Ju.default,{size:10,wrap:!0,children:[(0,st.jsx)(ft.default,{placement:"top",title:Ua("Preview","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(NN,{}),onClick:function(){return v(null===n||void 0===n?void 0:n.rule_set_id)},disabled:o.id===(null===n||void 0===n?void 0:n.rule_set_id)&&o.loading,loading:o.id===(null===n||void 0===n?void 0:n.rule_set_id)&&o.loading})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Edit","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:function(){return e.onEdit(n.rule_set_id)}})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Export","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Th,{}),disabled:x("export",n.rule_set_id),loading:x("export",n.rule_set_id),onClick:function(){return e.onExport(n.rule_set_id)}})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Duplicate","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Sh,{}),onClick:function(){return e.onDuplicate(n.rule_set_id)}})}),(0,st.jsx)(ft.default,{placement:"top",title:"".concat("active"===(null===n||void 0===n?void 0:n.status)?Ua("Pause","pushengage"):"new"===(null===n||void 0===n?void 0:n.status)?Ua("Start","pushengage"):Ua("Resume","pushengage")),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:"active"===(null===n||void 0===n?void 0:n.status)?(0,st.jsx)(EU,{}):(0,st.jsx)(AU,{}),disabled:x("status",n.rule_set_id),loading:x("status",n.rule_set_id),onClick:function(){return e.onAction({type:"status",loading:!0,data:n})}})}),(null===n||void 0===n?void 0:n.drip_type)!==ci.WELCOME?(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Nh,{}),onClick:function(){return e.onDelete(n.rule_set_id)},disabled:x("delete",n.rule_set_id),loading:x("delete",n.rule_set_id)}):null]})}}];return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(CU,{columns:w,data:null===e||void 0===e?void 0:e.data,rowKey:"rule_set_id",loading:e.loading,emptyText:Ua("No drip autoresponders found.","pushengage")}),o.id&&o.visible&&o.data&&!o.loading?(0,st.jsx)(oH,{fetchAnalytics:y,exportAnalytics:b,fetchingAnalytics:u,exportingAnalytics:h,details:o.data,onClose:function(){return s({loading:!1,id:null,data:null,visible:!1})},type:"drip",timezoneOffset:null===r||void 0===r?void 0:r.offset,currency:t}):null]})},uH=function(e){return(0,st.jsxs)(dt.Z,{justify:"space-between",className:e.classes||"",gutter:[8,8],children:[(0,st.jsx)(ht.Z,{children:e.left}),e.right?(0,st.jsx)(ht.Z,{style:{alignItems:"center",display:"flex"},children:e.right}):null]})},dH=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{viewBox:"64 64 896 896",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"})}))},pH=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:dH},e))},fH=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{viewBox:"64 64 896 896",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"})}))},hH=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:fH},e))},gH=mt.Z.Text,mH=function(e){var t=e.onChange,n=e.pagination,r=(0,oe.useState)(n.page),i=(0,xe.Z)(r,2),a=i[0],o=i[1];return(0,oe.useEffect)((function(){o(n.page)}),[n.page]),(0,st.jsxs)("div",{className:"pe-ant-custom-pagination",children:[(0,st.jsxs)(gH,{className:"pe-mr-8 pe-pt-6",children:[n.total," Items"]}),n.lastPage>1?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(pt.default,{size:"small",disabled:(null===n||void 0===n?void 0:n.page)<=1||!1,onClick:function(){t(1,n.limit),o(1)},children:(0,st.jsx)(pH,{})}),(0,st.jsx)(gu.default,{simple:!0,current:a,pageSize:n.limit,total:n.total,onChange:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){o(e),t(e,n)}))}),(0,st.jsx)(pt.default,{size:"small",disabled:n.page>=n.lastPage||!1,onClick:function(){t(n.lastPage,n.limit),o(n.lastPage)},children:(0,st.jsx)(hH,{})})]}):null]})},vH={type:"",loading:!1,identifier:null},yH=function(){var e=_u(),t=(0,vt.s0)(),n=yt(),r=bt(Vr),i=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.currentSite})),a=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),o=(0,oe.useState)(nE),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)("all"),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)([]),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)({page:1,total:0,limit:10,lastPage:1}),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useState)(!1),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useState)(!1),Z=(0,xe.Z)(S,2),N=Z[0],E=Z[1],O=(0,oe.useState)(!1),A=(0,xe.Z)(O,2),T=A[0],P=A[1],M=(0,oe.useState)((0,kn.Z)({},vH)),I=(0,xe.Z)(M,2),D=I[0],L=I[1],R=(0,oe.useState)(!1),B=(0,xe.Z)(R,2),F=B[0],z=B[1],V=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,i){var a,o,s,l,u,d,p,f,h,g,m;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return j(!0),i.expand="notification_analytics,result_analytics",a=Eo(i),e.prev=5,e.next=8,Promise.all([EN(t,a),n(vs({siteId:t,options:{name:"utm_settings,default_notification_expiry,notification_analytics,timezone"}}))]);case 8:o=e.sent,s=(0,xe.Z)(o,2),l=s[0],s[1],d=(u=l).data,p=u.meta,c(rE(p)),f=d.page,h=d.perPage,g=d.total,m=d.lastPage,w({total:g,page:f,limit:h,lastPage:m}),v(d.data),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),e.t0;case 23:j(!1);case 24:case"end":return e.stop()}}),e,null,[[5,20]])})));return function(t,n){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){V(i,{page:x.page,limit:x.limit})}),[i]);var U=function(e){V(i,"all"===e?{page:1,limit:10}:{page:1,limit:10,status:e}),f(e)},H=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(!0),n={},n="all"===p?{format:"csv"}:{format:"csv",status:p},e.prev=4,e.next=7,EN(i,Eo(n));case 7:To(e.sent,"DripAutoResponder.csv"),E(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),e.t0;case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,o,s,u,d,p,f,h;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ud(a)||ci.WELCOME===(null===(n=t.data)||void 0===n?void 0:n.drip_type)){e.next=3;break}return P(!0),e.abrupt("return");case 3:if(Vd(a)){e.next=6;break}return z(!0),e.abrupt("return");case 6:return u=null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.rule_set_id,d="new"===(null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.status)?"active":"active"===(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.status)?"cancelled":"active",L({type:"status",loading:!0,identifier:u}),e.prev=9,e.next=12,ON(i,u,{status:d});case 12:1===e.sent.meta.count&&(p=l.map((function(e){var n;return e.key===d?(0,kn.Z)((0,kn.Z)({},e),{},{count:(null===e||void 0===e?void 0:e.count)+1}):e.key===(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.status)?(0,kn.Z)((0,kn.Z)({},e),{},{count:(null===e||void 0===e?void 0:e.count)-1}):e})),f=(0,we.Z)(m),h=f.findIndex((function(e){return e.rule_set_id===u})),f[h].status=d,c(p),v(f),ie.default.success({message:Ua("Drip autoresponder status updated","pushengage")})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),e.t0;case 19:L((0,kn.Z)({},vH));case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(n){return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Vd(a)){t.next=3;break}return z(!0),t.abrupt("return");case 3:gt.Z.confirm((0,kn.Z)((0,kn.Z)({okText:Ua("Delete","pushengage"),cancelText:Ua("Cancel","pushengage"),width:e.isDesktop?560:320},Ny),{},{okType:"danger",okButtonProps:{size:"large"},cancelButtonProps:{size:"large"},onOk:function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L({type:"delete",loading:!0,identifier:n||null}),e.prev=1,e.next=4,AN(i,n);case 4:return t={},r=Bo({currPage:x.page,pageSize:x.limit,lastPage:x.lastPage,total:x.total}),t="all"===p?{page:r,limit:x.limit}:{page:r,limit:x.limit,status:p},e.next=9,V(i,t);case 9:ie.default.success({message:Ua("Drip autoresponder deleted","pushengage")}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0;case 15:L((0,kn.Z)({},vH));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}()}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vd(a)){e.next=3;break}return z(!0),e.abrupt("return");case 3:t("".concat($r.editDrip(n)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ud(a)&&zd(a)){e.next=3;break}return P(!0),e.abrupt("return");case 3:if(Vd(a)){e.next=6;break}return z(!0),e.abrupt("return");case 6:t("".concat($r.path.campaigns.createDrip,"?duplicate=").concat(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L({type:"export",loading:!0,identifier:t||null}),e.prev=1,e.next=4,PN(i,t,{format:"csv"});case 4:To(e.sent,"ExportDrip.csv"),E(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0;case 12:L((0,kn.Z)({},vH));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Pf,{title:Ua("Drip Autoresponders","pushengage"),children:(0,st.jsx)(bU,{label:Ua("Add New","pushengage"),onClick:function(){r?Vd(a)?Ud(a)&&zd(a)?t($r.path.campaigns.createDrip):P(!0):z(!0):ie.default.error({message:Ua("Site not connected!","pushengage"),description:Ua("Please connect your site first to create a drip autoresponder","pushengage")})}})}),(0,st.jsxs)(iy,{children:[!r&&(0,st.jsx)(rg,{subTitle:Ua("Automate Follow-Ups That Convert","pushengage"),description:Ua("Stay in touch with users using scheduled Web and App push notifications that guide, educate, and re-engage \u2014 without manual work.","pushengage"),bullets:[{icon:(0,st.jsx)(uh,{}),text:Ua("Launch welcome and onboarding sequences automatically","pushengage")},{icon:(0,st.jsx)(Cg,{}),text:Ua("Nurture users with content and education drips","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Re-engage inactive users with timed follow-ups","pushengage")},{icon:(0,st.jsx)(Tg,{}),text:Ua("Personalize messages using attributes, segments, and audience groups","pushengage")}],btnText:Ua("Complete Your Setup","pushengage"),onClick:function(){return t($r.path.onboarding)},videoUrl:"https://www.youtube.com/embed/dtc2FYksVSs"}),T&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.drip),{},{closeable:!0,onClose:function(){return P(!1)}})),F&&(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify drip autoresponder. Please contact to your admin.","pushengage"),onOk:function(){return z(!1)},visible:F}),(0,st.jsx)(uH,{left:(0,st.jsx)(xU,{items:l,activeNav:p,onExport:H,onChange:U,exporting:N})}),(0,st.jsx)(cH,{data:m,loading:C,onExport:G,onDuplicate:Y,onEdit:K,onDelete:q,onAction:W,loadingType:D}),(0,st.jsx)(uH,{classes:"pe-mt-15",left:(0,st.jsx)(xU,{items:l,activeNav:p,onExport:H,onChange:U,exporting:N}),right:(0,st.jsx)(mH,{pagination:x,onChange:function(e,t){V(i,"all"===p?{page:e,limit:t}:{page:e,limit:t,status:p})}})})]})]})},bH=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({width:"1em",height:"1em",focusable:"false",viewBox:"0 0 14 15",fill:"currentColor","data-icon":"pe-notification-content-outlined"},e),{},{children:(0,st.jsx)("path",{d:"M12.25 0.75H1.75C0.765625 0.75 0 1.54297 0 2.5V10.375C0 11.3594 0.765625 12.125 1.75 12.125H4.375V14.4219C4.375 14.6406 4.51172 14.75 4.70312 14.75C4.75781 14.75 4.8125 14.75 4.89453 14.6953L8.3125 12.125H12.25C13.207 12.125 14 11.3594 14 10.375V2.5C14 1.54297 13.207 0.75 12.25 0.75ZM12.6875 10.375C12.6875 10.6211 12.4688 10.8125 12.25 10.8125H7.875L7.51953 11.0859L5.6875 12.4531V10.8125H1.75C1.50391 10.8125 1.3125 10.6211 1.3125 10.375V2.5C1.3125 2.28125 1.50391 2.0625 1.75 2.0625H12.25C12.4688 2.0625 12.6875 2.28125 12.6875 2.5V10.375ZM10.0625 4.46875H3.9375C3.69141 4.46875 3.5 4.6875 3.5 4.90625V5.34375C3.5 5.58984 3.69141 5.78125 3.9375 5.78125H10.0625C10.2812 5.78125 10.5 5.58984 10.5 5.34375V4.90625C10.5 4.6875 10.2812 4.46875 10.0625 4.46875ZM7.4375 7.09375H3.9375C3.69141 7.09375 3.5 7.3125 3.5 7.53125V7.96875C3.5 8.21484 3.69141 8.40625 3.9375 8.40625H7.4375C7.65625 8.40625 7.875 8.21484 7.875 7.96875V7.53125C7.875 7.3125 7.65625 7.09375 7.4375 7.09375Z"})}))},xH=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:bH},e))},wH=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 13 14",fill:"currentColor",focusable:"false","data-icon":"pe-Send-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M12.2383 8.24219L11.4258 7.75977C11.4512 7.55664 11.4512 7.35352 11.4512 7.125C11.4512 6.92188 11.4512 6.71875 11.4258 6.51562L12.2383 6.0332C12.4922 5.90625 12.5938 5.60156 12.5176 5.34766C12.2383 4.38281 11.7305 3.51953 11.0703 2.80859C10.8672 2.60547 10.5625 2.55469 10.3086 2.70703L9.49609 3.18945C9.16602 2.93555 8.81055 2.73242 8.4043 2.55469V1.61523C8.4043 1.31055 8.22656 1.08203 7.94727 1.00586C6.98242 0.777344 5.99219 0.777344 5.02734 1.00586C4.74805 1.08203 4.57031 1.31055 4.57031 1.61523V2.55469C4.16406 2.73242 3.80859 2.93555 3.47852 3.18945L2.66602 2.70703C2.41211 2.55469 2.10742 2.60547 1.9043 2.80859C1.24414 3.51953 0.736328 4.38281 0.457031 5.34766C0.380859 5.60156 0.482422 5.90625 0.736328 6.0332L1.54883 6.51562C1.52344 6.71875 1.52344 6.92188 1.52344 7.15039C1.52344 7.35352 1.52344 7.55664 1.54883 7.75977L0.736328 8.24219C0.482422 8.36914 0.380859 8.67383 0.457031 8.92773C0.736328 9.89258 1.24414 10.7559 1.9043 11.4668C2.10742 11.6699 2.41211 11.7207 2.66602 11.5684L3.47852 11.0859C3.80859 11.3398 4.16406 11.543 4.57031 11.7207V12.6602C4.57031 12.9648 4.74805 13.1934 5.02734 13.2695C5.99219 13.498 6.98242 13.498 7.94727 13.2695C8.22656 13.1934 8.4043 12.9648 8.4043 12.6602V11.7207C8.81055 11.543 9.16602 11.3398 9.49609 11.0859L10.3086 11.5684C10.5625 11.7207 10.8672 11.6699 11.0703 11.4668C11.7305 10.7559 12.2383 9.89258 12.5176 8.92773C12.5938 8.67383 12.4922 8.36914 12.2383 8.24219ZM10.5879 10.7812L9.39453 10.0957C8.70898 10.7051 8.48047 10.832 7.5918 11.1621V12.5078C7.23633 12.584 6.85547 12.6348 6.47461 12.6348C6.09375 12.6348 5.73828 12.584 5.38281 12.5078V11.1621C4.51953 10.8574 4.26562 10.7051 3.58008 10.0957L2.38672 10.7812C1.9043 10.2227 1.52344 9.5625 1.26953 8.85156L2.46289 8.19141C2.28516 7.27734 2.28516 6.99805 2.46289 6.08398L1.26953 5.42383C1.52344 4.71289 1.9043 4.05273 2.38672 3.49414L3.58008 4.17969C4.26562 3.57031 4.51953 3.41797 5.38281 3.11328V1.76758C5.73828 1.69141 6.11914 1.64062 6.5 1.64062C6.88086 1.64062 7.23633 1.69141 7.5918 1.76758V3.11328C8.45508 3.41797 8.70898 3.57031 9.39453 4.17969L10.5879 3.49414C11.0703 4.05273 11.4512 4.71289 11.7051 5.42383L10.5117 6.08398C10.6895 6.99805 10.6895 7.27734 10.5117 8.19141L11.7051 8.85156C11.4512 9.5625 11.0703 10.2227 10.5879 10.7812ZM6.5 4.6875C5.1543 4.6875 4.0625 5.80469 4.0625 7.125C4.0625 8.4707 5.1543 9.5625 6.5 9.5625C7.82031 9.5625 8.9375 8.4707 8.9375 7.125C8.9375 5.80469 7.82031 4.6875 6.5 4.6875ZM6.5 8.75C5.58594 8.75 4.875 8.03906 4.875 7.125C4.875 6.23633 5.58594 5.5 6.5 5.5C7.38867 5.5 8.125 6.23633 8.125 7.125C8.125 8.03906 7.38867 8.75 6.5 8.75Z"})}))},kH=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:wH},e))},_H=function(e){var t=e.active,n=e.hasBottomBorder,r=e.type,i=e.hasTopBorder,a=e.placement,o=e.children,s=e.onClick;return(0,st.jsxs)(dt.Z,{className:"campaigns-breadcrumb-navbar".concat(n?" has-border-bottom":"").concat(i?" has-border-top":""," placement-").concat(a),justify:"space-between",align:"middle",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsxs)("div",{className:"campaigns-breadcrumb",children:[(0,st.jsxs)("span",{className:"segment ".concat("content"===t?"active":"pe-cursor-pointer"),onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return s?s("content"):null})),children:[(0,st.jsx)(xH,{style:{marginRight:"13px"}})," ",Ua("Content","pushengage")]}),(0,st.jsx)("span",{className:"segment indicator",children:(0,st.jsx)(kd,{})}),(0,st.jsx)("span",{className:"segment ".concat("settings"===t?"active":"pe-cursor-pointer"),onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return s?s("settings"):null})),children:r&&"drip"===r?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(kH,{style:{marginRight:"13px"}})," ",Ua("Drip Settings","pushengage")]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Lf,{style:{marginRight:"13px"}})," ",Ua("Trigger Settings","pushengage")]})})]})}),o&&(0,st.jsx)(ht.Z,{className:"campaigns-breadcrumb-right",children:o})]})},CH=Rv.default.Option,jH=mt.Z.Text,SH=mt.Z.Title,ZH=mt.Z.Paragraph,NH=function(e){var t=e.devices,n=e.browsers,r=e.onChange,i=_u(),a=bt((function(e){return e.globals.geoSegments})),o=a.device,s=a.device_type,l=Object.keys(o||{}),c=Object.keys(s||{});return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"middle",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(SH,{level:3,className:"pe-mb-0",children:Ua("Devices","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{onClick:function(){r("reset_devices",[])},size:"small",type:"text",icon:(0,st.jsx)(cc,{}),children:(0,st.jsx)("span",{className:"underline-text",children:Ua("Reset","pushengage")})})})]}),(0,st.jsx)(ZH,{type:"secondary",className:"dark pe-my-10",children:Ua("Send targeted campaigns by selecting subscribers based on their device type.","pushengage")}),(0,st.jsxs)(dt.Z,{align:"middle",className:"pe-mt-10",gutter:[16,10],wrap:i.xs,children:[(0,st.jsx)(ht.Z,{xs:24,sm:5,style:{width:"140px",minWidth:"140px"},children:(0,st.jsx)(jH,{className:"label-large",children:Ua("Device","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(Rv.default,{mode:"multiple",placeholder:"Select devices",size:"large",removeIcon:(0,st.jsx)($c,{}),value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r("device",e)})),style:{width:"100%"},showArrow:!0,allowClear:!0,children:l.length>0&&l.map((function(e){return(0,st.jsx)(CH,{value:e,children:e},e)}))})})]}),(0,st.jsxs)(dt.Z,{align:"middle",className:"pe-mt-10",gutter:[16,10],wrap:i.xs,children:[(0,st.jsx)(ht.Z,{xs:24,sm:5,style:{width:"140px",minWidth:"140px"},children:(0,st.jsx)(jH,{strong:!0,className:"label-large",children:Ua("Browser","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(Rv.default,{mode:"multiple",placeholder:"Select browser",value:n,size:"large",removeIcon:(0,st.jsx)($c,{}),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r("browser",e)})),style:{width:"100%"},showArrow:!0,allowClear:!0,children:c.length>0&&c.map((function(e){return(0,st.jsx)(CH,{value:e,children:e},e)}))})})]})]})},EH=Rv.default.Option,OH=mt.Z.Text,AH=mt.Z.Title,TH=mt.Z.Paragraph,PH=function(e){var t=e.countries,n=e.excludes,r=e.states,i=e.cities,a=e.onChange,o=_u(),s=bt((function(e){return e.globals.geoSegments})),l=s.country,c=s.city,u=s.state,d=Object.keys(l||{}),p=Object.keys(l||{}),f=Object.keys(u||{}),h=Object.keys(c||{});return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"middle",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(AH,{level:3,className:"pe-mb-0",children:Ua("Geo Location","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{onClick:function(){a("reset_geo",[])},size:"small",type:"text",icon:(0,st.jsx)(cc,{}),children:(0,st.jsx)("span",{className:"underline-text",children:Ua("Reset","pushengage")})})})]}),(0,st.jsx)(TH,{type:"secondary",className:"dark pe-my-10",children:Ua("Send targeted campaigns by selecting subscribers based on their geo location while subscription.","pushengage")}),(0,st.jsxs)(dt.Z,{align:"middle",gutter:[16,10],wrap:o.xs,children:[(0,st.jsx)(ht.Z,{xs:24,sm:5,style:{width:"140px",minWidth:"140px"},children:(0,st.jsx)(OH,{className:"label-large",children:Ua("Include Country","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(Rv.default,{mode:"multiple",size:"large",removeIcon:(0,st.jsx)($c,{}),placeholder:Ua("Select country","pushengage"),value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a("countries",e)})),style:{width:"100%"},showArrow:!0,allowClear:!0,children:d.map((function(e){return(0,st.jsx)(EH,{value:e,disabled:n.includes(e),children:e},e)}))})})]}),(0,st.jsxs)(dt.Z,{align:"middle",className:"pe-mt-10",gutter:[16,10],wrap:o.xs,children:[(0,st.jsx)(ht.Z,{xs:24,sm:5,style:{width:"140px",minWidth:"140px"},children:(0,st.jsx)(OH,{className:"label-large",children:Ua("Exclude Country","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(Rv.default,{mode:"multiple",size:"large",removeIcon:(0,st.jsx)($c,{}),placeholder:Ua("Select country","pushengage"),value:n,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a("excludes",e)})),style:{width:"100%"},showArrow:!0,allowClear:!0,children:p.map((function(e){return(0,st.jsx)(EH,{value:e,disabled:t.includes(e),children:e},e)}))})})]}),(0,st.jsxs)(dt.Z,{align:"middle",className:"pe-mt-10",gutter:[16,10],wrap:o.xs,children:[(0,st.jsx)(ht.Z,{xs:24,sm:5,style:{width:"140px",minWidth:"140px"},children:(0,st.jsx)(OH,{className:"label-large",children:Ua("Include State","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(Rv.default,{mode:"multiple",placeholder:Ua("Select state","pushengage"),removeIcon:(0,st.jsx)($c,{}),size:"large",value:r,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a("states",e)})),style:{width:"100%"},showArrow:!0,allowClear:!0,children:f.map((function(e){return(0,st.jsx)(EH,{value:e,children:e},e)}))})})]}),(0,st.jsxs)(dt.Z,{align:"middle",className:"pe-mt-10",gutter:[16,10],wrap:o.xs,children:[(0,st.jsx)(ht.Z,{xs:24,sm:5,style:{width:"140px",minWidth:"140px"},children:(0,st.jsx)(OH,{className:"label-large",children:Ua("Include City","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(Rv.default,{mode:"multiple",size:"large",placeholder:Ua("Select city","pushengage"),removeIcon:(0,st.jsx)($c,{}),value:i,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a("cities",e)})),style:{width:"100%"},showArrow:!0,allowClear:!0,children:h.map((function(e){return(0,st.jsx)(EH,{value:e,children:e},e)}))})})]})]})},MH=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 10 10",fill:"currentColor","data-icon":"pe-save-draft-outlined",focusable:"false","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M9.30273 2.16797L7.51953 0.384766C7.32617 0.191406 7.06836 0.0625 6.78906 0.0625H1.03125C0.451172 0.0625 0 0.535156 0 1.09375V8.65625C0 9.23633 0.451172 9.6875 1.03125 9.6875H8.59375C9.15234 9.6875 9.625 9.23633 9.625 8.65625V2.89844C9.625 2.61914 9.49609 2.36133 9.30273 2.16797ZM5.84375 1.09375V2.8125H3.09375V1.09375H5.84375ZM8.46484 8.65625H1.16016C1.07422 8.65625 1.03125 8.61328 1.03125 8.52734V1.22266C1.03125 1.1582 1.07422 1.09375 1.16016 1.09375H2.0625V3.32812C2.0625 3.62891 2.27734 3.84375 2.57812 3.84375H6.35938C6.63867 3.84375 6.875 3.62891 6.875 3.32812V1.17969L8.55078 2.87695C8.57227 2.89844 8.59375 2.91992 8.59375 2.96289V8.52734C8.59375 8.61328 8.5293 8.65625 8.46484 8.65625ZM4.8125 4.35938C3.75977 4.35938 2.92188 5.21875 2.92188 6.25C2.92188 7.30273 3.75977 8.14062 4.8125 8.14062C5.84375 8.14062 6.70312 7.30273 6.70312 6.25C6.70312 5.21875 5.84375 4.35938 4.8125 4.35938ZM4.8125 7.10938C4.31836 7.10938 3.95312 6.74414 3.95312 6.25C3.95312 5.77734 4.31836 5.39062 4.8125 5.39062C5.28516 5.39062 5.67188 5.77734 5.67188 6.25C5.67188 6.74414 5.28516 7.10938 4.8125 7.10938Z"})}))},IH=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:MH},e))},DH=mt.Z.Title,LH=mt.Z.Text,RH=mt.Z.Paragraph,BH=Rv.default.Option,FH=function(e){var t=e.data,n=e.onChangeSegment,r=e.onChangeSegmentCriteria,i=e.onRemoveSegmentGroup,a=bt((function(e){return e.session.user}),Zi()),o=bt((function(e){var t,n;return null===e||void 0===e||null===(t=e.audiences)||void 0===t||null===(n=t.segments)||void 0===n?void 0:n.data}),Zi()),s=function(){var e,t,n,r,i,s=(null===a||void 0===a||null===(e=a.site)||void 0===e||null===(t=e.userSite)||void 0===t||null===(n=t.permissions)||void 0===n||null===(r=n.segments)||void 0===r||null===(i=r.access)||void 0===i?void 0:i.allowed)||[];return s.length>0?o.filter((function(e){return s.indexOf(e.segment_id)>-1})):o},l=["any","all","none"],c=(0,oe.useState)([]),u=(0,xe.Z)(c,2),d=u[0],p=u[1];(0,oe.useEffect)((function(){var e,n,r,i,a,o;if(0===(null===t||void 0===t||null===(e=t.exclude_segments)||void 0===e||null===(n=e.segments)||void 0===n?void 0:n.length)&&0===(null===t||void 0===t||null===(r=t.include_segments)||void 0===r||null===(i=r.segments)||void 0===i?void 0:i.length)&&0===(null===t||void 0===t||null===(a=t.include_or_segments)||void 0===a||null===(o=a.segments)||void 0===o?void 0:o.length))p([{type:"any",segments:[]}]);else{var s,l,c,u,f,h,g,m,v,y=[];null!==t&&void 0!==t&&null!==(s=t.include_or_segments)&&void 0!==s&&s.segments&&(null===t||void 0===t||null===(l=t.include_or_segments)||void 0===l||null===(c=l.segments)||void 0===c?void 0:c.length)>0&&y.push({type:"any",segments:t.include_or_segments.segments}),null!==t&&void 0!==t&&null!==(u=t.include_segments)&&void 0!==u&&u.segments&&(null===t||void 0===t||null===(f=t.include_segments)||void 0===f||null===(h=f.segments)||void 0===h?void 0:h.length)>0&&y.push({type:"all",segments:t.include_segments.segments}),null!==t&&void 0!==t&&null!==(g=t.exclude_segments)&&void 0!==g&&g.segments&&(null===t||void 0===t||null===(m=t.exclude_segments)||void 0===m||null===(v=m.segments)||void 0===v?void 0:v.length)>0&&y.push({type:"none",segments:t.exclude_segments.segments}),y.length>0&&p([].concat((0,we.Z)(d),y))}}),[]);var f=function(){var e=d.map((function(e){return e.type}));return ra()(l,e)},h=function(e,n){var r,i,a,o,s,l,c,u,d,p,f,h;return"all"===e?(null===t||void 0===t||null===(s=t.exclude_segments)||void 0===s||null===(l=s.segments)||void 0===l?void 0:l.includes(n))||(null===t||void 0===t||null===(c=t.include_or_segments)||void 0===c||null===(u=c.segments)||void 0===u?void 0:u.includes(n)):"any"===e?(null===t||void 0===t||null===(d=t.exclude_segments)||void 0===d||null===(p=d.segments)||void 0===p?void 0:p.includes(n))||(null===t||void 0===t||null===(f=t.include_segments)||void 0===f||null===(h=f.segments)||void 0===h?void 0:h.includes(n)):(null===t||void 0===t||null===(r=t.include_segments)||void 0===r||null===(i=r.segments)||void 0===i?void 0:i.includes(n))||(null===t||void 0===t||null===(a=t.include_or_segments)||void 0===a||null===(o=a.segments)||void 0===o?void 0:o.includes(n))};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{children:[(0,st.jsx)(DH,{level:3,className:"pe-mb-10",children:Ua("Custom Segments","pushengage")}),(0,st.jsx)(RH,{type:"secondary",className:"dark pe-mb-10",children:Ua("Send targeted campaigns by selecting your audience based on their behaviour.","pushengage")})]}),Bd(a)?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"pe-mb-15 pe-mt-15",children:d.map((function(e,t){return(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{className:"pe-pa-24 pe-bg-neutral-4 pe-p-relative",style:{borderRadius:"5px"},children:[d.length>1?(0,st.jsx)(Nh,{className:"pe-color-neutral-40",style:{position:"absolute",right:"8px",top:"8px",cursor:"pointer"},onClick:function(){var t=d.filter((function(t){return t.type!==e.type}));p(t),i(e.type)}}):null,(0,st.jsxs)(ht.Z,{span:"24",children:[(0,st.jsxs)(LH,{className:"pe-fs-16 pe-color-neutral-80",children:[Ua("Matching","pushengage"),(0,st.jsxs)(Rv.default,{defaultValue:e.type,style:{width:80},className:"pe-ml-10 pe-mr-10",size:"small",dropdownClassName:"pe-ant-single-select-box",onChange:function(n){r(e.type,n);var i=(0,we.Z)(d);i[t].type=n,p(i)},children:[(0,st.jsx)(BH,{value:"any",disabled:!f().includes("any"),children:Ua("any","pushengage")}),(0,st.jsx)(BH,{value:"all",disabled:!f().includes("all"),children:Ua("all","pushengage")}),(0,st.jsx)(BH,{value:"none",disabled:!f().includes("none"),children:Ua("none","pushengage")})]}),Ua("of the following","pushengage")]}),(0,st.jsx)("div",{className:"pe-mt-24",children:(0,st.jsx)(Rv.default,{defaultValue:e.segments,mode:"multiple",style:{width:"100%"},placeholder:Ua("---Choose segments---","pushengage"),onChange:function(t){return n(e.type,t)},showArrow:!0,showSearch:!0,allowClear:!0,optionFilterProp:"label",children:s&&s().map((function(t){return(0,st.jsx)(BH,{value:t.segment_id,disabled:h(e.type,t.segment_id),label:t.segment_name,children:t.segment_name},t.segment_id)}))})})]})]}),d.length>1&&t+1<d.length?(0,st.jsx)(Cu.Z,{className:"pe-mt-16 pe-mb-11 pe-fs-16 pe-color-neutral-40",children:Ua("and","pushengage")}):null]},"segment-".concat(e.type))}))}),d.length<3?(0,st.jsx)(pt.default,{size:"large",block:!0,className:"pe-mt-10 pe-btn-hollow",icon:(0,st.jsx)(oU,{}),onClick:function(){if(d.length<3){var e=d.map((function(e){return e.type})),t=l.filter((function(t){return!e.includes(t)})).shift();p([].concat((0,we.Z)(d),[{type:t,segments:[]}]))}},children:Ua("Add Segment Group","pushengage")}):null]}):(0,st.jsx)("div",{className:"pe-mt-15",children:(0,st.jsx)(Au.default,{type:"error",message:Ua("You don't have permission to access segments","pushengage")})})]})},zH=mt.Z.Text,VH=mt.Z.Title,UH=function(e){var t,n,r,i,a,o=e.campaign,s=e.isEditing,l=e.onUpdate,c=bt((function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.user})),u=bt((function(e){return qd(e.session.user)})),d=bt((function(e){var t;return null===(t=e.globals.settings)||void 0===t?void 0:t.notification_analytics}));return(0,st.jsx)(Wc.Z,{className:"pe-campaign-card bottom-left",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(VH,{level:3,className:"pe-mb-10",children:["Goal",!qd(c)&&(0,st.jsx)(Gb,{plan:ii.GROWTH})]}),(0,st.jsxs)(zH,{style:{color:"#6c7781"},children:[Ua("Goal Tracking will help you assign conversion goals & value to your notification campaigns. You can set up a default goal","pushengage")," ",(0,st.jsx)(ot.OL,{to:$r.path.analytics.goalTracking,className:"pe-fs-14",children:"here"})," ",Ua("and have it integrated for all your campaigns.","pushengage")]}),(0,st.jsx)("div",{className:"pe-mt-24",children:(0,st.jsx)(HN,{type:"text",testId:"goalName",label:Ua("Goal Name","pushengage"),value:(null===o||void 0===o||null===(t=o.options)||void 0===t?void 0:t.result_name)||"",setValue:function(e){return function(e){var t=Bi()(o);t.options.result_name=e,Ii()(t.errors,"result_name")&&(t.errors.result_name=""),l(t)}(e)},limit:{value:64},errorMessage:null===o||void 0===o||null===(n=o.errors)||void 0===n?void 0:n.result_name,disabled:!u||!(null!==d&&void 0!==d&&null!==(r=d.result)&&void 0!==r&&r.enabled)})}),s&&null!==d&&void 0!==d&&null!==(i=d.result)&&void 0!==i&&i.enabled?(0,st.jsx)(Au.default,{type:"warning",showIcon:!0,icon:(0,st.jsx)(Up,{}),message:(0,st.jsx)(st.Fragment,{children:Ua("Changing the goal name will reset the existing goal metrics in this campaign.","pushengage")})}):null,null!==d&&void 0!==d&&null!==(a=d.result)&&void 0!==a&&a.enabled?null:(0,st.jsx)(Au.default,{className:"pe-mt-15",type:"warning",showIcon:!0,icon:(0,st.jsx)(Up,{}),message:(0,st.jsxs)(st.Fragment,{children:[Ua("Goal Tracking is not enabled in your account. Please enable goal tracking from","pushengage"),"\xa0",(0,st.jsxs)(ot.OL,{to:$r.path.analytics.goalTracking,className:"pe-fs-14",children:[Ua("Analytics > Goal Tracking","pushengage")," "]}),Ua("to use goal name.","pushengage")]})})]})})};UH.defaultProps={isEditing:!1};var HH=UH,WH=mt.Z.Text,qH=mt.Z.Title,KH=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f=e.campaign,h=e.onUpdate,g=function(e,t){var n=Bi()(f);n.utm_params[e]=t,Ii()(n.errors,e)&&(n.errors[e]=""),h(n)};return(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(qH,{level:3,className:"pe-mb-0",children:Ua("UTM Parameters","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:null===f||void 0===f||null===(t=f.utm_params)||void 0===t?void 0:t.enabled,onChange:function(e){return g("enabled",e)}})})]}),(0,st.jsx)(WH,{type:"secondary",className:"dark pe-my-10 pe-d-block",children:Ua("Improve your analytics with custom link attribution.","pushengage")}),null!==f&&void 0!==f&&null!==(n=f.utm_params)&&void 0!==n&&n.enabled?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"140px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(WH,{className:"label-large",children:Ua("UTM Source","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:(null===f||void 0===f||null===(r=f.utm_params)||void 0===r?void 0:r.utm_source)||"",setValue:function(e){return g("utm_source",e)},testId:"utmSource",limit:{value:80},errorMessage:null===f||void 0===f||null===(i=f.errors)||void 0===i?void 0:i.utm_source})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"140px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(WH,{className:"label-large",children:Ua("UTM Medium","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:(null===f||void 0===f||null===(a=f.utm_params)||void 0===a?void 0:a.utm_medium)||"",setValue:function(e){return g("utm_medium",e)},testId:"utmMedium",limit:{value:80},errorMessage:null===f||void 0===f||null===(o=f.errors)||void 0===o?void 0:o.utm_medium})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"140px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(WH,{className:"label-large",children:Ua("UTM Campaign","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:(null===f||void 0===f||null===(s=f.utm_params)||void 0===s?void 0:s.utm_campaign)||"",setValue:function(e){return g("utm_campaign",e)},testId:"utmCampaign",limit:{value:80},errorMessage:null===f||void 0===f||null===(l=f.errors)||void 0===l?void 0:l.utm_campaign})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"140px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(WH,{className:"label-large",children:Ua("UTM Term","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:(null===f||void 0===f||null===(c=f.utm_params)||void 0===c?void 0:c.utm_term)||"",setValue:function(e){return g("utm_term",e)},testId:"utmTerm",limit:{value:80},errorMessage:null===f||void 0===f||null===(u=f.errors)||void 0===u?void 0:u.utm_term})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"140px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(WH,{className:"label-large",children:Ua("UTM Content","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:(null===f||void 0===f||null===(d=f.utm_params)||void 0===d?void 0:d.utm_content)||"",setValue:function(e){return g("utm_content",e)},testId:"utmContent",limit:{value:120},errorMessage:null===f||void 0===f||null===(p=f.errors)||void 0===p?void 0:p.utm_content})})]})]}):null]})})},YH=function(e){var t=e.campaign,n=e.onUpdate,r=e.isEditing;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(dt.Z,{children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(KH,{campaign:t,onUpdate:n})})}),(0,st.jsx)(dt.Z,{children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(HH,{campaign:t,isEditing:r,onUpdate:n})})})]})};YH.defaultProps={isEditing:!1};var GH=YH,QH=mt.Z.Text,XH=mt.Z.Paragraph,$H="all",JH="custom",eW=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f=e.campaign,h=e.onUpdate,g=e.onSubmit,m=e.submitStatus,v=e.setCampaign,y=e.audienceModal,b=e.isEditing,x=bt((function(e){return e.session.user})),w=(0,oe.useState)(null),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=function(e){if(e===JH&&Ed(x))y(!0);else{var t=(0,kn.Z)((0,kn.Z)({},f),{},{sentToKey:e});h(t)}},S=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(t),e.next=3,g(t);case 3:C(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)(dt.Z,{className:"drip-settings-container",gutter:[4,16],align:"stretch",children:[(0,st.jsxs)(ht.Z,{sm:{span:16},xs:{span:24},children:[(0,st.jsx)(Wc.Z,{className:"pe-campaign-card top-left",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{wrap:!1,justify:"start",onClick:function(){return j($H)},className:"pe-mb-16 pe-cursor-pointer ".concat(f.sentToKey===$H?"pe-box-primary":"pe-box-secondary"),children:[(0,st.jsx)(ht.Z,{className:"pe-mr-6",children:(0,st.jsx)(zy.default,{checked:f.sentToKey===$H,onChange:function(){return j($H)}})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsx)(XH,{className:"label-large pe-mb-10 pe-mt-2",children:Ua("Send to All Subscribers","pushengage")}),(0,st.jsx)(QH,{type:"secondary",children:Ua("This drip autoresponder messages will go to all subscribers.","pushengage")})]})]}),(0,st.jsxs)(dt.Z,{wrap:!1,onClick:function(){return j(JH)},justify:"start",className:"pe-cursor-pointer ".concat(f.sentToKey===JH?"pe-box-primary":"pe-box-secondary"),children:[(0,st.jsx)(ht.Z,{className:"pe-mr-6",children:(0,st.jsx)(zy.default,{checked:f.sentToKey===JH,onChange:function(){return j(JH)}})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsxs)(XH,{className:"label-large pe-mb-10 pe-mt-2",children:[Ua("Send to Custom Audience","pushengage"),!Wd(x)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]}),(0,st.jsx)(XH,{type:"secondary",className:"pe-mb-0",style:{maxWidth:"360px"},children:Ua("Personalize your notification based on custom segments, user\u2019s geolocation, device, and more..","pushengage")})]})]})]})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsx)("div",{className:f.sentToKey===$H?" pe-section-blur":"",children:(0,st.jsx)(FH,{data:f.sent_to,onChangeSegment:function(e,t){var n,r,i,a,o,s,l=Bi()(f);"all"===e&&null!==l&&void 0!==l&&null!==(n=l.sent_to)&&void 0!==n&&null!==(r=n.include_segments)&&void 0!==r&&r.segments&&(l.sent_to.include_segments.segments=t),"any"===e&&null!==l&&void 0!==l&&null!==(i=l.sent_to)&&void 0!==i&&null!==(a=i.include_or_segments)&&void 0!==a&&a.segments&&(l.sent_to.include_or_segments.segments=t),"none"===e&&null!==l&&void 0!==l&&null!==(o=l.sent_to)&&void 0!==o&&null!==(s=o.exclude_segments)&&void 0!==s&&s.segments&&(l.sent_to.exclude_segments.segments=t),h(l)},onChangeSegmentCriteria:function(e,t){var n,r,i,a,o,s,l,c,u,d,p,g,m,v,y,b,x,w,k,_,C,j,S,Z,N,E,O,A,T,P,M,I,D,L,R=Bi()(f);"all"===e&&"any"===t&&null!==R&&void 0!==R&&null!==(n=R.sent_to)&&void 0!==n&&null!==(r=n.include_segments)&&void 0!==r&&r.segments&&(R.sent_to.include_segments.segments=(null===R||void 0===R||null===(m=R.sent_to)||void 0===m||null===(v=m.include_or_segments)||void 0===v?void 0:v.segments)||[],R.sent_to.include_segments.segments=[]);"all"===e&&"none"===t&&null!==R&&void 0!==R&&null!==(i=R.sent_to)&&void 0!==i&&null!==(a=i.exclude_segments)&&void 0!==a&&a.segments&&(R.sent_to.exclude_segments.segments=(null===R||void 0===R||null===(y=R.sent_to)||void 0===y||null===(b=y.include_segments)||void 0===b?void 0:b.segments)||[],null!==R&&void 0!==R&&null!==(x=R.sent_to)&&void 0!==x&&null!==(w=x.include_segments)&&void 0!==w&&w.segments&&(R.sent_to.include_segments.segments=[]));"any"===e&&"none"===t&&null!==R&&void 0!==R&&null!==(o=R.sent_to)&&void 0!==o&&null!==(s=o.exclude_segments)&&void 0!==s&&s.segments&&(R.sent_to.exclude_segments.segments=(null===R||void 0===R||null===(k=R.sent_to)||void 0===k||null===(_=k.include_or_segments)||void 0===_?void 0:_.segments)||[],null!==R&&void 0!==R&&null!==(C=R.sent_to)&&void 0!==C&&null!==(j=C.include_or_segments)&&void 0!==j&&j.segments&&(R.sent_to.include_or_segments.segments=[]));"any"===e&&"all"===t&&null!==R&&void 0!==R&&null!==(l=R.sent_to)&&void 0!==l&&null!==(c=l.include_segments)&&void 0!==c&&c.segments&&(R.sent_to.include_segments.segments=(null===R||void 0===R||null===(S=R.sent_to)||void 0===S||null===(Z=S.include_or_segments)||void 0===Z?void 0:Z.segments)||[],null!==R&&void 0!==R&&null!==(N=R.sent_to)&&void 0!==N&&null!==(E=N.include_or_segments)&&void 0!==E&&E.segments&&(R.sent_to.include_or_segments.segments=[]));"none"===e&&"any"===t&&null!==R&&void 0!==R&&null!==(u=R.sent_to)&&void 0!==u&&null!==(d=u.include_or_segments)&&void 0!==d&&d.segments&&(R.sent_to.include_or_segments.segments=(null===R||void 0===R||null===(O=R.sent_to)||void 0===O||null===(A=O.exclude_segments)||void 0===A?void 0:A.segments)||[],null!==R&&void 0!==R&&null!==(T=R.sent_to)&&void 0!==T&&null!==(P=T.exclude_segments)&&void 0!==P&&P.segments&&(R.sent_to.exclude_segments.segments=[]));"none"===e&&"all"===t&&null!==R&&void 0!==R&&null!==(p=R.sent_to)&&void 0!==p&&null!==(g=p.include_segments)&&void 0!==g&&g.segments&&(R.sent_to.include_segments.segments=(null===R||void 0===R||null===(M=R.sent_to)||void 0===M||null===(I=M.exclude_segments)||void 0===I?void 0:I.segments)||[],null!==R&&void 0!==R&&null!==(D=R.sent_to)&&void 0!==D&&null!==(L=D.exclude_segments)&&void 0!==L&&L.segments&&(R.sent_to.exclude_segments.segments=[]));h(R)},onRemoveSegmentGroup:function(e){var t,n,r,i,a,o,s=Bi()(f);"all"===e&&null!==s&&void 0!==s&&null!==(t=s.sent_to)&&void 0!==t&&null!==(n=t.include_segments)&&void 0!==n&&n.segments&&(s.sent_to.include_segments.segments=[]),"any"===e&&null!==s&&void 0!==s&&null!==(r=s.sent_to)&&void 0!==r&&null!==(i=r.include_or_segments)&&void 0!==i&&i.segments&&(s.sent_to.include_or_segments.segments=[]),"none"===e&&null!==s&&void 0!==s&&null!==(a=s.sent_to)&&void 0!==a&&null!==(o=a.exclude_segments)&&void 0!==o&&o.segments&&(s.sent_to.exclude_segments.segments=[]),h(s)}})})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsx)("div",{className:f.sentToKey===$H?" pe-section-blur":"",children:(0,st.jsx)(PH,{countries:(null===f||void 0===f||null===(t=f.sent_to)||void 0===t||null===(n=t.include_countries)||void 0===n?void 0:n.countries)||[],excludes:(null===f||void 0===f||null===(r=f.sent_to)||void 0===r||null===(i=r.exclude_countries)||void 0===i?void 0:i.countries)||[],states:(null===f||void 0===f||null===(a=f.sent_to)||void 0===a||null===(o=a.include_states)||void 0===o?void 0:o.states)||[],cities:(null===f||void 0===f||null===(s=f.sent_to)||void 0===s||null===(l=s.include_cities)||void 0===l?void 0:l.cities)||[],onChange:function(e,t){var n,r,i,a,o,s,l,c,u=(0,kn.Z)({},f);["countries","reset_geo"].includes(e)&&null!==u&&void 0!==u&&null!==(n=u.sent_to)&&void 0!==n&&null!==(r=n.include_countries)&&void 0!==r&&r.countries&&(u.sent_to.include_countries.countries=t),["excludes","reset_geo"].includes(e)&&null!==u&&void 0!==u&&null!==(i=u.sent_to)&&void 0!==i&&null!==(a=i.exclude_countries)&&void 0!==a&&a.countries&&(u.sent_to.exclude_countries.countries=t),["states","reset_geo"].includes(e)&&null!==u&&void 0!==u&&null!==(o=u.sent_to)&&void 0!==o&&null!==(s=o.include_states)&&void 0!==s&&s.states&&(u.sent_to.include_states.states=t),["cities","reset_geo"].includes(e)&&null!==u&&void 0!==u&&null!==(l=u.sent_to)&&void 0!==l&&null!==(c=l.include_cities)&&void 0!==c&&c.cities&&(u.sent_to.include_cities.cities=t),h(u)}})})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsx)("div",{children:(0,st.jsx)(dt.Z,{children:(0,st.jsx)(ht.Z,{span:"24",children:(0,st.jsx)("div",{className:f.sentToKey===$H?" pe-section-blur":"",children:(0,st.jsx)(NH,{devices:(null===f||void 0===f||null===(c=f.sent_to)||void 0===c||null===(u=c.include_device_types)||void 0===u?void 0:u.devices)||[],browsers:(null===f||void 0===f||null===(d=f.sent_to)||void 0===d||null===(p=d.include_browsers)||void 0===p?void 0:p.browsers)||[],onChange:function(e,t){var n,r,i,a,o,s,l,c,u=(0,kn.Z)({},f);"device"===e&&null!==u&&void 0!==u&&null!==(n=u.sent_to)&&void 0!==n&&null!==(r=n.include_device_types)&&void 0!==r&&r.devices&&(u.sent_to.include_device_types.devices=t),"browser"===e&&null!==u&&void 0!==u&&null!==(i=u.sent_to)&&void 0!==i&&null!==(a=i.include_browsers)&&void 0!==a&&a.browsers&&(u.sent_to.include_browsers.browsers=t),"reset_devices"===e&&null!==u&&void 0!==u&&null!==(o=u.sent_to)&&void 0!==o&&null!==(s=o.include_device_types)&&void 0!==s&&s.devices&&null!==u&&void 0!==u&&null!==(l=u.sent_to)&&void 0!==l&&null!==(c=l.include_browsers)&&void 0!==c&&c.browsers&&(u.sent_to.include_browsers.browsers=[],u.sent_to.include_device_types.devices=[]),h(u)}})})})})})}),(0,st.jsx)(GH,{campaign:f,onUpdate:function(e){return v(e)},isEditing:b})]}),(0,st.jsx)(ht.Z,{sm:{span:8},xs:{span:24},children:(0,st.jsx)(Wc.Z,{className:"pe-campaign-card right",bordered:!1,style:{minHeight:"100%"},children:(0,st.jsxs)("div",{className:"pe-ta-center pe-pt-32",children:[(0,st.jsx)(pt.default,{type:"primary",size:"large",style:{height:50},className:"pe-fs-15 pe-fw-600",onClick:function(){return S("active")},icon:(0,st.jsx)(sc,{}),loading:"active"===_&&m,disabled:"active"===_&&m,children:Ua("Activate Autoresponder","pushengage")}),(0,st.jsx)("div",{className:"pe-mt-24",children:(0,st.jsx)(pt.default,{type:"text",size:"small",icon:(0,st.jsx)(IH,{}),loading:"new"===_&&m,onClick:function(){return S("new")},disabled:"new"===_&&m,children:(0,st.jsx)("span",{className:"underline-text",children:Ua("Save Draft","pushengage")})})})]})})})]})})};eW.defaultProps={isEditing:!1};var tW=eW,nW=(n(46744),n(33057)),rW=(n(22250),n(66355)),iW=function(e){var t=e.path,n=e.onChange,r=function(e,t){n(e,t)};return(0,st.jsx)("div",{className:"pe-notification-icon-image pe-mt-10",children:(0,st.jsxs)(dt.Z,{align:"middle",gutter:[36,16],justify:"start",wrap:!1,children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)("div",{className:"pe-avatar-container",children:t&&""!==t?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("img",{src:t,alt:"notification icon"}),(0,st.jsx)(tU,{className:"pe-close-circle pe-fs-16 pe-color-neutral-40",onClick:function(){return n("notification_image","")}})]}):(0,st.jsx)("div",{className:"pe-empty-image",children:(0,st.jsx)(lv,{})})})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsx)(hV,{onChange:function(e){return r("notification_image",e)},title:Ua("Insert Notification Image","pushengage")}),(0,st.jsx)(mt.Z.Paragraph,{type:"secondary",className:"darker pe-mb-0",children:Ua("Recommended size: 192px x 192px (JPG, PNG up to 1 MB)","pushengage")})]})]})})},aW=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-icon":"pe-voice-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M0.423065 15.515V13.9726C1.01432 13.9726 1.59916 13.934 2.17756 13.8569C2.75597 13.7798 3.32152 13.6384 3.87422 13.4327C3.28296 13.1371 2.81702 12.7097 2.47641 12.1506C2.13579 11.5915 1.96548 10.9842 1.96548 10.3286V8.57412H5.05031V6.2605H7.65314L5.12743 1.20909L6.51561 0.514999L9.04132 5.56641C9.29839 6.08055 9.27911 6.58184 8.98348 7.07027C8.68785 7.5587 8.25083 7.80292 7.67242 7.80292H6.59273V8.57412C6.59273 8.99829 6.4417 9.3614 6.13965 9.66346C5.83759 9.96551 5.47448 10.1165 5.05031 10.1165H3.5079V10.3286C3.5079 10.7785 3.64607 11.1737 3.92242 11.5144C4.19877 11.855 4.54903 12.0831 4.97319 12.1988L5.20456 12.2566C5.71869 12.3852 6.0079 12.7065 6.07217 13.2207C6.13643 13.7348 5.9372 14.1204 5.47448 14.3775C4.70327 14.8016 3.89029 15.0973 3.03553 15.2644C2.18078 15.4315 1.30995 15.515 0.423065 15.515ZM11.4513 13.3171L10.3524 12.2374C10.6223 11.9674 10.8344 11.6557 10.9886 11.3023C11.1429 10.9488 11.22 10.5664 11.22 10.1551C11.22 9.74379 11.1429 9.3614 10.9886 9.00793C10.8344 8.65446 10.6223 8.34276 10.3524 8.07284L11.4513 6.97387C11.8627 7.38518 12.184 7.86397 12.4154 8.41024C12.6467 8.95652 12.7624 9.53813 12.7624 10.1551C12.7624 10.7721 12.6467 11.3505 12.4154 11.8903C12.184 12.4302 11.8627 12.9057 11.4513 13.3171ZM13.63 15.515L12.531 14.416C13.0837 13.8633 13.5175 13.2239 13.8324 12.4976C14.1474 11.7714 14.3048 10.9906 14.3048 10.1551C14.3048 9.30677 14.1474 8.52271 13.8324 7.80292C13.5175 7.08312 13.0837 6.44688 12.531 5.89418L13.63 4.7952C14.3241 5.48929 14.8672 6.29263 15.2592 7.20523C15.6512 8.11783 15.8472 9.10112 15.8472 10.1551C15.8472 11.1962 15.6512 12.1763 15.2592 13.0953C14.8672 14.0144 14.3241 14.8209 13.63 15.515Z",fill:"#47485D"})}))},oW=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:aW},e))},sW=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 17 15",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-icon":"pe-translate-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M8.59999 15L12.0125 6H13.5875L17 15H15.425L14.6187 12.7125H10.9812L10.175 15H8.59999ZM2.67499 12.75L1.62499 11.7L5.41249 7.9125C4.97499 7.475 4.57811 6.975 4.22186 6.4125C3.86561 5.85 3.53749 5.2125 3.23749 4.5H4.81249C5.06249 4.9875 5.31249 5.4125 5.56249 5.775C5.81249 6.1375 6.11249 6.5 6.46249 6.8625C6.87499 6.45 7.30311 5.87188 7.74686 5.12813C8.19061 4.38438 8.52499 3.675 8.74999 3H0.424988V1.5H5.67499V0H7.17499V1.5H12.425V3H10.25C9.98749 3.9 9.59374 4.825 9.06874 5.775C8.54374 6.725 8.02499 7.45 7.51249 7.95L9.31249 9.7875L8.74999 11.325L6.46249 8.98125L2.67499 12.75ZM11.45 11.4H14.15L12.8 7.575L11.45 11.4Z",fill:"#47485D"})}))},lW=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:sW},e))},cW=function(e,t){return Lc.post("sites/".concat(e,"/generative-ai/text-generation"),t)},uW=function(e,t,n){return Lc.patch("accounts/".concat(e,"/credit-usage-histories/").concat(t,"/feedback"),n)},dW=function(e,t){return Lc.get("accounts/".concat(e,"/credit-usage-histories/summary"),{params:t})},pW=function(e){return Lc.get("accounts/".concat(e,"/credit-usages/credits"))},fW=["#3b43ff","#3bb8ff","#64ece4","#57ee94"],hW=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this,e)).state={notification_title_credit_used:!0,notification_message_credit_used:!0,image_credit_used:!0,campaign_credit_used:!0},r}return(0,Sa.Z)(n,[{key:"render",value:function(){var e=this,t={type:"monotone",isAnimationActive:!0,dot:!1,activeDot:{r:6},strokeWidth:2};return(0,st.jsx)(Qf.h,{width:"100%",height:400,children:(0,st.jsxs)(Xf.w,{data:this.props.data,margin:{top:16,bottom:16,left:-28,right:16},children:[(0,st.jsx)($f.q,{strokeDasharray:"2 2",strokeOpacity:.2}),(0,st.jsx)(Jf.K,{dataKey:"date_formatted",stroke:"#b6b6c2",tickSize:5}),(0,st.jsx)(eh.B,{stroke:"#b6b6c2",tickSize:5,tickFormatter:wo}),(0,st.jsx)(th.u,{offset:16,separator:"",labelStyle:{fontSize:"12px",fontWeight:"600"},itemStyle:{paddingBottom:"0px"},contentStyle:{borderRadius:"4px",borderColor:"#dedee5",padding:"16px 24px"},formatter:function(e,t){return["".concat(wo(e)," Credit Used"),"".concat(t,": ")]}}),(0,st.jsx)(nh.D,{verticalAlign:"top",iconType:"square",align:"center",iconSize:12,wrapperStyle:{paddingBottom:"8px"},onClick:function(t){e.setState((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},(0,ti.Z)({},t.dataKey,!e[t.dataKey]))}))}}),(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},t),{},{dataKey:"notification_title_credit_used",name:"Notification Title",stroke:fW[0],type:"monotone",hide:!this.state.notification_title_credit_used})),(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},t),{},{dataKey:"notification_message_credit_used",name:"Notification Message",hide:!this.state.notification_message_credit_used,stroke:fW[1],type:"monotone"})),this.props.data.length||this.props.loading?null:(0,st.jsx)(ih.M,{component:function(){return(0,st.jsx)(ah,{title:e.props.emptyTitle,message:e.props.emptyMsg})}})]})})}}]),n}(oe.PureComponent),gW=function(e){var t=bt(qr),n=go({hideToday:!0}),r=(0,oe.useState)(!1),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=(0,oe.useState)(ri.DAY),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)([]),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=(0,oe.useState)(n[oo]),m=(0,xe.Z)(g,2),v=m[0],y=m[1],b=(0,oe.useCallback)((0,at.Z)((0,it.Z)().mark((function n(){var r,i,a;return(0,it.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&e.visible){n.next=2;break}return n.abrupt("return");case 2:return o(!0),n.prev=3,r={start_date:v[0].format("YYYY-MM-DD"),end_date:v[1].format("YYYY-MM-DD"),group_by:c},n.next=7,dW(t,r);case 7:i=n.sent,a=null===i||void 0===i?void 0:i.data.map((function(e){var t=(0,kn.Z)((0,kn.Z)({},e),{},{date_formatted:""});return t.date_formatted=Oo(e.date,c),t})),h(a),n.next=14;break;case 12:n.prev=12,n.t0=n.catch(3);case 14:return n.prev=14,o(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[3,12,14,17]])}))),[t,e.visible,v,c]);(0,oe.useEffect)((function(){b()}),[b]);var x=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ei()(t[0]).add(1,"year"),!t[1].isAfter(n)){e.next=4;break}return ie.default.error({message:Ua("You can only view ai summary of maximum 12 months at a time.","pushengage"),duration:0,placement:"bottomLeft"}),e.abrupt("return");case 4:y(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(gt.Z,{destroyOnClose:!0,footer:null,width:"100%",centered:!0,bodyStyle:{padding:32},visible:e.visible,closeIcon:(0,st.jsx)($c,{className:"pe-fs-11"}),onCancel:function(){e.setVisible(!1)},children:[(0,st.jsx)(mt.Z.Title,{level:2,className:"pe-mb-24",children:Ua("AI Credit Usages","pushengage")}),(0,st.jsx)(mt.Z.Paragraph,{children:Ua("This summary includes details about the amount of AI credits used, the dates of usage, and the types of activities or features that consumed these credits. By reviewing this history, users can better understand their AI resource utilization and plan for future needs effectively.","pushengage")}),(0,st.jsx)("div",{className:"section",children:(0,st.jsxs)(Hc.default,{spinning:a,className:"pe-mt-16",children:[(0,st.jsx)(hW,{data:f,loading:a}),(0,st.jsxs)(dt.Z,{justify:"space-between",children:[(0,st.jsx)(Gf,{onChange:x,initialValue:oo,ranges:n}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(mt.Z.Text,{type:"secondary",className:"pe-mr-20",children:Ua("View by:","pushengage")}),(0,st.jsxs)(zy.default.Group,{size:"small",value:c,buttonStyle:"solid",className:"pe-design-radio-btn pe-radio-btn-color-white",onChange:function(e){!function(e){u(e)}(e.target.value)},children:[(0,st.jsx)(zy.default.Button,{value:ri.DAY,children:Ua("Day","pushengage")}),(0,st.jsx)(zy.default.Button,{value:ri.WEEK,children:Ua("Week","pushengage")}),(0,st.jsx)(zy.default.Button,{value:ri.MONTH,children:Ua("Month","pushengage")})]})]})]})]})})]})},mW=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-icon":"pe-thumb-up-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M13.25 15.8333H4.54168V5.54167L10.0833 0L11.0729 0.989583C11.1653 1.08194 11.2412 1.20729 11.3005 1.36562C11.3599 1.52396 11.3896 1.67569 11.3896 1.82083V2.09792L10.5188 5.54167H15.625C16.0472 5.54167 16.4167 5.7 16.7333 6.01667C17.05 6.33333 17.2083 6.70278 17.2083 7.125V8.70833C17.2083 8.80069 17.1952 8.89965 17.1688 9.00521C17.1424 9.11076 17.116 9.20972 17.0896 9.30208L14.7146 14.8833C14.5958 15.1472 14.3979 15.3715 14.1208 15.5562C13.8438 15.741 13.5535 15.8333 13.25 15.8333ZM6.12501 14.25H13.25L15.625 8.70833V7.125H8.50001L9.56876 2.77083L6.12501 6.21458V14.25ZM4.54168 5.54167V7.125H2.16668V14.25H4.54168V15.8333H0.583344V5.54167H4.54168Z",fill:"#898699"})}))},vW=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:mW},e))},yW=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-icon":"pe-thumb-down-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M4.9349 2.02656e-05H13.6432V10.2917L8.10156 15.8334L7.11198 14.8438C7.01962 14.7514 6.94375 14.6261 6.88438 14.4677C6.825 14.3094 6.79531 14.1577 6.79531 14.0125V13.7354L7.66615 10.2917H2.5599C2.13767 10.2917 1.76823 10.1334 1.45156 9.81669C1.1349 9.50002 0.976562 9.13058 0.976562 8.70835V7.12502C0.976562 7.03266 0.989757 6.9337 1.01615 6.82814C1.04253 6.72259 1.06892 6.62363 1.09531 6.53127L3.47031 0.95002C3.58906 0.686131 3.78698 0.461826 4.06406 0.277104C4.34115 0.0923814 4.63142 2.02656e-05 4.9349 2.02656e-05ZM12.0599 1.58335H4.9349L2.5599 7.12502V8.70835H9.6849L8.61615 13.0625L12.0599 9.61877V1.58335ZM13.6432 10.2917V8.70835H16.0182V1.58335H13.6432V2.02656e-05H17.6016V10.2917H13.6432Z",fill:"#898699"})}))},bW=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:yW},e))},xW=mt.Z.Text,wW=function(e){return(0,st.jsx)("div",{className:"ai-text-generate-feedback",children:1===e.feedback?(0,st.jsxs)(xW,{className:"pe-fs-16 pe-mr-12",children:[Ua("\ud83d\ude80","pushengage"),Ua("Your input is invaluable! We're continuously working to make things even better.","pushengage")]}):-1===e.feedback?(0,st.jsxs)(xW,{className:"pe-fs-16 pe-mr-12",children:[Ua("\ud83d\ude1e","pushengage"),Ua("Your feedback is noted. We're actively refining our platform to serve you better.","pushengage")]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(xW,{className:"pe-fs-16 pe-mr-12",children:Ua("Was this helpful?","pushengage")}),(0,st.jsx)(vW,{className:"pe-mr-12 pe-cursor-pointer",onClick:function(){e.sendFeedback(1)}}),(0,st.jsx)(bW,{className:"pe-cursor-pointer",onClick:function(){e.sendFeedback(-1)}})]})})},kW=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",focusable:"false","data-icon":"pe-round-arrow-left-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M2.625 14V12.1333H8.8375C9.75625 12.1333 10.5547 11.8222 11.2328 11.2C11.9109 10.5778 12.25 9.8 12.25 8.86667C12.25 7.93333 11.9109 7.15556 11.2328 6.53333C10.5547 5.91111 9.75625 5.6 8.8375 5.6H3.325L5.6 8.02667L4.375 9.33333L0 4.66667L4.375 0L5.6 1.30667L3.325 3.73333H8.8375C10.2521 3.73333 11.4661 4.22333 12.4797 5.20333C13.4932 6.18333 14 7.40444 14 8.86667C14 10.3289 13.4932 11.55 12.4797 12.53C11.4661 13.51 10.2521 14 8.8375 14H2.625Z",fill:"#5E6071"})}))},_W=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:kW},e))},CW=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 11 10",fill:"currentColor",focusable:"false","data-icon":"pe-rewrite-outlined","aria-hidden":"true",children:[(0,st.jsxs)("g",{clipPath:"url(#clip0_245_940)",children:[(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.313 6.35541C7.32253 6.14578 7.4988 5.97904 7.70843 5.98857C7.81324 5.98857 7.90852 6.03621 7.97522 6.1172C8.04192 6.19343 8.08003 6.29347 8.0705 6.39828C7.96093 8.39924 6.29823 10 4.26869 10C3.13006 10 2.11052 9.49976 1.41019 8.70891V9.4283C1.41019 9.56646 1.33873 9.69509 1.21962 9.76179C1.10052 9.83325 0.952829 9.83325 0.833725 9.76179C0.714621 9.69033 0.643158 9.56646 0.643158 9.4283V7.52263H1.22915C1.25774 7.52263 1.28632 7.51787 1.31491 7.52263C1.32443 7.52263 1.33873 7.52263 1.34826 7.52263H2.54406C2.68222 7.52263 2.81086 7.59409 2.87756 7.7132C2.94902 7.8323 2.94902 7.97999 2.87756 8.09909C2.80609 8.2182 2.68222 8.28966 2.54406 8.28966H2.04859C2.606 8.87565 3.38732 9.2425 4.25917 9.2425C5.88851 9.2425 7.21295 7.97046 7.29871 6.36494L7.313 6.35541Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M8.1372 0.0476418H7.42258V1.23869H8.1372V0.0476418Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M10.5193 2.42973H9.32825V3.14435H10.5193V2.42973Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M6.23154 2.42973H5.0405V3.14435H6.23154V2.42973Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M8.1372 4.3354H7.42258V5.52644H8.1372V4.3354Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M8.90181 3.33247L8.32574 3.90853L9.99329 5.57608L10.5694 5.00002L8.90181 3.33247Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M9.99697 -0.00373017L8.32971 1.66411L8.90587 2.24007L10.5731 0.572231L9.99697 -0.00373017Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M5.56715 -0.00245096L4.99109 0.57361L6.65863 2.24116L7.2347 1.66509L5.56715 -0.00245096Z",fill:"currentColor"}),(0,st.jsx)("path",{d:"M6.6581 3.33095L4.99084 4.99879L5.56701 5.57475L7.23426 3.90691L6.6581 3.33095Z",fill:"currentColor"}),(0,st.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.80182 2.14864C3.93522 2.14864 4.07338 2.14864 4.21154 2.16293C4.3497 2.17723 4.4688 2.25822 4.52597 2.38685C4.58314 2.51072 4.56885 2.65841 4.48786 2.76798C4.40687 2.87756 4.27347 2.93949 4.13531 2.92044C3.99239 2.90615 3.84946 2.90615 3.70654 2.91091C2.12007 2.96332 0.852796 4.21153 0.76704 5.78371C0.762276 5.92187 0.681285 6.04574 0.562181 6.10767C0.438312 6.1696 0.295387 6.16008 0.181047 6.08861C0.0667069 6.01239 8.51601e-06 5.88375 0.00953686 5.74559C0.119113 3.79228 1.70082 2.22963 3.66366 2.15341H3.81135L3.80182 2.14864Z",fill:"currentColor"})]}),(0,st.jsx)("defs",{children:(0,st.jsx)("clipPath",{id:"clip0_245_940",children:(0,st.jsx)("rect",{width:"10.5669",height:"10",fill:"white"})})})]}))},jW=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:CW},e))},SW=mt.Z.Paragraph,ZW=function(e){return(0,st.jsxs)("div",{className:"suggestion-border",children:[(0,st.jsxs)("div",{className:"pe-ml-15",children:[(0,st.jsx)(SW,{className:"pe-fs-12 pe-fw-600 pe-my-18",type:"secondary",children:Ua("Suggested Text","pushengage")}),(0,st.jsx)(zy.default.Group,{className:"pe-mb-6",value:e.selectedSuggestion,onChange:e.onSelectSuggestion,children:e.suggestions.map((function(e){return(0,st.jsx)("div",{className:"pe-mb-12",children:(0,st.jsx)(zy.default,{value:e.value,children:(0,st.jsx)(SW,{className:"pe-fs-16 pe-mb-0",children:e.label})})},e.value)}))})]}),(0,st.jsx)(Cu.Z,{className:"pe-my-0"}),(0,st.jsxs)("div",{className:"pe-my-12 pe-d-flex",style:{justifyContent:"space-between"},children:[(0,st.jsx)(pt.default,{disabled:e.rewritingText||e.generatingText,loading:e.rewritingText,size:"small",className:"pe-ml-15",icon:(0,st.jsx)(jW,{}),onClick:e.onRewrite,children:Ua("Rewrite","pushengage")}),(0,st.jsx)(ft.default,{title:Ua("Back to initial text","pushengage"),children:(0,st.jsx)(_W,{className:"pe-mr-15 pe-cursor-pointer",style:{alignSelf:"center"},onClick:e.onBack})})]})]})},NW=mt.Z.Title,EW=mt.Z.Paragraph,OW=function(e){var t=ed.Z.useForm(),n=(0,xe.Z)(t,1)[0],r=bt(Ur),i=bt(qr),a=bt((function(e){return e.session.user}),Zi()),o=(0,oe.useState)(""),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)("professional"),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)("english"),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)(""),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useState)([]),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useState)(!1),Z=(0,xe.Z)(S,2),N=Z[0],E=Z[1],O=(0,oe.useState)(0),A=(0,xe.Z)(O,2),T=A[0],P=A[1],M=(0,oe.useState)(void 0),I=(0,xe.Z)(M,2),D=I[0],L=I[1],R=(0,oe.useState)(!1),B=(0,xe.Z)(R,2),F=B[0],z=B[1],V=function(e){return 1===(null===e||void 0===e?void 0:e.permissions.billings.permissions.default.write)}(a),U=function(e){w(e),n.setFieldsValue({description:e})};(0,oe.useEffect)((function(){U(e.selectedInputFieldValue)}),[e.selectedInputFieldValue]);var H=function(){var t={max:200,message:Ua("Description cannot be longer than 200 characters","pushengage")};return C.length>0&&"notification_title"===e.selectedInputFieldKey?(t.max=85,t.message=Ua("Notification Title cannot be more than 85 characters","pushengage")):C.length>0&&"notification_message"===e.selectedInputFieldKey&&(t.max=135,t.message=Ua("Notification Message cannot be more than 135 characters","pushengage")),t},W=(0,oe.useState)(!1),q=(0,xe.Z)(W,2),K=q[0],Y=q[1];(0,oe.useEffect)((function(){e.open&&(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.prev=1,e.next=4,pW(i);case 4:n=e.sent,z(!(null!==(t=n.data)&&void 0!==t&&t.remaining_credit)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,Y(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,8,10,13]])})))()}),[i,e.open]);var G=function(e){var t,n=e.data.generated_sentences.map((function(e,t){return{label:e,value:"option_".concat(t+1)}}));j(n),P(0),null!==(t=e.meta)&&void 0!==t&&t.credit_usage_history_id&&L(e.meta.credit_usage_history_id)},Q=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Y(!0),e.next=4,cW(r,t);case 4:n=e.sent,G(n),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,Y(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Y(!0),e.next=4,cW(r,t);case 4:n=e.sent,G(n),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,Y(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uW(i,t.id,t.payload);case 3:n=e.sent,P(n.data.feedback),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),J=function(t){var n=t.rewrite,r=void 0!==n&&n;if(x){var i={description:x,type:"notification_title"===e.selectedInputFieldKey?"notification_title":"notification_message",count:3,tone:p,language:m};r?X(i):Q(i),c("")}},ee=function(){U(""),c(""),f("professional"),v("english"),j([])},te=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={feedback:t},D&&$({id:D,payload:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(gW,{visible:N,setVisible:function(e){E(e)}}),(0,st.jsx)(gt.Z,{destroyOnClose:!0,maskClosable:!1,width:650,visible:e.open,bodyStyle:{minHeight:380},className:"pe-ai-text-generate-modal",title:(0,st.jsx)(NW,{level:3,className:"pe-mb-0",children:Ua("Generate Text","pushengage")}),closeIcon:(0,st.jsx)($c,{className:"pe-fs-15 pe-fw-600"}),footer:[C.length>0&&(0,st.jsx)(pt.default,{type:"primary",className:"mr-12",disabled:K,onClick:function(){e.onInsert(e.selectedInputFieldKey,x),e.setOpen(!1),ee()},children:Ua("Insert","pushengage")},"insert"),(0,st.jsx)(pt.default,{type:"default",className:"pe-btn-secondary",disabled:K,onClick:function(){e.setOpen(!1),ee()},children:Ua("Cancel","pushengage")},"cancel")],onCancel:function(){K||(e.setOpen(!1),ee())},children:(0,st.jsxs)(Hc.default,{spinning:K,children:[(0,st.jsx)(EW,{className:"pe-fs-15 pe-fw-600 pe-mt-4 pe-mb-20",children:Ua("Give us a bit context for better text generation","pushengage")}),(0,st.jsxs)(ed.Z,{form:n,initialValues:{description:e.selectedInputFieldValue},onFinish:J,onValuesChange:function(e){U(e.description)},children:[(0,st.jsx)(ed.Z.Item,{validateFirst:!0,name:"description",rules:[{required:!0,whitespace:!0,message:function(){var t=Ua("Description cannot be empty","pushengage");return C.length>0&&"notification_title"===e.selectedInputFieldKey?t=Ua("Notification Title cannot be empty","pushengage"):C.length>0&&"notification_message"===e.selectedInputFieldKey&&(t=Ua("Notification Message cannot be empty","pushengage")),t}()},{max:H().max,message:H().message}],children:(0,st.jsx)(Yc.default,{id:"ai-text-generator-input",placeholder:function(){var t=Ua("Describe your text","pushengage");return C.length>0&&"notification_title"===e.selectedInputFieldKey?t=Ua("Enter notification title","pushengage"):C.length>0&&"notification_message"===e.selectedInputFieldKey&&(t=Ua("Enter notification message","pushengage")),t}(),suffix:C.length>0&&(0,st.jsx)(Ju.default,{size:15,children:(0,st.jsx)("div",{className:"ai-text-emoji",children:(0,st.jsx)(UN,{value:x,setValue:U,inputId:"ai-text-generator-input"})})})})}),(0,st.jsxs)(Ju.default,{size:10,className:"ai-text-tone-lang-generate-container",children:[(0,st.jsx)(Rv.default,{disabled:F||K,className:"ai-text-tone-lang-selector",value:p,optionLabelProp:"label",onChange:function(e){f(e)},children:ki.map((function(e){return(0,st.jsx)(Rv.default.Option,{value:e.value,label:p===e.value?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(oW,{className:"pe-mr-8"}),e.label]}):e.label,children:e.label},e.value)}))}),(0,st.jsx)(Rv.default,{disabled:F||K,className:"ai-text-tone-lang-selector",value:m,optionLabelProp:"label",onChange:function(e){v(e)},children:_i.map((function(e){return(0,st.jsx)(Rv.default.Option,{value:e.value,label:m===e.value?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(lW,{className:"pe-mr-8"}),e.label]}):e.label,children:e.label},e.value)}))}),(0,st.jsx)(pt.default,{loading:K,type:"primary",htmlType:"submit",className:"ai-text-generate-button",disabled:F||K,children:Ua("Generate Text","pushengage")})]})]}),F&&(0,st.jsxs)("div",{className:"pe-ta-center pe-mt-48",children:[(0,st.jsx)(EW,{className:"pe-ta-center",children:(0,st.jsx)(Au.default,{message:Ua("Your PushEngage account's AI credits are currently unavailable, either fully utilized or not yet purchased. Buy more credits to continue using AI features. Click the chart icon to view your usage details.","pushengage"),type:"warning",showIcon:!0})}),(0,st.jsxs)(Ju.default,{size:16,children:[(0,st.jsx)(ft.default,{title:V?"":Ua("You don't have permission to modify billing data. Please contact to your admin.","pushengage"),children:(0,st.jsx)(pt.default,{size:"small",type:"primary",disabled:!V,onClick:function(){window.open("".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({aiCreditsPurchaseModal:!0,utm_medium:"AiTextGenerator",utm_content:"Buy Now",feature:"AI Text Generator",ref:"buy_now_ai_text_generator"})),"_blank")},children:Ua("Buy Now","pushengage")})}),(0,st.jsx)(ft.default,{title:Ua("View your usage details","pushengage"),children:(0,st.jsx)(pt.default,{size:"small",shape:"circle",onClick:function(){E(!0)},children:(0,st.jsx)(Ov,{})})})]})]}),C.length>0&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ZW,{suggestions:C,rewritingText:K,generatingText:K,onRewrite:function(){return J({rewrite:!0})},selectedSuggestion:l,onSelectSuggestion:function(e){var t=C.find((function(t){return t.value===e.target.value}));U((null===t||void 0===t?void 0:t.label)||""),c(e.target.value)},onBack:function(){K||(j([]),U(e.selectedInputFieldValue))}}),(0,st.jsx)(wW,{feedback:T,sendFeedback:te})]})]})})]})},AW=mt.Z.Text,TW=function(e){var t,n,r,i,a=e.notification,o=e.onChange,s=e.type,l=(0,oe.useState)(!1),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)(""),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)(""),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.currentSite})),w=function(){return["generic","browse","trigger","price_drop","inventory"].includes(s)},k=Number(w()?200:85),_=Number(w()?200:135),C=Number(w()?300:1600);return(0,st.jsxs)("div",{children:[(0,st.jsx)(OW,{open:u,selectedInputFieldKey:h,selectedInputFieldValue:y,setOpen:function(e){d(e)},onInsert:function(e,t){o(e,t)}}),(0,st.jsx)(HN,{type:"text",id:"notification-title",label:Ua("Notification Title","pushengage"),className:"pe-notification-title",value:a.notification_title,setValue:function(e){return o("notification_title",e)},testId:"notificationTitle-".concat(s),limit:{value:k},errorMessage:null===(t=a.errors)||void 0===t?void 0:t.notification_title,hasEmoji:!0,isTextGenerator:!0,openAiTextGenerateModal:function(){d(!0),g("notification_title"),b(a.notification_title)}}),(0,st.jsx)(HN,{type:"text",label:Ua("Notification Message","pushengage"),className:"pe-notification-msg",value:a.notification_message,setValue:function(e){return o("notification_message",e)},limit:{value:_},errorMessage:null===(n=a.errors)||void 0===n?void 0:n.notification_message,hasEmoji:!0,id:"notification-message",isTextGenerator:!0,openAiTextGenerateModal:function(){d(!0),g("notification_message"),b(a.notification_message)}}),(0,st.jsx)(HN,{className:"pe-notification-url",value:a.notification_url,label:Ua("Notification URL","pushengage"),limit:{value:C},extra:(0,st.jsx)(AW,{type:"secondary",className:"darker",children:Ua("Example Notification URL : https://www.pushengage.com","pushengage")}),type:"text",setValue:function(e){return o("notification_url",e)},errorMessage:null===(r=a.errors)||void 0===r?void 0:r.notification_url}),w()?(0,st.jsx)(HN,{type:"text",value:a.notification_image,setValue:function(e){return o("notification_image",e)},label:Ua("Notification Image","pushengage"),testId:"notificationImage-".concat(s),limit:{value:300},errorMessage:null===(i=a.errors)||void 0===i?void 0:i.notification_image}):(0,st.jsxs)("div",{children:[(0,st.jsx)(AW,{className:"label-large",children:Ua("Notification Icon Image","pushengage")}),(0,st.jsx)(iW,{path:null===a||void 0===a?void 0:a.notification_image,onChange:o,currentSite:x})]})]})},PW=function(e){var t=e.path,n=e.onChange;return(0,st.jsx)("div",{className:"pe-notification-icon-image",children:(0,st.jsxs)(dt.Z,{align:"middle",gutter:[36,16],justify:"start",wrap:!1,children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)("div",{className:"pe-avatar-container",children:t?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("img",{src:t,alt:"notification icon"}),(0,st.jsx)(tU,{className:"pe-close-circle pe-fs-16 pe-color-neutral-40",onClick:function(){return n("")}})]}):(0,st.jsx)("div",{className:"pe-empty-image",children:(0,st.jsx)(lv,{})})})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsx)(hV,{title:Ua("Update Button Image","pushengage"),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(e)}))}),(0,st.jsx)(mt.Z.Paragraph,{type:"secondary",className:"pe-mb-0",children:Ua("Recommended size: 16px x 16px (JPG, PNG up to 1 MB)","pushengage")})]})]})})},MW=mt.Z.Title,IW=mt.Z.Text,DW=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,v,y,b=e.notification,x=e.onChange,w=e.togglePremium,k=e.type,_=be((function(e){return e.session.user})),C=null===b||void 0===b?void 0:b.actions,j=function(e,t){var n=e.split("."),r=Number(n[1]),i=n[2],a=Bi()(b);"label"===n[2]&&(a.actions[r].label=t),"url"===n[2]&&(a.actions[r].url=t),"image_url"===n[2]&&(a.actions[r].image_url=t),Ii()(a,"errors.actions.".concat(r,".").concat(i))&&(a.errors.actions[r][i]=""),x(a)},S=function(e){var t=Bi()(b),n=!1;if(Ed(_)&&(n=!0),n){w("show",Ua("Multi action is a pro feature","pushengage"),!0,"multiAction");var r=document.getElementById("page");r&&r.scrollIntoView({behavior:"smooth"}),t.multiAction=!1}else{var i;t.multiAction=e;var a=[];null!==t&&void 0!==t&&null!==(i=t.actions)&&void 0!==i&&i.length?a=(0,we.Z)(t.actions):("drip"===k&&(a=[{label:"",url:"",image_url:""}]),"drip"!==k&&(a=[{label:"",url:""}])),t.actions=a}x(t)},Z=function(){return"drip"===k?12:200},N=function(){return"drip"===k?256:300};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",className:"pe-mb-10",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsxs)(MW,{level:3,className:"pe-mb-0",children:[Ua("Multi Action Notification","pushengage"),!Kd(_)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:null===b||void 0===b?void 0:b.multiAction,onChange:function(e){return S(e)}})})]}),(0,st.jsx)(IW,{type:"secondary",className:"dark",children:Ua("Get more clicks with multiple call-to-action buttons.","pushengage")}),(null===b||void 0===b?void 0:b.multiAction)&&(0,st.jsxs)("div",{className:"pe-mt-24",children:[(0,st.jsx)(HN,{type:"text",value:(null===C||void 0===C||null===(t=C[0])||void 0===t?void 0:t.label)||"",setValue:function(e){return j("data.0.label",e)},label:Ua("First Button Title","pushengage"),testId:"action1ButTitle",limit:{value:Z()},errorMessage:null===b||void 0===b||null===(n=b.errors)||void 0===n||null===(r=n.actions)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.label}),(0,st.jsx)(HN,{type:"text",value:(null===C||void 0===C||null===(a=C[0])||void 0===a?void 0:a.url)||"",setValue:function(e){return j("data.0.url",e)},label:Ua("First Button URL","pushengage"),testId:"action1BtnUrl",limit:{value:N()},errorMessage:null===b||void 0===b||null===(o=b.errors)||void 0===o||null===(s=o.actions)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.url,extra:Ua("Example Notification URL : https://www.pushengage.com","pushengage")}),"drip"===k?(0,st.jsxs)("div",{children:[(0,st.jsx)(IW,{className:"label-large pe-mb-10",children:Ua("First Button Image","pushengage")}),(0,st.jsx)(PW,{path:C&&C.length>0&&(null===(c=C[0])||void 0===c?void 0:c.image_url)||"",onChange:function(e){return j("data.0.image_url",e)}})]}):null,(0,st.jsx)(Vy.default,{className:"pe-mt-20",defaultChecked:null===b||void 0===b?void 0:b.multiActionBtn2,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t,n=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.checked,r=Bi()(b);r.multiActionBtn2=n;var i=[],a="drip"===k?{label:"",url:"",image_url:""}:{label:"",url:""};i=!1===n?[b.actions[0]]:[b.actions[0],a],r.actions=i,x(r)})),children:Ua("Show Second Button","pushengage")}),(null===b||void 0===b?void 0:b.multiActionBtn2)&&(0,st.jsxs)("div",{className:"pe-mt-24",children:[(0,st.jsx)(HN,{type:"text",value:(null===C||void 0===C||null===(u=C[1])||void 0===u?void 0:u.label)||"",setValue:function(e){return j("data.1.label",e)},label:Ua("Second Button Title","pushengage"),testId:"action2ButTitle",limit:{value:Z()},errorMessage:null===b||void 0===b||null===(d=b.errors)||void 0===d||null===(p=d.actions)||void 0===p||null===(f=p[1])||void 0===f?void 0:f.label}),(0,st.jsx)(HN,{type:"text",value:(null===C||void 0===C||null===(h=C[1])||void 0===h?void 0:h.url)||"",setValue:function(e){return j("data.1.url",e)},label:Ua("Second Button URL","pushengage"),testId:"action2BtnUrl",limit:{value:N()},errorMessage:null===b||void 0===b||null===(g=b.errors)||void 0===g||null===(m=g.actions)||void 0===m||null===(v=m[1])||void 0===v?void 0:v.url,extra:Ua("Example Notification URL : https://www.pushengage.com","pushengage")}),"drip"===k?(0,st.jsxs)("div",{children:[(0,st.jsx)(IW,{className:"label-large pe-mb-10",children:Ua("Second Button Image","pushengage")}),(0,st.jsx)(PW,{path:C&&C.length>1&&(null===(y=C[1])||void 0===y?void 0:y.image_url)||"",onChange:function(e){return j("data.1.image_url",e)}})]}):null]})]})]})},LW=mt.Z.Paragraph,RW=function(e){var t=e.path,n=e.onChange,r=e.type,i=void 0===r?"notification_large_image":r,a=e.error;return(0,st.jsxs)("div",{className:"pe-notification-large-image",children:[(0,st.jsx)("div",{className:"pe-large-avatar-container",children:(0,st.jsx)("div",{className:"pe-large-avatar-with-close",children:t&&""!==t?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("img",{src:t,alt:"notification large icon"}),(0,st.jsx)(tU,{className:"pe-large-img-close pe-fs-16 pe-color-neutral-40",onClick:function(){return n(i||"notification_large_image","")}})]}):(0,st.jsx)("div",{className:"pe-empty-large-image",children:(0,st.jsx)(lv,{className:"pe-pa-36"})})})}),a?(0,st.jsx)("div",{className:"pe-ant-form-item-explain pe-ant-form-item-explain-error",children:a}):null,(0,st.jsxs)("div",{className:"pe-mt-24",children:[(0,st.jsx)(hV,{title:Ua("Update Notification Large Image","pushengage"),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(i||"notification_large_image",e)}))}),(0,st.jsx)(LW,{type:"secondary",className:"pe-mb-0 pe-mt-16",children:Ua("Chrome 56+ supports displaying a large image in your campaign. The recommended size of the image is 360*180px. The appearance may vary based on the user\u2019s browser and device.","pushengage")})]})]})};RW.defaultProps={type:"notification_large_image",error:void 0};var BW=RW,FW=function(e){return(0,st.jsxs)(dt.Z,{gutter:[20,10],children:[(0,st.jsx)(ht.Z,{flex:"none",className:"pe-pt-8",children:(0,st.jsx)(mt.Z.Text,{className:"pe-fw-600 large",children:Ua("Preview","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsxs)(Rv.default,{style:{marginLeft:4,width:"100%"},value:e.notificationPreviewPicker,dropdownClassName:"pe-ant-single-select-box",onChange:function(t){e.changePreviewType(t)},children:[(0,st.jsx)(Rv.default.Option,{value:"all",children:Ua("All","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"windows11--chrome",children:Ua("Windows 11 - Chrome","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"windows10--chrome",children:Ua("Windows 10 - Chrome","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"windows10--firefox",children:Ua("Windows 10 - Firefox","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"macos--chrome",children:Ua("MacOS - Chrome","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"android--chrome",children:Ua("Android - Chrome","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"ios--web",children:Ua("iOS - Web","pushengage")})]})})]})},zW=function(e,t,n){return Ai()(e,t).map((function(e){return{value:e,label:"".concat(e," ").concat(n)}}))},VW=function(e){var t=(0,oe.useState)(0),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useState)(0),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(0),u=(0,xe.Z)(c,2),d=u[0],p=u[1];(0,oe.useEffect)((function(){if(e.value){var t=ei().duration(e.value,"seconds");i(t.days()),l(t.hours()),p(t.minutes())}}),[e.value]);var f=function(t,n){var a,o,c;"days"===n&&(i(t),null===(a=e.onChange)||void 0===a||a.call(e,86400*t+3600*s+60*d,{days:t,hours:s,minutes:d}));"hours"===n&&(l(t),null===(o=e.onChange)||void 0===o||o.call(e,86400*r+3600*t+60*d,{days:r,hours:t,minutes:d}));"minutes"===n&&(p(t),null===(c=e.onChange)||void 0===c||c.call(e,86400*r+3600*s+60*t,{days:r,hours:s,minutes:t}))},h={width:"".concat(e.width||120,"px")};return(0,st.jsxs)(Ju.default,{direction:"horizontal",wrap:!0,size:e.gap||8,children:[(0,st.jsx)(Rv.default,{value:r,size:e.size||"middle",className:"".concat(e.className?e.className:""),style:h,dropdownClassName:"pe-ant-single-select-box",options:zW(0,(e.maxDayValue||28)+1,"days"),onChange:function(e){return f(e,"days")}}),(0,st.jsx)(Rv.default,{value:s,size:e.size||"middle",className:"".concat(e.className?e.className:""),style:h,dropdownClassName:"pe-ant-single-select-box",options:zW(0,24,"hours"),onChange:function(e){return f(e,"hours")}}),(0,st.jsx)(Rv.default,{value:d,size:e.size||"middle",className:"".concat(e.className?e.className:""),style:h,dropdownClassName:"pe-ant-single-select-box",options:zW(0,60,"minutes"),onChange:function(e){return f(e,"minutes")}})]})};VW.defaultProps={maxDayValue:28,value:86400,onChange:function(){},width:120,gap:8,size:"middle"};var UW=VW,HW=mt.Z.Text,WW=function(e){var t=e.duration,n=e.setDuration,r=e.error,i=e.width;return(0,st.jsxs)("div",{children:[(0,st.jsx)("div",{className:"pe-my-24",children:(0,st.jsx)(Vy.default,{checked:!!t.require_interaction,onChange:function(e){return n((0,kn.Z)((0,kn.Z)({},t),{},{require_interaction:e.target.checked?1:0}))},children:Ua("Keep notification open until interaction","pushengage")})}),(0,st.jsxs)("div",{className:"pe-pa-24 pe-bg-neutral-4",style:{borderRadius:"5px"},children:[(0,st.jsxs)(dt.Z,{className:"pe-mb-24",justify:"start",align:"middle",gutter:[0,10],children:[(0,st.jsx)(ht.Z,{flex:"110px",children:(0,st.jsxs)(HW,{className:"label-large",children:[Ua("Expires in","pushengage"),":"]})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsx)(UW,{value:t.expiry,maxDayValue:28,width:i||140,gap:4,onChange:function(e){n((0,kn.Z)((0,kn.Z)({},t),{},{expiry:e}))}}),r?(0,st.jsx)("div",{className:"pe-ant-form-item-explain pe-ant-form-item-explain-error",children:r}):null]})]}),(0,st.jsx)(HW,{type:"secondary",className:"dark",children:Ua("This is the expiry time for a notification. If a user is not available online with browser running, then the notification will be retried until expiration time. The maximum value is 28 days.","pushengage")})]})]})};WW.defaultProps={width:140};var qW=WW,KW=Rv.default.Option,YW=mt.Z.Title,GW=mt.Z.Text,QW=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,v,y,b,x,w,k,_,C,j,S,Z,N,E,O,A,T,P,M=e.type,I=e.campaign,D=e.index,L=e.notification,R=e.total,B=e.onUpdate,F=e.updateDuration,z=e.updateMultiActions,V=e.onRemove,U=e.onSort,H=e.onUpdateLargeImage,W=e.onScheduleOption,q=e.togglePremium,K=e.welcomeDrip,Y=e.children,G=(0,oe.useState)(!0),Q=(0,xe.Z)(G,2),X=Q[0],$=Q[1],J=bt((function(e){return e.session.currentSite})),ee=bt((function(e){return e.session.user}),Zi()),te=bt((function(e){var t;return null===(t=e.siteSettings.data.service_worker)||void 0===t?void 0:t.worker})),ne=(0,oe.useState)("windows11--chrome"),re=(0,xe.Z)(ne,2),ie=re[0],ae=re[1],se=bt(is),le=function(e,t){B(D,e,t)},ce=function(e){F(D,e)},ue=function(e){var t,n;"prev"===e?(t=D,n=D-1):(t=D,n=D+1),n&&(n>0||n<R)&&U(t,n)};return(0,st.jsxs)("li",{className:"pe-notification-builder-wrap",id:"notification-".concat(D),children:[(0,st.jsx)("div",{className:"pe-notification-builder-index".concat(R===D+1?" pe-no-side-border":""),children:(0,st.jsx)("div",{className:"sequence",children:D+1})}),(0,st.jsxs)("div",{className:"pe-notification-builder-content",children:[(0,st.jsxs)("div",{className:"pe-notification-label",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("span",{className:"pe-mr-12 pe-color-neutral-80 pe-fs-16",children:Ua("Send notification","pushengage")}),(0,st.jsxs)(Rv.default,{value:(null===L||void 0===L||null===(t=L.schedule_options)||void 0===t?void 0:t.type)||"after",style:{width:150},onChange:function(e){var t;t="immediately"===e?(0,kn.Z)((0,kn.Z)({},L.schedule_options),{},{type:e}):"next"===e?{value:0,unit:"dow",at:L.schedule_options.at||"08:00:00",type:e}:{value:1,unit:"days",at:L.schedule_options.at||"08:00:00",type:e},W(t,D)},id:"sending-type-".concat(D),className:"pe-mr-5",dropdownClassName:"pe-ant-single-select-box",size:"small",children:[0===D&&(0,st.jsx)(KW,{value:"immediately",children:Ua("Immediately","pushengage")}),Td(ee)&&K?null:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(KW,{value:"after",children:Ua("After","pushengage")}),"drip"===M&&(0,st.jsx)(KW,{value:"next",children:Ua("Next","pushengage")})]})]},"sending-type-".concat(D)),"immediately"!==(null===(n=L.schedule_options)||void 0===n?void 0:n.type)?(0,st.jsxs)(st.Fragment,{children:["after"===(null===(r=L.schedule_options)||void 0===r?void 0:r.type)?(0,st.jsxs)(st.Fragment,{children:["days"===L.schedule_options.unit?(0,st.jsx)(rW.Z,{value:Number(L.schedule_options.value),onChange:function(e){return W((0,kn.Z)((0,kn.Z)({},L.schedule_options),{},{value:e}),D)},className:"pe-mr-5",min:0,max:1825,id:"sending-days-".concat(D),size:"small"},"sending-days-".concat(D)):null,"minutes"===L.schedule_options.unit?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Rv.default,{style:{width:"100px"},value:Mo(null===L||void 0===L||null===(i=L.schedule_options)||void 0===i?void 0:i.value).hours,size:"small",id:"sending-hours-".concat(D),dropdownClassName:"pe-ant-single-select-box",onChange:function(e){var t;W((0,kn.Z)((0,kn.Z)({},L.schedule_options),{},{value:60*Number(e)+Number(Mo(null===L||void 0===L||null===(t=L.schedule_options)||void 0===t?void 0:t.value).minutes)}),D)},children:Ai()(0,24).map((function(e){return(0,st.jsxs)(KW,{value:e,children:[e," ",Ua("hr","pushengage")]},e)}))},"sending-hours-".concat(D)),(0,st.jsx)(Rv.default,{style:{width:"100px"},value:Mo(null===L||void 0===L||null===(a=L.schedule_options)||void 0===a?void 0:a.value).minutes,size:"small",className:"pe-mx-4",dropdownClassName:"pe-ant-single-select-box",id:"sending-minutes-".concat(D),onChange:function(e){var t;W((0,kn.Z)((0,kn.Z)({},L.schedule_options),{},{value:60*Number(Mo(null===L||void 0===L||null===(t=L.schedule_options)||void 0===t?void 0:t.value).hours)+Number(e)}),D)},children:Ai()(0,60).map((function(e){return(0,st.jsxs)(KW,{value:e,children:[e," ",Ua("min","pushengage")]},e)}))},"sending-minutes-".concat(D))]}):null,(0,st.jsxs)(Rv.default,{defaultValue:L.schedule_options.unit,style:{width:"100px"},size:"small",onChange:function(e){var t;t="days"===e?(0,kn.Z)((0,kn.Z)({at:"08:00:00"},L.schedule_options),{},{value:1,unit:"days",type:"after"}):(0,kn.Z)((0,kn.Z)({},L.schedule_options),{},{value:60,unit:"minutes",type:"after"}),W(t,D)},id:"sending-unit-".concat(D),dropdownClassName:"pe-ant-single-select-box",children:[(0,st.jsx)(KW,{value:"days",children:Ua("days","pushengage")}),(0,st.jsx)(KW,{value:"minutes",children:Ua("hr/min","pushengage")})]},"sending-unit-".concat(D))]}):null,"next"===(null===(o=L.schedule_options)||void 0===o?void 0:o.type)&&(0,st.jsxs)(Rv.default,{value:String(L.schedule_options.value),style:{width:"150px"},id:"sending-type-next-".concat(D),dropdownClassName:"pe-ant-single-select-box",onChange:function(e){return W((0,kn.Z)((0,kn.Z)({},L.schedule_options),{},{value:e}),D)},size:"small",children:[(0,st.jsx)(KW,{value:"0",children:Ua("Sunday","pushengage")}),(0,st.jsx)(KW,{value:"1",children:Ua("Monday","pushengage")}),(0,st.jsx)(KW,{value:"2",children:Ua("Tuesday","pushengage")}),(0,st.jsx)(KW,{value:"3",children:Ua("Wednesday","pushengage")}),(0,st.jsx)(KW,{value:"4",children:Ua("Thursday","pushengage")}),(0,st.jsx)(KW,{value:"5",children:Ua("Friday","pushengage")}),(0,st.jsx)(KW,{value:"6",children:Ua("Saturday","pushengage")})]},"sending-type-next-".concat(D)),"minutes"!==(null===(s=L.schedule_options)||void 0===s?void 0:s.unit)?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("span",{className:"pe-ml-16 pe-mr-20 pe-color-neutral-80 pe-fs-16",children:Ua("at","pushengage")}),(0,st.jsx)(WV.Z,{allowClear:!1,size:"small",style:{width:"110px"},use12Hours:!0,format:"h:mm A",value:ei()(L.schedule_options.at||"00:00:00","hh:mm:ss"),onChange:function(e){if(e){var t=e.format("HH:mm:ss");W((0,kn.Z)((0,kn.Z)({},L.schedule_options),{},{at:t}),D)}else W((0,kn.Z)((0,kn.Z)({},L.schedule_options),{},{at:void 0}),D)},id:"sending-options-".concat(D)},"sending-options-".concat(D))]}):null]}):null,(0,st.jsx)("span",{className:"pe-ml-20 pe-color-neutral-80 pe-fs-16",children:0===D?"after user subscribes":"after sending previous notification"})]}),null!==L&&void 0!==L&&null!==(l=L.errors)&&void 0!==l&&l.schedule_value?(0,st.jsx)("div",{className:"pe-color-red",children:null===L||void 0===L||null===(c=L.errors)||void 0===c?void 0:c.schedule_value}):null]}),(0,st.jsx)("div",{className:"pe-bg-white pe-notification-report",children:(0,st.jsxs)(dt.Z,{children:[0!==D&&(0,st.jsxs)("div",{className:"pe-move-next-prev",children:[(0,st.jsx)("p",{children:(0,st.jsx)(HU,{className:"pe-move-prev".concat(1===D?" pe-move-disabled":""),onClick:function(){return ue("prev")}})}),(0,st.jsx)("p",{children:(0,st.jsx)(Kf,{className:"pe-move-next".concat(R-1===D?" pe-move-disabled":""),onClick:function(){return ue("next")}})})]}),(0,st.jsx)(ht.Z,{sm:{span:1},xs:0,className:"drag-drop-icon-column align-center-flexbox",children:0!==D?Y:null}),(0,st.jsx)(ht.Z,{sm:{span:9},xs:{span:24},className:"pe-pt-10 pe-notification-border-bottom pe-notification-title".concat(X?" pe-content-subheader":" pe-active-content"),children:(0,st.jsx)(mt.Z.Title,{level:4,ellipsis:!0,className:"pe-fs-15 pe-color-neutral",children:L.notification_title||"Name of campaign"})}),(0,st.jsxs)(ht.Z,{sm:{span:8},xs:{span:24},className:"flexbox pe-stats-column pe-notification-border-bottom pe-fw-500",children:[(0,st.jsxs)("div",{title:"".concat((null===L||void 0===L||null===(u=L.analytics)||void 0===u?void 0:u.sentcount)||0),children:[(0,st.jsx)("p",{className:"pe-color-neutral pe-fs-16",children:wo(null===L||void 0===L||null===(d=L.analytics)||void 0===d?void 0:d.sentcount)}),(0,st.jsx)("p",{className:"pe-color-neutral-40 pe-fs-11",children:Ua("Sent","pushengage")})]}),(0,st.jsxs)("div",{title:"".concat((null===L||void 0===L||null===(p=L.analytics)||void 0===p?void 0:p.views)||0),children:[(0,st.jsx)("p",{className:"pe-color-neutral pe-fs-16",children:wo(null===L||void 0===L||null===(f=L.analytics)||void 0===f?void 0:f.views)}),(0,st.jsx)("p",{className:"pe-color-neutral-40 pe-fs-11",children:Ua("Seen","pushengage")})]}),(0,st.jsxs)("div",{title:"".concat((null===L||void 0===L||null===(h=L.analytics)||void 0===h?void 0:h.clicks)||0),children:[(0,st.jsx)("p",{className:"pe-color-neutral pe-fs-16",children:wo(null===L||void 0===L||null===(g=L.analytics)||void 0===g?void 0:g.clicks)}),(0,st.jsx)("p",{className:"pe-color-neutral-40 pe-fs-11",children:Ua("Clicked","pushengage")})]}),(0,st.jsxs)("div",{title:"".concat((null===L||void 0===L||null===(m=L.analytics)||void 0===m?void 0:m.ctr)||0,"%"),children:[(0,st.jsxs)("p",{className:"pe-color-neutral pe-fs-16",children:[wo(null===L||void 0===L||null===(v=L.analytics)||void 0===v?void 0:v.ctr),"%"]}),(0,st.jsx)("p",{className:"pe-color-neutral-40 pe-fs-11",children:Ua("CTR","pushengage")})]})]}),(0,st.jsx)(ht.Z,{sm:{span:4},xs:{span:24},className:"flexbox pe-stats-column pe-notification-border-bottom pe-fw-500",children:null!==(y=I.options)&&void 0!==y&&y.result_name?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"pe-mr-20",children:[(0,st.jsx)("p",{className:"pe-color-neutral pe-fs-16",children:wo(null===L||void 0===L||null===(b=L.result)||void 0===b||null===(x=b[(null===(w=I.options)||void 0===w?void 0:w.result_name)||""])||void 0===x?void 0:x.count)}),(0,st.jsx)("p",{className:"pe-fs-11 pe-color-neutral-40",children:Ua("Count","pushengage")})]}),(0,st.jsxs)("div",{children:[(0,st.jsxs)("p",{className:"pe-color-neutral pe-fs-16",children:[se,wo(null===L||void 0===L||null===(k=L.result)||void 0===k||null===(_=k[(null===(C=I.options)||void 0===C?void 0:C.result_name)||""])||void 0===_?void 0:_.value)]}),(0,st.jsx)("p",{className:"pe-fs-11 pe-color-neutral-40 pe-ellipsis",style:{maxWidth:80},children:(null===(j=I.options)||void 0===j?void 0:j.result_name)||""})]})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{title:Ua("Goal tracking not used","pushengage"),children:(0,st.jsx)("p",{className:"pe-color-neutral pe-fs-16",children:"--"})}),(0,st.jsx)("div",{title:Ua("Goal tracking not used","pushengage"),children:(0,st.jsx)("p",{className:"pe-color-neutral pe-fs-16",children:"--"})})]})}),(0,st.jsx)(ht.Z,{sm:{span:2},xs:{span:24},className:"flexbox pe-notification-actions pe-notification-border-bottom",children:(0,st.jsxs)("div",{className:"align-center-flexbox",children:[0!==D&&(0,st.jsx)(nW.Z,{placement:"topLeft",title:"Are you sure to delete this notification?",onConfirm:function(){V(D)},okText:"Yes",cancelText:"No",children:(0,st.jsx)(pt.default,{shape:"circle",className:"pe-mr-5",size:"small",children:(0,st.jsx)("span",{className:"pe-color-neutral-40",children:(0,st.jsx)(Nh,{})})})}),(0,st.jsx)(pt.default,{shape:"circle",size:"small",onClick:function(){return $((function(e){return!e}))},children:(0,st.jsx)("span",{className:"pe-color-neutral-40 ".concat(X?"icon-collapsed":"icon-expanded"),children:(0,st.jsx)(kd,{})})})]})})]})}),(0,st.jsx)("div",{className:"pe-notification-generator".concat(X?" pe-collapsible-content":" pe-collapsible-expanded"),children:(0,st.jsxs)(dt.Z,{align:"stretch",gutter:[4,16],children:[(0,st.jsxs)(ht.Z,{sm:{span:15},xs:{span:24},children:[(0,st.jsxs)(Wc.Z,{className:"pe-campaign-card top-left",bordered:!1,children:[(0,st.jsx)(YW,{level:3,className:"pe-fw-600 pe-lh-130 pe-mb-24",children:Ua("Notification Look and Design","pushengage")}),(0,st.jsx)(TW,{type:"drip",notification:L,onChange:function(e,t){return le(e,t)}}),"drip"===M?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("p",{className:"pe-mt-20",children:[(0,st.jsx)(Lv.Z,{checked:null===L||void 0===L?void 0:L.big_image_enabled,onChange:function(e){!e||Qd(ee)?le("big_image_enabled",e):q("show","",!0,"big_image_enabled")}}),(0,st.jsxs)("span",{className:"pe-ml-14 pe-fs-15 pe-fw-500",style:{verticalAlign:"middle"},children:[Ua("Show Large Image","pushengage"),!Qd(ee)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]})]}),(null===L||void 0===L?void 0:L.big_image_enabled)&&(0,st.jsx)("div",{className:"pe-show-large-image",children:(0,st.jsx)(BW,{path:L.big_image||"",onChange:function(e,t){H(D,t)}})})]}):(0,st.jsx)(HN,{type:"text",value:L.big_image||"",setValue:function(e){return le("big_image",e)},label:Ua("Notification Big Image","pushengage"),testId:"notificationBigImage",limit:{value:300},errorMessage:null===(S=L.errors)||void 0===S?void 0:S.big_image})]}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsx)(DW,{notification:L,onChange:function(e){z(D,e)},currentSite:J,togglePremium:q,type:M})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",className:"pe-mb-10",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(YW,{level:3,className:"pe-mb-0",children:Ua("Notification Duration","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:!(null===(Z=L.notification_duration)||void 0===Z||!Z.enabled),onChange:function(e){var t;return ce((0,kn.Z)({enabled:e,open_until_interaction:!(null===(t=L.notification_duration)||void 0===t||!t.open_until_interaction)},Po(L.expiry)))}})})]}),(0,st.jsx)(GW,{type:"secondary",className:"dark",children:Ua("Maximize your reach with custom notification durations (this feature is available for chrome 47 and above versions only).","pushengage")}),null!==(N=L.notification_duration)&&void 0!==N&&N.enabled?(0,st.jsx)(qW,{duration:{duration_enabled:!(null===L||void 0===L||!L.notification_duration.enabled),require_interaction:null!==L&&void 0!==L&&L.notification_duration.open_until_interaction?1:0,expiry:Number(L.expiry)},setDuration:function(e){return ce((0,kn.Z)({enabled:e.duration_enabled,open_until_interaction:!!e.require_interaction},Po(e.expiry)))},error:null===L||void 0===L||null===(E=L.errors)||void 0===E?void 0:E.expiry,width:130}):null]})})]}),(0,st.jsx)(ht.Z,{sm:{span:9},xs:{span:24},children:(0,st.jsxs)(Wc.Z,{className:"pe-campaign-card right",bordered:!1,style:{height:"100%"},children:[(0,st.jsx)(FW,{isIosPushAvailable:ee.site&&ee.site.is_android,isAndroidPushAvailable:ee.site&&ee.site.is_ios,changePreviewType:function(e){return ae(e)},notificationPreviewPicker:ie}),(0,st.jsx)(pt.default,{className:"pe-btn-secondary pe-mt-15 pe-mb-10 pe-fs-15",block:!0,onClick:function(){xb((0,kn.Z)((0,kn.Z)({},L),{},{serviceWorkerPath:te}))},children:Ua("Test Notification","pushengage")}),(0,st.jsx)(Cu.Z,{className:"pe-my-8 pe-mx-0"}),(0,st.jsx)($U,{title:(null===L||void 0===L?void 0:L.notification_title)||"Sample Title",message:(null===L||void 0===L?void 0:L.notification_message)||"Sample Message",url:/^https.+$/.test(null!==ee&&void 0!==ee&&ee.site?null===ee||void 0===ee||null===(O=ee.site)||void 0===O?void 0:O.site_url:"")?Jy(null!==ee&&void 0!==ee&&ee.site?null===ee||void 0===ee||null===(A=ee.site)||void 0===A?void 0:A.site_url:""):"".concat(null!==ee&&void 0!==ee&&ee.site?null===ee||void 0===ee||null===(T=ee.site)||void 0===T?void 0:T.site_subdomain:"",".pushengage.com"),imgUrl:L.notification_image,big_image:null!==L&&void 0!==L&&L.big_image_enabled&&null!==L&&void 0!==L&&L.big_image?null===L||void 0===L?void 0:L.big_image:"",siteName:(null===ee||void 0===ee||null===(P=ee.site)||void 0===P?void 0:P.site_name)||"",notificationPreviewPicker:ie,btn1:{title:L.multiAction&&L.actions&&L.actions.length>0&&L.actions[0]?L.actions[0].label||"Button1 text":"",url:L.multiAction&&L.actions&&L.actions.length>0&&L.actions[0]?L.actions[0].url:"",image_url:L.multiAction&&L.actions&&L.actions.length>0&&L.actions[0]?L.actions[0].image_url:""},btn2:{title:L.multiActionBtn2&&L.actions&&L.actions.length>1&&L.actions[1]?L.actions[1].label||"Button2 text":"",url:L.multiActionBtn2&&L.actions&&L.actions.length>1&&L.actions[1]?L.actions[1].url:"",image_url:L.multiActionBtn2&&L.actions&&L.actions.length>1&&L.actions[1]?L.actions[1].image_url:""},androidBtn1Label:Ii()(L,"app_push.android_push.action_buttons[0].label",""),androidBtn2Label:Ii()(L,"app_push.android_push.action_buttons[1].label",""),iosBtn1Label:Ii()(L,"app_push.ios_push.action_buttons[0].label",""),iosBtn2Label:Ii()(L,"app_push.ios_push.action_buttons[1].label",""),androidImageUrl:Ii()(L,"android_notification_image")||"",androidBigImageUrl:Ii()(L,"android_notification_big_image")||"",androidAccentColor:Ii()(L,"android_notification_accent_color")||"",iosBigImageUrl:Ii()(L,"ios_notification_big_image")||""})]})})]})})]})]})},XW=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 7 22",fill:"currentColor",focusable:"false","data-icon":"pe-appstore-outlined","aria-hidden":"true",children:[(0,st.jsx)("circle",{cx:"1",cy:"1",r:"1",fill:"#B6B6C2"}),(0,st.jsx)("circle",{cx:"1",cy:"6",r:"1",fill:"#B6B6C2"}),(0,st.jsx)("circle",{cx:"1",cy:"11",r:"1",fill:"#B6B6C2"}),(0,st.jsx)("circle",{cx:"1",cy:"16",r:"1",fill:"#B6B6C2"}),(0,st.jsx)("circle",{cx:"1",cy:"21",r:"1",fill:"#B6B6C2"}),(0,st.jsx)("circle",{cx:"6",cy:"1",r:"1",fill:"#B6B6C2"}),(0,st.jsx)("circle",{cx:"6",cy:"6",r:"1",fill:"#B6B6C2"}),(0,st.jsx)("circle",{cx:"6",cy:"11",r:"1",fill:"#B6B6C2"}),(0,st.jsx)("circle",{cx:"6",cy:"16",r:"1",fill:"#B6B6C2"}),(0,st.jsx)("circle",{cx:"6",cy:"21",r:"1",fill:"#B6B6C2"})]}))},$W=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:XW},e))},JW=_T((function(){return(0,st.jsx)($W,{className:"drag-drop-icon"})})),eq=DT((function(e){var t=e.type,n=e.campaign,r=e.notifications,i=e.n,a=e.index,o=e.notificationIndex,s=e.onScheduleOption,l=e.updateNotificationData,c=e.updateDuration,u=e.updateMultiActions,d=e.handleRemoveNotification,p=e.handleOnNotificationSort,f=e.handleOnUpdateLargeImage,h=e.togglePremium,g=e.welcomeDrip;return(0,st.jsx)(QW,{campaign:n,type:t,notification:i,index:o,total:r.length,onUpdate:l,updateDuration:c,updateMultiActions:u,onRemove:d,onSort:p,onScheduleOption:s,onUpdateLargeImage:f,togglePremium:h,welcomeDrip:g,children:(0,st.jsx)(JW,{})},a)})),tq=PT((function(e){var t=e.type,n=e.campaign,r=e.notifications,i=e.onScheduleOption,a=e.updateNotificationData,o=e.updateDuration,s=e.updateMultiActions,l=e.handleRemoveNotification,c=e.handleOnNotificationSort,u=e.handleOnUpdateLargeImage,d=e.togglePremium,p=e.welcomeDrip;return(0,st.jsx)("ul",{className:"pe-notification-builder-wrapper stepNotification__wrapper",children:r.map((function(e,f){return(0,st.jsx)(eq,{campaign:n,welcomeDrip:p,type:t,collection:0!==f?"1":"0",disabled:0===f,notifications:r,n:e,index:f,notificationIndex:f,onScheduleOption:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return i(e,f)})),updateNotificationData:a,updateDuration:o,updateMultiActions:s,handleRemoveNotification:l,handleOnNotificationSort:c,handleOnUpdateLargeImage:u,togglePremium:d},"item-".concat(e.rule_order))}))})})),nq=function(e){var t=e.campaign,n=e.notifications,r=e.onUpdate,i=e.togglePremium,a=e.template,o=e.welcomeDrip,s=bt((function(e){return e.globals.settings}),Zi()),l=bt((function(e){return e.session.user}),Zi());return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(tq,{campaign:t,welcomeDrip:o,type:a,onSortEnd:function(e){var t=e.oldIndex,i=e.newIndex,a=VA(n,t,i);r(a)},useDragHandle:!0,lockAxis:"y",pressDelay:200,helperClass:"stepNotification__dragging",onScheduleOption:function(e,t){return function(e,t){var i,a,o=Bi()(n);o[e].schedule_options=t,null!==(i=o[e])&&void 0!==i&&null!==(a=i.errors)&&void 0!==a&&a.schedule_value&&(o[e].errors.schedule_value=""),r(o)}(t,e)},notifications:n,updateNotificationData:function(e,t,i){var a=(0,we.Z)(n);a[e][t]=i,a[e].errors[t]="",r(a)},updateDuration:function(e,t){var i=24*Number(t.duration_in_days)*3600+3600*Number(t.duration_in_hours)+60*Number(t.duration_in_minutes),a=(0,we.Z)(n);a[e].notification_duration=t,a[e].expiry=i,a[e].errors=(0,kn.Z)((0,kn.Z)({},a[e].errors),{},{expiry:""}),r(a)},updateMultiActions:function(e,t){var i=Bi()(n);i[e]=t,r(i)},handleRemoveNotification:function(e){var t=Bi()(n),i=t.splice(e,1);if(i&&i.length>0){var a=t.filter((function(e){return i[0].rule_order!==e.rule_order}));r(a)}},handleOnNotificationSort:function(e,t){var i=VA(n,e,t);r(i)},handleOnUpdateLargeImage:function(e,t){var i=Bi()(n);i[e].big_image=t,r(i)},togglePremium:i}),(0,st.jsxs)("div",{style:{marginLeft:"60px"},children:[(0,st.jsxs)(pt.default,{type:"primary",onClick:function(){if(!Ud(l)&&o)i("show",Ua("Your plan doesn't support adding more notifications in welcome drip.","pushengage"),!0,"multipleNotification");else{var e,t,c=null===s||void 0===s||null===(e=s.default_notification_expiry)||void 0===e?void 0:e.value,u=(0,kn.Z)({enabled:!1,open_until_interaction:!0},Po(c)),d=Bi()(function(e){var t;return{analytics:{ctr:0,views:0,clicks:0,sentcount:0,unsubscribed:0,conversion_count:0,revenue:0},notification_title:"",notification_message:"",notification_url:"",notification_image:(null===e||void 0===e||null===(t=e.site)||void 0===t?void 0:t.site_image)||"",big_image:"",schedule_options:{type:"immediately"},multiAction:!1,multiActionBtn2:!1,actions:[{label:"",url:"",image_url:""}],rule_order:0,ri:"0",notification_duration:{enabled:!1,open_until_interaction:!0,duration_in_days:"",duration_in_hours:"",duration_in_minutes:""},expiry:1800,errors:Bi()(oE)}}(l));d.schedule_options.type="after",d.schedule_options.value=1,d.schedule_options.unit="days",d.schedule_options.at="08:00:00",d.notification_title=tE.title[a]||"",d.notification_message=tE.message[a]||"",d.notification_url=tE.url[a]||(null===(t=l.site)||void 0===t?void 0:t.site_url)||"",d.notification_image=tE.image_url[a]||d.notification_image,d.big_image=tE.big_image_url[a]||"";var p=[].concat((0,we.Z)(n),[(0,kn.Z)((0,kn.Z)({},d),{},{rule_order:(new Date).getTime(),ri:"0",expiry:c,notification_duration:u})]);r(p)}},size:"large",className:"pe-fs-15 pe-fw-600",children:[(0,st.jsx)(oU,{})," ",Ua("Add New Notification","pushengage")]}),!Ud(l)&&(0,st.jsx)(Gb,{plan:ii.GROWTH,bgColor:"#f8f8fb"})]})]})};nq.defaultProps={welcomeDrip:!1};var rq=nq,iq=mt.Z.Text,aq=function(e){var t=e.title,n=e.button,r=e.editable,i=e.validateCampaignName,a=e.children;return(0,st.jsxs)(dt.Z,{align:"middle",justify:"space-between",className:"pe-mb-16",gutter:[0,16],children:[r&&!r.editing?(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(ht.Z,{children:(0,st.jsxs)(Ju.default,{size:32,children:[(0,st.jsx)(iq,{className:"pe-fs-28 pe-lh-125 d-inline",children:t}),(0,st.jsx)("div",{children:a})]})})}):null,r&&null!==r&&void 0!==r&&r.editing?(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsx)("div",{children:(0,st.jsx)(Yc.default,{value:t,style:{maxWidth:"360px",fontSize:"20px"},className:"".concat(null!==r&&void 0!==r&&r.error?" pe-has-error":""),onChange:function(e){e.preventDefault(),function(e){null!==r&&void 0!==r&&r.onSave&&(null===r||void 0===r||r.onSave(e))}(e.target.value)},onBlur:function(e){var t,n;i&&e.target.value&&""!==e.target.value.trim()&&i(null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.trim())}})}),r.error?(0,st.jsx)("div",{className:"pe-ant-form-item-explain pe-ant-form-item-explain-error",children:r.error}):null]}):null,n?(0,st.jsx)(ht.Z,{children:(0,st.jsxs)(pt.default,{type:"primary",className:"pe-fs-15",onClick:n.onClick,children:[(0,st.jsx)(oU,{})," ",n.label]})}):null]})},oq=mt.Z.Title,sq=mt.Z.Text,lq=function(e){var t,n=e.title,r=e.messages;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(oq,{level:4,type:"danger",className:"pe-mb-4",children:n}),(t=r,0===t.length?null:(0,st.jsx)("ul",{className:"notification-error-message",children:t.map((function(e){return(0,st.jsx)("li",{children:(0,st.jsx)(sq,{type:"secondary",className:"dark",children:e})},e)}))}))]})},cq=function(){var e,t=yt(),n=(0,vt.s0)(),r=nx(),i=(0,vt.TH)(),a=(0,vt.UO)(),o=bt(Vr),s=bt((function(e){return e.session.currentSite})),l=bt((function(e){return e.session.user}),Zi()),c=bt((function(e){return e.globals.settings}),Zi()),u=(0,oe.useState)((function(){return sE(l,c)})),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)(!1),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)(0),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useState)(!1),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useState)("content"),Z=(0,xe.Z)(S,2),N=Z[0],E=Z[1],O=(0,oe.useState)(!1),A=(0,xe.Z)(O,2),T=A[0],P=A[1],M=(0,oe.useState)(!1),I=(0,xe.Z)(M,2),D=I[0],L=I[1],R=(0,oe.useState)(!1),B=(0,xe.Z)(R,2),F=B[0],z=B[1],V=(0,oe.useState)(!1),U=(0,xe.Z)(V,2),H=U[0],W=U[1],q=(0,oe.useState)(!1),K=(0,xe.Z)(q,2),Y=K[0],G=K[1],Q=(0,oe.useState)(!0),X=(0,xe.Z)(Q,2),$=X[0],J=X[1],ee=(0,oe.useState)(!1),te=(0,xe.Z)(ee,2),ne=te[0],re=te[1],ae=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(o){var c,u,d,p,h,g,m,y;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),t(ts({siteId:o,type:"city,country,state,device,device_type"})),Bd(l)&&t(Os(s)),e.prev=3,e.next=6,t(es({siteId:o})).unwrap();case 6:u=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),e.t0;case 12:if(d=(null===(c=u)||void 0===c?void 0:c.data)||{},p=!1,h=0,i.pathname!==$r.path.campaigns.createDrip){e.next=19;break}h=Number(r.get("duplicate")),e.next=25;break;case 19:if(h=Number(a.id)){e.next=24;break}return ie.default.error({message:Ua("Sorry, we could not find the drip.","pushengage")}),n($r.path.campaigns.createDrip),e.abrupt("return");case 24:p=!0;case 25:if(p||Vd(l)&&Ud(l)){e.next=29;break}return n($r.path.campaigns.drip),ie.default.error({message:Ua("Can't create drip in free & business plan","pushengage")}),e.abrupt("return");case 29:if(!h){e.next=47;break}return e.prev=30,m={},p&&(m={expand:"notification_analytics,result_analytics"}),e.next=35,DN(s,h,m);case 35:if(y=e.sent,g=null===y||void 0===y?void 0:y.data,Ud(l)&&zd(l)||g.drip_type===ci.WELCOME){e.next=41;break}return n($r.path.campaigns.drip),ie.default.error({message:Ua("Can't edit drip in free & business plan","pushengage")}),e.abrupt("return");case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(30),null!==e.t1&&void 0!==e.t1&&e.t1.status&&404===(null===e.t1||void 0===e.t1?void 0:e.t1.status)&&(n($r.path.campaigns.drip),ie.default.error({message:Ua("Sorry, we could not find the drip.","pushengage")})),e.t1;case 47:p&&(v(!0),w(h)),f(sE(l,d,g,p)),J(!1);case 50:case"end":return e.stop()}}),e,null,[[3,9],[30,43]])})));return function(t){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){if(!o)return ie.default.error({message:Ua("Site not connected!","pushengage"),description:Ua("Please connect your site first to create a drip autoresponders","pushengage")}),void n($r.path.campaigns.drip);ae(s)}),[s]);var se=function(){var e=function(e){var t=!1,n=(0,kn.Z)({},null===e||void 0===e?void 0:e.errors),r=[],i=(e.rule_set_name||"").trim();i?i.length>150&&(t=!0,n.rule_set_name=YN.limitDripCampaignName):(t=!0,n.rule_set_name=YN.emptyDripCampaignName);var a=e.notifications.map((function(e,n){var i=$N(e),a={index:n,messages:[]},o=!1;i.isValid||(o=!0,e.errors=(0,kn.Z)((0,kn.Z)({},e.errors),i.errors),a.messages=i.messages||[]);var s=e.schedule_options||{},l=s.type,c=s.value,u=void 0===c?0:c,d=s.unit;if("rightaway"!==l&&"next"!==l&&"immediately"!==l&&0===u){o=!0;var p="".concat(Ua("Notification delay should be greater than to 0","pushengage")," ").concat(d);e.errors=(0,kn.Z)((0,kn.Z)({},e.errors),{},{schedule_value:p}),a.messages.push(p)}if("rightaway"!==l&&"immediately"!==l&&"days"===d&&u>1825){o=!0;var f=Ua("Notification delay should be less than 1826 days","pushengage");e.errors=(0,kn.Z)((0,kn.Z)({},e.errors),{},{schedule_value:f}),a.messages.push(f)}return o&&(t=!0,r.push(a)),e}));return{hasErrors:t,errors:n,notiWithErrors:a,messages:r}}(Bi()(p)),t=e.hasErrors,n=e.errors,r=e.notiWithErrors,i=e.messages;return f((0,kn.Z)((0,kn.Z)({},Bi()(p)),{},{notifications:r,errors:n})),{isValid:!t,errors:n,messages:i}},le=function(){var e=function(e,t,n){var r,i,a,o,s,l,c,u,d,p,f=!1,h=(0,kn.Z)({},null===e||void 0===e?void 0:e.errors);if(null!==e&&void 0!==e&&null!==(r=e.utm_params)&&void 0!==r&&r.enabled){var g=QN(e);g.isValid||(f=!0,h=(0,kn.Z)((0,kn.Z)({},h),g.errors))}return qd(t)&&null!==n&&void 0!==n&&null!==(i=n.notification_analytics)&&void 0!==i&&null!==(a=i.result)&&void 0!==a&&a.enabled&&(null!==(o=e.options)&&void 0!==o&&o.result_name&&((null===(s=e.options)||void 0===s||null===(l=s.result_name)||void 0===l?void 0:l.length)<1||(null===e||void 0===e||null===(c=e.options)||void 0===c||null===(u=c.result_name)||void 0===u?void 0:u.length)>64)&&(f=!0,h.result_name=YN.limitGoalName),null!==(d=e.options)&&void 0!==d&&d.result_name&&!Gv.test(null===(p=e.options)||void 0===p?void 0:p.result_name)&&(f=!0,h.result_name=YN.invalidGoalName)),{hasErrors:f,errors:h,indexes:[]}}(p,l,c),t=e.hasErrors,n=e.errors,r=e.indexes;return f((0,kn.Z)((0,kn.Z)({},Bi()(p)),{},{errors:(0,kn.Z)({},n)})),{isValid:!t,errors:n,indexes:r}},ce=function(e){if("settings"===e){var t=se();if(!t.isValid){var n,r;if(null!==t&&void 0!==t&&null!==(n=t.messages)&&void 0!==n&&n.length)gt.Z.error({className:"pe-notification-validation-modal",width:"500px",content:(0,st.jsx)("div",{children:null===t||void 0===t||null===(r=t.messages)||void 0===r?void 0:r.map((function(e){return(0,st.jsx)(lq,{title:"".concat(ba(Ua("Notification %d has following errors.","pushengage"),Number(e.index)+1)),messages:e.messages},"index-".concat(e.index))}))}),okButtonProps:{size:"small"}});return}}E(e);var i=document.getElementById("pe-notification-automation-form");null===i||void 0===i||i.scrollIntoView({behavior:"smooth"})},ue=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var r,i,a,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re(!0),r=Bi()(p),i=se(),a=le(),i.isValid&&a.isValid){e.next=7;break}return ie.default.error({message:Ua("Please fix the validation error","pushengage")}),e.abrupt("return");case 7:return e.prev=7,e.next=10,cE(r,t,c);case 10:if(o=e.sent,!m||!x){e.next=16;break}return e.next=14,IN(s,x,o);case 14:e.next=18;break;case 16:return e.next=18,MN(s,o);case 18:ie.default.success({message:Ua(m?"Drip autoresponder updated":"Drip autoresponder created","pushengage")}),re(!1),n($r.path.campaigns.drip),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),re(!1),e.t0;case 27:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Pf,{title:Ua("Drip Autoresponders","pushengage")}),(0,st.jsxs)(iy,{children:[D&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.notificationAudience),{},{closeable:!0,onClose:function(){return L(!1)}})),Y&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.largeImageNotification),{},{closeable:!0,onClose:function(){G(!1)}})),H&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.multiActionNotification),{},{closeable:!0,onClose:function(){W(!1)}})),F&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.multipleNotificationInDrip),{},{closeable:!0,onClose:function(){z(!1)}})),T&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.drip),{},{closeable:!0})),$?(0,st.jsx)(rt.default,{active:!0}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(aq,{title:p.rule_set_name,editable:(null===p||void 0===p?void 0:p.drip_type)!==ci.WELCOME?{editing:C,onSave:function(e){var t=Bi()(p),n="";e&&""===e.trim()&&(n=YN.emptyDripCampaignName),e.length>150&&(n=YN.limitDripCampaignName),f((0,kn.Z)((0,kn.Z)({},t),{},{rule_set_name:e,errors:(0,kn.Z)((0,kn.Z)({},p.errors),{},{rule_set_name:n})}))},error:null===p||void 0===p||null===(e=p.errors)||void 0===e?void 0:e.rule_set_name}:{editing:!1},children:(null===p||void 0===p?void 0:p.drip_type)!==ci.WELCOME?(0,st.jsx)("span",{children:(0,st.jsx)(pt.default,{type:"text",size:"small",onClick:function(){return j(!0)},className:"pe-fw-400 pe-pl-0",icon:(0,st.jsx)(Oh,{}),children:(0,st.jsx)("span",{className:"underline-text",children:Ua("Edit series name","pushengage")})})}):null}),(0,st.jsx)(_H,{active:N,placement:"top",type:"drip",hasBottomBorder:"content"===N,onClick:function(e){return ce(e)},children:"content"===N&&(0,st.jsxs)(pt.default,{type:"primary",onClick:function(){return ce("settings")},size:"large",children:[Ua("Drip Settings","pushengage"),"\xa0 \u2192"]})}),(0,st.jsxs)(ed.Z,{layout:"vertical",size:"large",id:"pe-notification-automation-form",className:"pe-drip-campaign-form",children:["content"===N?(0,st.jsx)(rq,{campaign:p,notifications:p.notifications,onUpdate:function(e){f((0,kn.Z)((0,kn.Z)({},p),{},{notifications:e}))},togglePremium:function(e,t,n,r){"show"===e?"multiAction"===r?W(!0):"multipleNotification"===r?z(!0):"big_image_enabled"===r&&G(!0):P(!1)},template:"drip",welcomeDrip:(null===p||void 0===p?void 0:p.drip_type)===ci.WELCOME}):null,"settings"===N?(0,st.jsx)(tW,{campaign:p,setCampaign:function(e){return f(e)},onUpdate:function(e){f((0,kn.Z)({},e))},onSubmit:ue,submitStatus:ne,audienceModal:L,isEditing:m}):null]}),"content"===N&&(0,st.jsx)("div",{className:"pe-pb-64",children:(0,st.jsx)(_H,{placement:"bottom",active:N,hasTopBorder:!0,type:"drip",onClick:function(e){return ce(e)},children:(0,st.jsxs)(pt.default,{type:"primary",className:"pe-fs-15 pe-fw-600",onClick:function(){return ce("settings")},size:"large",children:[Ua("Drip Settings","pushengage")," \u2192"," "]})})})]})]})]})},uq=function(){return[{key:"",label:Ua("All","pushengage"),count:0},{key:"sent",label:Ua("Sent","pushengage"),count:0},{key:"draft",label:Ua("Draft","pushengage"),count:0},{key:"scheduled",label:Ua("Scheduled","pushengage"),count:0}]},dq=function(e){return[{key:"all",label:Ua("All","pushengage"),count:Number(e.sent+e.draft+e.scheduled)||0},{key:"sent",label:Ua("Sent","pushengage"),count:Number(e.sent)||0},{key:"draft",label:Ua("Draft","pushengage"),count:Number(e.draft)||0},{key:"scheduled",label:Ua("Scheduled","pushengage"),count:Number(e.scheduled)||0}]};function pq(e){var t=[];return!e||Wi()(e.value)||e.value.forEach((function(e){e.forEach((function(e){e.field!==yE.SEGMENTS||Wi()(e.value)||(Array.isArray(e.value)?t.push.apply(t,(0,we.Z)(e.value)):t.push(e.value))}))})),t}function fq(e){return!e||Wi()(Ii()(e,"value.0.0.field"))}function hq(e){var t;return Wi()(Ii()(e,"filter.value.0.0.field"))&&Wi()(null===e||void 0===e||null===(t=e.audience)||void 0===t?void 0:t.groups)}function gq(e,t,n){var r,i={filter:{value:[[{field:"",op:"",value:""}]]},audience:{groups:[]}};if(null!==n&&void 0!==n&&null!==(r=n.audience)&&void 0!==r&&r.groups&&(i.audience=null===n||void 0===n?void 0:n.audience),null!==n&&void 0!==n&&n.filter){var a=n.filter.value.map((function(e){return e.map((function(e){var t=e.field===yE.ATTRIBUTES?null!==e&&void 0!==e&&e.value?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return Array.isArray(e)?e.join(t):String(e)}(e.value):void 0:e.value;return{field:e.field,op:e.op,value:t,key:e.key}}))}));i.filter={value:a}}return i}function mq(e,t,n){var r,i,a,o,s,l,c,u,d,p,f,h=function(e,t){var n,r,i,a,o,s,l,c,u,d,p=(null===(n=t.timezone)||void 0===n?void 0:n.offset)||li.TZ_OFFSET;return{notification_title:"",notification_message:"",notification_url:"",notification_image:(null===e||void 0===e||null===(r=e.site)||void 0===r?void 0:r.site_image)||"",big_image:"",big_image_enabled:!1,multiAction:!1,multiActionBtn2:!1,actions:[{label:"",url:"",image_url:""},{label:"",url:"",image_url:""}],require_interaction:1,expiry:(null===t||void 0===t||null===(i=t.default_notification_expiry)||void 0===i?void 0:i.value)||li.EXPIRY,duration_enabled:!1,utm_params:{enabled:!(null===(a=t.utm_settings)||void 0===a||!a.enabled),utm_source:(null===(o=t.utm_settings)||void 0===o?void 0:o.utm_source)||"",utm_medium:(null===(s=t.utm_settings)||void 0===s?void 0:s.utm_medium)||"",utm_campaign:(null===(l=t.utm_settings)||void 0===l?void 0:l.utm_campaign)||"",utm_term:(null===(c=t.utm_settings)||void 0===c?void 0:c.utm_term)||"",utm_content:(null===(u=t.utm_settings)||void 0===u?void 0:u.utm_content)||""},notification_criteria:gq(),selectedAudienceType:gi.ALL,isIntelligentAB:!1,isSendToSample:!1,execution_state:{abc:{winner_delay:li.ABC_WINNER_DELAY,sent_limit_percentage:li.ABC_SENT_LIMIT_PERCENTAGE},params:{sent_limit:1},result_name:qd(e)&&null!==(d=t.notification_analytics)&&void 0!==d&&d.result.enabled?t.notification_analytics.result.result_name:"",resume_notification:0},options:{multi_site:{sites:[]}},sendInSubTimezone:!1,scheduleStatus:"now",scheduleType:ui.NOW,valid_from:ei()().utcOffset(p).add(10,"minutes").format("YYYY-MM-DD HH:mm:ss"),current_date_time:ei()().utcOffset(p).format("YYYY-MM-DD HH:mm:ss"),sche_options:{schedule_days:[],schedule_start_date:ei()().utcOffset(p).format("YYYY-MM-DD"),schedule_end_date:ei()().utcOffset(p).add(7,"d").format("YYYY-MM-DD"),schedule_time:["13:00:00"]},status:di.SENT,source:pi.DASHBOARD,maxSubCount:0,fetchingMaxSubCount:!1,notificationPreviewPicker:"all",errors:{notification_title:"",notification_message:"",notification_url:"",big_image:"",actions:[{label:"",url:"",image_url:""},{label:"",url:"",image_url:""}],expiry:"",utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:"",valid_from:"",multiSite:"",schedule_days:"",repeat_schedule_start_end_date:"",sent_limit:"",sent_limit_percentage:"",winner_delay:"",maxSubCount:""}}}(e,t);if(!n)return Wi()(null===h||void 0===h||null===(d=h.notification_criteria)||void 0===d||null===(p=d.audience)||void 0===p?void 0:p.groups)?hq(h.notification_criteria)?h.selectedAudienceType=gi.ALL:h.selectedAudienceType=gi.CUSTOM_AUDIENCE:h.selectedAudienceType=gi.AUDIENCE_GROUP,h;(h.notification_title=n.notification_title,h.notification_message=n.notification_message,h.notification_url=n.notification_url,h.notification_image=(null===n||void 0===n?void 0:n.notification_image)||"",h.big_image=(null===n||void 0===n?void 0:n.big_image)||"",h.big_image_enabled=!(null===n||void 0===n||!n.big_image),Qd(e)||(h.big_image_enabled=!1,h.big_image=""),n.actions&&n.actions.length>0&&Kd(e)&&(h.multiAction=!0,h.actions[0]=Li()(h.actions[0],n.actions[0]),n.actions.length>1&&(h.multiActionBtn2=!0,h.actions[1]=Li()(h.actions[1],n.actions[1]))),null!==n&&void 0!==n&&n.utm_params&&(h.utm_params=n.utm_params),h.expiry=n.expiry||(null===(r=t.default_notification_expiry)||void 0===r?void 0:r.value)||li.EXPIRY,h.require_interaction=n.require_interaction,(h.expiry!==(null===(i=t.default_notification_expiry)||void 0===i?void 0:i.value)&&h.expiry!==li.EXPIRY||1!==h.require_interaction)&&(h.duration_enabled=!0),h.status=n.status||di.SENT,n.source===pi.PARENT_SUB_TIMEZONE&&(h.sendInSubTimezone=!0,h.scheduleStatus="later",h.scheduleType=ui.SCHEDULE),vo(n.valid_from)||(h.scheduleStatus="later",h.scheduleType=ui.SCHEDULE,h.valid_from=n.valid_from),n.sche_options&&(h.scheduleStatus="later",h.scheduleType=ui.REPEAT_SCHEDULE,h.sche_options=Li()({},n.sche_options)),h.notification_criteria=gq(0,0,null===n||void 0===n?void 0:n.notification_criteria),Wi()(null===h||void 0===h||null===(a=h.notification_criteria)||void 0===a||null===(o=a.audience)||void 0===o?void 0:o.groups)?hq(h.notification_criteria)?h.selectedAudienceType=gi.ALL:h.selectedAudienceType=gi.CUSTOM_AUDIENCE:h.selectedAudienceType=gi.AUDIENCE_GROUP,h.execution_state=Li()(h.execution_state,n.execution_state),null!==(s=n.execution_state)&&void 0!==s&&s.abc?h.isIntelligentAB=!0:null!==(l=n.execution_state)&&void 0!==l&&null!==(c=l.params)&&void 0!==c&&c.sent_limit&&(h.isSendToSample=!0),qd(e)&&null!==(u=t.notification_analytics)&&void 0!==u&&u.result.enabled)?h.execution_state.result_name=null===(f=t.notification_analytics)||void 0===f?void 0:f.result.result_name:h.execution_state.result_name="";return h}function vq(e,t,n){if(!n)return{A:mq(e,t),B:mq(e,t)};var r=n;if(null!==r&&void 0!==r&&r.A&&null!==r&&void 0!==r&&r.B){var i=n;return{A:mq(e,t,i.A),B:mq(e,t,i.B)}}return{A:mq(e,t,n),B:mq(e,t)}}function yq(){return{date_range:{from:null,to:null},sources:[],tags:[],tags_exclude:[]}}function bq(){return(0,ti.Z)({},mi.DESC,hi.CREATED_AT)}function xq(e){var t=[{key:"".concat(mi.DESC,":").concat(hi.CREATED_AT),label:Ua("Latest Created","pushengage")},{key:"".concat(mi.ASC,":").concat(hi.CREATED_AT),label:Ua("Oldest Created","pushengage")}];return e===fi.SENT?[].concat(t,[{key:"".concat(mi.DESC,":").concat(hi.SENT_AT),label:Ua("Latest Sent","pushengage")},{key:"".concat(mi.ASC,":").concat(hi.SENT_AT),label:Ua("Oldest Sent","pushengage")},{key:"".concat(mi.DESC,":").concat(hi.SENT_COUNT),label:Ua("Highest Sent","pushengage")},{key:"".concat(mi.ASC,":").concat(hi.SENT_COUNT),label:Ua("Lowest Sent","pushengage")},{key:"".concat(mi.DESC,":").concat(hi.VIEW_COUNT),label:Ua("Highest Viewed","pushengage")},{key:"".concat(mi.ASC,":").concat(hi.VIEW_COUNT),label:Ua("Lowest Viewed","pushengage")},{key:"".concat(mi.DESC,":").concat(hi.CLICK_COUNT),label:Ua("Most Clicked","pushengage")},{key:"".concat(mi.ASC,":").concat(hi.CLICK_COUNT),label:Ua("Least Clicked","pushengage")}]):e===fi.SCHEDULED?[].concat(t,[{key:"".concat(mi.ASC,":").concat(hi.SCHEDULE_DATE),label:Ua("Schedule Date","pushengage")}]):t}var wq=rc,kq=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({viewBox:"0 0 512 512",focusable:"false","data-icon":"filter",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},e),{},{children:(0,st.jsx)("path",{d:"M479.968 0H32.038C3.613 0-10.729 34.487 9.41 54.627L192 237.255V424a31.996 31.996 0 0 0 10.928 24.082l64 55.983c20.438 17.883 53.072 3.68 53.072-24.082V237.255L502.595 54.627C522.695 34.528 508.45 0 479.968 0zM288 224v256l-64-56V224L32 32h448L288 224z"})}))},_q=function(e){return(0,st.jsx)(wq,(0,kn.Z)({component:kq},e))},Cq=mt.Z.Text,jq=function(e){var t=e.activeNav,n=e.onChange,r=e.initialFilter,i=e.initialUnfilteredTotal,a=bt(Vr),o=(0,oe.useState)(!1),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=bt(rs),g=(0,oe.useState)(r),m=(0,xe.Z)(g,2),v=m[0],y=m[1];(0,oe.useEffect)((function(){y(r)}),[r]),(0,oe.useEffect)((function(){l||p||y(r)}),[l,p,r]);return(0,st.jsx)(Xu.default,{overlay:(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)(Wc.Z,{title:(0,st.jsxs)(dt.Z,{justify:"space-between",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",disabled:!a,onClick:function(){n({date_range:{from:null,to:null},sources:[],tags:[],tags_exclude:[]}),c(!1),f(!0)},children:Ua("Clear","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{type:"primary",size:"small",disabled:!a,onClick:function(){n(v),c(!1),f(!0)},className:"pe-mr-10 pe-ant-btn-xs pe-fw-700",children:Ua("Apply","pushengage")})})]}),style:{width:"310px",maxHeight:"500px",overflow:"auto"},bordered:!0,className:"pe-app-filter-card",bodyStyle:{padding:"16px 14px"},children:[(0,st.jsxs)("div",{className:"pe-mb-8",children:[(0,st.jsx)(Cq,{className:"pe-d-inline pe-color-neutral-60 pe-fs-13 pe-fw-600",children:Ua("Sent Between","pushengage")}),(0,st.jsx)(ft.default,{title:"Date range filter is only applicable for sent notifications.",placement:"top",children:(0,st.jsx)(Mv,{className:"pe-color-neutral-40 pe-fs-12 pe-ml-8"})})]}),(0,st.jsx)(zf.default.RangePicker,{disabledDate:function(e){return e&&e>=ei()().utcOffset(h).endOf("day")},disabled:t!==fi.SENT,placeholder:["From","To"],className:"pointer",suffixIcon:(0,st.jsx)(Uf,{}),allowClear:!0,size:"small",onChange:function(e){y((0,kn.Z)((0,kn.Z)({},v),{},{date_range:{from:e&&e.length>0&&e[0]?e[0]:null,to:e&&e.length>1&&e[1]?e[1]:null}}))},value:[v.date_range.from,v.date_range.to],ranges:nb(h,!0),format:"MMM DD, YYYY",allowEmpty:[!0,!0]}),(0,st.jsx)("div",{className:"pe-my-12",children:(0,st.jsx)(Cq,{className:"pe-color-neutral-60 pe-d-inline pe-fs-13 pe-fw-600",children:Ua("Source","pushengage")})}),(0,st.jsx)(Vy.default.Group,{className:"pe-source-checkbox-group",options:[{label:Ua("API","pushengage"),value:"API"},{label:Ua("Dashboard","pushengage"),value:"Dashboard"},{label:Ua("RSS Feed","pushengage"),value:"rss_feed"},{label:Ua("Repeat Schedule","pushengage"),value:"repeat_scheduled"}],value:v.sources,onChange:function(e){return y((0,kn.Z)((0,kn.Z)({},v),{},{sources:e}))}}),i>4e3&&(0,st.jsx)(Au.default,{className:"pe-mb-12 pe-fs-12 pe-my-12",type:"warning",description:Ua("Tags filter query is only applicable for the first 4000 notifications.","pushengage")}),(0,st.jsx)("div",{className:"pe-my-12",children:(0,st.jsx)(Cq,{className:"pe-color-neutral-60 pe-d-inline pe-fs-13 pe-fw-600",children:Ua("Tags Included","pushengage")})}),(0,st.jsx)(Rv.default,{mode:"tags",maxTagCount:5,style:{width:"100%"},placeholder:Ua("Select tags","pushengage"),value:v.tags,options:Ci.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{disabled:v.tags.length>=5&&!v.tags.includes(e.value)})})),onChange:function(e){return y((0,kn.Z)((0,kn.Z)({},v),{},{tags:e}))}}),(0,st.jsx)("div",{className:"pe-my-12",children:(0,st.jsx)(Cq,{className:"pe-color-neutral-60 pe-d-inline pe-fs-13 pe-fw-600",children:Ua("Tags Excluded","pushengage")})}),(0,st.jsx)(Rv.default,{mode:"tags",maxTagCount:5,style:{width:"100%"},placeholder:Ua("Select tags","pushengage"),value:v.tags_exclude,options:Ci.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{disabled:v.tags_exclude.length>=5&&!v.tags_exclude.includes(e.value)})})),onChange:function(e){return y((0,kn.Z)((0,kn.Z)({},v),{},{tags_exclude:e}))}})]})}),trigger:["click"],visible:l,destroyPopupOnHide:!0,onVisibleChange:c,placement:"bottomLeft",children:(0,st.jsx)(gO.Z,{count:function(){var e,n,i;return(t===fi.SENT&&r.date_range.from&&r.date_range.to?1:0)+((null===r||void 0===r||null===(e=r.sources)||void 0===e?void 0:e.length)||0)+((null===r||void 0===r||null===(n=r.tags)||void 0===n?void 0:n.length)||0)+((null===r||void 0===r||null===(i=r.tags_exclude)||void 0===i?void 0:i.length)||0)}()||0,size:"small",children:(0,st.jsx)(pt.default,{size:"small",onClick:function(){c((function(e){return!e}))},className:"pe-px-10 pe-fw-600 pe-fs-13",icon:(0,st.jsx)(_q,{className:"pe-fs-11"}),children:Ua("Filter","pushengage")})})})},Sq=function(e){var t=e.items,n=e.onChange,r=e.onExport,i=e.exporting,a=e.activeNav,o=e.onFilter,s=e.initialFilter,l=e.total,c=e.initialUnfilteredTotal,u=function(){return l>4e3},d=bt(Vr);return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Rv.default,{defaultValue:"all",value:a,size:"small",onChange:n,style:{width:132},className:"pe-mr-8 pe-fs-13",showArrow:!0,dropdownClassName:"pe-ant-single-select-box",children:t.map((function(e){return(0,st.jsxs)(Rv.default.Option,{value:e.key,children:[e.label,"\xa0(",e.count>0?wo(Number(e.count)):0,")"]},e.key)}))}),(0,st.jsx)(jq,{activeNav:a,onChange:o,initialFilter:s,initialUnfilteredTotal:c}),(0,st.jsx)(ft.default,{placement:"top",title:u()?ba(Ua("We cannot export more than %d entries at a time.","pushengage"),4e3):void 0,children:(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-ant-btn-export",icon:(0,st.jsx)(Th,{}),disabled:i||u()||!d,onClick:r,loading:i,children:Ua("Export","pushengage")})})]})},Zq=function(e){var t=e.message,n=e.onClose;return(0,st.jsx)(gt.Z,{title:"OOPS!!",visible:!0,onCancel:function(){return n()},destroyOnClose:!0,className:"no-border",closeIcon:(0,st.jsx)($c,{}),footer:[(0,st.jsx)(pt.default,{type:"primary",size:"small",onClick:function(){return n()},children:Ua("Okay","pushengage")},"close-btn")],children:(0,st.jsx)(mt.Z.Title,{level:4,className:"ta-center",children:t})})},Nq=function(e){var t=e.activeNav,n=e.total,r=e.onSort,i=bt(Vr),a=(0,oe.useState)("".concat(mi.DESC,":").concat(hi.CREATED_AT)),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)({show:!1,message:""}),u=(0,xe.Z)(c,2),d=u[0],p=u[1];(0,oe.useEffect)((function(){t===fi.SENT?l("".concat(mi.DESC,":").concat(hi.SENT_AT)):t===fi.SCHEDULED?l("".concat(mi.ASC,":").concat(hi.SCHEDULE_DATE)):l("".concat(mi.DESC,":").concat(hi.CREATED_AT))}),[t]);return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(mt.Z.Text,{className:"pe-mr-20",children:ba(Ua(" %d items","pushengage"),n)}),(0,st.jsx)(Rv.default,{value:s,size:"small",onChange:function(e){if(i){var a=e.split(":");if(2===a.length){var o=(0,ti.Z)({},a[0],a[1]);if(function(e,t){var n=e.order_by_asc||e.order_by_desc||"";return!!([hi.CLICK_COUNT,hi.VIEW_COUNT,hi.SENT_COUNT].includes(n)&&t>4e3)}(o,n)){var c=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===(e=xq(t).find((function(e){return e.key===(n||s)})))||void 0===e?void 0:e.label}(e),u=ba(Ua("The sorting for %1$s option is limited upto %2$d entries. Please use the date range filter to reduce the number of entries."),c,4e3);p({show:!0,message:u})}else l(e),r(o)}}},style:{width:140},dropdownClassName:"pe-ant-single-select-box",children:xq(t).map((function(e){return(0,st.jsx)(Rv.default.Option,{value:e.key,children:e.label},e.key)}))}),d.show?(0,st.jsx)(Zq,{message:d.message,onClose:function(){return p({show:!1,message:""})}}):null]})},Eq=mt.Z.Text,Oq=function(e){var t=e.filter,n=bt((function(e){var t,n;return null===(t=e.audiences)||void 0===t||null===(n=t.segments)||void 0===n?void 0:n.data}),Zi()),r=function(){var e={};return xE.forEach((function(t){e[t.value]=t.label})),e}(),i=function(e){var t=1440;return e&&e>=t&&e%t===0?"".concat(e/t," ").concat(Ua("days","pushengage")):e&&e>=60&&e%60===0?"".concat(e/60," ").concat(Ua("hours","pushengage")):"".concat(e," ").concat(Ua("minutes","pushengage"))},a=function(e,t){var a,o=r[e.field],s=_E[e.op],l=Array.isArray(e.value),c="";switch(e.field){case yE.ATTRIBUTES:e.key&&(a=e.key),c=Array.isArray(null===e||void 0===e?void 0:e.value)?null===e||void 0===e?void 0:e.value.join(", "):e.value;break;case yE.SEGMENTS:c=function(e){var t,r;return Array.isArray(e.value)?e.value.map((function(t){var r,i,a=null===(r=e.segment_list)||void 0===r?void 0:r.find((function(e){return e.segment_id===t}));return a?a.segment_name:(null===(i=a=n.find((function(e){return e.segment_id===t})))||void 0===i?void 0:i.segment_name)||t})).join(", "):(null===(t=e.segment_list)||void 0===t||null===(r=t.find((function(t){return t.segment_id===e.value})))||void 0===r?void 0:r.segment_name)||n.find((function(e){return e.segment_id})).segment_name||e.value}(e);break;case yE.TS_CREATED:case yE.TS_LAST_CLICK:case yE.TS_LAST_SENT:case yE.TS_LAST_VIEW:c=bE.TS_ELAPSED_GT===e.op||bE.TS_ELAPSED_LT===e.op?i(e.value):bE.TS_ELAPSED_GT===e.op?"".concat(i(e.value)," ").concat(Ua("ago","pushengage")):mo(e.value,"MMM DD, YYYY hh:mm A");break;default:c=Array.isArray(e.value)?e.value.join(", "):e.value}return(0,st.jsxs)("div",{className:"pe-d-inline",children:[(0,st.jsx)(Eq,{type:"secondary",className:"pe-mr-4",children:o}),a&&(0,st.jsx)(Eq,{type:"secondary",className:"pe-mr-4",children:a}),(0,st.jsx)(Eq,{type:"secondary",className:"pe-mr-4",children:s}),(0,st.jsx)(Eq,{type:"secondary",className:"pe-mr-4",children:l?"[ ".concat(c," ]"):c}),t?"":(0,st.jsx)(Eq,{strong:!0,type:"secondary",children:Ua("AND","pushengage")})]})};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Eq,{type:"secondary",className:"pe-fw-700 pe-fs-16",children:[Ua("Send to Custom Audience","pushengage"),":"]}),(0,st.jsx)("br",{}),(0,st.jsx)(Tf,{className:"pe-bg-neutral-4 pe-pa-8 pe-mt-16 pe-no-shadow",children:t.value.map((function(e,n){return(0,st.jsxs)(st.Fragment,{children:[e.map((function(t,r){return(0,st.jsx)(Eq,{type:"secondary",className:"pe-mr-4 pe-fw-500",children:a(t,e.length<=r+1)},"option-".concat(n,"-").concat(r))})),t.value.length-1>n?(0,st.jsx)(Cu.Z,{plain:!0,className:"pe-my-16",children:Ua("OR","pushengage")}):""]})}))})]})},Aq=function(e){var t,n,r=e.criteria;if(null!==(t=r.audience)&&void 0!==t&&t.groups){var i=r.audience.groups,a=r.audience.group_list;return(0,st.jsxs)(Eq,{type:"secondary",className:"pe-fw-700 pe-fs-16",children:[Ua("Send to Audience Group","pushengage"),":",(0,st.jsx)("br",{}),i.map((function(e){var t;return(0,st.jsx)(ot.rU,{to:$r.path.audience.audienceGroups+"?editableId=".concat(e),className:"pe-mr-4 pe-fw-500",children:(null===a||void 0===a||null===(t=a.find((function(t){return t.id===e})))||void 0===t?void 0:t.name)||e},e)}))]})}return!(n=r.filter)||Wi()(n)||Wi()(n.value)||Wi()(n.value[0])?(0,st.jsx)(Eq,{type:"secondary",className:"dark pe-fw-500",children:Ua("Send to All Subscribers","pushengage")}):(0,st.jsx)(Oq,{filter:r.filter})},Tq=["children"],Pq=mt.Z.Text,Mq=mt.Z.Title,Iq=function(e){var t=e.children,n=(0,Sl.Z)(e,Tq);return(0,st.jsx)("div",(0,kn.Z)((0,kn.Z)({},n),{},{className:"pe-notification-details-section pe-bg-white ".concat(n.className||""),children:t}))},Dq=function(e){var t=e.label,n=e.text;return(0,st.jsxs)(dt.Z,{className:"pe-mb-16",gutter:[8,4],children:[(0,st.jsx)(ht.Z,{sm:8,xs:24,children:(0,st.jsx)(Pq,{className:"pe-fs-13 pe-fs-16 pe-fw-700",children:t})}),(0,st.jsx)(ht.Z,{xs:24,sm:16,style:{wordBreak:"break-word"},className:"pe-fs-16 pe-fw-500 pe-color-neutral-60",children:n})]})},Lq=function(e){var t=Po(60*e),n=t.duration_in_days,r=t.duration_in_hours,i=t.duration_in_minutes;return"".concat(n," ").concat(Ua("days","pushengage")," ").concat(r," ").concat(Ua("hours","pushengage")," ").concat(i," ").concat(Ua("minutes","pushengage"))},Rq=function(e){var t=ei().duration(e,"seconds"),n=[];return t.days()>0&&n.push("".concat(t.days()," ").concat(Ua("days","pushengage"))),t.hours()>0&&n.push("".concat(t.hours()," ").concat(Ua("hours","pushengage"))),t.minutes()>0&&n.push("".concat(t.minutes()," ").concat(Ua("minutes","pushengage"))),n.join(" ")},Bq=function(e){var t,n=e.notification;return(0,st.jsxs)("div",{className:"pe-mt-20",children:[(0,st.jsx)(Mq,{level:4,className:"pe-mb-16 pe-fs-18 pe-fw-700",children:Ua("Info","pushengage")}),(0,st.jsx)(Dq,{label:"Id",text:n.notification_id}),(0,st.jsx)(Dq,{label:Ua("Created At","pushengage"),text:ei()(n.created_at).isValid()?mo(n.created_at):null}),vo(n.valid_from)?null:n.sche_options?(0,st.jsx)(Dq,{label:Ua("Scheduled Between","pushengage"),text:"".concat(mo(n.sche_options.schedule_start_date,"MMM DD, YYYY"),"\n                and ").concat(mo(n.sche_options.schedule_end_date,"MMM DD, YYYY"),"\n                on every ").concat(n.sche_options.schedule_days.map((function(e){return Ei()(e)})).join(", "),"\n                at ").concat((t=n.sche_options.schedule_time,t.map((function(e){var t=e.split(":"),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a="AM";return r<24&&r>=12&&(a="PM"),r>12&&(r-=12),"00"===r&&(r=12),"".concat(r,":").concat(i," ").concat(a)})).join(", ")),"\n            ")}):(0,st.jsx)(Dq,{label:Ua("Scheduled on","pushengage"),text:ei()(n.valid_from).isValid()?mo(n.valid_from):null}),!vo(n.sent_at)&&(0,st.jsx)(Dq,{label:(0,st.jsx)(ft.default,{title:n.source===pi.PARENT_SUB_TIMEZONE?"".concat(Ua("The sending of the timezone notification was initiated at","pushengage")," ").concat(mo(n.sent_at)," , ").concat(Ua("to meet the scheduled delivery time of","pushengage")," ").concat(n.valid_from," ").concat(Ua("for all subscribers.","pushengage")):void 0,children:(0,st.jsx)("div",{children:n.source===pi.PARENT_SUB_TIMEZONE?(0,st.jsxs)(st.Fragment,{children:[Ua("Sending initiated At","pushengage")," ",(0,st.jsx)(yg,{className:"pe-color-neutral-6 pe-fs-14"})]}):(0,st.jsx)(st.Fragment,{children:Ua("Sent At","pushengage")})})}),text:ei()(n.sent_at).isValid()?mo(n.sent_at):"N/A"}),n.expiry&&(0,st.jsx)(Dq,{label:Ua("Expires In","pushengage"),text:Rq(n.expiry)}),(0,st.jsx)(Dq,{label:Ua("URL","pushengage"),text:(0,st.jsx)("a",{href:n.final_url,target:"_blank",rel:"noreferrer",children:n.final_url})}),n.actions&&n.actions[0]?(0,st.jsx)(Dq,{label:Ua("Button 1 URL","pushengage"),text:(0,st.jsx)("a",{href:n.actions[0].final_url,target:"_blank",rel:"noreferrer",children:n.actions[0].final_url})}):null,n.actions&&n.actions[1]?(0,st.jsx)(Dq,{label:Ua("Button 2 URL","pushengage"),text:(0,st.jsx)("a",{href:n.actions[1].final_url,target:"_blank",rel:"noreferrer",children:n.actions[1].final_url})}):null]})},Fq=function(e){var t=e.notification;return(0,st.jsxs)(dt.Z,{gutter:[18,18],children:[(0,st.jsxs)(ht.Z,{span:12,children:[(0,st.jsxs)("p",{className:"pe-mb-5 pe-fs-16 pe-color-neutral-50",children:[(0,st.jsx)("span",{className:"pe-d-inline-block pe-w-120 pe-fw-700",children:Ua("Sent","pushengage")}),(0,st.jsx)("span",{className:"pe-fw-500",children:ko(t.sentcount)})]}),(0,st.jsxs)("p",{className:"pe-mb-5 pe-fs-16 pe-color-neutral-50",children:[(0,st.jsx)("span",{className:"pe-d-inline-block pe-w-120 pe-fw-700",children:Ua("Seen","pushengage")}),(0,st.jsx)("span",{className:"pe-fw-500",children:ko(t.viewcount)})]}),(0,st.jsxs)("p",{className:"pe-fs-16 pe-color-neutral-50",children:[(0,st.jsx)("span",{className:"pe-d-inline-block pe-w-120 pe-fw-700",children:Ua("Clicked","pushengage")}),(0,st.jsx)("span",{className:"pe-fw-500",children:ko(t.clickcount+t.clickcount1+t.clickcount2)})]})]}),(0,st.jsxs)(ht.Z,{span:12,children:[(0,st.jsxs)("p",{className:"pe-mb-5 pe-fs-16 pe-color-neutral-50",children:[(0,st.jsx)("span",{className:" pe-d-inline-block pe-w-120 pe-fw-700",children:Ua("CTR","pushengage")}),(0,st.jsxs)("span",{className:"pe-fw-500",children:[t.ctr,"%"]})]}),(0,st.jsxs)("p",{className:"pe-fs-16 pe-color-neutral-50",children:[(0,st.jsx)("span",{className:"pe-d-inline-block pe-w-120 pe-fw-700",children:Ua("Unsubscribed","pushengage")}),(0,st.jsx)("span",{className:"pe-fw-500",children:ko(t.failedcount)})]})]})]})},zq=function(e){var t=e.notification;return(0,st.jsx)(dt.Z,{gutter:[18,18],children:(0,st.jsxs)(ht.Z,{span:12,children:[null!==t&&void 0!==t&&t.multi_element_title1?(0,st.jsxs)("p",{className:"pe-mb-5 pe-color-neutral-50 pe-fs-16",children:[(0,st.jsx)("span",{className:"pe-d-inline-block pe-w-120 pe-fw-700",children:null===t||void 0===t?void 0:t.multi_element_title1}),(0,st.jsx)("span",{className:"pe-fw-500",children:ko(t.clickcount1)})]}):null,null!==t&&void 0!==t&&t.multi_element_title2?(0,st.jsxs)("p",{className:"pe-mb-5 pe-color-neutral-50 pe-fs-16",children:[(0,st.jsx)("span",{className:"pe-d-inline-block pe-w-120 pe-fw-700",children:null===t||void 0===t?void 0:t.multi_element_title2}),(0,st.jsx)("span",{className:"pe-fw-500",children:ko(t.clickcount2)})]}):null]})})},Vq=function(e){var t=e.notification,n=bt(is),r=cb(t);return(0,st.jsx)(dt.Z,{children:(0,st.jsxs)(ht.Z,{children:[(0,st.jsxs)("p",{className:"pe-mb-5 pe-color-neutral-50 pe-fs-16",children:[(0,st.jsx)("span",{className:"pe-d-inline-block pe-w-120 pe-fw-700",children:Ua("Count","pushengage")}),(0,st.jsx)("span",{className:"pe-fw-500",children:r.count})]}),(0,st.jsxs)("p",{className:"pe-mb-5 pe-color-neutral-50 pe-fs-16",children:[(0,st.jsx)("span",{className:"pe-fw-700 pe-d-inline-block pe-w-120",children:Ua("Value","pushengage")}),(0,st.jsx)("span",{className:"pe-fw-500",children:"".concat(n).concat(r.value)})]})]})})},Uq=function(e){var t=e.notification;return hq(t.notification_criteria)?(0,st.jsx)("span",{className:"pe-fw-500 pe-fs-16 pe-color-neutral-50",children:Ua("Send to All Subscribers","pushengage")}):(0,st.jsx)(Aq,{criteria:t.notification_criteria})},Hq=[{title:"".concat(Ua("Notification","pushengage")),dataIndex:"notification_name"},{title:"".concat(Ua("View","pushengage")),dataIndex:"view"},{title:"".concat(Ua("Click","pushengage")),dataIndex:"click"},{title:"".concat(Ua("CTR","pushengage")),dataIndex:"ctr"}],Wq=function(e){var t,n,r,i,a,o,s,l=e.notification,c=e.abcWinnerDetails;return(0,st.jsxs)("div",{children:[null!==l&&void 0!==l&&l.isScheduled?(0,st.jsx)("span",{children:Ua("Waiting for the winner","pushengage")}):null!==l&&void 0!==l&&null!==(t=l.execution_state)&&void 0!==t&&null!==(n=t.abc)&&void 0!==n&&n.winner_analytics?(0,st.jsxs)("div",{children:[(0,st.jsx)("span",{children:Ua("Analytics at the time of deciding the winner","pushengage")}),(0,st.jsx)(_v.Z,{columns:Hq,dataSource:(s=l.execution_state.abc.winner_analytics,Object.entries(s).map((function(e){var t,n=(0,xe.Z)(e,2),r=n[0],i=n[1];return{key:r,notification_name:"".concat(Ua("Notification","pushengage")," ").concat(r.toUpperCase()),view:i.viewcount,click:i.clickcount,ctr:"".concat(0!==i.viewcount?(t=i.clickcount/i.viewcount*100,t%1!==0?parseFloat(t.toFixed(2)):t):0,"%")}}))),size:"small",pagination:!1,style:{marginBottom:12}})]}):null,(0,st.jsxs)("div",{className:"pe-mb-8",children:[(0,st.jsxs)("span",{className:"pe-color-neutral-50 pe-d-inline-block pe-w-120",children:[Ua("Sample Size","pushengage"),":"]}),null===l||void 0===l||null===(r=l.execution_state)||void 0===r||null===(i=r.abc)||void 0===i?void 0:i.sent_limit_percentage,"%"]}),(0,st.jsxs)("div",{className:"pe-mb-8",children:[(0,st.jsxs)("span",{className:"pe-color-neutral-50 pe-d-inline-block pe-w-120",children:[Ua("Delay","pushengage"),":"]}),Lq((null===l||void 0===l||null===(a=l.execution_state)||void 0===a||null===(o=a.abc)||void 0===o?void 0:o.winner_delay)||0)]}),c?(0,st.jsxs)("div",{children:[(0,st.jsxs)("span",{className:"pe-color-neutral-50 pe-d-inline-block pe-w-120",children:[Ua("Winner","pushengage"),":"]}),null!==c&&void 0!==c&&c.isScheduled?Ua("Waiting for the winner","pushengage"):null!==c&&void 0!==c&&c.isWinner?Ua("YES","pushengage"):Ua("NO","pushengage")]}):null]})},qq=mt.Z.Title,Kq=function(e){var t,n,r,i,a,o,s,l,c=e.notification,u=e.abcWinnerDetails,d=function(){var e,t,n,r;return(null===c||void 0===c?void 0:c.execution_state)&&!(null!==c&&void 0!==c&&null!==(e=c.execution_state)&&void 0!==e&&e.abc)&&(null===c||void 0===c||null===(t=c.execution_state)||void 0===t?void 0:t.params)&&(null===c||void 0===c||null===(n=c.execution_state)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.sent_limit)},p=function(){var e;return null===c||void 0===c||null===(e=c.execution_state)||void 0===e?void 0:e.abc};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Iq,{className:"pe-pt-25",children:[(0,st.jsx)("a",{href:c.notification_url,target:"_blank",rel:"noreferrer",children:(0,st.jsx)($U,{title:c.notification_title,imgUrl:c.notification_image,message:c.notification_message,hideUrl:!0,btn1:c.actions&&c.actions[0]?{title:c.actions[0].label,image_url:c.actions[0].image_url,url:c.actions[0].url}:void 0,btn2:c.actions&&c.actions[1]?{title:c.actions[1].label,image_url:c.actions[1].image_url,url:c.actions[1].url}:void 0,big_image:c.big_image})}),(0,st.jsx)(Bq,{notification:c})]}),(0,st.jsx)(Cu.Z,{}),(0,st.jsx)(Iq,{children:(0,st.jsx)(Dq,{label:Ua("Stats","pushengage"),text:(0,st.jsx)(Fq,{notification:c})})}),(0,st.jsx)(Cu.Z,{}),null!==c&&void 0!==c&&c.multi_element_title1||null!==c&&void 0!==c&&c.multi_element_title2?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Iq,{children:(0,st.jsx)(Dq,{label:Ua("Multi Actions","pushengage"),text:(0,st.jsx)(zq,{notification:c})})}),(0,st.jsx)(Cu.Z,{})]}):null,(0,st.jsx)(Iq,{children:(0,st.jsx)(Dq,{label:Ua("Goal","pushengage"),text:(0,st.jsx)(Vq,{notification:c})})}),(0,st.jsx)(Cu.Z,{}),(0,st.jsx)(Iq,{children:(0,st.jsx)(Dq,{label:Ua("Audience","pushengage"),text:(0,st.jsx)(Uq,{notification:c})})}),(0,st.jsx)(Cu.Z,{}),d()||p()?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Iq,{children:[d()?(0,st.jsx)(Dq,{label:Ua("Recipient Limit","pushengage"),text:null===c||void 0===c||null===(t=c.execution_state)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.sent_limit}):null,p()?(0,st.jsx)(Dq,{label:Ua("Intelligent AB Test","pushengage"),text:(0,st.jsx)(Wq,{notification:c,abcWinnerDetails:u})}):null]}),(0,st.jsx)(Cu.Z,{})]}):null,null!==c&&void 0!==c&&null!==(r=c.utm_params)&&void 0!==r&&r.enabled?(0,st.jsxs)(Iq,{children:[(0,st.jsx)(qq,{level:4,className:"pe-mb-16 pe-fs-18 pe-fw-700",children:Ua("UTM Parameters","pushengage")}),(0,st.jsx)(Dq,{label:Ua("UTM Campaign","pushengage"),text:null===(i=c.utm_params)||void 0===i?void 0:i.utm_campaign}),(0,st.jsx)(Dq,{label:Ua("UTM Medium","pushengage"),text:null===(a=c.utm_params)||void 0===a?void 0:a.utm_medium}),(0,st.jsx)(Dq,{label:Ua("UTM Source","pushengage"),text:null===(o=c.utm_params)||void 0===o?void 0:o.utm_source}),(0,st.jsx)(Dq,{label:Ua("UTM Term","pushengage"),text:null===(s=c.utm_params)||void 0===s?void 0:s.utm_term}),(0,st.jsx)(Dq,{label:Ua("UTM Content","pushengage"),text:null===(l=c.utm_params)||void 0===l?void 0:l.utm_content})]}):null]})},Yq=function(e){return(0,st.jsxs)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-clock-circle-outlined","aria-hidden":"true",children:[(0,st.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}),(0,st.jsx)("path",{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"})]}))},Gq=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Yq},e))},Qq=function(e){var t,n=e.campaign,r=Ua("Created At","pushengage");switch(null===n||void 0===n?void 0:n.status){case di.SCHEDULED:case di.SCHEDULING:r=Ua("Scheduled At","pushengage"),t=mo(n.valid_from);break;case di.SENDING:case di.SENT:r=Ua("Sent At","pushengage"),t=mo(n.sent_at);break;case di.PAUSE_REPEAT_SCHEDULED:case di.REPEAT_SCHEDULED:var i,a,o,s,l,c,u=mo(null===(i=n.sche_options)||void 0===i?void 0:i.schedule_start_date,"MMM DD, YYYY"),d=mo(null===(a=n.sche_options)||void 0===a?void 0:a.schedule_end_date,"MMM DD, YYYY"),p=(null===(o=n.sche_options)||void 0===o?void 0:o.schedule_days.map((function(e){return Ka(e)})).join(", "))||"",f=p.lastIndexOf(",");if(f>=0)p="".concat(null===(c=p)||void 0===c?void 0:c.substring(0,f)," and ").concat(p.substring(f+1,p.length));var h,g=(null===(s=n.sche_options)||void 0===s?void 0:s.schedule_time.map((function(e){return mo("2000-01-01 ".concat(e),"h:mm A")})).join(", "))||"";if((f=g.lastIndexOf(","))>=0)g="".concat(null===(h=g)||void 0===h?void 0:h.substring(0,f)," and ").concat(g.substring(f+1,g.length));r="".concat(Ua("Push between","pushengage")," ").concat(u," ").concat(Ua("and","pushengage")," ").concat(d," ").concat(Ua("on every","pushengage")," ").concat(p," ").concat(Ua("at","pushengage")," ").concat(g,"."),t="".concat(u," - ").concat(mo(null===(l=n.sche_options)||void 0===l?void 0:l.schedule_end_date,"MMM DD, YYYY"));break;case di.DRAFT:r=Ua("Created At","pushengage"),t=mo(n.created_at);break;default:t=""}return(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(ft.default,{title:r,placement:"bottom",children:(0,st.jsx)("span",{className:"description pe-fs-13 pe-color-neutral-40",children:t})})})},Xq=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-fork-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M752 100c-61.8 0-112 50.2-112 112 0 47.7 29.9 88.5 72 104.6v27.6L512 601.4 312 344.2v-27.6c42.1-16.1 72-56.9 72-104.6 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 50.6 33.8 93.5 80 107.3v34.4c0 9.7 3.3 19.3 9.3 27L476 672.3v33.6c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-33.6l226.7-291.6c6-7.7 9.3-17.3 9.3-27v-34.4c46.2-13.8 80-56.7 80-107.3 0-61.8-50.2-112-112-112zM224 212a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm336 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm192-552a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"})}))},$q=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Xq},e))},Jq=mt.Z.Title,eK=function(e){var t,n,r,i,a,o,s,l,c,u=e.campaign,d=(0,oe.useState)(u.A),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=null===(t=u.C)||void 0===t||null===(n=t.execution_state)||void 0===n?void 0:n.resume_notification,m=(null===(r=u.C)||void 0===r?void 0:r.status)===di.SCHEDULED;return(0,oe.useEffect)((function(){var e,t=u.C;if(t&&t.status!==di.SCHEDULED&&g){var n;if(g===u.A.notification_id)n=Bi()(u.A);else{if(g!==u.B.notification_id)return;n=Bi()(u.B)}n.clickcount+=t.clickcount||0,n.clickcount1+=t.clickcount1||0,n.clickcount2+=t.clickcount2||0,n.viewcount+=t.viewcount||0,n.sentcount+=t.sentcount||0,n.failedcount+=t.failedcount||0;var r=n.clickcount+n.clickcount1+n.clickcount2;if(n.ctr=Co(100*r/(n.viewcount||1)),n.result&&null!==(e=n.execution_state)&&void 0!==e&&e.result_name&&t.result){var i,a,o,s=null===(i=n.execution_state)||void 0===i?void 0:i.result_name;n.result[s].count+=(null===(a=t.result[s])||void 0===a?void 0:a.count)||0,n.result[s].value+=(null===(o=t.result[s])||void 0===o?void 0:o.value)||0}h(n)}}),[u,g]),(0,st.jsx)(dt.Z,{gutter:[16,32],style:{minHeight:"calc(100vh - 55px)"},children:null!==u&&void 0!==u&&u.C?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(ht.Z,{span:24,lg:12,style:{borderRight:"solid 1px #c9c9d6"},children:[(0,st.jsxs)(Jq,{level:3,className:"pe-ml-28 pe-mt-10",children:[Ua("Notification A","pushengage"),g===(null===(i=u.A)||void 0===i?void 0:i.notification_id)?" (".concat(Ua("Winner","pushengage"),")"):""]}),(0,st.jsx)(Kq,{notification:g===(null===(a=u.A)||void 0===a?void 0:a.notification_id)?f:u.A,abcWinnerDetails:{isWinner:g===u.A.notification_id,isScheduled:m,winner_analytics:null===(o=u.C.execution_state)||void 0===o||null===(s=o.abc)||void 0===s?void 0:s.winner_analytics}})]}),(0,st.jsxs)(ht.Z,{span:24,lg:12,children:[(0,st.jsxs)(Jq,{level:3,className:"pe-ml-28 pe-mt-10",children:[Ua("Notification B","pushengage"),g===u.B.notification_id?" (".concat(Ua("Winner","pushengage"),")"):""]}),(0,st.jsx)(Kq,{notification:g===u.B.notification_id?f:u.B,abcWinnerDetails:{isWinner:g===u.B.notification_id,isScheduled:m,winner_analytics:null===(l=u.C.execution_state)||void 0===l||null===(c=l.abc)||void 0===c?void 0:c.winner_analytics}})]})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(ht.Z,{span:24,lg:12,style:{borderRight:"solid 1px #c9c9d6"},children:[(0,st.jsx)(Jq,{level:3,className:"pe-ml-28 pe-mt-10",children:Ua("Notification A","pushengage")}),(0,st.jsx)(Kq,{notification:null===u||void 0===u?void 0:u.A})]}),(0,st.jsxs)(ht.Z,{span:24,lg:12,children:[(0,st.jsx)(Jq,{level:3,className:"pe-ml-28 pe-mt-10",children:Ua("Notification B","pushengage")}),(0,st.jsx)(Kq,{notification:u.B})]})]})})},tK=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-trophy-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM184 352V232h64v207.6a91.99 91.99 0 01-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"})}))},nK=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:tK},e))},rK=mt.Z.Title,iK=mt.Z.Text,aK=mt.Z.Paragraph,oK=function(e){var t=e.title,n=e.onClick,r=_u();return(0,st.jsx)(iK,{className:"pe-cursor-pointer primary-on-hover pe-fs-13 pe-fw-600 pe-d-block",ellipsis:!0,title:t,style:{maxWidth:r.isDesktop?"500px":"200px"},onClick:n,children:t})},sK=function(e){var t=e.title,n=e.onClick,r=e.isWinner,i=_u();return(0,st.jsxs)(iK,{className:"pe-cursor-pointer primary-on-hover pe-fs-13 pe-fw-600 pe-d-block",ellipsis:!0,title:t,style:{maxWidth:i.isDesktop?"500px":"200px"},onClick:n,children:[r?(0,st.jsx)(nK,{className:"pe-mr-5 pe-color-green"}):"",t]})},lK=function(e){var t,n,r,i,a=e.dataSource,o=e.loading,s=e.onExport,l=e.onDelete,c=e.onEdit,u=e.onDuplicate,d=e.onResend,p=e.onCreateAb,f=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.currentSite})),h=bt(is),g=_u(),m=(0,oe.useState)({id:null,loading:!1,data:null}),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)({loading:!1,visible:!1,data:null,id:0}),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)({loading:!1,id:0}),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)({loading:!0,data:null,id:null,type:null}),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z({loading:!0,id:t}),e.prev=1,e.next=4,s(t);case 4:Z({loading:!1,id:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Z({loading:!1,id:0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b({id:t,loading:!0,data:null}),e.next=4,mh(f,t);case 4:n=e.sent,b({id:t,loading:!1,data:null===n||void 0===n?void 0:n.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),ie.default.error({message:null===e.t0||void 0===e.t0?void 0:e.t0.message,placement:"bottomRight"}),b({id:t,loading:!1,data:null});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_({data:void 0,loading:!0,visible:!0,id:t}),e.next=4,mh(f,t);case 4:null!==(i=e.sent)&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&null!==(r=n.timezoneNotifications)&&void 0!==r&&r.length&&i.data.timezoneNotifications.sort((function(e,t){var n,r;return-String.prototype.localeCompare.call((null===(n=e.notification_criteria)||void 0===n?void 0:n.timezone)||"",(null===(r=t.notification_criteria)||void 0===r?void 0:r.timezone)||"")})),_({id:t,loading:!1,visible:!0,data:null===i||void 0===i?void 0:i.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),_({id:0,loading:!1,visible:!0,data:void 0}),ie.default.error({message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.source!==pi.A){e.next=9;break}return A({loading:!0,id:null===t||void 0===t?void 0:t.notification_id,data:null}),e.next=5,mh(f,null===t||void 0===t?void 0:t.notification_id,"?expand=notification_analytics,result_analytics");case 5:n=e.sent,A({loading:!1,id:null===t||void 0===t?void 0:t.notification_id,data:null===n||void 0===n?void 0:n.data}),e.next=10;break;case 9:A({loading:!1,id:null===t||void 0===t?void 0:t.notification_id,data:t});case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),ie.default.error({message:null===e.t0||void 0===e.t0?void 0:e.t0.message}),A({loading:!1,id:null,data:null});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e){return(0,st.jsxs)(Ju.default,{size:10,wrap:!0,children:[(0,st.jsx)(ft.default,{placement:"top",title:Ua("Preview","pushengage"),className:"pe-tooltip",children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(NN,{}),onClick:function(){return I(e)},loading:(null===O||void 0===O?void 0:O.id)===(null===e||void 0===e?void 0:e.notification_id)&&(null===O||void 0===O?void 0:O.loading),disabled:(null===O||void 0===O?void 0:O.id)===(null===e||void 0===e?void 0:e.notification_id)&&(null===O||void 0===O?void 0:O.loading)})}),(null===e||void 0===e?void 0:e.status)===di.SENT||(null===e||void 0===e?void 0:e.status)===di.SENDING?null:(0,st.jsx)(ft.default,{placement:"top",title:Ua("Edit","pushengage"),className:"pe-tooltip",children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:function(){return c(null===e||void 0===e?void 0:e.notification_id)}})}),(null===e||void 0===e?void 0:e.status)===di.SENT?(0,st.jsx)(ft.default,{placement:"top",title:Ua("Resend","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(sc,{}),onClick:function(){return d(null===e||void 0===e?void 0:e.notification_id)}})}):null,(0,st.jsx)(ft.default,{placement:"top",title:Ua("Export","pushengage"),className:"pe-tooltip",children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Th,{}),loading:S.loading&&S.id===e.notification_id,disabled:S.loading&&S.id===e.notification_id,onClick:function(){return T(null===e||void 0===e?void 0:e.notification_id)}})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Duplicate","pushengage"),className:"pe-tooltip",children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Sh,{}),onClick:function(){return u(null===e||void 0===e?void 0:e.notification_id)}})}),(null===e||void 0===e?void 0:e.source)===pi.PARENT_SUB_TIMEZONE?(0,st.jsx)(ft.default,{placement:"top",title:Ua("Timezones","pushengage"),className:"pe-tooltip",children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Gq,{}),loading:k.loading&&k.id===e.notification_id,disabled:k.loading&&k.id===e.notification_id,onClick:function(){return M(null===e||void 0===e?void 0:e.notification_id)}})}):null,(null===e||void 0===e?void 0:e.status)===di.SENDING||(null===e||void 0===e?void 0:e.status)===di.SENT?null:(0,st.jsx)(ft.default,{placement:"top",title:Ua("Delete","pushengage"),className:"pe-tooltip",children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Nh,{}),onClick:function(){return l(null===e||void 0===e?void 0:e.notification_id)}})})]})},L=[{title:"".concat(Ua("Notifications","pushengage")),dataIndex:"notification",responsive:["sm","xs"],width:"25%",render:function(e,t){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(oK,{title:t.notification_title,onClick:function(){return I(t)}}),(0,st.jsx)("div",{children:(0,st.jsx)(Qq,{campaign:t})})]})}},{title:"".concat(Ua("Stats","pushengage")),dataIndex:"stats",responsive:["sm","xs"],width:"17%",render:function(e,t){return(0,st.jsx)(SU,(0,kn.Z)({},{clickcount:ub(n=t),sentcount:(null===n||void 0===n?void 0:n.sentcount)||0,viewcount:(null===n||void 0===n?void 0:n.viewcount)||0,ctr:(null===n||void 0===n?void 0:n.ctr)||0}));var n}},{title:"".concat(Ua("Goal","pushengage")),dataIndex:"goal",responsive:["sm","xs"],width:"12%",render:function(e,t){return(0,st.jsx)(jU,(0,kn.Z)((0,kn.Z)({},cb(t)),{},{currency:h}))}},{title:"".concat(Ua("A/B Test","pushengage")),dataIndex:"abtest",responsive:["sm","xs"],width:"11%",render:function(e,t){return function(e){return e.source!==pi.PARENT_SUB_TIMEZONE&&e.source!==pi.A&&(e.status===di.DRAFT||e.status===di.SCHEDULED)}(t)?(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-fs-13 pe-fw-500 pe-pa-0",style:{height:20},onClick:function(){return p(t.notification_id)},children:Ua("Create Test","pushengage")}):function(e){return"A"===e.source&&e.status===di.SENT}(t)?(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-fs-13 pe-fw-500 pe-pa-0",style:{height:20},icon:(0,st.jsx)($q,{}),disabled:y&&y.id===(null===t||void 0===t?void 0:t.notification_id)&&y.loading,loading:y&&y.id===(null===t||void 0===t?void 0:t.notification_id)&&y.loading,onClick:function(){return P(t.notification_id)},children:Ua("Test Results","pushengage")}):null}},{title:"".concat(Ua("Status","pushengage")),dataIndex:"status",width:"12%",responsive:["sm","xs"],render:function(e,t){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Ih,{status:t.status}),t.is_repeat_scheduled_expired&&(0,st.jsx)("div",{children:(0,st.jsx)("span",{className:"pe-mr-8 pe-badge pe-badge-red",children:Ua("Expired","pushengage")})})]})}},{title:"Action",width:"23%",dataIndex:"actions",responsive:["sm","xs"],render:function(e,t){return D(t)}}];return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(CU,{columns:L,data:a,rowKey:"notification_id",loading:o,emptyText:Ua("No notifications found.","pushengage"),expandedClassName:"pe-table-extended-row",expandableRecord:y,expandable:{showExpandColumn:!1,expandedRowKeys:y&&y.id&&y.data&&!y.loading?[y.id]:void 0,rowExpandable:function(e){return y&&y.id&&y.data&&!y.loading&&e.notification_id===y.id},expandedRowRender:function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f,g,m,v,x;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{style:{width:"100%",display:"flex"},className:"pe-ab-notification-details",children:[(0,st.jsx)("div",{className:"pe-notification-title pe-px-15 pe-py-14",children:(0,st.jsx)(sK,{title:null===y||void 0===y||null===(r=y.data)||void 0===r||null===(i=r.A)||void 0===i?void 0:i.notification_title,onClick:function(){return I(e)},isWinner:db(null===y||void 0===y?void 0:y.data)===(null===y||void 0===y||null===(a=y.data)||void 0===a||null===(o=a.A)||void 0===o?void 0:o.notification_id)})}),(0,st.jsx)("div",{className:"pe-notification-stats pe-px-15 pe-py-14",children:(0,st.jsx)("div",{children:(0,st.jsx)(SU,(0,kn.Z)({},fb(null===y||void 0===y?void 0:y.data,"A")))})}),(0,st.jsx)("div",{className:"pe-notification-goal pe-px-15 pe-py-14",children:(0,st.jsx)("div",{children:(0,st.jsx)(jU,(0,kn.Z)((0,kn.Z)({},pb(null===y||void 0===y?void 0:y.data,"A")),{},{currency:h}))})}),(0,st.jsx)("div",{className:"pe-notification-ab pe-px-15 pe-py-14"}),(0,st.jsx)("div",{className:"pe-notification-status pe-px-15 pe-py-14",children:(0,st.jsx)(Ih,{status:null===y||void 0===y||null===(s=y.data)||void 0===s||null===(l=s.A)||void 0===l?void 0:l.status})}),(0,st.jsx)("div",{className:"pe-notification-actions pe-px-20 pe-py-14",children:D(null===y||void 0===y||null===(c=y.data)||void 0===c?void 0:c.A)})]},null===y||void 0===y||null===(t=y.data)||void 0===t||null===(n=t.A)||void 0===n?void 0:n.notification_id),(0,st.jsx)(Cu.Z,{className:"pe-ma-0 pe-ab-notification-divider",children:(0,st.jsx)(ft.default,{title:Ua("Click to close A/B tests","pushengage"),children:(0,st.jsxs)(pt.default,{className:"pe-ant-btn-xs pe-ab-toggle-btn",type:db(null===y||void 0===y?void 0:y.data)?"default":"primary",size:"small",onClick:function(){return b({id:null,loading:!1,data:null})},children:[(0,st.jsx)($q,{})," ",db(null===y||void 0===y?void 0:y.data)?Ua("Smart A/B","pushengage"):Ua("A/B","pushengage")," ",(0,st.jsx)(Ip,{})]})})}),(0,st.jsxs)("div",{style:{width:"100%",display:"flex"},className:"pe-ab-notification-details",children:[(0,st.jsx)("div",{className:"pe-notification-title pe-px-15 pe-py-14",children:(0,st.jsx)(sK,{title:null===y||void 0===y||null===(p=y.data)||void 0===p||null===(f=p.B)||void 0===f?void 0:f.notification_title,onClick:function(){return I(e)},isWinner:db(null===y||void 0===y?void 0:y.data)===(null===y||void 0===y||null===(g=y.data)||void 0===g||null===(m=g.B)||void 0===m?void 0:m.notification_id)})}),(0,st.jsx)("div",{className:"pe-notification-stats pe-px-15 pe-py-14",children:(0,st.jsx)("div",{children:(0,st.jsx)(SU,(0,kn.Z)({},fb(null===y||void 0===y?void 0:y.data,"B")))})}),(0,st.jsx)("div",{className:"pe-notification-goal pe-px-15 pe-py-14",children:(0,st.jsx)("div",{children:(0,st.jsx)(jU,(0,kn.Z)((0,kn.Z)({},pb(null===y||void 0===y?void 0:y.data,"B")),{},{currency:h}))})}),(0,st.jsx)("div",{className:"pe-notification-ab pe-px-15 pe-py-14"}),(0,st.jsx)("div",{className:"pe-notification-status pe-px-15 pe-py-14",children:(0,st.jsx)(Ih,{status:null===y||void 0===y||null===(v=y.data)||void 0===v||null===(x=v.B)||void 0===x?void 0:x.status})}),(0,st.jsx)("div",{className:"pe-notification-actions pe-px-15 pe-py-14"})]},null===y||void 0===y||null===(u=y.data)||void 0===u||null===(d=u.B)||void 0===d?void 0:d.notification_id)]})}}}),!k.loading&&null!==k&&void 0!==k&&k.visible?(0,st.jsx)(Uc.Z,{width:400,visible:null===k||void 0===k?void 0:k.visible,title:(0,st.jsx)(rK,{level:3,className:"pe-mb-0",children:Ua("Timezone Notifications","pushengage")}),placement:"right",maskClosable:!0,closeIcon:(0,st.jsx)($c,{}),onClose:function(){return _({visible:!1,data:null,loading:!1})},className:"pe-details-drawer",children:null!==k&&void 0!==k&&k.loading?(0,st.jsx)(rt.default,{active:!0}):(0,st.jsx)(st.Fragment,{children:(null===k||void 0===k||null===(t=k.data)||void 0===t||null===(n=t.timezoneNotifications)||void 0===n?void 0:n.length)>0?null===k||void 0===k||null===(r=k.data)||void 0===r?void 0:r.timezoneNotifications.map((function(e){var t;return(0,st.jsxs)("div",{children:[(0,st.jsxs)(aK,{className:"pe-mb-16 pe-fs-15 pe-fw-600",children:["UTC",null===e||void 0===e||null===(t=e.notification_criteria)||void 0===t?void 0:t.timezone,(0,st.jsx)("span",{className:"pe-ml-16",children:(0,st.jsx)(Ih,{status:e.status})})]}),(0,st.jsxs)(dt.Z,{className:"pe-fw-500 pe-fs-13",children:[(0,st.jsxs)(ht.Z,{span:"6",children:[(0,st.jsx)("span",{children:wo(null===e||void 0===e?void 0:e.sentcount)})," ",(0,st.jsx)("br",{}),(0,st.jsx)("span",{className:"pe-color-neutral-40",children:Ua("Sent","pushengage")})]}),(0,st.jsxs)(ht.Z,{span:"6",children:[(0,st.jsx)("span",{children:wo(null===e||void 0===e?void 0:e.viewcount)})," ",(0,st.jsx)("br",{}),(0,st.jsx)("span",{className:"pe-color-neutral-40",children:Ua("Seen","pushengage")})]}),(0,st.jsxs)(ht.Z,{span:"6",children:[(0,st.jsx)("span",{children:wo(ub(e))})," ",(0,st.jsx)("br",{}),(0,st.jsx)("span",{className:"pe-color-neutral-40",children:Ua("Clicked","pushengage")})]}),(0,st.jsxs)(ht.Z,{span:"6",children:[(0,st.jsxs)("span",{children:[null===e||void 0===e?void 0:e.ctr,"%"]})," ",(0,st.jsx)("br",{}),(0,st.jsx)("span",{className:"color-neutral-40",children:Ua("CTR","pushengage")})]})]}),(0,st.jsx)(Cu.Z,{className:"pe-my-16"})]},e.notification_id)})):(0,st.jsx)("div",{className:"pe-ta-center pe-fw-500 pe-mt-32",children:(0,st.jsx)("p",{children:(null===(i=k.data)||void 0===i?void 0:i.status)!==di.SENT?Ua("Timezone details will be available after notification is sent.","pushengage"):Ua("No timezone found.","pushengage")})})})}):null,O.loading||null===O||void 0===O||!O.id||Xi()(O,"data.A")?null:(0,st.jsx)(Uc.Z,{width:g.isDesktop?"560":"100%",visible:!0,title:(0,st.jsx)(rK,{level:3,className:"pe-mb-0",children:Ua("Notification Details","pushengage")}),placement:"right",closeIcon:(0,st.jsx)($c,{}),maskClosable:!0,onClose:function(){return A({loading:!0,data:null,id:null,type:""})},bodyStyle:{padding:0,backgroundColor:"#fff"},className:"pe-details-drawer",children:(0,st.jsx)(Kq,{notification:null===O||void 0===O?void 0:O.data})}),!O.loading&&null!==O&&void 0!==O&&O.id&&Xi()(O,"data.A")?(0,st.jsx)(Uc.Z,{width:g.isDesktop?"1120":"100%",visible:!0,title:(0,st.jsx)(rK,{level:3,className:"pe-mb-0",children:Ua("Notification Details","pushengage")}),placement:"right",maskClosable:!0,closeIcon:(0,st.jsx)($c,{}),onClose:function(){return A({loading:!0,data:null,id:null,type:""})},bodyStyle:{padding:"0",backgroundColor:"#fff"},className:"notification__tab--ab-drawer pe-details-drawer",children:(0,st.jsx)(eK,{campaign:null===O||void 0===O?void 0:O.data})}):null]})};lK.defaultProps={loading:!1};var cK=lK,uK=fp.createUrl,dK=uK.url,pK=uK.utmParams,fK=function(){var e=(0,vt.s0)(),t=_u(),n=(0,ot.lr)(),r=(0,xe.Z)(n,1)[0],i=bt((function(e){return e.session.currentSite}),Zi()),a=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),o=bt(Vr),s=(0,oe.useState)(uq),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(fi.ALL),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=(0,oe.useState)(1),m=(0,xe.Z)(g,2),v=m[0],y=m[1],b=(0,oe.useState)(0),x=(0,xe.Z)(b,2),w=x[0],k=x[1],_=(0,oe.useState)(0),C=(0,xe.Z)(_,2),j=C[0],S=C[1],Z=(0,oe.useState)([]),N=(0,xe.Z)(Z,2),E=N[0],O=N[1],A=(0,oe.useState)(!1),T=(0,xe.Z)(A,2),P=T[0],M=T[1],I=(0,oe.useState)(!1),D=(0,xe.Z)(I,2),L=D[0],R=D[1],B=(0,oe.useState)(null),F=(0,xe.Z)(B,2),z=(F[0],F[1]),V=(0,oe.useState)(!1),U=(0,xe.Z)(V,2),H=U[0],W=U[1],q=(0,oe.useState)(yq),K=(0,xe.Z)(q,2),Y=K[0],G=K[1],Q=(0,oe.useState)(bq),X=(0,xe.Z)(Q,2),$=X[0],J=X[1],ee=(0,oe.useState)(!1),te=(0,xe.Z)(ee,2),ne=te[0],re=te[1],ae=(0,oe.useState)(null),se=(0,xe.Z)(ae,2),le=se[0],ce=se[1],ue=function(e){var t,n,r,i,a,o=e.pageNo,s=e.status,l=e.filter,c=e.sortBy,u=(0,kn.Z)({page:o,perPage:10,expand:"notification_analytics,result_analytics"},c||$);(s&&s!==fi.ALL&&(u.status=s),s===fi.SENT)&&(null!==l&&void 0!==l&&null!==(i=l.date_range)&&void 0!==i&&i.from&&null!==l&&void 0!==l&&null!==(a=l.date_range)&&void 0!==a&&a.to&&(u.start_sent_at=l.date_range.from.format("YYYY-MM-DD"),u.end_sent_at=l.date_range.to.format("YYYY-MM-DD")));return null!==l&&void 0!==l&&null!==(t=l.sources)&&void 0!==t&&t.length&&(u.source=l.sources.join()),null!==l&&void 0!==l&&null!==(n=l.tags)&&void 0!==n&&n.length&&(u.tags=l.tags.join()),null!==l&&void 0!==l&&null!==(r=l.tags_exclude)&&void 0!==r&&r.length&&(u.tags_exclude=l.tags_exclude.join()),u},de=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r,i,a,o,s,l,c,d=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]&&d[2],e.prev=1,M(!0),n.expand="notification_analytics,result_analytics",e.next=6,gh(t,n);case 6:i=e.sent,a=null===i||void 0===i?void 0:i.data,o=a.total,s=a.data,l=a.lastPage,c=a.page,y(c),k(o),S(l),O(s),null===le&&(!("status"in n)&&!(null!==n&&void 0!==n&&n.start_sent_at)&&!(null!==n&&void 0!==n&&n.end_sent_at)&&!(null!==n&&void 0!==n&&n.source)&&!(null!==n&&void 0!==n&&n.tags)&&!(null!==n&&void 0!==n&&n.tags_exclude))&&ce(o),r&&u(dq(null===i||void 0===i?void 0:i.meta)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),z(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 19:return e.prev=19,M(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){if(re(!1),y(1),k(0),O([]),u(dq({})),ce(null),o){var e=r.get("status"),t={pageNo:1,status:f,sortBy:$};e&&e===fi.SENT&&(h(e),t.status=e),de(i,ue(t),!0)}}),[i]);var pe=function(e){if(o&&e!==f){var t=bq();e===fi.SENT&&(t.order_by_desc=hi.SENT_AT),e===fi.SCHEDULED&&(delete t.order_by_desc,t.order_by_asc=hi.SCHEDULE_DATE),h(e),y(1),J(t),G({date_range:{from:null,to:null},sources:[],tags:[],tags_exclude:[]}),de(i,ue({pageNo:1,status:e,sortBy:t}),!0)}},fe=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,a,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o){e.next=3;break}return e.abrupt("return");case 3:return R(!0),s=(0,kn.Z)({format:"csv"},$),f!==fi.ALL&&(s.status=f),f===fi.SENT&&null!==Y&&void 0!==Y&&null!==(n=Y.date_range)&&void 0!==n&&n.from&&null!==Y&&void 0!==Y&&null!==(r=Y.date_range)&&void 0!==r&&r.to&&(s.start_sent_at=Y.date_range.from.format("YYYY-MM-DD"),s.end_sent_at=Y.date_range.to.format("YYYY-MM-DD")),null!==Y&&void 0!==Y&&null!==(a=Y.sources)&&void 0!==a&&a.length&&(s.source=Y.sources.join()),e.prev=8,e.next=11,gh(i,s);case 11:To(e.sent,"PushBroadcast.csv"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),z(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 18:return e.prev=18,R(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[8,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={format:"csv"},e.prev=1,e.next=4,mh(i,t,Eo(n));case 4:To(e.sent,"PushBroadcast-".concat(t,".csv")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),z(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dd(a)){e.next=3;break}return re(!0),e.abrupt("return");case 3:gt.Z.confirm((0,kn.Z)((0,kn.Z)({okText:Ua("Delete","pushengage"),cancelText:Ua("Cancel","pushengage"),width:t.isDesktop?560:320},Zy),{},{okType:"danger",okButtonProps:{size:"large"},cancelButtonProps:{size:"large"},onOk:function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xh(i,n);case 3:t=Bo({currPage:v,pageSize:10,lastPage:j,total:w}),f===fi.ALL?de(i,ue({pageNo:t,filter:Y})):de(i,ue({pageNo:t,status:f,filter:Y})),ie.default.success({message:Ua("Notification removed successfully!","pushengage")}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),z(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){Dd(a)?o&&e($r.path.campaigns.createNotification):re(!0)},ve=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(i,ue({pageNo:t,status:f,filter:Y}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dd(a)){e.next=3;break}return re(!0),e.abrupt("return");case 3:gt.Z.confirm((0,kn.Z)((0,kn.Z)({okText:Ua("Yes","pushengage"),cancelText:Ua("No","pushengage"),okButtonProps:{size:"large"},cancelButtonProps:{size:"large"},width:t.isDesktop?560:320},Sy),{},{onOk:function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bh(i,n);case 3:de(i,ue("all"===f?{pageNo:v}:{pageNo:v,status:f}),!0),ie.default.success({message:Ua("Notification resent successfully!","pushengage")}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),z(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e){G(e),y(1),de(i,ue({pageNo:1,status:f,filter:e}))};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Pf,{title:Ua("Push Broadcasts","pushengage"),children:[(0,st.jsx)(bU,{label:Ua("Add New","pushengage"),onClick:me}),(0,st.jsx)(yU,{children:(0,st.jsx)(pt.default,{size:"small",className:"pe-btn-hollow pe-ml-10",onClick:function(){e($r.path.campaigns.templates)},disabled:!o,children:Ua("Choose From Templates","pushengage")})})]}),(0,st.jsxs)(iy,{children:[!o&&(0,st.jsx)(rg,(0,kn.Z)({},Ig)),H&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.abNotification),{},{closeable:!0,onClose:function(){return W(!1)}})),ne&&(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify notifications. Please contact to your admin.","pushengage"),onOk:function(){return re(!1)},visible:ne}),o&&!P&&c.every((function(e){return 0===e.count}))?(0,st.jsx)(tg,{subTitle:Ua("Looks like you haven\u2019t created any campaigns yet.","pushengage"),description:Ua("You can create campaigns to get repeat traffic, engagement and sales!","pushengage"),videoUrl:"https://www.youtube.com/embed/ryHop9C0VOQ",bullets:[{icon:(0,st.jsx)(uh,{}),text:Ua("Send updates instantly","pushengage")},{icon:(0,st.jsx)(kg,{}),text:Ua("Drive repeat traffic and sales","pushengage")},{icon:(0,st.jsx)(Cg,{}),text:Ua("Schedule or automate with precision","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Measure results with built\u2011in analytics","pushengage")}],btnText:Ua("Create New Campaign","pushengage"),onClick:me,footerText:(0,st.jsxs)(st.Fragment,{children:[Ua("Need some help? Check out this tutorial on","pushengage")," ",(0,st.jsx)(mt.Z.Link,{target:"_blank",href:"".concat(dK).concat(Qc(pK)),children:Ua("creating your first campaign","pushengage")}),"."]})}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(uH,{left:(0,st.jsx)(Sq,{items:c,onChange:pe,onExport:fe,exporting:L,activeNav:f,initialFilter:Y,onFilter:be,total:w,initialUnfilteredTotal:le||0}),right:(0,st.jsx)(Nq,{total:w,activeNav:f,onSort:function(e){J(e),y(1),de(i,ue({pageNo:1,status:f,filter:Y,sortBy:e}))}})}),(0,st.jsx)(cK,{dataSource:E,loading:P,onExport:he,onDelete:ge,onDuplicate:function(t){Dd(a)?e("".concat($r.path.campaigns.createNotification,"?notification=").concat(t)):re(!0)},onEdit:function(t){Dd(a)?e($r.editNotification(t)):re(!0)},onResend:ye,onCreateAb:function(t){Yd(a)?Dd(a)?e("".concat($r.editNotification(t),"?type=ab")):re(!0):W(!0)}}),(0,st.jsx)(uH,{classes:"pe-mt-15",left:(0,st.jsx)(Sq,{items:c,onChange:pe,onExport:fe,exporting:L,activeNav:f,initialFilter:Y,onFilter:be,total:w,initialUnfilteredTotal:le||0}),right:(0,st.jsx)(mH,{pagination:{page:v,total:w,lastPage:j,limit:10},onChange:ve})})]})]})]})},hK=function(e){var t=e.status;return(0,st.jsx)("span",{className:"pe-drip-status-".concat(t," pe-fs-13"),children:t===bi.ACTIVE?Ua("Active","pushengage"):t===bi.NEW?Ua("Draft","pushengage"):Ua("Paused","pushengage")})},gK=mt.Z.Text,mK=function(e){var t=e.title,n=e.onClick,r=_u();return(0,st.jsx)(gK,{className:"pe-cursor-pointer primary-on-hover pe-fs-13 pe-fw-600",ellipsis:!0,title:t,style:{maxWidth:r.isDesktop?"500px":"200px"},onClick:n,children:t})},vK=function(e){var t=bt(is),n=bt((function(e){return e.session.currentSite})),r=bt((function(e){return e.siteSettings.data.timezone}),Zi()),i=(0,oe.useState)({loading:!1,data:null,id:null,visible:!1}),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)(!1),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)(!1),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.expand="notification_analytics,result_analytics",qE(n,e,t)},v=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,s({loading:!0,data:null,id:t,visible:!0}),e.next=5,m(t,n);case 5:(i=e.sent).data.notifications=null===(r=i.data.notifications)||void 0===r?void 0:r.sort((function(e,t){return(null===e||void 0===e?void 0:e.rule_order)-(null===t||void 0===t?void 0:t.rule_order)})),s({loading:!1,data:i.data,id:t,visible:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s({loading:!1,data:null,id:t,visible:!0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},d(!0),e.prev=2,e.next=5,m(null===o||void 0===o?void 0:o.id,t);case 5:(r=e.sent).data.notifications=null===(n=r.data.notifications)||void 0===n?void 0:n.sort((function(e,t){return(null===e||void 0===e?void 0:e.rule_order)-(null===t||void 0===t?void 0:t.rule_order)})),s((0,kn.Z)((0,kn.Z)({},o),{},{data:r.data})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0;case 13:d(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},g(!0),e.prev=2,e.next=5,m(null===o||void 0===o?void 0:o.id,t);case 5:n=e.sent,r="trigger-".concat(o.id,"-analytics"),t.start_analytics_at&&t.end_analytics_at&&(r="".concat(r,"-").concat(mo(t.start_analytics_at,"YYYY-MM-DD"),"-").concat(mo(t.end_analytics_at,"YYYY-MM-DD"))),To(n,r+=".csv"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),e.t0;case 15:g(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),x=function(t,n){return e.loadingType.type===t&&e.loadingType.loading&&e.loadingType.identifier===n},w=function(e){var t;return(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.result_name)||""},k=function(e){var t,n,r=w(e);return r&&""!==r&&(null===e||void 0===e||null===(t=e.result)||void 0===t||null===(n=t[r])||void 0===n?void 0:n.count)||0},_=function(e){var t,n,r=w(e);return r&&""!==r&&(null===e||void 0===e||null===(t=e.result)||void 0===t||null===(n=t[r])||void 0===n?void 0:n.value)||0},C=[{title:"".concat(Ua("Notification","pushengage")),dataIndex:"notification",responsive:["sm","xs"],width:"33%",render:function(e,t){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(mK,{title:ca()(t.campaign_name,{length:60}),onClick:function(){return v(null===t||void 0===t?void 0:t.trigger_id)}}),(0,st.jsx)("div",{className:"pe-mb-8",children:(0,st.jsx)(gK,{className:"pe-fs-13 pe-color-neutral-40",children:mo(t.created_at)})}),(0,st.jsx)("div",{children:(0,st.jsx)("span",{className:"pe-badge pe-badge-secondary mr-8",children:wi[null===t||void 0===t?void 0:t.campaign_type]})})]})}},{title:"".concat(Ua("Stats","pushengage")),dataIndex:"stats",responsive:["sm","xs"],render:function(e,t){var n,r,i,a;return(0,st.jsx)(SU,{sentcount:(null===t||void 0===t||null===(n=t.analytics)||void 0===n?void 0:n.sentcount)||0,viewcount:(null===t||void 0===t||null===(r=t.analytics)||void 0===r?void 0:r.views)||0,clickcount:(null===t||void 0===t||null===(i=t.analytics)||void 0===i?void 0:i.clicks)||0,ctr:(null===t||void 0===t||null===(a=t.analytics)||void 0===a?void 0:a.ctr)||0})}},{title:"".concat(Ua("Goal","pushengage")),dataIndex:"goal",responsive:["sm","xs"],render:function(e,n){return(0,st.jsx)(jU,{count:k(n)||0,value:_(n)||0,currency:t})}},{title:"".concat(Ua("Status","pushengage")),dataIndex:"status",responsive:["sm","xs"],render:function(e,t){return(0,st.jsx)(hK,{status:t.status})}},{title:"Action",dataIndex:"actions",responsive:["sm","xs"],render:function(t,n){return(0,st.jsxs)(Ju.default,{size:10,wrap:!0,children:[(0,st.jsx)(ft.default,{placement:"top",title:Ua("Preview","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(NN,{}),onClick:function(){return v(null===n||void 0===n?void 0:n.trigger_id)},disabled:o.id===(null===n||void 0===n?void 0:n.trigger_id)&&o.loading,loading:o.id===(null===n||void 0===n?void 0:n.trigger_id)&&o.loading})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Edit","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:function(){return e.onEdit(n.trigger_id)}})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Export","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Th,{}),disabled:x("export",n.trigger_id),loading:x("export",n.trigger_id),onClick:function(){return e.onExport(n.trigger_id)}})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Duplicate","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Sh,{}),onClick:function(){return e.onDuplicate(n.trigger_id)}})}),(0,st.jsx)(ft.default,{placement:"top",title:"".concat("active"===(null===n||void 0===n?void 0:n.status)?Ua("Pause","pushengage"):"new"===(null===n||void 0===n?void 0:n.status)?Ua("Start","pushengage"):Ua("Resume","pushengage")),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:"active"===(null===n||void 0===n?void 0:n.status)?(0,st.jsx)(EU,{}):(0,st.jsx)(AU,{}),disabled:x("status",n.trigger_id),loading:x("status",n.trigger_id),onClick:function(){return e.onAction({type:"status",loading:!0,data:n})}})}),(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Nh,{}),onClick:function(){return e.onDelete(n.trigger_id)},disabled:x("delete",n.trigger_id),loading:x("delete",n.trigger_id)})]})}}];return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(CU,{columns:C,data:null===e||void 0===e?void 0:e.data,rowKey:"trigger_id",loading:e.loading,emptyText:Ua("No Triggered Campaigns found.","pushengage")}),o.id&&o.visible&&o.data&&!o.loading?(0,st.jsx)(oH,{fetchAnalytics:y,exportAnalytics:b,fetchingAnalytics:u,exportingAnalytics:h,details:o.data,onClose:function(){return s({loading:!1,id:null,data:null,visible:!1})},type:o.data.campaign_type,timezoneOffset:null===r||void 0===r?void 0:r.offset,currency:t}):null]})},yK=function(e){var t=e.items,n=e.onChange,r=e.onExport,i=e.exporting,a=e.activeNav,o=bt(Vr);return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Rv.default,{defaultValue:"all",value:a,size:"small",onChange:n,style:{width:132},dropdownClassName:"pe-ant-single-select-box",className:"pe-fs-13",children:t.map((function(e){return(0,st.jsxs)(Rv.default.Option,{value:e.key,children:[e.label,"\xa0(",e.count,")"]},e.key)}))}),(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-ant-btn-export",icon:(0,st.jsx)(Th,{}),onClick:r,disabled:i||!o,loading:i,children:Ua("Export","pushengage")})]})},bK=hp.createTrigger,xK=bK.url,wK=bK.utmParams,kK={type:"",loading:!1,identifier:null},_K=function(){var e=(0,vt.s0)(),t=bt(Vr),n=yt(),r=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.currentSite})),i=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),a=(0,oe.useState)(!1),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)((0,kn.Z)({},kK)),u=(0,xe.Z)(c,2),d=u[0],p=(u[1],(0,oe.useState)(!1)),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)(!1),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)(JE),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)("all"),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)(!1),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=(0,oe.useState)([]),P=(0,xe.Z)(T,2),M=P[0],I=P[1],D=(0,oe.useState)({page:1,total:0,limit:10,lastPage:1}),L=(0,xe.Z)(D,2),R=L[0],B=L[1],F=function(){t?Xd(i)?$d(i)?e($r.path.campaigns.selectTriggeredCampaign):b(!0):g(!0):ie.default.error({message:Ua("Site not connected!","pushengage"),description:Ua("Please connect your site first to create a triggered campaigns","pushengage")})},z=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(r,i){var a,o,s,c,u,d,p,f,h,g;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return l(!0),i.expand="notification_analytics,result_analytics",e.prev=4,e.next=7,Promise.all([UE(r,i),n(vs({siteId:r,options:{name:"utm_settings,default_notification_expiry,notification_analytics,timezone"}}))]);case 7:a=e.sent,o=(0,xe.Z)(a,2),s=o[0],o[1],u=(c=s).data,d=c.meta,_(eO(d)),p=u.page,f=u.perPage,h=u.total,g=u.lastPage,B({total:h,page:p,limit:f,lastPage:g}),I(u.data),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),e.t0;case 22:l(!1);case 23:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(t,n){return e.apply(this,arguments)}}(),V=function(e){z(r,"all"===e?{page:1,limit:10}:{page:1,limit:10,status:e}),Z(e)},U=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),A(!0),n={format:"csv"},"all"!==S&&(n.status=S),e.prev=4,e.next=7,UE(r,n);case 7:To(e.sent,"TriggeredCampaign.csv"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),e.t0;case 14:A(!1);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){t&&(Xd(i)?$d(i)?z(r,{page:R.page,limit:R.limit}):b(!0):g(!0))}),[r]);var H=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(n){return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if($d(i)){t.next=3;break}return b(!0),t.abrupt("return");case 3:e("".concat($r.editTrigger(n)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,qE(r,t,{format:"csv",expand:"notification_analytics,result_analytics"});case 4:To(e.sent,"ExportTrigger-".concat(t,".csv")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0;case 11:A(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(n){return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if($d(i)){t.next=3;break}return b(!0),t.abrupt("return");case 3:e("".concat($r.path.campaigns.createTriggeredCampaign,"?duplicate=").concat(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,a,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($d(i)){e.next=3;break}return b(!0),e.abrupt("return");case 3:return e.prev=3,e.next=6,WE(r,t);case 6:if(!e.sent.data){e.next=19;break}if(n=R.limit,a=R.page,o=a>1?1===M.length?a-1:a:1,"all"!==S){e.next=15;break}return e.next=13,z(r,{page:o,limit:n});case 13:e.next=17;break;case 15:return e.next=17,z(r,{page:o,limit:n,status:S});case 17:B((0,kn.Z)((0,kn.Z)({},R),{},{page:o})),ie.default.success({message:"Trigger campaign deleted!",placement:"bottomRight"});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),e.t0;case 24:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,a,o,s,l,c,u,d,p;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($d(i)){e.next=3;break}return b(!0),e.abrupt("return");case 3:return s=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.trigger_id,l="new"===(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.status)?"active":"active"===(null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.status)?"cancelled":"active",e.prev=5,e.next=8,HE(r,s,{status:l});case 8:(c=e.sent).meta&&1===c.meta.count&&(u=k.map((function(e){var n;return e.key===l?(0,kn.Z)((0,kn.Z)({},e),{},{count:(null===e||void 0===e?void 0:e.count)+1}):e.key===(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.status)?(0,kn.Z)((0,kn.Z)({},e),{},{count:(null===e||void 0===e?void 0:e.count)-1}):e})),d=(0,we.Z)(M),p=d.findIndex((function(e){return e.trigger_id===s})),d[p].status=l,_(u),I(d),ie.default.success({message:"Trigger status updated",placement:"bottomRight"})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),e.t0;case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Pf,{title:Ua("Triggered Campaigns","pushengage"),children:(0,st.jsx)(bU,{label:Ua("Add New","pushengage"),onClick:F})}),(0,st.jsxs)(iy,{pageClassName:t&&!Xd(i)?"pe-page-blocked":"",children:[!t&&(0,st.jsx)(rg,(0,kn.Z)((0,kn.Z)({},Dg),{},{btnText:Ua("Complete Your Setup","pushengage")})),h&&(0,st.jsx)(Yy,(0,kn.Z)({},Sp.trigger)),y&&(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify triggered campaigns. Please contact to your admin.","pushengage"),onOk:function(){return b(!1)},visible:y}),t&&!s&&k.every((function(e){return 0===e.count}))?(0,st.jsx)(tg,{subTitle:Dg.subTitle,description:Dg.description,bullets:Dg.bullets,imgUrl:Dg.imgUrl,btnText:Ua("Create a Triggered Campaign","pushengage"),onClick:F,footerText:(0,st.jsxs)(st.Fragment,{children:[Ua("Need some help? Check out this tutorial on how to","pushengage")," ",(0,st.jsx)(mt.Z.Link,{target:"_blank",href:"".concat(xK).concat(Qc(wK)),children:Ua("create triggers","pushengage")}),"."]})}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(uH,{left:(0,st.jsx)(yK,{items:k,activeNav:S,onExport:U,onChange:V,exporting:O})}),(0,st.jsx)(vK,{data:M,loading:s,onExport:W,onDuplicate:q,onEdit:H,onDelete:K,onAction:Y,loadingType:d}),(0,st.jsx)(uH,{classes:"pe-mt-15",left:(0,st.jsx)(yK,{items:k,activeNav:S,onExport:U,onChange:V,exporting:O}),right:(0,st.jsx)(mH,{pagination:R,onChange:function(e,t){z(r,"all"===S?{page:e,limit:t}:{page:e,limit:t,status:S})}})})]})]})]})};function CK(e,t){var n=(0,oe.useRef)();return(0,oe.useCallback)((function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=function(){clearTimeout(n.current),e.apply(void 0,i)};clearTimeout(n.current),n.current=setTimeout(o,t)}),[e,t])}var jK=function(e){var t=e.onSearch,n=e.value,r=e.label,i=bt(Vr),a=(0,oe.useState)(n||""),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=CK((function(e){return t(e)}),600);(0,oe.useEffect)((function(){l(n||"")}),[n]);var u=(0,oe.useRef)(!0);return(0,oe.useEffect)((function(){if(u.current)return u.current=!1,void(s&&""!==s&&c(s));""!==s&&c(s)}),[s]),(0,st.jsx)(Ju.default,{size:[5,8],className:"pe-inline-search-form-container",children:(0,st.jsx)(Yc.default,{placeholder:r,value:s,onChange:function(e){var n=e.target.value;l(n),""===n&&t("")},onPressEnter:function(){return t(s)},size:"small",allowClear:!0,disabled:!i})})};jK.defaultProps={label:Ua("Search","pushengage")};var SK=jK,ZK=function(e){var t=e.siteId,n=e.criteria,r=(0,oe.useState)(!1),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=(0,oe.useState)(0),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(!1),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,Ep(t,n);case 4:r=e.sent,u(r.data.count),h(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0;case 12:o(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return f?(0,st.jsx)(ft.default,{placement:"top",title:ko(c),children:(0,st.jsx)("span",{className:"pe-fs-13 pe-fw-500 pe-color-neutral-40",children:wo(c,2)})}):(0,st.jsx)(pt.default,{shape:"round",size:"small",className:"pe-btn-secondary pe-fw-600",onClick:g,disabled:a,loading:a,children:Ua("View","pushengage")})},NK=mt.Z.Text,EK=mt.Z.Paragraph,OK=function(e){var t=e.audienceGroups,n=e.loading,r=e.onEdit,i=e.onDelete,a=e.siteId,o=bt((function(e){return e.session.user})),s=[{title:"".concat(Ua("Group Name","pushengage")),key:"name",dataIndex:"name",render:function(e,t){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(NK,{className:"pe-fs-13 pe-fw-600 pe-cursor-pointer primary-on-hover",title:t.name,ellipsis:!0,onClick:function(){return r(t)},children:ca()(t.name,{length:100,separator:"..."})}),(0,st.jsx)(EK,{type:"secondary",className:"pe-mb-0 small",children:ca()(t.description,{length:140,separator:"..."})})]})}},{title:"".concat(Ua("Subscriber Count","pushengage")),dataIndex:"subscriber_count",key:"subscriber_count",width:160,render:function(e,t){return(0,st.jsx)("div",{className:"pe-ta-center",children:(0,st.jsx)(ZK,{siteId:a,criteria:{filter:t.filter}})})}},{title:"".concat(Ua("Action","pushengage")),dataIndex:"actions",key:"actions",width:120,render:function(e,t){return(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(ft.default,{title:Ua("Edit","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:function(){return r(t)},disabled:!Fd(o)})}),(0,st.jsx)(ft.default,{title:Ua("Delete","pushengage"),children:(0,st.jsx)(pt.default,{onClick:function(){return i(t.id)},shape:"circle",size:"small",icon:(0,st.jsx)(Nh,{}),disabled:!Fd(o)})})]})}}];return(0,st.jsx)(CU,{columns:s,data:t,rowKey:"id",loading:n,emptyText:Ua("No audience group was found.","pushengage")})},AK=mt.Z.Text,TK=function(e){var t=e.filtered,n=e.total,r=Number(_o((100*t/(n||1)).toFixed(2)));return(0,st.jsx)(Lb.default,{percent:r,width:180,type:"dashboard",strokeColor:"#4b59d0",trailColor:"#DEDEE5",strokeLinecap:"square",strokeWidth:5,gapDegree:8,gapPosition:"top",format:function(){return(0,st.jsxs)(Ju.default,{direction:"horizontal",size:0,align:"center",children:[(0,st.jsx)(AK,{className:"pe-color-primary pe-fs-36 pe-fw-700",children:wo(t)}),(0,st.jsxs)(AK,{type:"secondary",className:"pe-fs-14 pe-fw-500",children:["/ ",wo(n)]})]})}})},PK=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 10 10",fill:"currentColor",focusable:"false","data-icon":"pe-save-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M9.30273 2.16797L7.51953 0.384766C7.32617 0.191406 7.06836 0.0625 6.78906 0.0625H1.03125C0.451172 0.0625 0 0.535156 0 1.09375V8.65625C0 9.23633 0.451172 9.6875 1.03125 9.6875H8.59375C9.15234 9.6875 9.625 9.23633 9.625 8.65625V2.89844C9.625 2.61914 9.49609 2.36133 9.30273 2.16797ZM5.84375 1.09375V2.8125H3.09375V1.09375H5.84375ZM8.46484 8.65625H1.16016C1.07422 8.65625 1.03125 8.61328 1.03125 8.52734V1.22266C1.03125 1.1582 1.07422 1.09375 1.16016 1.09375H2.0625V3.32812C2.0625 3.62891 2.27734 3.84375 2.57812 3.84375H6.35938C6.63867 3.84375 6.875 3.62891 6.875 3.32812V1.17969L8.55078 2.87695C8.57227 2.89844 8.59375 2.91992 8.59375 2.96289V8.52734C8.59375 8.61328 8.5293 8.65625 8.46484 8.65625ZM4.8125 4.35938C3.75977 4.35938 2.92188 5.21875 2.92188 6.25C2.92188 7.30273 3.75977 8.14062 4.8125 8.14062C5.84375 8.14062 6.70312 7.30273 6.70312 6.25C6.70312 5.21875 5.84375 4.35938 4.8125 4.35938ZM4.8125 7.10938C4.31836 7.10938 3.95312 6.74414 3.95312 6.25C3.95312 5.77734 4.31836 5.39062 4.8125 5.39062C5.28516 5.39062 5.67188 5.77734 5.67188 6.25C5.67188 6.74414 5.28516 7.10938 4.8125 7.10938Z"})}))},MK=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:PK},e))},IK=function(e){var t=e.value,n=e.onChange,r=(0,oe.useState)(t?ei()(t):void 0),i=(0,xe.Z)(r,2),a=i[0],o=i[1];return(0,st.jsx)(zf.default,{defaultValue:a,onChange:function(e){o(e),n&&n(e.format("YYYY-MM-DD HH:mm:ss"))},showTime:!0,format:"MMM DD,YYYY HH:mm",style:{width:"165px"}})};IK.defaultProps={value:void 0,onChange:void 0};var DK=IK,LK=function(e){var t=e.value,n=e.onChange,r=(0,oe.useState)(t?t.join(", "):""),i=(0,xe.Z)(r,2),a=i[0],o=i[1];return(0,st.jsx)(Yc.default.TextArea,{defaultValue:a,onChange:function(e){var t=e.target.value,r=t.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e}));o(t),null===n||void 0===n||n(r)},style:{width:"75vw",maxWidth:"100%"},autoSize:{minRows:1,maxRows:6}})};LK.defaultProps={value:[],onChange:void 0};var RK=LK,BK=function(e){var t=e.value,n=e.onChange,r=(0,oe.useState)(t),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=(0,oe.useState)("minutes"),l=(0,xe.Z)(s,2),c=l[0],u=l[1];(0,oe.useEffect)((function(){t&&t>=no&&t%no===0?(o(t/no),u("days")):t&&t>=60&&t%60===0?(o(t/60),u("hours")):t||(o(void 0),u("minutes"))}),[t]);var d=function(e,t){switch(t){case"days":null===n||void 0===n||n(60*Number(e)*24);break;case"hours":null===n||void 0===n||n(60*Number(e));break;default:null===n||void 0===n||n(Number(e))}};return(0,st.jsxs)(Yc.default.Group,{compact:!0,children:[(0,st.jsx)(rW.Z,{min:1,value:a,style:{width:75},onChange:function(e){o(e),d(e,c)}}),(0,st.jsxs)(Rv.default,{value:c,style:{width:100},onChange:function(e){u(e),d(a,e)},children:[(0,st.jsx)(Rv.default.Option,{value:"minutes",children:Ua("Minutes","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"hours",children:Ua("Hours","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"days",children:Ua("Days","pushengage")})]})]})};BK.defaultProps={value:void 0,onChange:void 0};var FK=BK,zK=mt.Z.Text,VK=mt.Z.Paragraph,UK=function(e){var t=e.name;return(0,st.jsx)("div",{className:"pe-mb-20",children:(0,st.jsxs)(zK,{type:"secondary",className:"pe-fw-500",children:[Ua("Select subscribers matching","pushengage")," ",t," ",Ua("of the following rule","pushengage")]})})},HK=function(e){var t=e.predicates,n=e.predicateIndex,r=e.onRemove;return 1===t.length&&0===n?null:(0,st.jsx)(ft.default,{title:Ua("Remove this filter rule","pushengage"),children:(0,st.jsx)(pt.default,{onClick:function(){r()},shape:"circle",size:"small",className:"pe-border-unset pe-no-shadow",icon:(0,st.jsx)(Nh,{})})})},WK=function(e){var t=(0,oe.useState)(!0),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useState)({value:[[]]}),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(s),u=(0,xe.Z)(c,2),d=(u[0],u[1]);(0,oe.useEffect)((function(){i(!0),l(e.initialValues),d(e.initialValues),i(!1)}),[e.initialValues,e.form]);var p=function(t){var n=t.predicate,r=t.filedName,i={required:!0,message:Ua("Value is required","pushengage")},a={required:!0,message:Ua("Please select date","pushengage")};if([yE.CITY,yE.STATE,yE.COUNTRY,yE.DEVICE,yE.DEVICE_TYPE].includes(n.field))return function(t,n,r){return t.field===yE.CITY?(0,st.jsx)(ed.Z.Item,{name:n,rules:[r],children:(0,st.jsx)(Rv.default,{allowClear:!0,showArrow:!0,mode:"multiple",options:e.cities,dropdownMatchSelectWidth:200,style:{width:"75vw",maxWidth:"100%"}})}):t.field===yE.STATE?(0,st.jsx)(ed.Z.Item,{name:n,rules:[r],children:(0,st.jsx)(Rv.default,{allowClear:!0,showArrow:!0,mode:"multiple",options:e.states,dropdownMatchSelectWidth:200,style:{width:"75vw",maxWidth:"100%"}})}):t.field===yE.COUNTRY?(0,st.jsx)(ed.Z.Item,{name:n,rules:[r],children:(0,st.jsx)(Rv.default,{allowClear:!0,showArrow:!0,mode:"multiple",options:e.countries,dropdownMatchSelectWidth:200,style:{width:"75vw",maxWidth:"100%"}})}):t.field===yE.DEVICE_TYPE?(0,st.jsx)(ed.Z.Item,{name:n,rules:[r],children:(0,st.jsx)(Rv.default,{allowClear:!0,showArrow:!0,mode:"multiple",options:wE,dropdownMatchSelectWidth:200,style:{width:"75vw",maxWidth:"100%"}})}):(0,st.jsx)(ed.Z.Item,{name:n,rules:[r],children:(0,st.jsx)(Rv.default,{allowClear:!0,showArrow:!0,mode:"multiple",options:kE,dropdownMatchSelectWidth:200,style:{width:"75vw",maxWidth:"100%"}})})}(n,r,i);if(n.field===yE.SEGMENTS)return(0,st.jsx)(ed.Z.Item,{name:r,rules:[i],children:(0,st.jsx)(Rv.default,{mode:"multiple",options:e.segments,optionFilterProp:"label",dropdownMatchSelectWidth:200,style:{width:"75vw",maxWidth:"100%"}})});if([yE.SENT_COUNT,yE.VIEW_COUNT,yE.CLICK_COUNT].includes(n.field))return function(e){return(0,st.jsx)(ed.Z.Item,{name:e,messageVariables:{name:"Value"},rules:[{required:!0},{type:"number",min:1}],children:(0,st.jsx)(rW.Z,{min:0,style:{width:"100px"}})})}(r);if([yE.TS_CREATED,yE.TS_LAST_SENT,yE.TS_LAST_VIEW,yE.TS_LAST_CLICK].includes(n.field))return function(e,t,n){return e.op===bE.GT||e.op===bE.LT?(0,st.jsx)(ed.Z.Item,{children:(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(ed.Z.Item,{name:t,noStyle:!0,rules:[n],children:(0,st.jsx)(DK,{})}),(0,st.jsx)(zK,{type:"secondary",children:Ua("UTC","pushengage")})]})}):(0,st.jsx)(ed.Z.Item,{children:(0,st.jsxs)(Ju.default,{className:"pe-d-flex",children:[(0,st.jsx)(ed.Z.Item,{name:t,noStyle:!0,messageVariables:{name:"Value"},rules:[{required:!0},{type:"number",min:1}],children:(0,st.jsx)(FK,{})}),(0,st.jsx)("div",{children:e.op===bE.TS_ELAPSED_GT?(0,st.jsxs)(ft.default,{title:Ua("Refer to the date and time that is before the current time minus the selected duration.","pushengage"),children:[(0,st.jsx)(zK,{type:"secondary",children:Ua("ago","pushengage")}),(0,st.jsx)(yg,{className:"pe-fs-14 pe-ml-4"})]}):(0,st.jsx)(ft.default,{title:Ua("Refer to the date and time that is after the current time minus the selected duration.","pushengage"),children:(0,st.jsx)(yg,{className:"pe-fs-14"})})})]})})}(n,r,a);if(n.field===yE.PROFILE_ID||n.field===yE.SUBSCRIBER_HASH)return(0,st.jsx)(ed.Z.Item,{name:r,validateFirst:!0,messageVariables:{name:Ua("Value","pushengage")},rules:[{type:"array",required:!0,whitespace:!0}],extra:Ua("Enter multiple values separated by commas","pushengage"),children:(0,st.jsx)(RK,{})});if(n.field===yE.ATTRIBUTES&&(n.op===bE.EXISTS||n.op===bE.NOT_EXISTS))return null;var o=[bE.IN,bE.NIN].some((function(e){return e===n.op}));return(0,st.jsx)(ed.Z.Item,{name:r,validateFirst:!0,messageVariables:{name:Ua("Value","pushengage")},rules:[{required:!0}],extra:o?Ua("Enter multiple values separated by commas","pushengage"):void 0,children:(0,st.jsx)(Yc.default,{})})},f=function(e,t){return null===t||void 0===t||!t.props.children||("string"!==typeof t.props.children||t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0)},h=function(e,t){return e!==t.length-1?(0,st.jsx)(Cu.Z,{className:"audience-filter-divider pe-my-20",children:(0,st.jsx)(zK,{type:"secondary",strong:!0,children:Ua("Or","pushengage")})}):null},g=function(e,t){return e.field===yE.ATTRIBUTES?(0,st.jsx)(ht.Z,{children:(0,st.jsx)(ed.Z.Item,(0,kn.Z)((0,kn.Z)({},t),{},{name:[t.name,"key"],validateFirst:!0,"data-tid":"key",rules:[{required:!0,whitespace:!0,message:Ua("Attribute name is required","pushengage")},{max:255,message:Ua("cannot be longer than 255 characters","pushengage")},{pattern:Qv,message:Ua("only alphabets, numbers,(-) and (_) allowed","pushengage")}],children:(0,st.jsx)(Yc.default,{placeholder:Ua("attribute name","pushengage")})}))}):null},m=function(e,t){return null===t||void 0===t||!t.props||"".concat(t.props.label," ").concat(t.props.desc).toLowerCase().indexOf(e.toLowerCase())>=0};return r?null:(0,st.jsx)(ed.Z,{form:e.form,initialValues:s,onValuesChange:function(t,n){var r;d(n),null===(r=e.onValuesChange)||void 0===r||r.call(e,n)},scrollToFirstError:!0,autoComplete:"off",className:"audience-filter-form",children:(0,st.jsx)(ed.Z.List,{name:"value",children:function(t,n){var r=n.add,i=n.remove;return(0,st.jsxs)(st.Fragment,{children:[t.map((function(n,r){return(0,st.jsxs)("div",{"data-testid":"rule-".concat(r),children:[(0,st.jsxs)(Tf,{className:"pe-bg-white pe-pa-0 pe-no-shadow",style:{position:"relative"},children:[1===t.length&&0===r?null:(0,st.jsx)("div",{style:{position:"absolute",top:0,right:0},children:(0,st.jsx)(ft.default,{title:Ua("Remove this group rule","pushengage"),children:(0,st.jsx)(pt.default,{danger:!0,shape:"circle",size:"small",onClick:function(){i(r)},icon:(0,st.jsx)(Nh,{})})})}),(0,st.jsx)(UK,{name:Ua("all","pushengage")}),(0,st.jsx)(ed.Z.List,{name:[n.name],children:function(t,n){var i=n.add,a=n.remove;return(0,st.jsxs)(st.Fragment,{children:[t.map((function(n,i){var o=e.form.getFieldValue(["value",r,i]);return(0,st.jsxs)(dt.Z,{gutter:[12,8],justify:"space-between","data-tid":"predicate-".concat(i),wrap:!1,children:[(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsxs)(dt.Z,{gutter:[10,0],children:[(0,st.jsx)(ht.Z,{flex:"160px",children:(0,st.jsx)(ed.Z.Item,(0,kn.Z)((0,kn.Z)({},n),{},{dependencies:["value",r],name:[n.name,"field"],"data-tid":"field",rules:[{required:!0,message:"Filed is required"}],children:(0,st.jsx)(Rv.default,{showSearch:!0,style:{width:"160px"},dropdownMatchSelectWidth:350,placeholder:"Select Field",optionLabelProp:"label",filterOption:m,onChange:function(){!function(t,n){var r;e.form.setFields([{name:["value",t,n,"op"],value:void 0},{name:["value",t,n,"key"],value:void 0},{name:["value",t,n,"value"],value:void 0}]),d(e.form.getFieldsValue()),null===(r=e.onValuesChange)||void 0===r||r.call(e,e.form.getFieldsValue())}(r,i)},children:xE.map((function(e){return(0,st.jsxs)(Rv.default.Option,{value:e.value,label:e.label,desc:e.description,style:{borderBottom:"solid 1px #f0f0f5"},children:[(0,st.jsx)(zK,{strong:!0,className:"pe-fs-14 pe-mb-2",children:e.label}),(0,st.jsx)(VK,{className:"pe-color-neutral-40 pe-mb-2",style:{maxWidth:"100%",whiteSpace:"normal"},children:e.description})]},e.value)}))})}))}),Wi()(o.field)?null:(0,st.jsxs)(st.Fragment,{children:[g(o,n),(0,st.jsx)(ht.Z,{flex:"1 1 auto",children:(0,st.jsx)(ed.Z.Item,{name:[n.name,"op"],rules:[{required:!0,message:Ua("Condition is required","pushengage")}],"data-tid":"op",children:(0,st.jsx)(Rv.default,{showSearch:!0,style:{minWidth:"200px",width:"100%"},filterOption:f,onChange:function(){!function(t,n,r){var i,a=!1,o=e.form.getFieldValue(["value",t,n]),s=[yE.TS_CREATED,yE.TS_LAST_CLICK,yE.TS_LAST_VIEW,yE.TS_LAST_SENT].some((function(e){return e===o.field}));if(s){var l=[bE.TS_ELAPSED_GT,bE.TS_ELAPSED_LT];(l.some((function(e){return e===o.op}))&&!l.some((function(e){return e===r.op}))||!l.some((function(e){return e===o.op}))&&l.some((function(e){return e===r.op})))&&(a=!0)}var c=r.value;a&&(c=void 0),e.form.setFields([{name:["value",t,n,"value"],value:c}]),d(e.form.getFieldsValue()),null===(i=e.onValuesChange)||void 0===i||i.call(e,e.form.getFieldsValue())}(r,i,o)},children:CE(o.field).map((function(e){return(0,st.jsx)(Rv.default.Option,{value:e.value,children:e.label},e.value)}))})})}),(0,st.jsx)(ht.Z,{flex:"auto",style:{maxWidth:"100%"},children:p({predicate:o,filedName:[n.name,"value"]})})]})]})}),(0,st.jsx)(ht.Z,{flex:"36px",children:(0,st.jsx)(HK,{predicates:t,predicateIndex:i,onRemove:function(){return a(n.name)}})})]},n.name)})),(0,st.jsx)(ed.Z.Item,{noStyle:!0,children:(0,st.jsx)(ft.default,{title:Ua("Click here to add a new 'AND' rule in the current group","pushengage"),children:(0,st.jsxs)(pt.default,{type:"text",size:"small",className:"pe-fs-13 pe-pa-0",style:{height:"100%"},onClick:function(){i({field:""})},disabled:t.length>=50,children:[(0,st.jsx)(fE,{className:"pe-mr-6"}),Ua("Add filter rule","pushengage")]})})})]})}})]}),h(r,t)]},n.name)})),(0,st.jsx)(ed.Z.Item,{children:(0,st.jsxs)(pt.default,{className:"pe-mt-16",block:!0,onClick:function(){r([{field:void 0}])},disabled:t.length>=15,children:[(0,st.jsx)(fE,{className:"pe-fs-13"}),Ua("Add group rule","pushengage")]})})]})}})})};WK.defaultProps={onValuesChange:void 0};var qK=WK,KK=mt.Z.Text,YK=mt.Z.Paragraph,GK=up.createUrl,QK=function(e){var t=e.audienceGroup,n=e.geoSegments,r=e.circularProgressData,i=e.onAudienceFilterChange,a=e.siteId,o=e.onSubmit,s=(0,oe.useState)(!1),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(!0),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=(0,oe.useState)(ZE),m=(0,xe.Z)(g,2),v=m[0],y=m[1],b=ed.Z.useForm(),x=(0,xe.Z)(b,1)[0],w=ed.Z.useForm(),k=(0,xe.Z)(w,1)[0];(0,oe.useEffect)((function(){h(!0),y({name:t.name,description:t.description,filter:t.filter}),h(!1)}),[t]),(0,oe.useEffect)((function(){x.resetFields(),k.resetFields()}),[v,x,k]);var _=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.validateFields();case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),ie.default.error({message:Ua("Please fix the validation error","pushengage")}),e.abrupt("return");case 9:t=EE((0,kn.Z)((0,kn.Z)({},k.getFieldsValue()),{},{filter:(0,kn.Z)({},x.getFieldsValue())})),i({value:t.filter.value});case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,x.validateFields();case 4:return e.next=6,k.validateFields();case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),ie.default.error({message:Ua("Please fix the validation error","pushengage")}),u(!1),e.abrupt("return");case 13:if(n=EE((0,kn.Z)((0,kn.Z)({},k.getFieldsValue()),{},{filter:(0,kn.Z)({},x.getFieldsValue())}),v),e.prev=14,null===t||void 0===t||!t.id){e.next=20;break}return e.next=18,Bs(a,t.id,n);case 18:e.next=22;break;case 20:return e.next=22,Rs(a,n);case 22:ie.default.success({message:null!==t&&void 0!==t&&t.id?Ua("Audience group updated successfully","pushengage"):Ua("Audience group created successfully","pushengage")}),o(),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(14),e.t1;case 29:u(!1);case 30:case"end":return e.stop()}}),e,null,[[1,8],[14,26]])})));return function(){return e.apply(this,arguments)}}();return f?(0,st.jsx)(rt.default,{loading:!0}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ht.Z,{xs:24,sm:24,md:17,style:{display:"flex"},children:(0,st.jsxs)(Wc.Z,{className:"pe-audience-group-card pe-audience-group-card-left pe-py-20",bordered:!1,children:[(0,st.jsx)(YK,{className:"pe-mb-15",children:(0,st.jsx)(Lu,{mapping:{a:(0,st.jsx)("a",{href:"".concat(GK.url).concat(Qc(GK.utmParams)),target:"_blank",rel:"noreferrer",className:"pe-py-0"})},children:Ua("<a>Audience Groups</a> can help you send more personalized and targeted push notifications to increase your conversions.","pushengage")})}),(0,st.jsxs)(ed.Z,{wrapperCol:{span:24},labelCol:{span:24},form:k,preserve:!0,initialValues:v,scrollToFirstError:!0,children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Name","pushengage"),name:"name",validateFirst:!0,required:!1,messageVariables:{name:Ua("Name","pushengage")},rules:[{required:!0,whitespace:!0},{max:150,whitespace:!0}],children:(0,st.jsx)(Yc.default,{style:{minWidth:"200px"}})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Description","pushengage"),name:"description",validateFirst:!0,required:!1,messageVariables:{name:Ua("Description","pushengage")},rules:[{required:!0,whitespace:!0},{max:256,whitespace:!0}],children:(0,st.jsx)(Yc.default.TextArea,{rows:2})})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("div",{className:"pe-input-label",children:Ua("Select Your Criteria","pushengage")}),(0,st.jsx)(qK,{segments:n.segments,countries:n.countries,states:n.state,cities:n.cities,form:x,initialValues:v.filter})]})]})}),(0,st.jsx)(ht.Z,{xs:24,sm:24,md:7,style:{display:"flex"},children:(0,st.jsx)(Wc.Z,{className:"pe-audience-group-card pe-audience-group-card-right",bordered:!1,children:(0,st.jsx)(dt.Z,{justify:"center",children:(0,st.jsxs)(ht.Z,{className:"pe-pt-20 pe-ta-center",children:[(0,st.jsxs)("div",{className:"pe-mb-28 pe-ta-center",children:[(0,st.jsx)(KK,{className:"pe-fw-600",children:Ua("Selected Subscribers","pushengage")}),(0,st.jsx)("div",{className:"pe-mt-15 pe-mb-15 pe-ta-center",children:(0,st.jsx)(TK,{total:r.total,filtered:r.filtered})}),(0,st.jsx)("div",{children:(0,st.jsx)(pt.default,{size:"small",className:"pe-px-12",onClick:_,loading:r.loading,disabled:r.loading,children:Ua("Refresh count","pushengage")})})]}),(0,st.jsx)(ed.Z.Item,{children:(0,st.jsx)(pt.default,{type:"primary",onClick:C,loading:c,disabled:c,icon:(0,st.jsx)(MK,{}),children:Ua("Save Audience Group","pushengage")})})]})})})})]})},XK=function(e){var t=e.audienceGroup,n=e.siteId,r=e.onSubmit,i=yt(),a=bt((function(e){return e.session.user}),Zi()),o=(0,oe.useState)(!1),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)({total:0,filtered:0,loading:!1}),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=bt((function(e){return e.globals.geoSegments})),g=(0,oe.useState)({segments:[],countries:[],state:[],cities:[]}),m=(0,xe.Z)(g,2),v=m[0],y=m[1],b=(0,oe.useState)(t),x=(0,xe.Z)(b,2),w=x[0],k=x[1],_=(0,oe.useCallback)(function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{loading:!0})})),e.prev=1,r=NE(t),e.next=5,Ep(n,{filter:r});case 5:i=e.sent,f((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{filtered:i.data.count,loading:!1})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{loading:!1})}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),[n]),C=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,r,i,a,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,Op(n);case 4:if(t=e.sent,r=t.data,i=r.count,k(ZE(a=w)),null===a||void 0===a||!a.id){e.next=14;break}return e.next=12,Ep(n,{filter:a.filter});case 12:o=e.sent,i=o.data.count;case 14:f((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{total:r.count,filtered:i,loading:!1})})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),ie.default.error({message:e.t0.message});case 20:c(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}();return(0,oe.useEffect)((function(){y((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{cities:Object.keys((null===h||void 0===h?void 0:h.city)||{}).map((function(e){return{label:e,value:e}}))||[],state:Object.keys((null===h||void 0===h?void 0:h.state)||{}).map((function(e){return{label:e,value:e}}))||[],countries:Object.keys((null===h||void 0===h?void 0:h.country)||{}).map((function(e){return{label:e,value:e}}))||[]})}))}),[h]),(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){var t,r,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,i(ts({siteId:n,type:"city,country,state"})).unwrap();case 4:if(!Bd(a)){e.next=10;break}return e.next=7,i(Os(n)).unwrap();case 7:t=e.sent,r=[],t&&t.length&&(o=t.map((function(e){return r.push(e.segment_id),{label:e.segment_name,value:e.segment_id}})),y((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{segments:o})})));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),ie.default.error({message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 15:c(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()}),[i]),(0,oe.useEffect)((function(){C()}),[]),(0,st.jsx)(dt.Z,{align:"stretch",className:"pe-mx-5 pe-mb-5 pe-mt-0",children:l?(0,st.jsx)(ht.Z,{span:24,className:"pe-py-25",children:(0,st.jsx)(rt.default,{loading:!0})}):(0,st.jsx)(QK,{geoSegments:v,audienceGroup:w,circularProgressData:p,onAudienceFilterChange:_,onSubmit:r,siteId:n})})},$K=(n(82366),n(92884)),JK=function(e){var t=e.image;return(0,st.jsx)($K.Z,{src:"".concat(window.pushengage.assetsUrl,"img/").concat(t),width:"100%"})},eY=function(){var e=yt(),t=_u(),n=(0,ot.lr)(),r=(0,xe.Z)(n,1)[0],i=bt((function(e){return Bd(e.session.user)})),a=bt(Vr),o=bt(Ur),s=bt((function(e){return e.session.user})),l=(0,oe.useState)(""),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)([]),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)({page:1,total:0,limit:10,lastPage:1}),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)(!1),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)(ZE),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)(!1),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=(0,oe.useState)(!1),P=(0,xe.Z)(T,2),M=P[0],I=P[1],D=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n,i,a,s,l,c,u,d,p,f,h,m=arguments;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=m.length>0&&void 0!==m[0]?m[0]:1,i=m.length>1&&void 0!==m[1]?m[1]:"",_(!0),t.prev=3,a={page:n,limit:10},i&&""!==i&&(a.name_like=i),t.next=8,e(zs({siteId:o,options:a})).unwrap();case 8:if(s=t.sent,g((null===s||void 0===s?void 0:s.data)||[]),!(l=r.get("editableId"))){t.next=18;break}return c=Number(l),t.next=15,Ls(o,c);case 15:u=t.sent,Z(u.data),A(!0);case 18:d=s.page,p=s.perPage,f=s.total,h=s.lastPage,b({total:f,page:d,limit:p,lastPage:h}),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(3),t.t0;case 25:_(!1);case 26:case"end":return t.stop()}}),t,null,[[3,22]])})));return function(){return t.apply(this,arguments)}}();(0,oe.useEffect)((function(){a&&i&&o&&D()}),[]);var L=function(){Fd(s)?A(!0):I(!0)},R=function(e){d(e),D(1,e)};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.audience.audienceGroups,type:"audience"}),(0,st.jsxs)(iy,{pageClassName:a&&!i?"pe-page-blocked":"",children:[!a&&(0,st.jsx)(rg,(0,kn.Z)((0,kn.Z)({},Rg),{},{btnText:Ua("Complete Your Setup","pushengage"),videoUrl:"https://www.youtube.com/embed/ivTWRnS9RtI?list=PLJYVblc_Mqppx8Q5bwNqYQdKxupPIJXs-"})),M&&(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify segment. Please contact to your admin.","pushengage"),onOk:function(){return I(!1)},visible:M}),a&&!i?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Yy,(0,kn.Z)({},Sp.audienceGroup)),(0,st.jsx)(JK,{image:"audience-group-placeholder.png"})]}):!i||k||u||0!==Number(y.total)?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(uH,{left:(0,st.jsx)(SK,{onSearch:R,searching:!(!k||!u)}),right:(0,st.jsx)(pt.default,{type:"primary",size:"small",className:"pe-px-15",onClick:L,disabled:!a,children:Ua("Create","pushengage")})}),(0,st.jsx)(OK,{siteId:o,audienceGroups:h,loading:k,onEdit:function(e){Fd(s)?(Z(e),A(!0)):I(!0)},onDelete:function(e){Fd(s)?gt.Z.confirm((0,kn.Z)((0,kn.Z)({},Ey),{},{width:t.isDesktop?560:320,okText:Ua("Delete","pushengage"),okType:"danger",cancelText:Ua("Cancel","pushengage"),okButtonProps:{size:"large"},cancelButtonProps:{size:"large"},onOk:function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs(o,e);case 3:n=Bo({currPage:y.page,pageSize:y.limit,lastPage:y.lastPage,total:y.total}),u?D(n,u):D(n),ie.default.success({message:Ua("Audience group removed successfully","pushengage")}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()})):I(!0)}}),(0,st.jsx)(uH,{classes:"pe-mt-15",left:(0,st.jsx)(SK,{onSearch:R,searching:!(!k||!u)}),right:(0,st.jsx)(mH,{pagination:y,onChange:function(e){b((0,kn.Z)((0,kn.Z)({},y),{},{page:e})),u?D(e,u):D(e)}})})]}):(0,st.jsx)(tg,{subTitle:Ua("Looks like you haven\u2019t created any Audience Groups yet.","pushengage"),description:Ua("You can use Audience Groups to combine multiple segments and behavioral patterns to retarget specific parts of your subscriber list.","pushengage"),videoUrl:"https://www.youtube.com/embed/ivTWRnS9RtI?list=PLJYVblc_Mqppx8Q5bwNqYQdKxupPIJXs-",bullets:[{icon:(0,st.jsx)(Cg,{}),text:Ua("Combine segments for precise targeting","pushengage")},{icon:(0,st.jsx)(kg,{}),text:Ua("Retarget high\u2011value audiences easily","pushengage")},{icon:(0,st.jsx)(uh,{}),text:Ua("Save time with reusable groups","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Keep audiences organized at scale","pushengage")}],btnText:Ua("Create New Audience Group","pushengage"),onClick:L,footerText:(0,st.jsxs)(st.Fragment,{children:[Ua("Need some help? Check out this tutorial on","pushengage")," ",(0,st.jsx)(mt.Z.Link,{target:"_blank",href:"".concat(up.createUrl.url).concat(Qc({utm_medium:"AudienceAudienceGroups",utm_content:"how to create Audience Groups"})),children:Ua("how to create Audience Groups","pushengage")}),"."]})})]}),(0,st.jsx)(gt.Z,{width:1080,centered:!0,className:"pe-modal-form pe-audience-group-modal-form",title:null!==S&&void 0!==S&&S.id?Ua("Edit Audience Group","pushengage"):Ua("Create an Audience Group","pushengage"),closeIcon:(0,st.jsx)($c,{}),visible:O,destroyOnClose:!0,footer:null,onCancel:function(e){e.preventDefault(),A(!1),Z(ZE())},maskClosable:!1,children:(0,st.jsx)(XK,{audienceGroup:S,siteId:o,onSubmit:function(){A(!1),Z(ZE()),D(y.page,u)}})})]})},tY=mt.Z.Text,nY=function(e){var t=e.onCreate,n=e.attributes,r=e.loading,i=e.onEdit,a=e.onDelete,o=e.mappings,s=bt((function(e){return e.session.user})),l=bt(Vr),c=[{title:"".concat(Ua("Attribute Name","pushengage")),key:"name",dataIndex:"name",render:function(e,t){return(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(tY,{className:"pe-fs-13 pe-fw-600 pe-cursor-pointer primary-on-hover",title:t.name,ellipsis:!0,onClick:function(){return i(t)},children:ca()(t.name,{length:100,separator:"..."})})})}},{title:"".concat(Ua("Variable Tag","pushengage")),dataIndex:"key",key:"key",width:160,render:function(e,t){return(0,st.jsxs)(mt.Z.Paragraph,{children:[(0,st.jsx)("span",{children:"{{"}),"".concat(t.key),(0,st.jsx)("span",{children:"}}"})]})}},{title:"".concat(Ua("WP User Meta","pushengage")),dataIndex:"user_meta_key",key:"user_meta_key",width:220,render:function(e,t){var n=o&&null!==t&&void 0!==t&&t.key?o[t.key]:"";return n?(0,st.jsx)(mt.Z.Paragraph,{className:"pe-mb-0",ellipsis:{rows:1},title:n,children:n}):(0,st.jsx)(mt.Z.Paragraph,{className:"pe-mb-0 pe-text-muted",children:"-"})}},{title:"".concat(Ua("Action","pushengage")),dataIndex:"actions",key:"actions",width:120,render:function(e,t){return(0,st.jsxs)(Ju.default,{children:[(0,st.jsxs)(ft.default,{title:Ua("Copy","pushengage"),children:[" ",(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Sh,{}),onClick:function(){return Ya("{{".concat(t.key,"}}"),Ua("Copied to clipboard","pushengage"))}})]}),(0,st.jsx)(ft.default,{title:Ua("Edit","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:function(){return i(t)},disabled:!Rd(s)})}),(0,st.jsx)(ft.default,{title:Ua("Delete","pushengage"),children:(0,st.jsx)(nW.Z,{title:Ua("Are you sure you want to delete this attribute?","pushengage"),onConfirm:function(){return a(t)},okText:Ua("Yes","pushengage"),cancelText:Ua("No","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Nh,{}),disabled:!Rd(s)})})})]})}}];return r?(0,st.jsx)(CU,{columns:c,data:n,rowKey:"id",loading:r,emptyText:Ua("No attributes were found.","pushengage")}):Wi()(n)?l?(0,st.jsx)(tg,{className:"pe-mt-24",subTitle:Vg.subTitle,description:Vg.description,bullets:Vg.bullets,btnText:Ua("Create Attribute","pushengage"),onClick:t,imgUrl:Vg.imgUrl,footerText:(0,st.jsxs)(st.Fragment,{children:[Ua("Need some help? Check out this tutorial on","pushengage")," ",(0,st.jsx)(mt.Z.Link,{target:"_blank",href:"".concat(cp.createUrl.url).concat(Qc({utm_medium:"AudienceAttributes",utm_content:"how to create attributes"})),children:Ua("how to create attributes","pushengage")}),"."]})}):null:(0,st.jsx)(CU,{columns:c,data:n,rowKey:"id",loading:r,emptyText:Ua("No attributes were found.","pushengage")})},rY=function(e,t){return Lc.get("sites/".concat(e,"/subscriber-attributes"),{params:t})},iY=function(e){return Lc.get("sites/".concat(e,"/subscriber-attributes"),{params:{format:"csv"}})},aY=function(e,t){return Lc.post("sites/".concat(e,"/subscriber-attributes"),t)},oY=function(e,t){return Lc.delete("sites/".concat(e,"/subscriber-attributes/").concat(t))},sY=[{name:Ua("First name","pushengage"),key:"first_name"},{name:Ua("Last name","pushengage"),key:"last_name"},{name:Ua("Email","pushengage"),key:"email"},{name:Ua("Phone","pushengage"),key:"phone"},{name:Ua("Gender","pushengage"),key:"gender"},{name:Ua("Date Of birth","pushengage"),key:"dob"},{name:Ua("Language","pushengage"),key:"language"},{name:Ua("Profile ID","pushengage"),key:"profile_id"},{name:Ua("Country","pushengage"),key:"country"},{name:Ua("City","pushengage"),key:"city"},{name:Ua("State","pushengage"),key:"state"},{name:Ua("Zip code","pushengage"),key:"zip"}],lY=function(e,t){return[{title:Ua("Field Name","pushengage"),dataIndex:"name",render:function(e){return(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(mt.Z.Paragraph,{className:"pe-fs-15",children:e})})}},{title:Ua("Variable Tag","pushengage"),dataIndex:"key",render:function(e){return(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)(mt.Z.Paragraph,{children:[(0,st.jsx)("span",{children:"{{"}),"".concat(e),(0,st.jsx)("span",{children:"}}"})]})})}},{title:Ua("WP User Meta","pushengage"),dataIndex:"user_meta",width:260,render:function(t,n){var r=e&&null!==n&&void 0!==n&&n.key?e[n.key]:"";return r?(0,st.jsx)(mt.Z.Paragraph,{className:"pe-mb-0",ellipsis:{rows:1},title:r,children:r}):(0,st.jsx)(mt.Z.Paragraph,{className:"pe-mb-0 pe-text-muted",children:"-"})}},{title:Ua("Actions","pushengage"),width:180,render:function(e){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ft.default,{placement:"top",title:Ua("Copy tag","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",className:"pe-mr-4",icon:(0,st.jsx)(Sh,{className:"pe-fs-13"}),onClick:function(){return Ya("{{".concat(e.key,"}}"),Ua("Copied to clipboard","pushengage"))}})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Edit mapping","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",onClick:function(){return t(e.key)},children:(0,st.jsx)(Oh,{})})})]})}}]},cY=function(){var e=(0,oe.useState)(5),t=(0,xe.Z)(e,2),n=t[0],r=t[1],i=(0,oe.useState)({}),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)([]),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)(!1),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)(!1),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)(!1),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)(""),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=ed.Z.useForm(),E=(0,xe.Z)(N,1)[0];(0,oe.useEffect)((function(){var e=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,Promise.all([il({action:rl.GET_ALL_USER_META_KEYS}),il({action:rl.GET_ATTRIBUTE_USER_META_MAPPINGS})]);case 4:t=e.sent,n=(0,xe.Z)(t,2),r=n[0],i=n[1],null!==r&&void 0!==r&&r.success&&Array.isArray(null===r||void 0===r?void 0:r.data)&&d(r.data),null!==i&&void 0!==i&&i.success&&null!==i&&void 0!==i&&i.data&&s(i.data),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:b(!1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var O=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.validateFields();case 3:return t=e.sent,g(!0),e.next=7,il({action:rl.MAP_ATTRIBUTE_WITH_USER_META,attributeKey:S,userMetaKey:t.user_meta_key||""});case 7:return e.next=9,il({action:rl.GET_ATTRIBUTE_USER_META_MAPPINGS});case 9:null!==(n=e.sent)&&void 0!==n&&n.success&&null!==n&&void 0!==n&&n.data&&s(n.data),_(!1),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:g(!1);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(CU,{columns:lY(o,(function(e){Z(e);var t=o[e]||"";E.setFieldsValue({user_meta_key:t||void 0}),_(!0)})),striped:!1,data:sY,rowKey:"key",loading:y,emptyText:Ua("No subscriber fields were found.","pushengage"),pagination:{pageSize:n,onChange:function(e,t){t&&r(t)},position:["bottomRight"],size:"small",responsive:!0,showSizeChanger:!0,pageSizeOptions:["5","10","20","50"],showTotal:function(e,t){return(0,st.jsxs)(mt.Z.Text,{type:"secondary",children:["Showing ","".concat(t[0]," to ").concat(t[1]," of ").concat(e)]})}}}),(0,st.jsx)(gt.Z,{visible:k,onCancel:function(){return _(!1)},onOk:O,okButtonProps:{loading:h},title:Ua("Map WP User Meta","pushengage"),destroyOnClose:!0,centered:!0,children:(0,st.jsxs)(ed.Z,{layout:"vertical",form:E,preserve:!1,children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Subscriber field","pushengage"),children:(0,st.jsx)(mt.Z.Text,{code:!0,children:S})}),(0,st.jsx)(ed.Z.Item,{name:"user_meta_key",label:Ua("User meta key","pushengage"),children:(0,st.jsx)(Rv.default,{showSearch:!0,allowClear:!0,placeholder:Ua("Select user meta key","pushengage"),loading:y,optionFilterProp:"children",filterOption:function(e,t){var n;return null===t||void 0===t||null===(n=t.label)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase())},options:u.map((function(e){return{label:"".concat(jo(e)," (").concat(e,")"),value:e}}))})}),(0,st.jsx)(Ju.default,{size:"small",children:(0,st.jsx)(mt.Z.Text,{type:"secondary",children:Ua("Choose a WP user meta key to sync into this subscriber field. Clear to remove mapping.","pushengage")})})]})})]})},uY=function(e){var t=e.attribute,n=e.onAction,r=ed.Z.useForm(),i=(0,xe.Z)(r,1)[0],a=(0,oe.useState)(!1),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(!1),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)([]),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)({id:(null===t||void 0===t?void 0:t.id)||null,name:t.name,key:t.key,site_id:t.site_id,status:t.status,created_at:t.created_at,updated_at:t.updated_at}),y=(0,xe.Z)(v,1)[0];(0,oe.useEffect)((function(){i.resetFields()}),[y,i]),(0,oe.useEffect)((function(){var e=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var n,r,a,o,s,l;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Promise.all([il({action:rl.GET_ALL_USER_META_KEYS}),il({action:rl.GET_ATTRIBUTE_USER_META_MAPPINGS})]);case 4:n=e.sent,r=(0,xe.Z)(n,2),a=r[0],o=r[1],null!==a&&void 0!==a&&a.success&&Array.isArray(null===a||void 0===a?void 0:a.data)&&m(a.data),null!==o&&void 0!==o&&o.success&&null!==o&&void 0!==o&&o.data&&(s=o.data,(l=null===t||void 0===t?void 0:t.key)&&s[l]&&i.setFieldsValue({user_meta_key:s[l]})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0;case 15:p(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.key]);var b=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(r){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l(!0),!!(null===t||void 0===t||!t.id)){e.next=11;break}return e.next=6,i=t.site_id,a=t.id,o={name:r.name,key:r.key},Lc.put("sites/".concat(i,"/subscriber-attributes/").concat(a),o);case 6:if(!t.key||t.key===r.key){e.next=9;break}return e.next=9,il({action:rl.MAP_ATTRIBUTE_WITH_USER_META,attributeKey:t.key,userMetaKey:""});case 9:e.next=13;break;case 11:return e.next=13,aY(t.site_id,{name:r.name,key:r.key});case 13:return e.next=15,il({action:rl.MAP_ATTRIBUTE_WITH_USER_META,attributeKey:r.key,userMetaKey:r.user_meta_key||""});case 15:n("submit"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),e.t0;case 21:l(!1);case 22:case"end":return e.stop()}var i,a,o}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsx)(ed.Z,{id:"pe-attribute-form",form:i,initialValues:y,onFinish:b,scrollToFirstError:!0,labelAlign:"left",labelCol:{sm:{span:24},md:{span:7}},autoComplete:"off",children:(0,st.jsxs)(Tf,{children:[d&&(0,st.jsx)("div",{className:"pe-mb-16",children:(0,st.jsx)(rt.default,{active:!0,paragraph:{rows:1},title:!1})}),(0,st.jsx)(ed.Z.Item,{name:"name",label:Ua("Attribute Name","pushengage"),colon:!1,validateFirst:!0,required:!1,rules:[{required:!0,whitespace:!0,message:Ua("Attribute name is required","pushengage")}],children:(0,st.jsx)(Yc.default,{style:{minWidth:"200px"},placeholder:Ua("Attribute Name","pushengage")})}),(0,st.jsx)(ed.Z.Item,{name:"key",label:Ua("Variable Tag","pushengage"),colon:!1,validateFirst:!0,required:!1,rules:[{required:!0,whitespace:!0,message:Ua("Variable tag is required","pushengage")}],children:(0,st.jsx)(Yc.default,{style:{minWidth:"200px"},placeholder:Ua("Variable Tag","pushengage")})}),(0,st.jsx)(ed.Z.Item,{name:"user_meta_key",label:Ua("WP User Meta","pushengage"),colon:!1,required:!1,validateFirst:!0,extra:Ua("Select a WordPress user meta key to auto-sync into this attribute.","pushengage"),children:(0,st.jsx)(Rv.default,{allowClear:!0,showSearch:!0,loading:d,placeholder:Ua("Search and select user meta","pushengage"),options:g.map((function(e){return{label:"".concat(jo(e)," (").concat(e,")"),value:e}})),filterOption:function(e,t){var n;return null===t||void 0===t||null===(n=t.label)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase())}})}),(0,st.jsxs)("div",{children:[(0,st.jsx)(ed.Z.Item,{style:{display:"inline-block",marginRight:10},children:(0,st.jsx)(pt.default,{type:"primary",htmlType:"submit",loading:s,disabled:s,children:null!==t&&void 0!==t&&t.id?Ua("Update","pushengage"):Ua("Create","pushengage")})}),(0,st.jsx)(pt.default,{type:"default",className:"pe-fw-600",onClick:function(){i.resetFields(),n("cancel")},children:Ua("Cancel","pushengage")})]})]})})},dY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},pY=["icon","className","onClick","style","primaryColor","secondaryColor"],fY={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var hY=function(e){var t=e.icon,n=e.className,r=e.onClick,i=e.style,a=e.primaryColor,o=e.secondaryColor,s=(0,Sl.Z)(e,pY),l=fY;if(a&&(l={primaryColor:a,secondaryColor:o||Wl(a)}),Gl(),zl(Vl(t),"icon should be icon definiton, but got ".concat(t)),!Vl(t))return null;var c=t;return c&&"function"===typeof c.icon&&(c=(0,kn.Z)((0,kn.Z)({},c),{},{icon:c.icon(l.primaryColor,l.secondaryColor)})),Hl(c.icon,"svg-".concat(c.name),(0,kn.Z)({className:n,onClick:r,style:i,"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s))};hY.displayName="IconReact",hY.getTwoToneColors=function(){return(0,kn.Z)({},fY)},hY.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;fY.primaryColor=t,fY.secondaryColor=n||Wl(t),fY.calculated=!!n};var gY=hY;function mY(e){var t=ql(e),n=(0,xe.Z)(t,2),r=n[0],i=n[1];return gY.setTwoToneColors({primaryColor:r,secondaryColor:i})}var vY=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];mY("#1890ff");var yY=oe.forwardRef((function(e,t){var n,r=e.className,i=e.icon,a=e.spin,o=e.rotate,s=e.tabIndex,l=e.onClick,c=e.twoToneColor,u=(0,Sl.Z)(e,vY),d=oe.useContext(El).prefixCls,p=void 0===d?"anticon":d,f=Nl()(p,(n={},(0,ti.Z)(n,"".concat(p,"-").concat(i.name),!!i.name),(0,ti.Z)(n,"".concat(p,"-spin"),!!a||"loading"===i.name),n),r),h=s;void 0===h&&l&&(h=-1);var g=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,m=ql(c),v=(0,xe.Z)(m,2),y=v[0],b=v[1];return oe.createElement("span",(0,kn.Z)((0,kn.Z)({role:"img","aria-label":i.name},u),{},{ref:t,tabIndex:h,onClick:l,className:f}),oe.createElement(gY,{icon:i,primaryColor:y,secondaryColor:b,style:g}))}));yY.displayName="AntdIcon",yY.getTwoToneColor=function(){var e=gY.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},yY.setTwoToneColor=mY;var bY=yY,xY=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:dY}))};xY.displayName="ExclamationCircleOutlined";var wY=oe.forwardRef(xY),kY=mt.Z.Title,_Y=mt.Z.Paragraph,CY=function(e){var t=e.title,n=e.text,r=e.visible,i=e.onOk;return(0,st.jsxs)(gt.Z,{visible:r,closeIcon:(0,st.jsx)($c,{}),onOk:i,onCancel:i,okText:"Okay",cancelButtonProps:{style:{display:"none"}},children:[(0,st.jsx)("p",{style:{textAlign:"center"},children:(0,st.jsx)(wY,{style:{color:"rgb(250, 140, 22)",fontSize:80}})}),(0,st.jsx)(kY,{level:3,className:"pe-ta-center pe-mt-32",children:t}),(0,st.jsx)(_Y,{type:"secondary",className:"dark pe-ta-center",children:n})]})},jY=function(){var e=bt(Vr),t=bt((function(e){return e.session.user})),n=bt(Ur),r=Ld(t),i=Rd(t),a=bt(qr),o=bt((function(e){var t,n,r,i;return(null===e||void 0===e||null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.owner)||void 0===r||null===(i=r.paymentSubscription)||void 0===i?void 0:i.attribute_limit)||0})),s=function(e){return{name:"",key:"",site_id:e,status:1,created_at:"",updated_at:""}},l=(0,oe.useState)([]),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)(s(n)),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)({page:1,total:0,limit:10,lastPage:1}),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)(!1),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)(!1),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)(!1),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=(0,oe.useState)(""),P=(0,xe.Z)(T,2),M=P[0],I=P[1],D=(0,oe.useState)({}),L=(0,xe.Z)(D,2),R=L[0],B=L[1],F=(0,oe.useState)(!1),z=(0,xe.Z)(F,2),V=z[0],U=z[1],H=(0,oe.useState)(0),W=(0,xe.Z)(H,2),q=W[0],K=W[1],Y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r=a,Lc.get("accounts/".concat(r,"/count/subscriber_attribute"));case 3:n=e.sent,K(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.count),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}var r}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){e&&r&&n&&Y()}),[n]);var G=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,r,i,a,o,s,l,c,u,p,f,h=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:1,r=h.length>1&&void 0!==h[1]?h[1]:"",_(!0),e.prev=3,i={page:t,limit:10},r&&""!==r&&(i.key_like=r),e.next=8,rY(n,i);case 8:return a=e.sent,o=a&&a.data?a.data:a,d((null===o||void 0===o?void 0:o.data)||[]),s=o.page,l=o.perPage,c=o.total,u=o.lastPage,b({total:c,page:s,limit:l,lastPage:u}),p=((null===o||void 0===o?void 0:o.data)||[]).map((function(e){return e.key})),e.next=16,il({action:rl.GET_ATTRIBUTE_USER_META_MAPPINGS,currentKeys:JSON.stringify(p)});case 16:null!==(f=e.sent)&&void 0!==f&&f.success&&null!==f&&void 0!==f&&f.data?B(f.data):B({}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),e.t0;case 23:_(!1);case 24:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){Rd(t)?q>=o?U(!0):(g((0,kn.Z)({},s(n))),A(!0)):A(!1)},X=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(r){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rd(t)){e.next=3;break}return A(!1),e.abrupt("return");case 3:return e.prev=3,e.next=6,oY(n,r.id);case 6:if(!r.key){e.next=9;break}return e.next=9,il({action:rl.MAP_ATTRIBUTE_WITH_USER_META,attributeKey:r.key,userMetaKey:""});case 9:return e.next=11,Y();case 11:G(y.page,M),ie.default.success({message:Ua("Attribute deleted successfully!","pushengage")}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ld(t)){e.next=2;break}return e.abrupt("return");case 2:return Z(!0),e.prev=3,e.next=6,iY(n);case 6:To(e.sent,"SubscriberAttributes.csv"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),ie.default.error({message:Ua("Failed to export attributes","pushengage")});case 13:Z(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,oe.useEffect)((function(){e&&r&&n&&G()}),[]),(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.audience.attributes,type:"audience"}),(0,st.jsxs)(iy,{pageClassName:e&&!r?"pe-page-blocked":"",children:[!e&&(0,st.jsx)(rg,(0,kn.Z)((0,kn.Z)({},Vg),{},{btnText:Ua("Complete Your Setup","pushengage")})),(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(mt.Z.Title,{level:3,className:"pe-fs-20 pe-fw-600",children:[Ua("Attributes","pushengage"),(0,st.jsx)(ft.default,{title:(0,st.jsxs)("span",{children:[Ua('Attributes allow you to store extra details about your subscribers, enabling personalized campaigns and targeted segmentation. For instance, you could create an attribute like "payment_expiry_date" to track payment expiration dates and proactively send reminder campaigns. The ',"pushengage"),(0,st.jsx)("a",{href:"https://www.pushengage.com/api/web-sdk/#attributes",target:"_blank",rel:"noreferrer noopener",children:Ua("Attributes API.","pushengage")}),Ua(" is used to add these attributes to your subscribers.","pushengage")]}),children:(0,st.jsx)(yg,{className:"pe-ml-4 pe-fs-16 pe-cursor-help"})}),(0,st.jsx)(ft.default,{title:Ua("Export all attributes as CSV","pushengage"),children:(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-px-15",icon:(0,st.jsx)(Th,{}),onClick:$,disabled:!e,loading:S,children:Ua("Export","pushengage")})})]}),(0,st.jsx)(uH,{left:(0,st.jsx)(SK,{onSearch:function(e){I(e),b((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{page:1})})),G(1,e)},searching:k}),right:(0,st.jsxs)(pt.default,{type:"primary",size:"small",className:"pe-px-15",onClick:Q,disabled:!e||!i,children:[(0,st.jsx)(fE,{}),Ua("Create New Attribute","pushengage")]})}),(0,st.jsx)(nY,{onCreate:Q,attributes:u,loading:k,onEdit:function(e){g(e),Rd(t)?A(!0):A(!1)},onDelete:X,mappings:R}),(0,st.jsx)(uH,{right:(0,st.jsx)(mH,{pagination:y,onChange:function(e){b((function(t){return(0,kn.Z)((0,kn.Z)({},t),{},{page:e})})),G(e,M)}})})]}),r&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(mt.Z.Title,{level:3,className:"pe-fs-20 pe-fw-600",children:[Ua("Subscriber Fields","pushengage"),(0,st.jsx)(ft.default,{title:(0,st.jsxs)("span",{children:[Ua("These default fields are automatically available to every subscriber and store core information such as email and first_name. You can leverage these fields to create personalized campaigns. The ","pushengage"),(0,st.jsx)("a",{href:"https://www.pushengage.com/api/web-sdk/#identifying-subscribers",target:"_blank",rel:"noreferrer noopener",children:Ua("Identifying Subscribers API.","pushengage")}),Ua(" is used to add and manage these fields for your subscribers.","pushengage")]}),children:(0,st.jsx)(yg,{className:"pe-ml-4 pe-fs-16 pe-cursor-help"})})]}),(0,st.jsx)(Tf,{className:"mt-15",children:(0,st.jsx)(cY,{})})]})]}),(0,st.jsx)(gt.Z,{width:850,centered:!0,className:"pe-modal-form pe-custom-attribute-modal-form",title:null!==h&&void 0!==h&&h.id?Ua("Edit Attribute","pushengage"):Ua("Create a New Attribute","pushengage"),closeIcon:(0,st.jsx)($c,{}),visible:O,destroyOnClose:!0,footer:null,onCancel:function(e){e.preventDefault(),A(!1),g((0,kn.Z)({},s(n)))},maskClosable:!1,children:(0,st.jsx)(uY,{attribute:h,onAction:function(e){"submit"===e&&(G(y.page,M),Y()),g((0,kn.Z)({},s(n))),A(!1)}})}),V?(0,st.jsx)(CY,{visible:V,title:Ua("OOPS!","pushengage"),text:(0,st.jsxs)("span",{children:[Ua("You have reached the maximum number of subscriber attributes allowed for your account. Need our help? Contact us at","pushengage")," ",(0,st.jsx)("a",{href:"mailto:care@pushengage.com",rel:"noreferrer",target:"_blank",children:"care@pushengage.com"})]}),onOk:function(){return U(!1)}}):null]})};var SY=function(e,t,n){var r,i,a,o,s=Bi()(e);if(Wi()(t))return s;var l=t.options;return s.notification_title=l.title,s.notification_message=l.message,s.notification_url=n,l.image_url&&(s.notification_image=l.image_url),l.big_image_url&&(s.big_image=l.big_image_url,s.big_image_enabled=!0),null!==(r=l.actions)&&void 0!==r&&null!==(i=r[0])&&void 0!==i&&i.label&&(s.multiAction=!0,s.actions[0]=(0,kn.Z)((0,kn.Z)({},l.actions[0]),{},{url:n})),null!==(a=l.actions)&&void 0!==a&&null!==(o=a[1])&&void 0!==o&&o.label&&(s.multiActionBtn2=!0,s.actions[1]=(0,kn.Z)((0,kn.Z)({},l.actions[1]),{},{url:n})),l.expiry&&(s.duration_enabled=!0,s.expiry=l.expiry),Wi()(l.utm_params)||Object.assign(s.utm_params,l.utm_params),s},ZY=function(e){var t=e.active,n=e.label,r=e.onChange,i=e.placement,a=e.steps,o=e.rightExtra,s=e.nextVariant,l=void 0===s?"text":s,c=e.nextTooltip,u=[{key:"content",label:Ua("Content","pushengage"),Icon:xH},{key:"audience",label:Ua("Audience","pushengage"),Icon:pv},{key:"send",label:Ua("Send / Schedule","pushengage"),Icon:sc}],d=a&&a.length>0?a:u,p=Math.max(0,d.findIndex((function(e){return e.key===t}))),f=p===d.length-1,h=function(){if(!f){var e=d[p+1];e&&r(e.key)}};return(0,st.jsxs)(dt.Z,{className:"campaigns-breadcrumb-navbar placement-".concat(i),align:"middle",justify:"space-between",gutter:[16,16],children:[(0,st.jsx)(ht.Z,{flex:"1 1 auto",children:(0,st.jsx)("div",{className:"campaigns-breadcrumb",children:d.map((function(e,n){var i=e.Icon,a=e.key===t;return(0,st.jsxs)("span",{children:[(0,st.jsxs)("span",{className:"segment".concat(a?" active":" pe-cursor-pointer"),onClick:function(){return r(e.key)},children:[i?(0,st.jsx)(i,{className:"pe-mr-12 pe-fs-14"}):null," ",e.label]}),n<d.length-1?(0,st.jsx)("span",{className:"segment indicator",children:(0,st.jsx)(kd,{})}):null]},e.key)}))})}),(0,st.jsx)(ht.Z,{flex:"none",className:"campaigns-breadcrumb-right",children:(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o||null,f?null:"icon"===l?(0,st.jsx)(ft.default,{placement:"top",title:c||n,children:(0,st.jsx)(pt.default,{shape:"circle",onClick:h,icon:(0,st.jsx)(kh,{}),"aria-label":c||n})}):(0,st.jsxs)(pt.default,{type:"primary",size:"large",className:"pe-fs-15 pe-fw-600",onClick:h,children:[n," ",(0,st.jsx)(kh,{className:"pe-ml-12"})]})]})})]})},NY=mt.Z.Text,EY=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m=e.size,v=e.data,y=e.errors,b=e.onChange,x=e.enableAnother,w=e.setToggleAnother,k=e.multiActionUrlTooltipMsg,_=function(e,t){var n=e.split("."),r=Number(n[1]),i=n[2],a=(0,we.Z)(v);"label"===i&&(a[r].label=t),"url"===i&&(a[r].url=t),"image_url"===i&&(a[r].image_url=t),b(e,a,n)};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ed.Z.Item,{label:Ua("First Button Title","pushengage"),className:"pe-mt-24",validateStatus:null!==y&&void 0!==y&&y.actions&&(null===y||void 0===y||null===(t=y.actions)||void 0===t?void 0:t.length)>=1&&null!==y&&void 0!==y&&null!==(n=y.actions[0])&&void 0!==n&&n.label?"error":"",help:(null===(r=y.actions)||void 0===r?void 0:r[0].label)||void 0,children:(0,st.jsx)(Yc.default,{size:m,value:v[0].label,name:"pe_wp_btn1_title",onChange:function(e){var t;return _("data.0.label",null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},className:"".concat(v[0].label.length>12?"goal-length-exceeded":"pe-input-counter"),suffix:(0,st.jsx)("span",{className:"pe-ant-input-suffix",children:12-v[0].label.length})})}),(0,st.jsx)(ed.Z.Item,{label:(0,st.jsxs)(st.Fragment,{children:[Ua("First Button URL","pushengage"),k&&(0,st.jsx)(ft.default,{placement:"top",title:k,children:(0,st.jsx)(yg,{className:"pe-ml-4 pe-fs-16 pe-cursor-help"})})]}),validateStatus:null!==y&&void 0!==y&&y.actions&&(null===y||void 0===y||null===(i=y.actions)||void 0===i?void 0:i.length)>=1&&null!==y&&void 0!==y&&null!==(a=y.actions[0])&&void 0!==a&&a.url?"error":"",help:(null===y||void 0===y||null===(o=y.actions)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.url)||void 0,extra:Ua("Example Notification URL : https://www.pushengage.com","pushengage"),children:(0,st.jsx)(Yc.default,{size:m,value:v[0].url,name:"pe_wp_btn1_url",onChange:function(e){var t;return _("data.0.url",null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},className:"".concat(v[0].url.length>256?"goal-length-exceeded":"pe-input-counter"),suffix:(0,st.jsx)("span",{className:"pe-ant-input-suffix",children:256-v[0].url.length})})}),(0,st.jsxs)("div",{children:[(0,st.jsx)(NY,{className:"label-large pe-mb-10",children:Ua("First Button Image","pushengage")}),(0,st.jsx)(PW,{path:v[0].image_url,onChange:function(e){return _("data.0.image_url",e)}}),(0,st.jsx)("input",{type:"hidden",name:"pe_wp_btn1_image_url",value:v[0].image_url})]}),(0,st.jsx)(Vy.default,{className:"pe-mt-20",checked:x,onChange:function(e){var t,n=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.checked,r=[];r=!1===n?[(0,kn.Z)({},v[0])]:[].concat((0,we.Z)(v),[{label:"",url:"",image_url:""}]),b("",r,[]),w(n)},children:Ua("Show Second Button","pushengage")}),x&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Second Button Title","pushengage"),className:"pe-mt-24",validateStatus:null!==y&&void 0!==y&&y.actions&&(null===y||void 0===y||null===(l=y.actions)||void 0===l?void 0:l.length)>=1&&null!==y&&void 0!==y&&null!==(c=y.actions[1])&&void 0!==c&&c.label?"error":"",help:(null===(u=y.actions)||void 0===u||null===(d=u[1])||void 0===d?void 0:d.label)||void 0,children:(0,st.jsx)(Yc.default,{size:m,value:v[1].label,name:"pe_wp_btn2_title",onChange:function(e){var t;return _("data.1.label",null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},className:"".concat(v[1].label.length>12?"goal-length-exceeded":"pe-input-counter"),suffix:(0,st.jsx)("span",{className:"pe-ant-input-suffix",children:12-v[1].label.length})})}),(0,st.jsx)(ed.Z.Item,{label:(0,st.jsxs)(st.Fragment,{children:[Ua("Second Button URL","pushengage"),k&&(0,st.jsx)(ft.default,{placement:"top",title:k,children:(0,st.jsx)(yg,{className:"pe-ml-4 pe-fs-16 pe-cursor-help"})})]}),validateStatus:null!==y&&void 0!==y&&y.actions&&(null===y||void 0===y||null===(p=y.actions)||void 0===p?void 0:p.length)>=1&&null!==y&&void 0!==y&&null!==(f=y.actions[1])&&void 0!==f&&f.url?"error":"",help:(null===y||void 0===y||null===(h=y.actions)||void 0===h||null===(g=h[1])||void 0===g?void 0:g.url)||void 0,extra:Ua("Example Notification URL : https://www.pushengage.com","pushengage"),children:(0,st.jsx)(Yc.default,{size:m,value:v[1].url,name:"pe_wp_btn2_url",onChange:function(e){var t;return _("data.1.url",null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},className:"".concat(v[0].url.length>256?"goal-length-exceeded":"pe-input-counter"),suffix:(0,st.jsx)("span",{className:"pe-ant-input-suffix",children:256-v[1].url.length})})}),(0,st.jsxs)("div",{children:[(0,st.jsx)(NY,{className:"label-large pe-mb-10",children:Ua("Second Button Image","pushengage")}),(0,st.jsx)(PW,{path:v[1].image_url,onChange:function(e){return _("data.1.image_url",e)}}),(0,st.jsx)("input",{type:"hidden",name:"pe_wp_btn2_image_url",value:v[1].image_url})]})]})]})},OY=mt.Z.Text,AY=function(e){var t,n,r,i,a,o=e.campaign,s=e.onChange;return(0,st.jsxs)("div",{className:"pe-mt-24",children:[(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(OY,{className:"label-large",children:Ua("UTM Source","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:o.utm_params.utm_source,setValue:function(e){return s("utm_source",e)},testId:"utmSource",limit:{value:80},errorMessage:null===o||void 0===o||null===(t=o.errors)||void 0===t?void 0:t.utm_source})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(OY,{className:"label-large",children:Ua("UTM Medium","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:o.utm_params.utm_medium,setValue:function(e){return s("utm_medium",e)},testId:"utmMedium",limit:{value:80},errorMessage:null===o||void 0===o||null===(n=o.errors)||void 0===n?void 0:n.utm_medium})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(OY,{className:"label-large",children:Ua("UTM Campaign","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:o.utm_params.utm_campaign,setValue:function(e){return s("utm_campaign",e)},testId:"utmCampaign",limit:{value:80},errorMessage:null===o||void 0===o||null===(r=o.errors)||void 0===r?void 0:r.utm_campaign})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(OY,{className:"label-large",children:Ua("UTM Term","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:o.utm_params.utm_term,setValue:function(e){return s("utm_term",e)},testId:"utmTerm",limit:{value:80},errorMessage:null===o||void 0===o||null===(i=o.errors)||void 0===i?void 0:i.utm_term})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(OY,{className:"label-large",children:Ua("UTM Content","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:o.utm_params.utm_content,setValue:function(e){return s("utm_content",e)},testId:"utmContent",limit:{value:120},errorMessage:null===o||void 0===o||null===(a=o.errors)||void 0===a?void 0:a.utm_content})})]})]})},TY=(n(28088),n(5405)),PY=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 512 512",fill:"currentColor",focusable:"false","data-icon":"pe-heart-filled","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"})}))},MY=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:PY},e))},IY=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 512 512",fill:"currentColor",focusable:"false","data-icon":"pe-heart-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"})}))},DY=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:IY},e))},LY=mt.Z.Paragraph,RY=mt.Z.Title,BY=mt.Z.Text,FY=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f,h=(0,vt.s0)(),g=bt((function(e){return e.session.user})),m=bt((function(e){var t,n;return(null===(t=e.session.user)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.site_name)||""})),v=bt((function(e){var t,n;return(null===(t=e.session.user)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.site_url)||""})),y=bt((function(e){var t,n;return(null===(t=e.session.user)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.site_subdomain)||""})),b=bt((function(e){var t,n;return(null===(t=e.session.user)||void 0===t||null===(n=t.site)||void 0===n?void 0:n.site_image)||""})),x=bt((function(e){return e.templates.favoriteTemplateIds})),w=(0,oe.useState)(!1),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=/^https.+$/.test(v)?Jy(v):"".concat(y,".pushengage.com"),S=e.template,Z=S.options||{},N={title:Z.title,message:Z.message,btn1:{title:null!==(t=null===(n=Z.actions)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.label)&&void 0!==t?t:"",url:v,image_url:null!==(i=null===(a=Z.actions)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.image_url)&&void 0!==i?i:""},btn2:{title:null!==(s=null===(l=Z.actions)||void 0===l||null===(c=l[1])||void 0===c?void 0:c.label)&&void 0!==s?s:"",url:v,image_url:null!==(u=null===(d=Z.actions)||void 0===d||null===(p=d[1])||void 0===p?void 0:p.image_url)&&void 0!==u?u:""},url:j,imgUrl:Z.image_url||b,big_image:null!==(f=Z.big_image_url)&&void 0!==f?f:"",siteName:m},E=[{name:"Windows11 Chrome",JSX:(0,st.jsx)(jb,(0,kn.Z)((0,kn.Z)({},N),{},{url:j}))},{name:"Windows10 Chrome",JSX:(0,st.jsx)(TU,(0,kn.Z)((0,kn.Z)({},N),{},{url:j}))},{name:"Android Chrome",JSX:(0,st.jsx)(VU,(0,kn.Z)((0,kn.Z)({},N),{},{url:j}))},{name:"macOS Chrome",JSX:(0,st.jsx)(LU,(0,kn.Z)((0,kn.Z)({},N),{},{url:j}))},{name:"iOS Web",JSX:(0,st.jsx)(QU,(0,kn.Z)((0,kn.Z)({},N),{},{url:j}))},{name:"Windows10 Firefox",JSX:(0,st.jsx)(MU,(0,kn.Z)((0,kn.Z)({},N),{},{url:j}))}],O=function(t){var n,r={title:"",benefits:[],visibility:!1};null!==(n=t.actions)&&void 0!==n&&n.length&&(r={title:Sp.multiActionNotification.title,benefits:Sp.multiActionNotification.benefits,visibility:!0}),t.big_image_url&&(r={title:Sp.largeImageNotification.title,benefits:Sp.largeImageNotification.benefits,visibility:!0}),e.updatePremiumModalContent(r)},A=function(e){var t;return!!(!Kd(g)&&null!==(t=e.actions)&&void 0!==t&&t.length||!Qd(g)&&e.big_image_url)},T=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!A(Z)){t.next=3;break}return O(Z),t.abrupt("return");case 3:return t.prev=3,t.next=6,n=S.id,Lc.post("templates/".concat(n,"/usage"));case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(3);case 10:if("modal"!==e.containerType||!e.onUseTemplate){t.next=13;break}return e.onUseTemplate(S),t.abrupt("return");case 13:h("".concat($r.path.campaigns.createNotification,"?template=").concat(S.id),{state:S});case 14:case"end":return t.stop()}var n}),t,null,[[3,8]])})));return function(){return t.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Wc.Z,{className:"template-card",cover:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"template-img-content".concat(N.big_image?" has-large-img":"").concat(function(e){var t,n,r;if(null!==(t=e.actions)&&void 0!==t&&t.length&&(null!==(n=e.actions[0])&&void 0!==n&&n.image_url||null!==(r=e.actions[1])&&void 0!==r&&r.image_url))return!0;return!1}(Z)?" has-action-btn-img":""),children:(0,st.jsx)(jb,(0,kn.Z)((0,kn.Z)({},N),{},{url:j}))}),(0,st.jsxs)(dt.Z,{className:"template-hover-content pe-ta-center",children:[(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(pt.default,{type:"primary",className:"pe-w-200",onClick:T,children:Ua("Use Template","pushengage")})}),(0,st.jsx)(ht.Z,{span:24,className:"pe-mt-10",children:(0,st.jsx)(pt.default,{className:"pe-w-200",onClick:function(){C(!0)},children:Ua("Preview","pushengage")})})]}),A(Z)?(0,st.jsx)(nf.default,{className:"template-pro-tag pe-ta-center",color:"#027a48",children:Ua("PRO","pushengage")}):null]}),children:(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{span:21,children:(0,st.jsx)(BY,{ellipsis:!0,strong:!0,type:"secondary",className:"pe-mb-0 dark",title:S.name,children:S.name})}),(0,st.jsx)(ht.Z,{span:3,className:"pe-ta-right",children:x.includes(S.id)?(0,st.jsx)(MY,{className:"pe-cursor-pointer pe-color-red pe-fs-16",onClick:function(){e.updateFavoriteTemplate(S.id,!1)}}):(0,st.jsx)(DY,{className:"pe-cursor-pointer pe-color-neutral-20 pe-fs-16",onClick:function(){e.updateFavoriteTemplate(S.id,!0)}})})]})}),_&&(0,st.jsxs)("div",{className:"template-preview",children:[(0,st.jsxs)("div",{className:"template-preview-header",children:[(0,st.jsx)("div",{children:(0,st.jsx)(RY,{level:2,className:"pe-mb-0 pe-color-white",children:S.name})}),(0,st.jsxs)("div",{children:[(0,st.jsx)(pt.default,{type:"primary",onClick:T,children:Ua("Use This Template","pushengage")}),(0,st.jsx)($c,{className:"pe-color-white pe-fs-18 pe-ml-24 pe-cursor-pointer",onClick:function(){C(!1)}})]}),e.premiumModalContent.visibility&&(0,st.jsx)(Yy,{closeable:!0,planType:ii.BUSINESS,title:e.premiumModalContent.title,benefits:e.premiumModalContent.benefits||[],onClose:function(){e.updatePremiumModalContent({title:"",benefits:[],visibility:!1})}})]}),(0,st.jsxs)("div",{className:"template-preview-content  pe-bg-neutral-10",children:[(0,st.jsx)(LY,{type:"secondary",className:"pe-mt-32 pe-mb-0 dark pe-ta-center large pe-mx-auto",style:{maxWidth:800},children:Ua("Template previews are intended to give you an idea of how your broadcasts might look and can vary slightly depending on the device and browsers.","pushengage")}),(0,st.jsx)(dt.Z,{gutter:[0,48],className:"template-preview-list",children:E.map((function(e){return(0,st.jsxs)(ht.Z,{xs:24,sm:24,md:12,lg:8,className:"pe-ta-left",children:[(0,st.jsx)(RY,{level:4,className:"pe-ta-center pe-color-neutral pe-mb-16 pe-fw-500",children:e.name}),e.JSX]},e.name)}))})]})]})]})};FY.defaultProps={onUseTemplate:void 0};var zY=FY,VY=mt.Z.Title,UY=mt.Z.Text,HY=function(e){var t=bt(Ur),n=bt((function(e){return e.session.user}),Zi()),r="".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:t,drawer:!0,planType:"business",utm_medium:"Pro Templates",utm_content:"Upgrade"}));return(0,st.jsxs)(Tf,{className:"pe-mb-24",children:[(0,st.jsx)(VY,{level:3,className:"pe-ta-left pe-mb-16",children:e.heading}),(0,st.jsx)(dt.Z,{gutter:[32,24],children:e.templates.map((function(t,i){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ht.Z,{xs:24,sm:12,md:12,lg:12,xl:8,children:(0,st.jsx)(zY,{template:t,containerType:e.containerType,premiumModalContent:e.premiumModalContent,onUseTemplate:e.onUseTemplate,updateFavoriteTemplate:e.updateFavoriteTemplate,updatePremiumModalContent:e.updatePremiumModalContent})},t.id),(null===e||void 0===e?void 0:e.showUpgradeNotice)&&n&&Ed(n)&&5===i&&(0,st.jsxs)(dt.Z,{style:{background:"#fff8dc",padding:"16px"},gutter:[16,16],children:[(0,st.jsxs)(ht.Z,{xs:24,sm:24,md:16,className:"pe-pro-templates-content",children:[(0,st.jsx)(VY,{level:2,children:Ua("Create Stunning Rich Push Broadcasts with Pro Templates","pushengage")}),(0,st.jsx)(UY,{children:Ua("Elevate your push broadcasts by upgrading to Pro and gaining access to our library of Pro Templates with large images and multi-action buttons for more impactful messaging.","pushengage")})]}),(0,st.jsx)(ht.Z,{xs:24,sm:24,md:8,className:"pe-pro-templates-button",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,st.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:(0,st.jsx)(pt.default,{type:"primary",style:{height:48,display:"flex",alignItems:"center"},size:"large",className:"pe-fs-18",children:Ua("Get Pro Templates","pushengage")})})})]})]})}))})]},e.key||"")};HY.defaultProps={key:void 0};var WY=HY,qY=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 13 13",fill:"currentColor",focusable:"false","data-icon":"pe-Search-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M12.4062 11.4922L9.57031 8.65625C9.5 8.60938 9.42969 8.5625 9.35938 8.5625H9.05469C9.78125 7.71875 10.25 6.59375 10.25 5.375C10.25 2.70312 8.04688 0.5 5.375 0.5C2.67969 0.5 0.5 2.70312 0.5 5.375C0.5 8.07031 2.67969 10.25 5.375 10.25C6.59375 10.25 7.69531 9.80469 8.5625 9.07812V9.38281C8.5625 9.45312 8.58594 9.52344 8.63281 9.59375L11.4688 12.4297C11.5859 12.5469 11.7734 12.5469 11.8672 12.4297L12.4062 11.8906C12.5234 11.7969 12.5234 11.6094 12.4062 11.4922ZM5.375 9.125C3.28906 9.125 1.625 7.46094 1.625 5.375C1.625 3.3125 3.28906 1.625 5.375 1.625C7.4375 1.625 9.125 3.3125 9.125 5.375C9.125 7.46094 7.4375 9.125 5.375 9.125Z"})}))},KY=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:qY},e))},YY=mt.Z.Title,GY=mt.Z.Text,QY=function(e){var t=(0,vt.s0)(),n=_u(),r=yt(),i=bt(Ur),a=(0,oe.useState)(!1),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=bt((function(e){return e.templates.data})),u=bt((function(e){return e.templates.favoriteTemplateIds})),d=bt((function(e){return e.templates.broadcastTemplateCategories})),p=(0,oe.useState)(c),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)(""),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)([]),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)({title:"",benefits:[],visibility:!1}),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useMemo)((function(){return c.filter((function(e){return u.includes(e.id)}))}),[u,c]);(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){var t,n,a,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),c.length){e.next=8;break}return e.next=4,r(Ys());case 4:a=e.sent,o=[],null!==(t=a.payload)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.length&&(o=a.payload.data),g(o);case 8:return e.next=10,r(Gs(i));case 10:l(!1);case 11:case"end":return e.stop()}}),e)})))()}),[r,i,c]);var E=function(e){return e.length?c.filter((function(t){var n,r=(0,sp.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.categories.includes(i))return!0}}catch(a){r.e(a)}finally{r.f()}return!1})):c},O=function(e){var t=e.searchCategories,n=e.searchTerm,r=E(t);n?(r=r.filter((function(e){var t,r,i,a,o,s,l=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"",c=(null===(r=e.categories)||void 0===r?void 0:r.join(" ").toLowerCase())||"",u=(null===(i=e.options)||void 0===i||null===(a=i.title)||void 0===a?void 0:a.toLowerCase())||"",d=(null===(o=e.options)||void 0===o||null===(s=o.message)||void 0===s?void 0:s.toLowerCase())||"";return-1!==l.indexOf(n.toLowerCase())||-1!==u.indexOf(n.toLowerCase())||-1!==d.indexOf(n.toLowerCase())||-1!==c.indexOf(n.toLowerCase())})),g(r)):g(r)},A=function(e,t){var n=(0,we.Z)(u);return t&&!n.includes(e)?n.push(e):n=u.filter((function(t){return t!==e})),n},T=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var a,o,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,we.Z)(u),o=A(t,n),e.next=4,r(Xs(o));case 4:return s={favorite_templates:o},e.prev=5,e.next=8,hs(i,s);case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(5),ie.default.error({message:Ua("Failed to add template to favorite list. Please try again.","pushengage"),placement:"bottomLeft"}),e.next=15,r(Xs(a));case 15:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t,n){return e.apply(this,arguments)}}(),P=function(e){Z(e)};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{gutter:[24,16],className:"pe-mb-24",children:[(0,st.jsxs)(ht.Z,{xs:24,sm:24,md:16,className:k.length?"":"pe-d-flex",children:[(0,st.jsx)(Rv.default,{showArrow:!0,showSearch:!0,size:"small",mode:"multiple",className:"pe-mr-24",style:{width:"100%",maxWidth:240},value:k,placeholder:Ua("Please select category","pushengage"),options:function(e){var t=(0,we.Z)(e);return(t=t.filter((function(e){return!!E([e.name]).length}))).map((function(e){return{label:e.name,value:e.name}}))}(d),onChange:function(e){O({searchCategories:e,searchTerm:y}),_(e)}}),(0,st.jsx)(Yc.default,{size:"small",placeholder:Ua("Search templates","pushengage"),style:{maxWidth:240},prefix:(0,st.jsx)(KY,{className:"pe-fs-12"}),onChange:function(e){var t=e.target.value||"";b(t.trim()),O({searchCategories:k,searchTerm:t.trim()})}})]}),"page"===e.containerType&&(0,st.jsx)(ht.Z,{xs:24,sm:24,md:8,style:{display:"flex",justifyContent:n.md?"end":"start",alignItems:"center"},children:(0,st.jsx)(pt.default,{size:"small",className:"pe-btn-hollow",disabled:s,onClick:function(){t($r.path.campaigns.createNotification)},children:Ua("Use Blank Template","pushengage")})})]}),(0,st.jsx)(Hc.default,{spinning:s,children:y&&!h.length?(0,st.jsx)(Tf,{children:(0,st.jsx)(TY.default,{className:"pe-my-48",description:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(YY,{level:3,children:Ua("Sorry, no results found!","pushengage")}),(0,st.jsx)(GY,{type:"secondary",className:"dark",children:Ua("Please check the spelling or try searching for something else","pushengage")})]})})}):y&&h.length?(0,st.jsx)(WY,{heading:ba(Ua("Results for %s","pushengage"),y),templates:h,containerType:e.containerType,premiumModalContent:S,updatePremiumModalContent:P,onUseTemplate:e.onUseTemplate,updateFavoriteTemplate:T}):h.length?(0,st.jsxs)(st.Fragment,{children:[!!N.length&&!k.length&&(0,st.jsx)(WY,{heading:Ua("Your Favorite Templates","pushengage"),templates:N,containerType:e.containerType,premiumModalContent:S,updatePremiumModalContent:P,onUseTemplate:e.onUseTemplate,updateFavoriteTemplate:T}),d.map((function(t){if(k.length&&!k.includes(t.name))return null;var n=h.filter((function(e){return e.categories.includes(t.name)})).sort((function(e,t){return e.order-t.order}));if(!n.length)return null;var r=1===t.order;return(0,st.jsx)(WY,{heading:t.name,templates:n,containerType:e.containerType,showUpgradeNotice:r,premiumModalContent:S,updatePremiumModalContent:P,onUseTemplate:e.onUseTemplate,updateFavoriteTemplate:T},t.name)}))]}):(0,st.jsx)(Tf,{children:(0,st.jsx)(TY.default,{className:"pe-my-48",description:(0,st.jsx)(YY,{level:3,children:Ua("Sorry, no results found!","pushengage")})})})}),S.visibility&&(0,st.jsx)(Yy,{closeable:!0,planType:ii.BUSINESS,title:S.title,onClose:function(){Z({title:"",visibility:!1,benefits:[]})},benefits:S.benefits||[]})]})};QY.defaultProps={onUseTemplate:void 0};var XY=QY,$Y=mt.Z.Title,JY=mt.Z.Paragraph,eG=function(e){return(0,st.jsxs)(gt.Z,{title:null,visible:e.visible,closeIcon:(0,st.jsx)($c,{className:"fs-13"}),maskClosable:!1,destroyOnClose:!0,className:"campaign-template-modal no-border",width:1200,footer:null,onCancel:function(){e.onCancel(!1)},children:[(0,st.jsx)($Y,{level:1,children:Ua("Push Broadcast Templates","pushengage")}),(0,st.jsx)(JY,{type:"secondary",className:"pe-mb-24 dark",children:Ua("Get started with our expertly crafted push broadcast templates. These pre designed message formats offer popular styles carefully curated by our experts. With custom UTM parameters for each style, you can track the performance and effectiveness of your push broadcasts. Effortlessly engage your audience and gain valuable insights into your communication strategy. It's never been easier to create impactful messages and measure their impact!","pushengage")}),(0,st.jsx)(XY,{containerType:"modal",onUseTemplate:e.onUseTemplate})]})},tG=mt.Z.Title,nG=mt.Z.Text,rG=function(e){var t,n,r,i,a=e.notification,o=e.rounded,s=e.onChange,l=e.onChangeMultiActions,c=e.onChangeDuration,u=e.onChangeUtmParams,d=e.onUpdate,p=(0,oe.useState)(!1),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=bt((function(e){var t,n,r;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.site)||void 0===r?void 0:r.site_url})),v=bt((function(e){return e.globals.settings}),Zi()),y=bt((function(e){return e.session.user}),Zi());return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Wc.Z,{className:"pe-campaign-card ".concat(o?"top-left":""),bordered:!1,children:[(0,st.jsxs)(dt.Z,{justify:"space-between",className:"pe-mb-24",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(tG,{level:3,className:"pe-fw-600 pe-lh-130 pe-mb-0",children:Ua("Notification Look and Design","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(mt.Z.Link,{strong:!0,underline:!0,target:"_blank",className:"fs-12",onClick:function(){g(!0)},children:Ua("Use Template","pushengage")})})]}),(0,st.jsx)(TW,{type:"notification-generic",notification:a,onChange:s},"notification-generic")]}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",className:"pe-mb-10",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsxs)(tG,{level:3,className:"pe-fw-600 pe-lh-130 pe-mb-0",children:[Ua("Show Large Image","pushengage"),!Qd(y)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:a.big_image_enabled,onChange:function(e){return s("big_image_enabled",e)}})})]}),(0,st.jsx)(nG,{type:"secondary",className:"darker pe-lh-140",children:Ua("Make your notifications stand out with larger images.","pushengage")}),a.big_image_enabled?(0,st.jsx)(BW,{path:a.big_image,onChange:function(e,t){return s("big_image",t)},type:"big_image",error:null===a||void 0===a||null===(t=a.errors)||void 0===t?void 0:t.big_image}):null]})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",className:"pe-mb-10",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsxs)(tG,{level:3,className:"pe-fw-600 pe-lh-130 pe-mb-0",children:[Ua("Multi Action Notification","pushengage"),!Kd(y)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:null===a||void 0===a?void 0:a.multiAction,onChange:function(e){return s("multiAction",e)}})})]}),(0,st.jsx)(nG,{type:"secondary",className:"darker pe-lh-140",children:Ua("Get more clicks with multiple call-to-action buttons.","pushengage")}),null!==a&&void 0!==a&&a.multiAction?(0,st.jsx)(EY,{data:a.actions,onChange:l,enableAnother:null===a||void 0===a?void 0:a.multiActionBtn2,setToggleAnother:function(e){return s("multiActionBtn2",e)},errors:a.errors}):null]})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",className:"pe-mb-10",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(tG,{level:3,className:"pe-fw-600 pe-lh-130 pe-mb-0",children:Ua("Notification Duration","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:a.duration_enabled,onChange:function(e){return c({duration_enabled:e,require_interaction:a.require_interaction,expiry:a.expiry})}})})]}),(0,st.jsx)(nG,{type:"secondary",className:"darker pe-lh-140",children:Ua("Maximize your reach with custom notification durations (this feature is available for chrome 47 and above versions only).","pushengage")}),a.duration_enabled?(0,st.jsx)(qW,{duration:{duration_enabled:a.duration_enabled,require_interaction:a.require_interaction,expiry:a.expiry},setDuration:function(e){c({duration_enabled:a.duration_enabled,require_interaction:e.require_interaction,expiry:e.expiry})},error:null===a||void 0===a||null===(n=a.errors)||void 0===n?void 0:n.expiry}):null]})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card bottom-left",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",className:"pe-mb-10",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(tG,{level:3,className:"pe-fw-600 pe-lh-130 pe-mb-0",children:Ua("UTM Parameters","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:null===a||void 0===a||null===(r=a.utm_params)||void 0===r?void 0:r.enabled,onChange:function(e){return u("enabled",e)}})})]}),(0,st.jsx)(nG,{type:"secondary",className:"darker pe-lh-140",children:Ua("Improve your analytics with custom link attribution.","pushengage")}),null!==a&&void 0!==a&&null!==(i=a.utm_params)&&void 0!==i&&i.enabled?(0,st.jsx)(AY,{campaign:a,onChange:u}):null]})}),(0,st.jsx)(eG,{visible:h,onCancel:function(e){g(e)},onUseTemplate:function(e){var t=mq(y,v),n=SY(t,e,m);d(n),g(!1)}})]})};rG.defaultProps={rounded:!1};var iG=rG,aG=function(e){var t=e.audienceGroupDetailsForm,n=e.onChange,r=e.initialValues;return(0,st.jsxs)(ed.Z,{layout:"vertical",size:"large",preserve:!1,form:t,initialValues:r,scrollToFirstError:!0,onValuesChange:function(e,t){null===n||void 0===n||n(t)},children:[(0,st.jsx)(ed.Z.Item,{name:"enabled",valuePropName:"checked",className:"pe-mb-12",children:(0,st.jsx)(Vy.default,{children:"Save as audience group"})}),(0,st.jsx)(ed.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.enabled!==t.enabled},children:function(e){var t=(0,e.getFieldValue)("enabled");return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Name","pushengage"),name:"name",hidden:!t,validateFirst:!0,required:!1,messageVariables:{name:Ua("Name","pushengage")},rules:[{required:!0,whitespace:!0},{max:150,whitespace:!0}],children:(0,st.jsx)(Yc.default,{})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Description","pushengage"),name:"description",hidden:!t,validateFirst:!0,required:!1,messageVariables:{name:Ua("Description","pushengage")},rules:[{max:256,whitespace:!0},{required:!0,whitespace:!0}],children:(0,st.jsx)(Yc.default.TextArea,{rows:2})})]})}})]})};aG.defaultProps={onChange:void 0};var oG=aG,sG=(n(74e3),n(54625)),lG=mt.Z.Title,cG=mt.Z.Paragraph,uG=function(e){var t=e.value,n=e.onChange,r=e.audienceGroups,i=e.size;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Rv.default,{size:i,showSearch:!0,allowClear:!0,style:{width:"100%"},value:t,mode:"multiple",placeholder:Ua("---Choose audience group---","pushengage"),optionLabelProp:"label",notFoundContent:(0,st.jsx)(st.Fragment,{}),filterOption:function(e,t){return null===t||void 0===t||!t.props||"".concat(t.props.label," ").concat(t.props.desc).toLowerCase().indexOf(e.toLowerCase())>=0},onChange:function(e){e&&e.length>5?ie.default.error({message:"You can only select ".concat(5," groups at a time.")}):n(e)},dropdownRender:function(e){var t,n;return(0,st.jsxs)(st.Fragment,{children:[e,!r.length&&(0,st.jsx)("div",{children:(0,st.jsx)(sG.ZP,{title:Ua("No Audience Group Found!","pushengage"),subTitle:null!==(t=window.pushengage)&&void 0!==t&&t.isCreateEditPostPage?null:Ua("Please use send to custom audience option or create new audience group.","pushengage"),extra:null!==(n=window.pushengage)&&void 0!==n&&n.isCreateEditPostPage?null:(0,st.jsx)(ot.OL,{to:"".concat($r.path.audience.audienceGroups,"?addSite=true"),children:(0,st.jsx)(pt.default,{type:"primary",children:(0,st.jsx)("span",{className:"pe-fs-15",children:Ua("Create New Audience Group","pushengage")})})})})})]})},children:(0,st.jsx)(st.Fragment,{children:r.map((function(e){return(0,st.jsxs)(Rv.default.Option,{value:e.id,label:e.name,desc:e.description,style:{borderBottom:"solid 1px #f0f0f5"},children:[(0,st.jsx)(lG,{level:4,className:"pe-fs-14 pe-mb-2",children:e.name}),(0,st.jsx)(cG,{className:"pe-color-neutral-40 pe-mb-4",style:{maxWidth:"100%"},ellipsis:{rows:1},children:e.description})]},e.id)}))})}),(0,st.jsx)("select",{name:"pe_wp_audience_group_ids[]",multiple:!0,className:"pe-content-hidden",children:r.map((function(e){return(0,st.jsx)("option",{selected:t.includes(e.id||0),value:e.id,children:e.name},e.id)}))})]})},dG=mt.Z.Text,pG=mt.Z.Paragraph,fG=function(e){var t,n=e.notificationCriteria,r=e.audienceType,i=e.onChangeAudienceType,a=e.onChange,o=e.audienceFilterForm,s=e.audienceGroupDetailsForm,l=e.audienceGroupDetails,c=e.onChangeAudienceGroupDetails,u=bt((function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),d=bt((function(e){return e.audienceGroups.data})),p=bt((function(e){var t,n;return null===(t=e.audiences)||void 0===t||null===(n=t.segments)||void 0===n?void 0:n.data})),f=bt((function(e){return e.globals.geoSegments})),h=(0,oe.useState)(n.filter||{value:[]}),g=(0,xe.Z)(h,1)[0],m=(0,oe.useState)({segments:[],countries:[],state:[],cities:[]}),v=(0,xe.Z)(m,2),y=v[0],b=v[1];(0,oe.useEffect)((function(){b((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{cities:Object.keys((null===f||void 0===f?void 0:f.city)||{}).map((function(e){return{label:e,value:e}}))||[],state:Object.keys((null===f||void 0===f?void 0:f.state)||{}).map((function(e){return{label:e,value:e}}))||[],countries:Object.keys((null===f||void 0===f?void 0:f.country)||{}).map((function(e){return{label:e,value:e}}))||[]})}))}),[f]);var x=function(){return r===gi.ALL},w=function(){return r===gi.AUDIENCE_GROUP},k=function(){return r===gi.CUSTOM_AUDIENCE},_=function(e){r!==e&&i(e)};return(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(Wc.Z,{className:"pe-campaign-card left",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{wrap:!1,justify:"start",onClick:function(){return _(gi.ALL)},className:"pe-mb-16 pe-cursor-pointer ".concat(x()?"pe-box-primary":"pe-box-secondary"),children:[(0,st.jsx)(ht.Z,{className:"pe-mr-6",children:(0,st.jsx)(zy.default,{checked:x()})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsx)(pG,{className:"label-large pe-mb-13 pe-mt-2",children:Ua("Send to All Subscribers","pushengage")}),(0,st.jsx)(dG,{type:"secondary",className:"darker pe-fw-500",children:Ua("This broadcast message will go to all subscribers.","pushengage")})]})]}),(0,st.jsxs)(dt.Z,{wrap:!1,justify:"start",className:"pe-mb-16 ".concat(w()?"pe-box-primary":"pe-box-secondary"),children:[(0,st.jsx)(ht.Z,{className:"pe-mr-6",children:(0,st.jsx)(zy.default,{checked:w(),onChange:function(){return _(gi.AUDIENCE_GROUP)}})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsxs)("div",{className:"pe-cursor-pointer",role:"button",onKeyDown:function(){},tabIndex:0,onClick:function(){return _(gi.AUDIENCE_GROUP)},children:[(0,st.jsxs)(pG,{className:"label-large pe-mb-13 pe-mt-2",children:[Ua("Send to Audience Group","pushengage"),!Bd(u)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]}),(0,st.jsx)(dG,{type:"secondary",className:"darker pe-fw-500",children:Ua("Personalize your notification based on predefined audience group.","pushengage")})]}),w()?(0,st.jsx)("div",{className:"pe-mt-15",children:(0,st.jsx)(uG,{size:"large",value:(null===n||void 0===n||null===(t=n.audience)||void 0===t?void 0:t.groups)||[],onChange:function(e){var t=Bi()(n);t.audience?t.audience.groups=e:t.audience={groups:e},a(t)},audienceGroups:d})}):null]})]}),(0,st.jsxs)(dt.Z,{wrap:!1,justify:"start",className:"".concat(k()?"pe-box-primary":"pe-box-secondary"),children:[(0,st.jsx)(ht.Z,{className:"pe-mr-6",children:(0,st.jsx)(zy.default,{checked:k(),onChange:function(){return _(gi.CUSTOM_AUDIENCE)}})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsxs)("div",{className:"pe-cursor-pointer",role:"button",onKeyDown:function(){},tabIndex:0,onClick:function(){return _(gi.CUSTOM_AUDIENCE)},children:[(0,st.jsxs)(pG,{className:"label-large pe-mb-13 pe-mt-2",children:[Ua("Send to Custom Audience","pushengage"),!Bd(u)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]}),(0,st.jsx)(dG,{type:"secondary",className:"darker pe-fw-500",children:Ua("Personalize your notification based on segments, user's geolocation, device, and more.","pushengage")})]}),k()?(0,st.jsxs)("div",{className:"pe-mt-15",children:[(0,st.jsx)(qK,{segments:function(){var e,t,n,r,i,a=(null===u||void 0===u||null===(e=u.site)||void 0===e||null===(t=e.userSite)||void 0===t||null===(n=t.permissions)||void 0===n||null===(r=n.segments)||void 0===r||null===(i=r.access)||void 0===i?void 0:i.allowed)||[],o=a.length>0?p.filter((function(e){return a.indexOf(e.segment_id)>-1})):p;return o.map((function(e){return{label:e.segment_name,value:e.segment_id}}))}(),countries:y.countries,states:y.state,cities:y.cities,form:o,initialValues:g,onValuesChange:function(e){var t=(0,kn.Z)((0,kn.Z)({},n),{},{filter:e});a(t)}}),(0,st.jsx)("div",{style:{marginTop:-16},children:(0,st.jsx)(oG,{audienceGroupDetailsForm:s,onChange:c,initialValues:l})})]}):null]})]})]})})})},hG=mt.Z.Title,gG=mt.Z.Text,mG=mt.Z.Paragraph,vG=function(e){var t,n,r,i,a,o,s,l,c,u,d=e.campaign,p=e.isAb,f=e.hasTimezonePermission,h=e.onTypeChange,g=e.onUpdate,m=_u(),v=bt(Ur),y=bt((function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.user})),b=bt((function(e){return e.globals.settings.timezone})),x=bt(rs),w=(0,oe.useState)(d.sche_options.schedule_time),k=(0,xe.Z)(w,2),_=k[0],C=k[1];(0,oe.useEffect)((function(){C(d.sche_options.schedule_time)}),[d.sche_options.schedule_time]);var j=function(){return f?p?(0,st.jsxs)("div",{className:"pe-color-neutral-60 pe-fw-500 pe-lh-140",children:[Ua("Your notification will be scheduled in the timezone","pushengage")," ",null!==b&&void 0!==b&&b.value?"(".concat(b.value,")"):""," ",Ua("which you have configured in your","pushengage")," ",(0,st.jsx)(ot.OL,{className:"pe-fs-14",target:"_blank",to:$r.path.settings.siteDetails,children:Ua("Timezone Settings.","pushengage")})]}):(0,st.jsxs)("div",{children:[(0,st.jsxs)(mG,{type:"secondary",className:"dark pe-fw-500 pe-lh-140",children:[Ua("When","pushengage")," ",(0,st.jsx)("b",{children:Ua("Send Notifications in Subscribers timezone","pushengage")})," ",Ua("is enabled, multiple scheduled notifications will be created, each in different timezone of subscribers. If scheduled time is elapsed in a timezone, then notifications will be sent immediately to those subscribers.","pushengage")]}),(0,st.jsxs)(gG,{type:"secondary",className:"dark pe-fw-500 pe-lh-140",children:[Ua("Your notification will be scheduled in the timezone","pushengage")," ",null!==b&&void 0!==b&&b.value?"(".concat(b.value,")"):""," ",Ua("which you have configured in your","pushengage")," ",(0,st.jsxs)(ot.OL,{className:"pe-fs-14",target:"_blank",to:$r.path.settings.siteDetails,children:[Ua("Timezone Settings","pushengage"),"."]})]})]}):(0,st.jsxs)("div",{className:"pe-color-neutral-60 pe-fw-500 pe-lh-140",children:[Ua("Your current plan doesn't support the Subscribers Timezone feature.","pushengage")," ",(0,st.jsx)(pt.default,{type:"link",onClick:function(){window.open("".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({utm_medium:"CampaignsCreateOrEditSubscribersTimeZone",utm_content:"Upgrade Your Plan.",sid:v,drawer:!0,planType:ii.GROWTH})),"_blank")},children:Ua("Upgrade Your Plan.","pushengage")})]})};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Wc.Z,{className:"pe-campaign-card top-left".concat(p?"":"bottom-left"),bordered:!1,style:{minHeight:p?"auto":"100%"},children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{wrap:!1,justify:"start",className:"pe-mb-16 ".concat(""===(null===d||void 0===d?void 0:d.scheduleType)?"pe-box-primary":"pe-box-secondary"),children:[(0,st.jsx)(ht.Z,{className:"pe-mr-6",children:(0,st.jsx)(zy.default,{checked:d.scheduleType===ui.NOW,onChange:function(){return h(ui.NOW)}})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(mG,{className:"label-large pe-mb-10 pe-mt-2 pe-cursor-pointer",onClick:function(){return h(ui.NOW)},children:Ua("Begin sending immediately","pushengage")})})]}),(0,st.jsxs)(dt.Z,{wrap:!1,justify:"start",className:"".concat(d.scheduleType===ui.SCHEDULE?"pe-box-primary":"pe-box-secondary"),children:[(0,st.jsx)(ht.Z,{className:"pe-mr-6",children:(0,st.jsx)(zy.default,{checked:d.scheduleType===ui.SCHEDULE,onChange:function(){return h(ui.SCHEDULE)}})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsxs)(mG,{className:"label-large pe-mb-10 pe-mt-2 pe-cursor-pointer",onClick:function(){return h(ui.SCHEDULE)},children:[Ua("Begin sending at a particular day and time","pushengage"),!Md(y)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]}),d.scheduleType===ui.SCHEDULE?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{gutter:[4,16],children:[(0,st.jsx)(ht.Z,{flex:"190px",children:(0,st.jsx)(zf.default,{size:"small",style:{width:"100%"},suffixIcon:(0,st.jsx)(Uf,{}),format:"YYYY-MM-DD",defaultValue:null!==d&&void 0!==d&&d.valid_from?ei()(null===d||void 0===d?void 0:d.valid_from):void 0,disabledDate:function(e){return e&&e.valueOf()<=ei()().subtract(1,"days").endOf("day")},onChange:function(e){var t=e?e.format("YYYY-MM-DD"):"",n=e&&d.valid_from?ei()(d.valid_from).format("HH:mm:ss"):"";g((0,kn.Z)((0,kn.Z)({},Bi()(d)),{},{valid_from:ta()("".concat(t," ").concat(n)),errors:(0,kn.Z)((0,kn.Z)({},d.errors),{},{valid_from:""})}))},allowClear:!1})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(WV.Z,{use12Hours:!0,format:"h:mm A",size:"small",allowClear:!1,defaultValue:null!==d&&void 0!==d&&d.valid_from?ei()(null===d||void 0===d?void 0:d.valid_from):void 0,style:{width:"130px"},onChange:function(e){var t=e?e.format("HH:mm:ss"):"00:00:00",n=d.valid_from?ei()(d.valid_from).format("YYYY-MM-DD"):ei()().utcOffset(x).add(1,"day").format("YYYY-MM-DD");g((0,kn.Z)((0,kn.Z)({},Bi()(d)),{},{valid_from:ta()("".concat(n," ").concat(t)),errors:(0,kn.Z)((0,kn.Z)({},Bi()(d.errors)),{},{valid_from:""})}))}})})]}),d.errors.valid_from?(0,st.jsx)("div",{className:"pe-ant-form-item-explain pe-ant-form-item-explain-error",children:d.errors.valid_from}):null,(0,st.jsx)("div",{className:"pe-my-24",children:(0,st.jsx)(ft.default,{title:p?Ua("AB Campaign can\u2019t be scheduled in subscribers\u2019 timezone","pushengage"):void 0,children:(0,st.jsx)(Vy.default,{checked:f&&d.sendInSubTimezone,onChange:function(e){var t=Bi()(d);t.sendInSubTimezone=e.target.checked,g(t)},disabled:!f||p,children:Ua("Send broadcasts in your subscribers\u2019 timezone","pushengage")})})}),(0,st.jsx)("div",{children:f?(0,st.jsx)(j,{}):(0,st.jsx)(Au.default,{showIcon:!0,type:"warning",message:j(),icon:(0,st.jsx)(Up,{})})})]}):null]})]}),p?null:(0,st.jsxs)(dt.Z,{wrap:!1,justify:"start",className:"pe-mt-16 ".concat((null===d||void 0===d?void 0:d.scheduleType)===ui.REPEAT_SCHEDULE?"pe-box-primary":"pe-box-secondary"),children:[(0,st.jsx)(ht.Z,{className:"pe-mr-6",children:(0,st.jsx)(zy.default,{checked:d.scheduleType===ui.REPEAT_SCHEDULE,onChange:function(){return h(ui.REPEAT_SCHEDULE)}})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsxs)(mG,{className:"label-large pe-mb-10 pe-mt-2 pe-cursor-pointer",onClick:function(){return h(ui.REPEAT_SCHEDULE)},children:[Ua("Set up a recurring notification","pushengage"),!Id(y)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]}),(null===d||void 0===d?void 0:d.scheduleType)===ui.REPEAT_SCHEDULE?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{className:"pe-mt-28 pe-mb-10",align:"middle",gutter:[16,16],children:[(0,st.jsx)(ht.Z,{flex:"170px",children:(0,st.jsxs)(gG,{className:"label-large",children:[Ua("Schedule between","pushengage"),":"]})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsxs)(dt.Z,{gutter:[4,16],wrap:m.xs,children:[(0,st.jsx)(ht.Z,{flex:"160px",children:(0,st.jsx)(zf.default,{placeholder:"Start date",size:"small",style:{width:"90%"},suffixIcon:(0,st.jsx)(Uf,{}),disabledDate:function(e){return e&&e<ei()().utcOffset(x).subtract(1,"days").startOf("day")},defaultValue:null!==d&&void 0!==d&&null!==(t=d.sche_options)&&void 0!==t&&t.schedule_start_date?ei()(null===d||void 0===d||null===(n=d.sche_options)||void 0===n?void 0:n.schedule_start_date):ei()().utcOffset(x).startOf("day"),onChange:function(e){var t,n=Bi()(d);n.sche_options.schedule_start_date=e?e.format("YYYY-MM-DD"):"",null!==n&&void 0!==n&&null!==(t=n.errors)&&void 0!==t&&t.repeat_schedule_start_end_date&&(n.errors.repeat_schedule_start_end_date=""),g(n)}})}),(0,st.jsx)(ht.Z,{flex:"160px",children:(0,st.jsx)(zf.default,{placeholder:"End date",size:"small",suffixIcon:(0,st.jsx)(Uf,{}),style:{width:"90%"},disabledDate:function(e){return d.sche_options.schedule_start_date&&""!==d.sche_options.schedule_start_date?e&&e<ei()(d.sche_options.schedule_start_date).utcOffset(x).startOf("day"):e&&e<=ei()().utcOffset(x).subtract(1,"day").startOf("day")},defaultValue:null!==d&&void 0!==d&&null!==(r=d.sche_options)&&void 0!==r&&r.schedule_end_date?ei()(null===d||void 0===d||null===(i=d.sche_options)||void 0===i?void 0:i.schedule_end_date):ei()().utcOffset(x).add(7,"days").startOf("day"),onChange:function(e){var t,n=Bi()(d);n.sche_options.schedule_end_date=e?e.format("YYYY-MM-DD"):"",null!==n&&void 0!==n&&null!==(t=n.errors)&&void 0!==t&&t.repeat_schedule_start_end_date&&(n.errors.repeat_schedule_start_end_date=""),g(n)}})})]})})]}),null!==d&&void 0!==d&&null!==(a=d.errors)&&void 0!==a&&a.repeat_schedule_start_end_date?(0,st.jsx)("div",{className:"pe-ant-form-item-explain pe-ant-form-item-explain-error",children:null===d||void 0===d||null===(o=d.errors)||void 0===o?void 0:o.repeat_schedule_start_end_date}):null,(0,st.jsx)(Cu.Z,{className:"pe-my-32"}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsxs)(ht.Z,{sm:{span:12},xs:{span:24},children:[(0,st.jsxs)(gG,{className:"label-large pe-mb-20",children:[Ua("Send on following days","pushengage"),":"]}),(0,st.jsx)(Vy.default.Group,{style:{display:"block"},defaultValue:d.sche_options.schedule_days,onChange:function(e){var t=Bi()(d);t.sche_options.schedule_days=e,t.errors.schedule_days="",g(t)},children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map((function(e){return(0,st.jsxs)(dt.Z,{align:"middle",className:"pe-mb-14",children:[(0,st.jsx)(Vy.default,{value:e}),(0,st.jsx)(gG,{className:"pe-fs-15 pe-ml-14",children:Ka(e)})]},e)}))}),null!==d&&void 0!==d&&null!==(s=d.errors)&&void 0!==s&&s.schedule_days?(0,st.jsx)("div",{className:"pe-ant-form-item-explain pe-ant-form-item-explain-error",children:null===d||void 0===d||null===(l=d.errors)||void 0===l?void 0:l.schedule_days}):null]}),(0,st.jsxs)(ht.Z,{sm:{span:12},xs:{span:24},children:[(0,st.jsxs)(gG,{className:"label-large pe-mb-20",children:[Ua("Send each day at","pushengage"),":"]}),(0,st.jsxs)("div",{children:[_&&_.length>0?_.map((function(e,t){return(0,st.jsxs)("p",{className:"pe-d-flex",children:[(0,st.jsx)(WV.Z,{use12Hours:!0,inputReadOnly:!0,allowClear:!1,value:ei()(e,"hh:mm A"),format:"h:mm A",style:{width:"150px"},onChange:function(e){var n=Bi()(d);n.sche_options.schedule_time[t]=e?e.format("HH:mm:ss"):"",g(n)}}),t>0?(0,st.jsx)(pt.default,{type:"default",shape:"circle",size:"small",className:"pe-ml-16",onClick:function(){var e=(0,we.Z)(_);e.splice(t,1);var n=Bi()(d);n.sche_options.schedule_time=e,C(e),g(n)},children:(0,st.jsx)(Nh,{})}):null]},e+t)})):null,(0,st.jsx)("p",{children:(0,st.jsxs)(pt.default,{type:"text",size:"small",onClick:function(){var e=Bi()(d);e.sche_options.schedule_time.push("13:00:00"),g(e)},children:[(0,st.jsx)(oU,{}),(0,st.jsx)("span",{className:"export-table-data",children:Ua("Add Schedule Time","pushengage")})]})})]})]})]})]}):null]})]})]})}),p?(0,st.jsx)(Wc.Z,{className:"pe-campaign-card bottom-left",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",className:"pe-mb-10",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(hG,{level:3,className:"pe-mb-0 pe-fw-600 pe-lh-130",children:Ua("Intelligent AB Test","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:d.isIntelligentAB,onChange:function(e){var t=Bi()(d);t.isIntelligentAB=e,t.errors.winner_delay="",g(t)}})})]}),(0,st.jsx)(gG,{type:"secondary",className:"dark pe-fw-500 pe-lh-140",children:Ua("Intelligent AB test allows you to test the performance of A and B campaigns for a sample size of subscribers for the specified duration. Please define the sample size and test duration. The notification which performs better (CTR) will be sent to remaining subscribers.","pushengage")}),d.isIntelligentAB?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{className:"pe-mt-24 ",gutter:[16,16],wrap:m.xs,children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-12",children:(0,st.jsxs)(gG,{className:"label-large",children:[Ua("Sample Size","pushengage"),(0,st.jsx)(ft.default,{overlayStyle:{maxWidth:400},placement:"top",title:Ua("Send your AB notification to a percentage of your selected audience (minimum 1000 subscribers). After the delay duration, the rest of your subscribers will be sent the winning notification.","pushengage"),children:(0,st.jsx)(yg,{className:"pe-fs-12 pe-ml-4 pe-cursor-help"})})]})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsxs)(ed.Z.Item,{validateStatus:d.errors.sent_limit_percentage?"error":void 0,help:d.errors.sent_limit_percentage||void 0,children:[(0,st.jsx)(ed.Z.Item,{noStyle:!0,children:(0,st.jsx)(rW.Z,{min:1,max:99,defaultValue:null===d||void 0===d||null===(c=d.execution_state)||void 0===c||null===(u=c.abc)||void 0===u?void 0:u.sent_limit_percentage,onChange:function(e){var t=Bi()(d);t.execution_state.abc.sent_limit_percentage=e,t.errors.sent_limit_percentage="",g(t)}})}),(0,st.jsx)("span",{className:"pe-ml-5 pe-fs-15",children:"\xa0%"})]})})]}),(0,st.jsxs)(dt.Z,{gutter:[16,16],wrap:!1,children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-12",children:(0,st.jsxs)(gG,{className:"label-large",children:["Delay",(0,st.jsx)(ft.default,{overlayStyle:{maxWidth:400},placement:"top",title:Ua("The delay is the amount of time to wait before deciding the winner notification and sending it to remaining subscribers. Should be between 30 minute and 7 days.","pushengage"),children:(0,st.jsx)(yg,{className:"pe-fs-12 pe-ml-4 pe-cursor-help"})})]})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(ed.Z.Item,{validateStatus:d.errors.winner_delay?"error":void 0,help:d.errors.winner_delay,children:(0,st.jsx)(UW,{value:60*d.execution_state.abc.winner_delay,maxDayValue:8,width:140,onChange:function(e){var t=Bi()(d);t.execution_state.abc.winner_delay=Math.floor(e/60),t.errors.winner_delay="",g(t)}})})})]})]}):null]})}):null]})};function yG(e,t){var n,r=Pi()(e,["notification_title","notification_message","notification_url","notification_image","big_image","utm_params","require_interaction","expiry"]);(e.notification_image||delete r.notification_image,e.big_image_enabled||delete r.big_image,e.multiAction&&e.actions.length&&(r.actions=function(e){var t=[],n=e.actions[0];return n.image_url||delete n.image_url,t.push(n),e.multiActionBtn2&&((n=e.actions[1]).image_url||delete n.image_url,t.push(n)),t}(e)),e.duration_enabled)||(r.require_interaction=1,r.expiry=(null===(n=t.default_notification_expiry)||void 0===n?void 0:n.value)||li.EXPIRY);if(e.utm_params.enabled){var i,a;if(!e.utm_params.utm_term)null===(i=r.utm_params)||void 0===i||delete i.utm_term;if(""===e.utm_params.utm_content)null===(a=r.utm_params)||void 0===a||delete a.utm_content}else delete r.utm_params;return r}function bG(e){var t,n={};if(e.execution_state.result_name&&(n.result_name=e.execution_state.result_name),e.isIntelligentAB)n.abc=e.execution_state.abc,n.params=e.execution_state.params;else if(e.isSendToSample&&null!==(t=e.execution_state.params)&&void 0!==t&&t.sent_limit){var r,i;n.params={sent_limit:null===e||void 0===e||null===(r=e.execution_state)||void 0===r||null===(i=r.params)||void 0===i?void 0:i.sent_limit}}return n}var xG=function(e){var t={};if(e.selectedAudienceType===gi.ALL)return t;if(e.selectedAudienceType===gi.AUDIENCE_GROUP){var n;if(Wi()(null===(n=e.notification_criteria.audience)||void 0===n?void 0:n.groups))throw new Error(Ua("Please select audience group","pushengage"));return t.audience=e.notification_criteria.audience,t}if(e.selectedAudienceType===gi.CUSTOM_AUDIENCE)return t.filter=NE(e.notification_criteria.filter),t;throw new Error(Ua("Please select audience","pushengage"))},wG=function(e,t){var n,r=yG(e,t);r.notification_criteria=xG(e);var i=bG(e);return Wi()(i)||(r.execution_state=i),r.status=di.SENT,r.source=pi.DASHBOARD,e.scheduleType===ui.SCHEDULE?(r.valid_from=e.valid_from,r.status=di.SCHEDULED,e.sendInSubTimezone&&(r.source=pi.PARENT_SUB_TIMEZONE,r.is_timezone_send=1)):e.scheduleType===ui.REPEAT_SCHEDULE&&(r.sche_options=e.sche_options,r.source=pi.REPEAT_SCHEDULED,r.is_repeat_repeat_scheduled=1),r.current_date_time=ei()().utcOffset((null===(n=t.timezone)||void 0===n?void 0:n.offset)||0).format("YYYY-MM-DD HH:mm:ss"),r},kG=function(e,t){var n,r={A:yG(e.A,t),B:yG(e.B,t)},i=e.A;r.notification_criteria=xG(i);var a=bG(i);return Wi()(a)||(r.execution_state=a),r.status=di.SENT,r.source=pi.DASHBOARD,i.scheduleType===ui.SCHEDULE?(r.valid_from=i.valid_from,r.status=di.SCHEDULED,i.sendInSubTimezone&&(r.source=pi.PARENT_SUB_TIMEZONE)):i.scheduleType===ui.REPEAT_SCHEDULE&&(r.sche_options=i.sche_options,r.source=pi.REPEAT_SCHEDULED),r.current_date_time=ei()().utcOffset((null===(n=t.timezone)||void 0===n?void 0:n.offset)||0).format("YYYY-MM-DD HH:mm:ss"),r},_G=function(e){var t,n,r,i,a=e.user,o=e.notification,s=bt((function(e){var t;return null===(t=e.siteSettings.data.service_worker)||void 0===t?void 0:t.worker})),l=(0,oe.useState)("all"),c=(0,xe.Z)(l,2),u=c[0],d=c[1];return(0,st.jsx)(Wc.Z,{bordered:!1,className:"pe-campaign-card right",style:{minHeight:"100%"},children:(0,st.jsxs)("div",{className:"push-notification-preview",children:[(0,st.jsx)(FW,{isIosPushAvailable:a.site&&a.site.is_android,isAndroidPushAvailable:a.site&&a.site.is_ios,changePreviewType:d,notificationPreviewPicker:u}),(0,st.jsx)(pt.default,{size:"large",className:"pe-btn-secondary pe-mt-16 pe-mb-24",block:!0,onClick:function(){xb((0,kn.Z)((0,kn.Z)({},o),{},{serviceWorkerPath:s}))},children:Ua("Test Notification","pushengage")}),(0,st.jsx)($U,{title:(null===o||void 0===o?void 0:o.notification_title)||"Sample Title",message:(null===o||void 0===o?void 0:o.notification_message)||"Sample Message",btn1:{title:null!==o&&void 0!==o&&o.multiAction&&null!==o&&void 0!==o&&o.actions&&null!==o&&void 0!==o&&o.actions[0]?(null===o||void 0===o?void 0:o.actions[0].label)||"Button1 text":"",url:null!==o&&void 0!==o&&o.actions&&null!==o&&void 0!==o&&o.actions[0]?null===o||void 0===o?void 0:o.actions[0].url:"",image_url:null!==o&&void 0!==o&&o.actions&&null!==o&&void 0!==o&&o.actions[0]?null===o||void 0===o?void 0:o.actions[0].image_url:""},btn2:{title:null!==o&&void 0!==o&&o.multiAction&&null!==o&&void 0!==o&&o.multiActionBtn2&&null!==o&&void 0!==o&&o.actions&&null!==o&&void 0!==o&&o.actions[1]?(null===o||void 0===o?void 0:o.actions[1].label)||"Button2 text":"",url:null!==o&&void 0!==o&&o.multiAction&&null!==o&&void 0!==o&&o.multiActionBtn2&&null!==o&&void 0!==o&&o.actions&&null!==o&&void 0!==o&&o.actions[1]?null===o||void 0===o?void 0:o.actions[1].url:"",image_url:null!==o&&void 0!==o&&o.multiAction&&null!==o&&void 0!==o&&o.multiActionBtn2&&null!==o&&void 0!==o&&o.actions&&null!==o&&void 0!==o&&o.actions[1]?null===o||void 0===o?void 0:o.actions[1].image_url:""},url:/^https.+$/.test(null!==a&&void 0!==a&&a.site?null===a||void 0===a||null===(t=a.site)||void 0===t?void 0:t.site_url:"")?Jy(null!==a&&void 0!==a&&a.site?null===a||void 0===a||null===(n=a.site)||void 0===n?void 0:n.site_url:""):"".concat(null!==a&&void 0!==a&&a.site?null===a||void 0===a||null===(r=a.site)||void 0===r?void 0:r.site_subdomain:"",".pushengage.com"),imgUrl:null===o||void 0===o?void 0:o.notification_image,notificationPreviewPicker:u,big_image:null!==o&&void 0!==o&&o.big_image_enabled&&null!==o&&void 0!==o&&o.big_image?null===o||void 0===o?void 0:o.big_image:"",androidBtn1Label:Ii()(o,"app_push.android_push.action_buttons[0].label",""),androidBtn2Label:Ii()(o,"app_push.android_push.action_buttons[1].label",""),iosBtn1Label:Ii()(o,"app_push.ios_push.action_buttons[0].label",""),iosBtn2Label:Ii()(o,"app_push.ios_push.action_buttons[1].label",""),siteName:(null===a||void 0===a||null===(i=a.site)||void 0===i?void 0:i.site_name)||""})]})})},CG=mt.Z.Text,jG=mt.Z.Paragraph,SG=function(e){var t,n,r,i,a,o,s,l,c,u,d=e.campaign,p=function(e){var t=e.join(", "),n=t.lastIndexOf(",");return n>=0?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("strong",{children:t.substring(0,n)})," ",Ua("and","pushengage"),(0,st.jsx)("strong",{children:t.substring(n+1,t.length)})]}):(0,st.jsx)("strong",{children:t})};return(0,st.jsxs)(st.Fragment,{children:[d.scheduleType===ui.NOW?(0,st.jsxs)("div",{className:"pe-mt-24",children:[(0,st.jsx)(Uf,{className:"pe-fs-18"}),(0,st.jsx)(CG,{className:"pe-ml-16 large pe-fw-500",children:Ua("Push Immediately","pushengage")})]}):null,d.scheduleType===ui.SCHEDULE?(0,st.jsxs)("div",{className:"pe-mt-24",children:[(0,st.jsx)(Uf,{className:"pe-fs-18"}),(0,st.jsxs)(CG,{className:"pe-ml-16 large pe-fw-500",children:["Push on\xa0",(0,st.jsx)(CG,{className:"large pe-fw-500",children:ei()(null===d||void 0===d?void 0:d.valid_from).isValid()?ei()(null===d||void 0===d?void 0:d.valid_from).format("MM/DD/YYYY"):"-"}),"\xa0at\xa0",(0,st.jsx)(CG,{className:"large pe-fw-500",children:ei()(null===d||void 0===d?void 0:d.valid_from).isValid()?ei()(null===d||void 0===d?void 0:d.valid_from).format("h:mm A"):"-"})]})]}):null,d.scheduleType===ui.REPEAT_SCHEDULE?(0,st.jsxs)("div",{className:"pe-mt-24",style:{maxWidth:"260px",textAlign:"start",margin:"auto"},children:[(0,st.jsxs)(dt.Z,{gutter:[10,16],wrap:!1,children:[(0,st.jsx)(ht.Z,{flex:"32px",className:"pe-mt-4",children:(0,st.jsx)(Uf,{className:"pe-fs-18"})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsxs)(jG,{className:"large pe-mb-10 pe-fw-500",children:[Ua("Push between","pushengage"),":",(0,st.jsx)("br",{}),(0,st.jsx)("strong",{children:ei()(null===d||void 0===d||null===(t=d.sche_options)||void 0===t?void 0:t.schedule_start_date).isValid()?ei()(null===d||void 0===d||null===(n=d.sche_options)||void 0===n?void 0:n.schedule_start_date).format("MM/DD/YYYY"):""}),null!==d&&void 0!==d&&null!==(r=d.sche_options)&&void 0!==r&&r.schedule_start_date&&null!==d&&void 0!==d&&null!==(i=d.sche_options)&&void 0!==i&&i.schedule_end_date?" ".concat(Ua("and","pushengage")," "):null,(0,st.jsx)("strong",{children:ei()(null===d||void 0===d||null===(a=d.sche_options)||void 0===a?void 0:a.schedule_end_date).isValid()?ei()(null===d||void 0===d||null===(o=d.sche_options)||void 0===o?void 0:o.schedule_end_date).format("MM/DD/YYYY"):""})]})})]}),(null===d||void 0===d||null===(s=d.sche_options)||void 0===s||null===(l=s.schedule_days)||void 0===l?void 0:l.length)>0?(0,st.jsxs)(dt.Z,{wrap:!1,children:[(0,st.jsx)(ht.Z,{flex:"32px",className:"pe-mt-4",children:(0,st.jsx)(Uf,{className:"pe-fs-18"})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsxs)(jG,{className:"large pe-mb-10 pe-fw-500",children:[Ua("On every","pushengage"),": ",(0,st.jsx)("br",{}),(null===d||void 0===d||null===(c=d.sche_options)||void 0===c?void 0:c.schedule_days.length)>0?p(d.sche_options.schedule_days.map((function(e){return Ka(e)}))):"-"]})})]}):null,(0,st.jsxs)(dt.Z,{wrap:!1,align:"top",children:[(0,st.jsx)(ht.Z,{flex:"32px",className:"pe-mt-4",children:(0,st.jsx)(Gq,{className:"pe-fs-18"})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsxs)(jG,{className:"large pe-mb-0 pe-fw-500",children:[Ua("Send each day at","pushengage"),": ",(0,st.jsx)("br",{}),(null===d||void 0===d||null===(u=d.sche_options)||void 0===u?void 0:u.schedule_time.length)>0?p(d.sche_options.schedule_time.map((function(e){return ei()("".concat(ei()().format("YYYY-MM-DD")," ").concat(e)).format("h:mm A")}))):"-"]})})]})]}):null]})},ZG=mt.Z.Paragraph,NG=function(e){var t=e.filtered,n=e.total,r=Number(_o((100*t/(n||1)).toFixed(2)));return(0,st.jsx)(Lb.default,{type:"circle",strokeLinecap:"butt",strokeColor:"#4b59D0",trailColor:"#dedee5",strokeWidth:5,width:180,percent:r,format:function(){return(0,st.jsxs)("div",{children:[(0,st.jsx)(ZG,{className:"pe-fw-600 pe-fs-48 pe-mb-0 pe-lh-125 pe-color-primary",style:{fontSize:48},children:wo(t)}),(0,st.jsx)(ZG,{type:"secondary",className:"dark pe-fw-600 pe-mb-0 pe-lh-130 pe-fs-18",children:"/ ".concat(wo(n))})]})}})},EG=mt.Z.Text,OG=function(){var e=(0,vt.s0)(),t=nx(),n=(0,vt.UO)(),r=(0,vt.TH)(),i=yt(),a=ed.Z.useForm(),o=(0,xe.Z)(a,1)[0],s=ed.Z.useForm(),l=(0,xe.Z)(s,1)[0],c=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.currentSite})),u=bt((function(e){var t,n,r;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.site)||void 0===r?void 0:r.site_url})),d=bt((function(e){return e.audienceGroups.data})),p=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),f=bt((function(e){var t;return null===(t=e.siteSettings.data.service_worker)||void 0===t?void 0:t.worker})),h=bt(Vr),g=Yd(p),m=bt((function(e){return e.globals.settings}),Zi()),v=(0,oe.useState)(!1),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useState)(!1),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=(0,oe.useState)(0),S=(0,xe.Z)(j,2),Z=S[0],N=S[1],E=(0,oe.useState)("A"),O=(0,xe.Z)(E,2),A=O[0],T=O[1],P=(0,oe.useState)("content"),M=(0,xe.Z)(P,2),I=M[0],D=M[1],L=(0,oe.useState)({action:"",loading:!1}),R=(0,xe.Z)(L,2),B=R[0],F=R[1],z=(0,oe.useState)((function(){return mq(p,m)})),V=(0,xe.Z)(z,2),U=V[0],H=V[1],W=(0,oe.useState)((function(){return vq(p,m)})),q=(0,xe.Z)(W,2),K=q[0],Y=q[1],G=(0,oe.useState)(!1),Q=(0,xe.Z)(G,2),X=Q[0],$=Q[1],J=(0,oe.useState)(!1),ee=(0,xe.Z)(J,2),te=ee[0],ne=ee[1],re=(0,oe.useState)(!1),ae=(0,xe.Z)(re,2),se=ae[0],le=ae[1],ce=(0,oe.useState)(!1),ue=(0,xe.Z)(ce,2),de=ue[0],pe=ue[1],fe=(0,oe.useState)({type:"",visible:!1}),he=(0,xe.Z)(fe,2),ge=he[0],me=he[1],ve=(0,oe.useState)(!0),ye=(0,xe.Z)(ve,2),be=ye[0],ke=ye[1],_e=(0,oe.useState)({enabled:!1,name:"",description:""}),Ce=(0,xe.Z)(_e,2),je=Ce[0],Se=Ce[1],Ze=(0,oe.useState)({total:0,filtered:0,loading:!1}),Ne=(0,xe.Z)(Ze,2),Ee=Ne[0],Oe=Ne[1],Ae=(0,oe.useState)(!1),Te=(0,xe.Z)(Ae,2),Pe=Te[0],Me=Te[1],Ie=(0,oe.useState)(""),De=(0,xe.Z)(Ie,2),Le=De[0],Re=De[1],Be=_&&(U.status===di.REPEAT_SCHEDULED||U.status===di.PAUSE_REPEAT_SCHEDULED||!0===U.sendInSubTimezone),Fe=function(){var a=(0,at.Z)((0,it.Z)().mark((function a(){var o,s,l,d,f,h,g,m,v,y,b,w,k,_,j,S;return(0,it.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=!1,s=!1,l=0,d=0,f=U,r.pathname!==$r.path.campaigns.createNotification){a.next=10;break}l=Number(t.get("notification")),d=Number(t.get("template")),a.next=18;break;case 10:if(l=Number(n.id)){a.next=14;break}return e($r.path.campaigns.createNotification),a.abrupt("return");case 14:o=!0,C(!0),N(l),s="ab"===t.get("type");case 18:if(!d){a.next=35;break}if(h=r.state,!Wi()(h)){a.next=32;break}return ke(!0),a.prev=22,a.next=25,Ks(d);case 25:g=a.sent,h=g.data||[],a.next=31;break;case 29:a.prev=29,a.t0=a.catch(22);case 31:ke(!1);case 32:return m=SY(U,h,u),H(m),a.abrupt("return");case 35:return a.next=37,i(es({siteId:c})).unwrap();case 37:if(v=a.sent,y=(null===v||void 0===v?void 0:v.data)||{},l){a.next=43;break}return f=mq(p,y),H(f),a.abrupt("return");case 43:return a.prev=43,a.next=46,mh(c,l);case 46:j=a.sent,w=(null===(k=j.data)||void 0===k?void 0:k.A)&&(null===(_=j.data)||void 0===_?void 0:_.B),b=j.data,a.next=55;break;case 51:return a.prev=51,a.t1=a.catch(43),e($r.path.campaigns.notifications),a.abrupt("return");case 55:w||s?Yd(p)?(S=vq(p,y,b),Y(S),x(!0),f=S.A):(pe(!0),o&&C(!1),s&&!w&&(f=mq(p,y,b),H(f))):(f=mq(p,y,b),H(f));case 56:case"end":return a.stop()}}),a,null,[[22,29],[43,51]])})));return function(){return a.apply(this,arguments)}}();(0,oe.useEffect)((function(){h&&Dd(p)?(i(ts({siteId:c,type:"city,country,state"})),Op(c).then((function(e){Oe((function(t){return{total:e.data.count,filtered:t.filtered||e.data.count,loading:!1}}))})).catch(Wa),ke(!0),Fe().then((function(){ke(!1)}))):e($r.path.campaigns.notifications)}),[c,e]),(0,oe.useEffect)((function(){var e=function(e){if(b){var t=Bi()(K);t.A.notification_criteria=e,Y(t)}else{var n=Bi()(U);n.notification_criteria=e,H(n)}};(0,at.Z)((0,it.Z)().mark((function t(){var n,r,a,o,s,l,u,d,f,h,g,m,v,y,x,w,k,_,C,j;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],a=[],!Bd(p)){t.next=11;break}return t.next=5,Promise.all([i(Os(c)).unwrap(),i(Vs(c)).unwrap()]);case 5:o=t.sent,s=(0,xe.Z)(o,2),l=s[0],u=s[1],r=l||[],a=u||[];case 11:if(!hq((d=b?K.A:U).notification_criteria)){t.next=14;break}return t.abrupt("return");case 14:if(f=pq(d.notification_criteria.filter),h=(null===(n=d.notification_criteria.audience)||void 0===n?void 0:n.groups)||[],!Wi()(h)||!Wi()(f)){t.next=20;break}g=d.notification_criteria.filter,t.next=47;break;case 20:if(Wi()(h)){t.next=35;break}g={value:[]},m=!1,v=function(e){var t,n=a.find((function(t){return t.id===h[e]}));if(!n)return m=!0,"break";(t=g.value).push.apply(t,(0,we.Z)(n.filter.value))},y=0;case 25:if(!(y<(null===h||void 0===h?void 0:h.length))){t.next=32;break}if("break"!==v(y)){t.next=29;break}return t.abrupt("break",32);case 29:y+=1,t.next=25;break;case 32:m&&(g.value=[],x=(0,kn.Z)((0,kn.Z)({},d.notification_criteria),{},{audience:{groups:[]}}),e(x),ie.default.error({message:Ua("Selected Audience group used in this campaign no longer exists. Please verify the selected audience before sending the campaign.","pushengage"),duration:0})),t.next=47;break;case 35:if(Wi()(f)){t.next=47;break}w=!1,k=function(e){var t,n,i=r;Wi()(null===(t=p.site)||void 0===t?void 0:t.userSite.permissions.segments.access.allowed)||(i=null===(n=p.site)||void 0===n?void 0:n.userSite.permissions.segments.access.allowed);if(!i.find((function(t){return t.segment_id===f[e]})))return w=!0,"break"},_=0;case 39:if(!(_<(null===f||void 0===f?void 0:f.length))){t.next=46;break}if("break"!==k(_)){t.next=43;break}return t.abrupt("break",46);case 43:_+=1,t.next=39;break;case 46:w?(g={value:[]},C=(0,kn.Z)((0,kn.Z)({},d.notification_criteria),{},{filter:{value:[[{field:"",op:"",value:""}]]}}),e(C),ie.default.error({message:Ua("Custom audience filter in this campaign has been updated because used segments no longer exists. Please verify the selected audience before sending the campaign.","pushengage"),duration:0})):g=d.notification_criteria.filter;case 47:if(hq({filter:g})){t.next=59;break}return t.prev=48,g=NE(g),t.next=52,Ep(c,{filter:g});case 52:j=t.sent,Oe((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{filtered:j.data.count,loading:!1})})),t.next=59;break;case 56:t.prev=56,t.t0=t.catch(48),t.t0;case 59:case"end":return t.stop()}}),t,null,[[48,56]])})))()}),[]);var ze=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=b?K.A:U).selectedAudienceType!==gi.ALL){e.next=3;break}return e.abrupt("return",Ee.total);case 3:if(n={value:[]},t.selectedAudienceType!==gi.AUDIENCE_GROUP){e.next=10;break}if(n={value:[]},i=null===(r=t.notification_criteria.audience)||void 0===r?void 0:r.groups,!Wi()(i)){e.next=9;break}throw new Error(Ua("Please select audience group","pushengage"));case 9:null===i||void 0===i||i.forEach((function(e){var t,r=d.find((function(t){return t.id===e}));if(!r)throw new Error(Ua("Selected audience group no longer exists. Please select another audience group","pushengage"));(t=n.value).push.apply(t,(0,we.Z)(r.filter.value))}));case 10:if(t.selectedAudienceType!==gi.CUSTOM_AUDIENCE){e.next=20;break}return e.prev=11,e.next=14,o.validateFields();case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(11),new Error(Ua("Please fix the error in custom audience selection.","pushengage"));case 19:n=NE(o.getFieldsValue());case 20:return e.next=22,Ep(c,{filter:n});case 22:return a=e.sent,e.abrupt("return",a.data.count);case 24:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe((0,kn.Z)((0,kn.Z)({},Ee),{},{loading:!0})),e.prev=1,e.next=4,ze();case 4:t=e.sent,Oe((0,kn.Z)((0,kn.Z)({},Ee),{},{filtered:t,loading:!1})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),ie.default.error({message:e.t0.message||Ua("An error has occurred!","pushengage")}),Oe((0,kn.Z)((0,kn.Z)({},Ee),{},{loading:!1}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(e,t){if("multiAction"!==e||Kd(p))if("big_image_enabled"!==e||Qd(p))if(b){var n=Bi()(K),r="A"===A?n.A:n.B;r[e]=t,r.errors[e]="","big_image_enabled"===e&&(r.errors.big_image=""),Y(n)}else{var i=Bi()(U);i[e]=t,i.errors[e]="","big_image_enabled"===e&&(i.errors.big_image=""),H(i)}else ne(!0);else $(!0)},He=function(e,t,n){var r=Number(n[1]),i=n[2];if(b){var a,o,s,l=Bi()(K),c="A"===A?l.A:l.B;c.actions=t,null!==(a=c.errors)&&void 0!==a&&null!==(o=a.actions)&&void 0!==o&&null!==(s=o[r])&&void 0!==s&&s[i]&&(c.errors.actions[r][i]=""),Y(l)}else{var u,d,p,f=Bi()(U);f.actions=t,null!==(u=f.errors)&&void 0!==u&&null!==(d=u.actions)&&void 0!==d&&null!==(p=d[r])&&void 0!==p&&p[i]&&(f.errors.actions[r][i]=""),H(f)}},We=function(e){if(b){var t=Bi()(K),n="A"===A?t.A:t.B;n.require_interaction=e.require_interaction,n.expiry=e.expiry,n.duration_enabled=e.duration_enabled,n.errors.expiry="",Y(t)}else H((0,kn.Z)((0,kn.Z)((0,kn.Z)({},Bi()(U)),e),{},{errors:(0,kn.Z)((0,kn.Z)({},U.errors),{},{expiry:""})}))},qe=function(e,t){if(b){var n=Bi()(K),r="A"===A?n.A:n.B;r.utm_params[e]=t,r.errors[e]="",Y(n)}else{var i=Bi()(U);i.utm_params[e]=t,i.errors[e]="",H(i)}},Ke=function(){var e=$N(U);return e.isValid||gt.Z.error({className:"pe-notification-validation-modal",width:500,content:(0,st.jsx)(lq,{title:Ua("Please fix the following issues:","pushengage"),messages:null===e||void 0===e?void 0:e.messages}),okButtonProps:{size:"small"}}),e},Ye=function(){var e=$N(K.A),t=$N(K.B);return e.isValid&&t.isValid||(gt.Z.error({className:"pe-notification-validation-modal",width:500,content:(0,st.jsxs)("div",{children:[e.isValid?null:(0,st.jsx)(lq,{title:Ua("Notification A has following errors.","pushengage"),messages:null===e||void 0===e?void 0:e.messages}),t.isValid?null:(0,st.jsx)(lq,{title:Ua("Notification B has following errors.","pushengage"),messages:null===t||void 0===t?void 0:t.messages})]}),okButtonProps:{size:"small"}}),e.isValid||"A"===A?t.isValid||"B"===A||T("B"):T("A")),{A:e,B:t,isValid:e.isValid&&t.isValid}},Ge=function(e){var t=function(e,t,n){var r,i,a,o,s,l,c,u,d={notification_title:"",notification_message:"",notification_url:"",big_image:"",actions:[{label:"",url:"",image_url:""},{label:"",url:"",image_url:""}],expiry:"",utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:"",valid_from:"",multiSite:"",schedule_days:"",repeat_schedule_start_end_date:"",sent_limit:"",sent_limit_percentage:"",winner_delay:"",maxSubCount:""},p=!1;if(e.scheduleType===ui.REPEAT_SCHEDULE&&(e.sche_options.schedule_days.length||(p=!0,d.schedule_days=YN.emptyRepeatScheduleDay),null!==e&&void 0!==e&&null!==(r=e.sche_options)&&void 0!==r&&r.schedule_start_date&&null!==e&&void 0!==e&&null!==(i=e.sche_options)&&void 0!==i&&i.schedule_end_date||(p=!0,d.repeat_schedule_start_end_date=Ua("Choose schedule start & end date for repeat schedule","pushengage")),null!==e&&void 0!==e&&null!==(a=e.sche_options)&&void 0!==a&&a.schedule_start_date&&null!==e&&void 0!==e&&null!==(o=e.sche_options)&&void 0!==o&&o.schedule_end_date&&(ei()(e.current_date_time).format("YYYY-MM-DD")>e.sche_options.schedule_start_date||ei()(e.current_date_time).format("YYYY-MM-DD")>e.sche_options.schedule_end_date)&&(p=!0,d.repeat_schedule_start_end_date=Ua("Scheduled start & end date can not be less than current date.","pushengage")),null!==e&&void 0!==e&&null!==(s=e.sche_options)&&void 0!==s&&s.schedule_start_date&&null!==e&&void 0!==e&&null!==(l=e.sche_options)&&void 0!==l&&l.schedule_end_date&&ei()(null===e||void 0===e||null===(c=e.sche_options)||void 0===c?void 0:c.schedule_start_date).isAfter(null===e||void 0===e||null===(u=e.sche_options)||void 0===u?void 0:u.schedule_end_date)&&(p=!0,d.repeat_schedule_start_end_date=Ua("Repeat schedule start date must be less or equal to end date","pushengage"))),e.scheduleType===ui.SCHEDULE&&!vo(e.valid_from)&&e.current_date_time>e.valid_from&&(p=!0,d.valid_from=Ua("Scheduled date and time can not be less than current date and time","pushengage")),t.total<=0&&"sent"===n&&(p=!0,d.maxSubCount=Ua("Cannot create a notification for 0 subscribers","pushengage")),e.isIntelligentAB){var f;if(null!==(f=e.execution_state)&&void 0!==f&&f.abc){var h=Number(e.execution_state.abc.winner_delay);h<li.ABC_MIN_WINNER_DELAY&&(p=!0,d.winner_delay=ba(Ua("Minimum delay must be %1d minutes or above.","pushengage"),li.ABC_MIN_WINNER_DELAY)),h>li.ABC_MAX_WINNER_DELAY&&(p=!0,d.winner_delay=Ua("Maximum delay can be of 7 days.","pushengage"))}var g=Math.floor(e.execution_state.abc.sent_limit_percentage*t.total/100);g<li.ABC_MIN_SENT_LIMIT&&(p=!0,d.sent_limit_percentage=ba(Ua("Cannot create Intelligent AB Test notification for a sample size less than %1$d subscribers. Only %2$d subscribers matched.","pushengage"),li.ABC_MIN_SENT_LIMIT,g))}return!e.isIntelligentAB&&e.isSendToSample&&(e.execution_state.params.sent_limit<1?(p=!0,d.sent_limit=Ua("Recipient count should be greater than 0","pushengage")):e.execution_state.params.sent_limit>t.filtered&&(p=!0,d.sent_limit=ba(Ua("Recipient count should be less than selected subscribers count %1d","pushengage"),t.filtered))),{errors:d,isValid:!p}}(b?K.A:U,Ee,e);return t},Qe=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,s,c,u,d,p,f,h,g,m,v,y=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y.length>0&&void 0!==y[0]?y[0]:"switch",n=y.length>1?y[1]:void 0,r=!1,"content"!==I&&"submit"!==t){e.next=7;break}if(b?(i=Ye()).isValid||((a=Bi()(K)).A.errors=i.A.errors,a.B.errors=i.B.errors,Y(a),r=!0):(s=Ke()).isValid||((c=Bi()(U)).errors=s.errors,H(c),r=!0),!r){e.next=7;break}return e.abrupt("return",!1);case 7:if("submit"!==t&&"audience"!==I){e.next=27;break}if((u=b?K.A:U).selectedAudienceType!==gi.CUSTOM_AUDIENCE){e.next=26;break}return e.prev=10,e.next=13,o.validateFields();case 13:if(!je.enabled){e.next=16;break}return e.next=16,l.validateFields();case 16:if(!fq(u.notification_criteria.filter)){e.next=18;break}throw new Error;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(10),r=!0,ie.default.error({message:Ua("Please fix the error in custom audience selection.","pushengage")});case 24:e.next=27;break;case 26:u.selectedAudienceType===gi.AUDIENCE_GROUP&&Wi()(null===(d=u.notification_criteria.audience)||void 0===d?void 0:d.groups)&&(r=!0,ie.default.error({message:Ua("Please select an audience group","pushengage")}));case 27:if("submit"!==t&&"send"!==I){e.next=51;break}if((p=Ge(n)).isValid){e.next=33;break}return b?((f=Bi()(K)).A.errors=p.errors,Y(f)):((h=Bi()(U)).errors=p.errors,H(h)),r=!0,e.abrupt("return",!1);case 33:if("submit"!==t||!b||!K.A.isIntelligentAB||"sent"!==n){e.next=51;break}return e.prev=34,Oe((0,kn.Z)((0,kn.Z)({},Ee),{},{loading:!0})),e.next=38,ze();case 38:g=e.sent,m=Math.floor(g*K.A.execution_state.abc.sent_limit_percentage/100),v=Bi()(K),m<li.ABC_MIN_SENT_LIMIT?(v.A.errors.sent_limit_percentage="".concat(Ua("Cannot create Intelligent AB Test notification for a sample size less than","pushengage")," ").concat(li.ABC_MIN_SENT_LIMIT," ").concat(Ua("subscribers","pushengage")," (").concat(Ua("only","pushengage")," ").concat(m," ").concat(Ua("subscribers matched","pushengage"),")"),r=!0):(v.A.execution_state.params.sent_limit=m,K.A.execution_state.params.sent_limit=m),Y(v),Oe((0,kn.Z)((0,kn.Z)({},Ee),{},{filtered:g,loading:!1})),e.next=51;break;case 46:e.prev=46,e.t1=e.catch(34),Oe((0,kn.Z)((0,kn.Z)({},Ee),{},{loading:!1})),ie.default.error({message:Ua("An error occurred!","pushengage"),description:null===e.t1||void 0===e.t1?void 0:e.t1.message}),e.t1;case 51:return e.abrupt("return",!r);case 52:case"end":return e.stop()}}),e,null,[[10,20],[34,46]])})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe();case 3:e.sent&&(D(t),null===(n=document.getElementById("pe-notification-automation-form"))||void 0===n||n.scrollIntoView({behavior:"smooth"})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$e=function(){if((b?K.A:U).selectedAudienceType===gi.CUSTOM_AUDIENCE){var e=o.getFieldsValue(),t=l.getFieldsValue();if(Se(t),b){var n=Bi()(K);n.A.notification_criteria.filter=e,Y(n)}else{var r=Bi()(U);r.notification_criteria.filter=e,H(r)}}},Je=function(e){"audience"===I&&$e(),Xe(e)},et=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=U,b&&(t="A"===A?K.A:K.B),xb((0,kn.Z)((0,kn.Z)({},t),{},{serviceWorkerPath:f}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(e){return e.filter?NE(e.filter):{value:[]}},nt=function(e){var t={name:je.name,description:je.description,filter:tt(e)};return Rs(c,t)},ot=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n,r,i,a,o,s,l,u=arguments;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:"sent",F({action:n,loading:!0}),t.prev=2,t.next=5,Qe("submit",n);case 5:if(!t.sent){t.next=50;break}if(i={action:n},!b){t.next=15;break}return t.next=11,kG(Bi()(K),m);case 11:r=t.sent,i.type="ab",t.next=18;break;case 15:return t.next=17,wG(Bi()(U),m);case 17:r=t.sent;case 18:if(!b){t.next=31;break}if(K.A.selectedAudienceType!==gi.CUSTOM_AUDIENCE){t.next=29;break}if(!je.enabled){t.next=27;break}return t.next=23,nt(r.notification_criteria);case 23:a=t.sent,r.A.notification_criteria={audience:{groups:[a.data.id]}},t.next=29;break;case 27:o=tt(K.A.notification_criteria),r.A.notification_criteria={filter:o};case 29:t.next=41;break;case 31:if(U.selectedAudienceType!==gi.CUSTOM_AUDIENCE){t.next=41;break}if(!je.enabled){t.next=39;break}return t.next=35,nt(r.notification_criteria);case 35:s=t.sent,r.notification_criteria={audience:{groups:[s.data.id]}},t.next=41;break;case 39:l=tt(U.notification_criteria),r.notification_criteria={filter:l};case 41:if(!_){t.next=46;break}return t.next=44,yh(c,Z,r,i);case 44:t.next=48;break;case 46:return t.next=48,vh(c,r,i);case 48:ie.default.success({message:"".concat(Ua("Notification","pushengage")," ").concat("draft"===n?Ua("saved","pushengage"):r.status===di.SENT?Ua("sent","pushengage"):Ua("scheduled","pushengage"))}),e($r.path.campaigns.notifications);case 50:t.next=55;break;case 52:t.prev=52,t.t0=t.catch(2),ie.default.error({message:Ua("An error occurred!","pushengage"),description:null===t.t0||void 0===t.t0?void 0:t.t0.message});case 55:F({action:"",loading:!1});case 56:case"end":return t.stop()}}),t,null,[[2,52]])})));return function(){return t.apply(this,arguments)}}(),lt=function(){var e,t,n;return b?(null===K||void 0===K||null===(t=K.A)||void 0===t||null===(n=t.errors)||void 0===n?void 0:n.maxSubCount)||!1:(null===U||void 0===U||null===(e=U.errors)||void 0===e?void 0:e.maxSubCount)||!1};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Pf,{title:Ua(_?"Edit Push Broadcast":"Create New Push Broadcast","pushengage")}),(0,st.jsxs)(iy,{children:[te&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.largeImageNotification),{},{closeable:!0,onClose:function(){ne(!1)}})),X&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.multiActionNotification),{},{closeable:!0,onClose:function(){return $(!1)}})),de&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.abNotification),{},{closeable:!0,onClose:function(){return pe(!1)}})),se&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Le===gi.CUSTOM_AUDIENCE?Sp.customAudience:Sp.notificationAudience),{},{closeable:!0,onClose:function(){return le(!1)}})),ge.visible&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},ge.type===ui.SCHEDULE?Sp.scheduledNotification:Sp.repeatScheduledNotification),{},{closeable:!0,onClose:function(){return me((0,kn.Z)((0,kn.Z)({},ge),{},{visible:!1}))}})),Pe&&(0,st.jsx)(Cy,{text:Ua("You don't have write permission to perform this action. Please contact to your admin.","pushengage"),onOk:function(){return Me(!1)},visible:Pe}),(0,st.jsxs)("div",{className:"page new-push-broadcast",id:"page",children:[(0,st.jsx)(aq,{title:Ua(_?"Edit Push Broadcast":"New Push Broadcast","pushengage"),editable:{editing:!1},children:"content"!==I||Be?null:(0,st.jsx)("span",{children:(0,st.jsx)(pt.default,{type:"text",size:"small",onClick:function(){if(!Be)if(g){if(b)H(K.A);else{var e=Bi()(K);e.A=U,Y(e)}x((function(e){return!e}))}else pe(!0)},className:"pe-fw-400 pe-pl-0",style:{color:"#47485d"},children:b?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(jv,{className:"pe-mr-10"}),(0,st.jsx)(EG,{underline:!0,style:{color:"#47485d"},children:Ua("Remove A/B Testing","pushengage")})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(oU,{className:"pe-mr-10"}),(0,st.jsx)(EG,{underline:!0,style:{color:"#47485d"},children:Ua("Add A/B Testing","pushengage")})]})})})}),be?(0,st.jsx)(rt.default,{active:!0}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ZY,{placement:"top",onChange:Je,label:Ua("content"===I?"Save & Select Audience":"Send / Schedule","pushengage"),active:I}),"content"===I?(0,st.jsx)(ed.Z,{layout:"vertical",id:"pe-notification-automation-form",size:"large",className:"pe-push-campaign-form",children:b?(0,st.jsx)("div",{children:(0,st.jsxs)(ay.default,{onChange:function(e){T(e)},className:"pe-ab-noti-tab",activeKey:A,children:[(0,st.jsx)(ay.default.TabPane,{tab:Ua("Notification A","pushengage"),children:(0,st.jsxs)(dt.Z,{gutter:[12,20],align:"stretch",children:[(0,st.jsx)(ht.Z,{md:15,sm:24,xs:24,children:(0,st.jsx)(iG,{notification:K.A,onChange:Ue,onChangeMultiActions:He,onChangeDuration:We,onChangeUtmParams:qe,onUpdate:function(e){var t=Bi()(K);t.A=e,Y(t)}})}),(0,st.jsx)(ht.Z,{md:9,sm:24,xs:24,children:(0,st.jsx)(_G,{user:p,notification:K.A})})]})},"A"),(0,st.jsx)(ay.default.TabPane,{tab:Ua("Notification B","pushengage"),children:(0,st.jsxs)(dt.Z,{gutter:[12,20],align:"stretch",children:[(0,st.jsx)(ht.Z,{md:15,sm:24,xs:24,children:(0,st.jsx)(iG,{notification:K.B,onChange:Ue,onChangeMultiActions:He,onChangeDuration:We,onChangeUtmParams:qe,onUpdate:function(e){var t=Bi()(K);t.B=e,Y(t)}})}),(0,st.jsx)(ht.Z,{md:9,sm:24,xs:24,children:(0,st.jsx)(_G,{user:p,notification:K.B})})]})},"B")]})}):(0,st.jsxs)(dt.Z,{gutter:[12,20],align:"stretch",children:[(0,st.jsx)(ht.Z,{md:15,sm:24,xs:24,children:(0,st.jsx)(iG,{rounded:!0,notification:U,onChange:Ue,onChangeMultiActions:He,onChangeDuration:We,onChangeUtmParams:qe,onUpdate:function(e){return H(e)}})}),(0,st.jsx)(ht.Z,{md:9,sm:24,xs:24,children:(0,st.jsx)(_G,{user:p,notification:b?"A"===A?K.A:K.B:U})})]})}):null,"audience"===I?(0,st.jsxs)(dt.Z,{align:"stretch",gutter:[4,20],children:[(0,st.jsx)(ht.Z,{md:15,sm:24,xs:24,children:(0,st.jsx)(fG,{notificationCriteria:b?K.A.notification_criteria:U.notification_criteria,onChange:function(e){if(b){var t=Bi()(K);t.A.notification_criteria=e,Y(t)}else H((function(t){return(0,kn.Z)((0,kn.Z)({},t),{},{notification_criteria:e})}))},audienceFilterForm:o,audienceType:b?K.A.selectedAudienceType:U.selectedAudienceType,onChangeAudienceType:function(e){if(Ed(p)&&e!==gi.ALL)return Re(e),void le(!0);if(e!==gi.CUSTOM_AUDIENCE||Fd(p))if(b){var t=Bi()(K);t.A.selectedAudienceType=e,Y(t)}else{var n=Bi()(U);n.selectedAudienceType=e,H(n)}else Me(!0)},audienceGroupDetailsForm:l,audienceGroupDetails:je,onChangeAudienceGroupDetails:Se})}),(0,st.jsx)(ht.Z,{md:9,sm:24,xs:24,children:(0,st.jsxs)(Wc.Z,{className:"pe-campaign-card right pe-ta-center",bordered:!1,style:{height:"100%"},children:[(0,st.jsx)(EG,{className:"large",children:Ua("Selected Subscribers","pushengage")}),(0,st.jsx)("div",{className:"pe-mt-20 pe-mb-20 pe-ta-center",children:(0,st.jsx)(NG,{total:Ee.total,filtered:Ee.filtered})}),(0,st.jsx)("div",{children:(0,st.jsx)(pt.default,{size:"small",className:"pe-px-12 pe-fw-600",onClick:Ve,loading:Ee.loading,disabled:Ee.loading,children:Ua("Refresh count","pushengage")})})]})})]}):null,"send"===I?(0,st.jsxs)(dt.Z,{gutter:[4,20],align:"stretch",children:[(0,st.jsx)(ht.Z,{md:15,sm:24,xs:24,children:(0,st.jsx)(vG,{campaign:b?K.A:U,onTypeChange:function(e){if(e!==ui.SCHEDULE||Md(p))if(e!==ui.REPEAT_SCHEDULE||Id(p))if(b){var t=Bi()(K);t.A.scheduleStatus=e!==ui.NOW?"later":"now",t.A.scheduleType=e,t.A.sendInSubTimezone=!1,Y(t)}else{var n=Bi()(U);n.scheduleStatus=e===ui.NOW?"now":"later",n.scheduleType=e,e!==ui.NOW&&e!==ui.REPEAT_SCHEDULE||(n.sendInSubTimezone=!1),H(n)}else me({visible:!0,type:e});else me({visible:!0,type:e})},onUpdate:function(e){if(b){var t=Bi()(K);t.A=e,Y(t)}else H(e)},isAb:b,hasTimezonePermission:Pd(p)})}),(0,st.jsx)(ht.Z,{md:9,sm:24,xs:24,children:(0,st.jsx)(Wc.Z,{className:"pe-campaign-card right pe-ta-center",bordered:!1,style:{minHeight:"100%"},children:(0,st.jsxs)("div",{style:{textAlign:"center"},children:[(0,st.jsx)("div",{className:"pe-mb-20",children:(0,st.jsx)(NG,{total:Ee.total,filtered:Ee.filtered})}),lt()?(0,st.jsx)("div",{className:"pe-ant-form-item-explain pe-ant-form-item-explain-error pe-mb-16",children:lt()}):null,(0,st.jsxs)("div",{style:{maxWidth:"280px",margin:"auto"},children:[b||U.sendInSubTimezone?null:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Ju.default,{align:"center",size:14,children:[(0,st.jsx)(Lv.Z,{defaultChecked:b?K.A.isSendToSample:U.isSendToSample,onChange:function(e){if(b){var t=Bi()(K);t.A.isSendToSample=e,t.A.errors.sent_limit="",Y(t)}else{var n=Bi()(U);n.isSendToSample=e,n.errors.sent_limit="",H(n)}}}),(0,st.jsx)(EG,{className:"large pe-fw-500",children:Ua("Send to a sample","pushengage")})]}),(b?K.A.isSendToSample:U.isSendToSample)?(0,st.jsxs)("div",{className:"pe-mt-32",children:[(0,st.jsx)(EG,{className:"pe-fs-15",strong:!0,children:Ua("Recipient Count","pushengage")}),(0,st.jsx)("div",{className:"pe-mt-10 pe-mb-10",children:(0,st.jsx)(rW.Z,{size:"large",style:{maxWidth:"186px",width:"60%"},value:b?K.A.execution_state.params.sent_limit:U.execution_state.params.sent_limit,min:1,onChange:function(e){if(b){var t=Bi()(K);t.A.execution_state.params.sent_limit=e,t.A.errors.sent_limit="",Y(t)}else{var n=Bi()(U);n.execution_state.params.sent_limit=e,n.errors.sent_limit="",H(n)}}})}),U.errors.sent_limit?(0,st.jsx)("div",{className:"pe-ant-form-item-explain pe-ant-form-item-explain-error pe-mb-10",children:U.errors.sent_limit}):null]}):null]}),(0,st.jsx)(SG,{campaign:b?K.A:U}),(0,st.jsx)(pt.default,{type:"default",size:"large",className:"pe-btn-secondary pe-mt-32 pe-mb-16 pe-fw-600 pe-fs-15",block:!0,onClick:et,children:Ua("Test Notification","pushengage")}),(0,st.jsx)(pt.default,{type:"primary",size:"large",style:{height:50},className:"pe-mb-20 pe-fw-600 pe-fs-15",block:!0,icon:(0,st.jsx)(sc,{}),onClick:function(){return ot("sent")},disabled:B.loading,loading:"sent"===B.action&&B.loading,children:b?K.A.scheduleType===ui.NOW?Ua("Send Notification Now","pushengage"):Ua("Schedule Notification","pushengage"):U.scheduleType===ui.NOW?Ua("Send Notification Now","pushengage"):Ua("Schedule Notification","pushengage")}),(0,st.jsx)("div",{className:"pe-ta-center",children:(0,st.jsx)(pt.default,{type:"text",icon:(0,st.jsx)(IH,{}),onClick:function(){return ot("draft")},disabled:B.loading,loading:"draft"===B.action&&B.loading,children:(0,st.jsx)("span",{className:"underline-text",children:Ua("Save as Draft","pushengage")})})})]})]})})})]}):null,(0,st.jsx)("div",{children:(0,st.jsx)(ZY,{placement:"bottom",onChange:Je,label:Ua("content"===I?"Save & Select Audience":"Send / Schedule","pushengage"),active:I})})]})]})]})]})},AG=mt.Z.Title,TG=mt.Z.Paragraph,PG=function(){return(0,st.jsxs)(ct,{containerClassName:"pe-pt-0",children:[(0,st.jsx)(dt.Z,{className:"pe-mb-24",children:(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(AG,{level:1,children:Ua("Push Broadcast Templates","pushengage")}),(0,st.jsx)(TG,{type:"secondary",className:"pe-mb-0 dark",children:Ua("Get started with our expertly crafted push broadcast templates. These predesigned message formats offer popular styles carefully curated by our experts. With custom UTM parameters for each style, you can track the performance and effectiveness of your push broadcasts. Effortlessly engage your audience and gain valuable insights into your communication strategy. It's never been easier to create impactful messages and measure their impact!","pushengage")})]})}),(0,st.jsx)(XY,{containerType:"page"})]})},MG=mt.Z.Text,IG={start:Ua("URL starts with","pushengage"),exact:Ua("URL matches exactly","pushengage"),contains:Ua("URL contains","pushengage")},DG=function(e){var t=e.data,n=(0,oe.useState)(!1),r=(0,xe.Z)(n,2),i=r[0],a=r[1],o=_u(),s=function(){a((function(e){return!e}))},l=t.slice(0,2);return(0,st.jsxs)("ul",{className:"pe-ma-0 pe-pa-0",style:{listStyle:"none"},children:[t.length>0&&(0,st.jsxs)(st.Fragment,{children:[i&&t.map((function(e){return(0,st.jsx)("li",{className:"pe-mb-0 pe-fs-12 pe-fw-500",children:(0,st.jsxs)(MG,{ellipsis:!0,children:[IG[e.rule],(0,st.jsxs)(MG,{strong:!0,title:e.value,children:["\xa0\u201c",ca()(e.value,{length:o.isDesktop?30:20}),"\u201d"]})]})},"".concat(e.rule,"-").concat(e.value))})),!i&&l.map((function(e){return(0,st.jsx)("li",{className:"pe-mb-0 pe-fs-12 pe-fw-500",children:(0,st.jsxs)(MG,{ellipsis:!0,children:[IG[e.rule],(0,st.jsxs)(MG,{strong:!0,title:e.value,children:["\xa0\u201c",ca()(e.value,{length:o.isDesktop?30:20}),"\u201d"]})]})},"".concat(e.rule,"-").concat(e.value))})),i&&t.length>2?(0,st.jsx)(MG,{onClick:s,className:"pe-fs-12",style:{cursor:"pointer",borderBottom:"1px solid #babac2"},children:Ua("show less...","pushengage")}):!i&&t.length>2?(0,st.jsx)(MG,{onClick:s,className:"pe-fs-12",style:{cursor:"pointer",borderBottom:"1px solid #babac2"},children:Ua("show more...","pushengage")}):""]}),0===t.length&&(0,st.jsx)("span",{className:"pe-color-neutral-40",children:"-"})]})},LG=mt.Z.Text,RG=function(e){var t=e.title,n=_u();return(0,st.jsx)(LG,{className:"pe-fs-13 pe-fw-600",ellipsis:!0,title:t,style:{maxWidth:n.isDesktop?"400px":"200px"},children:t})},BG=function(e){var t=e.segments,n=e.loading,r=e.onEdit,i=e.onDelete,a=e.categorySegments,o=e.onUpdateCategorySegment,s=bt((function(e){return e.session.user})),l=[{title:"".concat(Ua("Segment Name","pushengage")),key:"segment_name",dataIndex:"segment_name",render:function(e,t){return(0,st.jsx)(RG,{title:t.segment_name})}},{title:"".concat(Ua("Subscribers","pushengage")),dataIndex:"subscribers",key:"subscribers",render:function(e,t){return(0,st.jsx)(LG,{type:"secondary",className:"small light pe-fw-500",children:wo(t.subscribers)})}},{title:"".concat(Ua("Include Patterns","pushengage")),key:"include_patterns",dataIndex:"include_patterns",render:function(e,t){return(0,st.jsx)(DG,{data:t.segment_criteria.include})}},{title:"".concat(Ua("Exclude Patterns","pushengage")),key:"exclude_patterns",dataIndex:"exclude_patterns",render:function(e,t){return(0,st.jsx)(DG,{data:t.segment_criteria.exclude})}},{title:"".concat(Ua("Category Segment","pushengage")),key:"category_segment",dataIndex:"category_segment",width:160,render:function(e,t){var n=function(e,t){var n=[];return t.forEach((function(t){t.segment_id.includes(e.segment_id)&&n.push(t.category_name)})),n}(t,a);return 0===n.length?null:(0,st.jsx)("div",{style:{maxWidth:200,wordWrap:"break-word",display:"inline-table !important"},children:n.map((function(e){return(0,st.jsx)(pt.default,{type:"link",size:"small",onClick:function(){return o(t)},className:"pe-pa-0 pe-mr-5 pe-fw-500 pe-fs-13",style:{maxWidth:200,height:20},children:(0,st.jsx)("span",{className:"pe-ellipsis",children:e})},"".concat(t.segment_id,"-").concat(fa()(e)))}))})}},{title:"".concat(Ua("Action","pushengage")),dataIndex:"actions",key:"actions",width:140,render:function(e,t){return(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(ft.default,{title:Ua("Edit","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:function(){return r(t)},disabled:!Fd(s)})}),(0,st.jsx)(ft.default,{title:Ua("Delete","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Nh,{}),onClick:function(){return i(t.segment_id)},disabled:!Fd(s)})})]})}}];return(0,st.jsx)(CU,{columns:l,data:t,rowKey:"id",loading:n,emptyText:Ua("No segment was found.","pushengage")})},FG=function(e){var t,n,r=e.segment,i=e.onAction,a=e.categorySegments,o=(0,oe.useState)(!1),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)([]),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=ed.Z.useForm(),g=(0,xe.Z)(h,1)[0],m=(0,oe.useState)({id:null===r||void 0===r?void 0:r.segment_id,name:r.segment_name,add_segment_on_page_load:!!r.add_segment_on_page_load,include:(null===(t=r.segment_criteria)||void 0===t?void 0:t.include)||[],exclude:(null===(n=r.segment_criteria)||void 0===n?void 0:n.exclude)||[],categories:r.categories}),v=(0,xe.Z)(m,1)[0],y=(0,oe.useState)(!1),b=(0,xe.Z)(y,2),x=b[0],w=b[1];(0,oe.useEffect)((function(){var e=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,il({action:rl.GET_ALL_CATEGORIES});case 4:t=e.sent,n=t.data,r=n.map((function(e){return{label:e,value:e}})),f(r),c(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c(!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,oe.useEffect)((function(){g.resetFields()}),[v,g]);var k=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,o,s,l;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,n=(0,kn.Z)({},v),e.next=5,Zs(r.site_id,r.segment_id,n);case 5:return o=e.sent,s=o.data,l=OE(s,t.categories,a),e.next=10,il({action:rl.MAP_SEGMENT_WITH_CATEGORIES,settings:l});case 10:i("submit"),ie.default.success({message:Ua("Category tagged with segment","pushengage")}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),ie.default.error({message:Ua("Failed to tag category with segment","pushengage")});case 17:w(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return l?(0,st.jsx)(dt.Z,{className:"pe-pa-24",children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(rt.default,{active:!0})})}):(0,st.jsxs)(ed.Z,{id:"pe-segment-form",form:g,initialValues:v,onFinish:k,scrollToFirstError:!0,labelAlign:"left",labelCol:{sm:{span:24},md:{span:7}},autoComplete:"off",className:"pe-pt-20 pe-pb-40 pe-px-40",children:[(0,st.jsx)(ed.Z.Item,{name:"categories",label:Ua("Category Segment Name","pushengage"),colon:!1,validateFirst:!0,required:!1,extra:(0,st.jsx)(st.Fragment,{children:Ua("Add users to this segment if they visit a post or page with the selected categories.","pushengage")}),children:(0,st.jsx)(Rv.default,{mode:"multiple",showArrow:!0,style:{width:"100%"},options:p,placeholder:Ua("Name of the category segments","pushengage"),allowClear:!0})}),(0,st.jsxs)("div",{children:[(0,st.jsx)(ed.Z.Item,{style:{display:"inline-block",marginRight:10},children:(0,st.jsx)(pt.default,{type:"primary",htmlType:"submit",loading:x,disabled:x,children:Ua("Save","pushengage")})}),(0,st.jsx)(pt.default,{className:"pe-fw-600",onClick:function(){g.resetFields(),i("cancel")},children:Ua("Cancel","pushengage")})]})]})};function zG(e){return{segment_name:"New Segment",segment_criteria:{include:[],exclude:[]},add_segment_on_page_load:0,site_id:e,categories:[]}}var VG=function(){var e=yt(),t=_u(),n=bt(Ur),r=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.ownerId})),i=bt((function(e){return e.session.user}),Zi()),a=bt((function(e){var t,n,r,i;return(null===e||void 0===e||null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.owner)||void 0===r||null===(i=r.paymentSubscription)||void 0===i?void 0:i.segment_limit)||0})),o=(0,oe.useState)(!1),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)({page:1,total:0,limit:10,lastPage:1}),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)([]),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useState)([]),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useState)(0),Z=(0,xe.Z)(S,2),N=Z[0],E=Z[1],O=(0,oe.useState)(""),A=(0,xe.Z)(O,2),T=A[0],P=A[1],M=Bd(i),I=bt(Vr),D=(0,oe.useState)(!1),L=(0,xe.Z)(D,2),R=L[0],B=L[1],F=(0,oe.useState)(!1),z=(0,xe.Z)(F,2),V=z[0],U=z[1],H=(0,oe.useState)((0,kn.Z)({},zG(n))),W=(0,xe.Z)(H,2),q=W[0],K=W[1],Y=(0,oe.useState)(!1),G=(0,xe.Z)(Y,2),Q=G[0],X=G[1],$=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(Ts(r)).unwrap();case 3:n=t.sent,E((null===n||void 0===n?void 0:n.count)||0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(r){var i,a,o,s,l,u,d,p,f,h=arguments;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=h.length>1&&void 0!==h[1]?h[1]:"",a=h.length>2&&void 0!==h[2]?h[2]:10,c(!0),t.prev=3,t.next=6,il({action:rl.GET_CATEGORY_SEGMENTATIONS});case 6:return o=t.sent,s=o.data,j(s),t.next=11,e(As({siteId:n,page:r,limit:a,like:i,expand:"subscriber_analytics"})).unwrap();case 11:l=t.sent,w((null===l||void 0===l?void 0:l.data)||[]),u=l.page,d=l.total,p=l.perPage,f=l.lastPage,v({page:u,total:d,limit:p,lastPage:f}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),t.t0;case 20:c(!1);case 21:case"end":return t.stop()}}),t,null,[[3,17]])})));return function(e){return t.apply(this,arguments)}}();(0,oe.useEffect)((function(){I&&M&&($(),J(1))}),[]);var ee=function(){I&&(Fd(i)?N>=a?f(!0):(K((0,kn.Z)({},zG(n))),B(!0)):X(!0))},te=function(e){v((0,kn.Z)((0,kn.Z)({},m),{},{page:e})),J(e,T)},ne=function(e){v((0,kn.Z)((0,kn.Z)({},m),{},{page:1})),P(e),J(1,e)},re=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fd(i)){e.next=3;break}return X(!0),e.abrupt("return");case 3:n=[],C.forEach((function(e){var r;null!==e&&void 0!==e&&null!==(r=e.segment_id)&&void 0!==r&&r.includes(t.segment_id)&&n.push(e.category_name)})),r=(0,kn.Z)((0,kn.Z)({},t),{},{categories:n}),K(r),B(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var r=(0,at.Z)((0,it.Z)().mark((function r(a){return(0,it.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(Fd(i)){r.next=3;break}return X(!0),r.abrupt("return");case 3:gt.Z.confirm((0,kn.Z)((0,kn.Z)({},Oy),{},{width:t.isDesktop?560:320,okText:Ua("Delete","pushengage"),okType:"danger",okButtonProps:{size:"large"},cancelText:Ua("Cancel","pushengage"),cancelButtonProps:{size:"large"},onOk:function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var r;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(Ps({siteId:n,segmentId:a})).unwrap();case 3:r=Bo({currPage:m.page,pageSize:m.limit,lastPage:m.lastPage,total:m.total}),J(r,T),$(),ie.default.success({message:Ua("Segment deleted successfully!","pushengage")}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),se=function(e){if(Fd(i)){var t=[];C.forEach((function(n){var r;null!==n&&void 0!==n&&null!==(r=n.segment_id)&&void 0!==r&&r.includes(e.segment_id)&&t.push(n.category_name)}));var n=(0,kn.Z)((0,kn.Z)({},e),{},{categories:t});K(n),U(!0)}else X(!0)};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.audience.segments,type:"audience"}),(0,st.jsxs)(iy,{pageClassName:I&&!M?"pe-page-blocked":"",children:[!I&&(0,st.jsx)(rg,{}),p&&(0,st.jsx)(CY,{visible:p,title:"OOPS!",text:Ua("You have reached the maximum number of segment allowed for your account. Please upgrade your plan to add more segment.","pushengage"),onOk:function(){return f(!1)}}),Q&&(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify segment. Please contact to your admin.","pushengage"),onOk:function(){return X(!1)},visible:Q}),I&&!M?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Yy,(0,kn.Z)({},Sp.segmentation)),(0,st.jsx)(JK,{image:"segments-placeholder.png"})]}):!M||l||T||0!==Number(m.total)?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(uH,{left:(0,st.jsx)(SK,{onSearch:ne,searching:l}),right:(0,st.jsx)(pt.default,{type:"primary",size:"small",className:"pe-px-15",disabled:!M||!I,onClick:ee,children:Ua("Create","pushengage")})}),(0,st.jsx)(BG,{segments:x,loading:l,onEdit:re,onDelete:ae,categorySegments:C,onUpdateCategorySegment:se}),(0,st.jsx)(uH,{classes:"pe-mt-15",left:(0,st.jsx)(SK,{onSearch:ne,searching:l}),right:(0,st.jsx)(mH,{pagination:m,onChange:te})})]}):(0,st.jsx)(tg,{subTitle:Ua("Looks like you haven\u2019t created any segments yet.","pushengage"),description:Ua("You can use segmentation to send targeted push campaigns that get more views and clicks. Use your WordPress blog categories to create segments.","pushengage"),videoUrl:"https://www.youtube.com/embed/C2cHIviRnUQ",bullets:[{icon:(0,st.jsx)(Cg,{}),text:Ua("Target the right audience precisely","pushengage")},{icon:(0,st.jsx)(kg,{}),text:Ua("Improve engagement with relevance","pushengage")},{icon:(0,st.jsx)(uh,{}),text:Ua("Use tags and categories instantly","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Reusable audiences for all campaigns","pushengage")}],btnText:Ua("Create a New Segment","pushengage"),onClick:ee,footerText:(0,st.jsxs)(st.Fragment,{children:[Ua("Need some help? Check out this tutorial on how to","pushengage")," ",(0,st.jsx)(mt.Z.Link,{target:"_blank",href:"".concat(dp.createUrl.url).concat(Qc({utm_medium:"AudienceSegments",utm_content:"create segments"})),children:Ua("create segments","pushengage")}),"."]})})]}),(0,st.jsx)(gt.Z,{width:850,centered:!0,className:"pe-modal-form pe-custom-segment-modal-form",title:null!==q&&void 0!==q&&q.segment_id?Ua("Edit Segment","pushengage"):Ua("Create a New Segment","pushengage"),closeIcon:(0,st.jsx)($c,{}),visible:R,destroyOnClose:!0,footer:null,onCancel:function(e){e.preventDefault(),B(!1),K((0,kn.Z)({},zG(n)))},maskClosable:!1,children:(0,st.jsx)(DE,{segment:q,onAction:function(e){"submit"===e&&J(m.page,T),K((0,kn.Z)({},zG(n))),B(!1)},categorySegments:C})}),(0,st.jsx)(gt.Z,{width:850,centered:!0,className:"pe-modal-form pe-custom-segment-modal-form",title:Ua("Tag Category","pushengage"),closeIcon:(0,st.jsx)($c,{}),visible:V,destroyOnClose:!0,footer:null,onCancel:function(e){e.preventDefault(),U(!1),K((0,kn.Z)({},zG(n)))},maskClosable:!1,children:(0,st.jsx)(FG,{segment:q,onAction:function(e){"submit"===e&&J(m.page,T),K((0,kn.Z)({},zG(n))),U(!1)},categorySegments:C})})]})},UG=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({width:"1em",height:"1em",viewBox:"0 0 12 14",fill:"currentColor",focusable:"false","data-icon":"pe-delete-alt-outlined","aria-hidden":"true"},e),{},{children:(0,st.jsx)("path",{d:"M6.80469 11.1875H7.41406C7.56641 11.1875 7.71875 11.0605 7.71875 10.8828V5.39844C7.71875 5.24609 7.56641 5.09375 7.41406 5.09375H6.80469C6.62695 5.09375 6.5 5.24609 6.5 5.39844V10.8828C6.5 11.0605 6.62695 11.1875 6.80469 11.1875ZM10.9688 2.65625H8.86133L7.99805 1.23438C7.79492 0.878906 7.38867 0.625 6.95703 0.625H4.39258C3.96094 0.625 3.55469 0.878906 3.35156 1.23438L2.48828 2.65625H0.40625C0.177734 2.65625 0 2.85938 0 3.0625V3.46875C0 3.69727 0.177734 3.875 0.40625 3.875H0.8125V12.4062C0.8125 13.0918 1.3457 13.625 2.03125 13.625H9.34375C10.0039 13.625 10.5625 13.0918 10.5625 12.4062V3.875H10.9688C11.1719 3.875 11.375 3.69727 11.375 3.46875V3.0625C11.375 2.85938 11.1719 2.65625 10.9688 2.65625ZM4.3418 1.91992C4.36719 1.89453 4.41797 1.84375 4.46875 1.84375C4.46875 1.84375 4.46875 1.84375 4.49414 1.84375H6.88086C6.93164 1.84375 6.98242 1.89453 7.00781 1.91992L7.43945 2.65625H3.91016L4.3418 1.91992ZM9.34375 12.4062H2.03125V3.875H9.34375V12.4062ZM3.96094 11.1875H4.57031C4.72266 11.1875 4.875 11.0605 4.875 10.8828V5.39844C4.875 5.24609 4.72266 5.09375 4.57031 5.09375H3.96094C3.7832 5.09375 3.65625 5.24609 3.65625 5.39844V10.8828C3.65625 11.0605 3.7832 11.1875 3.96094 11.1875Z"})}))},HG=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:UG},e))},WG=mt.Z.Title,qG=mt.Z.Text,KG=mt.Z.Paragraph,YG=[{value:"click",label:Ua("Click","pushengage")},{value:"view",label:Ua("View","pushengage")},{value:"sent",label:Ua("Receive","pushengage")}],GG=function(e){var t=yt(),n=bt((function(e){return e.session.user})),r=bt(Ur),i=(0,oe.useState)(!1),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=ed.Z.useForm(),c=(0,xe.Z)(l,1)[0],u=(0,oe.useState)({action:"view",days:180}),d=(0,xe.Z)(u,1)[0],p=ed.Z.useForm(),f=(0,xe.Z)(p,1)[0],h=(0,oe.useState)({value:[[{field:"",op:"",value:[]}]]}),g=(0,xe.Z)(h,1)[0],m=(0,oe.useState)(!1),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)(!0),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)(0),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)(!0),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=(0,oe.useState)(null),P=(0,xe.Z)(T,2),M=P[0],I=P[1],D=(0,oe.useState)(!0),L=(0,xe.Z)(D,2),R=L[0],B=L[1],F=(0,oe.useState)(!1),z=(0,xe.Z)(F,2),V=z[0],U=z[1],H=(0,oe.useState)(!1),W=(0,xe.Z)(H,2),q=W[0],K=W[1],Y=(0,oe.useState)(!1),G=(0,xe.Z)(Y,2),Q=G[0],X=G[1],$=bt((function(e){return e.globals.geoSegments})),J=(0,oe.useState)({segments:[],countries:[],state:[],cities:[]}),ee=(0,xe.Z)(J,2),te=ee[0],ne=ee[1];(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){var i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),A(!0),Z(0),e.prev=3,e.next=6,t(ts({siteId:r,type:"city,country,state,device_type,device"})).unwrap();case 6:if(!Bd(n)){e.next=11;break}return e.next=9,t(Os(r)).unwrap();case 9:(i=e.sent)&&i.length&&(a=i.map((function(e){return{label:e.segment_name,value:e.segment_id}})),ne((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{segments:a})})));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),ie.default.error({message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 16:_(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))()}),[t,r]),(0,oe.useEffect)((function(){ne((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{cities:Object.keys((null===$||void 0===$?void 0:$.city)||{}).map((function(e){return{label:e,value:e}}))||[],state:Object.keys((null===$||void 0===$?void 0:$.state)||{}).map((function(e){return{label:e,value:e}}))||[],countries:Object.keys((null===$||void 0===$?void 0:$.country)||{}).map((function(e){return{label:e,value:e}}))||[]})}))}),[$]),(0,oe.useEffect)((function(){f.resetFields()}),[g,f]);var re=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n,i,a,o;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_(!0),t.prev=1,n=d.action,i=d.days,a=jE(n,i),0===e.totalSubscribersCount){t.next=9;break}return t.next=7,Ep(r,a);case 7:o=t.sent,Z(o.data.count);case 9:I(a),A(!1),B(!0),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),t.t0;case 17:_(!1);case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}}();(0,oe.useEffect)((function(){re()}),[]);var ae=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n,i,a,s;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,b(!0),B(!1),n=c,o&&(n=f),t.prev=5,n.submit(),t.next=9,n.validateFields();case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(5),ie.default.error({message:Ua("Please fix the validation error","pushengage")}),b(!1),t.abrupt("return");case 16:if(i=n.getFieldsValue(),a=null,a=o?{filter:(0,kn.Z)({},NE(i))}:jE(i.action,i.days),0===e.totalSubscribersCount){t.next=24;break}return t.next=22,Ep(r,a);case 22:s=t.sent,Z(s.data.count);case 24:A(!1),I(a),t.next=31;break;case 28:t.prev=28,t.t1=t.catch(0),ie.default.error({message:t.t1.message});case 31:b(!1);case 32:case"end":return t.stop()}}),t,null,[[0,28],[5,11]])})));return function(){return t.apply(this,arguments)}}(),se=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K(!0),X(!1),e.next=5,Ap(r,M);case 5:K(!1),X(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),K(!1);case 12:K(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re(),f.resetFields(),c.resetFields(),s(!1),B(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k?(0,st.jsx)(dt.Z,{children:(0,st.jsx)(ht.Z,{span:24,className:"pe-py-25",children:(0,st.jsx)(rt.default,{active:!0})})}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{align:"stretch",className:"pe-mx-5 pe-mb-5 pe-mt-0",children:[(0,st.jsx)(ht.Z,{xs:24,sm:24,md:16,style:{display:"flex"},children:(0,st.jsxs)(Wc.Z,{className:"pe-cleanup-subscriber-card pe-cleanup-subscriber-card-left",bordered:!1,children:[(0,st.jsxs)(ed.Z,{name:"simple-cleanup-form",form:c,initialValues:d,onValuesChange:function(){A(!0)},children:[(0,st.jsxs)(ed.Z.Item,{children:[(0,st.jsx)(KG,{className:"pe-fw-500 pe-mb-12",style:{color:"#191a35"},children:Ua("General Filters","pushengage")}),(0,st.jsx)(qG,{type:"secondary",className:"pe-fw-500 pe-mr-10",children:Ua("Subscribers who did not","pushengage")}),(0,st.jsx)(ed.Z.Item,{noStyle:!0,name:"action",children:(0,st.jsx)(Rv.default,{options:YG,style:{width:"130px",fontSize:"14px"},dropdownClassName:"pe-ant-single-select-box"})}),(0,st.jsx)(qG,{type:"secondary",className:"pe-fw-500 pe-ml-10",children:Ua("notification","pushengage")})]}),(0,st.jsxs)(ed.Z.Item,{children:[(0,st.jsx)(qG,{type:"secondary",className:"pe-fw-500 pe-mr-10",children:Ua("in last","pushengage")}),(0,st.jsx)(ed.Z.Item,{name:"days",noStyle:!0,validateFirst:!0,rules:[{required:!0,message:Ua("Days is required","pushengage")},{type:"number",min:1,message:Ua("Days can not be less than 1 day","pushengage")},{type:"number",max:1825,message:Ua("Days can not be greater than 5 years","pushengage")}],children:(0,st.jsx)(rW.Z,{min:0,max:1825,style:{width:80,fontSize:"14px"}})}),(0,st.jsx)(qG,{type:"secondary",className:"pe-fw-500 pe-ml-10",children:"days"})]})]}),(0,st.jsxs)(Ju.default,{size:55,className:"pe-mb-18",children:[(0,st.jsx)(qG,{className:"pe-fw-500",style:{color:"#191a35"},children:"Advanced filters"}),(0,st.jsx)(Lv.Z,{onChange:function(e){s(e),A(!0)}})]}),o?(0,st.jsx)("div",{children:(0,st.jsx)(qK,{segments:te.segments,countries:te.countries,states:te.state,cities:te.cities,form:f,initialValues:g,onValuesChange:function(){A(!0)}})}):null,(0,st.jsxs)("div",{className:"pe-mt-36",children:[(0,st.jsx)(pt.default,{type:"primary",onClick:ae,disabled:y||V,loading:y,children:Ua("Filter Subscribers","pushengage")}),(0,st.jsx)(pt.default,{className:"pe-ml-20",type:"ghost",onClick:le,disabled:y||k,children:Ua("Reset","pushengage")})]})]})}),(0,st.jsx)(ht.Z,{xs:24,sm:24,md:8,style:{display:"flex"},children:(0,st.jsx)(Wc.Z,{className:"pe-cleanup-subscriber-card pe-cleanup-subscriber-card-right",bordered:!1,children:(0,st.jsx)(dt.Z,{justify:"center",children:(0,st.jsx)(ht.Z,{className:"pe-ta-center",children:(0,st.jsx)(Hc.default,{spinning:y,children:(0,st.jsx)("div",{className:"pe-ta-center",children:O?(0,st.jsx)(qG,{type:"secondary",className:"pe-fw-600 pe-d-block pe-py-48",style:{width:"200px"},children:Ua("Use filter options to select a group of subscribers to delete","pushengage")}):(0,st.jsxs)(Ju.default,{direction:"vertical",size:20,children:[(0,st.jsx)(Lb.default,{percent:100*(S/e.totalSubscribersCount||1),width:180,type:"dashboard",strokeColor:"#4b59d0",trailColor:"#DEDEE5",strokeLinecap:"square",strokeWidth:5,gapDegree:8,gapPosition:"top",format:function(){return(0,st.jsxs)(Ju.default,{direction:"horizontal",size:0,align:"center",children:[(0,st.jsx)(qG,{className:"pe-color-primary pe-fs-36 pe-fw-700",children:wo(S)}),(0,st.jsxs)(qG,{type:"secondary",className:"pe-fs-14 pe-fw-500",children:["/ ",wo(e.totalSubscribersCount)]})]})}}),0===S?(0,st.jsx)(qG,{type:"danger",className:"large pe-fw-600",children:Ua("No subscriber matched for cleanup","pushengage")}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(qG,{type:"secondary",className:"large pe-fw-600",children:Ua(R?"Inactive Subscribers":"Selected Subscribers","pushengage")}),R&&(0,st.jsx)(qG,{type:"secondary",children:Ua("View your inactive subscriber count to see who hasn't engaged with your campaigns. Our expert-recommended timeframe is reflected here, but feel free to experiment with other options and performs cleanup as needed.","pushengage")}),(0,st.jsx)(pt.default,{danger:!0,icon:(0,st.jsx)(HG,{}),onClick:function(){U(!0)},disabled:O||0===S||0===e.totalSubscribersCount,children:Ua(R?"Delete inactive subscribers":"Delete subscribers","pushengage")})]})]})})})})})})})]}),(0,st.jsx)(gt.Z,{centered:!0,destroyOnClose:!0,visible:V,footer:null,width:650,bodyStyle:{padding:"64px 90px"},style:{textAlign:"center"},closeIcon:(0,st.jsx)($c,{}),onCancel:function(){Q?(U(!1),e.onClose()):U(!1)},children:Q?(0,st.jsx)(sG.ZP,{status:"success",icon:(0,st.jsx)(Pp,{className:"pe-color-green"}),title:"Subscriber clean up request sent!",subTitle:"The selected subscribes will be deleted in few hours.",extra:(0,st.jsx)(pt.default,{type:"primary",onClick:function(){U(!1),e.onClose()},children:Ua("Close","pushengage")})}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(WG,{level:2,className:"pe-mb-24",children:[Ua("Are you sure you want to delete","pushengage")," ",wo(S)," ",Ua("subscribers?","pushengage")]}),(0,st.jsxs)(KG,{type:"secondary",className:"large",children:[Ua("Deleting subscribers also deletes all data associated in your analytics. Is that what you want to do?","pushengage")," ",(0,st.jsx)(qG,{type:"secondary",className:"large",strong:!0,children:Ua("(can't be undone)","pushengage")})]}),(0,st.jsxs)(ed.Z,{name:"delete-confirmation-form",layout:"vertical",onFinish:se,autoComplete:"off",children:[(0,st.jsxs)(ed.Z.Item,{children:[(0,st.jsx)(KG,{strong:!0,className:"pe-fs-15 pe-mb-10 pe-color-neutral-80",children:Ua("Type DELETE to confirm","pushengage")}),(0,st.jsx)(ed.Z.Item,{noStyle:!0,validateFirst:!0,name:"confirmation_text",rules:[{required:!0,whitespace:!0,message:Ua("Please enter the confirmation text","pushengage")},{pattern:/^DELETE$/,message:Ua("Confirmation text does not match","pushengage")}],children:(0,st.jsx)(Yc.default,{style:{width:"264px"}})})]}),(0,st.jsxs)(ed.Z.Item,{children:[(0,st.jsx)(pt.default,{type:"primary",htmlType:"submit",danger:!0,icon:(0,st.jsx)(HG,{}),disabled:q,children:Ua("Delete Subscribers","pushengage")}),(0,st.jsx)(pt.default,{htmlType:"button",className:"pe-ml-10",onClick:function(){return U(!1)},children:Ua("Cancel","pushengage")})]})]})]})})]})},QG=n(82193),XG=n(85848),$G=n(46939),JG=n(15432),eQ=["#6165c8","#6eb7fb","#70bf6f","#57ee94","#bee64f","#efa04f"],tQ=function(e){var t=e.viewBox,n=e.labelText,r=e.labelIconSvg,i=t.cx,a=t.cy;return(0,st.jsxs)("g",{children:[(0,st.jsx)(r,{x:i-12-n.length/2*6,y:a-11,fill:"#656470"}),(0,st.jsx)("text",{x:i+8,y:a,textAnchor:"middle",fill:"#656470",className:"pe-fs-13 pe-fw-600",children:n})]})},nQ=function(e){var t=(0,oe.useState)(-1),n=(0,xe.Z)(t,2),r=n[0],i=n[1];return(0,oe.useEffect)((function(){e.data.length>0&&i(0)}),[e.data]),(0,st.jsx)(Qf.h,{width:144,height:144,children:(0,st.jsx)(QG.u,{children:(0,st.jsxs)(XG.b,{data:e.data,dataKey:"value",nameKey:"name",activeIndex:r,innerRadius:60,outerRadius:72,paddingAngle:3,children:[e.data.map((function(e,t){return(0,st.jsx)($G.b,{fill:eQ[t%eQ.length]},"cell-".concat(e.name))})),(0,st.jsx)(JG._,{position:"center",content:(0,st.jsx)(tQ,{labelText:e.labelText,labelIconSvg:e.labelIconSvg})})]})})})};nQ.defaultProps={showPercentage:!1,valueFormatter:void 0};var rQ=nQ,iQ=mt.Z.Text,aQ=function(e){var t=e.title,n=e.className,r=e.children;return(0,st.jsx)(ht.Z,{xs:24,sm:24,md:8,lg:8,children:(0,st.jsx)(Wc.Z,{title:t||null,className:n,children:r})})},oQ=function(){var e=bt(Ur),t=bt(Vr),n=(0,oe.useState)(!1),r=(0,xe.Z)(n,2),i=r[0],a=r[1],o=(0,oe.useState)({countries:[],devices:[],browsers:[],totalSubscriberCount:0}),s=(0,xe.Z)(o,2),l=s[0],c=s[1];(0,oe.useEffect)((function(){t&&(0,at.Z)((0,it.Z)().mark((function t(){var n,r;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(!0),"country,device,device_type",t.next=5,Es(e,"country,device,device_type");case 5:n=t.sent,r=mE(n.data),c(r),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0;case 13:a(!1);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}),[e,t]);var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,st.jsx)(st.Fragment,{children:e.map((function(e,n){return(0,st.jsxs)(dt.Z,{className:"demographic-list-item",align:"middle",justify:"space-between",wrap:!1,gutter:[8,8],children:[(0,st.jsxs)(ht.Z,{style:{display:"flex",flexWrap:"nowrap"},children:[(0,st.jsx)(gO.Z,{color:eQ[n%eQ.length]}),(0,st.jsx)(iQ,{type:"secondary",className:"dark pe-fw-600",ellipsis:!0,children:Ka(e.name)})]}),(0,st.jsx)(ht.Z,{title:"".concat(e.value),children:t?(0,st.jsxs)(iQ,{type:"secondary",className:"large pe-fw-600",children:[vE(e.value,l.totalSubscriberCount),"%"]}):(0,st.jsx)(iQ,{type:"secondary",className:"large pe-fw-600",children:wo(e.value)})})]},e.name)}))})};return i?(0,st.jsxs)(dt.Z,{justify:"space-around",gutter:[16,48],children:[(0,st.jsx)(aQ,{children:(0,st.jsx)(rt.default,{active:!0})}),(0,st.jsx)(aQ,{children:(0,st.jsx)(rt.default,{active:!0})}),(0,st.jsx)(aQ,{children:(0,st.jsx)(rt.default,{active:!0})})]}):(0,st.jsx)(st.Fragment,{children:0===l.totalSubscriberCount?(0,st.jsx)(sG.ZP,{icon:(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/records-not-found.svg"),alt:"404",width:"150px"}),title:Ua("You have 0 active subscribers","pushengage"),subTitle:(0,st.jsx)("div",{children:Ua("Please make sure you have integrated PushEngage code on your site correctly.","pushengage")})}):(0,st.jsxs)(dt.Z,{justify:"space-around",gutter:[16,20],align:"stretch",children:[(0,st.jsx)(aQ,{title:"Browser",className:"demographic-chart-card",children:(0,st.jsxs)(dt.Z,{wrap:!0,gutter:[20,20],align:"middle",justify:"center",children:[(0,st.jsx)(ht.Z,{flex:"0 1 144px",children:(0,st.jsx)(rQ,{data:l.browsers,showPercentage:!0,labelText:"Browsers",labelIconSvg:dN})}),(0,st.jsx)(ht.Z,{flex:"1 1 auto",children:(0,st.jsx)("div",{className:"demographic-list",children:u(l.browsers,!0)})})]})}),(0,st.jsx)(aQ,{title:"Countries",className:"demographic-chart-card",children:(0,st.jsxs)(dt.Z,{wrap:!0,gutter:[20,20],align:"middle",justify:"center",children:[(0,st.jsx)(ht.Z,{flex:"0 1 144px",children:(0,st.jsx)(rQ,{data:l.countries.length>10?l.countries.slice(0,10):l.countries,labelText:"Countries",valueFormatter:wo,labelIconSvg:av,showPercentage:!0})}),(0,st.jsx)(ht.Z,{flex:"1 1 auto",children:(0,st.jsx)("div",{className:"demographic-list",children:u(l.countries)})})]})}),(0,st.jsx)(aQ,{title:"Device Type",className:"demographic-chart-card",children:(0,st.jsxs)(dt.Z,{wrap:!0,gutter:[20,20],align:"middle",justify:"center",children:[(0,st.jsx)(ht.Z,{flex:"0 1 144px",children:(0,st.jsx)(rQ,{data:l.devices,showPercentage:!0,labelText:"Devices",labelIconSvg:fN})}),(0,st.jsx)(ht.Z,{flex:"1 1 auto",children:(0,st.jsx)("div",{className:"demographic-list",children:u(l.devices,!0)})})]})})]})})},sQ=mt.Z.Title,lQ=pp.collectUrl,cQ=lQ.url,uQ=lQ.utmParams,dQ=function(){var e=bt(Ur),t=bt(Vr),n=(0,oe.useState)(oo),r=(0,xe.Z)(n,1)[0],i=(0,oe.useState)((function(){return go({})})),a=(0,xe.Z)(i,1)[0],o=(0,oe.useState)(a[oo]),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)(!1),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)(0),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useState)(7),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useState)(!1),Z=(0,xe.Z)(S,2),N=Z[0],E=Z[1],O=(0,oe.useState)([]),A=(0,xe.Z)(O,2),T=A[0],P=A[1],M=(0,oe.useState)([]),I=(0,xe.Z)(M,2),D=I[0],L=I[1],R=function(){var n=(0,at.Z)((0,it.Z)().mark((function n(r){var i,a,o,s;return(0,it.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,E(!0),n.next=6,bf(e,r);case 6:i=n.sent,a=i.meta,o=i.data,s=Ro(a),L([null===s||void 0===s?void 0:s.totalSubscribers,null===s||void 0===s?void 0:s.subscribers,null===s||void 0===s?void 0:s.unsubscribed]),o&&P(o.reverse().map((function(e){return e.date_create_formatted=Oo(e.date_create,r.group_by),e}))),E(!1),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(2),E(!1);case 18:case"end":return n.stop()}}),n,null,[[2,15]])})));return function(e){return n.apply(this,arguments)}}(),B=function(){var n=(0,at.Z)((0,it.Z)().mark((function n(){var r;return(0,it.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,v(!0),n.next=6,Op(e);case 6:r=n.sent,w(r.data.count),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),v(!1);case 13:v(!1);case 14:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(){return n.apply(this,arguments)}}(),F=function(e){c(e);var t=e[1].diff(e[0],"days")+1;j(t);var n={start_created_at:e[0].format("YYYY-MM-DD"),end_created_at:e[1].format("YYYY-MM-DD"),group_by:ri.DAY,expand:"analytics_in_metadata",include_meta:"prev,curr,total"};return t>90&&(n.group_by=ri.MONTH),n};(0,oe.useEffect)((function(){if(t){var e=F(l);Promise.all([B(),R(e)])}}),[]);var z=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ei()(t[0]).add(1,"year"),!t[1].isAfter(n)){e.next=4;break}return ie.default.error({message:Ua("You can only view analytics of maximum 12 months at a time.","pushengage"),duration:0}),e.abrupt("return");case 4:r=F(t),R(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.audience.subscribers,type:"audience"}),(0,st.jsxs)(iy,{children:[t?null:(0,st.jsx)(rg,(0,kn.Z)((0,kn.Z)({},Lg),{},{footerText:(0,st.jsxs)(st.Fragment,{children:[Ua("Need some help? Check out this tutorial on","pushengage")," ",(0,st.jsx)(mt.Z.Link,{target:"_blank",href:"".concat(cQ).concat(Qc(uQ)),children:Ua("how to start collecting web push subscribers","pushengage")}),"."]}),btnText:Ua("Complete Your Setup","pushengage")})),t&&!m&&0===Number(x)?(0,st.jsx)(tg,{subTitle:Lg.subTitle,description:Lg.description,bullets:Lg.bullets,imgUrl:Lg.imgUrl,footerText:(0,st.jsxs)(st.Fragment,{children:[Ua("Need some help? Check out this tutorial on","pushengage")," ",(0,st.jsx)(mt.Z.Link,{target:"_blank",href:"".concat(cQ).concat(Qc(uQ)),children:Ua("how to start collecting web push subscribers","pushengage")}),"."]})}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(uH,{left:(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)(sQ,{level:3,className:"pe-mb-0 pe-lh-130",children:[Ua("Quick Stats","pushengage")," ",(0,st.jsx)(ft.default,{placement:"top",title:Ua("Understanding different categories based on action on the website and other default segmentation.","pushengage"),children:(0,st.jsx)(yg,{className:"pe-ml-4 pe-fs-16 pe-cursor-help"})})]})}),right:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(pt.default,{size:"small",icon:(0,st.jsx)(Tg,{}),className:"pe-mr-8 pe-px-14 pe-fs-13 pe-fw-600",onClick:function(){return f(!0)},disabled:!t,children:Ua("Clean up the List","pushengage")}),(0,st.jsx)(Gf,{initialValue:r,onChange:z,ranges:a})]})}),(0,st.jsx)(dt.Z,{className:"pe-statics-cards pe-mt-16",gutter:[16,16],children:D.map((function(e){return(0,st.jsx)(ht.Z,{sm:{span:8},xs:{span:24},children:(0,st.jsx)(ug,{isLoadingStats:N,title:e.title,value:e.value,count:e.count,tagValue:e.tagValue,type:e.type,previousDaysCount:C})},e.title)}))}),(0,st.jsx)(Tf,{className:"pe-py-30 pe-pr-30 pe-pl-16 pe-my-20",children:(0,st.jsx)(Hc.default,{spinning:N,children:(0,st.jsx)(lh,{data:T,loading:N,hiddenKeys:["click","views","total_notifications","notifications_sent"]})})}),(0,st.jsx)("div",{className:"pe-mb-24",children:(0,st.jsx)(oQ,{})})]})]}),(0,st.jsx)(gt.Z,{width:950,centered:!0,title:Ua("Clean up Subscribers List","pushengage"),className:"pe-modal-form pe-cleanup-subscribers-modal",closeIcon:(0,st.jsx)($c,{}),visible:p,destroyOnClose:!0,footer:null,onCancel:function(e){e.preventDefault(),f(!1)},maskClosable:!1,children:m?null:(0,st.jsx)(GG,{totalSubscribersCount:x,onClose:function(){return f(!1)}})})]})},pQ=mt.Z.Title,fQ=mt.Z.Paragraph,hQ=mt.Z.Text,gQ=function(){var e=bt(Vr),t=(0,oe.useState)([]),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useState)(!0),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)({title:"",processing:!1}),u=(0,xe.Z)(c,2),d=u[0],p=u[1];(0,oe.useEffect)((function(){l(!0),(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,il({action:rl.GET_ALL_PLUGIN_INFO});case 3:null!==(r=e.sent)&&void 0!==r&&null!==(t=r.data)&&void 0!==t&&null!==(n=t.all_plugins)&&void 0!==n&&n.length&&i(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.all_plugins),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:l(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]);var f=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.redirectUrl)){e.next=4;break}return window.open(n,"_blank"),e.abrupt("return");case 4:return e.prev=4,p({title:t.title,processing:!0}),e.next=8,il({action:rl.INSTALL_RECOMMENDED_PLUGIN,features:[t]});case 8:window.location.reload(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),p({title:"",processing:!1});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.aboutUs.aboutUs,type:"about"}),(0,st.jsxs)(ct,{pageClassName:"pe-about-us-page",children:[e?null:(0,st.jsx)(rg,{}),(0,st.jsx)(Tf,{className:"pe-px-40 pe-pt-40 pe-pb-80 pe-mb-32",children:(0,st.jsxs)(dt.Z,{gutter:[36,24],children:[(0,st.jsxs)(ht.Z,{span:24,lg:14,children:[(0,st.jsx)(pQ,{level:3,className:"pe-mb-26",children:Ua("Welcome to PushEngage, the #1 web push software in the world. We help businesses get repeat traffic, engagement, and sales using automated campaigns.","pushengage")}),(0,st.jsx)(fQ,{type:"secondary",className:"pe-mb-18 pe-fs-16",children:Ua("Push notifications can be an amazing marketing tool to grow your site's repeat traffic, engagement, and sales. But when we started, most services were built only for large businesses with a development team. Not to mention how costly they were.","pushengage")}),(0,st.jsx)(fQ,{type:"secondary",className:"pe-mb-18 pe-fs-16",children:Ua("So, we created a push notification software that anyone can afford and use to grow their business. Today, 10,000+ businesses use PushEngage to send 15+ Billion targeted push notifications each month.","pushengage")}),(0,st.jsx)(fQ,{type:"secondary",className:"pe-mb-18 pe-fs-16",children:(0,st.jsx)(Lu,{mapping:{a:(0,st.jsx)("a",{href:"https://www.pushengage.com/case-studies/".concat(Qc({utm_medium:"AboutUsAboutUs",utm_content:"case studies"})),target:"_blank",rel:"noreferrer"})},children:Ua("But don\u2019t take our word for it! You should check out our <a>case studies</a> on how we\u2019ve helped real businesses grow using push notifications. We\u2019ve won the G2Crowd High Performer Award for more than 3 years straight. We also have a 4.9 star rating on Capterra and a 5 star rating on GetApp.","pushengage")})}),(0,st.jsx)(fQ,{type:"secondary",className:"pe-mb-18 pe-fs-16",children:Ua("Our Customer Success team has an Average Time to First Response of under an hour with an average Happiness Rating of over 90%. Our Customer Success Specialists even help build a personalized campaign FOR FREE with each purchase of PushEngage to get our customers started with a big win.","pushengage")}),(0,st.jsx)(fQ,{type:"secondary",className:"pe-mb-14 pe-fs-16",children:Ua("Thank you for putting your trust and confidence in PushEngage. That\u2019s exactly what\u2019s helped us grow into the best push notification service in the world.","pushengage")})]}),(0,st.jsx)(ht.Z,{span:24,lg:10,className:"pe-ta-center",children:(0,st.jsx)("img",{alt:"awesome-motive-team",src:"".concat(window.pushengage.assetsUrl,"img/am-team.jpg"),width:"440px",style:{maxWidth:"100%"}})})]})}),(0,st.jsx)("div",{children:s?(0,st.jsx)(rt.default,{active:!0,paragraph:{rows:6}}):(0,st.jsx)(dt.Z,{gutter:[12,12],children:r.map((function(e){return(0,st.jsx)(ht.Z,{span:8,xs:24,sm:24,md:12,lg:12,xl:8,className:"pe-plugin-recommendation-card-container",children:(0,st.jsx)(Wc.Z,{bordered:!1,className:"pe-plugin-recommendation-card",actions:[(0,st.jsxs)(hQ,{className:"pe-fs-13 pe-fw-700 pe-lh-150",children:[Ua("Status:","pushengage")," ",(0,st.jsx)("span",{className:e.active?"pe-color-green":e.installed?"pe-color-red":"pe-color-neutral-50",children:"".concat(e.active?"Active":e.installed?"Inactive":"Not Installed")})]},"not-installed"),(0,st.jsx)(pt.default,{type:"primary",size:"small",className:"pe-fs-13 pe-px-17 ".concat(e.active?"pe-content-hidden":""),disabled:d.processing&&d.title===e.title,loading:d.processing&&d.title===e.title,onClick:function(){f(e)},children:e.installed&&d.processing&&d.title===e.title?"Activating..":d.processing&&d.title===e.title?"Installing..":e.installed?"Activate Plugin":"Install Plugin"},"install-plugin")],children:(0,st.jsx)(Wc.Z.Meta,{avatar:(0,st.jsx)("div",{className:"pe-w-61 pe-h-61 pe-px-10 pe-py-10 pe-br-4 pe-ta-center",style:{border:"1px solid #c9d0d6"},children:(0,st.jsx)("img",{src:e.icon,alt:"plugin-logo",height:"42",width:"42"})}),title:e.title,description:e.excerpt})})},e.title)}))})})]})]})},mQ=(n(9437),n(60603)),vQ=function(){var e=mt.Z.Title,t=mt.Z.Text,n=Yc.default.TextArea,r=(0,oe.useState)(null),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=(0,oe.useState)(!1),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(!1),p=(0,xe.Z)(d,2),f=p[0],h=p[1];(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,nl.post("",{action:rl.GET_SYSTEM_INFO});case 4:null!==(t=e.sent)&&void 0!==t&&t.data&&o(t.data),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,u(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})))()}),[]);var g=function(e){return"boolean"===typeof e?function(e){switch(e){case!0:return(0,st.jsx)(nf.default,{color:"green",children:Ua("Yes","pushengage")});case!1:return(0,st.jsx)(nf.default,{color:"red",children:Ua("No","pushengage")});default:return(0,st.jsx)(nf.default,{color:"orange",children:Ua("Unknown","pushengage")})}}(e):Array.isArray(e)?function(e){return Array.isArray(e)&&0!==e.length?(0,st.jsx)(Ju.default,{style:{maxHeight:"100px",overflowY:"auto"},direction:"vertical",size:"small",children:e.map((function(e,t){return(0,st.jsx)(nf.default,{children:e},t)}))}):(0,st.jsx)(t,{type:"secondary",children:Ua("None","pushengage")})}(e):null===e||void 0===e||""===e?(0,st.jsx)(t,{type:"secondary",children:Ua("Not defined","pushengage")}):(0,st.jsx)(t,{children:String(e)})},m=function(e){var t=[{title:Ua("Plugin Name","pushengage"),dataIndex:"name",key:"name",render:function(e,t){return(0,st.jsxs)("div",{children:[(0,st.jsx)("div",{style:{fontWeight:500,marginBottom:4},children:t.url?(0,st.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:e}):e}),(0,st.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:t.plugin})]})}},{title:Ua("Version","pushengage"),dataIndex:"version",key:"version",width:120,render:function(e,t){return(0,st.jsxs)("div",{children:[(0,st.jsx)("div",{style:{fontWeight:500},children:e}),t.version_latest&&t.version_latest!==e&&(0,st.jsxs)("div",{style:{fontSize:"12px",color:"#ff4d4f"},children:[Ua("Update available:","pushengage")," ",t.version_latest]})]})}},{title:Ua("Author","pushengage"),dataIndex:"author_name",key:"author_name",width:150,render:function(e,t){return(0,st.jsx)("div",{children:t.author_url?(0,st.jsx)("a",{href:t.author_url,target:"_blank",rel:"noopener noreferrer",children:e}):e})}},{title:Ua("Status","pushengage"),dataIndex:"network_activated",key:"network_activated",width:100,render:function(e){return(0,st.jsx)(nf.default,{color:e?"blue":"green",children:Ua(e?"Network":"Active","pushengage")})}}];return(0,st.jsx)(Wc.Z,{title:Ua("Active Plugins","pushengage"),style:{marginBottom:16},size:"small",children:(0,st.jsx)(_v.Z,{columns:t,dataSource:e,rowKey:"plugin",pagination:!1,size:"small",scroll:{x:800},locale:{emptyText:Ua("No active plugins found","pushengage")}})})},v=function(e){return(0,st.jsx)(Wc.Z,{title:Ua("Active Theme","pushengage"),style:{marginBottom:16},size:"small",children:(0,st.jsxs)(mQ.default,{column:2,bordered:!0,size:"small",children:[(0,st.jsx)(mQ.default.Item,{label:Ua("Name","pushengage"),children:e.url?(0,st.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.name}):(0,st.jsx)(t,{children:e.name})}),(0,st.jsx)(mQ.default.Item,{label:Ua("Version","pushengage"),children:(0,st.jsx)(t,{children:e.version})}),(0,st.jsx)(mQ.default.Item,{label:Ua("Author","pushengage"),children:e.author_url?(0,st.jsx)("a",{href:e.author_url,target:"_blank",rel:"noopener noreferrer",children:e.author}):(0,st.jsx)(t,{children:e.author})}),(0,st.jsx)(mQ.default.Item,{label:Ua("Theme URL","pushengage"),children:e.url?(0,st.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url}):(0,st.jsx)(t,{type:"secondary",children:Ua("Not defined","pushengage")})})]})})},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t?"Plugins"===e&&t.active_plugins?m(t.active_plugins):"Theme"===e&&t.active_theme?v(t.active_theme):(0,st.jsx)(Wc.Z,{title:e,style:{marginBottom:16},size:"small",children:(0,st.jsx)(mQ.default,{column:n,bordered:!0,size:"small",children:Object.entries(t).map((function(e){var t=(0,xe.Z)(e,2),n=t[0],r=t[1];return(0,st.jsx)(mQ.default.Item,{label:n.replace(/_/g," ").replace(/\bwp\b/gi,"WP").replace(/\bdb\b/gi,"DB").replace(/\b\w/g,(function(e){return e.toUpperCase()})),children:g(r)},n)}))})}):null},b=function(){h(!1)};return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.debug.system,type:"debug"}),(0,st.jsxs)(ct,{pageClassName:"pe-debug-page",children:[(0,st.jsx)(Hc.default,{spinning:c,children:(0,st.jsxs)(dt.Z,{gutter:[16,16],children:[(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,st.jsx)(e,{level:2,children:Ua("System Info","pushengage")}),(0,st.jsx)(pt.default,{type:"primary",icon:(0,st.jsx)(Sh,{}),onClick:function(){h(!0)},disabled:!a,children:Ua("Copy Info","pushengage")})]})}),a&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ht.Z,{span:24,children:y("PushEngage",a.pushengage,2)}),(0,st.jsx)(ht.Z,{span:24,children:y("WordPress",a.wordpress,3)}),(0,st.jsx)(ht.Z,{span:24,children:y("PHP",a.php,3)}),(0,st.jsx)(ht.Z,{span:24,children:y("Server",a.server,2)}),(0,st.jsx)(ht.Z,{span:24,children:y("Database",a.database,2)}),(0,st.jsx)(ht.Z,{span:24,children:y("Theme",a.theme,2)}),(0,st.jsx)(ht.Z,{span:24,children:y("Plugins",a.plugins,2)}),(0,st.jsx)(ht.Z,{span:24,children:y("File System",a.filesystem,2)}),(0,st.jsx)(ht.Z,{span:24,children:y("Cron",a.cron,2)})]})]})}),(0,st.jsxs)(gt.Z,{title:Ua("System Information","pushengage"),visible:f,onCancel:b,footer:[(0,st.jsx)(pt.default,{onClick:b,children:Ua("Close","pushengage")},"close"),(0,st.jsx)(pt.default,{type:"primary",icon:(0,st.jsx)(Sh,{}),onClick:function(){if(a){var e=JSON.stringify(a,null,2);Ya(e,Ua("System info copied to clipboard","pushengage"))}},children:Ua("Copy for Support","pushengage")},"copy")],closeIcon:(0,st.jsx)($c,{}),width:800,destroyOnClose:!0,children:[(0,st.jsx)("div",{style:{marginBottom:16},children:(0,st.jsx)(t,{type:"secondary",children:Ua("Copy this information to share with support when troubleshooting issues.","pushengage")})}),(0,st.jsx)(n,{value:a?JSON.stringify(a,null,2):"",rows:20,readOnly:!0,style:{fontFamily:"monospace",fontSize:"12px"}})]})]})]})},yQ=function(){var e=mt.Z.Title,t=(0,oe.useState)(!1),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useState)([]),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(!1),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)(null),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)(!1),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useState)(!1),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,nl.post("",{action:rl.GET_DEBUG_LOG_FILES});case 4:(t=e.sent).success&&t.data&&l(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.default.error({message:Ua("Failed to fetch debug log files","pushengage")});case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,gl(t);case 4:(n=e.sent).success&&n.data&&(m(n.data),p(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.default.error({message:Ua("Failed to load log file content","pushengage")});case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hl(t);case 3:e.sent.success&&(ie.default.success({message:Ua("Log file deleted successfully","pushengage")}),j()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.default.error({message:Ua("Failed to delete log file","pushengage")});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),e.next=4,fl();case 4:e.sent.success&&(ie.default.success({message:Ua("All log files deleted successfully","pushengage")}),j()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.default.error({message:Ua("Failed to delete all log files","pushengage")});case 11:return e.prev=11,C(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),E=function(e){window.open(e,"_blank")};(0,oe.useEffect)((function(){j()}),[]);var O=[{title:Ua("File Name","pushengage"),dataIndex:"name",key:"name",render:function(e){return(0,st.jsx)(pt.default,{type:"link",onClick:function(){return S(e)},children:e})}},{title:Ua("Size","pushengage"),dataIndex:"size_human",key:"size",width:120},{title:Ua("Created","pushengage"),dataIndex:"created_human",key:"created",width:200},{title:Ua("Actions","pushengage"),key:"actions",width:200,render:function(e,t){return(0,st.jsxs)(Ju.default,{size:10,wrap:!0,children:[(0,st.jsx)(ft.default,{placement:"top",title:Ua("View","pushengage"),className:"pe-tooltip",children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(NN,{}),onClick:function(){return S(t.name)},loading:b,disabled:b})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Open in New Tab","pushengage"),className:"pe-tooltip",children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Th,{}),onClick:function(){return E(t.url)}})}),(0,st.jsx)(nW.Z,{title:Ua("Are you sure you want to delete this log file?","pushengage"),onConfirm:function(){return Z(t.name)},okText:Ua("Yes","pushengage"),cancelText:Ua("No","pushengage"),children:(0,st.jsx)(ft.default,{placement:"top",title:Ua("Delete","pushengage"),className:"pe-tooltip",children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Nh,{}),danger:!0})})})]})}}];return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.debug.logs,type:"debug"}),(0,st.jsxs)(ct,{pageClassName:"pe-debug-page",children:[(0,st.jsx)(dt.Z,{children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,st.jsx)(e,{level:2,children:Ua("Debug Logs","pushengage")}),(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(nW.Z,{title:Ua("Are you sure you want to delete all log files?","pushengage"),onConfirm:N,okText:Ua("Yes","pushengage"),cancelText:Ua("No","pushengage"),disabled:0===s.length,children:(0,st.jsx)(pt.default,{type:"primary",danger:!0,icon:(0,st.jsx)(Nh,{}),loading:_,disabled:0===s.length||_,children:Ua("Delete All Logs","pushengage")})}),(0,st.jsx)(pt.default,{type:"primary",icon:(0,st.jsx)(cc,{}),onClick:j,loading:r,children:Ua("Refresh","pushengage")})]})]})})}),(0,st.jsx)(dt.Z,{children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(_v.Z,{columns:O,dataSource:s,rowKey:"name",loading:r,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"".concat(Ua("Showing","pushengage")," ").concat(t[0],"-").concat(t[1]," ").concat(Ua("of","pushengage")," ").concat(e," ").concat(Ua("files","pushengage"))}},locale:{emptyText:Ua("No log files found","pushengage")}})})}),(0,st.jsx)(gt.Z,{title:g?"".concat(Ua("View Log File","pushengage"),": ").concat(g.name):Ua("View Log File","pushengage"),visible:d,onCancel:function(){return p(!1)},width:800,footer:[(0,st.jsx)(pt.default,{onClick:function(){return p(!1)},children:Ua("Close","pushengage")},"close"),g&&(0,st.jsx)(pt.default,{type:"primary",onClick:function(){return E(g.url)},children:Ua("Open in New Tab","pushengage")},"open")],children:g&&(0,st.jsxs)("div",{children:[(0,st.jsxs)("div",{style:{marginBottom:16},children:[(0,st.jsxs)("strong",{children:[Ua("File Size","pushengage"),":"]})," ",g.size_human," |"," ",(0,st.jsxs)("strong",{children:[Ua("Created","pushengage"),":"]})," ",g.created_human]}),(0,st.jsx)("div",{className:"pe-fs-12",style:{maxHeight:"400px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"12px",borderRadius:"4px",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:g.content})]})})]})]})},bQ=mt.Z.Title,xQ=mt.Z.Paragraph,wQ=mt.Z.Link,kQ=function(){var e,t=bt(Vr),n=bt((function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.user})),r=bt(Ur),i=[{title:Ua("How to Set Up a Multi-Agent Multichannel Chat Widget","pushengage"),description:Ua("Before you can offer sales and customer support on your site, you need to add and configure your chat widgets.","pushengage"),image:"".concat(window.pushengage.assetsUrl,"img/popup-modal.svg"),btnText:Ua("Read Documentation","pushengage"),btnUrl:"https://www.pushengage.com/documentation/guide-to-adding-chat-widget-to-your-website/ "},{title:Ua("How to Set Up WhatsApp Business Automation Campaigns","pushengage"),description:Ua("Get your own Meta WhatsApp Business API Key, connect it to your PushEngage account, and enable automated campaigns.","pushengage"),image:"".concat(window.pushengage.assetsUrl,"img/auto-push.png"),btnText:Ua("Read Documentation","pushengage"),btnUrl:"https://www.pushengage.com/documentation/connect-pushengage-to-whatsapp-business-app/"},{title:Ua("How to Start Collecting Web Push Subscribers in WordPress?","pushengage"),description:Ua("Before you can send campaigns, you need to start collecting subscribers using a popup modal. Check out how you can get started in 10 minutes or less.","pushengage"),image:"".concat(window.pushengage.assetsUrl,"img/popup-modal.svg"),btnText:Ua("Read Documentation","pushengage"),btnUrl:"https://www.pushengage.com/documentation/how-to-design-popup-modal-for-wordpress-in-pushengage/ "},{title:Ua("How to Send Automated Push Broadcasts Whenever You Publish a WordPress Post?","pushengage"),description:Ua("Creating content is a challenge in itself. Let\u2019s get you set up with automated push campaigns that promote your posts whenever you publish a new one.","pushengage"),image:"".concat(window.pushengage.assetsUrl,"img/auto-push.png"),btnText:Ua("Read Documentation","pushengage"),btnUrl:"https://www.pushengage.com/documentation/how-to-enable-auto-push-on-publishing-wordpress-posts/"},{title:Ua("How to Create an Automated Drip Campaign That Makes Money While You Sleep?","pushengage"),description:Ua("The same automated campaigns can keep making you more money as your subscriber list grows. Here\u2019s how you can set up an automated campaign quickly.","pushengage"),image:"".concat(window.pushengage.assetsUrl,"img/drip.svg"),btnText:Ua("Read Documentation","pushengage"),btnUrl:"https://www.pushengage.com/documentation/how-to-create-a-pushengage-drip-campaign-in-wordpress/"},{title:Ua("How to Create Custom Retargeting Campaigns (No Code)?","pushengage"),description:Ua("You can create simple, powerful campaigns that grow your traffic and engagement. It\u2019s not even difficult to create retargeting campaigns. Get started now!","pushengage"),image:"".concat(window.pushengage.assetsUrl,"img/audience-groups.png"),btnText:Ua("Read Documentation","pushengage"),btnUrl:"https://www.pushengage.com/documentation/creating-an-audience-group-in-the-wordpress-platform/"}],a=[Ua("Multichannel Engagement: Reach users using Web Push, App Push, WhatsApp automation, and an inbox-free chat widget that routes conversations to the channels users already prefer.","pushengage"),Ua("Behavior-Based Automation: Trigger messages based on user activity, inactivity, and commerce events \u2014 in real time or with smart delays.","pushengage"),Ua("Advanced Targeting & Personalization: Use attributes, dynamic audience groups, and segmentation to send relevant messages at scale.","pushengage"),Ua("WooCommerce Automation: Automate cart recovery, order updates, price drops, and inventory alerts with a single toggle \u2014 no custom workflows required.","pushengage"),Ua("Inbox-Free Conversations: Enable sales, support, and lead generation without per-agent inbox costs or complex chat systems.","pushengage"),Ua("Actionable Insights: Understand what's working with high-level analytics across campaigns, channels, and conversations.","pushengage")];return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.aboutUs.gettingStarted,type:"about"}),(0,st.jsxs)(ct,{pageClassName:"pe-getting-started-page",children:[t?null:(0,st.jsx)(rg,{}),(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Tf,{className:"pe-pt-42 pe-pr-40 pe-pl-40 pe-pb-42 pe-mb-32",children:(0,st.jsxs)(dt.Z,{gutter:[40,24],children:[(0,st.jsxs)(ht.Z,{span:24,lg:12,children:[(0,st.jsx)(bQ,{level:3,className:"pe-mb-18 pe-fw-800 pe-fs-28",children:Ua("Boost Repeat Traffic & Engage Customers Across Channels","pushengage")}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-24 pe-fs-16",children:Ua("PushEngage is a multichannel customer engagement platform built to help businesses stay connected with users beyond their first visit.","pushengage")}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-24 pe-fs-16",children:Ua("When email gets ignored and paid acquisition keeps getting more expensive, PushEngage gives you direct, high-intent channels to reach users where they actually respond \u2014 on the web, mobile devices, WhatsApp, and messaging apps.","pushengage")}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-24 pe-fs-16",children:Ua("From real-time notifications to automated follow-ups and inbox-free chat, PushEngage helps you drive repeat traffic, recover lost revenue, and create meaningful customer interactions \u2014 without adding engineering overhead.:","pushengage")}),(0,st.jsx)(mt.Z.Title,{level:4,children:Ua("Get Started in Minutes","pushengage")}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-24 pe-fs-16",children:Ua("PushEngage is designed so you can see results quickly \u2014 without complex setup or engineering work.","pushengage")}),(0,st.jsx)(xQ,{style:{fontSize:"16px"},strong:!0,children:Ua("Step 1: Add a Chat Widget to Your Site","pushengage")}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-24 pe-fs-16",children:Ua("Start by adding an inbox-free, multi-channel chat widget to your site. Let visitors reach you instantly on WhatsApp, Messenger, email, and 20+ other channels \u2014 without managing conversations inside another inbox. You can customize the widget\u2019s design, placement, triggers, and targeting in minutes, and start capturing leads or inquiries right away.","pushengage")}),(0,st.jsx)(xQ,{style:{fontSize:"16px"},strong:!0,children:Ua("Step 2: Turn Visitors into Subscribers","pushengage")}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-24 pe-fs-16",children:Ua("Next, capture users who prefer notifications using smart opt-ins for web and mobile push. Grow a permission-based audience you can reach instantly \u2014 even after visitors leave your site.","pushengage")}),(0,st.jsx)(xQ,{style:{fontSize:"16px"},strong:!0,children:Ua("Step 3: Automate Engagement Across Channels","pushengage")}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-56 pe-fs-16",children:Ua("Once users are connected, automate follow-ups using behavior-based campaigns. Send updates, reminders, transactional messages, and re-engagement campaigns across push and WhatsApp \u2014 without manual effort. Start simple, then layer in automation as your engagement strategy grows.","pushengage")})]}),(0,st.jsxs)(ht.Z,{span:24,lg:12,children:[(0,st.jsx)("iframe",{title:"Getting Started Video",src:"https://www.youtube.com/embed/dN_CTv9jd8Y",width:"538",height:"300",style:{maxWidth:"100%"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),(0,st.jsx)(xQ,{strong:!0,className:"pe-mt-24 pe-fw-800 pe-fs-16",children:Ua("Quick Start Video Guide","pushengage")}),(0,st.jsx)("a",{href:"https://www.youtube.com/watch?v=4YI4EmlcW4A",target:"_blank",rel:"noreferrer",className:"pe-fs-16 pe-mb-12 pe-d-block pe-fw-600",children:Ua("Add Multi-agent Chat Widgets to Your Site","pushengage")}),(0,st.jsx)("a",{href:"https://www.youtube.com/watch?v=xnPC4f3e0Xo",target:"_blank",rel:"noreferrer",className:"pe-fs-16 pe-mb-14 pe-d-block pe-fw-600",children:Ua("Set Up WhatsApp Business Automation","pushengage")}),(0,st.jsx)("a",{href:"https://www.youtube.com/watch?v=C2cHIviRnUQ",target:"_blank",rel:"noreferrer",className:"pe-fs-16 pe-mb-14 pe-d-block pe-fw-600",children:Ua("Collect Push Subscribers","pushengage")}),(0,st.jsx)("a",{href:"https://www.youtube.com/watch?v=ryHop9C0VOQ",target:"_blank",rel:"noreferrer",className:"pe-fs-16 pe-mb-14 pe-d-block pe-fw-600",children:Ua("Send a Push Broadcast","pushengage")}),(0,st.jsx)("a",{href:"https://www.youtube.com/watch?v=ryHop9C0VOQ",target:"_blank",rel:"noreferrer",className:"pe-fs-16 pe-mb-14 pe-d-block pe-fw-600",children:Ua("Turn WordPress Categories Into Segments","pushengage")}),(0,st.jsx)("a",{href:"https://www.youtube.com/watch?v=ryHop9C0VOQ",target:"_blank",rel:"noreferrer",className:"pe-fs-16 pe-mb-0 pe-d-block pe-fw-600",children:Ua("Send Push Notifications from Post Editor","pushengage")})]})]})}),!t||Ed(n)?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Tf,{className:"pe-b-color-neutral-5 pe-br-t-4 pe-br-b-0 pe-px-40 pe-py-40",children:[(0,st.jsx)(bQ,{level:3,className:"pe-mb-25 pe-fs-24",children:Ua("Why Teams Use PushEngage","pushengage")}),(0,st.jsx)("div",{style:{maxWidth:"761px"},children:(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-24 pe-fs-16",children:Ua("PushEngage brings multiple engagement channels into a single platform \u2014 so teams can focus on outcomes, not tools.","pushengage")})})]}),(0,st.jsx)(Tf,{className:"pe-br-t-0 pe-br-b-0 pe-pt-56 pe-pb-40 pe-px-40 pe-mb-32",children:(e=a,e.length?(0,st.jsx)(dt.Z,{gutter:40,children:e.map((function(e){return(0,st.jsx)(ht.Z,{span:24,md:12,children:(0,st.jsxs)("div",{className:"pe-d-flex",children:[(0,st.jsx)(Wf,{className:"pe-fs-18 pe-mr-16 pe-mt-4 pe-color-green"}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-fs-16",children:e})]})},e)}))}):null)}),(0,st.jsxs)(Tf,{className:"pe-br-t-0 pe-br-b-4 pe-pt-56 pe-pb-40 pe-px-40 pe-mb-32",children:[(0,st.jsx)(bQ,{level:3,className:"pe-mb-25 pe-fs-24",children:Ua("Built to Grow With Your Business","pushengage")}),(0,st.jsxs)("div",{style:{maxWidth:"761px"},children:[(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-24 pe-fs-16",children:Ua("PushEngage adapts to how your business engages customers today \u2014 and how it will tomorrow.","pushengage")}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-24 pe-fs-16",children:Ua("As you upgrade, you unlock:","pushengage")}),(0,st.jsxs)(dt.Z,{gutter:40,className:"pe-mb-24",children:[(0,st.jsx)(ht.Z,{span:24,md:12,children:(0,st.jsxs)("div",{className:"pe-d-flex",children:[(0,st.jsx)(Wf,{className:"pe-fs-18 pe-mr-16 pe-mt-4 pe-color-green"}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-fs-16",children:Ua("Advanced automation and targeting","pushengage")})]})}),(0,st.jsx)(ht.Z,{span:24,md:12,children:(0,st.jsxs)("div",{className:"pe-d-flex",children:[(0,st.jsx)(Wf,{className:"pe-fs-18 pe-mr-16 pe-mt-4 pe-color-green"}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-fs-16",children:Ua("Cross-channel engagement workflows","pushengage")})]})}),(0,st.jsx)(ht.Z,{span:24,md:12,children:(0,st.jsxs)("div",{className:"pe-d-flex",children:[(0,st.jsx)(Wf,{className:"pe-fs-18 pe-mr-16 pe-mt-4 pe-color-green"}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-fs-16",children:Ua("Deeper personalization and analytics","pushengage")})]})}),(0,st.jsx)(ht.Z,{span:24,md:12,children:(0,st.jsxs)("div",{className:"pe-d-flex",children:[(0,st.jsx)(Wf,{className:"pe-fs-18 pe-mr-16 pe-mt-4 pe-color-green"}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-fs-16",children:Ua("Native integrations with WooCommerce and other tools","pushengage")})]})})]}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-0 pe-fs-16",children:Ua("Upgrade when you're ready, and turn PushEngage into a central engagement layer for your website and customers.","pushengage")})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)(Cu.Z,{className:"pe-mt-30 pe-mb-36"}),(0,st.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.pushengage.com/wordpress-pricing/".concat(Qc({utm_medium:"AboutUsGettingStarted",utm_content:"Get PushEngage Today and Unlock all the Powerful Features"})),className:"pe-fs-18 pe-fw-500 pe-mb-13 pe-d-block",children:Ua("Get PushEngage Today and Unlock all the Powerful Features","pushengage")}),(0,st.jsxs)(xQ,{type:"secondary",className:"pe-fs-16 pe-fw-600 pe-mb-0",children:[Ua("Bonus: PushEngage free users get","pushengage")," ",(0,st.jsx)(wQ,{href:"".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:r,drawer:!0,utm_medium:"AboutUsGettingStarted",planType:ii.BUSINESS,utm_content:"Get PushEngage Today and Unlock all the Powerful Features"})),target:"_blank",style:{color:"#59a56a"},children:Ua("50% off regular price","pushengage")}),Ua(", automatically applied at checkout.","pushengage")]})]})]})]}):null,i.map((function(e){return(0,st.jsx)(Wc.Z,{className:"pe-plugin-documentation-card pe-br-0",children:(0,st.jsxs)("div",{className:"pe-plugin-documentation-card-container",children:[(0,st.jsx)("div",{className:"pe-d-flex pe-justify-center pe-align-items-center pe-max-w-270 pe-min-w-270 pe-h-200",children:(0,st.jsx)("img",{className:"pe-max-h-200",src:e.image,alt:"feature-documentation",width:"270"})}),(0,st.jsxs)("div",{className:"pe-plugin-documentation-card-container-text",children:[(0,st.jsx)(bQ,{level:3,className:"pe-mb-22 pe-mt-17",children:e.title}),(0,st.jsx)(xQ,{type:"secondary",className:"pe-mb-40 pe-fs-16",children:e.description}),(0,st.jsxs)(pt.default,{className:"pe-pl-20 pe-pr-18",type:"primary",size:"large",onClick:function(){window.open("".concat(e.btnUrl).concat(Qc({utm_medium:"AboutUsGettingStarted",utm_content:e.btnText})))},children:[(0,st.jsx)(od,{}),e.btnText]})]})]})},e.title)}))]})]})]})},_Q=function(e){var t=e.sentcount,n=e.viewcount,r=e.clickcount,i=e.ctr;return(0,st.jsxs)(dt.Z,{wrap:!0,children:[(0,st.jsxs)(ht.Z,{flex:"100px",children:[(0,st.jsxs)("p",{className:"pe-mb-5 pe-fw-500 pe-fs-13",children:[(0,st.jsxs)("span",{className:"pe-color-neutral-40",children:[Ua("Sent","pushengage"),":"]})," ",ko(t)]}),(0,st.jsxs)("p",{className:"pe-mb-5 pe-fw-500 pe-fs-13",children:[(0,st.jsxs)("span",{className:"pe-color-neutral-40",children:[Ua("Seen","pushengage"),":"]})," ",ko(n)]}),(0,st.jsxs)("p",{className:"pe-mb-5 pe-fw-500 pe-fs-13",children:[(0,st.jsxs)("span",{className:"pe-color-neutral-40",children:[Ua("Clicked","pushengage"),":"]})," ",ko(r)]})]}),(0,st.jsx)(ht.Z,{style:{minWidth:"70px"},children:(0,st.jsxs)("p",{className:"pe-fw-500 pe-fs-13 pe-mb-0",children:[(0,st.jsxs)("span",{className:"pe-color-neutral-40",children:[Ua("CTR","pushengage"),":"]})," ",i,"%"]})})]})},CQ=mt.Z.Title,jQ=mt.Z.Text,SQ=mt.Z.Link,ZQ=function(){var e=bt(Ur),t=bt(is),n=bt(Vr),r=(0,oe.useState)(oo),i=(0,xe.Z)(r,1)[0],a=(0,oe.useState)((function(){return go({})})),o=(0,xe.Z)(a,1)[0],s=(0,oe.useState)(!1),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(!1),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=(0,oe.useState)(7),m=(0,xe.Z)(g,2),v=m[0],y=m[1],b=(0,oe.useState)(o[oo]),x=(0,xe.Z)(b,2),w=x[0],k=x[1],_=(0,oe.useState)([]),C=(0,xe.Z)(_,2),j=C[0],S=C[1],Z=(0,oe.useState)([]),N=(0,xe.Z)(Z,2),E=N[0],O=N[1],A=function(){var n=(0,at.Z)((0,it.Z)().mark((function n(r){var i,a,o,s,l;return(0,it.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(!0),n.next=4,bf(e,r);case 4:i=n.sent,a=i.data,o=i.meta,s=Ao(o,t),S([s.subscribers,s.notificationSent,s.views,s.click,s.goalConversionValue]),a&&(l=a.reverse().map((function(e){return e.date_create_formatted=Oo(e.date_create,r.group_by),e})),O(l)),u(!1),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),u(!1);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}(),T=function(e){k(e);var t=e[1].diff(e[0],"days")+1;y(t);var n={start_created_at:e[0].format("YYYY-MM-DD"),end_created_at:e[1].format("YYYY-MM-DD"),group_by:ri.DAY,expand:"analytics_in_metadata",include_meta:"prev,curr"};return t>90&&(n.group_by=ri.MONTH),n};(0,oe.useEffect)((function(){if(n){var e=T(w);A(e)}}),[e]);var P=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(r=ei()(t[0]).add(1,"year"),!t[1].isAfter(r)){e.next=6;break}return ie.default.error({message:Ua("You can only view analytics of maximum 12 months at a time.","pushengage"),duration:0}),e.abrupt("return");case 6:i=T(t),A(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=e.split(","),n="";return 1===t.length?n=ei()(t[0]).format("Do MMM, YYYY"):2===t.length&&(n=ei()(e,"MM,YYYY").format("MMM, YYYY")),n},I=[{title:Ua("Date","pushengage"),dataIndex:"date_create",responsive:["sm","xs"],width:"20%",render:function(e){return(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(jQ,{className:"pe-fs-14 pe-fw-600 pe-color-neutral",children:M(e)})})}},{title:Ua("Stats","pushengage"),dataIndex:"stats",responsive:["sm","xs"],render:function(e,t){return(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(_Q,{sentcount:(null===t||void 0===t?void 0:t.total_notifications)||0,viewcount:(null===t||void 0===t?void 0:t.views)||0,clickcount:(null===t||void 0===t?void 0:t.click)||0,ctr:(null===t||void 0===t?void 0:t.click_rate)||0})})}},{title:Ua("New Subscribers","pushengage"),dataIndex:"subscribers",responsive:["sm","xs"],render:function(e,t){return(0,st.jsxs)("div",{className:"pe-fw-500 pe-fs-13",children:[(0,st.jsxs)("p",{className:"pe-mb-5",children:[(0,st.jsx)("span",{className:"pe-mr-4",children:ko(t.desktop_subscribers+t.mobile_subscribers)})," ",(0,st.jsx)("span",{className:"pe-color-neutral-40",children:Ua("total","pushengage")})]}),(0,st.jsxs)(dt.Z,{gutter:[20,20],children:[(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(pN,{className:"pe-fs-12 pe-mr-8 pe-color-neutral-40"}),(0,st.jsx)("span",{className:"pe-color-neutral-40 pe-mr-4",children:ko(t.desktop_subscribers)})]}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(Ng,{className:"pe-fs-12 pe-mr-8 pe-color-neutral-40"}),(0,st.jsx)("span",{className:"pe-color-neutral-40 pe-mr-4",children:ko(t.mobile_subscribers)})]})]})]})}},{title:Ua("Unsubscribes","pushengage"),dataIndex:"unsubscribes",responsive:["sm","xs"],render:function(e,t){return(0,st.jsxs)("div",{className:"pe-fw-500 pe-fs-13",children:[(0,st.jsxs)("p",{className:"pe-mb-5",children:[(0,st.jsx)("span",{className:"pe-mr-4",children:ko(t.desktop_unsubscribed+t.mobile_unsubscribed)})," ",(0,st.jsx)("span",{className:"pe-color-neutral-40",children:Ua("total","pushengage")})]}),(0,st.jsxs)(dt.Z,{gutter:[20,20],children:[(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(pN,{className:"pe-fs-12 pe-mr-8 pe-color-neutral-40"}),(0,st.jsx)("span",{className:"pe-color-neutral-40 pe-mr-4",children:ko(t.desktop_unsubscribed)})]}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(Ng,{className:"pe-fs-12 pe-mr-8 pe-color-neutral-40"}),(0,st.jsx)("span",{className:"pe-color-neutral-40 pe-mr-4",children:ko(t.mobile_unsubscribed)})]})]})]})}}],D=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n,r,i;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),n={start_created_at:w[0].format("YYYY-MM-DD"),end_created_at:w[1].format("YYYY-MM-DD"),group_by:ri.DAY,format:"csv"},t.prev=2,t.next=5,bf(e,n);case 5:r=t.sent,i="AnalyticsOverview".concat(w[0].format("DD-MM-YYYY"),"_").concat(w[1].format("DD-MM-YYYY"),".csv"),To(r,i),h(!1),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),h(!1);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.analytics.overview,type:"analytics"}),(0,st.jsxs)(ct,{children:[n?null:(0,st.jsx)(rg,{}),(0,st.jsxs)(dt.Z,{justify:"space-between",className:"pe-mb-16",children:[(0,st.jsx)(ht.Z,{className:"pe-d-flex pe-align-items-center",children:(0,st.jsxs)(CQ,{className:"pe-mb-0 pe-lh-130",level:3,children:[Ua("Analytics Overview","pushengage"),(0,st.jsx)(ft.default,{placement:"top",title:Ua("A complete overview of your web push notification database and campaign performance.","pushengage"),children:(0,st.jsx)(yg,{className:"pe-ml-4 pe-fs-16 pe-cursor-help"})}),(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-ant-btn-export",icon:(0,st.jsx)(Th,{}),disabled:f||!n,loading:f,onClick:D,children:Ua("Export","pushengage")})]})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Gf,{initialValue:i,onChange:P,ranges:o})})]}),j.length?(0,st.jsx)(dt.Z,{className:"pe-statics-cards pe-mb-20",gutter:[16,16],children:j.map((function(e){return(0,st.jsx)(ht.Z,{className:"pe-statics-card",children:(0,st.jsx)(ug,{isLoadingStats:c,title:e.title,value:e.value,count:e.count,tagValue:e.tagValue,type:e.type,previousDaysCount:v})},e.title)}))}):null,(0,st.jsx)(Tf,{className:"pe-py-30 pe-pr-30 pe-pl-16",children:(0,st.jsx)(Hc.default,{spinning:c,children:(0,st.jsx)(lh,{data:E,loading:c})})}),(0,st.jsx)(CU,{pagination:!0,hideSummary:!0,columns:I,data:E,rowKey:"date_create",loading:c,emptyText:(0,st.jsx)(sG.ZP,{className:"pe-bg-white",icon:(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/records-not-found.svg"),alt:"404",width:"150px"}),title:Ua("No records found!","pushengage"),subTitle:(0,st.jsxs)("div",{children:[Ua("Please try changing date range filter. Need help? ","pushengage")," ",(0,st.jsx)(SQ,{target:"_blank",href:"".concat(Gc.baseDashboardAppUrl,"/account/support").concat(Qc({sid:e,utm_medium:"AnalyticsOverview",utm_content:"support ticket"})),children:Ua("Create a support ticket.","pushengage")})]})})})]})]})},NQ=n(19803),EQ=n.n(NQ),OQ=(n(17866),n(28734),function(e){var t=e.language,n=e.children,r=e.isCopyEnabled,i=e.styles,a=(0,oe.useRef)();return(0,oe.useEffect)((function(){a&&a.current&&EQ().highlightElement(a.current)}),[t,n]),(0,st.jsxs)("pre",{style:(0,kn.Z)({margin:0,position:"relative",borderRadius:"5px"},i),children:[(0,st.jsx)("code",{className:"language-".concat(t),ref:a,style:{overflow:"auto",display:"block"},children:n}),r&&(0,st.jsxs)(pt.default,{type:"default",onClick:function(){Ya(a&&a.current?a.current.textContent:"",Ua("Copied to clipboard","pushengage"))},size:"small",className:"copyToClipboard pe-btn-hollow pe-px-12 pe-p-absolute",style:{top:0,right:0},children:[(0,st.jsx)(Sh,{})," ",Ua("Copy","pushengage")]})]})});OQ.defaultProps={isCopyEnabled:!1,styles:{}};var AQ=OQ,TQ=mt.Z.Title,PQ=mt.Z.Paragraph,MQ=mt.Z.Text,IQ=mt.Z.Link,DQ=gp.detailedInstruction,LQ=DQ.url,RQ=DQ.utmParams,BQ={span:8,md:8,sm:24},FQ={span:16,md:16,sm:24},zQ={duration:86400,enabled:!1,method:"last_click",result_name:"revenue",currency:"USD"},VQ=[{label:"Last View",value:"last_view"},{label:"Last Click",value:"last_click"}],UQ=function(){var e=ed.Z.useForm(),t=(0,xe.Z)(e,1)[0],n=yt(),r=bt(Ur),i=bt((function(e){return e.session.user}),Zi()),a=bt(Vr),o=(0,oe.useState)(zQ),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)(!1),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)(!1),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=qd(i);(0,oe.useEffect)((function(){function e(){return e=(0,at.Z)((0,it.Z)().mark((function e(){var n,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),k){e.next=4;break}return f(!1),e.abrupt("return");case 4:return e.prev=4,e.next=7,ds({siteId:r,options:{name:"notification_analytics"}});case 7:i=e.sent,(a=null===(n=i.data.notification_analytics)||void 0===n?void 0:n.result)&&(c((0,kn.Z)((0,kn.Z)({},zQ),a)),t.setFieldsValue((0,kn.Z)((0,kn.Z)({},zQ),a))),f(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),f(!1);case 16:case"end":return e.stop()}}),e,null,[[4,13]])}))),e.apply(this,arguments)}a&&function(){e.apply(this,arguments)}()}),[r,k]);var _=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var a,o,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gd(i)){e.next=3;break}return w(!0),e.abrupt("return");case 3:if(a=(0,kn.Z)((0,kn.Z)({},l),t),!Zi()(l,a)){e.next=6;break}return e.abrupt("return");case 6:return v(!0),e.prev=7,e.next=10,ps({siteId:r,data:{notification_analytics:{result:a}}});case 10:o=e.sent,s=o.data,n(as(s)),ie.default.success({message:Ua("Goal tracking setting saved.","pushengage")}),c(a),v(!1),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),v(!1);case 21:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.analytics.goalTracking,type:"analytics"}),(0,st.jsxs)(iy,{pageClassName:"pe-goal-tracking-page ".concat(a&&!k?"pe-page-blocked":""),children:[x&&(0,st.jsx)(Cy,{text:Ua("You don't have permission to update goal analytics. Please contact to your admin.","pushengage"),onOk:function(){return w(!1)},visible:x}),!a&&(0,st.jsx)(rg,(0,kn.Z)({},Hg)),a&&!k?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Yy,(0,kn.Z)({},Sp.goalTracking)),(0,st.jsx)(JK,{image:"goal-tracking-placeholder.png"})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(dt.Z,{justify:"space-between",className:"pe-mb-28",children:(0,st.jsx)(ht.Z,{className:"pe-d-flex pe-align-items-center pe-mb-0",children:(0,st.jsxs)(TQ,{level:3,className:"pe-mb-0 pe-fw-700 pe-fs-18 pe-lh-150",children:[Ua("Goal Tracking","pushengage")," ",(0,st.jsx)(ft.default,{placement:"top",title:Ua("Assign conversion goals & value to your notification campaigns. You can set up a default goal and have it integrated for all your campaigns.","pushengage"),children:(0,st.jsx)(yg,{className:"pe-ml-4 pe-fs-16 pe-cursor-help"})})]})})}),(0,st.jsxs)(ag,{loading:p,cardHeader:"Assign conversion goals & value to your notification campaigns",cardIdName:"pe-goal-tracking-card",children:[(0,st.jsx)("div",{style:{maxWidth:"993px"},children:(0,st.jsx)(PQ,{type:"secondary",className:"pe-mb-0",children:Ua("Goal Tracking will help you assign conversion goals & value to your notification campaigns. The given code snippet needs integration on goal conversion events. You can set up a default goal and have it integrated for all your campaigns.","pushengage")})}),(0,st.jsx)(Cu.Z,{className:"pe-mt-30 pe-mb-36"}),(0,st.jsxs)(ed.Z,{colon:!1,form:t,labelAlign:"left",labelCol:BQ,wrapperCol:FQ,initialValues:l,preserve:!0,onFinish:_,children:[(0,st.jsxs)("div",{style:{maxWidth:"550px"},children:[(0,st.jsx)(ed.Z.Item,{className:"pe-enable-goal-tracking-form-item",label:"Enable Goal Tracking",name:"enabled",valuePropName:"checked",wrapperCol:{span:24},tooltip:{title:Ua("Enable goal tracking for all your notification campaigns.","pushengage"),icon:(0,st.jsx)(yg,{className:"pe-ml-4 pe-fs-16 pe-cursor-help"})},children:(0,st.jsx)(Lv.Z,{})}),(0,st.jsx)(ed.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(e){return(0,e.getFieldValue)("enabled")?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Tracking Method","pushengage"),name:"method",wrapperCol:{span:12},children:(0,st.jsx)(Rv.default,{options:VQ,dropdownClassName:"pe-ant-single-select-box"})}),(0,st.jsx)(ed.Z.Item,{className:"pe-input-goal-tracking-duration",label:Ua("Tracking Duration","pushengage"),name:"duration",wrapperCol:{span:24},children:(0,st.jsx)(UW,{width:114})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Goal Name","pushengage"),name:"result_name",wrapperCol:{span:12},children:(0,st.jsx)(Yc.default,{})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Currency","pushengage"),name:"currency",wrapperCol:{span:12},children:(0,st.jsx)(Rv.default,{showSearch:!0,dropdownClassName:"pe-ant-single-select-box",children:Jo.map((function(e){return(0,st.jsx)(Rv.default.Option,{value:e.code,children:(0,st.jsx)("span",{children:"".concat(e.country," (").concat(e.code," ").concat(e.symbol,")")})},e.code)}))})})]}):null}})]}),(0,st.jsx)(ed.Z.Item,{children:(0,st.jsx)(pt.default,{size:"large",type:"primary",htmlType:"submit",loading:m,disabled:!a||m,className:"pe-mt-6",children:"Update"})}),(0,st.jsx)(ed.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(e){var t=e.getFieldValue;return t("enabled")?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Cu.Z,{className:"pe-my-40"}),(0,st.jsx)("div",{className:"pe-b-color-neutral-15 pe-br-4 pe-mb-22",children:(0,st.jsx)(AQ,{language:"js",isCopyEnabled:!0,children:Io(t("result_name"))})}),(0,st.jsxs)("div",{className:"pe-mb-0",children:[(0,st.jsx)(MQ,{type:"secondary",children:Ua("Learn how to add this code in WordPress","pushengage")}),"  ",(0,st.jsxs)(IQ,{type:"secondary",className:"pe-fw-600 small",target:"_blank",href:"".concat(LQ).concat(Qc(RQ)),children:[Ua("See Detailed Instructions","pushengage")," ",(0,st.jsx)(od,{className:"pe-fs-10"})]})]})]}):null}})]})]})]})]})]})},HQ={widget:{title:Ua("Get Notification Widget","pushengage"),image:"https://assetscdn.pushengage.com/react-dashboard/html-widget.jpg",text:["Count = Number of clicks on widget","Subscription Rate = (Allow / Count) x 100"]},native:{title:Ua("Native Opt-in","pushengage"),image:"https://assetscdn.pushengage.com/react-dashboard/native-optin.png",text:["Count = Allow + Block + Close(x)","Subscription Rate = (Allow / Count) x 100"]},html:{title:Ua("HTML Opt-in","pushengage"),image:"https://assetscdn.pushengage.com/react-dashboard/html-optin.png",text:["Count = Allow + Block","Subscription Rate = (Allow / Count) x 100"]}},WQ=function(e){var t=e===vi.PUSH_SINGLE_STEP_OPT_IN?"native":e===vi.GET_NOTIFICATION_WIDGET?"widget":"html",n=HQ[t];gt.Z.info({title:(0,st.jsx)(mt.Z.Title,{level:3,children:n.title}),maskClosable:!0,icon:null,closable:!0,closeIcon:(0,st.jsx)($c,{}),content:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("img",{src:n.image,alt:t,style:{width:"100%"},className:"pe-mb-24"}),n.text.map((function(e){return(0,st.jsx)(mt.Z.Paragraph,{className:"pe-mb-8",children:e},e)}))]})})};function qQ(e){var t=0,n=0,r=0,i=0;return e.value.forEach((function(e){e.optin_type===vi.PUSH_SINGLE_STEP_OPT_IN?(t+=e.optin1_allow,n+=e.optin1_block,r+=e.optin1_close,i+=e.optin1_count):(t+=e.optin2_allow,n+=e.optin2_block,r+=e.optin2_close,i+=e.optin2_count)})),e.allow=t,e.block=n,e.close=r,e.count=i,e.subscription_rate=Number(_o((100*(t/i||1)).toFixed(2))),e}var KQ=n(97079),YQ=n(6541),GQ=mt.Z.Text,QQ=mt.Z.Paragraph,XQ=function(e){var t,n=e.active,r=e.payload,i=e.label;if(!n||Wi()(r))return null;var a=null===r||void 0===r||null===(t=r[0])||void 0===t?void 0:t.payload;if(Wi()(a))return null;var o=function(e){var t=e.text,n=e.val;return(0,st.jsxs)(ht.Z,{className:"pe-pr-16",children:[(0,st.jsx)(QQ,{className:"pe-fs-16 pe-mb-0",children:n||0}),(0,st.jsx)(GQ,{type:"secondary",className:"pe-fs-11",children:t})]})};return(0,st.jsxs)(Wc.Z,{children:[(0,st.jsx)("div",{className:"mb-12",children:(0,st.jsx)(GQ,{strong:!0,className:"pe-fs-16 pe-mb-16",children:i})}),(0,st.jsxs)("div",{children:[(0,st.jsx)(GQ,{strong:!0,className:"pe-fs-12 pe-mb-12",children:Ua("Native opt-in","pushengage")}),(0,st.jsx)(Yp,{className:"pe-ml-10 pe-fs-12 pe-color-neutral-20 pe-cursor-pointer",onClick:function(){return WQ(vi.PUSH_SINGLE_STEP_OPT_IN)}})]}),(0,st.jsxs)(dt.Z,{className:"mt-8",justify:"start",align:"middle",gutter:[8,8],children:[(0,st.jsx)(o,{text:Ua("Count","pushengage"),val:wo(a.count||0)}),(0,st.jsx)(o,{text:Ua("Allow","pushengage"),val:wo(a.allow||0)}),(0,st.jsx)(o,{text:Ua("Block","pushengage"),val:wo(a.block||0)}),(0,st.jsx)(o,{text:Ua("Close(X)","pushengage"),val:wo(a.close||0)}),(0,st.jsx)(o,{text:Ua("Subscription Rate","pushengage"),val:"".concat(a.subscription_rate,"%")})]})]})},$Q=function(e){var t=e.loading,n=e.data,r=e.emptyTitle,i=e.emptyMsg;return(0,st.jsx)(Qf.h,{width:"100%",height:300,className:"pe-bar-graph-container",children:(0,st.jsxs)(KQ.v,{data:n,barSize:50,margin:{top:0,right:0,left:-20,bottom:0},children:[(0,st.jsx)($f.q,{strokeDasharray:"2 2",strokeOpacity:.2}),(0,st.jsx)(Jf.K,{dataKey:"date_create_formatted",stroke:"#898699",hide:!n.length,tickSize:5,padding:{right:32},minTickGap:72,tickLine:!1,axisLine:!1,style:{fontSize:"13px",fontWeight:500},tickMargin:14}),(0,st.jsx)(eh.B,{stroke:"#898699",tickSize:5,tickLine:!1,axisLine:!1,ticks:n.length?void 0:[0,1,2,3,4],style:{fontSize:"13px",fontWeight:500},tickFormatter:function(e){return wo(e)},tickMargin:4}),(0,st.jsx)(th.u,{offset:32,content:(0,st.jsx)(XQ,{}),cursor:{fill:"#f8f8fb"}}),(0,st.jsx)(nh.D,{verticalAlign:"bottom",iconType:"square",align:"center",iconSize:13,wrapperStyle:{fontSize:"13px",left:0}}),(0,st.jsx)(YQ.$,{dataKey:"close",stackId:"1",name:"Closed",fill:"#3B43FF"}),(0,st.jsx)(YQ.$,{dataKey:"block",stackId:"1",name:"Blocked",fill:"#DF2A4A"}),(0,st.jsx)(YQ.$,{dataKey:"allow",stackId:"1",name:"Allowed",fill:"#0AA664"}),0!==n.length||t?null:(0,st.jsx)(ih.M,{component:function(){return(0,st.jsx)(ah,{title:r,message:i})}})]})})};$Q.defaultProps={emptyTitle:Ua("No Data Found","pushengage"),emptyMsg:Ua("Try adjusting date range","pushengage")};var JQ=$Q,eX=function(e){var t=e.options;return(0,st.jsx)("div",{className:"analytics-stepdown-flexbox",children:t.length>0&&t.map((function(e,t){return(0,st.jsxs)("div",{className:"analytics-stepdown analytics-stepdown-".concat(t+1),children:[void 0!==e.value&&(0,st.jsx)("span",{className:"analytics-stepdown-tag",children:e.value}),e.label," ",void 0!==e.percentage&&"(".concat(e.percentage,"%)")]},e.key)}))})},tX=mt.Z.Text,nX=function(e){return e.optin_type===vi.PUSH_SINGLE_STEP_OPT_IN?[{key:"native",label:Ua("Native Opt-in","pushengage"),value:wo(e.optin1_count)},{key:"subscriber",label:Ua("Subscribers","pushengage"),value:wo(e.optin1_allow),percentage:e.optin1_subscription_rate}]:e.optin_type===vi.GET_NOTIFICATION_WIDGET?[{key:"native",label:Ua("Native Opt-in","pushengage"),value:wo(e.optin2_count)},{key:"subscriber",label:Ua("Subscribers","pushengage"),value:wo(e.optin2_allow),percentage:(e.optin2_allow/(e.optin2_count||1)*100).toFixed(2)}]:[{key:"html",label:Ua("HTML Opt-in","pushengage"),value:wo(e.optin1_count)},{key:"native",label:Ua("Native Opt-in","pushengage"),value:wo(e.optin2_count)},{key:"subscriber",label:Ua("Subscribers","pushengage"),value:wo(e.optin2_allow),percentage:(e.optin2_allow/(e.optin1_count||1)*100).toFixed(2)}]},rX=function(e){var t=e.title,n=e.onShowInfo;return(0,st.jsxs)("div",{className:"pe-mb-9",children:[(0,st.jsx)(tX,{strong:!0,children:t}),(0,st.jsx)(yg,{className:"pe-cursor-pointer pe-ml-8 pe-fs-16",onClick:n})]})},iX=function(e){var t=e.count,n=e.allow,r=e.block,i=e.close,a=e.rate,o=function(e){var t=e.label,n=e.val;return(0,st.jsxs)("div",{children:[(0,st.jsxs)(tX,{className:"pe-fs-13 pe-mr-2 pe-color-neutral-40",children:[t,":"]}),(0,st.jsx)(tX,{className:"pe-fs-13 pe-color-neutral pe-fw-500",children:n||0})]})};return(0,st.jsxs)(Ju.default,{size:[24,16],children:[(0,st.jsx)(o,{label:Ua("Count","pushengage"),val:wo(t||0)}),(0,st.jsx)(o,{label:Ua("Allow","pushengage"),val:wo(n||0)}),(0,st.jsx)(o,{label:Ua("Block","pushengage"),val:wo(r||0)}),(0,st.jsx)(o,{label:Ua("Close(X)","pushengage"),val:wo(i||0)}),(0,st.jsx)(o,{label:Ua("Subscription Rate","pushengage"),val:"".concat(a,"%")})]})};iX.defaultProps={allow:void 0,block:void 0,close:void 0};var aX=function(e){var t=e.data;return(0,st.jsx)(st.Fragment,{children:t.value.length>0&&t.value.map((function(e){return(0,st.jsx)(Wc.Z,{className:"analytics-report-card",title:(0,st.jsx)(tX,{className:"pe-fs-14 pe-fw-700",children:e.optin_name}),children:(0,st.jsxs)(dt.Z,{justify:"space-between",align:"stretch",children:[(0,st.jsx)(ht.Z,{xs:24,sm:24,lg:10,className:"first-part",children:(0,st.jsx)(dt.Z,{justify:"center",align:"middle",style:{height:"100%"},children:(0,st.jsx)(ht.Z,{children:(0,st.jsx)(eX,{options:nX(e)})})})}),(0,st.jsx)(ht.Z,{xs:24,sm:24,lg:14,className:"second-part",children:[vi.PUSH_SINGLE_STEP_OPT_IN,vi.GET_NOTIFICATION_WIDGET].includes(e.optin_type)?(0,st.jsxs)("div",{children:[(0,st.jsx)(rX,{title:Ua("Native Opt-in","pushengage"),onShowInfo:function(){WQ(e.optin_type)}}),e.optin_type===vi.GET_NOTIFICATION_WIDGET?(0,st.jsx)(iX,{count:+e.optin2_count,allow:+e.optin2_allow,block:+e.optin2_block,close:+e.optin2_close,rate:e.optin2_subscription_rate}):(0,st.jsx)(iX,{count:+e.optin1_count,allow:+e.optin1_allow,block:+e.optin1_block,close:+e.optin1_close,rate:e.optin1_subscription_rate})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{children:[(0,st.jsx)(rX,{title:Ua("First Impression / HTML Opt-in","pushengage"),onShowInfo:function(){WQ(e.optin_type)}}),(0,st.jsx)(iX,{count:+e.optin1_count,allow:+e.optin1_allow,block:+e.optin1_block,close:+e.optin1_close,rate:e.optin1_subscription_rate})]}),(0,st.jsx)(Cu.Z,{className:"pe-my-20"}),(0,st.jsxs)("div",{children:[(0,st.jsx)(rX,{title:Ua("Second impression / Native Opt-in","pushengage"),onShowInfo:function(){WQ(vi.PUSH_SINGLE_STEP_OPT_IN)}}),(0,st.jsx)(iX,{count:+e.optin2_count,allow:+e.optin2_allow,block:+e.optin2_block,close:+e.optin2_close,rate:e.optin2_subscription_rate})]})]})})]})},e.optin_type)}))})},oX=mt.Z.Text,sX=mt.Z.Paragraph,lX=mt.Z.Title,cX=[{key:"imp1",label:Ua("HTML Opt-in","pushengage"),value:30},{key:"imp2",label:Ua("Native Opt-in","pushengage"),value:26},{key:"rate",label:Ua("Subscribers","pushengage"),value:26,percentage:87.1}],uX=function(e){var t=e.setting,n=e.onChange,r=e.onSubmit,i=e.onCancel,a=e.updating,o=e.loading,s=ed.Z.useForm(),l=(0,xe.Z)(s,1)[0],c=bt((function(e){return e.session.user}),Zi()),u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1];(0,oe.useEffect)((function(){l.resetFields()}),[t,l]);var h=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gd(c)){e.next=3;break}return f(!0),e.abrupt("return");case 3:n={analytics:{enabled:1},monitoring:{enabled:t.enabled?1:0,threshold_value:t.threshold_value}},r(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(Tf,{className:"pe-mb-20 pe-pt-36 pe-pb-44 pe-px-36",children:[p?(0,st.jsx)(Cy,{text:Ua("You don't have permission to update optin analytics. Please contact to your admin.","pushengage"),onOk:function(){return f(!1)},visible:p}):null,(0,st.jsx)(Hc.default,{spinning:o,children:(0,st.jsxs)(dt.Z,{gutter:[24,24],children:[(0,st.jsx)(ht.Z,{xs:24,sm:24,lg:8,style:{minHeight:"100%"},children:(0,st.jsx)("div",{style:{height:"100%",alignSelf:"stretch",display:"flex",alignItems:"start",justifyContent:"center"},children:(0,st.jsx)(eX,{options:cX})})}),(0,st.jsx)(ht.Z,{xs:24,sm:24,lg:16,style:{height:"100%"},children:(0,st.jsxs)("div",{style:{maxWidth:"525px"},children:[(0,st.jsx)(lX,{className:"pe-fs-14 pe-fw-600 pe-mb-20",level:2,children:Ua("Analyze your subscription through funnel chart","pushengage")}),(0,st.jsx)(sX,{type:"secondary",className:"pe-fs-14 pe-mb-32 pe-fw-500",children:Ua("You can try out different subscription pop-up and check what suits best for you.","pushengage")}),(0,st.jsxs)(ed.Z,{layout:"horizontal",initialValues:{enabled:!!t.monitoring.enabled,threshold_value:t.monitoring.threshold_value},onFinish:h,onValuesChange:function(e,t){if(n){var r={analytics:{enabled:1},monitoring:{enabled:t.enabled?1:0,threshold_value:t.threshold_value}};null===n||void 0===n||n(r)}},form:l,colon:!1,children:[(0,st.jsx)(ed.Z.Item,{children:(0,st.jsxs)(Ju.default,{size:50,children:[(0,st.jsx)(oX,{className:"pe-fs-14 pe-fw-500",children:Ua("Enable Single Step Optin Monitoring","pushengage")}),(0,st.jsx)(ed.Z.Item,{name:"enabled",valuePropName:"checked",noStyle:!0,children:(0,st.jsx)(Lv.Z,{})})]})}),(0,st.jsxs)(ed.Z.Item,{className:"pe-fs-15 pe-mb-14",children:[(0,st.jsx)(oX,{type:"secondary",className:"pe-fs-14 pe-fw-600 pe-mr-12",children:Ua("Subscription Rate","pushengage")}),(0,st.jsx)(ed.Z.Item,{shouldUpdate:!0,noStyle:!0,name:"threshold_value",validateFirst:!0,rules:[{type:"number",min:1,message:Ua("Subscription rate can not be less than 1","pushengage")},{type:"number",max:99,message:Ua("Subscription rate can not be greater than 99","pushengage")},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n||!0!==t("enabled")?Promise.resolve():Promise.reject(new Error(Ua("Please enter subscription rate value","pushengage")))}}}],children:(0,st.jsx)(rW.Z,{type:"number",className:"pe-subscription-rate-input-number",min:1,max:99})}),(0,st.jsx)(oX,{type:"secondary",className:"pe-fs-14 pe-ml-6",children:"%"})]}),(0,st.jsx)(sX,{type:"secondary",className:"pe-mb-24",children:Ua("Note: This enables PushEngage to email you, whenever the subscription rate falls below the provided percentage limit. Applicable only when Single Step Optin is enabled.","pushengage")}),(0,st.jsxs)(Ju.default,{direction:"horizontal",size:[4,8],wrap:!0,children:[(0,st.jsxs)(pt.default,{size:"large",type:"primary",className:"fs-15",loading:a,disabled:o,htmlType:"submit",children:[t.analytics.enabled?"Update":"Enable"," Subscription Opt-in Analytics"]}),t.analytics.enabled?(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{type:"default",size:"large",onClick:i,className:"ml-15 fs-15",children:Ua("Close","pushengage")})}):null]})]})]})})]})})]})};uX.defaultProps={onChange:void 0,loading:!1};var dX=uX,pX=mt.Z.Title,fX=mt.Z.Text,hX=mt.Z.Link,gX=function(){var e=bt(Ur),t=bt((function(e){return e.session.user}),Zi()),n=bt(Vr),r=(0,oe.useState)(uo),i=(0,xe.Z)(r,1)[0],a=(0,oe.useState)(0),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(7),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)((function(){return go({hideToday:!0})})),h=(0,xe.Z)(f,1)[0],g=(0,oe.useState)(!1),m=(0,xe.Z)(g,2),v=m[0],y=m[1],b=(0,oe.useState)(!1),x=(0,xe.Z)(b,2),w=x[0],k=x[1],_=(0,oe.useState)(!1),C=(0,xe.Z)(_,2),j=C[0],S=C[1],Z=(0,oe.useState)(!1),N=(0,xe.Z)(Z,2),E=N[0],O=N[1],A=(0,oe.useState)(!1),T=(0,xe.Z)(A,2),P=T[0],M=T[1],I=(0,oe.useState)({analytics:{enabled:0},monitoring:{enabled:0,threshold_value:10}}),D=(0,xe.Z)(I,2),L=D[0],R=D[1],B=(0,oe.useState)([]),F=(0,xe.Z)(B,2),z=F[0],V=F[1],U=(0,oe.useState)(h[uo]),H=(0,xe.Z)(U,2),W=H[0],q=H[1],K=(0,oe.useState)([]),Y=(0,xe.Z)(K,2),G=Y[0],Q=Y[1],X=function(e){return!(null===e||void 0===e||!e.owner.permissions.settings.sub_analytics)}(t),$=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(n){var r,i,a,o;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,y(!0),t.next=4,wf(e,n);case 4:r=t.sent,i=r.data,a=r.meta,!Wi()(a)&&n.expand&&(o=Lo(a),Q([o.totalCount,o.allow,o.block,o.close,o.subscriptionRate])),i&&V(i.map((function(e){return e.date_create_formatted=Oo(e.date,n.group_by),qQ(e),e}))),y(!1),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),y(!1);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),J=function(e){q(e);var t=e[1].diff(e[0],"days")+1;p(t);var n={start_created_at:e[0].format("YYYY-MM-DD"),end_created_at:e[1].format("YYYY-MM-DD"),group_by:ri.DAY,expand:"analytics_in_metadata",include_meta:"prev,curr"};return t>90&&(n.group_by=ri.MONTH),n};(0,oe.useEffect)((function(){n&&X&&(0,at.Z)((0,it.Z)().mark((function t(){var n,r,i,a,o,s,c,u,d,p;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,k(!0),t.next=4,ds({siteId:e,options:{name:"sub_analytics,optin_settings"}});case 4:return s=t.sent,k(!1),null!==s&&void 0!==s&&null!==(n=s.data)&&void 0!==n&&n.sub_analytics&&(R(s.data.sub_analytics),null!==s&&void 0!==s&&null!==(c=s.data)&&void 0!==c&&null!==(u=c.sub_analytics)&&void 0!==u&&null!==(d=u.analytics)&&void 0!==d&&d.enabled||O(!0)),l((null===(r=s.data.optin_settings)||void 0===r||null===(i=r.activeOptin)||void 0===i||null===(a=i.https)||void 0===a||null===(o=a.types)||void 0===o?void 0:o.length)||0),p=J(W),t.next=11,$(p);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),k(!1);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()}),[e,X]);var ee=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(r=ei()(t[0]).add(1,"year"),!t[1].isAfter(r)){e.next=6;break}return ie.default.error({message:Ua("You can only view analytics of maximum 12 months at a time.","pushengage"),duration:0}),e.abrupt("return");case 6:i=J(t),$(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(n){return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(X){t.next=3;break}return WO.default.error(Ua("You do not permission to update the setting","pushengage")),t.abrupt("return");case 3:return S(!0),t.prev=4,t.next=7,ps({siteId:e,data:{sub_analytics:n}});case 7:R(n),S(!1),ie.default.success({message:"Subscription opt-in analytics ".concat(L.analytics.enabled?"updated":"enabled"," successfully")}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),S(!1);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}(),ne=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n,r,i;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,M(!0),n={start_created_at:W[0].format("YYYY-MM-DD"),end_created_at:W[1].format("YYYY-MM-DD"),group_by:ri.MONTH,format:"csv"},t.next=5,wf(e,n);case 5:r=t.sent,i="OptinAnalytics-".concat(n.start_created_at,"_").concat(n.end_created_at,".csv"),To(r,i),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),ie.default.error({message:Ua("Failed to download report. Try again.","pushengage")});case 13:M(!1);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.analytics.optinAnalytics,type:"analytics"}),(0,st.jsxs)(iy,{pageClassName:"pe-optin-analytics-page ".concat(n&&!X?"pe-page-blocked":""),children:[!n&&(0,st.jsx)(rg,{}),n&&!X?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Yy,(0,kn.Z)({},Sp.optinAnalytics)),(0,st.jsx)(JK,{image:"optin-analytics-placeholder.png"})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"".concat(E?"pe-mb-24":"pe-mb-16"),children:(0,st.jsxs)(dt.Z,{justify:"space-between",children:[(0,st.jsx)(ht.Z,{className:"pe-d-flex pe-align-items-center",children:(0,st.jsxs)(pX,{className:"pe-mb-0 pe-fw-700 pe-fs-18 pe-lh-130",level:2,children:[Ua("Optin Analytics","pushengage"),(0,st.jsx)(ft.default,{placement:"top",title:"Analyze your subscription rate and understand which style of Subscription Opt-in works best.",children:(0,st.jsx)(yg,{className:"pe-ml-4 pe-fs-16 pe-cursor-help"})}),(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-ant-btn-export",icon:(0,st.jsx)(Th,{}),disabled:P||!n,loading:P,onClick:ne,children:Ua("Export","pushengage")})]})}),(0,st.jsx)(ht.Z,{className:"pe-d-flex",children:E?null:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(pt.default,{size:"small",className:"pe-mr-8 pe-lh-80 pe-px-14 pe-fw-600 pe-fs-13",disabled:!n,onClick:function(){return O(!0)},children:[(0,st.jsx)(vu,{className:"pe-fs-12"})," ",Ua("Settings","pushengage")]}),(0,st.jsx)("div",{className:"pe-d-inline",children:(0,st.jsx)(Gf,{initialValue:i,onChange:ee,ranges:h})})]})})]})}),E?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(dX,{setting:L,updating:j,loading:w,onSubmit:te,onCancel:function(){return O(!1)}}),X&&L.analytics.enabled?(0,st.jsx)("div",{className:"pe-d-flex pe-justify-right pe-mb-18",children:(0,st.jsx)(Gf,{initialValue:i,onChange:ee,ranges:h})}):null]}):null,!n||L.analytics.enabled?(0,st.jsxs)(st.Fragment,{children:[G.length?(0,st.jsx)(dt.Z,{className:"pe-statics-cards pe-mb-20",gutter:[16,16],children:G.map((function(e){return(0,st.jsx)(ht.Z,{className:"pe-statics-card",children:(0,st.jsx)(ug,{isLoadingStats:v,title:e.title,value:e.value,count:e.count,tagValue:e.tagValue,type:e.type,previousDaysCount:d})},e.title)}))}):null,(0,st.jsx)(Tf,{className:"pe-py-30 pe-pl-16 pe-pr-30 pe-mb-24",children:(0,st.jsx)(Hc.default,{spinning:v,children:(0,st.jsx)(JQ,{loading:v,data:(0,we.Z)(z).reverse()})})}),n&&!w&&s<=1?(0,st.jsx)(Au.default,{className:"pe-alert pe-mb-24 pe-br-3",type:"info",message:(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)(fX,{className:"pe-fs-15",children:[Ua("There is only one type of optin running.","pushengage")," ",(0,st.jsx)(ot.OL,{to:$r.path.design.popupModals,children:(0,st.jsx)(hX,{underline:!0,className:"pe-fw-600",children:Ua("Enable more types","pushengage")})})," ",Ua("to maximize your conversion rates.","pushengage")]})})}):null,(0,st.jsx)(Hc.default,{spinning:w,className:"",children:0===z.length?(0,st.jsx)(Tf,{className:"pe-pt-28 pe-pr-30 pe-pb-30 pe-pl-32",children:(0,st.jsx)(sG.ZP,{icon:(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/records-not-found.svg"),alt:"404",width:"150px"}),title:"No records found!",subTitle:(0,st.jsxs)("div",{children:[Ua("Please try changing date range filter. Need help? ","pushengage")," ",(0,st.jsx)(hX,{href:"".concat(Gc.baseDashboardAppUrl,"/account/support").concat(Qc({sid:e,utm_medium:"AnalyticsOptinAnalytics",utm_content:"support ticket"})),target:"_blank",children:Ua("Create a support ticket.","pushengage")})," "]})})}):(0,st.jsx)("div",{className:"pe-report-card-container",children:(0,st.jsx)(qc.Z,{ghost:!0,accordion:!0,bordered:!1,destroyInactivePanel:!0,expandIconPosition:"right",expandIcon:function(e){return(0,st.jsx)(uu,{rotate:e.isActive?270:90})},children:z.map((function(e){return(0,st.jsxs)(qc.Z.Panel,{header:(0,st.jsxs)(Ju.default,{direction:"horizontal",children:[(0,st.jsx)(Uf,{className:"pe-fs-18 pe-fw-700"}),(0,st.jsx)(fX,{className:"pe-fs-18 pe-fw-700 pe-lh-150",children:e.date_create_formatted})]}),className:"pe-analytics-collapse-panel",children:[(0,st.jsx)(Cu.Z,{plain:!0,className:"pe-my-0"}),(0,st.jsx)(aX,{data:e})]},e.date)}))})})})]}):null]})]})]})},mX=mt.Z.Paragraph,vX=mt.Z.Text,yX=function(e){var t=bt(Ur),n=(0,oe.useState)(!1),r=(0,xe.Z)(n,2),i=r[0],a=r[1],o=(0,oe.useState)(!1),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1];return(0,st.jsxs)(Hc.default,{spinning:e.loading,children:[(0,st.jsxs)("div",{className:"pe-popup-modal-card pe-w-278 pe-bg-white pe-px-10 pe-pt-10 pe-pb-15",children:[(0,st.jsxs)("div",{className:"pe-popup-modal-content",children:[(0,st.jsx)("div",{className:"pe-popup-modal-img-content ".concat(l?"pe-popup-modal-tooltip-active":""),children:(0,st.jsx)("img",{src:e.imagePath,alt:e.name,width:"174px"})}),(0,st.jsxs)("div",{className:"pe-popup-modal-hover-content ".concat(l?"pe-popup-modal-tooltip-active":""," pe-pt-54"),children:[(0,st.jsx)(pt.default,{type:"primary",size:"small",className:"pe-mb-5 pe-d-block pe-w-120 pe-mx-auto pe-fs-13 pe-fw-700",onClick:function(){window.open("".concat(e.editUrl).concat(Qc({sid:t,optinType:e.optinOrWidgetType,optinName:e.name,utm_medium:"DesignPopUpModals",utm_content:"Edit Popup"})),"_blank")},children:Ua("Edit Popup","pushengage")}),(0,st.jsx)(Ff.default,{className:"pe-popup-modal-popover",title:null,visible:l,trigger:"click",onVisibleChange:function(e){c(e)},content:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(mX,{className:"pe-mb-12",children:Ua("Please select the preview type","pushengage")}),(0,st.jsxs)(dt.Z,{justify:"center",gutter:[8,8],children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",className:"pe-fs-13",disabled:e.disabled,onClick:function(){c(!1),f(!1),a(!0)},children:Ua("Desktop","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",className:"pe-fs-13",disabled:e.disabled,onClick:function(){c(!1),f(!0),a(!0)},children:Ua("Mobile","pushengage")})})]})]}),children:(0,st.jsx)(pt.default,{className:"pe-d-block pe-w-120 pe-mx-auto pe-fs-13 pe-fw-700",size:"small",onClick:function(){c(!0)},children:Ua("Preview","pushengage")})})]})]}),(0,st.jsxs)(dt.Z,{justify:"space-between",className:"pe-mt-8",children:[(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(vX,{className:"pe-fs-13 pe-fw-600 pe-mb-0",children:e.name}),(0,st.jsx)(ft.default,{title:e.helpText,children:(0,st.jsx)(yg,{className:"pe-ml-6 pe-fs-16 pe-cursor-help"})})]}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:e.enabled,loading:e.switching,disabled:e.disabled,onChange:function(t){e.handleAction(t,e.optinOrWidgetType)}})})]})]}),(0,st.jsxs)(gt.Z,{destroyOnClose:!0,visible:i,closeIcon:(0,st.jsx)($c,{}),bodyStyle:{height:p?650:600,paddingTop:"50px"},width:p?441:"65%",footer:null,onCancel:function(){return a(!1)},style:{top:15,paddingBottom:0,"--mobile-preview-background-image":" url(".concat(window.pushengage.assetsUrl,"img/phone-preview.png)")},className:p?"pe-design-mobile-preview-modal":"pe-design-desktop-preview-modal",children:[(0,st.jsx)(rt.default,{avatar:!0,paragraph:{rows:4}}),(0,st.jsx)(rt.default,{avatar:!0,paragraph:{rows:4}}),(0,st.jsx)(rt.default,{avatar:!0,paragraph:{rows:5}}),p?e.mobileTestPreview:e.desktopTestPreview]})]})},bX=function(e){var t=(0,oe.useMemo)((function(){return Xa(e.bg)}),[e.bg]),n=(0,kn.Z)((0,kn.Z)({},e.style),{},{maxWidth:370,"--opt-in-width":"100%","--opt-in-background-color":e.bg,"--allow-btn-background-color":e.allowBtnBg,"--close-btn-background-color":e.closeBtnBg,"--close-btn-border":"#ffffff"===e.closeBtnBg?"1px solid #d8d8d8":"1px solid ".concat(e.closeBtnBg),"--opt-in-icon-url":"url(".concat(e.siteImage,")"),"--checkbox-checked-tick-color":e.checkbox_tick_color,"--checkbox-unchecked--color":e.checkbox_bg,"--checkbox-checked-background-color":e.bg});return(0,st.jsxs)("div",{className:"opt-in__safari-style opt-in__safari-style--".concat(e.placement," opt-in__safari-style--").concat(t," opt-in__safari-style--").concat(e.viewType),style:n,children:[(0,st.jsxs)("div",{className:"opt-in__safari-style__content",children:[e.siteImage?(0,st.jsx)("div",{className:"opt-in__safari-style__icon__container",children:(0,st.jsx)("div",{className:"opt-in__safari-style__icon"})}):(0,st.jsx)("div",{className:"opt-in__safari-style__icon__container opt-in__safari-style__icon__container--default-icon",children:(0,st.jsx)(vN,{})}),(0,st.jsx)("div",{className:"opt-in__safari-style__title",children:pf(e.optin_title)})]}),Array.isArray(e.optin_segments)&&e.optin_segments.length>0&&(0,st.jsx)("div",{className:"opt-in__safari-style__segments",children:e.optin_segments.map((function(t,n){return(0,st.jsxs)("div",{className:"opt-in__checkbox",style:{marginTop:"".concat(n>=2?"10px":"0px")},children:[(0,st.jsx)("input",{name:"segments-".concat(t),type:"checkbox",value:t,id:"opt-in__segment-".concat(e.viewType,"-").concat(n),defaultChecked:e.default_segment_selection}),(0,st.jsx)("label",{htmlFor:"opt-in__segment-".concat(e.viewType,"-").concat(n),children:Ka(t)})]},"".concat(t,"-").concat(e.default_segment_selection))}))}),(0,st.jsxs)("div",{className:"opt-in__safari-style__button",children:[(0,st.jsx)("div",{className:"opt-in__safari-style__button__allow",children:pf(e.optin_allow_btn_txt)}),(0,st.jsx)("div",{className:"opt-in__safari-style__button__close",children:pf(e.optin_close_btn_txt)})]}),!e.isWhiteLabel&&(0,st.jsxs)("div",{className:"opt-in__safari-style__powered-by",children:["Powered by ",(0,st.jsx)("strong",{children:"PushEngage"})]})]})};bX.defaultProps={style:void 0};var xX=bX,wX=function(e){var t="pe-bottom-left"===e.placement?"left":"right",n=(0,kn.Z)((0,kn.Z)({},e.style),{},{"--bell-background-color":e.bg,"--bell-color":e.allowBtnBg,"--bell-height":"50px","--bell-width":"50px","--bell-right":"30px","--bell-left":"30px","--bell-bottom":"50px"}),r={"--checkbox-checked-tick-color":e.checkbox_tick_color,"--checkbox-unchecked--color":e.checkbox_bg,"--checkbox-checked-background-color":"#ffffff"},i=(0,st.jsxs)("div",{className:"opt-in__tooltip opt-in__bell-placed-bar__tooltip",style:r,children:[(0,st.jsx)("div",{className:"opt-in__bell-placed-bar__tooltip__title",children:pf(e.optin_title)}),Array.isArray(e.optin_segments)&&e.optin_segments.length>0&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"opt-in__bell-placed-bar__tooltip__segments",children:e.optin_segments.map((function(t,n){return(0,st.jsxs)("div",{className:"opt-in__checkbox",style:{marginTop:"".concat(n>=1?"8px":"0px")},children:[(0,st.jsx)("input",{name:"segments-".concat(t),type:"checkbox",value:t,id:"opt-in__segment-".concat(e.viewType,"-").concat(n),defaultChecked:e.default_segment_selection}),(0,st.jsx)("label",{htmlFor:"opt-in__segment-".concat(e.viewType,"-").concat(n),children:Ka(t)})]},"".concat(t,"-").concat(e.default_segment_selection))}))}),(0,st.jsx)("div",{className:"opt-in__bell-placed-bar__tooltip__button",children:pf(e.optin_allow_btn_txt)})]}),!e.isWhiteLabel&&(0,st.jsxs)("div",{className:"opt-in__bell-placed-bar__tooltip__powered-by",children:["Powered by ",(0,st.jsx)("strong",{children:"PushEngage"})]})]});return(0,st.jsx)(ft.default,{placement:"left"===t?"rightBottom":"leftBottom",title:i,color:"#383940",overlayInnerStyle:{borderRadius:"4px",color:"#ffffff",padding:"12px 22px"},trigger:["click","hover"],overlayClassName:"opt-in__bell__tooltip",children:(0,st.jsx)("div",{className:"opt-in__bell opt-in__bell-placed-bar opt-in__bell--".concat(t),style:n,children:(0,st.jsx)("div",{className:"opt-in__bell__icon",children:(0,st.jsx)(vN,{})})})})};wX.defaultProps={style:void 0};var kX=wX,_X=function(e){var t=(0,oe.useMemo)((function(){return Xa(e.bg)}),[e.bg]),n="desktop_test_view"===e.viewType||"desktop_view"===e.viewType?"desktop":"mobile",r=(0,kn.Z)((0,kn.Z)({},e.style),{},{"--opt-in-width":"100%","--opt-in-background-color":e.bg,"--allow-btn-background-color":e.allowBtnBg,"--close-btn-background-color":e.closeBtnBg,"--close-btn-border":"#ffffff"===e.closeBtnBg?"1px solid #d8d8d8":"1px solid ".concat(e.closeBtnBg),"--opt-in-icon-url":"url(".concat(e.siteImage,")"),"--checkbox-checked-tick-color":e.checkbox_tick_color,"--checkbox-unchecked--color":e.checkbox_bg,"--checkbox-checked-background-color":e.bg}),i=Array.isArray(e.optin_segments)&&e.optin_segments.length>0&&(0,st.jsx)("div",{className:"opt-in__floating-bar__segments",children:e.optin_segments.map((function(t,r){var i="mobile"===n?{marginTop:r>=2?"10px":"0px"}:{margin:"14px 17px 0 0"};return(0,st.jsxs)("div",{className:"opt-in__checkbox",style:(0,kn.Z)({},i),children:[(0,st.jsx)("input",{name:"segments-".concat(t),type:"checkbox",value:t,id:"opt-in__segment-".concat(e.viewType,"-").concat(r),defaultChecked:e.default_segment_selection}),(0,st.jsx)("label",{htmlFor:"opt-in__segment-".concat(e.viewType,"-").concat(r),children:Ka(t)})]},"".concat(t,"-").concat(e.default_segment_selection))}))});return(0,st.jsxs)("div",{className:"opt-in__floating-bar opt-in__floating-bar--".concat(e.placement," opt-in__floating-bar--").concat(n," opt-in__floating-bar--").concat(t," opt-in__floating-bar--").concat(e.viewType),style:r,children:["desktop"===n?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"opt-in__floating-bar__content",children:[e.siteImage?(0,st.jsx)("div",{className:"opt-in__floating-bar__icon__container",children:(0,st.jsx)("div",{className:"opt-in__floating-bar__icon"})}):(0,st.jsx)("div",{className:"opt-in__floating-bar__icon__container opt-in__floating-bar__icon__container--default-icon",children:(0,st.jsx)(vN,{})}),(0,st.jsxs)("div",{children:[(0,st.jsx)("div",{className:"opt-in__floating-bar__title",children:pf(e.optin_title)}),i]})]}),(0,st.jsxs)("div",{className:"opt-in__floating-bar__button",children:[(0,st.jsx)("div",{className:"opt-in__floating-bar__button__allow",children:pf(e.optin_allow_btn_txt)}),(0,st.jsx)("div",{className:"opt-in__floating-bar__button__close",children:pf(e.optin_close_btn_txt)})]})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"opt-in__floating-bar__content",children:[e.siteImage?(0,st.jsx)("div",{className:"opt-in__floating-bar__icon__container",children:(0,st.jsx)("div",{className:"opt-in__floating-bar__icon"})}):(0,st.jsx)("div",{className:"opt-in__floating-bar__icon__container opt-in__floating-bar__icon__container--default-icon",children:(0,st.jsx)(vN,{})}),(0,st.jsx)("div",{className:"opt-in__floating-bar__title",children:pf(e.optin_title)})]}),i,(0,st.jsxs)("div",{className:"opt-in__floating-bar__button",children:[(0,st.jsx)("div",{className:"opt-in__floating-bar__button__allow",children:pf(e.optin_allow_btn_txt)}),(0,st.jsx)("div",{className:"opt-in__floating-bar__button__close",children:pf(e.optin_close_btn_txt)})]})]}),!e.isWhiteLabel&&(0,st.jsxs)("div",{className:"opt-in__floating-bar__powered-by",children:["Powered by ",(0,st.jsx)("strong",{children:"PushEngage"})]})]})};_X.defaultProps={style:void 0};var CX=_X,jX=function(e){var t=(0,oe.useMemo)((function(){return Xa(e.bg)}),[e.bg]),n="desktop_view"===e.viewType||"desktop_test_view"===e.viewType?"desktop":"mobile",r=e.checkbox_tick_color===e.bg?e.checkbox_bg:e.checkbox_tick_color,i=(0,kn.Z)((0,kn.Z)({},e.style),{},{maxWidth:390,"--opt-in-width":"100%","--opt-in-background-color":e.bg,"--allow-btn-background-color":e.allowBtnBg,"--close-btn-background-color":e.closeBtnBg,"--close-btn-border":"#ffffff"===e.closeBtnBg?"1px solid #d8d8d8":"1px solid ".concat(e.closeBtnBg),"--opt-in-icon-url":"url(".concat(e.siteImage,")"),"--checkbox-checked-tick-color":r,"--checkbox-unchecked--color":e.checkbox_bg,"--checkbox-checked-background-color":e.bg});return(0,st.jsxs)("div",{className:"opt-in__large-safari-style opt-in__large-safari-style--".concat(n," opt-in__large-safari-style--").concat(t),style:i,children:[(0,st.jsxs)("div",{className:"opt-in__large-safari-style__content",children:[e.siteImage?(0,st.jsx)("div",{className:"opt-in__large-safari-style__icon__container",children:(0,st.jsx)("div",{className:"opt-in__large-safari-style__icon"})}):(0,st.jsx)("div",{className:"opt-in__large-safari-style__icon__container opt-in__large-safari-style__icon__container--default-icon",children:(0,st.jsx)(vN,{})}),(0,st.jsx)("div",{className:"opt-in__large-safari-style__title",children:pf(e.optin_title)})]}),Array.isArray(e.optin_segments)&&e.optin_segments.length>0&&(0,st.jsx)("div",{className:"opt-in__large-safari-style__segments",children:e.optin_segments.map((function(t,n){return(0,st.jsxs)("div",{className:"opt-in__checkbox",style:{marginTop:"".concat(n>=2?"10px":"0px")},children:[(0,st.jsx)("input",{name:"segments-".concat(t),type:"checkbox",value:t,id:"opt-in__segment-".concat(e.viewType,"-").concat(n),defaultChecked:e.default_segment_selection}),(0,st.jsx)("label",{htmlFor:"opt-in__segment-".concat(e.viewType,"-").concat(n),children:Ka(t)})]},"".concat(t,"-").concat(e.default_segment_selection))}))}),(0,st.jsxs)("div",{className:"opt-in__large-safari-style__button",children:[(0,st.jsx)("div",{className:"opt-in__large-safari-style__button__allow",children:pf(e.optin_allow_btn_txt)}),(0,st.jsx)("div",{className:"opt-in__large-safari-style__button__close",children:pf(e.optin_close_btn_txt)})]}),!e.isWhiteLabel&&(0,st.jsxs)("div",{className:"opt-in__large-safari-style__powered-by",children:["Powered by ",(0,st.jsx)("strong",{children:"PushEngage"})]})]})};jX.defaultProps={style:void 0,viewType:void 0};var SX=jX,ZX=function(e){return(0,st.jsx)(Wc.Z,{className:"opt-in__chrome-native-desktop opt-in__chrome-native-desktop--".concat(e.viewType),bordered:!1,style:e.style,children:(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{span:24,className:"pe-ta-right close-icon-preview",children:(0,st.jsx)($c,{style:{fontSize:"12px"}})}),(0,st.jsx)(ht.Z,{span:24,className:"title-preview",children:(0,st.jsxs)(mt.Z.Paragraph,{children:[function(){var t=nd(e.siteUrl);return t.length>28?"...".concat(t.substring(t.length-28)):t}()," want to"]})}),(0,st.jsx)(ht.Z,{span:24,className:"message-preview",children:(0,st.jsxs)(mt.Z.Paragraph,{children:[(0,st.jsx)(wx,{className:"pe-mr-10"}),"Show notifications"]})}),(0,st.jsxs)(ht.Z,{span:24,className:"pe-ta-right action-preview",children:[(0,st.jsx)(pt.default,{size:"small",children:"Block"}),(0,st.jsx)(pt.default,{size:"small",children:"Allow"})]})]})})};ZX.defaultProps={style:void 0};var NX=ZX,EX=function(e){var t,n,r,i,a="pe-bottom-right"===(null===e||void 0===e||null===(t=e.bell)||void 0===t?void 0:t.placement)?"right":"left",o=nd(e.siteUrl),s=(0,kn.Z)((0,kn.Z)({},e.style),{},{"--bell-background-color":null===(n=e.bell)||void 0===n?void 0:n.bg,"--bell-color":null===(r=e.bell)||void 0===r?void 0:r.allowBtnBg,"--bell-height":"50px","--bell-width":"50px","--bell-right":"30px","--bell-left":"30px","--bell-bottom":"50px"}),l=(0,st.jsxs)("div",{className:"opt-in__tooltip opt-in__chrome-mobile__tooltip",children:[(0,st.jsx)("div",{className:"opt-in__chrome-mobile__tooltip__title",children:pf((null===e||void 0===e||null===(i=e.bell)||void 0===i?void 0:i.optin_title)||"")}),!e.isWhiteLabel&&(0,st.jsxs)("div",{className:"opt-in__chrome-mobile__tooltip____powered-by",children:["Powered by ",(0,st.jsx)("strong",{children:"PushEngage"})]})]});return(0,st.jsxs)(st.Fragment,{children:["desktop"===e.deviceType?(0,st.jsx)(NX,{siteUrl:e.siteUrl,viewType:e.viewType,style:e.style}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{style:{position:"absolute",inset:0,backgroundColor:"mobile_test_view"===e.viewType?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.1)",borderRadius:"mobile_test_view"===e.viewType?"35px":"0px"}}),(0,st.jsx)(Wc.Z,{className:"opt-in__chrome-mobile",bordered:!1,style:e.style,children:(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{span:24,className:"title-preview",children:(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(wx,{className:"pe-mr-10",style:{fontSize:"18px",color:"#1c70e9"}}),(0,st.jsxs)(mt.Z.Paragraph,{children:[o," want to send you notifications"]})]})}),(0,st.jsx)(ht.Z,{span:24,className:"pe-ta-right action-preview",children:(0,st.jsxs)(Ju.default,{size:40,children:[(0,st.jsx)(pt.default,{size:"small",children:"Block"}),(0,st.jsx)(pt.default,{size:"small",children:"Allow"})]})})]})})]}),(0,st.jsx)(ft.default,{placement:"left"===a?"rightBottom":"leftBottom",title:l,color:"#383940",overlayInnerStyle:{borderRadius:"4px",color:"#ffffff",padding:"12px 22px"},trigger:["click","hover"],overlayClassName:"opt-in__bell__tooltip",children:(0,st.jsx)("div",{className:"opt-in__bell opt-in__bell--".concat(a),style:s,children:(0,st.jsx)("div",{className:"opt-in__bell__icon",children:(0,st.jsx)(vN,{})})})})]})};EX.defaultProps={style:void 0};var OX=EX,AX=function(e){switch(e.optin_type){case 1:return(0,st.jsx)(xX,(0,kn.Z)({},e));case 2:return(0,st.jsx)(CX,(0,kn.Z)({},e));case 4:return(0,st.jsx)(OX,(0,kn.Z)({},e));case 6:case 8:return(0,st.jsx)(SX,(0,kn.Z)({},e));case 9:return(0,st.jsx)(bN,(0,kn.Z)({},e));default:return(0,st.jsx)(kX,(0,kn.Z)({},e))}};AX.defaultProps={style:void 0};var TX=AX,PX=[{name:Ua("Sleek Opt-in Box","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/safari-style-box.svg"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/subscription-dialogbox/edit-subscription-dialogbox"),helpText:Ua("With a single button click option, you can now make opt-ins a breeze for your users. Customize its look, text, and colors to align perfectly with your brand. Engage your audience and boost conversions with this modern and user-friendly two step popup for higher conversions.","pushengage"),optinType:9},{name:Ua("Safari Style Box","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/safari-style-box.svg"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/subscription-dialogbox/edit-subscription-dialogbox"),helpText:Ua("This sleek safari style Popup helps you customize the look, text and color. It is a two step popup modal.","pushengage"),optinType:1},{name:Ua("Bell Placed Bar","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/bell-placed-bar.svg"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/subscription-dialogbox/edit-subscription-dialogbox"),helpText:Ua("An optimized bell that helps you collect subscribers with minimal interruption in the user experience.","pushengage"),optinType:3},{name:Ua("Floating Bar","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/floating-bar.svg"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/subscription-dialogbox/edit-subscription-dialogbox"),helpText:Ua("This sticky floating bar Popup helps you customize the look, text and color. It is a two step popup modal.","pushengage"),optinType:2},{name:Ua("Push Single Step Opt-in","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/push-single-step-optin.svg"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/subscription-dialogbox/edit-subscription-dialogbox"),helpText:Ua("A single step browser native style for your visitors to opt-in to campaigns.","pushengage"),optinType:4},{name:Ua("Large Safari Style Box","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/large-safari-style-box.svg"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/subscription-dialogbox/edit-subscription-dialogbox"),helpText:Ua("This is a large rectangular style Popup that helps you customize the look, text and color. It is a two step popup modal.","pushengage"),optinType:6},{name:Ua("Large Safari Style with Segment","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/large-safari-style-with-segment.svg"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/subscription-dialogbox/edit-subscription-dialogbox"),helpText:Ua("This is a large rectangular style Popup that helps you customize the look, text and color. It is a two step popup modal. Along with two segments that can be selected from here.","pushengage"),optinType:8}],MX=mt.Z.Title,IX=mp,DX=IX.url,LX=IX.utmParams,RX=function(){var e,t,n=bt(Ur),r=bt((function(e){var t,n;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.site})),i=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),a=bt(Vr),o=(0,oe.useState)({}),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)(!1),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)(!1),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=rd((null===r||void 0===r?void 0:r.site_url)||"");(0,oe.useEffect)((function(){a&&(0,at.Z)((0,it.Z)().mark((function e(){var t,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,ds({siteId:n,options:{name:"optin_settings"}});case 3:null!==(r=e.sent)&&void 0!==r&&null!==(t=r.data)&&void 0!==t&&t.optin_settings&&c(r.data.optin_settings),f(!1);case 6:case"end":return e.stop()}}),e)})))()}),[n,a]);var _=(null===l||void 0===l||null===(e=l.activeOptin)||void 0===e||null===(t=e[k])||void 0===t?void 0:t.types)||[],C=PX.map((function(e){var t,n,i,a,o,s,c,u=vi.PUSH_SINGLE_STEP_OPT_IN===e.optinType?"https":k,d=null===l||void 0===l||null===(t=l.optins)||void 0===t||null===(n=t[e.optinType])||void 0===n||null===(i=n.desktop)||void 0===i?void 0:i[u],p=null===l||void 0===l||null===(a=l.optins)||void 0===a||null===(o=a[e.optinType])||void 0===o||null===(s=o.mobile)||void 0===s?void 0:s[u],f=!(null!==d&&void 0!==d&&d.popup_disabled),h=!0;8===e.optinType&&(h=!1),(null===l||void 0===l||null===(c=l.activeOptin)||void 0===c?void 0:c[k].types.includes(8))&&(h=!0);var g=(0,kn.Z)((0,kn.Z)({},d),{},{siteImage:(null===r||void 0===r?void 0:r.site_image)||"",siteUrl:(null===r||void 0===r?void 0:r.site_url)||"",isWhiteLabel:(null===r||void 0===r?void 0:r.is_whitelabel)||0,deviceType:"desktop",viewType:"desktop_test_view"}),m=(0,kn.Z)((0,kn.Z)({},p),{},{siteImage:(null===r||void 0===r?void 0:r.site_image)||"",siteUrl:(null===r||void 0===r?void 0:r.site_url)||"",isWhiteLabel:(null===r||void 0===r?void 0:r.is_whitelabel)||0,deviceType:"mobile",viewType:"mobile_test_view"});return(0,kn.Z)((0,kn.Z)({},e),{},{status:h,buttonChecked:!f&&_.includes(e.optinType),desktopPreview:(0,st.jsx)(TX,(0,kn.Z)({},g)),mobilePreview:(0,st.jsx)(TX,(0,kn.Z)({},m))})})),j=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,r,i,a,o,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(null===(t=window.pushengage)||void 0===t||null===(r=t.settings)||void 0===r?void 0:r.service_worker_error)){e.next=2;break}return e.abrupt("return",!0);case 2:return e.prev=2,e.next=5,ds({siteId:n,options:{name:"service_worker"}});case 5:if(o=e.sent,!(s=null===o||void 0===o||null===(i=o.data)||void 0===i||null===(a=i.service_worker)||void 0===a?void 0:a.worker)){e.next=13;break}return e.next=10,zo(s);case 10:if(!e.sent){e.next=13;break}return e.abrupt("return",!0);case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){var t,n,r,i,a,o;return!(!((null===l||void 0===l||null===(t=l.activeOptin)||void 0===t||null===(n=t[k])||void 0===n?void 0:n.types)||[]).includes(e)||null===l||void 0===l||null===(r=l.optins)||void 0===r||null===(i=r[e])||void 0===i||null===(a=i.desktop)||void 0===a||null===(o=a[k])||void 0===o||!o.popup_disabled)},Z=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,r){var a,o,s,u,d,p,f,h,g,m,y,b,x,_,C,S,Z;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gd(i)){e.next=3;break}return w(!0),e.abrupt("return");case 3:if(4!==r){e.next=16;break}if("http"!==k){e.next=9;break}return ie.default.error({message:Ua("Push Single Step opt-in can not be enabled for HTTP site","pushengage")}),e.abrupt("return");case 9:if(!id||!t){e.next=16;break}return e.next=12,j();case 12:if(e.sent){e.next=16;break}return ie.default.error({message:Ua("Push Single Step opt-in can not be enabled. Because, service worker file is not accessible.","pushengage")}),e.abrupt("return");case 16:return g=Bi()(l),m=null===g||void 0===g||null===(a=g.activeOptin)||void 0===a||null===(o=a.http)||void 0===o?void 0:o.type,y=(null===g||void 0===g||null===(s=g.activeOptin)||void 0===s||null===(u=s.http)||void 0===u?void 0:u.types)||[],null===g||void 0===g||null===(d=g.activeOptin)||void 0===d||null===(p=d.https)||void 0===p?void 0:p.type,x=(null===g||void 0===g||null===(f=g.activeOptin)||void 0===f||null===(h=f.https)||void 0===h?void 0:h.types)||[],4!==r&&(m=r,y=t?Array.from(new Set([].concat((0,we.Z)(y),[r]))):y.filter((function(e){return e!==r}))),b=r,x=t?Array.from(new Set([].concat((0,we.Z)(x),[r]))):x.filter((function(e){return e!==r})),_={optins:(0,ti.Z)({},r,{desktop:{https:{popup_disabled:1},http:4!==r?{popup_disabled:1}:void 0},mobile:{https:{popup_disabled:1},http:4!==r?{popup_disabled:1}:void 0}})},C={http:{type:m,types:y},https:{type:b,types:x}},S=Li()({},g,_),c((0,kn.Z)((0,kn.Z)({},S),{},{activeOptin:(0,kn.Z)({},C)})),Z={optin_settings:(0,kn.Z)((0,kn.Z)({},S),{},{activeOptin:(0,kn.Z)({},C)})},e.prev=29,v(!0),e.next=33,ps({siteId:n,data:Z});case 33:ie.default.success({message:Ua("Subscription dialogbox setting updated","pushengage")}),v(!1),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(29),ie.default.error({message:Ua("Subscription dialogbox setting update failed","pushengage")}),v(!1);case 41:case"end":return e.stop()}}),e,null,[[29,37]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.design.popupModals,type:"design"}),(0,st.jsxs)(ct,{pageClassName:"pe-popup-modal-page",children:[x?(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify subscription dialogbox. Please contact to your admin.","pushengage"),onOk:function(){return w(!1)},visible:x}):null,a?null:(0,st.jsx)(rg,{}),(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(MX,{className:"pe-mb-25 pe-fw-700 pe-fs-18 pe-lh-150",level:3,children:["Popup Template",(0,st.jsx)(ft.default,{placement:"top",title:(0,st.jsxs)(st.Fragment,{children:[Ua("Popup modals will prompt your website visitors to subscribe to your push campaigns. Set up multiple popups to target different audience groups. Select a template to get started or check out our tutorial on","pushengage")," ",(0,st.jsx)(mt.Z.Link,{className:"pe-fw-500 pe-td-underline-on-hover pe-color-primary-lighter",href:"".concat(DX).concat(Qc(LX)),target:"_blank",children:Ua("creating popup modals","pushengage")}),"."]}),children:(0,st.jsx)(yg,{className:"pe-ml-6 pe-fs-16 pe-cursor-help"})})]}),(0,st.jsx)("div",{className:"pe-d-flex pe-flex-wrap pe-popup-modal-card-container",style:{gap:16},children:C.map((function(e){return e.status?(0,st.jsx)("div",{children:(0,st.jsx)(yX,{imagePath:e.imagePath,editUrl:e.editUrl,name:e.name,helpText:e.helpText,handleAction:Z,optinOrWidgetType:e.optinType,enabled:S(e.optinType),switching:m,loading:p,disabled:!a,mobileTestPreview:e.mobilePreview,desktopTestPreview:e.desktopPreview})},e.name):null}))})]})]})]})},BX=function(e){var t=bt((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.site})),n=(0,oe.useMemo)((function(){return Xa(e.bg)}),[e.bg]),r=(0,oe.useRef)(null),i=(0,oe.useState)(0),a=(0,xe.Z)(i,2),o=a[0],s=a[1];(0,oe.useEffect)((function(){var e;s(null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.offsetWidth)}),[e.label]);var l="desktop_test_view"===e.viewType||"desktop_view"===e.viewType?e.desktop_position:e.mobile_position,c="desktop_test_view"===e.viewType||"desktop_view"===e.viewType?e.desktop_placement:e.mobile_placement,u=(0,kn.Z)((0,kn.Z)({},e.style),{},{"--widget-background-color":e.bg,"--widget-color":e.color,"--widget-width":"".concat(o,"px"),"--widget-height":"56px"});return(0,st.jsxs)("div",{ref:r,className:"subscriber-recovery-widget subscriber-recovery-widget--".concat(l,"-").concat(c," subscriber-recovery-widget--button subscriber-recovery-widget--").concat(n," subscriber-recovery-widget--").concat(e.viewType),style:u,children:[(0,st.jsxs)("div",{className:"subscriber-recovery-widget__body",children:[(0,st.jsx)("div",{className:"subscriber-recovery-widget__bell-icon",children:(0,st.jsx)(vN,{})}),(0,st.jsx)("div",{className:"subscriber-recovery-widget__title",children:e.label}),!(null!==t&&void 0!==t&&t.is_whitelabel)&&(0,st.jsxs)("div",{className:"subscriber-recovery-widget__powered-by",children:["Powered by ",(0,st.jsx)("strong",{children:"PushEngage"})]})]}),(0,st.jsx)("div",{className:"subscriber-recovery-widget__close-icon",children:(0,st.jsx)($c,{})})]})};BX.defaultProps={style:void 0};var FX=BX,zX=function(e){var t=bt((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.site})),n="br"===e.position?"right":"left",r=(0,kn.Z)((0,kn.Z)({},e.style),{},{"--bell-background-color":e.bg,"--bell-color":e.color,"--bell-height":"50px","--bell-width":"50px","--bell-right":"30px","--bell-left":"30px","--bell-bottom":"50px"}),i=(0,st.jsxs)("div",{className:"opt-in__tooltip subscriber-recovery-widget__tooltip",children:[(0,st.jsx)("div",{className:"subscriber-recovery-widget__tooltip__title",children:e.label}),!(null!==t&&void 0!==t&&t.is_whitelabel)&&(0,st.jsxs)("div",{className:"subscriber-recovery-widget__tooltip__powered-by",children:["Powered by ",(0,st.jsx)("strong",{children:"PushEngage"})]})]});return(0,st.jsx)(ft.default,{placement:"left"===n?"rightBottom":"leftBottom",title:i,color:"#383940",overlayInnerStyle:{borderRadius:"4px",color:"#ffffff",padding:"12px 22px"},trigger:["click","hover"],overlayClassName:"opt-in__bell__tooltip",children:(0,st.jsx)("div",{className:"opt-in__bell opt-in__bell--".concat(n),style:r,children:(0,st.jsx)("div",{className:"opt-in__bell__icon",children:(0,st.jsx)(vN,{})})})})};zX.defaultProps={style:void 0};var VX=zX,UX=function(e){var t=bt((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.site})),n=(0,oe.useMemo)((function(){return Xa(e.bg)}),[e.bg]),r=(0,oe.useState)("unsubscribe-widget--initial-state"),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s="bl"===e.position?"left":"right",l=(0,kn.Z)((0,kn.Z)({},e.style),{},{"--widget-background-color":e.bg,"--widget-color":e.color});return(0,st.jsxs)("div",{className:"unsubscribe-widget unsubscribe-widget--".concat(s," unsubscribe-widget--button unsubscribe-widget--").concat(n," unsubscribe-widget--").concat(e.viewType," ").concat(a),style:l,children:[(0,st.jsxs)("div",{className:"unsubscribe-widget__opt-in",children:[(0,st.jsx)("div",{className:"unsubscribe-widget__title",onClick:function(){return o("unsubscribe-widget--action-state")},"aria-hidden":"true",children:e.unsubMsg}),(0,st.jsxs)("div",{className:"unsubscribe-widget__action",children:[(0,st.jsx)("span",{children:e.confirmMsg}),(0,st.jsx)("span",{onClick:function(){o("unsubscribe-widget--final-state"),setTimeout((function(){return o("unsubscribe-widget--initial-state")}),3e3)},"aria-hidden":"true",children:e.ConfirmActionYes}),(0,st.jsx)("span",{onClick:function(){return o("unsubscribe-widget--initial-state")},"aria-hidden":"true",children:e.ConfirmActionNo})]}),(0,st.jsx)("div",{className:"unsubscribe-widget__thanks-msg",children:e.thankMsg}),!(null!==t&&void 0!==t&&t.is_whitelabel)&&(0,st.jsxs)("div",{className:"unsubscribe-widget__powered-by",children:["Powered by ",(0,st.jsx)("strong",{children:"PushEngage"})]})]}),(0,st.jsx)("div",{className:"unsubscribe-widget__close-icon",children:(0,st.jsx)($c,{})})]})};UX.defaultProps={style:void 0};var HX=UX,WX=function(e){var t=bt((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.site})),n=(0,oe.useState)(!1),r=(0,xe.Z)(n,2),i=r[0],a=r[1],o=(0,oe.useState)(!0),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(""),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)(!1),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y="br"===e.position?"right":"left",b=(0,kn.Z)((0,kn.Z)({},e.style),{},{"--bell-background-color":e.bg,"--bell-color":e.color,"--bell-height":"50px","--bell-width":" 50px","--bell-right":"30px","--bell-left":"30px","--bell-bottom":"50px","--switch-checked-background-color":"#ffffff"===e.color?e.bg:e.color,"--switch-unchecked-background-color":"#BFBFBF"}),x=(0,st.jsx)("div",{className:"opt-in__tooltip unsubscribe-widget__tooltip",children:(0,st.jsx)("div",{className:"unsubscribe-widget__tooltip__title",children:i?e.thankMsg:e.unsubMsg})}),w=l?"unsubscribe-widget--automated-notification-enabled":"";return(0,st.jsxs)("div",{className:"unsubscribe-widget unsubscribe-widget--".concat(y," unsubscribe-widget--bell ").concat(w," ").concat(p),style:b,children:[(0,st.jsx)(ft.default,{visible:m,placement:"left"===y?"rightBottom":"leftBottom",title:x,color:"#383940",overlayInnerStyle:{borderRadius:"4px",color:"#ffffff",padding:"12px 22px"},trigger:["hover"],overlayClassName:"opt-in__bell__tooltip",onVisibleChange:function(e){v("unsubscribe-widget--opened"!==p&&e)},children:(0,st.jsx)("div",{className:"opt-in__bell opt-in__bell--".concat(y),"aria-hidden":"true",onClick:function(){!1===i&&(p?f(""):(f("unsubscribe-widget--opened"),v(!1)))},children:(0,st.jsx)("div",{className:"opt-in__bell__icon",children:(0,st.jsx)(vN,{})})})}),(0,st.jsxs)("div",{className:"unsubscribe-widget__opt-in",children:[(0,st.jsx)("div",{className:"unsubscribe-widget__title",children:e.boxTitle}),e.unSubPersonalNoti&&(0,st.jsxs)("div",{className:"unsubscribe-widget__switch opt-in__switch opt-in__switch--small",children:[(0,st.jsxs)("label",{"aria-hidden":"true",className:"opt-in__switch__label",htmlFor:"unsubscribe-widget-automated-notification-".concat(e.viewType),children:[(0,st.jsx)("input",{type:"checkbox",id:"unsubscribe-widget-automated-notification-".concat(e.viewType),checked:l,onChange:function(){c((function(e){return!e}))}}),(0,st.jsx)("span",{className:"opt-in__switch__slider"})]}),(0,st.jsx)("div",{className:"opt-in__switch__label-title opt-in__switch__label-title--enabled",children:e.unSubPersonalNotiUnsubBtnMsg}),(0,st.jsx)("div",{className:"opt-in__switch__label-title opt-in__switch__label-title--disabled",children:e.unSubPersonalNotiSubBtnMsg})]}),(0,st.jsx)("div",{className:"unsubscribe-widget__button",onClick:function(){a(!0),f(""),v(!0),setTimeout((function(){a(!1),v(!1)}),2e3)},"aria-hidden":"true",children:e.unsubBtnMsg}),!(null!==t&&void 0!==t&&t.is_whitelabel)&&(0,st.jsxs)("div",{className:"unsubscribe-widget__powered-by",children:["Powered by ",(0,st.jsx)("strong",{children:"PushEngage"})]})]})]})};WX.defaultProps={style:void 0};var qX=WX,KX=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-default-widget-bell","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M19 12C15.13 12 12 15.13 12 19C12 19.34 12.03 19.67 12.08 20H3V19L5 17V11C5 7.9 7.03 5.17 10 4.29V4C10 2.9 10.9 2 12 2S14 2.9 14 4V4.29C16.97 5.17 19 7.9 19 11V12M10 21C10 22.11 10.9 23 12 23C12.39 23 12.75 22.88 13.06 22.69C12.74 22.17 12.5 21.6 12.3 21H10M23.77 20.32C23.87 20.39 23.89 20.53 23.83 20.64L22.83 22.37C22.77 22.5 22.64 22.5 22.53 22.5L21.28 21.97C21 22.17 20.75 22.34 20.44 22.47L20.25 23.79C20.23 23.91 20.13 24 20 24H18C17.88 24 17.77 23.91 17.75 23.79L17.57 22.47C17.25 22.34 17 22.17 16.72 21.97L15.5 22.5C15.37 22.5 15.23 22.5 15.17 22.37L14.17 20.64C14.11 20.53 14.14 20.39 14.23 20.32L15.29 19.5C15.27 19.33 15.25 19.17 15.25 19S15.27 18.67 15.29 18.5L14.23 17.68C14.14 17.61 14.11 17.5 14.17 17.36L15.17 15.64C15.23 15.53 15.37 15.5 15.5 15.53L16.72 16C17 15.83 17.25 15.66 17.57 15.54L17.75 14.21C17.77 14.09 17.88 14 18 14H20C20.13 14 20.23 14.09 20.25 14.21L20.44 15.54C20.75 15.66 21 15.83 21.28 16L22.53 15.53C22.64 15.5 22.77 15.53 22.83 15.64L23.83 17.36C23.89 17.5 23.87 17.61 23.77 17.68L22.72 18.5C22.74 18.67 22.75 18.84 22.75 19S22.74 19.33 22.72 19.5L23.77 20.32M20.75 19C20.75 18.03 19.97 17.25 19 17.25S17.25 18.03 17.25 19 18.04 20.75 19 20.75 20.75 19.97 20.75 19Z"})}))},YX=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:KX},e))},GX=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-default-widget-bell","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M21 6.5C21 8.43 19.43 10 17.5 10S14 8.43 14 6.5 15.57 3 17.5 3 21 4.57 21 6.5M19 11.79C18.5 11.92 18 12 17.5 12C14.47 12 12 9.53 12 6.5C12 5.03 12.58 3.7 13.5 2.71C13.15 2.28 12.61 2 12 2C10.9 2 10 2.9 10 4V4.29C7.03 5.17 5 7.9 5 11V17L3 19V20H21V19L19 17V11.79M12 23C13.11 23 14 22.11 14 21H10C10 22.11 10.9 23 12 23Z"})}))},QX=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:GX},e))},XX=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-default-widget-bell","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M17.75 21.16L15 18.16L16.16 17L17.75 18.59L21.34 15L22.5 16.41L17.75 21.16M3 20V19L5 17V11C5 7.9 7.03 5.18 10 4.29V4C10 2.9 10.9 2 12 2C13.11 2 14 2.9 14 4V4.29C16.97 5.18 19 7.9 19 11V12.08L18 12C14.69 12 12 14.69 12 18C12 18.7 12.12 19.37 12.34 20H3M12 23C10.9 23 10 22.11 10 21H12.8C13.04 21.41 13.33 21.79 13.65 22.13C13.29 22.66 12.69 23 12 23Z"})}))},$X=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:XX},e))},JX=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-default-widget-bell","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M17,16V15L16,14V11.39C16,10.3 15.73,9.34 15.21,8.53C14.7,7.72 13.96,7.21 13,7V6.5A1,1 0 0,0 12,5.5A1,1 0 0,0 11,6.5V7C10.04,7.21 9.3,7.72 8.79,8.53C8.27,9.34 8,10.3 8,11.39V14L7,15V16H17M13.5,17H10.5A1.5,1.5 0 0,0 12,18.5A1.5,1.5 0 0,0 13.5,17Z"})}))},e$=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:JX},e))},t$=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-default-widget-bell","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M17 14V17H14V19H17V22H19V19H22V17H19V14M12 2A2 2 0 0 0 10 4A2 2 0 0 0 10 4.29C7.12 5.14 5 7.82 5 11V17L3 19V20H12.35A6 6 0 0 1 12 18A6 6 0 0 1 18 12A6 6 0 0 1 19 12.09V11C19 7.82 16.88 5.14 14 4.29A2 2 0 0 0 14 4A2 2 0 0 0 12 2M10 21A2 2 0 0 0 12 23A2 2 0 0 0 13.65 22.13A6 6 0 0 1 12.81 21Z"})}))},n$=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:t$},e))},r$=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","data-icon":"pe-default-widget-bell","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21M19.75,3.19L18.33,4.61C20.04,6.3 21,8.6 21,11H23C23,8.07 21.84,5.25 19.75,3.19M1,11H3C3,8.6 3.96,6.3 5.67,4.61L4.25,3.19C2.16,5.25 1,8.07 1,11Z"})}))},i$=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:r$},e))},a$=function(e){var t;switch(e){case"bell":t=(0,st.jsx)(vN,{});break;case"bell_badge":t=(0,st.jsx)(QX,{});break;case"bell_check":t=(0,st.jsx)($X,{});break;case"bell_circle":t=(0,st.jsx)(e$,{});break;case"bell_plus":t=(0,st.jsx)(n$,{});break;case"bell_ring":t=(0,st.jsx)(i$,{});break;default:t=(0,st.jsx)(YX,{})}return t},o$=function(e){var t,n,r;switch(e){case"mobile_test_view":r=null===(t=document.getElementsByClassName("pe-design-mobile-preview-modal"))||void 0===t?void 0:t[0];break;case"desktop_test_view":r=null===(n=document.getElementsByClassName("pe-design-desktop-preview-modal"))||void 0===n?void 0:n[0];break;default:r=document.getElementById("pe-widget-preview")}return r},s$=function(e){var t=e.target,n=e.popover,r=e.container;if(t&&n&&r){n.style.inset="unset",n.style.transform="unset";var i=t.getBoundingClientRect(),a=r.getBoundingClientRect(),o=a.bottom-i.bottom,s=i.top-a.top,l=i.left-a.left,c=a.right-i.right,u={};n.classList.contains("opt-in__popover--beside")?(c>l?u.left="".concat(i.width+l+12,"px"):u.right="".concat(i.width+c+12,"px"),a.height-o>=a.height-s?(u.bottom="".concat(o,"px"),n.offsetHeight>a.height-o&&(u.top="0px")):(u.top="".concat(s,"px"),n.offsetHeight>a.height-s&&(u.bottom="0px"))):n.classList.contains("opt-in__popover--top-left")&&(u.bottom="".concat(o+i.height+12,"px"),u.left="".concat(l,"px")),Object.assign(n.style,u),n.classList.add("opt-in__popover--opened")}},l$="opt-in__popover--opened",c$="opt-in__switch--spin",u$=function(e){var t,n,r,i,a,o,s,l,c=bt((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.site})),u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)("granted"),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)(!1),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useState)(!0),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useRef)(null),Z=(0,oe.useRef)(null),N=(0,oe.useRef)(null),E=(0,oe.useRef)(null);(0,oe.useEffect)((function(){e.trigger_button.enabled&&S.current&&x&&s$({target:Z.current,popover:S.current,container:o$(e.viewType)})}),[m,e.trigger_button,x,e.viewType]),(0,oe.useEffect)((function(){var e,t;null===(e=N.current)||void 0===e||e.classList.remove(l$),null===(t=E.current)||void 0===t||t.classList.remove(c$)}),[e.trigger_button.enabled,e.segment_preference.enabled,e.unsubscribe_options.enabled,e.personal_notification_options.enabled]),(0,oe.useEffect)((function(){if(!e.trigger_button.enabled&&S.current){var t=S.current;t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.bottom="unset",t.style.right="unset"}}),[e.trigger_button.enabled]);var O=Xa(e.modal_background_color),A=function(e){var t=0,n=0;switch(e){case"small":t=36,n=38;break;case"large":t=56,n=58;break;default:t=46,n=48}return{height:t,width:n}}(e.trigger_button.size),T={"--bell-background-color":null===(t=e.trigger_button)||void 0===t?void 0:t.icon_background_color,"--bell-color":null===(n=e.trigger_button)||void 0===n?void 0:n.icon_color,"--bell-bottom":"".concat(Math.min(e.trigger_button.offset_bottom/3,560-A.height),"px"),"--bell-top":"".concat(Math.min(e.trigger_button.offset_top/3,560-A.height),"px"),"--z-index":1,"--bell-height":"".concat(A.height,"px"),"--bell-width":"".concat(A.width,"px")},P={"--popover-background-color":e.modal_background_color,"--popover-color":e.modal_text_color,"--opt-in-close-icon-color":e.modal_text_color,"--switch-checked-background-color":e.on_switch_color,"--switch-unchecked-background-color":e.off_switch_color,"--z-index":2},M="#ffffff"===(null===(r=e.unsubscribe_options)||void 0===r?void 0:r.cancel_button_background_color)?"1px solid #d8d8d8":"1px solid ".concat(null===(i=e.unsubscribe_options)||void 0===i?void 0:i.cancel_button_background_color),I={"--popover-background-color":e.modal_background_color,"--popover-color":e.modal_text_color,"--allow-btn-background-color":null===(a=e.unsubscribe_options)||void 0===a?void 0:a.ok_button_background_color,"--close-btn-background-color":null===(o=e.unsubscribe_options)||void 0===o?void 0:o.cancel_button_background_color,"--allow-btn-color":null===(s=e.unsubscribe_options)||void 0===s?void 0:s.ok_button_text_color,"--close-btn-color":null===(l=e.unsubscribe_options)||void 0===l?void 0:l.cancel_button_text_color,"--close-btn-border":M,"--z-index":3},D="#ecebee"===e.segment_preference.checkbox_background_color&&"#ffffff"===e.modal_background_color?"#ACB7C8":e.segment_preference.checkbox_background_color,L={"--checkbox-checked-tick-color":e.segment_preference.checkbox_tick_color,"--checkbox-unchecked--color":D,"--checkbox-checked-background-color":e.modal_background_color},R=e.trigger_button.enabled?"":"opt-in__popover--opened management-widget__opt-in--center",B=(0,st.jsx)("div",{className:"opt-in__tooltip management-widget__tooltip",children:(0,st.jsx)("div",{className:"management-widget__tooltip__title",children:e.title})});return(0,st.jsxs)("div",{className:"management-widget management-widget--".concat(O," management-widget__opt-in--").concat(e.viewType),children:[!!e.trigger_button.enabled&&(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(ft.default,{align:{offset:[-5,0]},visible:p,placement:"left"===e.trigger_button.position_x?"rightBottom":"leftBottom",title:B,color:"#383940",overlayInnerStyle:{borderRadius:"4px",color:"#ffffff",padding:"12px 22px"},trigger:["hover"],overlayClassName:"opt-in__bell__tooltip",onVisibleChange:function(e){S.current&&S.current.classList.contains(l$)?f(!1):f(e)},children:(0,st.jsx)("div",{className:"management-widget__bell management-widget__bell--".concat(e.trigger_button.size,"\n            management-widget__bell--").concat(e.trigger_button.position_x," management-widget__bell--").concat(e.trigger_button.position_y),style:T,ref:Z,"aria-hidden":"true",onClick:function(){S.current&&S.current.classList.contains(l$)?(S.current.classList.remove(l$),w(!1)):(w(!0),s$({target:Z.current,popover:S.current,container:o$(e.viewType)}),f(!1))},children:a$(e.trigger_button.icon_type)})})}),(0,st.jsxs)("div",{className:"opt-in__popover opt-in__popover--beside management-widget__opt-in management-widget__opt-in--".concat(m," ").concat(R),style:P,ref:S,children:[(0,st.jsxs)("div",{className:"management-widget__opt-in__header",children:[(0,st.jsx)("div",{className:"management-widget__opt-in__title",children:e.title}),!e.trigger_button.enabled&&(0,st.jsx)("div",{className:"management-widget__opt-in__close",children:(0,st.jsx)($c,{})})]}),(0,st.jsxs)("div",{className:"management-widget__opt-in__subscribe opt-in__switch opt-in__switch--small",ref:E,children:[(0,st.jsxs)("label",{className:"opt-in__switch__label",htmlFor:"subscribe-input-id-".concat(e.viewType),children:[(0,st.jsx)("input",{defaultChecked:!0,checked:C,type:"checkbox",id:"subscribe-input-id-".concat(e.viewType),onChange:function(t){if(t.target.checked)v("granted"),j(!0);else if(e.unsubscribe_options.enabled){var n,r;null===(n=N.current)||void 0===n||n.classList.add(l$),s$({target:E.current,popover:N.current,container:S.current}),null===(r=E.current)||void 0===r||r.classList.add(c$)}else j(!1),v("denied")}}),(0,st.jsx)("span",{className:"opt-in__switch__slider"})]}),(0,st.jsx)("div",{className:"opt-in__switch__label-title",children:e.allow_text})]}),!!e.unsubscribe_options.enabled&&(0,st.jsxs)("div",{className:"opt-in__popover opt-in__popover--top-left management-widget__unsubscribe__popover",style:I,ref:N,children:[(0,st.jsx)("div",{className:"management-widget__unsubscribe__popover__title",children:e.unsubscribe_options.confirm_message}),(0,st.jsxs)("div",{className:"management-widget__unsubscribe__popover__button",children:[(0,st.jsx)("div",{className:"management-widget__unsubscribe__popover__button_allow","aria-hidden":"true",onClick:function(){var e,t;v("denied"),j(!1),null===(e=N.current)||void 0===e||e.classList.remove(l$),null===(t=E.current)||void 0===t||t.classList.remove(c$)},children:e.unsubscribe_options.ok_text}),(0,st.jsx)("div",{className:"management-widget__unsubscribe__popover__button_close","aria-hidden":"true",onClick:function(){var e,t;null===(e=N.current)||void 0===e||e.classList.remove(l$),null===(t=E.current)||void 0===t||t.classList.remove(c$)},children:e.unsubscribe_options.cancel_text})]})]}),!!e.personal_notification_options.enabled&&(0,st.jsxs)("div",{className:"management-widget__opt-in__auto-notification opt-in__switch opt-in__switch--small",children:[(0,st.jsxs)("label",{className:"opt-in__switch__label",htmlFor:"auto-notification-input-id-".concat(e.viewType),children:[(0,st.jsx)("input",{type:"checkbox",id:"auto-notification-input-id-".concat(e.viewType),defaultChecked:!0}),(0,st.jsx)("span",{className:"opt-in__switch__slider"})]}),(0,st.jsx)("div",{className:"opt-in__switch__label-title",children:e.personal_notification_options.label})]}),!!e.segment_preference.enabled&&Array.isArray(e.segment_preference.segments)&&e.segment_preference.segments.length>0&&(0,st.jsxs)("div",{className:"management-widget__opt-in__segment",style:L,children:[(0,st.jsx)("div",{className:"management-widget__opt-in__segment__title",children:e.segment_preference.title}),(0,st.jsx)("div",{className:"management-widget__opt-in__segment__segments",children:e.segment_preference.segments.map((function(t,n){return(0,st.jsxs)("div",{className:"opt-in__checkbox opt-in__checkbox--small",style:{marginTop:n>=2?"7px":"0px"},children:[(0,st.jsx)("input",{name:"".concat(t,"-").concat(e.segment_preference.default_segment_selection),type:"checkbox",id:"opt-in-segment-".concat(e.viewType,"-").concat(n),value:t,defaultChecked:e.segment_preference.default_segment_selection}),(0,st.jsx)("label",{htmlFor:"opt-in-segment-".concat(e.viewType,"-").concat(n),children:Ka(t)})]},"".concat(t,"-").concat(e.segment_preference.default_segment_selection))}))})]}),!(null!==c&&void 0!==c&&c.is_whitelabel)&&(0,st.jsxs)("div",{className:"management-widget__opt-in__powered-by",children:["Powered by ",(0,st.jsx)("strong",{children:"PushEngage"})]})]})]})},d$=mt.Z.Title,p$=vp,f$=p$.recovery,h$=p$.unsubscribe,g$=function(){var e=bt(Ur),t=bt(Vr),n=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),r=(0,oe.useState)(!1),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=(0,oe.useState)(!1),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(!1),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=(0,oe.useState)(!1),m=(0,xe.Z)(g,2),v=m[0],y=m[1],b=(0,oe.useState)(!1),x=(0,xe.Z)(b,2),w=x[0],k=x[1],_=(0,oe.useState)({}),C=(0,xe.Z)(_,2),j=C[0],S=C[1],Z=(0,oe.useState)({}),N=(0,xe.Z)(Z,2),E=N[0],O=N[1],A=(0,oe.useState)({}),T=(0,xe.Z)(A,2),P=T[0],M=T[1];(0,oe.useEffect)((function(){t&&(0,at.Z)((0,it.Z)().mark((function t(){var n,r,i,a;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.next=3,ds({siteId:e,options:{name:"chicklet_settings,sub_management_settings,subscription_management_widget"}});case 3:null!==(a=t.sent)&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.subscription_management_widget&&M(a.data.subscription_management_widget),null!==a&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.chicklet_settings&&S(a.data.chicklet_settings),null!==a&&void 0!==a&&null!==(i=a.data)&&void 0!==i&&i.sub_management_settings&&O(a.data.sub_management_settings),o(!1);case 8:case"end":return t.stop()}}),t)})))()}),[e,t]);var I=[{name:Ua("Bell Widget","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/subscription-management-widget.png"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/widgets/edit-subscription-management-widget"),helpText:Ua("This widget provides an easy option for your users to manage push permissions. They can also opt in and opt out of the segments. It might take up to 2 minutes to reflect the changes on your site.","pushengage"),widgetType:"bell"}],D=[{name:Ua("Button Widget","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/button-widget.svg"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/widgets/edit-recovery-button-widget"),helpText:Ua("A sticky button that can be repositioned and customized to provide a second chance to subscribe for push notification permission.","pushengage"),widgetType:"button"},{name:Ua("Bell Widget","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/bell-widget.svg"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/widgets/edit-recovery-bell-widget"),helpText:Ua("A bell widget that can be repositioned and customized to provide a second chance to subscribe for push notification permission.","pushengage"),widgetType:"bell"}],L=[{name:Ua("Button Widget","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/button-widget.svg"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/widgets/edit-unsubscribe-button-widget"),helpText:Ua("A sticky button that can be repositioned and customized to provide an easy unsubscription option.","pushengage"),widgetType:"button"},{name:Ua("Bell Widget","pushengage"),imagePath:"".concat(window.pushengage.assetsUrl,"img/bell-widget.svg"),editUrl:"".concat(Gc.baseDashboardAppUrl,"/design/widgets/edit-unsubscribe-bell-widget"),helpText:Ua("A bell widget that can be repositioned and customized to provide an easy unsubscription option.","pushengage"),widgetType:"bell"}],R=function(e,t){var n=("unsubscribe"===t?(0,kn.Z)({},E):(0,kn.Z)({},j)).settings;return!(null===n||void 0===n||!n.enabled||(null===n||void 0===n?void 0:n.type)!==e)},B=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(r,i){var a;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Gd(n)){t.next=3;break}return k(!0),t.abrupt("return");case 3:return S((0,kn.Z)((0,kn.Z)({},j),{},{settings:(0,kn.Z)((0,kn.Z)({},j.settings),{},{enabled:r,type:i})})),a={chicklet_settings:(0,kn.Z)((0,kn.Z)({},j),{},{settings:(0,kn.Z)((0,kn.Z)({},j.settings),{},{enabled:r,type:i})})},t.prev=5,u(!0),t.next=9,ps({siteId:e,data:a});case 9:ie.default.success({message:Ua("Recovery widget setting updated","pushengage")}),u(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),ie.default.error({message:Ua("Recovery widget setting update failed","pushengage")}),u(!1);case 17:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}(),F=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(r,i){var a;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Gd(n)){t.next=3;break}return k(!0),t.abrupt("return");case 3:return O((0,kn.Z)((0,kn.Z)({},E),{},{settings:(0,kn.Z)((0,kn.Z)({},E.settings),{},{enabled:r,type:i})})),a={sub_management_settings:(0,kn.Z)((0,kn.Z)({},E),{},{settings:(0,kn.Z)((0,kn.Z)({},E.settings),{},{enabled:r,type:i})})},t.prev=5,h(!0),t.next=9,ps({siteId:e,data:a});case 9:ie.default.success({message:Ua("Unsubscribe widget setting updated","pushengage")}),h(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),ie.default.success({message:Ua("Unsubscribe widget setting update failed","pushengage")}),h(!1);case 17:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}(),z=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(r){var i;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Gd(n)){t.next=3;break}return k(!0),t.abrupt("return");case 3:return M((0,kn.Z)((0,kn.Z)({},P),{},{enabled:r})),i={subscription_management_widget:(0,kn.Z)((0,kn.Z)({},P),{},{enabled:r})},t.prev=5,y(!0),t.next=9,ps({siteId:e,data:i});case 9:ie.default.success({message:Ua("Subscription management widget setting updated","pushengage")}),y(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),ie.default.error({message:Ua("Subscription management setting update failed","pushengage")}),y(!1);case 17:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.design.widgets,type:"design"}),(0,st.jsxs)(ct,{pageClassName:"pe-popup-modal-page",children:[w?(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify widgets. Please contact to your admin.","pushengage"),onOk:function(){return k(!1)},visible:w}):null,t?null:(0,st.jsx)(rg,{}),(0,st.jsxs)("div",{className:"pe-mb-36",children:[(0,st.jsx)(d$,{className:"pe-mb-27 pe-fw-700 pe-fs-18 pe-lh-150",level:3,children:Ua("Subscription Management Widgets","pushengage")}),(0,st.jsx)("div",{className:"pe-d-flex pe-flex-wrap pe-popup-modal-card-container",style:{gap:16},children:I.map((function(e){return(0,st.jsx)("div",{children:(0,st.jsx)(yX,{imagePath:e.imagePath,editUrl:e.editUrl,name:e.name,helpText:e.helpText,handleAction:z,optinOrWidgetType:e.widgetType,enabled:(null===P||void 0===P?void 0:P.enabled)||!1,switching:v,loading:a,disabled:!t,desktopTestPreview:(0,st.jsx)(u$,(0,kn.Z)((0,kn.Z)({},P),{},{viewType:"desktop_test_view"})),mobileTestPreview:(0,st.jsx)(u$,(0,kn.Z)((0,kn.Z)({},P),{},{viewType:"mobile_test_view"}))})},e.name)}))})]}),(0,st.jsxs)("div",{className:"pe-mb-36",children:[(0,st.jsxs)(d$,{className:"pe-mb-27 pe-fw-700 pe-fs-18 pe-lh-150",level:3,children:[Ua("Subscriber Recovery Widgets","pushengage"),(0,st.jsx)(ft.default,{placement:"top",title:(0,st.jsxs)(st.Fragment,{children:[Ua("Give your visitors another chance to subscribe to your push notifications even if they block your popup modal. Learn more about","pushengage")," ",(0,st.jsx)(mt.Z.Link,{className:"pe-fw-500 pe-td-underline-on-hover pe-color-primary-lighter",href:"".concat(f$.url).concat(Qc(f$.utmParams)),target:"_blank",children:Ua("recovery widgets","pushengage")}),"."]}),children:(0,st.jsx)(yg,{className:"pe-ml-6 pe-fs-16 pe-cursor-help"})})]}),(0,st.jsx)("div",{className:"pe-d-flex pe-flex-wrap pe-popup-modal-card-container",style:{gap:16},children:D.map((function(e){return(0,st.jsx)("div",{children:(0,st.jsx)(yX,{imagePath:e.imagePath,editUrl:e.editUrl,name:e.name,helpText:e.helpText,handleAction:B,optinOrWidgetType:e.widgetType,enabled:R(e.widgetType,"recovery"),switching:c,loading:a,disabled:!t,desktopTestPreview:"button"===e.widgetType&&j.button?(0,st.jsx)(FX,(0,kn.Z)((0,kn.Z)({},j.button),{},{viewType:"desktop_test_view"})):"bell"===e.widgetType&&j.bell?(0,st.jsx)(VX,(0,kn.Z)({},j.bell)):(0,st.jsx)(st.Fragment,{}),mobileTestPreview:"button"===e.widgetType&&j.button?(0,st.jsx)(FX,(0,kn.Z)((0,kn.Z)({},j.button),{},{viewType:"mobile_test_view"})):"bell"===e.widgetType&&j.bell?(0,st.jsx)(VX,(0,kn.Z)({},j.bell)):(0,st.jsx)(st.Fragment,{})})},e.name)}))})]}),(0,st.jsxs)("div",{children:[(0,st.jsxs)(d$,{className:"pe-mb-27 pe-fw-700 pe-fs-18 pe-lh-150",level:3,children:[Ua("Unsubscription Widgets","pushengage"),(0,st.jsx)(ft.default,{placement:"top",title:(0,st.jsxs)(st.Fragment,{children:[Ua("Give your subscribers an easy way to","pushengage")," ",(0,st.jsx)(mt.Z.Link,{className:"pe-fw-500 pe-td-underline-on-hover pe-color-primary-lighter",href:"".concat(h$.url).concat(Qc(h$.utmParams)),target:"_blank",children:Ua("unsubscribe from your push notifications","pushengage")}),"."," ",Ua("Sending notifications only to subscribers who are genuinely interested will improve your clicks and conversions","pushengage"),"."]}),children:(0,st.jsx)(yg,{className:"pe-ml-6 pe-fs-16 pe-cursor-help"})})]}),(0,st.jsx)("div",{className:"pe-d-flex pe-flex-wrap pe-popup-modal-card-container",style:{gap:16},children:L.map((function(e){return(0,st.jsx)("div",{children:(0,st.jsx)(yX,{imagePath:e.imagePath,editUrl:e.editUrl,name:e.name,helpText:e.helpText,handleAction:F,optinOrWidgetType:e.widgetType,enabled:R(e.widgetType,"unsubscribe"),switching:f,loading:a,disabled:!t,desktopTestPreview:"button"===e.widgetType&&j.button?(0,st.jsx)(HX,(0,kn.Z)((0,kn.Z)({},E.button),{},{viewType:"desktop_test_view"})):"bell"===e.widgetType&&E.bell?(0,st.jsx)(qX,(0,kn.Z)((0,kn.Z)({},E.bell),{},{style:{bottom:"30px"}})):(0,st.jsx)(st.Fragment,{}),mobileTestPreview:"button"===e.widgetType&&j.button?(0,st.jsx)(HX,(0,kn.Z)((0,kn.Z)({},E.button),{},{viewType:"mobile_test_view"})):"bell"===e.widgetType&&E.bell?(0,st.jsx)(qX,(0,kn.Z)((0,kn.Z)({},E.bell),{},{style:{bottom:"30px"}})):(0,st.jsx)(st.Fragment,{})})},e.name)}))})]})]})]})},m$=function(e){var t=null===e||void 0===e?void 0:e.length;if(!t)return!1;if(150===t)return!0;var n=!1;return null===e||void 0===e||e.forEach((function(e){return!!e.value||(n=!0,!1)})),n},v$=function(e){if(Wi()(e))return{};var t=Bi()(e),n=t.include,r=t.exclude;return t.include=n.map((function(e){return e.id?e:(0,kn.Z)((0,kn.Z)({},e),{},{id:qa()})})),t.exclude=r.map((function(e){return e.id?e:(0,kn.Z)((0,kn.Z)({},e),{},{id:qa()})})),t},y$=mt.Z.Paragraph,b$=mt.Z.Text,x$={labelCol:{span:5,md:5,sm:8},wrapperCol:{span:19,md:19,sm:16}},w$={wrapperCol:{span:19,offset:5,md:{span:19,offset:5},sm:{span:24,offset:0},xs:{span:24,offset:0}}},k$=function(){var e,t,n=bt(Ur),r=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),i=(0,oe.useState)("include"),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)("include_countries"),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=bt(Vr),f=(0,oe.useState)(!1),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)(!1),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useState)(!1),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=(0,oe.useState)({}),S=(0,xe.Z)(j,2),Z=S[0],N=S[1],E=(0,oe.useState)([]),O=(0,xe.Z)(E,2),A=O[0],T=O[1],P=function(e){N((0,kn.Z)((0,kn.Z)({},Z),e))};(0,oe.useEffect)((function(){p&&(0,at.Z)((0,it.Z)().mark((function e(){var t,r,i,a,o,l,c;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Promise.all([ds({siteId:n,options:{name:"optin_management_settings"}}),Vv()]);case 4:r=e.sent,i=(0,xe.Z)(r,2),a=i[0],o=i[1],null!==a&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&t.optin_management_settings&&(c=v$(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.optin_management_settings),P(c),d(c.active_countries),s(c.active)),o.data&&T(o.data),m(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),m(!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[n,p]);var M,I=function(e,t){var n={};if("country"===t){var r=(0,we.Z)(Z[u]);r.splice(e,1),n[u]=r}if("site_url"===t){var i=(0,we.Z)(Z[o]);i.splice(e,1),n[o]=i}P(n)},D=function(e){var t={};if("country"===e){var n=(0,we.Z)(Z[u]);n[Z[u].length]="",t[u]=n}if("site_url"===e){var r=(0,we.Z)(Z[o]);r[Z[o].length]={id:qa(),rule:"start",value:""},t[o]=r}P(t)},L=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gd(r)){e.next=3;break}return C(!0),e.abrupt("return");case 3:if(!Z.enabled||0!==(null===(t=Z[Z.active])||void 0===t?void 0:t.length)||0!==(null===(i=Z[Z.active_countries])||void 0===i?void 0:i.length)){e.next=6;break}return ie.default.error({message:Ua("Please enter at least one targeting rule","pushengage")}),e.abrupt("return");case 6:return e.prev=6,x(!0),e.next=10,ps({siteId:n,data:{optin_management_settings:Z}});case 10:ie.default.success({message:Ua("Targeting rule setting updated","pushengage")}),x(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),x(!1);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.design.targetingRule,type:"design"}),(0,st.jsxs)(ct,{pageClassName:"pe-targeting-rule-page",children:[_?(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify subscription rules. Please contact to your admin.","pushengage"),onOk:function(){return C(!1)},visible:_}):null,p?null:(0,st.jsx)(rg,{}),(0,st.jsxs)(ed.Z,(0,kn.Z)((0,kn.Z)({colon:!1,labelAlign:"left"},x$),{},{onFinish:L,children:[(0,st.jsxs)(ag,{loading:g,cardHeader:Ua("Enable Opt-in Subscription Rules","pushengage"),cardIdName:"pe-site-details-card",children:[(0,st.jsx)(y$,{type:"secondary",style:{maxWidth:964},children:Ua("By default, the subscription opt-in will be shown across all pages. Setup the global targeting rule for your opt-ins here. The global targeting rules will have a higher preference over the individual opt-in subscription rule.","pushengage")}),(0,st.jsx)(Cu.Z,{className:"pe-mt-30 pe-mb-38"}),(0,st.jsx)(ed.Z.Item,{className:"pe-targeting-rule-switch-control-input",label:Ua("Enable Rules","pushengage"),tooltip:{title:Ua("Enable the global targeting rule for your opt-in.","pushengage"),icon:(0,st.jsx)(yg,{className:"pe-ml-5 pe-fs-16 pe-cursor-help"})},children:(0,st.jsx)(Lv.Z,{checked:Z.enabled,disabled:!p,onChange:function(e){P({enabled:e})}})}),Z.enabled?(0,st.jsxs)(ed.Z.Item,(0,kn.Z)((0,kn.Z)({},w$),{},{children:[(0,st.jsxs)("div",{className:"pe-mt-8 pe-mb-15",children:[(0,st.jsxs)(b$,{type:"secondary",className:"pe-fw-500",children:[Ua("Matching","pushengage")," "]}),(0,st.jsxs)(Rv.default,{value:Z.active_countries,className:"pe-w-102 pe-mx-14",dropdownClassName:"pe-ant-single-select-box",onChange:function(e){d(e),P({active_countries:e})},children:[(0,st.jsx)(Rv.default.Option,{value:"include_countries",children:Ua("Any","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"exclude_countries",children:Ua("None","pushengage")})]})," ",(0,st.jsx)(b$,{type:"secondary",className:"pe-fw-500",children:Ua("of the following","pushengage")})]}),null===(e=Z[u])||void 0===e?void 0:e.map((function(e,t){return(0,st.jsxs)(dt.Z,{gutter:[16,10],wrap:!1,style:{maxWidth:590},children:[(0,st.jsx)(ht.Z,{flex:"1 1 auto",children:(0,st.jsxs)(dt.Z,{gutter:[16,10],align:"middle",className:"pe-mb-15",children:[(0,st.jsx)(ht.Z,{flex:"1 1 212px",children:(0,st.jsx)(ed.Z.Item,{initialValue:"country",noStyle:!0,children:(0,st.jsx)(Rv.default,{value:"country",className:"pe-min-w-212",dropdownClassName:"pe-ant-single-select-box",children:(0,st.jsx)(Rv.default.Option,{value:"country",children:Ua("Country","pushengage")})})})}),(0,st.jsx)(ht.Z,{flex:"1 1 312px",children:(0,st.jsx)(ed.Z.Item,{noStyle:!0,initialValue:e,children:(0,st.jsx)(Rv.default,{showSearch:!0,dropdownClassName:"pe-ant-single-select-box",value:e,defaultActiveFirstOption:!1,options:(n=e,A.map((function(e){return{label:e.name,value:e.name,disabled:n!==e.name&&Z[u].includes(e.name)}}))),onChange:function(e){!function(e,t){var n=(0,we.Z)(Z[u]);n[t]=e,P((0,ti.Z)({},u,n))}(e,t)}})})})]})}),(0,st.jsx)(ht.Z,{flex:"30px",children:(0,st.jsx)(pt.default,{shape:"circle",icon:(0,st.jsx)(Nh,{className:"pe-fs-13"}),size:"small",onClick:function(){return I(t,"country")}})})]},t.toString());var n})),(0,st.jsxs)(pt.default,{type:"text",size:"small",className:"pe-px-0 pe-fw-600",onClick:function(){return D("country")},disabled:(M=Z[u],!(null===M||void 0===M||!M.length)&&!M[M.length-1]),children:[(0,st.jsx)(fE,{className:"pe-fs-12"})," ",Ua("Add Country Rule","pushengage")]}),(0,st.jsx)(Cu.Z,{className:"pe-mt-28 pe-mb-32 pe-max-w-666 pe-min-w-200",plain:!0,children:Ua("AND","pushengage")}),(0,st.jsxs)("div",{className:"pe-mt-30 pe-mb-15",children:[(0,st.jsxs)(b$,{type:"secondary",className:"pe-fw-500",children:[" ",Ua("Matching","pushengage")," "]}),(0,st.jsxs)(Rv.default,{value:Z.active,className:"pe-w-102 pe-mx-14",dropdownClassName:"pe-ant-single-select-box",onChange:function(e){s(e),P({active:e})},children:[(0,st.jsx)(Rv.default.Option,{value:"include",children:Ua("Any","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"exclude",children:Ua("None","pushengage")})]})," ",(0,st.jsx)(b$,{type:"secondary",className:"pe-fw-500",children:Ua("of the following","pushengage")})]}),null===(t=Z[o])||void 0===t?void 0:t.map((function(e,t){return(0,st.jsxs)(dt.Z,{gutter:[16,10],wrap:!1,style:{maxWidth:590},children:[(0,st.jsx)(ht.Z,{flex:"1 1 auto",children:(0,st.jsxs)(dt.Z,{gutter:[16,10],align:"middle",className:"pe-mb-15",children:[(0,st.jsx)(ht.Z,{flex:"1 1 212px",children:(0,st.jsx)(ed.Z.Item,{initialValue:e.rule,noStyle:!0,children:(0,st.jsxs)(Rv.default,{value:e.rule,dropdownClassName:"pe-ant-single-select-box",onChange:function(e){!function(e,t){var n=(0,we.Z)(Z[o]),r=n[t];n[t]=(0,kn.Z)((0,kn.Z)({},r),{},{rule:e}),P((0,ti.Z)({},o,n))}(e,t)},children:[(0,st.jsx)(Rv.default.Option,{value:"start",children:Ua("Site URL start with","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"contains",children:Ua("Site URL contains","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"exact",children:Ua("Site URL exact match","pushengage")})]})})}),(0,st.jsx)(ht.Z,{flex:"1 1 312px",children:(0,st.jsx)(ed.Z.Item,{initialValue:e.value,noStyle:!0,children:(0,st.jsx)(Yc.default,{className:"pe-max-h-35",value:e.value,onChange:function(e){!function(e,t){var n=(0,we.Z)(Z[o]),r=n[t];n[t]=(0,kn.Z)((0,kn.Z)({},r),{},{value:e}),P((0,ti.Z)({},o,n))}(e.target.value,t)}})})})]},e.id)}),(0,st.jsx)(ht.Z,{flex:"30px",children:(0,st.jsx)(pt.default,{shape:"circle",icon:(0,st.jsx)(Nh,{style:{fontSize:"13px"}}),size:"small",onClick:function(){return I(t,"site_url")}})})]},e.id)})),(0,st.jsx)(pt.default,{type:"text",size:"small",className:"pe-px-0 pe-fw-600",onClick:function(){return D("site_url")},icon:(0,st.jsx)(fE,{}),disabled:m$(Z[o]),children:Ua("Add Site URL Rules","pushengage")})]})):null]}),(0,st.jsx)(pt.default,{className:"pe-mt-36",size:"large",loading:b,htmlType:"submit",type:"primary",disabled:!p||b,children:Ua("Save Changes","pushengage")})]}))]})]})},_$={span:6,md:6,sm:24},C$={span:18,md:18,sm:24},j$=mt.Z.Paragraph,S$=function(){var e=bt(Vr),t=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),n=bt(Ur),r=(0,vt.s0)(),i=(0,oe.useState)(!1),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)(!1),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)(!1),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)(null),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=ed.Z.useForm(),w=(0,xe.Z)(x,1)[0],k=(0,oe.useState)(!1),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(n){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gd(t)){e.next=3;break}return j(!0),e.abrupt("return");case 3:return e.prev=3,d(!0),e.next=7,cl(n);case 7:ie.default.success({message:Ua("Misc settings updated successfully","pushengage")}),window.pushengage.settings&&(window.pushengage.settings.misc=window.pushengage.settings.misc||{},window.pushengage.settings.misc.enableWpMetricsTracker=n.enableWpMetricsTracker),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),ie.default.error({message:Ua("Failed to update misc settings.","pushengage")});case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,dl();case 3:e.next=7;break;case 5:return e.next=7,fl();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.setFieldsValue({enableDebugMode:t}),o=w.getFieldsValue(),e.next=4,S({hideAdminBarMenu:null!==(n=o.hideAdminBarMenu)&&void 0!==n&&n,hideDashboardWidget:null!==(r=o.hideDashboardWidget)&&void 0!==r&&r,enableDebugMode:t,enableWpMetricsTracker:null===(i=o.enableWpMetricsTracker)||void 0===i||i,debugLevel:null!==(a=o.debugLevel)&&void 0!==a?a:"debug"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){e||ie.default.success({message:Ua("Debug mode disabled and log files deleted successfully","pushengage")})},O=function(e,t){return e instanceof Error?e.message:Ua(t?"Failed to initialize debug log.":"Failed to delete debug log files.","pushengage")},A=function(e,t){e.includes("permission")||e.includes("writable")?ie.default.warning({message:Ua("Permission Issue Detected","pushengage"),description:Ua("Please ensure the WordPress uploads directory has write permissions (755 or 775). Contact your hosting provider if needed.","pushengage"),duration:10}):e.includes("disk space")?ie.default.warning({message:Ua("Storage Issue Detected","pushengage"),description:Ua("Please free up some disk space on your server to enable debug logging.","pushengage"),duration:10}):ie.default.error({message:Ua(t?"Debug Mode Error":"Delete Logs Error","pushengage"),description:e})},T=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(n){var r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gd(t)||(j(!0),0)){e.next=2;break}return e.abrupt("return");case 2:return g(!0),b(null),e.prev=4,e.next=7,Z(n);case 7:return e.next=9,N(n);case 9:E(n),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(4),r=O(e.t0,n),b(r),w.setFieldsValue({enableDebugMode:!1}),A(r,n);case 18:return e.prev=18,g(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,12,18,21]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.setFieldsValue({enableWpMetricsTracker:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){e&&(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,l,c,u;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,nl.post("",{action:rl.GET_MISC_SETTINGS});case 4:if(t=e.sent,null===(n=t.data)||void 0===n||!n.misc){e.next=28;break}if(r=n.misc,i=r.hideAdminBarMenu,a=r.hideDashboardWidget,o=r.enableDebugMode,l=r.enableWpMetricsTracker,c=r.debugLevel,w.setFieldsValue({hideAdminBarMenu:null!==i&&void 0!==i&&i,hideDashboardWidget:null!==a&&void 0!==a&&a,enableDebugMode:null!==o&&void 0!==o&&o,enableWpMetricsTracker:null===l||void 0===l||l,debugLevel:null!==c&&void 0!==c?c:"debug"}),b(null),!o){e.next=28;break}return g(!0),e.prev=12,e.next=15,dl();case 15:e.next=25;break;case 17:return e.prev=17,e.t0=e.catch(12),u=e.t0 instanceof Error?e.t0.message:Ua("Failed to validate debug log directory.","pushengage"),b(u),w.setFieldsValue({enableDebugMode:!1}),e.next=24,S({hideAdminBarMenu:null!==i&&void 0!==i&&i,hideDashboardWidget:null!==a&&void 0!==a&&a,enableDebugMode:!1,enableWpMetricsTracker:null===l||void 0===l||l,debugLevel:"debug"});case 24:ie.default.warning({message:Ua("Debug Mode Validation Failed","pushengage"),description:Ua("Debug mode was previously enabled but the log directory is no longer accessible. Debug mode has been disabled.","pushengage"),duration:8});case 25:return e.prev=25,g(!1),e.finish(25);case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(1),ie.default.error({message:Ua("Failed to fetch misc data","pushengage")});case 33:return e.prev=33,s(!1),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[1,30,33,36],[12,17,25,28]])})))()}),[w,n,e]);var M=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=3;break}return e.next=3,S(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=w.getFieldValue("enableDebugMode");return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.settings.miscSettings,type:"settings"}),(0,st.jsxs)(iy,{pageClassName:"pe-misc-settings-page",containerIdName:"pe-misc-settings-page",children:[!e&&(0,st.jsx)(rg,{}),C&&(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify misc settings. Please contact to your admin.","pushengage"),onOk:function(){return j(!1)},visible:C}),(0,st.jsxs)(ed.Z,{form:w,colon:!1,labelAlign:"left",labelCol:_$,wrapperCol:C$,onFinish:M,initialValues:{hideAdminBarMenu:!1,hideDashboardWidget:!1,enableDebugMode:!1,enableWpMetricsTracker:!0,debugLevel:"debug"},children:[(0,st.jsxs)(ag,{loading:o,cardHeader:Ua("Misc Settings","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Hide Admin Bar Menu","pushengage"),children:(0,st.jsx)(ed.Z.Item,{name:"hideAdminBarMenu",noStyle:!0,valuePropName:"checked",children:(0,st.jsx)(Vy.default,{children:(0,st.jsx)(j$,{type:"secondary",className:"pe-fw-500 pe-mb-0",children:Ua("Check this option to hide the PushEngage admin bar menu.","pushengage")})})})}),(0,st.jsx)(ed.Z.Item,{label:Ua("Hide PushEngage Dashboard widget","pushengage"),children:(0,st.jsx)(ed.Z.Item,{name:"hideDashboardWidget",noStyle:!0,valuePropName:"checked",children:(0,st.jsx)(Vy.default,{children:(0,st.jsx)(j$,{type:"secondary",className:"pe-fw-500 pe-mb-0",children:Ua("Check this option to hide the PushEngage dashboard widget.","pushengage")})})})}),(0,st.jsxs)(ed.Z.Item,{label:Ua("Enable Debug Mode","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{name:"enableDebugMode",noStyle:!0,valuePropName:"checked",children:(0,st.jsx)(Lv.Z,{loading:h,disabled:h,onChange:T})}),(0,st.jsx)(j$,{type:"secondary",className:"pe-fs-13 pe-fw-500 pe-mb-0 pe-mt-12",children:Ua("Enabling this option will log events in the custom PushEngage debug log file.","pushengage")}),y&&(0,st.jsx)(Au.default,{message:Ua("Debug Mode Error","pushengage"),description:y,type:"warning",className:"pe-fs-13 pe-fw-500 pe-mb-0 pe-mt-8",showIcon:!0,closable:!0,onClose:function(){return b(null)}}),!y&&I&&(0,st.jsx)(pt.default,{type:"default",loading:h,icon:(0,st.jsx)(NN,{}),className:"pe-fs-13 pe-fw-500 pe-mb-0 pe-mt-8",onClick:function(){return r($r.path.debug.logs)},children:Ua("View Logs","pushengage")})]}),I&&(0,st.jsxs)(ed.Z.Item,{label:Ua("Minimum Debug Level","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{name:"debugLevel",noStyle:!0,children:(0,st.jsxs)(Rv.default,{disabled:!I,children:[(0,st.jsx)(Rv.default.Option,{value:"debug",children:Ua("Debug","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"info",children:Ua("Info","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"warning",children:Ua("Warning","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"error",children:Ua("Error","pushengage")}),(0,st.jsx)(Rv.default.Option,{value:"fatal",children:Ua("Fatal","pushengage")})]})}),(0,st.jsx)(j$,{type:"secondary",className:"pe-fs-13 pe-fw-500 pe-mb-0 pe-mt-8",children:Ua("Please select the minimum debug level to log in the debug log file. This will help you to filter the logs and see only the logs that you need.","pushengage")})]}),(0,st.jsxs)(ed.Z.Item,{label:Ua("Enable Analytics Tracking","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{name:"enableWpMetricsTracker",noStyle:!0,valuePropName:"checked",children:(0,st.jsx)(Lv.Z,{checked:w.getFieldValue("enableWpMetricsTracker"),onChange:P})}),(0,st.jsx)(j$,{type:"secondary",className:"pe-fs-13 pe-fw-500 pe-mb-0 pe-mt-8 pe-max-w-666",children:Ua("Collect non-sensitive information from your website, such as PHP version and features used, to help us make smarter decisions, and build features that actually matter to you.","pushengage")})]})]}),(0,st.jsx)(pt.default,{size:"large",className:"pe-mt-35",loading:u,type:"primary",htmlType:"submit",disabled:!e||h,children:Ua("Save Changes","pushengage")})]})]})]})},Z$=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"0 0 45 45",fill:"currentColor",focusable:"false","data-icon":"pe-badge-percent-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M30.6589 15.4531L29.7135 14.5078C29.4557 14.25 29.026 14.25 28.7682 14.5078L14.5885 28.6875C14.3307 28.9453 14.3307 29.375 14.5885 29.6328L15.5339 30.5781C15.7917 30.8359 16.2214 30.8359 16.4792 30.5781L30.6589 16.3984C30.9167 16.1406 30.9167 15.7109 30.6589 15.4531ZM21.2917 17C21.2917 14.7656 19.401 12.875 17.1667 12.875C14.8464 12.875 13.0417 14.7656 13.0417 17C13.0417 19.3203 14.8464 21.125 17.1667 21.125C19.401 21.125 21.2917 19.3203 21.2917 17ZM15.7917 17C15.7917 16.3125 16.3932 15.625 17.1667 15.625C17.8542 15.625 18.5417 16.3125 18.5417 17C18.5417 17.7734 17.8542 18.375 17.1667 18.375C16.3932 18.375 15.7917 17.7734 15.7917 17ZM28.1667 23.875C25.8464 23.875 24.0417 25.7656 24.0417 28C24.0417 30.3203 25.8464 32.125 28.1667 32.125C30.401 32.125 32.2917 30.3203 32.2917 28C32.2917 25.7656 30.401 23.875 28.1667 23.875ZM28.1667 29.375C27.3932 29.375 26.7917 28.7734 26.7917 28C26.7917 27.3125 27.3932 26.625 28.1667 26.625C28.8542 26.625 29.5417 27.3125 29.5417 28C29.5417 28.7734 28.8542 29.375 28.1667 29.375ZM44.6667 22.5C44.6667 19.4922 42.9479 16.6562 40.3698 15.1953C41.1432 12.2734 40.3698 9.17969 38.2214 6.94531C35.987 4.79688 32.8932 4.02344 29.9714 4.79688C28.5104 2.21875 25.6745 0.5 22.6667 0.5C19.5729 0.5 16.737 2.21875 15.276 4.79688C12.3542 4.02344 9.26042 4.79688 7.11198 6.94531C4.87761 9.17969 4.10417 12.2734 4.87761 15.1953C2.29948 16.6562 0.666672 19.4922 0.666672 22.5C0.666672 25.5938 2.29948 28.4297 4.87761 29.8906C4.10417 32.8125 4.87761 35.9062 7.11198 38.0547C9.34636 40.375 12.526 41.0625 15.276 40.2891C16.737 42.8672 19.5729 44.5 22.6667 44.5C25.6745 44.5 28.5104 42.8672 29.9714 40.2891C32.8073 41.0625 35.901 40.375 38.2214 38.0547C40.3698 35.9062 41.1432 32.8125 40.3698 29.8906C42.9479 28.4297 44.6667 25.5938 44.6667 22.5ZM36.7604 28.4297C37.276 29.4609 39.3385 33.0703 36.2448 36.1641C33.7526 38.6562 31.2604 37.9688 28.5104 36.6797C28.0807 37.7109 27.0495 41.75 22.6667 41.75C18.112 41.75 17.0807 37.5391 16.737 36.6797C13.987 37.9688 11.4948 38.6562 9.00261 36.1641C5.82292 32.9844 8.0573 29.2031 8.48698 28.4297C7.45573 28 3.41667 26.8828 3.41667 22.5C3.41667 18.0312 7.62761 17 8.48698 16.6562C7.97136 15.625 5.90886 12.0156 9.00261 8.92188C12.1823 5.74219 15.9635 7.97656 16.737 8.40625C17.1667 7.28906 18.2839 3.25 22.6667 3.25C27.1354 3.25 28.1667 7.54688 28.5104 8.40625C29.5417 7.89062 33.151 5.82812 36.2448 8.92188C39.4245 12.1016 37.1901 15.8828 36.7604 16.6562C37.8776 17.0859 41.9167 18.1172 41.9167 22.5C41.9167 27.0547 37.6198 28.0859 36.7604 28.4297Z"})}))},N$=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:Z$},e))},E$=function(){var e=(0,vt.s0)(),t=bt((function(e){return e.session.user}),Zi()),n=bt((function(e){var t,n,r;return null===e||void 0===e||null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.site)||void 0===r?void 0:r.is_shopify})),r=(0,oe.useState)(""),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=function(e){o(e)},l=function(){o("")},c=(0,oe.useState)(!1),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)(!1),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)({title:"",visible:!1,closeable:!1}),y=(0,xe.Z)(v,2),b=y[0],x=y[1];(0,oe.useEffect)((function(){n&&e($r.path.campaigns.triggeredCampaign),Xd(t)||p(!0),$d(t)||x({title:Ua("You don't have permission to create triggered campaign.","pushengage"),visible:!0,closeable:!1})}),[]);var w=function(t){"premade_strategy"!==t?e("".concat($r.path.campaigns.createTriggeredCampaign,"?type=").concat(t)):gt.Z.info({title:Ua("Not implemented yet!","pushengage"),content:(0,st.jsx)("div",{children:(0,st.jsx)(mt.Z.Paragraph,{children:Ua("Pre-made strategy feature has not been implemented. Will be implemented in future release.","pushengage")})}),onOk:function(){}})};return(0,st.jsxs)(st.Fragment,{children:[d?(0,st.jsx)(Yy,(0,kn.Z)({},Sp.trigger)):null,(0,st.jsxs)(iy,{children:[g?(0,st.jsx)(Cy,{text:Ua("You don't have permission to create/modify triggered campaigns. Please contact to your admin.","pushengage"),onOk:function(){return m(!1)},visible:g}):null,(0,st.jsxs)("div",{className:"triggered-campaign-page",children:[(0,st.jsx)(aq,{title:Ua("New Triggered Campaign","pushengage")}),d||b.visible?(0,st.jsx)(dt.Z,{children:(0,st.jsx)(ht.Z,{span:"24",children:(0,st.jsx)(rt.default,{active:!0})})}):(0,st.jsxs)(dt.Z,{style:{marginTop:"20px"},gutter:30,children:[(0,st.jsx)(ht.Z,{md:{span:8},sm:{span:12},xs:{span:24},style:{marginBottom:"25px"},children:(0,st.jsxs)("div",{className:"triggered-campaign-type-box",onMouseEnter:function(){return s("custom-trigger")},onMouseLeave:function(){return l()},children:[(0,st.jsx)("div",{className:"icon",children:(0,st.jsx)(Lf,{style:{color:"custom-trigger"===a?"#3b43ff":"#B6B6C2"}})}),(0,st.jsx)(mt.Z.Title,{level:3,className:"title",children:Ua("Custom Trigger Campaign","pushengage")}),(0,st.jsx)(mt.Z.Paragraph,{className:"content",children:Ua("Detect your visitor\u2019s behavior to send automated push notifications to the right\n                    person at the right time","pushengage.")}),(0,st.jsx)(pt.default,{type:"primary",onClick:function(){return w(xi.GENERIC)},children:Ua("Create New","pushengage")})]})}),(0,st.jsx)(ht.Z,{md:{span:8},sm:{span:12},xs:{span:24},style:{marginBottom:"25px"},children:(0,st.jsxs)("div",{className:"triggered-campaign-type-box",onMouseEnter:function(){return s("browse-abandonment")},onMouseLeave:function(){return l()},children:[(0,st.jsx)("div",{className:"icon",children:(0,st.jsx)(iA,{style:{color:"browse-abandonment"===a?"#3b43ff":"#B6B6C2"}})}),(0,st.jsx)(mt.Z.Title,{level:3,className:"title",children:Ua("Browse Abandonment","pushengage")}),(0,st.jsx)(mt.Z.Paragraph,{className:"content",children:Ua("Send targeted messages to convert visitors who viewed certain pages, such as product pages or feature pages.","pushengage")}),(0,st.jsx)(pt.default,{type:"primary",onClick:function(){return w(xi.BROWSE)},children:Ua("Create New","pushengage")})]})}),(0,st.jsx)(ht.Z,{md:{span:8},sm:{span:12},xs:{span:24},style:{marginBottom:"25px"},children:(0,st.jsxs)("div",{className:"triggered-campaign-type-box",onMouseEnter:function(){return s("shopping-cart")},onMouseLeave:function(){return l()},children:[(0,st.jsx)("div",{className:"icon",children:(0,st.jsx)(dc,{style:{color:"shopping-cart"===a?"#3b43ff":"#B6B6C2"}})}),(0,st.jsx)(mt.Z.Title,{level:3,className:"title",children:Ua("Cart Abandonment","pushengage")}),(0,st.jsx)(mt.Z.Paragraph,{className:"content",children:Ua("Recover lost sales and quickly boost revenue with automatically triggered abandon cart push notifications.","pushengage")}),(0,st.jsx)(pt.default,{type:"primary",onClick:function(){return w(xi.TRIGGER)},children:Ua("Create New","pushengage")})]})}),(0,st.jsx)(ht.Z,{md:{span:8},sm:{span:12},xs:{span:24},style:{marginBottom:"25px"},children:(0,st.jsxs)("div",{className:"triggered-campaign-type-box",onMouseEnter:function(){return s("price-drop")},onMouseLeave:function(){return l()},children:[(0,st.jsx)("div",{className:"icon",children:(0,st.jsx)(N$,{style:{color:"price-drop"===a?"#3b43ff":"#B6B6C2"}})}),(0,st.jsx)(mt.Z.Title,{level:3,className:"title",children:Ua("Price Drop","pushengage")}),(0,st.jsx)(mt.Z.Paragraph,{className:"content",children:Ua("Re-engage your customers and increase conversion using Price Drop Alert Campaigns using the web push","pushengage")}),(0,st.jsx)(pt.default,{type:"primary",onClick:function(){return w(xi.PRICE_DROP)},children:Ua("Create New","pushengage")})]})}),(0,st.jsx)(ht.Z,{md:{span:8},sm:{span:12},xs:{span:24},style:{marginBottom:"25px"},children:(0,st.jsxs)("div",{className:"triggered-campaign-type-box",onMouseEnter:function(){return s("inventory")},onMouseLeave:function(){return l()},children:[(0,st.jsx)("div",{className:"icon",children:(0,st.jsx)(Tv,{style:{color:"inventory"===a?"#3b43ff":"#B6B6C2"}})}),(0,st.jsx)(mt.Z.Title,{level:3,className:"title",children:Ua("Back in Stock Alert","pushengage")}),(0,st.jsx)(mt.Z.Paragraph,{className:"content",children:Ua("Re-engage your customers and increase conversion using Inventory Alert Campaigns using the web push","pushengage")}),(0,st.jsx)(pt.default,{type:"primary",onClick:function(){return w(xi.INVENTORY)},children:Ua("Create New","pushengage")})]})})]})]})]})]})},O$=Rv.default.Option,A$=mt.Z.Title,T$=mt.Z.Text,P$=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,v,y,b,x,w,k,_,C,j,S,Z,N,E,O,A,T,P,M,I=e.type,D=e.campaign,L=e.index,R=e.notification,B=e.total,F=e.onUpdate,z=e.updateDuration,V=e.updateMultiActions,U=e.onRemove,H=e.onSort,W=e.onScheduleOption,q=e.togglePremium,K=e.children,Y=(0,oe.useState)(!0),G=(0,xe.Z)(Y,2),Q=G[0],X=G[1],$=bt((function(e){return e.session.currentSite})),J=bt((function(e){return e.session.user}),Zi()),ee=(0,oe.useState)("windows11--chrome"),te=(0,xe.Z)(ee,2),ne=te[0],re=te[1],ie=bt(is),ae=function(e,t){F(L,e,t)},se=function(e){z(L,e)},le=function(e){var t,n;"prev"===e?(t=L,n=L-1):(t=L,n=L+1),n&&(n>0||n<B)&&H(t,n)};return(0,st.jsxs)("li",{className:"pe-notification-builder-wrap",id:"notification-".concat(L),children:[(0,st.jsx)("div",{className:"pe-notification-builder-index".concat(B===L+1?" pe-no-side-border":""),children:(0,st.jsx)("div",{className:"sequence",children:L+1})}),(0,st.jsxs)("div",{className:"pe-notification-builder-content",children:[(0,st.jsxs)("div",{className:"pe-notification-label",children:[(0,st.jsxs)("div",{children:[(0,st.jsxs)("span",{className:"pe-mr-12 pe-color-neutral-80 pe-mb-0 pe-fs-16",children:[Ua("Send notification","pushengage")," "]}),(0,st.jsxs)(Rv.default,{value:(null===R||void 0===R||null===(t=R.schedule_options)||void 0===t?void 0:t.type)||"after",style:{width:150},onChange:function(e){var t;t="immediately"===e?(0,kn.Z)((0,kn.Z)({},R.schedule_options),{},{type:e}):"next"===e?{value:0,unit:"dow",at:R.schedule_options.at||"08:00:00",type:e}:{value:1,unit:"days",at:R.schedule_options.at||"08:00:00",type:e},W(t,L)},id:"sending-type-".concat(L),className:"pe-mr-5",size:"small",children:[0===L&&(0,st.jsx)(O$,{value:"immediately",children:Ua("Immediately","pushengage")}),Td(J)?null:(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(O$,{value:"after",children:Ua("After","pushengage")})})]},"sending-type-".concat(L)),"immediately"!==(null===(n=R.schedule_options)||void 0===n?void 0:n.type)?(0,st.jsxs)(st.Fragment,{children:["after"===(null===(r=R.schedule_options)||void 0===r?void 0:r.type)?(0,st.jsxs)(st.Fragment,{children:["days"===R.schedule_options.unit?(0,st.jsx)(rW.Z,{value:Number(R.schedule_options.value),onChange:function(e){return W((0,kn.Z)((0,kn.Z)({},R.schedule_options),{},{value:e}),L)},className:"pe-mr-5",min:0,max:1825,id:"sending-days-".concat(L),size:"small"},"sending-days-".concat(L)):null,"minutes"===R.schedule_options.unit?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Rv.default,{style:{width:"100px"},value:Mo(null===R||void 0===R||null===(i=R.schedule_options)||void 0===i?void 0:i.value).hours,size:"small",id:"sending-hours-".concat(L),onChange:function(e){var t;W((0,kn.Z)((0,kn.Z)({},R.schedule_options),{},{value:60*Number(e)+Number(Mo(null===R||void 0===R||null===(t=R.schedule_options)||void 0===t?void 0:t.value).minutes)}),L)},children:Ai()(0,24).map((function(e){return(0,st.jsxs)(O$,{value:e,children:[e," hr"]},e)}))},"sending-hours-".concat(L)),(0,st.jsx)(Rv.default,{style:{width:"100px"},value:Mo(null===R||void 0===R||null===(a=R.schedule_options)||void 0===a?void 0:a.value).minutes,size:"small",className:"pe-mx-4",id:"sending-minutes-".concat(L),onChange:function(e){var t;W((0,kn.Z)((0,kn.Z)({},R.schedule_options),{},{value:60*Number(Mo(null===R||void 0===R||null===(t=R.schedule_options)||void 0===t?void 0:t.value).hours)+Number(e)}),L)},children:Ai()(0,60).map((function(e){return(0,st.jsxs)(O$,{value:e,children:[e," min"]},e)}))},"sending-minutes-".concat(L))]}):null,(0,st.jsxs)(Rv.default,{defaultValue:R.schedule_options.unit,style:{width:"100px"},size:"small",onChange:function(e){var t;t="days"===e?(0,kn.Z)((0,kn.Z)({at:"08:00:00"},R.schedule_options),{},{value:1,unit:"days",type:"after"}):(0,kn.Z)((0,kn.Z)({},R.schedule_options),{},{value:60,unit:"minutes",type:"after"}),W(t,L)},id:"sending-unit-".concat(L),children:[(0,st.jsx)(O$,{value:"days",children:Ua("days","pushengage")}),(0,st.jsx)(O$,{value:"minutes",children:Ua("hr/min","pushengage")})]},"sending-unit-".concat(L))]}):null,"next"===(null===(o=R.schedule_options)||void 0===o?void 0:o.type)&&(0,st.jsxs)(Rv.default,{value:String(R.schedule_options.value),style:{width:"150px"},id:"sending-type-next-".concat(L),onChange:function(e){return W((0,kn.Z)((0,kn.Z)({},R.schedule_options),{},{value:e}),L)},size:"small",children:[(0,st.jsx)(O$,{value:"0",children:Ua("Sunday","pushengage")}),(0,st.jsx)(O$,{value:"1",children:Ua("Monday","pushengage")}),(0,st.jsx)(O$,{value:"2",children:Ua("Tuesday","pushengage")}),(0,st.jsx)(O$,{value:"3",children:Ua("Wednesday","pushengage")}),(0,st.jsx)(O$,{value:"4",children:Ua("Thursday","pushengage")}),(0,st.jsx)(O$,{value:"5",children:Ua("Friday","pushengage")}),(0,st.jsx)(O$,{value:"6",children:Ua("Saturday","pushengage")})]},"sending-type-next-".concat(L)),"minutes"!==(null===(s=R.schedule_options)||void 0===s?void 0:s.unit)?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("span",{className:"pe-ml-16 pe-mr-20 pe-color-neutral-80 pe-mb-0 pe-fs-16",children:Ua("at","pushengage")}),(0,st.jsx)(WV.Z,{allowClear:!1,size:"small",style:{width:"100px"},use12Hours:!0,format:"h:mm A",value:ei()(R.schedule_options.at||"00:00:00","hh:mm:ss"),onChange:function(e){if(e){var t=e.format("HH:mm:ss");W((0,kn.Z)((0,kn.Z)({},R.schedule_options),{},{at:t}),L)}else W((0,kn.Z)((0,kn.Z)({},R.schedule_options),{},{at:void 0}),L)},id:"sending-options-".concat(L)},"sending-options-".concat(L))]}):null]}):null,(0,st.jsx)("span",{className:"pe-ml-20 pe-color-neutral-80 pe-pe-mb-0 pe-fs-16",children:0===L?"after user subscribes":"after sending previous notification"})]}),null!==R&&void 0!==R&&null!==(l=R.errors)&&void 0!==l&&l.schedule_value?(0,st.jsx)("div",{className:"pe-color-red",children:null===R||void 0===R||null===(c=R.errors)||void 0===c?void 0:c.schedule_value}):null]}),(0,st.jsx)("div",{className:"pe-bg-white pe-notification-report",children:(0,st.jsxs)(dt.Z,{align:"middle",children:[0!==L&&(0,st.jsxs)("div",{className:"pe-move-next-prev",children:[(0,st.jsx)(mt.Z.Paragraph,{children:(0,st.jsx)(HU,{className:"pe-move-prev".concat(1===L?" pe-move-disabled":""),onClick:function(){return le("prev")}})}),(0,st.jsx)(mt.Z.Paragraph,{children:(0,st.jsx)(Kf,{className:"pe-move-next".concat(B-1===L?" pe-move-disabled":""),onClick:function(){return le("next")}})})]}),(0,st.jsx)(ht.Z,{sm:{span:1},xs:0,className:"drag-drop-icon-column align-center-flexbox",children:0!==L?K:null}),(0,st.jsx)(ht.Z,{sm:{span:9},xs:{span:24},className:"pe-pt-10 pe-notification-border-bottom pe-notification-title".concat(Q?" pe-content-subheader":" pe-active-content"),children:(0,st.jsx)(mt.Z.Title,{level:4,ellipsis:!0,className:"pe-fs-15 pe-color-neutral",children:R.notification_title||Ua("Name of campaign","pushengage")})}),(0,st.jsxs)(ht.Z,{sm:{span:8},xs:{span:24},className:"flexbox pe-stats-column pe-notification-border-bottom",children:[(0,st.jsxs)("div",{title:"".concat((null===R||void 0===R||null===(u=R.analytics)||void 0===u?void 0:u.sentcount)||0),children:[(0,st.jsx)(mt.Z.Paragraph,{className:"pe-color-neutral pe-mb-0 pe-fs-16",children:wo(null===R||void 0===R||null===(d=R.analytics)||void 0===d?void 0:d.sentcount)}),(0,st.jsx)(mt.Z.Paragraph,{className:"pe-color-neutral-40 pe-fs-11",children:"sent"})]}),(0,st.jsxs)("div",{title:"".concat((null===R||void 0===R||null===(p=R.analytics)||void 0===p?void 0:p.views)||0),children:[(0,st.jsx)(mt.Z.Paragraph,{className:"pe-color-neutral pe-mb-0 pe-fs-16",children:wo(null===R||void 0===R||null===(f=R.analytics)||void 0===f?void 0:f.views)}),(0,st.jsx)(mt.Z.Paragraph,{className:"pe-color-neutral-40 pe-fs-11",children:"seen"})]}),(0,st.jsxs)("div",{title:"".concat((null===R||void 0===R||null===(h=R.analytics)||void 0===h?void 0:h.clicks)||0),children:[(0,st.jsx)(mt.Z.Paragraph,{className:"pe-color-neutral pe-mb-0 pe-fs-16",children:wo(null===R||void 0===R||null===(g=R.analytics)||void 0===g?void 0:g.clicks)}),(0,st.jsx)(mt.Z.Paragraph,{className:"pe-color-neutral-40 pe-fs-11",children:"clicked"})]}),(0,st.jsxs)("div",{title:"".concat((null===R||void 0===R||null===(m=R.analytics)||void 0===m?void 0:m.ctr)||0,"%"),children:[(0,st.jsxs)(mt.Z.Paragraph,{className:"pe-color-neutral pe-mb-0 pe-fs-16",children:[wo(null===R||void 0===R||null===(v=R.analytics)||void 0===v?void 0:v.ctr),"%"]}),(0,st.jsx)(mt.Z.Paragraph,{className:"pe-color-neutral-40 pe-fs-11",children:Ua("CTR","pushengage")})]})]}),(0,st.jsx)(ht.Z,{sm:{span:4},xs:{span:24},className:"flexbox pe-stats-column pe-notification-border-bottom",children:null!==(y=D.options)&&void 0!==y&&y.result_name?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"pe-mr-20",children:[(0,st.jsx)(mt.Z.Paragraph,{className:"pe-color-neutral pe-mb-0 pe-fs-16",children:wo(null===R||void 0===R||null===(b=R.result)||void 0===b||null===(x=b[(null===(w=D.options)||void 0===w?void 0:w.result_name)||""])||void 0===x?void 0:x.count)}),(0,st.jsx)(mt.Z.Paragraph,{className:"pe-fs-11 pe-color-neutral-40",children:"count"})]}),(0,st.jsxs)("div",{children:[(0,st.jsxs)(mt.Z.Paragraph,{className:"pe-color-neutral pe-mb-0 pe-fs-16",children:[ie,wo(null===R||void 0===R||null===(k=R.result)||void 0===k||null===(_=k[(null===(C=D.options)||void 0===C?void 0:C.result_name)||""])||void 0===_?void 0:_.value)]}),(0,st.jsx)("p",{className:"pe-fs-11 pe-color-neutral-40 goal-tracking-analytics pe-ellipsis",title:null===(j=D.options)||void 0===j?void 0:j.result_name,children:(null===(S=D.options)||void 0===S?void 0:S.result_name)||""})]})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{title:"Goal tracking not used",children:(0,st.jsx)(mt.Z.Paragraph,{className:"pe-color-neutral pe-mb-0 pe-fs-16",children:"--"})}),(0,st.jsx)("div",{title:"Goal tracking not used",children:(0,st.jsx)(mt.Z.Paragraph,{className:"pe-color-neutral pe-mb-0 pe-fs-16",children:"--"})})]})}),(0,st.jsx)(ht.Z,{sm:{span:2},xs:{span:24},className:"flexbox pe-notification-actions pe-notification-border-bottom",children:(0,st.jsxs)("div",{className:"align-center-flexbox",children:[0!==L&&(0,st.jsx)(nW.Z,{placement:"topLeft",title:"Are you sure to delete this notification?",onConfirm:function(){U(L)},okText:"Yes",cancelText:"No",children:(0,st.jsx)(pt.default,{shape:"circle",className:"pe-mr-5",size:"small",children:(0,st.jsx)("span",{className:"pe-color-neutral-40",children:(0,st.jsx)(Nh,{})})})}),(0,st.jsx)(pt.default,{shape:"circle",size:"small",onClick:function(){return X((function(e){return!e}))},children:(0,st.jsx)("span",{className:"pe-color-neutral-40 ".concat(Q?"icon-collapsed":"icon-expanded"),children:(0,st.jsx)(kd,{})})})]})})]})}),(0,st.jsx)("div",{className:"pe-bg-white pe-notification-generator".concat(Q?" pe-collapsible-content":" pe-collapsible-expanded"),children:(0,st.jsxs)(dt.Z,{align:"stretch",gutter:[4,16],children:[(0,st.jsxs)(ht.Z,{sm:{span:15},xs:{span:24},children:[(0,st.jsxs)(Wc.Z,{className:"pe-campaign-card top-left",bordered:!1,children:[(0,st.jsx)(A$,{level:3,children:"Notification Look and Design"}),(0,st.jsx)(TW,{type:I,notification:R,onChange:function(e,t){return ae(e,t)}}),(0,st.jsx)(HN,{type:"text",value:R.big_image||"",setValue:function(e){return ae("big_image",e)},label:"Notification Big Image",testId:"notificationBigImage",limit:{value:300},errorMessage:null===(Z=R.errors)||void 0===Z?void 0:Z.big_image})]}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsx)(DW,{notification:R,onChange:function(e){V(L,e)},currentSite:$,togglePremium:q,type:I})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",className:"pe-mb-10",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(A$,{level:3,className:"pe-mb-0",children:Ua("Notification Duration","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:!(null===(N=R.notification_duration)||void 0===N||!N.enabled),onChange:function(e){var t;return se((0,kn.Z)({enabled:e,open_until_interaction:!(null===(t=R.notification_duration)||void 0===t||!t.open_until_interaction)},Po(R.expiry)))}})})]}),(0,st.jsx)(T$,{type:"secondary",className:"dark",children:Ua("Maximize your reach with custom notification durations (this feature is available for chrome 47 and above versions only).","pushengage")}),null!==(E=R.notification_duration)&&void 0!==E&&E.enabled?(0,st.jsx)(qW,{duration:{duration_enabled:!(null===R||void 0===R||!R.notification_duration.enabled),require_interaction:null!==R&&void 0!==R&&R.notification_duration.open_until_interaction?1:0,expiry:Number(R.expiry)},setDuration:function(e){return se((0,kn.Z)({enabled:e.duration_enabled,open_until_interaction:!!e.require_interaction},Po(e.expiry)))},error:null===R||void 0===R||null===(O=R.errors)||void 0===O?void 0:O.expiry,width:130}):null]})})]}),(0,st.jsx)(ht.Z,{sm:{span:9},xs:{span:24},children:(0,st.jsxs)(Wc.Z,{className:"pe-campaign-card right",bordered:!1,style:{height:"100%"},children:[(0,st.jsx)(FW,{changePreviewType:function(e){return re(e)},notificationPreviewPicker:ne}),(0,st.jsx)(pt.default,{className:"pe-btn-secondary pe-mt-15 pe-mb-10",block:!0,onClick:function(){xb(R)},children:Ua("Test Notification","pushengage")}),(0,st.jsx)(Cu.Z,{className:"pe-my-8 pe-mx-0"}),(0,st.jsx)($U,{title:(null===R||void 0===R?void 0:R.notification_title)||"Sample Title",message:(null===R||void 0===R?void 0:R.notification_message)||"Sample Message",url:/^https.+$/.test(null!==J&&void 0!==J&&J.site?null===J||void 0===J||null===(A=J.site)||void 0===A?void 0:A.site_url:"")?Jy(null!==J&&void 0!==J&&J.site?null===J||void 0===J||null===(T=J.site)||void 0===T?void 0:T.site_url:""):"".concat(null!==J&&void 0!==J&&J.site?null===J||void 0===J||null===(P=J.site)||void 0===P?void 0:P.site_subdomain:"",".pushengage.com"),imgUrl:R.notification_image,big_image:(null===R||void 0===R?void 0:R.big_image)||"",siteName:(null===J||void 0===J||null===(M=J.site)||void 0===M?void 0:M.site_name)||"",notificationPreviewPicker:ne,btn1:{title:R.multiAction&&R.actions&&R.actions.length>0&&R.actions[0]?R.actions[0].label||"Button1 text":"",url:R.multiAction&&R.actions&&R.actions.length>0&&R.actions[0]?R.actions[0].url:"",image_url:R.multiAction&&R.actions&&R.actions.length>0&&R.actions[0]?R.actions[0].image_url:""},btn2:{title:R.multiActionBtn2&&R.actions&&R.actions.length>1&&R.actions[1]?R.actions[1].label||"Button2 text":"",url:R.multiActionBtn2&&R.actions&&R.actions.length>1&&R.actions[1]?R.actions[1].url:"",image_url:R.multiActionBtn2&&R.actions&&R.actions.length>1&&R.actions[1]?R.actions[1].image_url:""}})]})})]})})]})]})},M$=_T((function(){return(0,st.jsx)($W,{className:"drag-drop-icon"})})),I$=DT((function(e){var t=e.type,n=e.campaign,r=e.notifications,i=e.n,a=e.index,o=e.notificationIndex,s=e.onScheduleOption,l=e.updateNotificationData,c=e.updateDuration,u=e.updateMultiActions,d=e.handleRemoveNotification,p=e.handleOnNotificationSort,f=e.handleOnUpdateLargeImage,h=e.togglePremium;return(0,st.jsx)(P$,{campaign:n,type:t,notification:i,index:o,total:r.length,onUpdate:l,updateDuration:c,updateMultiActions:u,onRemove:d,onSort:p,onScheduleOption:s,onUpdateLargeImage:f,togglePremium:h,children:(0,st.jsx)(M$,{})},a)})),D$=PT((function(e){var t=e.type,n=e.campaign,r=e.notifications,i=e.onScheduleOption,a=e.updateNotificationData,o=e.updateDuration,s=e.updateMultiActions,l=e.handleRemoveNotification,c=e.handleOnNotificationSort,u=e.handleOnUpdateLargeImage,d=e.togglePremium;return(0,st.jsx)("ul",{className:"pe-notification-builder-wrapper stepNotification__wrapper",children:r.map((function(e,p){return(0,st.jsx)(I$,{campaign:n,type:t,collection:0!==p?"1":"0",disabled:0===p,notifications:r,n:e,index:p,notificationIndex:p,onScheduleOption:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return i(e,p)})),updateNotificationData:a,updateDuration:o,updateMultiActions:s,handleRemoveNotification:l,handleOnNotificationSort:c,handleOnUpdateLargeImage:u,togglePremium:d},"".concat(e.rule_order,"_").concat(p))}))})})),L$=function(e){var t=e.campaign,n=e.notifications,r=e.onUpdate,i=e.togglePremium,a=e.template,o=bt((function(e){return e.globals.settings}),Zi()),s=bt((function(e){return e.session.user}),Zi());return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(D$,{campaign:t,type:a,onSortEnd:function(e){var t=e.oldIndex,i=e.newIndex,a=VA(n,t,i);r(a)},useDragHandle:!0,lockAxis:"y",pressDelay:200,helperClass:"stepNotification__dragging",onScheduleOption:function(e,t){return function(e,t){var i,a,o=Bi()(n);o[e].schedule_options=t,null!==(i=o[e])&&void 0!==i&&null!==(a=i.errors)&&void 0!==a&&a.schedule_value&&(o[e].errors.schedule_value=""),r(o)}(t,e)},notifications:n,updateNotificationData:function(e,t,i){var a=(0,we.Z)(n);a[e][t]=i,a[e].errors[t]="",r(a)},updateDuration:function(e,t){var i=24*Number(t.duration_in_days)*3600+3600*Number(t.duration_in_hours)+60*Number(t.duration_in_minutes),a=(0,we.Z)(n);a[e].notification_duration=t,a[e].expiry=i,a[e].errors=(0,kn.Z)((0,kn.Z)({},a[e].errors),{},{expiry:""}),r(a)},updateMultiActions:function(e,t){var i=Bi()(n);i[e]=t,r(i)},handleRemoveNotification:function(e){var t=Bi()(n),i=t.splice(e,1);if(i&&i.length>0){var a=t.filter((function(e){return i[0].rule_order!==e.rule_order}));r(a)}},handleOnNotificationSort:function(e,t){var i=VA(n,e,t);r(i)},handleOnUpdateLargeImage:function(e,t){var i=Bi()(n);i[e].big_image=t,r(i)},togglePremium:i}),(0,st.jsx)("div",{style:{marginLeft:"60px"},children:(0,st.jsxs)(pt.default,{type:"primary",onClick:function(){var e,t=null===o||void 0===o||null===(e=o.default_notification_expiry)||void 0===e?void 0:e.value,i=(0,kn.Z)({enabled:!1,open_until_interaction:!0},Po(t)),l=Bi()(function(e){var t;return{analytics:{ctr:0,views:0,clicks:0,sentcount:0,unsubscribed:0,conversion_count:0,revenue:0},notification_title:"",notification_message:"",notification_url:"",notification_image:(null===e||void 0===e||null===(t=e.site)||void 0===t?void 0:t.site_image)||"",big_image:"",schedule_options:{type:"immediately"},multiAction:!1,multiActionBtn2:!1,actions:[{label:"",url:"",image_url:""}],rule_order:0,ri:"0",notification_duration:{enabled:!1,open_until_interaction:!0,duration_in_days:"",duration_in_hours:"",duration_in_minutes:""},expiry:1800,errors:Bi()(XE)}}(s));l.schedule_options.type="after",l.schedule_options.value=1,l.schedule_options.unit="days",l.schedule_options.at="08:00:00",l.notification_title=tE.title[a]||"",l.notification_message=tE.message[a]||"",l.notification_url=tE.url[a]||"",l.notification_image=tE.image_url[a]||l.notification_image,l.big_image=tE.big_image_url[a]||"";var c=[].concat((0,we.Z)(n),[(0,kn.Z)((0,kn.Z)({},l),{},{rule_order:(new Date).getTime(),ri:"0",expiry:t,notification_duration:i})]);r(c)},children:[(0,st.jsx)(oU,{})," Add New Notification"]})})]})},R$=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-code-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"})}))},B$=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:R$},e))},F$=mt.Z.Title,z$=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,v,y,b,x,w,k,_,C,j=e.campaign,S=e.onChange,Z=e.submitType,N=e.onSubmit,E=e.editing,O=e.onCodeAction,A=function(e,t){var n=(0,kn.Z)({},j);"daily"===e?n.trigger_limit=t||0:n.weekly_trigger_limit=t||0,n.errors.triggerLimit="",S(n)};return(0,st.jsxs)(dt.Z,{gutter:[4,16],align:"stretch",children:[(0,st.jsxs)(ht.Z,{sm:{span:16},xs:24,children:[(0,st.jsx)(Wc.Z,{className:"pe-campaign-card top-left",bordered:!1,children:(0,st.jsx)(dt.Z,{children:(0,st.jsxs)(ht.Z,{span:"24",children:[(0,st.jsx)(F$,{level:3,className:"pe-mb-36",children:Ua("Trigger Settings","pushengage")}),[xi.PRICE_DROP,xi.INVENTORY].includes(j.campaign_type)?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{sm:{span:12},xs:{span:24},className:"pe-pt-10 pe-mb-8",children:(0,st.jsx)("span",{className:"label pe-fs-15 pe-color-neutral-80",children:Ua("Campaign Type","pushengage")})}),(0,st.jsx)(ht.Z,{sm:{span:12},xs:{span:24},children:(0,st.jsx)(ed.Z.Item,{children:(0,st.jsx)(Yc.default,{value:j.campaign_type===xi.PRICE_DROP?Ua("Price Drop Alert","pushengage"):Ua("Back In Stock Alert","pushengage"),disabled:!0})})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{sm:{span:12},xs:{span:24},className:"pe-pt-10 pe-mb-8",children:(0,st.jsx)("span",{className:"label pe-fs-15 pe-color-neutral-80",children:Ua("Select Campaign Expiry (Days)","pushengage")})}),(0,st.jsx)(ht.Z,{sm:{span:12},xs:{span:24},children:(0,st.jsx)(ed.Z.Item,{className:"pe-mb-0",children:(0,st.jsx)(rW.Z,{style:{width:"100%"},min:1,value:((null===j||void 0===j||null===(t=j.criteria)||void 0===t||null===(n=t.campaign)||void 0===n?void 0:n.expiry)||0)/86400,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=24*e*60*60,n=Bi()(j);n.criteria.campaign.expiry=t,S(n)}))})})})]}),xi.PRICE_DROP===j.campaign_type?(0,st.jsxs)(dt.Z,{className:"pe-mt-24",children:[(0,st.jsx)(ht.Z,{sm:{span:12},xs:{span:24},className:"pt-10 mb-8",children:(0,st.jsx)("span",{className:"label pe-fs-15 pe-color-neutral-80",children:Ua("Send Notification If Price Falls By","pushengage")})}),(0,st.jsx)(ht.Z,{sm:{span:12},xs:{span:24},children:(0,st.jsxs)(dt.Z,{gutter:[4,4],wrap:!1,children:[(0,st.jsx)(ht.Z,{span:12,children:(0,st.jsx)(rW.Z,{style:{width:"100%"},max:"percentage"===(null===j||void 0===j||null===(r=j.criteria)||void 0===r||null===(i=r.campaign)||void 0===i||null===(a=i.price_drop_threshold)||void 0===a?void 0:a.type)?100:999999999,value:0!==(null===j||void 0===j||null===(o=j.criteria)||void 0===o||null===(s=o.campaign)||void 0===s||null===(l=s.price_drop_threshold)||void 0===l?void 0:l.value)?null===j||void 0===j||null===(c=j.criteria)||void 0===c||null===(u=c.campaign)||void 0===u||null===(d=u.price_drop_threshold)||void 0===d?void 0:d.value:void 0,min:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=Bi()(j);t.criteria.campaign.price_drop_threshold.value=e||1,S(t)}))})}),(0,st.jsx)(ht.Z,{span:12,children:(0,st.jsx)(Rv.default,{style:{width:"100%"},options:[{label:"percentage",value:"percentage"},{label:"absolute",value:"absolute"}],value:(null===j||void 0===j||null===(p=j.criteria)||void 0===p||null===(f=p.campaign)||void 0===f||null===(h=f.price_drop_threshold)||void 0===h?void 0:h.type)||"percentage",onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=Bi()(j);t.criteria.campaign.price_drop_threshold.type=e,S(t)}))})})]})})]}):null]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"210px",className:"pe-mt-6",children:(0,st.jsxs)("span",{className:"label pe-fs-18",children:[(0,st.jsx)("strong",{children:"START"})," this campaign ",(0,st.jsx)("strong",{children:"IF"})]})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[[xi.TRIGGER,xi.BROWSE].includes(j.campaign_type)?(0,st.jsx)(ed.Z.Item,{children:(0,st.jsx)(Yc.default,{value:null===j||void 0===j||null===(g=j.rules)||void 0===g?void 0:g.if,disabled:!0})}):null,j.campaign_type===xi.GENERIC?(0,st.jsx)(HN,{type:"text",value:null===j||void 0===j||null===(m=j.rules)||void 0===m?void 0:m.if,setValue:function(e){var t=Bi()(j);t.rules.if=e,t.errors.ruleIf="",S(t)},testId:"ruleIf",hasFeedback:!0,limit:{value:0},errorMessage:null===j||void 0===j||null===(v=j.errors)||void 0===v?void 0:v.ruleIf}):null]})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"210px",className:"pe-mt-6",children:(0,st.jsxs)("span",{className:"label pe-fs-18",children:[(0,st.jsx)("strong",{children:"STOP"})," this campaign ",(0,st.jsx)("strong",{children:"IF"})]})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[[xi.TRIGGER,xi.BROWSE].includes(j.campaign_type)?(0,st.jsx)(ed.Z.Item,{children:(0,st.jsx)(Yc.default,{value:null===j||void 0===j||null===(y=j.rules)||void 0===y?void 0:y.this,disabled:!0})}):null,j.campaign_type===xi.GENERIC?(0,st.jsx)(HN,{type:"text",value:null===j||void 0===j||null===(b=j.rules)||void 0===b?void 0:b.this,setValue:function(e){var t=Bi()(j);t.rules.this=e,t.errors.ruleThis="",S(t)},testId:"ruleThis",limit:{value:0},hasFeedback:!0,errorMessage:null===j||void 0===j||null===(x=j.errors)||void 0===x?void 0:x.ruleThis}):null]})]})]})]})})}),(0,st.jsxs)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:[(0,st.jsx)(F$,{level:3,className:"pe-mb-24",children:Ua("Frequency Capping","pushengage")}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{sm:{span:12},xs:{span:24},className:"pe-pt-10 pe-mb-8",children:(0,st.jsx)("span",{className:"label pe-fs-15 pe-color-neutral-80",children:Ua("Daily Notification Limit (Times/Subscriber/Day)","pushengage")})}),(0,st.jsx)(ht.Z,{sm:{span:12},xs:{span:24},children:(0,st.jsx)(ed.Z.Item,{hasFeedback:!0,validateStatus:null!==j&&void 0!==j&&null!==(w=j.errors)&&void 0!==w&&w.triggerLimit?"error":void 0,help:(null===j||void 0===j||null===(k=j.errors)||void 0===k?void 0:k.triggerLimit)||void 0,children:(0,st.jsx)(rW.Z,{style:{width:"100%"},value:j.trigger_limit||void 0,onChange:function(e){return A("daily",e)},min:1,max:200})})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{sm:{span:12},xs:{span:24},className:"pe-pt-10 pe-mb-8",children:(0,st.jsx)("span",{className:"label pe-fs-15 pe-color-neutral-80",children:Ua("Weekly Notification Limit (Times/Subscriber/Week)","pushengage")})}),(0,st.jsx)(ht.Z,{sm:{span:12},xs:{span:24},children:(0,st.jsx)(ed.Z.Item,{className:"pe-mb-0",hasFeedback:!0,validateStatus:null!==j&&void 0!==j&&null!==(_=j.errors)&&void 0!==_&&_.triggerWeeklyLimit?"error":void 0,help:(null===j||void 0===j||null===(C=j.errors)||void 0===C?void 0:C.triggerWeeklyLimit)||void 0,children:(0,st.jsx)(rW.Z,{style:{width:"100%"},value:j.weekly_trigger_limit||void 0,onChange:function(e){return A("weekly",e)},min:1,max:2e3})})})]})]}),(0,st.jsx)(KH,{campaign:j,onUpdate:S}),(0,st.jsx)(HH,{campaign:j,isEditing:E||!1,onUpdate:S})]}),(0,st.jsx)(ht.Z,{md:{span:8},xs:24,children:(0,st.jsxs)(Wc.Z,{className:"pe-campaign-card right pe-ta-center",bordered:!1,style:{minHeight:"100%"},children:[(0,st.jsxs)(pt.default,{type:"primary",size:"large",className:"pe-btn-hero",loading:"active"===Z,disabled:"active"===Z,onClick:function(){return N("active")},children:[(0,st.jsx)(sc,{})," ",Ua("Activate Triggered Campaign","pushengage")]}),(0,st.jsx)("div",{className:"pe-mt-32",children:(0,st.jsx)(pt.default,{type:"text",size:"small",loading:"new"===Z,disabled:"new"===Z,onClick:function(){return N("new")},icon:(0,st.jsx)(IH,{className:"color-neutral-60"}),children:(0,st.jsx)("span",{className:"underline-text",children:Ua("Save Draft","pushengage")})})}),(0,st.jsxs)(pt.default,{className:"pe-btn-hollow pe-mt-48",shape:"round",onClick:O,children:[(0,st.jsx)(B$,{})," ",Ua("Integration Code","pushengage")]})]})})]})};z$.defaultProps={editing:!1,onCodeAction:void 0};var V$=z$;function U$(e){var t=[];return e.forEach((function(e){["notification_title","notification_message","notification_url","notification_image","big_image"].forEach((function(n){e[n]&&ib(e[n]).forEach((function(e){t.push(e)}))})),e.actions&&e.actions.length&&e.actions.forEach((function(e){["label","url"].forEach((function(n){e[n]&&ib(e[n]).forEach((function(e){t.push(e)}))}))}))})),t}var H$=function(e){var t;if([xi.PRICE_DROP,xi.INVENTORY].includes(e.campaign_type))return function(e){var t={payload:{type:e.campaign_type,profile_id:"<string>",product_id:"<string>",variant_id:"<string>",link:"<string>",price:"<number>",ts_expires:"<ISO8601 Date string>"},comments:{product_id:"required, product id or product SKU",link:"required, product page url",print:"required",variant_id:"optional",ts_expires:"optional, alert expiry date, default 30 days",profile_id:"optional, The user profile ID synchronized with PushEngage"}};xi.INVENTORY===e.campaign_type?(t.payload.availability="<string>",t.comments.availability="optional, valid values: [outOfStock], default:outOfStock"):xi.PRICE_DROP===e.campaign_type&&(t.payload.alert_price="<number>",t.comments.alert_price="optional, The price below which the alert should be triggered, defaults to price",t.payload.availability="<string>",t.comments.availability="optional, valid values: [inStock, outOfStock], default:inStock");var n=Object.keys(t.payload);return U$(e.notifications).forEach((function(e){-1===n.indexOf(e.name)&&(t.payload[e.name]="<string>",e.defaultValue&&e.defaultValue!==e.name&&(t.comments["".concat(e.name)]="optional, default: ".concat(e.defaultValue)),n.push(e.name))})),t}(e);var n={payload:{campaign_name:e.campaign_name||Ua("Enter Campaign Name","pushengage"),event_name:(null===e||void 0===e||null===(t=e.rules)||void 0===t?void 0:t.if)||"",profile_id:"<string>"},comments:{profile_id:"optional, The user profile ID synchronized with PushEngage"}},r=Object.keys(n.payload);return U$(e.notifications).forEach((function(e){-1===r.indexOf(e.name)&&(n.payload.data||(n.payload.data={}),n.payload.data[e.name]="<string>",e.defaultValue&&e.defaultValue!==e.name&&(n.payload.data[e.name]="<string>",n.comments["data.".concat(e.name)]="optional, default: ".concat(e.defaultValue)),r.push(e.name))})),n},W$=function(e){var t=H$(e),n=ab(t.payload,t.comments),r="\nwindow.PushEngage = window.PushEngage || [];\nvar alert =".concat(n,";\n\nPushEngage.push(function() {\n  PushEngage.addAlert(alert)\n    .then(function(response) {\n      console.log(response);\n    })\n    .catch(function(error) {\n      console.log(error.message, error.details);\n    });\n});\n"),i="\nwindow._peq = window._peq || [];\nvar alert =".concat(n,";\n\nwindow._peq.push([\n  'add-alert',\n  alert,\n  function (res) {\n    console.log(res);\n  },\n]);\n");return(0,st.jsxs)(ay.default,{defaultActiveKey:"promise-based-code",children:[(0,st.jsx)(ay.default.TabPane,{tab:"with Promise",children:(0,st.jsx)(AQ,{language:"js",isCopyEnabled:!0,children:r})},"promise-based-code"),(0,st.jsx)(ay.default.TabPane,{tab:"with Callback",children:(0,st.jsx)(AQ,{language:"js",isCopyEnabled:!0,children:i})},"callback-based-code")]})},q$=function(e){var t=H$(e),n=ab(t.payload,t.comments),r="\nwindow.PushEngage = window.PushEngage || [];\nvar trigger = ".concat(n,";\n\nPushEngage.push(function() {\n  PushEngage.sendTriggerEvent(trigger)\n    .then(function(response) {\n      console.log(response);\n    })\n    .catch(function(error) {\n      console.log(error.message, error.details);\n    });\n});\n"),i="\nwindow._peq = window._peq || [];\nvar trigger = ".concat(n,";\n\nwindow._peq.push([\n  'add-to-trigger',\n  trigger,\n  function (res) {\n    console.log(res);\n  },\n]);\n");return(0,st.jsxs)(ay.default,{defaultActiveKey:"promise-based-code",children:[(0,st.jsx)(ay.default.TabPane,{tab:"with Promise",children:(0,st.jsx)(AQ,{language:"js",isCopyEnabled:!0,children:r})},"promise-based-code"),(0,st.jsx)(ay.default.TabPane,{tab:"with Callback",children:(0,st.jsx)(AQ,{language:"js",isCopyEnabled:!0,children:i})},"callback-based-code")]})},K$=function(e){return(0,st.jsxs)(ay.default,{defaultActiveKey:"promise-based-code",children:[(0,st.jsx)(ay.default.TabPane,{tab:"with Promise",children:(0,st.jsx)(AQ,{language:"js",isCopyEnabled:!0,children:Io(e)})},"promise-based-code"),(0,st.jsx)(ay.default.TabPane,{tab:"with Callback",children:(0,st.jsx)(AQ,{language:"js",isCopyEnabled:!0,children:Do(e)})},"callback-based-code")]})},Y$=function(e){var t,n={payload:{campaign_name:(null===e||void 0===e?void 0:e.campaign_name)||Ua("Enter Campaign Name","pushengage"),event_name:(null===e||void 0===e||null===(t=e.rules)||void 0===t?void 0:t.this)||"",profile_id:"<string>"},comments:{profile_id:"optional, The user profile ID synchronized with PushEngage"}};"checkout"===e.rules.this&&(n.payload.data={revenue:"<number>"});var r=ab(n.payload,n.comments),i="\nwindow.PushEngage = window.PushEngage || [];\nvar trigger = ".concat(r,";\n\nPushEngage.push(function() {\n  PushEngage.sendTriggerEvent(trigger)\n    .then(function(response) {\n      console.log(response);\n    })\n    .catch(function(error) {\n      console.log(error.message, error.details);\n    });\n});\n"),a="\nwindow._peq = window._peq || [];\nvar trigger = ".concat(r,";\n\nwindow._peq.push([\n  'add-to-trigger',\n  trigger,\n  function (res) {\n    console.log(res);\n  },\n]);\n");return(0,st.jsxs)(ay.default,{defaultActiveKey:"promise-based-code",children:[(0,st.jsx)(ay.default.TabPane,{tab:"with Promise",children:(0,st.jsx)(AQ,{language:"js",isCopyEnabled:!0,children:i})},"promise-based-code"),(0,st.jsx)(ay.default.TabPane,{tab:"with Callback",children:(0,st.jsx)(AQ,{language:"js",isCopyEnabled:!0,children:a})},"callback-based-code")]})},G$=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m=e.campaign,v=e.user,y=e.settings,b=e.currentSite,x=e.onAction,w={browse:{if:"Browse Event",this:"Add to Cart Event"},trigger:{if:"Add to Cart Event",this:"Checkout Event"},price_drop:{if:"Start campaign event",this:"Stop campaign event"},generic:{if:"Start campaign event",this:"Stop campaign event"}};return(0,st.jsxs)(gt.Z,{centered:!0,width:800,bodyStyle:{height:500,overflow:"auto"},onOk:function(){x()},onCancel:function(){x()},title:"Integration Code",visible:!0,children:[(0,st.jsxs)(mt.Z.Paragraph,{children:[Ua("Including variable tags like","pushengage")," ",(0,st.jsx)("code",{children:"{{...}}"})," ",Ua("in your notifications adds a personal touch. To get this right, include the value of these variable tags in your campaign setup. Missed it? No problem! We automatically use the subscriber\u2019s available attributes to fill in any missing pieces. For perfectly personalized messages, ensure these details are provided in the setup or are available in your{' '}","pushengage"),(0,st.jsx)(mt.Z.Link,{href:"https://pushengage.com/api/web-sdk/#attributes",target:"_blank",children:Ua("subscriber\u2019s attributes.","pushengage")})," "]}),(0,st.jsxs)(ay.default,{defaultActiveKey:"client",children:[(0,st.jsx)(ay.default.TabPane,{tab:"Javascript API",children:[xi.PRICE_DROP,xi.INVENTORY].includes(m.campaign_type)?(0,st.jsxs)(qc.Z,{bordered:!1,defaultActiveKey:1,accordion:!0,children:[(0,st.jsx)(qc.Z.Panel,{header:m.campaign_type===xi.PRICE_DROP?Ua("Add Price Drop Alert","pushengage"):Ua("Add Inventory Alert","pushengage"),children:W$(m)},1),qd(v)&&null!==m&&void 0!==m&&null!==(t=m.options)&&void 0!==t&&t.result_name?(0,st.jsx)(qc.Z.Panel,{header:"Goal Tracking",children:K$((null===m||void 0===m||null===(n=m.options)||void 0===n?void 0:n.result_name)||(null===y||void 0===y||null===(r=y.notification_analytics)||void 0===r||null===(i=r.result)||void 0===i?void 0:i.result_name))},3):null]}):(0,st.jsxs)(qc.Z,{bordered:!1,defaultActiveKey:1,accordion:!0,children:[(0,st.jsx)(qc.Z.Panel,{header:null===(a=w[m.campaign_type])||void 0===a?void 0:a.if,children:q$(m)},1),(0,st.jsx)(qc.Z.Panel,{header:null===(o=w[m.campaign_type])||void 0===o?void 0:o.this,children:Y$(m)},2),qd(v)&&(null!==m&&void 0!==m&&null!==(s=m.options)&&void 0!==s&&s.result_name||null!==y&&void 0!==y&&null!==(l=y.notification_analytics)&&void 0!==l&&null!==(c=l.result)&&void 0!==c&&c.result_name)?(0,st.jsx)(qc.Z.Panel,{header:"Goal Tracking",children:K$((null===m||void 0===m||null===(u=m.options)||void 0===u?void 0:u.result_name)||(null===y||void 0===y||null===(d=y.notification_analytics)||void 0===d||null===(p=d.result)||void 0===p?void 0:p.result_name))},3):null]})},"client"),[xi.PRICE_DROP,xi.INVENTORY].includes(m.campaign_type)?null:(0,st.jsx)(ay.default.TabPane,{tab:"REST API",children:(0,st.jsxs)(qc.Z,{bordered:!1,defaultActiveKey:1,accordion:!0,children:[(0,st.jsx)(qc.Z.Panel,{header:null===(f=w[m.campaign_type])||void 0===f?void 0:f.if,children:(0,st.jsx)("p",{className:"text-code",children:(0,st.jsxs)(AQ,{language:"bash",isCopyEnabled:!0,children:['\n#\n# Please ensure the data payload includes at least one of "profile_id" or\n# "device_token_hash" in the request. If both are present, "profile_id"\n# will be given preference.\n#\n# "profile_id" - The user profile ID synchronized with PushEngage.\n# "device_token_hash" = The subscriber ID assigned to the user by PushEngage.\n#\ncurl --location \'https://s2s.pushengage.com/api/v1/triggers/events\' \\\n--request POST \\\n--header \'API-KEY: XXX\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'',JSON.stringify((0,kn.Z)((0,kn.Z)({},H$(m).payload),{},{site_id:Number(b),device_token_hash:"<string>",profile_id:"<string>"}),null,4),"'"]})})},1),(0,st.jsx)(qc.Z.Panel,{header:null===(h=w[m.campaign_type])||void 0===h?void 0:h.this,children:(0,st.jsx)("p",{className:"text-code",children:(0,st.jsxs)(AQ,{language:"bash",isCopyEnabled:!0,children:['\n#\n# Please ensure the data payload includes at least one of "profile_id" or\n# "device_token_hash" in the request. If both are present, "profile_id"\n# will be given preference.\n#\n# "profile_id" - The user profile ID synchronized with PushEngage.\n# "device_token_hash" = The subscriber ID assigned to the user by PushEngage.\n#\n\ncurl --location \'https://s2s.pushengage.com/api/v1/triggers/events\' \\\n--request POST \\\n--header \'API-KEY: <YOUR_SITE_API_KEY>\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'',JSON.stringify({campaign_name:m.campaign_name||Ua("Enter Campaign Name","pushengage"),event_name:(null===m||void 0===m||null===(g=m.rules)||void 0===g?void 0:g.this)||"",site_id:Number(b),device_token_hash:"<string>",profile_id:"<string>",data:"checkout"===m.rules.this?{revenue:""}:void 0},null,4),"'"]})})},2)]})},"server")]})]})},Q$=function(){var e,t=yt(),n=(0,vt.s0)(),r=nx(),i=(0,vt.UO)(),a=bt(Vr),o=bt((function(e){return e.session.currentSite})),s=bt((function(e){return e.session.user}),Zi()),l=bt((function(e){return e.globals.settings}),Zi()),c=(0,oe.useState)((function(){return Bi()(nO(s))})),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)(0),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)(""),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useState)(!1),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=(0,oe.useState)("content"),S=(0,xe.Z)(j,2),Z=S[0],N=S[1],E=(0,oe.useState)(!1),O=(0,xe.Z)(E,2),A=O[0],T=O[1],P=(0,oe.useState)(!1),M=(0,xe.Z)(P,2),I=M[0],D=M[1],L=(0,oe.useState)(!1),R=(0,xe.Z)(L,2),B=R[0],F=R[1],z=(0,oe.useState)(!1),V=(0,xe.Z)(z,2),U=V[0],H=V[1],W=(0,oe.useState)(!1),q=(0,xe.Z)(W,2),K=q[0],Y=q[1],G=(0,oe.useState)({notification_analytics:{result:{enabled:!1}}}),Q=(0,xe.Z)(G,2),X=Q[0],$=Q[1],J=(0,oe.useState)(!0),ee=(0,xe.Z)(J,2),te=ee[0],ne=ee[1],re=function(e){var t,n=Bi()(e);return n.notifications=iO(n.notifications.filter((function(e){return 1===e.status})),null===(t=l.default_notification_expiry)||void 0===t?void 0:t.value),n.errors=(0,kn.Z)({},$E),n},ae=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(a){var l,c,u,d,f,h,g,v,y,b;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!0),t(ts({siteId:a,type:"city,country,state,device,device_type"})),Bd(s)&&t(Os(o)),u=r.get("type"),d=r.get("duplicate"),e.prev=5,e.next=8,t(es({siteId:a})).unwrap();case 8:c=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),e.t0;case 14:if(f=(null===(l=c)||void 0===l?void 0:l.data)||{},$(null===f||void 0===f?void 0:f.payload),h=!1,g=0,0===(g=isNaN(Number(i.id))?0:Number(i.id))){e.next=40;break}return h=!0,e.prev=21,v={},h&&(v={expand:"notification_analytics,result_analytics"}),e.next=26,qE(o,g,v);case 26:if(y=e.sent,Xd(s)&&$d(s)){e.next=31;break}return n($r.path.campaigns.triggeredCampaign),ie.default.error({message:Ua("Can't edit triggers in free & business plan","pushengage")}),e.abrupt("return");case 31:p(re(y.data)),e.next=38;break;case 34:e.prev=34,e.t1=e.catch(21),null!==e.t1&&void 0!==e.t1&&e.t1.status&&404===(null===e.t1||void 0===e.t1?void 0:e.t1.status)&&(n($r.path.campaigns.triggeredCampaign),ie.default.error({message:Ua("Sorry, we could not find the trigger.","pushengage")})),e.t1;case 38:e.next=52;break;case 40:if(!u||!Object.values(xi).includes(u)){e.next=44;break}p(oO(u,f,s)),e.next=52;break;case 44:if(!d){e.next=51;break}return e.next=47,qE(a,Number(d));case 47:b=e.sent,p(aO(b.data,f)),e.next=52;break;case 51:n($r.path.campaigns.createTriggeredCampaign);case 52:h&&m(g),ne(!1);case 54:case"end":return e.stop()}}),e,null,[[5,11],[21,34]])})));return function(t){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){if(!a)return ie.default.error({message:Ua("Site not connected!","pushengage"),description:Ua("Please connect your site first to create a triggered campaigns","pushengage")}),void n($r.path.campaigns.triggeredCampaign);ae(o)}),[o]);var se=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Bi()(d),r="",(i=(t||"").trim())?i.length>150&&(r=YN.limitTriggerCampaignName):r=YN.emptyTriggerCampaignName,p((0,kn.Z)((0,kn.Z)({},n),{},{campaign_name:t,errors:(0,kn.Z)((0,kn.Z)({},d.errors),{},{campaign_name:r})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(e){if("settings"===e){var t=JN(d);if(!t.isValid){var n,r;if(p(t.campaign),null!==t&&void 0!==t&&null!==(n=t.messages)&&void 0!==n&&n.length)gt.Z.error({className:"pe-notification-validation-modal",width:"500px",content:(0,st.jsx)("div",{children:null===t||void 0===t||null===(r=t.messages)||void 0===r?void 0:r.map((function(e){return(0,st.jsx)(lq,{title:"".concat(ba(Ua("Notification %d has following errors.","pushengage"),Number(e.index)+1)),messages:e.messages},"index-".concat(e.index))}))}),okButtonProps:{size:"small"}});return}}N(e);var i=document.getElementById("pe-notification-automation-form");null===i||void 0===i||i.scrollIntoView({behavior:"smooth"})},ce=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var r,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(t),r=Bi()(d),(i=eE(r,qd(s),X)).isValid){e.next=8;break}p(i.campaign),ie.default.error({message:Ua("There is an validation error.","pushengage")}),e.next=25;break;case 8:if(a=rO(r,t,l),e.prev=9,!g){e.next=16;break}return e.next=13,YE(o,g,a);case 13:ie.default.success({message:Ua("Triggered campaign updated.","pushengage")}),e.next=19;break;case 16:return e.next=18,KE(o,a);case 18:ie.default.success({message:Ua("New triggered campaign created.","pushengage")});case 19:n($r.path.campaigns.triggeredCampaign),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(9),e.t0;case 25:x("");case 26:case"end":return e.stop()}}),e,null,[[9,22]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GE(o,t);case 2:200!==(r=e.sent).status||null!==r&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.status||((i=Bi()(d)).errors.campaign_name=Ua("Campaign name already exist in your campaign list.","pushengage"),p(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Pf,{title:Ua("Triggered Campaigns","pushengage")}),(0,st.jsxs)(iy,{children:[I&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.notificationAudience),{},{closeable:!0,onClose:function(){return D(!1)}})),K&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.largeImageNotification),{},{closeable:!0,onClose:function(){Y(!1)}})),U&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.multiActionNotification),{},{closeable:!0,onClose:function(){H(!1)}})),B&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.multipleNotificationInTrigger),{},{closeable:!0,onClose:function(){F(!1)}})),A&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.trigger),{},{closeable:!0})),te?(0,st.jsx)(rt.default,{active:!0}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(aq,{title:d.campaign_name,editable:{editing:!g,onSave:se,error:null===d||void 0===d||null===(e=d.errors)||void 0===e?void 0:e.campaign_name},validateCampaignName:ue}),(0,st.jsx)(_H,{active:Z,placement:"top",type:"trigger",hasBottomBorder:"content"===Z,onClick:function(e){return le(e)},children:"content"===Z&&(0,st.jsxs)(pt.default,{type:"primary",onClick:function(){return le("settings")},size:"large",children:[Ua("Trigger Settings","pushengage"),"\xa0 \u2192"]})}),(0,st.jsxs)(ed.Z,{layout:"vertical",size:"large",id:"pe-notification-automation-form",className:"pe-trigger-campaign-form",children:["content"===Z&&(0,st.jsx)(L$,{campaign:d,notifications:d.notifications,onUpdate:function(e){p((0,kn.Z)((0,kn.Z)({},d),{},{notifications:e}))},togglePremium:function(e,t,n,r){"show"===e?"multiAction"===r?H(!0):"multipleNotification"===r?F(!0):"big_image_enabled"===r&&Y(!0):T(!1)},template:d.campaign_type}),"settings"===Z&&(0,st.jsx)(V$,{campaign:d,onChange:function(e){p((0,kn.Z)({},e))},onSubmit:ce,submitType:b,editing:!!g,onCodeAction:function(){return C(!0)}})]}),"content"===Z&&(0,st.jsx)("div",{className:"pe-pb-64",children:(0,st.jsx)(_H,{placement:"bottom",active:Z,hasTopBorder:!0,type:"trigger",onClick:function(e){return le(e)},children:(0,st.jsxs)(pt.default,{type:"primary",className:"pe-fs-15 pe-fw-600",onClick:function(){return le("settings")},size:"large",children:[Ua("Trigger Settings","pushengage")," \u2192"," "]})})}),_&&(0,st.jsx)(G$,{campaign:d,user:s,settings:X,currentSite:o,onAction:function(){return C(!1)}})]})]})]})},X$=mt.Z.Text,$$=ay.default.TabPane,J$=function(e){var t=e.title,n=e.value;return(0,st.jsxs)(Wc.Z,{size:"small",children:[(0,st.jsx)(gV.default,{type:"secondary",className:"pe-fw-500",children:t}),(0,st.jsx)(X$,{title:ko(n),className:"pe-fs-32 pe-fw-700 pe-lh-130 pe-d-inline-block",children:wo(n)})]})},eJ=function(e){var t=e.stats;return(0,st.jsxs)(dt.Z,{gutter:[16,16],style:{marginBottom:"20px"},children:[(0,st.jsx)(ht.Z,{span:6,children:(0,st.jsx)(J$,{title:Ua("Sent","pushengage"),value:(null===t||void 0===t?void 0:t.sent)||0})}),(0,st.jsx)(ht.Z,{span:6,children:(0,st.jsx)(J$,{title:Ua("Delivered","pushengage"),value:(null===t||void 0===t?void 0:t.delivered)||0})}),(0,st.jsx)(ht.Z,{span:6,children:(0,st.jsx)(J$,{title:Ua("Read","pushengage"),value:(null===t||void 0===t?void 0:t.read)||0})}),(0,st.jsx)(ht.Z,{span:6,children:(0,st.jsx)(J$,{title:Ua("Clicks","pushengage"),value:(null===t||void 0===t?void 0:t.clickCount)||0})})]})},tJ=function(e){var t=e.active,n=e.payload,r=e.label;return t&&null!==n&&void 0!==n&&n.length&&n.length>0?(0,st.jsxs)("div",{style:{backgroundColor:"white",padding:"10px",border:"1px solid #ccc",borderRadius:"4px"},children:[(0,st.jsx)("p",{style:{margin:"0",fontWeight:"bold"},children:r}),n.map((function(e){return(0,st.jsxs)("p",{style:{margin:"0",color:e.color},children:[e.name,": ",e.value.toLocaleString()]},e.name)}))]}):null},nJ={type:"linear",isAnimationActive:!0,dot:!0,activeDot:{r:6},strokeWidth:2},rJ=function(e){var t=e.data;return(0,st.jsx)(Qf.h,{width:"100%",height:300,children:(0,st.jsxs)(Xf.w,{data:t,margin:{top:20,right:30,left:20,bottom:10},children:[(0,st.jsx)($f.q,{strokeDasharray:"1 3",stroke:"#e2e4eb",vertical:!1}),(0,st.jsx)(Jf.K,{dataKey:"date",tickSize:5,minTickGap:40,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fontWeight:500},tickMargin:14}),(0,st.jsx)(eh.B,{tickFormatter:function(e){return wo(e)},style:{fontSize:"13px",fontWeight:500},tickMargin:4,stroke:"#898699",tickSize:5,tickLine:!1,axisLine:!1}),(0,st.jsx)(th.u,{content:(0,st.jsx)(tJ,{})}),(0,st.jsx)(nh.D,{verticalAlign:"bottom",iconType:"square",align:"center",iconSize:13,wrapperStyle:{fontSize:"13px",left:0,bottom:0}}),(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},nJ),{},{dataKey:"sent",name:Ua("Sent","pushengage"),stroke:"#3b43ff"})),(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},nJ),{},{dataKey:"delivered",name:Ua("Delivered","pushengage"),stroke:"#46b450"})),(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},nJ),{},{dataKey:"read",name:Ua("Read","pushengage"),stroke:"#efa04f"})),(0,st.jsx)(rh.x,(0,kn.Z)((0,kn.Z)({},nJ),{},{dataKey:"clicks",name:Ua("Clicks","pushengage"),stroke:"#df2a35"}))]})})},iJ=function(e){var t=e.visible,n=e.onClose,r=e.template,i=e.credentials,a=(0,oe.useState)(!0),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(null),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)(null),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)(null),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useMemo)((function(){var e,t=go({});return e={},(0,ti.Z)(e,io,t[io]),(0,ti.Z)(e,ao,t[ao]),(0,ti.Z)(e,oo,t[oo]),(0,ti.Z)(e,so,t[so]),(0,ti.Z)(e,"Last 60 days",[ei()().subtract(60,"d").startOf("day"),ei()().subtract(1,"d").endOf("day")]),e}),[]),k=(0,oe.useState)(w[so]),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useMemo)((function(){return null===r||void 0===r?void 0:r.id}),[null===r||void 0===r?void 0:r.id]),Z=(0,oe.useCallback)((0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),p(null),S){e.next=6;break}return p("Template ID is missing"),l(!1),e.abrupt("return");case 6:return t=Math.floor(C[0].valueOf()/1e3),n=Math.floor(C[1].valueOf()/1e3),e.prev=8,e.next=11,CO(i,[S],t,n,"DAILY",["SENT","DELIVERED","READ","CLICKED"]);case 11:(r=e.sent).success?m(r.data):p((null===(a=r.error)||void 0===a?void 0:a.message)||"Failed to fetch analytics data"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),p("An unexpected error occurred");case 18:return e.prev=18,l(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[8,15,18,21]])}))),[i,S,C]);(0,oe.useEffect)((function(){t&&r&&i&&Z()}),[t,r,i,Z]);var N=[{title:Ua("Button Text","pushengage"),dataIndex:"button",key:"button"},{title:Ua("Clicks","pushengage"),dataIndex:"count",key:"count"}],E=function(){var e,t;if(null===g||void 0===g||null===(e=g.data)||void 0===e||null===(t=e[0])||void 0===t||!t.data_points)return null;var n=g.data[0].data_points,r={sent:0,delivered:0,read:0,clickCount:0};return n.forEach((function(e){r.sent+=e.sent||0,r.delivered+=e.delivered||0,r.read+=e.read||0,e.clicked&&e.clicked.forEach((function(e){"url_button"!==e.type&&"quick_reply_button"!==e.type||(r.clickCount+=e.count||0)}))})),r}(),O=function(){var e,t;return null!==g&&void 0!==g&&null!==(e=g.data)&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&t.data_points?g.data[0].data_points.map((function(e){var t=0;e.clicked&&e.clicked.forEach((function(e){"url_button"!==e.type&&"quick_reply_button"!==e.type||(t+=e.count||0)}));var n=new Date(1e3*e.start),r=n.toLocaleDateString("en-US",{month:"short",day:"numeric"}).toUpperCase();return{key:e.start,date:r,rawDate:n,sent:e.sent||0,delivered:e.delivered||0,read:e.read||0,clicks:t,deliveryRate:e.sent?(e.delivered||0)/e.sent*100:0,readRate:e.delivered?(e.read||0)/e.delivered*100:0}})).sort((function(e,t){return e.rawDate.getTime()-t.rawDate.getTime()})):[]}(),A=function(){var e,t;if(null===g||void 0===g||null===(e=g.data)||void 0===e||null===(t=e[0])||void 0===t||!t.data_points)return[];var n={};return g.data[0].data_points.forEach((function(e){e.clicked&&e.clicked.forEach((function(e){var t="".concat(e.type,"_").concat(e.button_content);n[t]||(n[t]={button:e.button_content,type:e.type,count:0}),n[t].count+=e.count||0}))})),Object.values(n)}();return(0,st.jsx)(gt.Z,{title:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{children:"Template Analytics"}),(0,st.jsx)(X$,{type:"secondary",className:"pe-fs-14",children:"".concat(r.name," \u2022 ").concat(r.category," \u2022 ").concat(r.language)})]}),destroyOnClose:!0,closeIcon:(0,st.jsx)($c,{}),visible:t,onCancel:n,width:800,footer:null,children:d?(0,st.jsx)(Au.default,{message:Ua("Error","pushengage"),description:d,type:"error",showIcon:!0}):E||s?(0,st.jsxs)(Hc.default,{spinning:s,children:[(0,st.jsx)(dt.Z,{justify:"end",align:"middle",style:{marginBottom:"20px"},children:(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Gf,{initialValue:so,onChange:function(e){var t=ei()().endOf("day"),n=ei()().subtract(85,"d").startOf("day");x(null),e[0].isBefore(n)?x(Ua("Start time must be within the last 90 days.","pushengage")):(e[1].isAfter(t)&&(e[1]=t),j(e))},ranges:w})})}),b&&(0,st.jsx)(Au.default,{message:b,type:"error",showIcon:!0,style:{marginBottom:"20px"}}),(0,st.jsx)(eJ,{stats:E}),(0,st.jsxs)(ay.default,{defaultActiveKey:"daily",children:[(0,st.jsx)($$,{tab:Ua("Daily Stats","pushengage"),children:(0,st.jsx)(rJ,{data:O})},"daily"),A.length>0&&(0,st.jsx)($$,{tab:Ua("Button Clicks","pushengage"),children:(0,st.jsx)(_v.Z,{dataSource:A,columns:N,size:"small",pagination:!1})},"buttons")]})]}):(0,st.jsx)(TY.default,{description:Ua("No analytics data available for this template in selected date range","pushengage")})})},aJ=mt.Z.Link,oJ=function(e){var t=e.title,n=void 0===t?Ua("WhatsApp Not Connected","pushengage"):t,r=e.description,i=void 0===r?Ua("Connect your WhatsApp Business Account to start sending automated messages to your customers.","pushengage"):r,a=e.buttonText,o=void 0===a?Ua("Connect Now","pushengage"):a,s=(0,vt.s0)();return(0,st.jsx)(tg,{subTitle:n,description:i,bullets:[{icon:(0,st.jsx)(uh,{}),text:Ua("Faster support for your visitors","pushengage")},{icon:(0,st.jsx)(kg,{}),text:Ua("Increase conversions with chat","pushengage")},{icon:(0,st.jsx)(Cg,{}),text:Ua("Reach customers on their favorite app","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("Automate replies and flows","pushengage")}],videoUrl:Bg.videoUrl,btnText:o,onClick:function(){s($r.path.whatsapp.settings)},footerText:(0,st.jsxs)(st.Fragment,{children:[Ua("Need help? ","pushengage"),(0,st.jsx)(aJ,{target:"_blank",href:"https://www.pushengage.com/documentation/connect-pushengage-to-whatsapp-business-app/".concat(Qc({utm_medium:"WhatsappNotConnectedCard",utm_content:"Learn how WhatsApp works with PushEngage"})),children:Ua("Learn how WhatsApp works with PushEngage","pushengage")}),"."]})})},sJ=function(e){return!1===e.credentials.isDecryptedAccessTokenValid?(0,st.jsx)(Au.default,{message:Ua("WhatsApp Business Account Access Token has become invalid.","pushengage"),description:Ua("Please update the access token in PushEngage settings to continue sending WhatsApp notifications.","pushengage"),type:"error",className:"pe-mb-16"}):null},lJ=mt.Z.Paragraph,cJ=mt.Z.Text,uJ=mt.Z.Link,dJ=mt.Z.Title,pJ=Rv.default.Option,fJ=function(){var e=bt(Vr),t=(0,oe.useState)([]),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useState)([]),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(!0),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)(null),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)({category:"",language:"",status:"",search:""}),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useState)(!1),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=(0,oe.useState)(!1),S=(0,xe.Z)(j,2),Z=S[0],N=S[1],E=(0,oe.useState)(null),O=(0,xe.Z)(E,2),A=O[0],T=O[1],P=(0,oe.useCallback)(function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,a,o,s,c;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:p(!0),n=!0,r=[],a={limit:100};case 6:if(!n){e.next=13;break}return e.next=9,_O(t,a);case 9:(o=e.sent).success?(r=[].concat((0,we.Z)(r),(0,we.Z)(o.data.data)),o.data.data.length<a.limit?n=!1:null!==(s=o.data.paging)&&void 0!==s&&null!==(c=s.cursors)&&void 0!==c&&c.after?a.after=o.data.paging.cursors.after:n=!1):(ie.default.error({message:Ua("Error fetching WhatsApp templates","pushengage"),description:o.error.message}),n=!1),e.next=6;break;case 13:i(r),l(r);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);(0,oe.useEffect)((function(){function e(){return(e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,ml();case 4:if(null===(t=e.sent)||void 0===t||!t.data||Wi()(t.data)){e.next=9;break}return m(t.data),e.next=9,P(t.data);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),ie.default.error({message:Ua("Error"),description:Ua("Failed to load WhatsApp templates")});case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[P]),(0,oe.useEffect)((function(){if(0!==r.length){var e=(0,we.Z)(r);if(b.category&&(e=e.filter((function(e){return e.category===b.category}))),b.status&&(e=e.filter((function(e){return e.status===b.status}))),b.language&&(e=e.filter((function(e){return e.language===b.language}))),b.search){var t=b.search.toLowerCase();e=e.filter((function(e){return e.name.toLowerCase().includes(t)}))}l(e)}}),[r,b]);var M=(0,oe.useCallback)((function(){var e=r.map((function(e){return e.category}));return Array.from(new Set(e))}),[r]),I=(0,oe.useCallback)((function(){var e=r.map((function(e){return e.status}));return Array.from(new Set(e))}),[r]),D=(0,oe.useCallback)((function(){var e=r.map((function(e){return e.language}));return Array.from(new Set(e))}),[r]),L=[{title:Ua("Template Name","pushengage"),dataIndex:"name",key:"name",render:function(e,t){return(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(cJ,{strong:!0,children:t.name})})}},{title:Ua("Category","pushengage"),dataIndex:"category",key:"category",render:function(e,t){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(cJ,{children:t.category}),t.sub_category&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("br",{}),(0,st.jsx)(cJ,{type:"secondary",className:"pe-fs-10",children:t.sub_category})]})]})}},{title:Ua("Language","pushengage"),dataIndex:"language",key:"language"},{title:Ua("Status","pushengage"),dataIndex:"status",key:"status",render:function(e,t){var n="approved"===t.status.toLowerCase()?"success":"warning";return(0,st.jsx)(nf.default,{color:n,children:t.status})}},{title:Ua("Analytics","pushengage"),dataIndex:"analytics",key:"analytics",render:function(e,t){return(0,st.jsx)(uJ,{onClick:function(){return T(t),void N(!0)},style:{fontWeight:"normal"},children:Ua("View Analytics","pushengage")})}},{title:Ua("Actions","pushengage"),dataIndex:"actions",key:"actions",render:function(e,t){return(0,st.jsxs)(Ju.default,{size:10,children:[(0,st.jsx)(ft.default,{placement:"top",title:Ua("Preview","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(NN,{}),onClick:function(){return T(t),void C(!0)}})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Edit","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:function(){return function(e){var t="https://business.facebook.com/latest/whatsapp_manager/message_templates/?asset_id=".concat(null===g||void 0===g?void 0:g.whatsappBusinessId,"&id=").concat(e);window.open(t,"_blank")}(t.id)}})})]})}}];return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.whatsapp.templates,type:"whatsapp"}),(0,st.jsxs)(iy,{children:[!e&&(0,st.jsx)(rg,(0,kn.Z)((0,kn.Z)({},Bg),{},{btnText:Ua("Complete Your Setup","pushengage")})),g&&(0,st.jsx)(sJ,{credentials:g}),(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",wrap:!1,gutter:[16,16],children:[(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(dJ,{level:4,children:Ua("Message Templates","pushengage")}),(0,st.jsx)(lJ,{type:"secondary",style:{maxWidth:"900px"},children:Ua("Manage your WhatsApp message templates for sending transactional and promotional campaigns. Please note that these templates can be created only in your Meta account, and it must be approved before you use.","pushengage")})]}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{type:"primary",onClick:function(){window.open("https://business.facebook.com/latest/whatsapp_manager/message_templates/?asset_id=".concat(null===g||void 0===g?void 0:g.whatsappBusinessId,"&tab=message-templates"),"_blank")},icon:(0,st.jsx)(iA,{}),children:Ua("Create Template","pushengage")})})]}),(0,st.jsxs)(dt.Z,{gutter:[16,16],className:"pe-my-24",children:[(0,st.jsx)(ht.Z,{xs:24,sm:8,md:6,children:(0,st.jsx)(Yc.default,{placeholder:Ua("Search templates...","pushengage"),prefix:(0,st.jsx)(KY,{style:{color:"#bfbfbf"}}),value:b.search,onChange:function(e){x((function(t){return(0,kn.Z)((0,kn.Z)({},t),{},{search:e.target.value})}))},allowClear:!0})}),(0,st.jsx)(ht.Z,{xs:24,sm:7,md:5,children:(0,st.jsx)(Rv.default,{placeholder:Ua("Filter by category","pushengage"),style:{width:"100%"},onChange:function(e){x((function(t){return(0,kn.Z)((0,kn.Z)({},t),{},{category:e})}))},value:b.category||void 0,allowClear:!0,children:M().map((function(e){return(0,st.jsx)(pJ,{value:e,children:e},e)}))})}),(0,st.jsx)(ht.Z,{xs:24,sm:7,md:5,children:(0,st.jsx)(Rv.default,{placeholder:Ua("Filter by status","pushengage"),style:{width:"100%"},onChange:function(e){x((function(t){return(0,kn.Z)((0,kn.Z)({},t),{},{status:e})}))},value:b.status||void 0,allowClear:!0,children:I().map((function(e){return(0,st.jsx)(pJ,{value:e,children:e},e)}))})}),(0,st.jsx)(ht.Z,{xs:24,sm:7,md:5,children:(0,st.jsx)(Rv.default,{placeholder:Ua("Filter by language","pushengage"),style:{width:"100%"},onChange:function(e){x((function(t){return(0,kn.Z)((0,kn.Z)({},t),{},{language:e})}))},value:b.language||void 0,allowClear:!0,children:D().map((function(e){return(0,st.jsx)(pJ,{value:e,children:e},e)}))})}),(b.category||b.status||b.language||b.search)&&(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{type:"link",onClick:function(){x({category:"",language:"",status:"",search:""})},children:Ua("Clear filters","pushengage")})})]}),r.length>0||d?(0,st.jsx)(_v.Z,{className:"pe-data-table pe-mt-15",columns:L,dataSource:s,size:"middle",rowKey:"id",loading:d,locale:{emptyText:Ua("No templates found.","pushengage")},pagination:{showSizeChanger:!0,pageSizeOptions:[10,20,50,100],showQuickJumper:!1,showTotal:function(e,t){var n=(0,xe.Z)(t,2),r=n[0],i=n[1];return"".concat(r,"-").concat(i," of ").concat(e," ").concat(Ua("templates","pushengage"))}}}):g?(0,st.jsx)(Au.default,{type:"info",message:Ua("No templates found","pushengage"),description:Ua("You don't have any WhatsApp templates yet. Create your first template to get started.","pushengage"),showIcon:!0}):e&&(0,st.jsx)(oJ,{description:Ua("Connect your WhatsApp Business Account to manage message templates.","pushengage")})]})]}),(0,st.jsx)(gt.Z,{title:Ua("Template Preview","pushengage"),visible:_,closeIcon:(0,st.jsx)($c,{}),onCancel:function(){return C(!1)},footer:[(0,st.jsx)(pt.default,{onClick:function(){return C(!1)},children:Ua("Close","pushengage")},"close")],width:400,children:A&&(0,st.jsx)(pA,{template:A})}),A&&g&&(0,st.jsx)(iJ,{visible:Z,onClose:function(){return N(!1)},template:A,credentials:g})]})},hJ=mt.Z.Paragraph,gJ=mt.Z.Title,mJ=function(){var e=(0,oe.useState)(!0),t=(0,xe.Z)(e,2),n=t[0],r=t[1],i=bt(Vr),a=(0,oe.useState)(DO),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)([]),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)(!1),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r={limit:100,after:""},e.prev=2;case 3:if(!n){e.next=10;break}return e.next=6,_O(t,r);case 6:(i=e.sent).success?function(){var e=i.data.data.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{isSupported:RO(e)})}));m((function(t){return[].concat((0,we.Z)(t),(0,we.Z)(e))})),i.data.data.length<r.limit?n=!1:r.after=i.data.paging.cursors.after}():(ie.default.error({message:Ua("Error fetching whatsapp templates"),description:i.error.message}),n=!1),e.next=3;break;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){function e(){return e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,ml();case 4:if(null===(t=e.sent)||void 0===t||!t.data||Wi()(t.data)){e.next=12;break}return p(t.data),x(!0),e.next=10,w(t.data);case 10:e.next=13;break;case 12:x(!1);case 13:return e.next=15,yl();case 15:null!==(n=e.sent)&&void 0!==n&&n.data&&n.data.length>0&&l((function(e){return e.map((function(e){var t,r=null===(t=n.data)||void 0===t?void 0:t.find((function(t){return t.id===e.id}));return r?(0,kn.Z)((0,kn.Z)({},e),r):e}))})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),ie.default.error({message:Ua("Error"),description:Ua("Failed to load WhatsApp automation campaigns")});case 22:return e.prev=22,r(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,19,22,25]])}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var k=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bl(n);case 3:return null!==(r=e.sent)&&void 0!==r&&r.data&&l((function(e){return e.map((function(e){return e.id===t?(0,kn.Z)((0,kn.Z)({},e),r.data):e}))})),e.abrupt("return",{success:!0});case 8:return e.prev=8,e.t0=e.catch(0),ie.default.error({message:Ua("Error"),description:Ua("Failed to save campaign settings")}),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.whatsapp.automation,type:"whatsapp"}),(0,st.jsxs)(iy,{children:[!i&&(0,st.jsx)(rg,(0,kn.Z)((0,kn.Z)({},Bg),{},{btnText:Ua("Complete Your Setup","pushengage")})),d&&(0,st.jsx)(sJ,{credentials:d}),i&&!n&&!b&&(0,st.jsx)("div",{className:"pe-mb-24",children:(0,st.jsx)(oJ,{description:Ua("Connect your WhatsApp Business Account to start setting up automated campaigns.")})}),(0,st.jsx)(Hc.default,{spinning:n,children:(0,st.jsxs)(ag,{children:[(0,st.jsx)(dt.Z,{gutter:[0,16],children:(0,st.jsxs)(ht.Z,{span:24,children:[(0,st.jsx)(gJ,{level:4,children:Ua("Automation")}),(0,st.jsx)(hJ,{type:"secondary",className:"pe-fw-500",children:Ua("Enable automated transactional and promotional campaigns in a few clicks from proven templates.","pushengage")})]})}),(0,st.jsx)(dt.Z,{gutter:[0,16],children:s.map((function(e){return(0,st.jsx)(ht.Z,{span:23,children:(0,st.jsx)(bA,{campaign:e,templateOptions:g,onCampaignChange:function(t){return k(e.id,t)}})},e.id)}))})]})})]})]})},vJ=mt.Z.Title,yJ=mt.Z.Paragraph,bJ=function(e){var t=e.icon,n=e.style,r="".concat(window.pushengage.assetsUrl,"img/whatsapp/").concat(t,".svg");return(0,st.jsx)("img",{src:r,alt:"WhatsApp Icon",style:(0,kn.Z)({},n)})},xJ=function(e){var t=e.settings,n=t.buttonStyle,r=t.buttonSize,i=t.phoneNumber,a=t.greetingMessage,o=t.buttonPosition,s=t.horizontalOffset,l=t.verticalOffset,c=t.zIndex,u={boxShadow:"0 3px 20px rgba(0, 0, 0, 0.2)",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",width:"".concat(r,"px"),height:"".concat(r,"px")},d=function(){var e=s||20,t=l||20,n={position:"absolute",zIndex:c||9999};switch(o){case"bottom-left":return(0,kn.Z)((0,kn.Z)({},n),{},{bottom:"".concat(t,"px"),left:"".concat(e,"px")});case"left-middle":return(0,kn.Z)((0,kn.Z)({},n),{},{left:"".concat(e,"px"),top:"50%",transform:"translateY(-50%)"});case"right-middle":return(0,kn.Z)((0,kn.Z)({},n),{},{right:"".concat(e,"px"),top:"50%",transform:"translateY(-50%)"});default:return(0,kn.Z)((0,kn.Z)({},n),{},{bottom:"".concat(t,"px"),right:"".concat(e,"px")})}}(),p=Math.floor(r/1.414);return(0,st.jsx)("div",{style:{position:"relative",height:"400px",width:"100%",backgroundColor:"#f9f9f9"},children:(0,st.jsx)("div",{style:d,children:(0,st.jsx)("a",{href:"https://wa.me/".concat(i,"?text=").concat(a),target:"_blank",rel:"noopener noreferrer",children:(0,st.jsx)("div",{style:u,children:(0,st.jsx)(bJ,{icon:function(e){switch(e){case"style1":default:return"icon-1";case"style2":return"icon-2";case"style3":return"icon-3";case"style4":return"icon-4"}}(n),style:{width:"".concat(p,"px"),height:"".concat(p,"px")}})})})})})},wJ=[{key:"style1",icon:"icon-1"},{key:"style2",icon:"icon-2"},{key:"style3",icon:"icon-3"},{key:"style4",icon:"icon-4"}],kJ=(0,oe.forwardRef)((function(e,t){var n=e.initialValues,r=void 0===n?LO:n,i=ed.Z.useForm(),a=(0,xe.Z)(i,1)[0],o=(0,oe.useState)(r.buttonStyle||"style1"),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(r),d=(0,xe.Z)(u,2),p=d[0],f=d[1];(0,oe.useEffect)((function(){a.setFieldsValue(r),c(r.buttonStyle||"style1"),f(r)}),[a,r]),(0,oe.useImperativeHandle)(t,(function(){return{validateForm:function(){return(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.validateFields();case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},getFormValues:function(){return a.getFieldsValue(!0)}}}),[a]);var h=function(e){c(e),a.setFieldsValue({buttonStyle:e});var t=(0,kn.Z)((0,kn.Z)({},p),{},{buttonStyle:e});f(t)};return(0,st.jsxs)("div",{children:[(0,st.jsxs)("div",{className:"pe-mb-24",children:[(0,st.jsx)(vJ,{level:4,children:Ua("WhatsApp Click To Chat Settings")}),(0,st.jsx)(yJ,{className:"pe-fw-500",type:"secondary",children:Ua("Set up WhatsApp Click to Chat and turn confused web browsing into engaged conversations.")})]}),(0,st.jsxs)(dt.Z,{gutter:24,justify:"space-between",children:[(0,st.jsx)(ht.Z,{xs:24,md:16,children:(0,st.jsxs)(ed.Z,{form:a,layout:"horizontal",initialValues:r,requiredMark:!1,colon:!1,labelAlign:"left",labelCol:{span:6},wrapperCol:{span:18},onValuesChange:function(e){var t=(0,kn.Z)((0,kn.Z)({},p),e);f(t)},children:[(0,st.jsx)(ed.Z.Item,{name:"enabled",label:Ua("Enable"),valuePropName:"checked",children:(0,st.jsx)(Vy.default,{children:Ua("Enable WhatsApp Click to Chat")})}),(0,st.jsx)(ed.Z.Item,{name:"phoneNumber",label:Ua("WhatsApp Number"),messageVariables:{name:Ua("WhatsApp Number")},rules:[{required:!0},{pattern:/^[0-9]+$/,message:Ua("Please enter only digits without the + sign (e.g. 919876543210).")},{validator:function(e,t){return!t||t.length>=10&&t.length<=15?Promise.resolve():Promise.reject(new Error(Ua("Phone number should be between 10 and 15 digits including country code.")))}}],extra:Ua("Enter your WhatsApp number with country code without + sign (e.g. 919876543210)."),children:(0,st.jsx)(Yc.default,{})}),(0,st.jsx)(ed.Z.Item,{name:"greetingMessage",label:Ua("Greeting Message"),messageVariables:{name:Ua("Greeting Message")},rules:[{required:!0}],extra:Ua("This text will be added to user's WhatsApp chat text field when they click on the button."),children:(0,st.jsx)(Yc.default,{})}),(0,st.jsx)(ed.Z.Item,{name:"buttonStyle",label:Ua("Button Style"),messageVariables:{name:Ua("Button Style")},rules:[{required:!0}],extra:Ua("Choose a button style. The selected style will be displayed on your website."),children:(0,st.jsx)(zy.default.Group,{value:l,onChange:function(e){return h(e.target.value)},style:{width:"100%"},className:"pe-style-selector",children:(0,st.jsx)(Ju.default,{direction:"horizontal",wrap:!0,children:wJ.map((function(e){return(0,st.jsx)(Wc.Z,{hoverable:!0,style:{borderColor:l===e.key?"#25D366":"#d9d9d9",backgroundColor:l===e.key?"#f6ffed":"white",width:"120px"},bodyStyle:{padding:"16px"},onClick:function(){return h(e.key)},children:(0,st.jsxs)(Ju.default,{direction:"horizontal",size:24,align:"center",children:[(0,st.jsx)(zy.default,{value:e.key}),(0,st.jsx)(bJ,{icon:e.icon,style:{height:"32px",width:"32px"}})]})},e.key)}))})})}),(0,st.jsx)(ed.Z.Item,{name:"buttonSize",label:Ua("Button Size"),messageVariables:{name:Ua("Button Size")},rules:[{required:!0}],extra:Ua("Set the size of the button in pixels."),children:(0,st.jsx)(rW.Z,{min:30,max:100,addonAfter:"px",style:{width:"150px"}})}),(0,st.jsx)(ed.Z.Item,{name:"buttonPosition",label:Ua("Button Position"),messageVariables:{name:Ua("Button Position")},rules:[{required:!0}],extra:Ua("Choose where the button appears on your website."),children:(0,st.jsx)(zy.default.Group,{children:(0,st.jsxs)(Ju.default,{direction:"horizontal",wrap:!0,children:[(0,st.jsx)(zy.default,{value:"bottom-right",children:Ua("Bottom Right")}),(0,st.jsx)(zy.default,{value:"bottom-left",children:Ua("Bottom Left")}),(0,st.jsx)(zy.default,{value:"right-middle",children:Ua("Right Middle")}),(0,st.jsx)(zy.default,{value:"left-middle",children:Ua("Left Middle")})]})})}),(0,st.jsx)(ed.Z.Item,{name:"horizontalOffset",label:Ua("Horizontal Offset"),messageVariables:{name:Ua("Horizontal Offset")},rules:[{required:!0}],extra:Ua("Distance from the edge of the screen horizontally."),children:(0,st.jsx)(rW.Z,{min:1,max:200,addonAfter:"px",style:{width:"150px"}})}),(0,st.jsx)(ed.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.buttonPosition!==t.buttonPosition},children:function(e){var t=(0,e.getFieldValue)("buttonPosition")||p.buttonPosition;return"bottom-right"===t||"bottom-left"===t?(0,st.jsx)(ed.Z.Item,{name:"verticalOffset",label:Ua("Vertical Offset"),messageVariables:{name:Ua("Vertical Offset")},rules:[{required:!0}],extra:Ua("Distance from the edge of the screen vertically (applies to bottom positions)."),children:(0,st.jsx)(rW.Z,{min:1,max:200,addonAfter:"px",style:{width:"150px"}})}):null}}),(0,st.jsx)(ed.Z.Item,{name:"zIndex",label:Ua("Z-Index"),messageVariables:{name:Ua("Z-Index")},rules:[{required:!0}],extra:Ua("Controls the stacking order of the button. Higher values appear above other elements (recommended: 9999)."),children:(0,st.jsx)(rW.Z,{min:1,max:999999,style:{width:"150px"}})})]})}),(0,st.jsx)(ht.Z,{xs:24,md:8,children:(0,st.jsx)(Wc.Z,{bodyStyle:{padding:0},className:"pe-mt-64",children:(0,st.jsx)(xJ,{settings:p})})})]})]})}));kJ.displayName="WhatsappClickToChatForm";var _J=kJ,CJ=function(){var e=nx(),t=bt(Vr),n=(0,oe.useState)(!1),r=(0,xe.Z)(n,2),i=r[0],a=r[1],o=(0,oe.useState)(!1),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)(!1),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)("cloud-api"===e.get("tab")?"cloud-api":"chat-widgets"),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useRef)(null),_=(0,oe.useRef)(null),C=(0,oe.useState)({whatsappBusinessId:"",whatsappPhoneNumber:"",phoneNumberId:"",accessToken:""}),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)(LO),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,ml();case 4:null!==(t=e.sent)&&void 0!==t&&t.data&&Z(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.default.error({message:Ua("Error"),description:Ua("Failed to load WhatsApp settings. Please try again.")});case 11:return e.prev=11,a(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,xl();case 4:null!==(t=e.sent)&&void 0!==t&&t.data&&A(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.default.error({message:Ua("Error"),description:Ua("Failed to load WhatsApp Click To Chat settings. Please try again.")});case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){T(),P()}),[]);var M=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k.current){e.next=29;break}return e.prev=1,f(!0),e.next=5,k.current.validateForm();case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return t=k.current.getFormValues(),e.next=11,vl(t);case 11:return Z(t),ie.default.success({message:Ua("Success"),description:Ua("Settings updated successfully!")}),e.prev=13,e.next=16,Wv({data:{whatsapp:{status:"connected",connected_at:(new Date).toISOString()}}});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(13),console.error(e.t0);case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(1),ie.default.error({message:Ua("Error"),description:Ua("Failed to update settings. Please try again.")});case 26:return e.prev=26,f(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[1,23,26,29],[13,18]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.current){e.next=23;break}return e.prev=1,v(!0),e.next=5,_.current.validateForm();case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return t=_.current.getFormValues(),e.next=11,wl(t);case 11:return A(t),ie.default.success({message:Ua("Success"),description:Ua("Settings updated successfully!")}),e.next=15,Wv({data:{click_to_chat:{status:t.enabled?"enabled":"disabled",enabled_at:t.enabled?(new Date).toISOString():void 0,disabled_at:t.enabled?void 0:(new Date).toISOString()}}});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),ie.default.error({message:Ua("Error"),description:Ua("Failed to update settings. Please try again.")});case 20:return e.prev=20,v(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})));return function(){return e.apply(this,arguments)}}(),D=(0,oe.useMemo)((function(){return Boolean(window.pushengage.isWhatsappClickToChatConfigured)}),[]);return(0,oe.useEffect)((function(){var e=!0;return e&&w(D?x:"cloud-api"),function(){e=!1}}),[D,x]),(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.whatsapp.settings,type:"whatsapp"}),(0,st.jsxs)(iy,{children:[!t&&(0,st.jsx)(rg,(0,kn.Z)((0,kn.Z)({},Bg),{},{btnText:Ua("Complete Your Setup","pushengage")})),S&&(0,st.jsx)(sJ,{credentials:S}),(0,st.jsx)(ag,{children:(0,st.jsxs)(ay.default,{activeKey:x,tabPosition:"top",type:"card",onChange:w,className:"pe-whatsapp-settings-tabs",children:[D&&(0,st.jsx)(ay.default.TabPane,{tab:Ua("Chat Widgets"),children:(0,st.jsxs)(Hc.default,{spinning:l,children:[(0,st.jsx)(_J,{ref:_,initialValues:O}),(0,st.jsx)(pt.default,{type:"primary",onClick:I,loading:m,children:Ua("Save Changes")})]})},"chat-widgets"),(0,st.jsx)(ay.default.TabPane,{tab:Ua("WhatsApp Cloud API"),children:(0,st.jsxs)(Hc.default,{spinning:i,children:[(0,st.jsx)(OO,{ref:k,initialValues:S}),(0,st.jsx)(pt.default,{type:"primary",onClick:M,loading:p,children:Ua("Save Changes")})]})},"cloud-api")]})})]})]})};function jJ(e){var t=function(e,t){if("object"!==(0,Ol.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==(0,Ol.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,Ol.Z)(t)?t:String(t)}var SJ=function(e){var t=e.className,n=e.onMigrate,r=(0,vt.s0)(),i=(0,oe.useState)(!1),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)(!1),c=(0,xe.Z)(l,2),u=c[0],d=c[1];if((0,oe.useEffect)((function(){var e=!0,t=window.pushengage.isWhatsappClickToChatConfigured;return e&&s(Boolean(t)),function(){e=!1}}),[]),!o)return null;var p=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof n){e.next=9;break}return e.prev=1,d(!0),e.next=5,Promise.resolve(n());case 5:return e.prev=5,d(!1),e.finish(5);case 8:return e.abrupt("return");case 9:r($r.path.clickToChatV2.editor);case 10:case"end":return e.stop()}}),e,null,[[1,,5,8]])})));return function(){return e.apply(this,arguments)}}();return(0,st.jsx)(Wc.Z,{bordered:!0,className:t,bodyStyle:{padding:16},style:{marginBottom:16},children:(0,st.jsxs)(dt.Z,{gutter:[16,16],align:"middle",children:[(0,st.jsx)(ht.Z,{xs:24,md:14,lg:12,children:(0,st.jsxs)(Ju.default,{direction:"vertical",size:8,style:{width:"100%"},children:[(0,st.jsx)("div",{className:"pe-ta-left",children:(0,st.jsx)(mt.Z.Title,{level:2,className:"pe-fw-600 pe-fs-24",children:Ua("Your Chat Widget Just Got a Major Upgrade!","pushengage")})}),(0,st.jsx)(mt.Z.Paragraph,{className:"pe-fs-16 pe-color-secondary pe-ma-0 pe-pa-0",children:Ua("We upgraded the chat widget to support a whole host of channels beyond just WhatsApp. Because customers don\u2019t just \u201cchat\u201d\u2014they jump. From WhatsApp to Instagram. From SMS to email.","pushengage")}),(0,st.jsx)(mt.Z.Title,{level:3,children:Ua("Now your messages can follow them seamlessly","pushengage")}),(0,st.jsx)("div",{className:"pe-ta-left",children:(0,st.jsxs)(Ju.default,{direction:"vertical",size:6,children:[(0,st.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,st.jsx)(Wf,{className:"pe-color-green pe-fs-16"}),(0,st.jsx)(mt.Z.Text,{className:"pe-fw-500 pe-fs-16",children:Ua("Turn passive visitors into live conversations instantly","pushengage")})]}),(0,st.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,st.jsx)(Wf,{className:"pe-color-green pe-fs-16"}),(0,st.jsx)(mt.Z.Text,{className:"pe-fw-500 pe-fs-16",children:Ua("Offer support on their channel of choice (social, messaging, phone, maps)","pushengage")})]}),(0,st.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,st.jsx)(Wf,{className:"pe-color-green pe-fs-16"}),(0,st.jsx)(mt.Z.Text,{className:"pe-fw-500 pe-fs-16",children:Ua("Reduce drop-offs with personalized routing & smart targeting","pushengage")})]}),(0,st.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,st.jsx)(Wf,{className:"pe-color-green pe-fs-16"}),(0,st.jsx)(mt.Z.Text,{className:"pe-fw-500 pe-fs-16",children:Ua("Enjoy a modern UI, lightning performance & future-ready updates","pushengage")})]})]})}),(0,st.jsxs)(Ju.default,{className:"pe-mt-16",direction:"vertical",children:[(0,st.jsx)(pt.default,{style:{minWidth:253,height:45},type:"primary",className:"pe-fs-16 pe-fw-500",onClick:p,icon:(0,st.jsx)(Sh,{}),loading:u,children:Ua("Switch to the New Chat Widget","pushengage")}),(0,st.jsx)(pt.default,{className:"pe-btn-text pe-text-sm pe-color-secondary pe-fs-13",style:{padding:0},type:"text",onClick:function(){return r($r.path.whatsapp.settings)},children:Ua("No thanks, I want to keep using the WhatsApp widget only.","pushengage")})]})]})}),(0,st.jsx)(ht.Z,{xs:24,md:10,lg:12,style:{textAlign:"center"},children:(0,st.jsx)("a",{href:"".concat(window.pushengage.pluginDashboardUrl,"chat-widgets/editor"),children:(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/chatwidget-banner.png"),alt:"Chat Widget Banner",width:500,height:500,style:{width:"100%",height:"100%"}})})})]})})},ZJ=function(e){var t=e.value,n=e.onChange,r=e.disabled,i=(0,oe.useState)(t),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=CK((function(e){return n(e)}),600);return(0,oe.useEffect)((function(){t!==o&&s(t)}),[t]),(0,st.jsx)(uH,{left:(0,st.jsx)(Yc.default,{placeholder:Ua("Search by widget name","pushengage"),value:o,onChange:function(e){var t=e.target.value;s(t),Boolean(r)||(""===t?n(""):l(t))},allowClear:!0,style:{minWidth:260},disabled:Boolean(r)}),classes:"pe-py-10"})},NJ=function(){return(0,st.jsx)(dt.Z,{gutter:[16,16],children:[0,1,2].map((function(e){return(0,st.jsx)(ht.Z,{xs:24,sm:12,md:8,lg:8,xl:8,style:{display:"flex"},children:(0,st.jsx)(Wc.Z,{className:"pe-ctc-card",bordered:!0,bodyStyle:{padding:16},style:{height:"100%",width:"100%"},children:(0,st.jsx)(rt.default,{active:!0,paragraph:{rows:6}})})},e)}))})},EJ=function(e){var t=e.title,n=e.onClick,r=_u();return(0,st.jsx)(mt.Z.Text,{className:"pe-cursor-pointer primary-on-hover pe-fs-14 pe-fw-600",ellipsis:!0,title:t,style:{maxWidth:r.isDesktop?"500px":"200px"},onClick:n,children:t})},OJ=function(e){var t=String(e||"").toLowerCase();if("whatsapp"===t)return{Icon:xv,label:"WhatsApp",color:"#25D366"};if("phone"===t)return{Icon:nA,label:Ua("Phone","pushengage")};if("email"===t)return{Icon:mv,label:Ua("Email","pushengage")};if("sms"===t)return{Icon:hg,label:"SMS"};if("google_maps"===t)return{Icon:ov,label:Ua("Maps","pushengage")};if("contact_form"===t)return{Icon:oA,label:Ua("Form","pushengage")};if("messenger"===t)return{Icon:hg,label:"Messenger"};if("instagram_dm"===t)return{Icon:hg,label:"Instagram DM"};if("instagram_page"===t)return{Icon:hg,label:"Instagram"};if("telegram"===t)return{Icon:hg,label:"Telegram"};if("viber"===t)return{Icon:hg,label:"Viber"};if("twitter"===t)return{Icon:hg,label:"Twitter"};if("wechat"===t)return{Icon:hg,label:"WeChat"};if("snapchat"===t)return{Icon:hg,label:"Snapchat"};if("tiktok"===t)return{Icon:hg,label:"TikTok"};if("waze"===t)return{Icon:ov,label:"Waze"};if("linkedin"===t)return{Icon:hg,label:"LinkedIn"};if("vkontakte"===t)return{Icon:hg,label:"VK"};if("slack"===t)return{Icon:hg,label:"Slack"};if("discord"===t)return{Icon:hg,label:"Discord"};if("microsoft_teams"===t)return{Icon:hg,label:"Teams"};if("line"===t)return{Icon:hg,label:"LINE"};if("custom"===t)return{Icon:hg,label:Ua("Custom","pushengage")};var n=t.replace(/_/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()}));return{Icon:hg,label:n}},AJ=function(e){var t,n,r,i=e.row,a=e.isUpdating,o=e.isDeleting,s=e.onEdit,l=e.onToggle,c=e.onDuplicate,u=e.onDelete,d=e.onViewAnalytics,p=(null===(t=i.display_rules)||void 0===t?void 0:t.rule_groups)||[],f=(n=[]).concat.apply(n,(0,we.Z)(p.map((function(e){return Array.isArray(null===e||void 0===e?void 0:e.rules)?e.rules:[]})))),h=f.filter((function(e){return e&&"country"===e.type})),g=Array.from(new Set(h.filter((function(e){return"in"===e.op})).reduce((function(e,t){return e.concat(Array.isArray(null===t||void 0===t?void 0:t.value)?t.value:[])}),[]).filter((function(e){return"string"===typeof e&&e.trim().length>0})))),m=Array.from(new Set(h.filter((function(e){return"nin"===e.op})).reduce((function(e,t){return e.concat(Array.isArray(null===t||void 0===t?void 0:t.value)?t.value:[])}),[]).filter((function(e){return"string"===typeof e&&e.trim().length>0})))),v=g.length>0,y=m.length>0,b=v?g.join(", "):y?"".concat(Ua("All except","pushengage")," ").concat(m.join(", ")):Ua("All","pushengage"),x=f.filter((function(e){return e&&["wp_page","url"].indexOf(e.type)>-1})),w=function(e){if("wp_page"===(null===e||void 0===e?void 0:e.type)){var t=null===e||void 0===e?void 0:e.value;return t&&"object"===typeof t?(null===t||void 0===t?void 0:t.title)||Ua("WP Page","pushengage"):"number"===typeof t?"#".concat(t):Ua("WP Page","pushengage")}return"url"===(null===e||void 0===e?void 0:e.type)?"".concat(function(e){var t=String(e||"starts_with").toLowerCase();return"starts_with"===t?Ua("Starts With","pushengage"):"contains"===t?Ua("Contains","pushengage"):"ends_with"===t?Ua("Ends With","pushengage"):"eq"===t?Ua("Equals","pushengage"):t.replace(/_/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()}))}(null===e||void 0===e?void 0:e.op),": ").concat((null===e||void 0===e?void 0:e.value)||""):""},k=function(){if(!x.length)return Ua("All pages","pushengage");var e=x.slice(0,2).map(w).filter(Boolean),t=x.length-e.length;return t>0?"".concat(e.join(", ")," +").concat(t," ").concat(Ua("more","pushengage")):e.join(", ")}(),_=x.map(w).filter(Boolean),C=null===(r=i.display_rules)||void 0===r?void 0:r.business_hours,j="boolean"===typeof C?C:Boolean(null===C||void 0===C?void 0:C.enabled),S=Ua(j?"On":"Off","pushengage");return(0,st.jsxs)(Wc.Z,{className:"pe-ctc-card",bordered:!0,hoverable:!0,bodyStyle:{padding:16},style:{height:"100%",width:"100%"},title:(0,st.jsx)("div",{style:{display:"flex",alignItems:"center",gap:8},children:(0,st.jsx)(EJ,{title:i.name,onClick:s})}),extra:(0,st.jsx)(Lv.Z,{checked:"enabled"===i.status,loading:Boolean(a),onChange:l}),children:[(0,st.jsxs)("div",{className:"pe-fs-13 pe-text-muted",style:{display:"flex",alignItems:"center",gap:6},children:[(0,st.jsx)(hN,{}),(0,st.jsxs)("span",{className:"pe-fw-600",children:[Ua("Channels","pushengage"),": "]}),(0,st.jsxs)(Ju.default,{size:8,wrap:!0,children:[i.channels.slice(0,2).map((function(e){var t=OJ(e),n=t.Icon;return(0,st.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[(0,st.jsx)(n,{style:{fontSize:14,color:t.color||void 0}}),(0,st.jsx)("span",{children:t.label})]},e)})),i.channels.length>2?(0,st.jsx)(ft.default,{placement:"top",title:(0,st.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:i.channels.slice(2).map((function(e){var t=OJ(e),n=t.Icon;return(0,st.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[(0,st.jsx)(n,{style:{fontSize:14,color:t.color||void 0}}),(0,st.jsx)("span",{children:t.label})]},e)}))}),children:(0,st.jsxs)(mt.Z.Text,{type:"secondary",children:["+",i.channels.length-2," ",Ua("more","pushengage")]})}):null]})]}),(0,st.jsx)(Cu.Z,{style:{margin:"10px 0"}}),(0,st.jsxs)("div",{className:"pe-fs-13",children:[(0,st.jsx)("div",{children:(0,st.jsxs)("span",{className:"pe-fw-600",style:{display:"inline-flex",alignItems:"center",gap:6},children:[(0,st.jsx)(NN,{})," ",Ua("Display rules","pushengage"),":"]})}),(0,st.jsx)("div",{className:"pe-text-muted",children:"".concat(Ua("Business hours","pushengage"),": ").concat(S)}),(0,st.jsxs)("div",{className:"pe-text-muted",children:["".concat(Ua("Pages/URLs","pushengage"),": "),x.length>2?(0,st.jsx)(ft.default,{placement:"top",title:(0,st.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:_.map((function(e,t){return(0,st.jsx)("span",{children:e},"pg-".concat(t))}))}),children:(0,st.jsx)(mt.Z.Text,{type:"secondary",children:k})}):k]}),(0,st.jsx)("div",{className:"pe-text-muted",children:"".concat(Ua("Country targeting","pushengage"),": ").concat(b)}),(0,st.jsxs)("div",{className:"pe-text-muted",style:{display:"flex",alignItems:"center",gap:6},children:["".concat(Ua("Devices","pushengage"),":"),(0,st.jsx)(Ju.default,{size:6,children:(i.show_on||["desktop","tablet","mobile"]).map((function(e){return"desktop"===e?(0,st.jsx)(nV,{},e):"tablet"===e?(0,st.jsx)(FV,{},e):(0,st.jsx)(Ng,{},e)}))})]})]}),(0,st.jsx)(Cu.Z,{style:{margin:"10px 0"}}),(0,st.jsxs)(Ju.default,{size:10,wrap:!0,children:[(0,st.jsx)(ft.default,{placement:"top",title:Ua("Edit","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:s,disabled:Boolean(a)})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Duplicate","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Sh,{}),onClick:c,disabled:Boolean(a)})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("View Analytics","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Ov,{}),onClick:d,disabled:Boolean(a)})}),(0,st.jsx)(ft.default,{placement:"top",title:Ua("Delete","pushengage"),children:(0,st.jsx)(nW.Z,{title:Ua("Are you sure you want to delete this widget?","pushengage"),okText:Ua("Delete","pushengage"),cancelText:Ua("Cancel","pushengage"),okType:"danger",onConfirm:u,disabled:Boolean(o),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Nh,{}),loading:Boolean(o),disabled:Boolean(a)})})})]})]})},TJ=function(e){var t=e.disabled,n=e.height,r=e.onClick;return(0,st.jsx)(Wc.Z,{className:"pe-ctc-card",bordered:!0,hoverable:!0,onClick:function(){t||r()},bodyStyle:{padding:16,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},style:{border:"1px dashed #d9d9d9",width:"100%",cursor:t?"not-allowed":"pointer",opacity:t?.5:1,pointerEvents:t?"none":"auto",height:n||"100%"},children:(0,st.jsxs)("div",{style:{textAlign:"center"},children:[(0,st.jsx)("div",{style:{width:72,height:72,borderRadius:"50%",border:"1px dashed #d9d9d9",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px",background:"#fafafa"},children:(0,st.jsx)(fE,{style:{fontSize:28,color:"#999"}})}),(0,st.jsx)(mt.Z.Text,{type:"secondary",className:"pe-fw-600",children:Ua("Add new Widget","pushengage")})]})})},PJ=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,oe.useState)(0),n=(0,xe.Z)(t,2),r=n[0],i=n[1];return(0,oe.useEffect)((function(){var e=function(){var e=Array.prototype.slice.call(document.querySelectorAll(".pe-ctc-card"));if(e.length){var t=e.map((function(e){var t=e.getBoundingClientRect();return t&&t.height?t.height:0})),n=Math.max.apply(null,t);i(Math.ceil(n))}else i(0)},t=window.requestAnimationFrame(e);return window.addEventListener("resize",e),function(){window.cancelAnimationFrame(t),window.removeEventListener("resize",e)}}),e),r},MJ=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r,i,a,o,s,l,c,u;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_f(t,{status:"enabled",limit:100,page:1});case 3:if(r=e.sent,i=Array.isArray(null===r||void 0===r?void 0:r.data)?r.data:[],a=0,o=0,s=0,i.forEach((function(e){"enabled"===(null===e||void 0===e?void 0:e.status)&&(a+=1);var t=e&&e.config&&"object"===typeof e.config?e.config:e;(Array.isArray(null===t||void 0===t?void 0:t.channels)?t.channels:[]).forEach((function(e){if(e&&!1!==e.enabled){o+=1;var t=Array.isArray(e.agents)?e.agents:[];s+=t.length}}));var n=null!==e&&void 0!==e&&e.created_at?new Date(e.created_at):null;if(n&&!isNaN(n)){var r=n.toISOString();(!l||new Date(r).getTime()<new Date(l).getTime())&&(l=r)}})),c={data:{chat_widget:{active_widgets:a,no_of_active_channels:o,no_of_agents:s,avg_channels_per_widget:a>0?Number((o/a).toFixed(2)):0}}},n&&(u="pe_chat_widget_first_created_tracked",!("undefined"!==typeof window?window.localStorage.getItem(u):null))){c.data=c.data||{},c.data.chat_widget=c.data.chat_widget||{},c.data.chat_widget.widget_created_at_first=(new Date).toISOString();try{"undefined"!==typeof window&&window.localStorage.setItem(u,"1")}catch(d){}}return e.next=13,Wv(c);case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),IJ=function(e){var t=e.selectedWidgetId,n=e.widgetOptions,r=e.onWidgetChange,i=e.initialDateRangeKey,a=e.preDefinedDateRange,o=e.onDateRangeChange,s=e.isExporting,l=e.hasUserOnboarded,c=e.onExport;return(0,st.jsxs)(dt.Z,{justify:"space-between",className:"pe-mb-16",children:[(0,st.jsx)(ht.Z,{className:"pe-d-flex pe-align-items-center",children:(0,st.jsxs)(mt.Z.Title,{className:"pe-mb-0 pe-lh-130",level:3,children:[Ua("Analytics Overview","pushengage"),(0,st.jsx)(ft.default,{placement:"top",title:Ua("A complete overview of your chat widget interactions and conversations.","pushengage"),children:(0,st.jsx)(yg,{className:"pe-ml-4 pe-fs-16 pe-cursor-help"})}),(0,st.jsx)(pt.default,{type:"link",size:"small",className:"pe-ant-btn-export",icon:(0,st.jsx)(Th,{}),disabled:s||!l,loading:s,onClick:c,children:Ua("Export","pushengage")})]})}),(0,st.jsx)(ht.Z,{children:(0,st.jsxs)(dt.Z,{gutter:8,align:"middle",children:[(0,st.jsx)(ht.Z,{style:{width:200},children:(0,st.jsx)(Rv.default,{style:{width:"100%"},value:t,onChange:r,options:n,disabled:!l,size:"small"})}),(0,st.jsx)(ht.Z,{flex:1,children:(0,st.jsx)(Gf,{initialValue:i,onChange:o,ranges:a})})]})})]})},DJ=function(e){var t=e.summary,n=e.isLoading,r=e.previousDaysCount,i=(0,oe.useMemo)((function(){var e=null===t||void 0===t?void 0:t.totals,n=Number((null===e||void 0===e?void 0:e.total_interactions)||0),r=Number((null===e||void 0===e?void 0:e.total_chats)||0),i=n>0?Math.round(r/n*100):0;return[{title:(0,st.jsxs)("span",{className:"pe-inline-flex pe-items-center",style:{gap:6},children:[(0,st.jsx)(hg,{className:"pe-fs-14 pe-color-neutral-60"}),Ua("Widget Interactions","pushengage")]}),value:n,count:n,tooltip:Ua("Total number of times users interacted with your chat widget, including opening and engaging with the chat interface.","pushengage")},{title:(0,st.jsxs)("span",{className:"pe-inline-flex pe-items-center",style:{gap:6},children:[(0,st.jsx)(od,{className:"pe-fs-14 pe-color-neutral-60"}),Ua("Chat Initiated","pushengage")]}),value:r,count:r,tooltip:Ua("Total number of chat sessions initiated by users clicking on channel links or starting conversations through the chat widget or agents.","pushengage")},{title:(0,st.jsxs)("span",{className:"pe-inline-flex pe-items-center",style:{gap:6},children:[(0,st.jsx)(Lf,{className:"pe-fs-14 pe-color-neutral-60"}),Ua("CTR","pushengage")]}),value:i,count:i,tooltip:Ua("Click-through rate (CTR) represents the percentage of interactions that resulted in initiated chat sessions. Calculated as (Clicks / Interactions) \xd7 100.","pushengage")}]}),[t]);return(0,st.jsx)(dt.Z,{className:"pe-statics-cards pe-mb-20",gutter:[16,16],children:i.map((function(e){return(0,st.jsx)(ht.Z,{className:"pe-statics-card",children:(0,st.jsx)(ug,{isLoadingStats:n,title:e.title,value:e.value,count:e.count,previousDaysCount:r,tooltip:e.tooltip})},String(e.title))}))})},LJ=function(e){var t=e.active,n=e.payload,r=e.activeSeries;if(t&&n&&n.length){var i,a,o=n[0],s=(null===(i=o.payload)||void 0===i?void 0:i.timeSlot)||(null===(a=o.payload)||void 0===a?void 0:a.label)||"",l=o.value||0,c="interactions"===r?"".concat(Ua("Interactions:","pushengage")," ").concat(l):"".concat(Ua("Chat Initiated:","pushengage")," ").concat(l);return(0,st.jsxs)("div",{style:{backgroundColor:"#fff",padding:"8px 12px",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[(0,st.jsxs)("p",{style:{margin:0,color:"#1f2937",fontSize:"14px"},children:[Ua("Time:","pushengage")," ",s]}),(0,st.jsx)("p",{style:{margin:0,color:"#1f2937",fontSize:"14px"},children:c})]})}return null},RJ=function(e){var t=e.dateRange,n=e.summary,r=e.activeSeries,i=e.activeTab,a=e.onSeriesChange,o=(0,oe.useMemo)((function(){if(!t||!n)return[];var e=t[0].startOf("day"),r=[],i={};((null===n||void 0===n?void 0:n.busy_hours)||[]).forEach((function(e){var t=Number(e.hour);i[t]={interactions:Number(e.interactions||0),chats:Number(e.chats||0)}}));for(var a=0;a<24;a+=1){var o,s,l=e.clone().hour(a).format("HH:00"),c=(null===(o=i[a])||void 0===o?void 0:o.interactions)||0,u=(null===(s=i[a])||void 0===s?void 0:s.chats)||0;r.push({label:l,interactions:c,clicks:u})}return r}),[t,n]),s=(0,oe.useMemo)((function(){var e=(null===n||void 0===n?void 0:n.busy_hours)||[];return!!e.length&&e.some((function(e){return Number(e.interactions||0)>0||Number(e.chats||0)>0}))}),[n]),l=(0,oe.useMemo)((function(){return s&&o.length?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(!e||0===e.length)return null;for(var r=e.map((function(e){return"interactions"===t?e.interactions:e.clicks})),i=0,a=-1/0,o=0;o<=r.length-n;o+=1){for(var s=0,l=0;l<n;l+=1)s+=r[o+l];s>a&&(a=s,i=o)}if(a===-1/0)return null;var c=function(t){var r,i=(r=e[t].label,Number(r.split(":")[0])),a=i+n,o=function(e){var t=e<12?"am":"pm";return"".concat(e%12===0?12:e%12).concat(t)};return"".concat(o(i),"\u2013").concat(o(a))};return{startIdx:i,formattedRange:c(i)}}(o,r,4):null}),[o,r,s]),c=(0,oe.useMemo)((function(){return o.map((function(e){return{timeSlot:e.label,value:"interactions"===r?e.interactions:e.clicks}}))}),[o,r]),u=(0,oe.useMemo)((function(){var e=o.map((function(e){return"interactions"===r?e.interactions:e.clicks})),t=(0,we.Z)(e).sort((function(e,t){return e-t})),n=t[Math.floor(.75*(t.length-1))]||0;return o.map((function(e,t){var i=("interactions"===r?e.interactions:e.clicks)>=n?"#3b43ff":"#f0f0f0";return(0,st.jsx)($G.b,{fill:i},"cell-".concat(t))}))}),[o,r]);return(0,st.jsx)(Wc.Z,{bordered:!1,className:"pe-mb-20 pe-chat-widget-overview-card",title:(0,st.jsx)(mt.Z.Title,{level:4,className:"pe-mb-0",children:Ua("Most Busy Times","pushengage")}),extra:(0,st.jsxs)(zy.default.Group,{value:i,onChange:function(e){var t="interactions"===e.target.value?"interactions":"clicks";a(t)},buttonStyle:"solid",size:"small",children:[(0,st.jsx)(zy.default.Button,{value:"interactions",children:Ua("Interactions","pushengage")}),(0,st.jsx)(zy.default.Button,{value:"chats",children:Ua("Chats Initiated","pushengage")})]}),children:s?(0,st.jsxs)(dt.Z,{gutter:32,children:[(0,st.jsx)(ht.Z,{xs:24,md:6,className:"pe-pt-8",children:l?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(mt.Z.Title,{level:2,style:{color:"#4b59d0",marginBottom:8},className:"pe-mb-8",children:l.formattedRange}),(0,st.jsx)(mt.Z.Text,{type:"secondary",className:"pe-d-block",children:Ua("Users interacted with Chat Assistant the most during this period.","pushengage")})]}):(0,st.jsx)(mt.Z.Text,{type:"secondary",className:"pe-d-block",children:Ua("No data available","pushengage")})}),(0,st.jsxs)(ht.Z,{xs:24,md:18,children:[(0,st.jsx)(Qf.h,{width:"100%",height:300,children:(0,st.jsxs)(KQ.v,{data:c,margin:{top:20,right:30,left:20,bottom:0},children:[(0,st.jsx)(Jf.K,{dataKey:"timeSlot",axisLine:!0,tickLine:!1,tick:{fill:"#6b7280",fontSize:12},dy:10}),(0,st.jsx)(eh.B,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280",fontSize:12}}),(0,st.jsx)(th.u,{cursor:{fill:"transparent"},content:(0,st.jsx)(LJ,{activeSeries:r})}),(0,st.jsx)(YQ.$,{dataKey:"value",radius:[4,4,0,0],barSize:40,children:u})]})}),(0,st.jsxs)("div",{className:"pe-mt-8",style:{display:"flex",justifyContent:"flex-end",color:"#9ca3af",marginBottom:0},children:[(0,st.jsxs)("span",{style:{marginRight:16},children:[Ua("Period:","pushengage")," ",t?"".concat(t[0].format("MMM D"),"\u2013").concat(t[1].format("MMM D")):""]}),(0,st.jsx)("span",{children:Ua("Timezone: UTC","pushengage")})]})]})]}):(0,st.jsxs)("div",{className:"pe-color-muted",style:{height:300,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",textAlign:"center"},children:[(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/records-not-found.svg"),alt:"404",width:"150px"}),(0,st.jsx)(ah,{title:Ua("No Data Found","pushengage"),message:Ua("Try adjusting date range","pushengage")})]})})},BJ=function(e){var t=e.channels,n=t.reduce((function(e,t){return e+t.count}),0)||1,r=t.map((function(e){var t=e.type?tP(e.type):void 0;return{type:e.type||"unknown",name:(null===t||void 0===t?void 0:t.label)||e.type||Ua("Unknown","pushengage"),color:(null===t||void 0===t?void 0:t.color)||"#3b43ff",Icon:null===t||void 0===t?void 0:t.Icon,count:e.count,percentage:Math.round(e.count/n*100)}}));return(0,st.jsxs)(Wc.Z,{bordered:!1,className:"pe-mb-0",title:(0,st.jsx)(mt.Z.Title,{level:4,className:"pe-mb-0",children:Ua("Popular Channels","pushengage")}),children:[(0,st.jsx)(Kc.default,{itemLayout:"vertical",dataSource:r,renderItem:function(e){var t=e.Icon,n="".concat(e.color,"22");return(0,st.jsxs)(Kc.default.Item,{style:{border:"none",padding:"12px 0"},children:[(0,st.jsxs)("div",{className:"pe-mb-8 pe-d-flex pe-align-items-center pe-justify-space-between",style:{width:"100%"},children:[(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center",children:[(0,st.jsx)("span",{style:{backgroundColor:n,color:e.color,width:24,height:24,borderRadius:9999,display:"inline-flex",alignItems:"center",justifyContent:"center",marginRight:8},children:t?(0,st.jsx)(t,{style:{fontSize:14}}):null}),(0,st.jsx)("span",{className:"pe-fw-600",children:e.name})]}),(0,st.jsx)("div",{style:{marginLeft:"auto",textAlign:"right"},children:(0,st.jsxs)("span",{className:"pe-fw-700 pe-color-dark",children:[e.count," ",(0,st.jsx)("span",{className:"pe-color-muted pe-fs-11 pe-fw-400",children:1===e.count?Ua("click","pushengage"):Ua("clicks","pushengage")})]})})]}),(0,st.jsx)(Lb.default,{percent:e.percentage,showInfo:!1,strokeColor:e.color,size:"small"})]},e.type)}}),0===r.length?(0,st.jsx)("div",{className:"pe-text-center pe-color-muted pe-py-16",children:Ua("No data available","pushengage")}):null]})},FJ=function(e){var t=e.agents;return(0,st.jsxs)(Wc.Z,{bordered:!1,className:"pe-mb-0",title:(0,st.jsx)(mt.Z.Title,{level:4,className:"pe-mb-0",children:Ua("Top Agents","pushengage")}),children:[(0,st.jsx)(Kc.default,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){var t,n,r=(null===e||void 0===e?void 0:e.name)||"Default",i=r.trim().split(" ").filter(Boolean),a=((null===(t=i[0])||void 0===t?void 0:t[0])||"")+((null===(n=i[1])||void 0===n?void 0:n[0])||""),o=Number((null===e||void 0===e?void 0:e.value)||0);return(0,st.jsxs)(Kc.default.Item,{style:{padding:"8px 0"},children:[(0,st.jsxs)(Ju.default,{align:"center",children:[(0,st.jsx)(xd.ZP,{style:{backgroundColor:"#f0f5ff",color:"#3b43ff"},children:a.toUpperCase()}),(0,st.jsx)(mt.Z.Text,{className:"pe-fw-600 pe-color-dark",children:r})]}),(0,st.jsxs)(Ju.default,{size:2,children:[(0,st.jsx)(mt.Z.Text,{className:"pe-fw-700 pe-color-dark",children:o}),(0,st.jsx)(mt.Z.Text,{className:"pe-color-muted pe-fs-11 pe-fw-400",children:Ua(1===o?"chat":"chats","pushengage")})]})]})}}),0===t.length?(0,st.jsx)("div",{className:"pe-text-center pe-color-muted pe-py-16",children:Ua("No data available","pushengage")}):null]})},zJ=function(){var e=(0,oe.useState)(oo),t=(0,xe.Z)(e,1)[0],n=(0,oe.useState)((function(){return go({})})),r=(0,xe.Z)(n,1)[0],i=(0,oe.useState)(r[oo]),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)(7),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)("interactions"),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)("interactions"),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)("all"),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)(!1),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=function(e){var t=e.dateRange,n=e.selectedWidgetId,r=Boolean(bt(Vr)),i=bt((function(e){return e.session.user}),uV.isEqual),a=bt(Ur),o=Hd(i),s=(0,oe.useState)([{label:Ua("All widgets","pushengage"),value:"all"}]),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)(!1),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=(0,oe.useState)(null),m=(0,xe.Z)(g,2),v=m[0],y=m[1];(0,oe.useEffect)((function(){var e=!1,t=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n,i,o;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&a){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Cf(a);case 5:n=t.sent,i=(null===n||void 0===n?void 0:n.data)||{},o=Object.entries(i).map((function(e){var t=(0,xe.Z)(e,2),n=t[0];return{label:t[1],value:n}})),e||u([{label:Ua("All widgets","pushengage"),value:"all"}].concat((0,we.Z)(o))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),(0,uV.noop)(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!0}}),[r,a]),(0,oe.useEffect)((function(){var e=!1,i=function(){var i=(0,at.Z)((0,it.Z)().mark((function i(){var s,l,c,u;return(0,it.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r&&o&&a&&t&&!(t.length<2)){i.next=2;break}return i.abrupt("return");case 2:return i.prev=2,h(!0),s=ei()(t[0]).startOf("day").format("YYYY-MM-DD HH:mm:ss"),l=ei()(t[1]).endOf("day").format("YYYY-MM-DD HH:mm:ss"),c={start_date:s,end_date:l},n&&"all"!==n&&(c.widget_id=n),i.next=10,Of(a,c);case 10:u=i.sent,e||y((null===u||void 0===u?void 0:u.data)||null),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(2),e||y(null);case 17:return i.prev=17,e||h(!1),i.finish(17);case 20:case"end":return i.stop()}}),i,null,[[2,14,17,20]])})));return function(){return i.apply(this,arguments)}}();return i(),function(){e=!0}}),[r,o,a,n,t]);var b=(0,oe.useMemo)((function(){var e=((null===v||void 0===v?void 0:v.channel_stats)||[]).map((function(e){return{type:e.channel_type||null,count:Number(e.clicks||0)}}));return e}),[v]),x=(0,oe.useMemo)((function(){return((null===v||void 0===v?void 0:v.agent_stats)||[]).filter((function(e){return!!String((null===e||void 0===e?void 0:e.agent_name)||"Default").trim()})).map((function(e){return{name:e.agent_name,value:Number(e.chats||0)}}))}),[v]);return{hasUserOnboarded:r,hasPermission:o,siteId:a,widgetOptions:c,isLoading:f,summary:v,popularChannels:b,popularAgents:x}}({dateRange:o,selectedWidgetId:k}),E=N.hasUserOnboarded,O=N.hasPermission,A=N.siteId,T=N.widgetOptions,P=N.isLoading,M=N.summary,I=N.popularChannels,D=N.popularAgents,L=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E&&A&&o&&!(o.length<2)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Z(!0),t=ei()(o[0]).startOf("day").format("YYYY-MM-DD HH:mm:ss"),n=ei()(o[1]).endOf("day").format("YYYY-MM-DD HH:mm:ss"),r={start_date:t,end_date:n,format:"csv"},k&&"all"!==k&&(r.widget_id=k),e.next=10,Of(A,r);case 10:i=e.sent,a="ChatWidgetAnalytics_".concat(ei()(o[0]).format("DD-MM-YYYY"),"_").concat(ei()(o[1]).format("DD-MM-YYYY"),".csv"),To(i,a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),e.t0;case 18:return e.prev=18,Z(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[E?null:(0,st.jsx)(rg,(0,kn.Z)((0,kn.Z)({},Fg),{},{btnText:Ua("Complete Your Setup","pushengage")})),E&&!O?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Cx,(0,kn.Z)((0,kn.Z)({},Sp.chatWidgets),{},{utmMedium:"ChatWidgetAnalytics",utmContent:"Upgrade to Create Multiple Chat Widgets",className:"pe-mb-20"})),(0,st.jsx)("div",{className:"pe-section-blur-glass",children:(0,st.jsx)(JK,{image:"chat-widget-analytics-placeholder.png"})})]}):(0,st.jsxs)("div",{children:[(0,st.jsx)(IJ,{selectedWidgetId:k,widgetOptions:T,onWidgetChange:_,initialDateRangeKey:t,preDefinedDateRange:r,onDateRangeChange:function(e){s(e);var t=e[1].diff(e[0],"days")+1;d(t)},isExporting:S,hasUserOnboarded:E,onExport:L}),(0,st.jsx)(DJ,{summary:M,isLoading:P,previousDaysCount:u}),(0,st.jsx)(RJ,{dateRange:o,summary:M,activeSeries:h,activeTab:y,onSeriesChange:function(e){g(e),b("interactions"===e?"interactions":"chats")}}),(0,st.jsxs)(dt.Z,{gutter:[16,16],children:[(0,st.jsx)(ht.Z,{xs:24,md:12,children:(0,st.jsx)(BJ,{channels:I})}),(0,st.jsx)(ht.Z,{xs:24,md:12,children:(0,st.jsx)(FJ,{agents:D})})]})]})]})},VJ=function(e){var t,n,r=e.visible,i=e.onClose,a=e.siteId,o=e.widgetId,s=e.widgetName,l=e.width,c=(0,oe.useState)(oo),u=(0,xe.Z)(c,1)[0],d=(0,oe.useState)((function(){return go({})})),p=(0,xe.Z)(d,1)[0],f=(0,oe.useState)(p[oo]),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)(!1),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useState)([]),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=(0,oe.useMemo)((function(){return"number"===typeof l?l:"undefined"!==typeof window?Math.min(600,window.innerWidth-24):600}),[l]);return(0,oe.useEffect)((function(){var e=!1,t=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n,i,s,l,c,u,d,p,f,h,m,v;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&a&&o&&Array.isArray(g)&&!(g.length<2)){t.next=2;break}return t.abrupt("return");case 2:return x(!0),t.prev=3,t.next=6,jf(a,o);case 6:return n=t.sent,i=n&&n.data||n||{},s=(null===i||void 0===i?void 0:i.config)||i,l=Array.isArray(null===s||void 0===s?void 0:s.channels)?s.channels:[],c=ei()(g[0]).startOf("day").format("YYYY-MM-DD HH:mm:ss"),u=ei()(g[1]).endOf("day").format("YYYY-MM-DD HH:mm:ss"),d={start_date:c,end_date:u,widget_id:o},t.next=15,Of(a,d);case 15:p=t.sent,f=p&&p.data||null,h=new Map,Array.isArray(null===f||void 0===f?void 0:f.channel_stats)&&f.channel_stats.forEach((function(e){if(e.channel_type){var t=Number(e.clicks||0);h.set(e.channel_type,t)}})),m=new Map,Array.isArray(null===f||void 0===f?void 0:f.agent_stats)&&f.agent_stats.forEach((function(e){if(e.agent_name){var t=Number(e.chats||0);m.set(e.agent_name,t)}})),v=l.filter((function(e){return e&&!1!==e.enabled})).map((function(e){var t=tP(e.type),n=(null===t||void 0===t?void 0:t.label)||e.type,r=Number(h.get(e.type)||0),i=Array.isArray(e.agents)&&e.agents.length?e.agents.map((function(e){var t=(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.value)||Ua("Agent","pushengage");return{name:t,chatsInitiated:Number(m.get(t)||0)}})):[],a=r+i.reduce((function(e,t){return e+t.chatsInitiated}),0);return{type:e.type,label:n,total:a,agents:i}})),e||C(v),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(3),e||C([]);case 28:return t.prev=28,e||x(!1),t.finish(28);case 31:case"end":return t.stop()}}),t,null,[[3,25,28,31]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!0}}),[r,a,o,g]),(0,st.jsxs)(Uc.Z,{className:"pe-widget-analytics-drawer",placement:"right",width:j,closable:!0,destroyOnClose:!0,visible:r,onClose:i,closeIcon:(0,st.jsx)($c,{}),title:(0,st.jsxs)(mt.Z.Title,{level:3,className:"pe-mb-0",children:[Ua("Widget Analytics","pushengage"),": ",s]}),children:[(0,st.jsxs)("div",{className:"pe-mb-16",style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:8},children:[(0,st.jsx)(mt.Z.Text,{type:"secondary",className:"pe-fs-12",children:"".concat(null===g||void 0===g||null===(t=g[0])||void 0===t?void 0:t.format("MMM D, YYYY")," \u2013 ").concat(null===g||void 0===g||null===(n=g[1])||void 0===n?void 0:n.format("MMM D, YYYY"))}),(0,st.jsx)(Gf,{initialValue:u,onChange:function(e){m(e)},ranges:p})]}),(0,st.jsx)(Hc.default,{spinning:b,children:(0,st.jsxs)(dt.Z,{gutter:[16,16],children:[_.map((function(e){var t=tP(e.type),n=null===t||void 0===t?void 0:t.Icon,r=[{title:(0,st.jsxs)("span",{className:"pe-fw-600",style:{display:"inline-flex",alignItems:"center",gap:6},children:[(0,st.jsx)(ac,{className:"pe-fs-14 pe-color-neutral-60"}),Ua("Agent Name","pushengage")]}),dataIndex:"name",key:"name",render:function(e){var t,n,r=String(e||""),i=r.trim().split(" ").filter(Boolean),a=(((null===(t=i[0])||void 0===t?void 0:t[0])||"")+((null===(n=i[1])||void 0===n?void 0:n[0])||"")).toUpperCase();return(0,st.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[(0,st.jsx)(xd.ZP,{style:{backgroundColor:"#f0f5ff",color:"#3b43ff"},children:a||"A"}),(0,st.jsx)("span",{className:"pe-fw-600 pe-color-dark",children:r})]})}},{title:(0,st.jsxs)("span",{className:"pe-fw-600",style:{display:"inline-flex",alignItems:"center",gap:6},children:[(0,st.jsx)(hg,{className:"pe-fs-14 pe-color-neutral-60"}),Ua("Chats Initiated","pushengage")]}),dataIndex:"chatsInitiated",key:"chatsInitiated",align:"right",render:function(e){return(0,st.jsx)("span",{className:"pe-fw-700 pe-color-dark",children:Number(e||0)})}}];return(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsxs)(Wc.Z,{bordered:!0,children:[(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center pe-justify-space-between pe-mb-8",children:[(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center",style:{gap:8},children:[(0,st.jsx)("span",{style:{backgroundColor:"".concat((null===t||void 0===t?void 0:t.color)||"#3b43ff","22"),color:(null===t||void 0===t?void 0:t.color)||"#3b43ff",width:28,height:28,borderRadius:9999,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:n?(0,st.jsx)(n,{}):null}),(0,st.jsx)(mt.Z.Title,{level:4,className:"pe-mb-0",children:e.label})]}),(0,st.jsxs)("div",{style:{textAlign:"right"},children:[(0,st.jsx)(mt.Z.Title,{level:4,className:"pe-mb-0",children:e.total}),(0,st.jsx)(mt.Z.Text,{type:"secondary",className:"pe-fs-12",children:Ua("(Channel clicks + Agent clicks)","pushengage")})]})]}),(0,st.jsx)("div",{className:"pe-mt-8",children:Array.isArray(e.agents)&&e.agents.length>0?(0,st.jsx)(_v.Z,{size:"small",columns:r,dataSource:e.agents,rowKey:function(e){return"".concat(e.name,"-").concat(e.chatsInitiated)},pagination:!1}):(0,st.jsx)(TY.default,{image:TY.default.PRESENTED_IMAGE_SIMPLE,description:Ua("No data available","pushengage")})})]})},e.type)})),_.length?null:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(Wc.Z,{bordered:!0,children:(0,st.jsx)(TY.default,{image:TY.default.PRESENTED_IMAGE_SIMPLE,description:Ua("No data available","pushengage")})})})]})})]})},UJ=function(){var e=(0,vt.s0)(),t=(0,oe.useState)(1),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useState)(10),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(2),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)([]),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)(""),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=bt((function(e){return e.session.currentSite}),Zi()),k=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),_=bt(Vr),C=(0,oe.useState)(!0),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)({}),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=(0,oe.useState)({}),P=(0,xe.Z)(T,2),M=P[0],I=P[1],D=(0,oe.useState)(!1),L=(0,xe.Z)(D,2),R=L[0],B=L[1],F=(0,oe.useState)(!1),z=(0,xe.Z)(F,2),V=z[0],U=z[1],H=(0,oe.useState)(""),W=(0,xe.Z)(H,2),q=W[0],K=W[1],Y=PJ([g,S]),G=(0,vt.TH)(),Q="list"===(new URLSearchParams(G.search).get("tab")||"").toLowerCase()?"list":"overview",X=(0,oe.useState)(!1),$=(0,xe.Z)(X,2),J=$[0],ee=$[1],te=(0,oe.useState)(null),ne=(0,xe.Z)(te,2),re=ne[0],ae=ne[1],se=(0,oe.useState)(""),le=(0,xe.Z)(se,2),ce=le[0],ue=le[1],de=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r,i,a,o,s,l,c;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_&&t){e.next=2;break}return e.abrupt("return");case 2:return Z(!0),e.prev=3,e.next=6,_f(t,n);case 6:r=e.sent,i=(null===r||void 0===r?void 0:r.data)||{},a=i.total,o=i.data,s=Array.isArray(o)?o:[],l=s.map((function(e){var t=e&&"object"===typeof e&&e.config&&"object"===typeof e.config?e.config:e,n=Array.isArray(null===t||void 0===t?void 0:t.channels)?(t.channels||[]).filter((function(e){return e&&!1!==e.enabled})).map((function(e){return"string"===typeof(null===e||void 0===e?void 0:e.type)?e.type:null})).filter(Boolean):[],r=null===e||void 0===e?void 0:e.status,i=t&&t.behavior&&t.behavior.display_rules||e&&e.behavior&&e.behavior.display_rules||{};return{id:String((null===e||void 0===e?void 0:e.id)||""),name:String((null===e||void 0===e?void 0:e.name)||""),channels:n,show_on:Array.isArray(null===t||void 0===t?void 0:t.show_on)?t.show_on:Array.isArray(null===e||void 0===e?void 0:e.show_on)?e.show_on:void 0,status:r,impressions:Number((null===e||void 0===e?void 0:e.impressions)||0),clicks:Number((null===e||void 0===e?void 0:e.clicks)||0),display_rules:{group_logic:"and"===(null===i||void 0===i?void 0:i.group_logic)?"and":"or",rule_groups:Array.isArray(null===i||void 0===i?void 0:i.rule_groups)?i.rule_groups:[],business_hours:null===i||void 0===i?void 0:i.business_hours},updated_at:null===e||void 0===e?void 0:e.updated_at,created_at:null===e||void 0===e?void 0:e.created_at}})),c=Number(a||l.length||0),m(l),p(c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),e.t0;case 18:return e.prev=18,Z(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})));return function(t,n){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){if(_&&w){Z(!0);var e=setTimeout((function(){de(w,{page:r,limit:s,name:b})}),300);return function(){return clearTimeout(e)}}Z(!1)}),[w,r,s,b,_]);var pe=(0,oe.useCallback)(function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n?"enabled":"disabled",A((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},(0,ti.Z)({},t.id,!0))})),e.prev=2,e.next=5,Sf(w,Number(t.id),r);case 5:return i=g.map((function(e){return e.id===t.id?(0,kn.Z)((0,kn.Z)({},e),{},{status:r}):e})),m(i),ie.default.success({message:Ua("Status updated","pushengage"),placement:"bottomRight"}),e.prev=8,e.next=11,MJ(w);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(8);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),ie.default.error({message:Ua("Failed to update status","pushengage"),placement:"bottomRight"});case 20:return e.prev=20,A((function(e){var n=t.id;e[n];return(0,Sl.Z)(e,[n].map(jJ))})),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,17,20,23],[8,13]])})));return function(t,n){return e.apply(this,arguments)}}(),[g,w]),fe=(0,oe.useCallback)((function(){return d>=320?(U(!0),K(Ua("You can create up to ".concat(320," chat widgets per site. Delete an existing widget or contact support if you need a higher limit."),"pushengage")),!1):!(Ed(k)&&d>=1)||(B(!0),!1)}),[d,k]),he=(0,oe.useCallback)((function(t){fe()&&e("".concat($r.path.clickToChatV2.editor,"?duplicate=").concat(t.id))}),[e,fe]),ge=(0,oe.useCallback)(function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),I((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},(0,ti.Z)({},t.id,!0))})),e.next=5,Ef(w,t.id);case 5:return m(g.filter((function(e){return e.id!==t.id}))),ie.default.success({message:Ua("Widget deleted","pushengage"),placement:"bottomRight"}),e.prev=7,e.next=10,MJ(w);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(7);case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),ie.default.error({message:Ua("Failed to delete widget","pushengage"),placement:"bottomRight"});case 19:return e.prev=19,I((function(e){var n=t.id;e[n];return(0,Sl.Z)(e,[n].map(jJ))})),Z(!1),e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[0,16,19,23],[7,12]])})));return function(t){return e.apply(this,arguments)}}(),[g,w]),me=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n,r,i,a,o,s,l,c,u,d,p,f,h,g;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,fe()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,xl();case 5:return n=t.sent,r=n&&n.data||n||{},i=String((null===r||void 0===r?void 0:r.phoneNumber)||"").trim(),a=i?"+"===i.charAt(0)?i:"+".concat(i):"",o=function(e){var t=Number(e||0);return t<=32?{size:"S"}:t<=40?{size:"M"}:t<=48?{size:"L"}:t<=56?{size:"XL"}:t<=64?{size:"XXL"}:{size:"custom",custom:Math.max(24,t||40)}},s=o(null===r||void 0===r?void 0:r.buttonSize),l=function(){var e=Number((null===r||void 0===r?void 0:r.horizontalOffset)||16),t=Number((null===r||void 0===r?void 0:r.verticalOffset)||16),n=String((null===r||void 0===r?void 0:r.buttonPosition)||"bottom-right");return"bottom-right"===n?{type:"bottom_right",side:"right",x:e,y:t}:"bottom-left"===n?{type:"bottom_left",side:"left",x:e,y:t}:"left-middle"===n?{type:"custom",side:"left",x:e,y:t}:"right-middle"===n?{type:"custom",side:"right",x:e,y:t}:{type:"bottom_right",side:"right",x:e,y:t}}(),c={name:Ua("WhatsApp Chat Widget (Migrated)","pushengage"),status:null!==r&&void 0!==r&&r.enabled?"enabled":"disabled",channels:[(0,kn.Z)({id:"ch_".concat(Date.now()),type:"whatsapp",value:a,enabled:!0,show_on:["desktop","tablet","mobile"],agents:[]},String((null===r||void 0===r?void 0:r.greetingMessage)||"").trim()?{prefill_message:String((null===r||void 0===r?void 0:r.greetingMessage)||"").trim()}:{})],appearance:{icon:{size:s.size,custom_size_px:s.custom,position:l}}},u=Vz(c),d=TV(u),p=PV(d),t.next=18,Zf(w,p);case 18:return f=t.sent,h=f&&f.data||f||{},g=String((null===h||void 0===h?void 0:h.id)||""),t.prev=21,t.next=24,wl(LO,{deleteOption:!0});case 24:window&&window.pushengage&&(window.pushengage.isWhatsappClickToChatConfigured=!1),t.next=29;break;case 27:t.prev=27,t.t0=t.catch(21);case 29:return ie.default.success({message:Ua("Widget created successfully","pushengage")}),e(g?$r.path.clickToChatV2.editById.replace(":id",g):$r.path.clickToChatV2.editor),t.prev=31,t.next=34,MJ(w,!0);case 34:t.next=38;break;case 36:t.prev=36,t.t1=t.catch(31);case 38:t.next=43;break;case 40:t.prev=40,t.t2=t.catch(0),ie.default.error({message:Ua("Failed to migrate WhatsApp widget","pushengage"),placement:"bottomRight"});case 43:case"end":return t.stop()}}),t,null,[[0,40],[21,27],[31,36]])})));return function(){return t.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:"".concat($r.path.clickToChatV2.list,"?tab=").concat(Q),type:"chatWidgets"}),(0,st.jsx)(iy,{children:"overview"===Q?(0,st.jsx)(zJ,{}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(SJ,{onMigrate:me}),_?null:(0,st.jsx)(rg,(0,kn.Z)((0,kn.Z)({},Fg),{},{btnText:Ua("Complete Your Setup","pushengage")})),R&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.chatWidgets),{},{closeable:!0,onClose:function(){return B(!1)}})),_?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"middle",className:"pe-mb-16",children:[(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(ZJ,{value:b,onChange:function(e){_&&x(e)},disabled:!_||S||!b&&0===g.length})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(bU,{label:Ua("Create Widget","pushengage"),onClick:function(){fe()&&e($r.path.clickToChatV2.editor)},loading:S})})]}),S?(0,st.jsx)(NJ,{}):0===g.length?""!==String(b||"").trim()?(0,st.jsx)(TY.default,{className:"pe-my-48",description:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(mt.Z.Title,{level:3,children:Ua("Sorry, no results found!","pushengage")}),(0,st.jsx)(mt.Z.Text,{type:"secondary",className:"dark",children:Ua("Please check the spelling or try searching for something else","pushengage")})]})}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(tg,{subTitle:Ua("Are You OK with Losing Customers?","pushengage"),description:Ua("\ud83d\udc4b You're open for business. But nobody can find the door. Add a chat widget that acts like a front desk for your entire brand: WhatsApp, SMS, IG, phone, email - whatever they prefer. You show up instantly. They stay longer. You convert more.","pushengage"),bullets:[{icon:(0,st.jsx)(uh,{}),text:Ua("Instant support across channels","pushengage")},{icon:(0,st.jsx)(kg,{}),text:Ua("Boost conversions and sales","pushengage")},{icon:(0,st.jsx)(Cg,{}),text:Ua("Target the right visitors automatically","pushengage")},{icon:(0,st.jsx)(Sg,{}),text:Ua("No-code setup, works everywhere","pushengage")}],btnText:Ua("Create Chat Widget","pushengage"),videoUrl:"https://www.youtube.com/embed/w64VWzwFj40",onClick:function(){fe()&&e($r.path.clickToChatV2.editor)},footerText:(0,st.jsxs)(st.Fragment,{children:[Ua("Need help? Check our","pushengage")," ",(0,st.jsx)(mt.Z.Link,{target:"_blank",href:" ".concat(lp.support.url,"/").concat(Qc(lp.support.utmParams)),children:Ua("chat widget documentation","pushengage")}),"."]})}),!Hd(k)&&(0,st.jsx)("div",{className:"pe-mt-24",children:(0,st.jsx)(Cx,(0,kn.Z)((0,kn.Z)({},Sp.chatWidgets),{},{utmMedium:"ChatWidgetList",utmContent:"Upgrade to Create Multiple Chat Widgets"}))})]}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(dt.Z,{gutter:[16,16],children:[g.map((function(t){return(0,st.jsx)(ht.Z,{xs:24,sm:12,md:8,lg:8,xl:8,style:{display:"flex"},children:(0,st.jsx)(AJ,{row:t,isUpdating:Boolean(O[t.id]),isDeleting:Boolean(M[t.id]),onEdit:function(){return e($r.path.clickToChatV2.editById.replace(":id",t.id))},onToggle:function(e){return pe(t,e)},onDuplicate:function(){return he(t)},onDelete:function(){return ge(t)},onViewAnalytics:function(){ae(t.id),ue(t.name),ee(!0)}})},t.id)})),(0,st.jsx)(ht.Z,{xs:24,sm:12,md:8,lg:8,xl:8,style:{display:"flex"},children:(0,st.jsx)(TJ,{disabled:!_,height:Y,onClick:function(){_&&fe()&&e($r.path.clickToChatV2.editor)}})})]}),(0,st.jsx)("div",{className:"pe-py-10",style:{display:"flex",justifyContent:"flex-end"},children:(0,st.jsx)(mH,{pagination:{page:r,limit:s,total:d,lastPage:Math.ceil(d/s)},onChange:function(e,t){i(e),t&&l(t)}})}),!Hd(k)&&(0,st.jsx)("div",{className:"pe-mt-24",children:(0,st.jsx)(Cx,{name:Sp.chatWidgets.name,title:Sp.chatWidgets.title,description:Sp.chatWidgets.description,planType:Sp.chatWidgets.planType,utmMedium:"ChatWidgetList",utmContent:"Upgrade to Create Multiple Chat Widgets"})})]})]}):(0,st.jsx)(TY.default,{description:Ua("Please connect your site to start creating chat widgets.","pushengage")})]})}),(0,st.jsx)(VJ,{visible:J,onClose:function(){return ee(!1)},siteId:w,widgetId:String(re||""),widgetName:ce}),(0,st.jsx)(gt.Z,{visible:V,centered:!0,title:Ua("Widget limit reached","pushengage"),okText:Ua("Ok","pushengage"),cancelButtonProps:{style:{display:"none"}},onOk:function(){return U(!1)},onCancel:function(){return U(!1)},closeIcon:(0,st.jsx)($c,{className:"pe-fs-12"}),children:(0,st.jsx)(mt.Z.Paragraph,{children:q})})]})},HJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},WJ=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:HJ}))};WJ.displayName="SettingOutlined";var qJ=oe.forwardRef(WJ),KJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},YJ=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:KJ}))};YJ.displayName="ClockCircleOutlined";var GJ=oe.forwardRef(YJ),QJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-696 72h136v656H184V184zm656 656H384V384h456v456zM384 320V184h456v136H384z"}}]},name:"layout",theme:"outlined"},XJ=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:QJ}))};XJ.displayName="LayoutOutlined";var $J=oe.forwardRef(XJ),JJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 140H96c-17.7 0-32 14.3-32 32v496c0 17.7 14.3 32 32 32h380v112H304c-8.8 0-16 7.2-16 16v48c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-48c0-8.8-7.2-16-16-16H548V700h380c17.7 0 32-14.3 32-32V172c0-17.7-14.3-32-32-32zm-40 488H136V212h752v416z"}}]},name:"desktop",theme:"outlined"},e0=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:JJ}))};e0.displayName="DesktopOutlined";var t0=oe.forwardRef(e0),n0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M800 64H224c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h576c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64zm-8 824H232V136h560v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"tablet",theme:"outlined"},r0=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:n0}))};r0.displayName="TabletOutlined";var i0=oe.forwardRef(r0),a0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},o0=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:a0}))};o0.displayName="MobileOutlined";var s0=oe.forwardRef(o0),l0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},c0=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:l0}))};c0.displayName="LinkOutlined";var u0=oe.forwardRef(c0),d0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0010-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 003.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 00-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 01887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 01-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 01115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 01540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 00540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 01-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 00-81.5 55.9A373.86 373.86 0 01137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 01-107.6 69.2z"}}]},name:"global",theme:"outlined"},p0=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:d0}))};p0.displayName="GlobalOutlined";var f0=oe.forwardRef(p0),h0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},g0=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:h0}))};g0.displayName="CalendarOutlined";var m0=oe.forwardRef(g0),v0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 224H768v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H548v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H328v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H96c-17.7 0-32 14.3-32 32v576c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V256c0-17.7-14.3-32-32-32zm-40 568H136V296h120v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h120v496zM416 496H232c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0 136H232c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm308.2-177.4L620.6 598.3l-52.8-73.1c-3-4.2-7.8-6.6-12.9-6.6H500c-6.5 0-10.3 7.4-6.5 12.7l114.1 158.2a15.9 15.9 0 0025.8 0l165-228.7c3.8-5.3 0-12.7-6.5-12.7H737c-5-.1-9.8 2.4-12.8 6.5z"}}]},name:"schedule",theme:"outlined"},y0=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:v0}))};y0.displayName="ScheduleOutlined";var b0=oe.forwardRef(y0),x0=mt.Z.Text,w0=function(e){var t=e.ruleGroups,n=e.groupLogic,r=e.countryOptions,i=void 0===r?{}:r,a=function(e){switch(e){case"wp_page":return"WP Page";case"url":return"URL";case"country":return"Country";default:return Ei()(e||"")}},o=function(e){switch(null===e||void 0===e?void 0:e.op){case"starts_with":return"Starts With";case"ends_with":return"Ends With";case"contains":return"Contains";case"eq":return"Equals";case"neq":return"Not Equals";default:return Ei()((null===e||void 0===e?void 0:e.op)||"")}};return null!==t&&void 0!==t&&t.length?(0,st.jsxs)("div",{className:"pe-targeting-logic-review",children:[(0,st.jsx)("div",{className:"targeting-logic-banner",children:(0,st.jsxs)(x0,{children:[Ua("Widget appears when","pushengage")," ",(0,st.jsx)("strong",{children:Ua("and"===n?"ALL groups":"ANY group","pushengage")})," ",Ua("evaluate to true.","pushengage")]})}),(0,st.jsx)("div",{className:"rule-groups-grid",children:t.map((function(e,t){var n;return(0,st.jsxs)("div",{className:"rule-group-card",children:[(0,st.jsxs)("div",{className:"rule-group-header",children:[(0,st.jsxs)(nf.default,{className:"rule-group-tag",children:["Group ",t+1]}),(0,st.jsx)(x0,{type:"secondary",children:"and"===e.rules_logic?Ua("Match ALL rules below","pushengage"):Ua("Match ANY rule below","pushengage")})]}),null!==e&&void 0!==e&&null!==(n=e.rules)&&void 0!==n&&n.length?(0,st.jsx)(Ju.default,{size:[8,8],wrap:!0,children:e.rules.map((function(e,t){return function(e,t){if(!e)return null;if("url"===e.type){var n=a(e.type),r=o(e);return(0,st.jsxs)(nf.default,{className:"rule-tag ".concat(r?"purple":"blue"),children:[(0,st.jsxs)("span",{className:"op-prefix",children:[n," ",r&&"".concat(r,":"),"\xa0"]}),e.value]},"url-".concat(t))}if("wp_page"===e.type){var s=e.value,l="WordPress Page";s&&"object"===typeof s?l=(null===s||void 0===s?void 0:s.title)||"#".concat(null===s||void 0===s?void 0:s.id)||0:"number"===typeof s&&(l="#".concat(s));var c=a(e.type),u=o(e);return(0,st.jsxs)(nf.default,{className:"rule-tag blue",children:[(0,st.jsxs)("span",{className:"op-prefix",children:[c," ",u&&"".concat(u,":"),"\xa0"]}),l]},"wp-page-".concat(t))}if("country"===e.type){var d=(Array.isArray(e.value)?e.value:[e.value]).map((function(e){return(null===i||void 0===i?void 0:i[e])||e})),p=a(e.type),f="in"===e.op?"Include":"nin"===e.op?"Exclude":o(e);return(0,st.jsxs)(nf.default,{className:"rule-tag country ".concat("nin"===e.op?"blue":"purple"),children:[(0,st.jsxs)("span",{className:"op-prefix",children:[p," ",f,":\xa0"]}),d.join(", ")]},"country-".concat(t))}return(0,st.jsx)(nf.default,{className:"rule-tag",children:e.type},"rule-".concat(t))}(e,t)}))}):(0,st.jsx)(x0,{type:"secondary",style:{fontStyle:"italic"},children:Ua("No rules configured in this group.","pushengage")})]},"group-".concat(t))}))})]}):(0,st.jsx)("div",{className:"pe-targeting-logic-review",children:(0,st.jsx)(x0,{type:"secondary",style:{fontStyle:"italic"},children:Ua("Widget appears on all pages for all visitors.","pushengage")})})};w0.defaultProps={ruleGroups:[],groupLogic:"or",countryOptions:{}};var k0=w0,_0=mt.Z.Title,C0=mt.Z.Text,j0=function(e){var t,n,r,i,a,o,s,l,c,u,d,p=e.form,f=e.value,h=e.mergeWithDefaults,g=e.normalizeWidget,m=e.onValuesChange,v=(0,oe.useState)({}),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useState)({}),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=(0,oe.useState)({}),S=(0,xe.Z)(j,2),Z=S[0],N=S[1],E=(0,oe.useState)({}),O=(0,xe.Z)(E,2),A=O[0],T=O[1];(0,oe.useEffect)((function(){var e=!0;return(0,at.Z)((0,it.Z)().mark((function t(){var n,r,i,a,o,s;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Vv();case 3:a=t.sent,o=null!==(n=null!==(r=null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.countries)&&void 0!==r?r:null===a||void 0===a?void 0:a.data)&&void 0!==n?n:[],s=o.reduce((function(e,t){return t.code&&(e[t.code]=t.name||t.code),e}),{}),e&&T(s),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e&&T({});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))(),function(){e=!1}}),[]),(0,oe.useEffect)((function(){var e=p.getFieldsValue(!0),t=g(e||f),n=h(t);x({name:n.name,config:{channels:n.channels||[]}}),C({appearance:n.appearance||{}}),N({show_on:n.show_on||[],behavior:n.behavior||{}})}),[p,f,h,g]);var P=bt((function(e){var t;return null===(t=e.globals.settings.timezone)||void 0===t?void 0:t.value}))||"Site Timezone",M=(null===b||void 0===b||null===(t=b.config)||void 0===t||null===(n=t.channels)||void 0===n?void 0:n.filter((function(e){return e.enabled})))||[],I=M.length>0?M[0]:null,D=I?eP.find((function(e){return e.type===I.type})):null,L=(null===Z||void 0===Z?void 0:Z.show_on)||[],R=null===Z||void 0===Z||null===(r=Z.behavior)||void 0===r?void 0:r.display_rules,B=(null===R||void 0===R?void 0:R.date_scheduling)||[],F=null===R||void 0===R?void 0:R.business_hours,z=(null===R||void 0===R?void 0:R.rule_groups)||[],V=(null===R||void 0===R?void 0:R.group_logic)||"or",U="site-timezone"===(null===F||void 0===F?void 0:F.timezone)?P:null===F||void 0===F?void 0:F.timezone,H=function(e){return ei()(e,"HH:mm").format("h:mm A")};return(0,st.jsx)("div",{className:"pe-mt-24",children:(0,st.jsxs)(ed.Z,{form:p,layout:"vertical",onValuesChange:function(){var e=p.getFieldsValue(!0);m&&m(h(e));var t=g(e||f),n=h(t);x({name:n.name,config:{channels:n.channels||[]}}),C({appearance:n.appearance||{}}),N({show_on:n.show_on||[],behavior:n.behavior||{}})},children:[(0,st.jsx)(dt.Z,{justify:"start",className:"pe-mb-24",children:(0,st.jsx)(ht.Z,{children:(0,st.jsxs)(Ju.default,{align:"center",size:12,children:[(0,st.jsx)(C0,{type:"secondary",className:"widget-name-label",children:Ua("Enable Widget","pushengage")}),(0,st.jsx)(ed.Z.Item,{shouldUpdate:!0,style:{marginBottom:0},children:function(e){var t=e.getFieldValue,n=e.setFieldsValue,r="disabled"!==t("status");return(0,st.jsx)(Lv.Z,{checked:r,onChange:function(e){n({status:e?"enabled":"disabled"})}})}})]})})}),(0,st.jsxs)(Wc.Z,{className:"pe-chat-widget-review",children:[(0,st.jsxs)("div",{className:"review-header",children:[(0,st.jsx)(C0,{type:"secondary",className:"widget-name-label",children:Ua("Widget Name","pushengage")}),(0,st.jsxs)("div",{className:"header-content",children:[(0,st.jsx)(_0,{level:3,children:(null===b||void 0===b?void 0:b.name)||"Untitled Widget"}),(0,st.jsxs)(nf.default,{className:"active-channels-tag",children:[(0,st.jsx)("span",{className:"status-dot",style:{backgroundColor:M.length>0?"#52c41a":"#d9d9d9"}}),M.length," Channels Active"]})]})]}),(0,st.jsxs)(dt.Z,{gutter:[24,24],children:[(0,st.jsx)(ht.Z,{span:24,xxl:10,children:(0,st.jsxs)(Wc.Z,{bordered:!1,className:"pe-chat-widget-card",children:[(0,st.jsx)("div",{className:"chat-widget-card-header px-0",children:(0,st.jsxs)(Ju.default,{align:"center",children:[(0,st.jsx)(qJ,{style:{color:"#597EF7",fontSize:18}}),(0,st.jsx)(C0,{className:"pe-fs-14",strong:!0,style:{textTransform:"uppercase"},children:Ua("Configuration","pushengage")})]})}),(0,st.jsxs)("div",{className:"chat-widget-card-body pa-0",children:[(0,st.jsxs)("div",{className:"config-box",children:[(0,st.jsx)(C0,{type:"secondary",className:"section-label",children:Ua("Primary Communication Channel","pushengage")}),I?(0,st.jsxs)(Ju.default,{align:"center",size:12,children:[function(e){if(!e)return null;var t=e.Icon,n=e.color;return(0,st.jsx)(t,{style:{fontSize:24,color:n}})}(D),(0,st.jsx)(C0,{strong:!0,className:"primary-channel-text",style:{wordBreak:"break-all"},children:I.value||Ua("Not Configured","pushengage")})]}):(0,st.jsx)(C0,{type:"secondary",children:Ua("No active channels","pushengage")})]}),(0,st.jsxs)("div",{className:"config-section",children:[(0,st.jsxs)("div",{className:"config-section-header",children:[(0,st.jsx)(GJ,{style:{color:"#8c8c8c"}}),(0,st.jsx)(C0,{className:"pe-fs-12",strong:!0,children:Ua("Activation","pushengage")})]}),(0,st.jsxs)("div",{className:"config-info-tile",children:[(0,st.jsx)(C0,{type:"secondary",className:"section-label mb-4",children:Ua("Trigger","pushengage")}),(0,st.jsx)(nf.default,{icon:(0,st.jsx)(GJ,{}),className:"trigger-tag",children:qz(null===Z||void 0===Z||null===(i=Z.behavior)||void 0===i?void 0:i.trigger)})]})]}),(0,st.jsxs)("div",{className:"config-section",children:[(0,st.jsxs)("div",{className:"config-section-header",children:[(0,st.jsx)($J,{style:{color:"#8c8c8c"}}),(0,st.jsx)(C0,{className:"pe-fs-12",strong:!0,children:Ua("Layout","pushengage")})]}),(0,st.jsxs)("div",{className:"config-info-tile",children:[(0,st.jsx)(C0,{type:"secondary",className:"section-label mb-4",children:Ua("Layout Style","pushengage")}),(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)($J,{style:{color:"#8c8c8c"}}),(0,st.jsxs)(C0,{className:"layout-text",children:[(null===_||void 0===_||null===(a=_.appearance)||void 0===a||null===(o=a.view)||void 0===o?void 0:o.layout)||"Vertical",","," ",null===_||void 0===_||null===(s=_.appearance)||void 0===s||null===(l=s.view)||void 0===l?void 0:l.style]})]})]})]}),(0,st.jsxs)("div",{className:"config-section",children:[(0,st.jsxs)("div",{className:"config-section-header",children:[(0,st.jsx)(t0,{style:{color:"#8c8c8c"}}),(0,st.jsx)(C0,{className:"pe-fs-12",strong:!0,children:Ua("Visibility","pushengage")})]}),(0,st.jsxs)("div",{className:"config-info-tile device-tile",children:[(0,st.jsx)(C0,{type:"secondary",className:"section-label",children:Ua("Visible Devices","pushengage")}),(0,st.jsxs)(Ju.default,{size:8,wrap:!0,children:[L.includes("desktop")&&(0,st.jsx)(nf.default,{className:"device-tag",children:(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(t0,{})," ",Ua("Desktop","pushengage")]})}),L.includes("tablet")&&(0,st.jsx)(nf.default,{className:"device-tag",children:(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(i0,{})," ",Ua("Tablet","pushengage")]})}),L.includes("mobile")&&(0,st.jsx)(nf.default,{className:"device-tag",children:(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(s0,{})," ",Ua("Mobile","pushengage")]})}),!L.length&&(0,st.jsx)(nf.default,{className:"device-tag",children:(0,st.jsx)(Ju.default,{children:Ua("All Devices","pushengage")})})]})]})]}),(0,st.jsxs)("div",{className:"config-section",children:[(0,st.jsxs)("div",{className:"config-section-header",children:[(0,st.jsx)(u0,{style:{color:"#8c8c8c"}}),(0,st.jsx)(C0,{className:"pe-fs-12",strong:!0,children:Ua("Call to Action","pushengage")})]}),(0,st.jsxs)("div",{className:"cta-preview-box",children:[(0,st.jsxs)(C0,{className:"cta-text",children:['"',null===_||void 0===_||null===(c=_.appearance)||void 0===c||null===(u=c.icon)||void 0===u||null===(d=u.cta)||void 0===d?void 0:d.text,'"']}),(0,st.jsx)("div",{className:"cta-arrow"})]})]})]})]})}),(0,st.jsx)(ht.Z,{span:24,xxl:14,children:(0,st.jsxs)(Wc.Z,{bordered:!0,className:"pe-chat-widget-card",children:[(0,st.jsx)("div",{className:"chat-widget-card-header px-0",children:(0,st.jsxs)(Ju.default,{align:"center",children:[(0,st.jsx)(f0,{style:{color:"#597EF7",fontSize:18}}),(0,st.jsx)(C0,{className:"pe-fs-14",strong:!0,style:{textTransform:"uppercase"},children:Ua("Targeting Rules","pushengage")})]})}),(0,st.jsxs)("div",{className:"chat-widget-card-body pa-0",children:[(0,st.jsxs)("div",{className:"targeting-rules-container",children:[(0,st.jsxs)(Ju.default,{className:"targeting-header",align:"center",children:[(0,st.jsx)(u0,{style:{color:"#8c8c8c"}}),(0,st.jsx)(C0,{className:"pe-fs-14",strong:!0,children:Ua("Targeting Logic","pushengage")})]}),(0,st.jsx)(k0,{ruleGroups:z,groupLogic:V,countryOptions:A})]}),(0,st.jsxs)("div",{style:{marginBottom:24},children:[(0,st.jsxs)(Ju.default,{style:{marginBottom:8},align:"center",children:[(0,st.jsx)(m0,{style:{color:"#8c8c8c"}}),(0,st.jsx)(C0,{className:"pe-fs-14",strong:!0,children:Ua("Scheduling","pushengage")})]}),B.length>0?B.map((function(e,t){return(0,st.jsx)("div",{className:"schedule-item",children:(0,st.jsxs)("div",{className:"schedule-content",children:[(0,st.jsxs)("div",{className:"schedule-date-block",children:[(0,st.jsx)(C0,{type:"secondary",className:"section-label",children:Ua("Start Date","pushengage")}),(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(b0,{style:{color:"#1890ff"}}),(0,st.jsx)(C0,{strong:!0,children:ei()(e.from).format("MMMM D, YYYY h:mm a")})]})]}),(0,st.jsx)("span",{className:"schedule-arrow",children:"\u2192"}),(0,st.jsxs)("div",{className:"schedule-date-block",children:[(0,st.jsx)(C0,{type:"secondary",className:"section-label",children:Ua("End Date","pushengage")}),(0,st.jsxs)(Ju.default,{children:[(0,st.jsx)(b0,{style:{color:"#1890ff"}}),(0,st.jsx)(C0,{strong:!0,children:ei()(e.to).format("MMMM D, YYYY h:mm a")})]})]})]})},t)})):(0,st.jsx)("div",{className:"schedule-empty",children:(0,st.jsx)(C0,{type:"secondary",children:Ua("Always active","pushengage")})})]}),(0,st.jsxs)("div",{children:[(0,st.jsxs)(Ju.default,{style:{marginBottom:8},align:"center",children:[(0,st.jsx)(GJ,{style:{color:"#8c8c8c"}}),(0,st.jsx)(C0,{className:"pe-fs-14",strong:!0,children:Ua("Business Hours","pushengage")})]}),null!==F&&void 0!==F&&F.enabled&&null!==F&&void 0!==F&&F.days?(0,st.jsxs)("div",{className:"schedule-item",children:[U&&(0,st.jsxs)("div",{style:{marginBottom:12},children:[(0,st.jsx)(C0,{type:"secondary",className:"section-label",children:Ua("Timezone","pushengage")}),(0,st.jsx)("div",{children:(0,st.jsx)(C0,{strong:!0,children:U})})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)(C0,{type:"secondary",className:"section-label",style:{marginBottom:8},children:Ua("Schedule","pushengage")}),Object.entries(F.days).filter((function(e){var t=(0,xe.Z)(e,2)[1];return null===t||void 0===t?void 0:t.enabled})).map((function(e){var t=(0,xe.Z)(e,2),n=t[0],r=t[1];return(0,st.jsxs)("div",{style:{marginBottom:8},children:[(0,st.jsxs)(C0,{strong:!0,children:[$z[n],": "]}),(0,st.jsxs)(C0,{children:[H(r.start)," -"," ",H(r.end)]})]},n)})),0===Object.values(F.days).filter((function(e){return null===e||void 0===e?void 0:e.enabled})).length&&(0,st.jsx)(C0,{type:"secondary",style:{fontStyle:"italic"},children:Ua("No days enabled","pushengage")})]})]}):(0,st.jsx)("div",{className:"schedule-empty",children:(0,st.jsx)(C0,{type:"secondary",children:Ua("Business hours not configured","pushengage")})})]})]})]})})]})]})]})})},S0=function(){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(dt.Z,{gutter:[12,12],children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsxs)(Ju.default,{direction:"horizontal",className:"pe-d-flex pe-justify-space-between pe-design-setting-row pe-mb-16",align:"center",children:[(0,st.jsx)("label",{className:"pe-fw-600 pe-fs-14",children:Ua("Target Devices","pushengage")}),(0,st.jsx)(zV,{})]})})}),(0,st.jsxs)(dt.Z,{gutter:[12,12],children:[(0,st.jsx)(ht.Z,{span:12,xs:24,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Trigger Type","pushengage"),name:["behavior","trigger","type"],help:Ua("The trigger type determines when the chat widget will be displayed by selecting an option above.","pushengage"),children:(0,st.jsx)(Rv.default,{options:Xz})})}),(0,st.jsx)(ed.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(e){var t,n=(0,e.getFieldValue)(["behavior","trigger","type"]);return(0,st.jsxs)(st.Fragment,{children:["duration"===n?(0,st.jsx)(ht.Z,{span:12,xs:24,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Display after seconds","pushengage"),name:["behavior","trigger","display_after_seconds"],children:(0,st.jsx)(rW.Z,{min:0,style:{width:"100%"}})})}):null,"scroll"===n?(0,st.jsx)(ht.Z,{span:12,xs:24,children:(0,st.jsx)(ed.Z.Item,{label:(null===(t=Xz.find((function(e){return e.value===n})))||void 0===t?void 0:t.label)||"",name:["behavior","trigger","display_after_scroll_percent"],children:(0,st.jsx)(rW.Z,{min:0,max:100,style:{width:"100%"}})})}):null,"duration"!==n&&"scroll"!==n?(0,st.jsx)(ht.Z,{span:12,xs:24}):null]})}})]})]})},Z0=(0,oe.createContext)(null),N0=function(e){var t=e.children,n=(0,oe.useState)([]),r=(0,xe.Z)(n,2),i=r[0],a=r[1],o=(0,oe.useState)([]),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useRef)({}),d=(0,oe.useRef)({});(0,oe.useEffect)((function(){var e=!0;return(0,at.Z)((0,it.Z)().mark((function t(){var n,r;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Vv();case 3:n=t.sent,r=(n&&n.data||[]).map((function(e){return{label:e.name,value:e.code||e.name}})),e&&a(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e&&a([]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}),[]);var p=(0,oe.useCallback)(function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t&&t.trim()||"",!u.current[n]){e.next=3;break}return e.abrupt("return",u.current[n]);case 3:if(!d.current[n]){e.next=5;break}return e.abrupt("return",d.current[n]);case 5:return r="".concat(window.location.origin,"/wp-json/wp/v2/pages?per_page=20&_fields=id,title,link").concat(n?"&search=".concat(encodeURIComponent(n)):""),i=(0,at.Z)((0,it.Z)().mark((function e(){var t,i,a,o,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(r,{headers:{"X-WP-Nonce":(null===(t=window)||void 0===t||null===(i=t.wpApiSettings)||void 0===i?void 0:i.nonce)||""},credentials:"same-origin"});case 3:return a=e.sent,e.next=6,a.json();case 6:return o=e.sent,s=Array.isArray(o)?o.map((function(e){var t;return{id:e.id,title:(null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.rendered)||"#".concat(e.id),url:e.link}})):[],u.current[n]=s,delete d.current[n],e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(0),delete d.current[n],e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))(),d.current[n]=i,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);(0,oe.useEffect)((function(){var e=!0;return(0,at.Z)((0,it.Z)().mark((function t(){var n;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p("");case 2:n=t.sent,e&&c(n);case 4:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[p]);var f=(0,oe.useMemo)((function(){return{countriesOptions:i,wpInitialPages:l,wpSearch:p}}),[i,l,p]);return(0,st.jsx)(Z0.Provider,{value:f,children:t})},E0=function(){return oe.useContext(Z0)||{countriesOptions:[],wpInitialPages:[],wpSearch:function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},O0={},A0={},T0=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t&&t.trim()||"",!O0[n]){e.next=3;break}return e.abrupt("return",O0[n]);case 3:if(!A0[n]){e.next=5;break}return e.abrupt("return",A0[n]);case 5:return r="".concat(window.location.origin,"/wp-json/wp/v2/pages?per_page=20&_fields=id,title,link").concat(n?"&search=".concat(encodeURIComponent(n)):""),i=(0,at.Z)((0,it.Z)().mark((function e(){var t,i,a,o,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(r,{headers:{"X-WP-Nonce":(null===(t=window)||void 0===t||null===(i=t.wpApiSettings)||void 0===i?void 0:i.nonce)||""},credentials:"same-origin"});case 3:return a=e.sent,e.next=6,a.json();case 6:return o=e.sent,s=Array.isArray(o)?o.map((function(e){var t;return{id:e.id,title:(null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.rendered)||"#".concat(e.id),url:e.link}})):[],O0[n]=s,delete A0[n],e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(0),delete A0[n],e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))(),A0[n]=i,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P0=function(e){var t=e.value,n=e.onChange,r=E0(),i=r.wpInitialPages,a=r.wpSearch,o=(0,oe.useState)([]),s=(0,xe.Z)(o,2),l=s[0],c=s[1],u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useRef)(void 0);(0,oe.useEffect)((function(){l.length>0||Array.isArray(i)&&i.length>0&&c(i.map((function(e){return{label:"".concat(e.title),value:String(e.id),item:e}})))}),[i]);var g=(0,oe.useCallback)((function(e){h.current&&window.clearTimeout(h.current),h.current=window.setTimeout((0,at.Z)((0,it.Z)().mark((function t(){var n;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f(!0),"function"!==typeof a){t.next=7;break}return t.next=4,a(e);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,T0(e);case 9:t.t0=t.sent;case 10:n=t.t0,c(n.map((function(e){return{label:"".concat(e.title),value:String(e.id),item:e}}))),f(!1);case 13:case"end":return t.stop()}}),t)}))),250)}),[a]),m=(0,oe.useMemo)((function(){if(null!==t&&void 0!==t&&t.id)return{label:(null===t||void 0===t?void 0:t.title)||"#".concat(null===t||void 0===t?void 0:t.id),value:String(null===t||void 0===t?void 0:t.id)}}),[t]);return(0,st.jsx)(Rv.default,{showSearch:!0,labelInValue:!0,value:m,placeholder:Ua("Search pages\u2026","pushengage"),filterOption:!1,onSearch:g,onDropdownVisibleChange:function(e){e&&0===l.length&&(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),"function"!==typeof a){e.next=7;break}return e.next=4,a("");case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,T0("");case 9:e.t0=e.sent;case 10:t=e.t0,c(t.map((function(e){return{label:"".concat(e.title),value:String(e.id),item:e}}))),f(!1);case 13:case"end":return e.stop()}}),e)})))()},loading:p,notFoundContent:p?(0,st.jsx)(Hc.default,{size:"small"}):null,options:l,style:{width:"100%"},onChange:function(e){var t=l.find((function(t){return t.value===(null===e||void 0===e?void 0:e.value)}));n&&n(null===t||void 0===t?void 0:t.item)}})},M0=function(e){var t=e.value,n=e.onChange,r=E0().countriesOptions,i=(0,oe.useState)([]),a=(0,xe.Z)(i,2),o=a[0],s=a[1];(0,oe.useEffect)((function(){if(!(r&&r.length>0)){var e=!0;return(0,at.Z)((0,it.Z)().mark((function t(){var n,r;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Vv();case 3:n=t.sent,r=((null===n||void 0===n?void 0:n.data)||[]).map((function(e){return{label:e.name,value:e.code||e.name}})),e&&s(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e&&s([]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}}),[r]);var l=(0,oe.useMemo)((function(){return r&&r.length>0?r:o}),[r,o]);return(0,st.jsx)(Rv.default,{mode:"multiple",showSearch:!0,maxTagCount:1,maxTagPlaceholder:function(e){return"".concat(e.length," ").concat(Ua("countries selected","pushengage"))},value:t,options:l,placeholder:Ua("Select countries","pushengage"),filterOption:function(e,t){var n;return null===t||void 0===t||null===(n=t.label)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase())},style:{width:"100%"},onChange:function(e){return n&&n(e)}})},I0=["key","name"],D0=mt.Z.Text,L0=function(e){var t=e.user,n=e.onRequireUpgrade,r=Hd(t),i=ed.Z.useFormInstance();return(0,st.jsx)(dt.Z,{gutter:[12,12],className:"pe-mt-12",children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsxs)("div",{className:"display-rules-settings",children:[(0,st.jsxs)("div",{className:"group-logic-row pe-mb-16",children:[(0,st.jsx)("span",{className:"group-logic-label pe-fw-600",children:Ua("Group Logic:","pushengage")}),(0,st.jsx)(ed.Z.Item,{name:["behavior","display_rules","group_logic"],style:{marginBottom:0},initialValue:"or",children:(0,st.jsx)(Rv.default,{options:Kz,style:{minWidth:220}})})]}),(0,st.jsx)(ed.Z.List,{name:["behavior","display_rules","rule_groups"],children:function(e,t){var a=t.add,o=t.remove,s=e.length<12;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Ju.default,{direction:"vertical",size:16,style:{width:"100%"},children:e.map((function(e,t){return(0,st.jsxs)("div",{className:"rule-group-card display-rules__group",children:[(0,st.jsxs)("div",{className:"rule-group-header",children:[(0,st.jsxs)("div",{className:"pe-d-inline-flex pe-align-items-center",children:[(0,st.jsxs)(D0,{className:"rule-group-label pe-fw-600 pe-mr-8",children:[Ua("Rule Group","pushengage")," ",t+1]}),(0,st.jsx)(ed.Z.Item,{name:[e.name,"rules_logic"],style:{marginBottom:0,display:"inline-block"},initialValue:"or",children:(0,st.jsx)(Rv.default,{options:Yz,size:"small",style:{width:140}})})]}),(0,st.jsx)(nW.Z,{title:Ua("Are you sure you want to remove this rule group?","pushengage"),onConfirm:function(){return o(e.name)},okText:Ua("Yes","pushengage"),cancelText:Ua("No","pushengage"),children:(0,st.jsx)(pt.default,{type:"text",danger:!0,icon:(0,st.jsx)(Nh,{}),className:"remove-rule-group-btn",children:Ua("Remove","pushengage")})})]}),(0,st.jsx)(ed.Z.List,{name:[e.name,"rules"],children:function(t,a){var o=a.add,s=a.remove,l=t.length<32;return(0,st.jsxs)(Ju.default,{direction:"vertical",size:12,style:{width:"100%"},children:[t.map((function(t){var n=t.key,r=t.name,a=(0,Sl.Z)(t,I0),o=["behavior","display_rules","rule_groups",e.name,"rules",r];return(0,st.jsx)(ed.Z.Item,{noStyle:!0,shouldUpdate:function(t,n){var i,a,o,s,l,c,u,d,p,f,h=null===t||void 0===t||null===(i=t.behavior)||void 0===i||null===(a=i.display_rules)||void 0===a||null===(o=a.rule_groups)||void 0===o||null===(s=o[e.name])||void 0===s||null===(l=s.rules)||void 0===l?void 0:l[r],g=null===n||void 0===n||null===(c=n.behavior)||void 0===c||null===(u=c.display_rules)||void 0===u||null===(d=u.rule_groups)||void 0===d||null===(p=d[e.name])||void 0===p||null===(f=p.rules)||void 0===f?void 0:f[r];return(null===h||void 0===h?void 0:h.type)!==(null===g||void 0===g?void 0:g.type)},children:function(){var n,l=null!==(n=i.getFieldValue([].concat(o,["type"])))&&void 0!==n?n:"wp_page",c="country"===l,u="wp_page"===l;return(0,st.jsxs)("div",{className:"rule-row display-rules__rule",children:[(0,st.jsxs)("div",{className:"rule-row-fields",children:[(0,st.jsx)(ed.Z.Item,(0,kn.Z)((0,kn.Z)({},a),{},{name:[r,"type"],rules:[{required:!0,message:Ua("Select a field","pushengage")}],className:"rule-field",children:(0,st.jsx)(Rv.default,{defaultActiveFirstOption:!0,options:[{value:"wp_page",label:Ua("WP Page","pushengage")},{value:"url",label:Ua("URL","pushengage")},{value:"country",label:Ua("Countries","pushengage")}],onChange:function(t){return function(e,t,n,r){if(e!==t)try{var a=i.getFieldValue(["behavior","display_rules","rule_groups"])||[],o=a[n]||{},s=o.rules||[],l=(0,kn.Z)({},s[r]||{}),c="eq",u=void 0;"country"===e?(c="in",u=[]):"url"===e?(c="starts_with",u=""):"wp_page"===e&&(c="eq",u=void 0);var d=(0,kn.Z)((0,kn.Z)({},l),{},{type:e,op:c,value:u}),p=s.slice();p[r]=d;var f=a.slice();f[n]=(0,kn.Z)((0,kn.Z)({},o),{},{rules:p}),i.setFieldsValue({behavior:{display_rules:{rule_groups:f}}})}catch(h){}}(t,l,e.name,r)}})})),(0,st.jsx)(ed.Z.Item,(0,kn.Z)((0,kn.Z)({},a),{},{name:[r,"op"],rules:[{required:!0,message:Ua("Select operator","pushengage")}],className:"rule-field",children:u?(0,st.jsx)(Rv.default,{defaultActiveFirstOption:!0,options:[{value:"eq",label:Ua("Is","pushengage")},{value:"neq",label:Ua("Is not","pushengage")}]}):c?(0,st.jsx)(Rv.default,{defaultActiveFirstOption:!0,options:[{value:"in",label:Ua("Include","pushengage")},{value:"nin",label:Ua("Exclude","pushengage")}]}):(0,st.jsx)(Rv.default,{defaultActiveFirstOption:!0,options:[{value:"starts_with",label:Ua("Starts with","pushengage")},{value:"contains",label:Ua("Contains","pushengage")},{value:"ends_with",label:Ua("Ends with","pushengage")},{value:"eq",label:Ua("Exact match","pushengage")}]})})),(0,st.jsx)(ed.Z.Item,(0,kn.Z)((0,kn.Z)({},a),{},{name:[r,"value"],className:"rule-field rule-value-field",rules:u?[{validator:function(e,t){return!t||!t.id||Number(t.id)<=0?Promise.reject(new Error(Ua("Please select a WordPress page.","pushengage"))):Promise.resolve()}}]:c?[{required:!0,message:Ua("Select at least one country","pushengage")},{max:80,type:"array",message:Ua("You can select up to 80 countries","pushengage")}]:[{required:!0,message:Ua("Enter a value","pushengage")},{max:512,message:Ua("Value cannot exceed 512 characters","pushengage")}],children:u?(0,st.jsx)(P0,{}):c?(0,st.jsx)(M0,{}):(0,st.jsx)(Yc.default,{placeholder:Ua("/blog or ?ref=ad","pushengage"),style:{width:"100%"}})}))]}),(0,st.jsx)(pt.default,{type:"text",danger:!0,icon:(0,st.jsx)(Nh,{}),onClick:function(){return s(t.name)}})]})}},n)})),(0,st.jsxs)(Ju.default,{size:0,className:"pe-mt-12",direction:"vertical",children:[(0,st.jsx)(pt.default,{type:"dashed",icon:(0,st.jsx)(oU,{}),onClick:function(){r?o({type:"wp_page",op:"eq"}):n()},disabled:!l,children:Ua("Add Rule","pushengage")}),!l&&(0,st.jsx)(D0,{type:"secondary",style:{fontSize:12},children:Ua("Maximum ".concat(32," rules per group"),"pushengage")})]})]})}})]},e.key)}))}),(0,st.jsx)("div",{className:"pe-mt-16 pe-mb-24",children:r?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(pt.default,{type:"dashed",block:!0,icon:(0,st.jsx)(oU,{}),onClick:function(){return a({rules_logic:"or",rules:[]})},disabled:!s,children:Ua("Add New Rule Group","pushengage")}),!s&&(0,st.jsx)(D0,{type:"secondary",style:{fontSize:12,display:"block",marginTop:8},children:Ua("Maximum ".concat(12," rule groups allowed"),"pushengage")})]}):(0,st.jsxs)(pt.default,{type:"dashed",block:!0,icon:(0,st.jsx)(oU,{}),onClick:n,children:[Ua("Add New Rule Group","pushengage"),(0,st.jsx)(vm,{style:{fontSize:14,marginLeft:6}})]})})]})}})]})})})},R0=mt.Z.Text,B0=function(e){var t=e.user,n=e.onRequireUpgrade,r=Hd(t);return(0,st.jsx)(ed.Z.List,{name:["behavior","display_rules","date_scheduling"],children:function(e,t){var i=t.add,a=t.remove,o=e.length<2;return(0,st.jsxs)(st.Fragment,{children:[e.map((function(e){return(0,st.jsxs)(Ju.default,{direction:"horizontal",size:16,style:{width:"100%",marginBottom:12},children:[(0,st.jsx)(ed.Z.Item,(0,kn.Z)((0,kn.Z)({},e),{},{label:Ua("Start Date","pushengage"),name:[e.name,"from"],rules:[{required:!0,message:Ua("Start date is required","pushengage")}],getValueProps:function(e){return{value:e?ei()(e):void 0}},normalize:function(e){return e?e.toISOString():void 0},children:(0,st.jsx)(zf.default,{showTime:!0,format:"YYYY-MM-DD, hh:mm A",style:{width:"100%"},disabledDate:function(e){return e&&e<ei()().startOf("day")},disabledTime:function(e){if(!e)return{};var t=ei()();if(!e.isSame(t,"day"))return{};var n=Array.from({length:t.hour()},(function(e,t){return t}));return{disabledHours:function(){return n},disabledMinutes:function(e){return e===t.hour()?Array.from({length:t.minute()},(function(e,t){return t})):[]},disabledSeconds:function(e,n){return e===t.hour()&&n===t.minute()?Array.from({length:t.second()},(function(e,t){return t})):[]}}}})})),(0,st.jsx)(ed.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(t){var n=(0,t.getFieldValue)(["behavior","display_rules","date_scheduling",e.name,"from"]),r=ei().max(ei()(),ei()(n||void 0));return(0,st.jsx)(ed.Z.Item,(0,kn.Z)((0,kn.Z)({},e),{},{label:Ua("End Date","pushengage"),name:[e.name,"to"],dependencies:[["behavior","display_rules","date_scheduling",e.name,"from"]],rules:[{required:!0,message:Ua("End date is required","pushengage")},{validator:function(e,t){return t&&n?ei()(t).isAfter(ei()(n))?Promise.resolve():Promise.reject(new Error(Ua("End date must be after start date","pushengage"))):Promise.resolve()}}],getValueProps:function(e){return{value:e?ei()(e):void 0}},normalize:function(e){return e?e.toISOString():void 0},children:(0,st.jsx)(zf.default,{showTime:!0,format:"YYYY-MM-DD, hh:mm A",style:{width:"100%"},disabledDate:function(e){return e&&e<r.clone().startOf("day")},disabledTime:function(e){if(!e)return{};if(!e.isSame(r,"day"))return{};var t=Array.from({length:r.hour()},(function(e,t){return t}));return{disabledHours:function(){return t},disabledMinutes:function(e){return e===r.hour()?Array.from({length:r.minute()},(function(e,t){return t})):[]},disabledSeconds:function(e,t){return e===r.hour()&&t===r.minute()?Array.from({length:r.second()},(function(e,t){return t})):[]}}}})}))}}),(0,st.jsx)(pt.default,{className:"pe-mt-8",type:"text",danger:!0,icon:(0,st.jsx)(Nh,{}),onClick:function(){return a(e.name)}})]},e.key)})),r?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(pt.default,{type:"dashed",icon:(0,st.jsx)(oU,{}),onClick:function(){return i()},disabled:!o,children:Ua("Add Schedule","pushengage")}),!o&&(0,st.jsx)(R0,{type:"secondary",style:{fontSize:12,marginLeft:8},children:Ua("Maximum ".concat(2," schedules allowed"),"pushengage")})]}):(0,st.jsxs)(pt.default,{type:"dashed",icon:(0,st.jsx)(oU,{}),onClick:n,children:[Ua("Add Schedule","pushengage"),(0,st.jsx)(vm,{style:{fontSize:14,marginLeft:6}})]})]})}})},F0=function(e){var t=Hd(e.user);return(0,st.jsx)(dt.Z,{gutter:[12,12],className:"pe-mt-16",children:(0,st.jsxs)(ht.Z,{span:24,children:[(0,st.jsx)("div",{className:"pe-fw-700 pe-mb-6 pe-fs-14",children:(0,st.jsxs)(dt.Z,{justify:"space-between",align:"middle",children:[(0,st.jsxs)(ht.Z,{children:[Ua("Business Hours","pushengage"),!t&&(0,st.jsx)("span",{className:"pe-ml-6",children:(0,st.jsx)(Gb,{plan:ii.BUSINESS})})]}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(ed.Z.Item,{name:["behavior","display_rules","business_hours","enabled"],valuePropName:"checked",noStyle:!0,children:(0,st.jsx)(Lv.Z,{disabled:!t})})})]})}),(0,st.jsx)("div",{className:"pe-fs-14 pe-text-muted pe-mb-16",children:Ua("Set the chat widget display hours by selecting a time range. You can add weekly schedule to display the chat widget at different times.","pushengage")}),(0,st.jsx)(ed.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(e){var n=e.getFieldValue;return Boolean(n(["behavior","display_rules","business_hours","enabled"]))?(0,st.jsx)("div",{className:"pe-mt-8",children:(0,st.jsx)(QV,{disabled:!t,baseName:["behavior","display_rules","business_hours"],timezoneInputId:"business_hours_schedule_timezone",timezoneErrorMessage:"'behavior.display_rules.business_hours.timezone' is required"})}):null}})]})})},z0=function(){var e=bt((function(e){return e.session.user}),uV.isEqual),t=(0,oe.useState)(!1),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=Hd(e),o=mt.Z.Title,s=mt.Z.Paragraph;return(0,st.jsxs)(st.Fragment,{children:[r&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.chatWidgets),{},{closeable:!0,onClose:function(){return i(!1)}})),(0,st.jsx)("div",{className:"pe-trigger-settings",children:(0,st.jsxs)(Ju.default,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,st.jsxs)(Wc.Z,{className:"pe-chat-widget-card",children:[(0,st.jsxs)("div",{className:"chat-widget-card-header",children:[(0,st.jsx)(o,{level:4,children:Ua("Display Triggers","pushengage")}),(0,st.jsx)(s,{type:"secondary",children:Ua("Control when and where your chat widget appears to maximize visitor engagement.","pushengage")})]}),(0,st.jsx)("div",{className:"chat-widget-card-body",children:(0,st.jsx)(S0,{})})]}),(0,st.jsxs)(Wc.Z,{className:"pe-chat-widget-card",children:[(0,st.jsxs)("div",{className:"chat-widget-card-header",children:[(0,st.jsx)(o,{level:4,children:Ua("Display Rules","pushengage")}),(0,st.jsx)(s,{type:"secondary",children:Ua("Add multiple rule groups and rules to determine when the chat widget will be displayed. You can add rules for WP pages, URL patterns, and countries.","pushengage")})]}),(0,st.jsx)("div",{className:"chat-widget-card-body",children:(0,st.jsx)(N0,{children:(0,st.jsx)(L0,{user:e,onRequireUpgrade:function(){return i(!0)}})})})]}),(0,st.jsxs)(Wc.Z,{className:"pe-chat-widget-card",children:[(0,st.jsxs)("div",{className:"chat-widget-card-header",children:[(0,st.jsxs)(Ju.default,{direction:"horizontal",size:0,children:[(0,st.jsx)(o,{level:4,children:Ua("Date Scheduling","pushengage")}),!a&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]}),(0,st.jsx)(s,{type:"secondary",children:Ua("Schedule the chat widget display by selecting a date and time range. You can add multiple schedules to display the chat widget at different times.","pushengage")})]}),(0,st.jsxs)("div",{className:"chat-widget-card-body",children:[(0,st.jsx)(B0,{user:e,onRequireUpgrade:function(){return i(!0)}}),(0,st.jsx)(dt.Z,{children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(Cu.Z,{className:"pe-my-16"})})}),(0,st.jsx)(F0,{user:e})]})]})]})})]})},V0={label:"Site Font Family",value:"inherit"},U0={label:"System Stack",value:"system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol"},H0=[{label:"Inter",value:"Inter, sans-serif"},{label:"Roboto",value:"Roboto, Arial, sans-serif"},{label:"Open Sans",value:"Open Sans, Arial, sans-serif"},{label:"Lato",value:"Lato, Arial, sans-serif"},{label:"Poppins",value:"Poppins, Arial, sans-serif"},{label:"Montserrat",value:"Montserrat, Arial, sans-serif"},{label:"Source Sans Pro",value:"Source Sans Pro, Arial, sans-serif"},{label:"Nunito",value:"Nunito, Arial, sans-serif"},{label:"Noto Sans",value:"Noto Sans, Arial, sans-serif"},{label:"Work Sans",value:"Work Sans, Arial, sans-serif"},{label:"Rubik",value:"Rubik, Arial, sans-serif"},{label:"Merriweather",value:"Merriweather, Georgia, serif"},{label:"Playfair Display",value:"Playfair Display, Georgia, serif"},{label:"Raleway",value:"Raleway, Arial, sans-serif"},{label:"Oswald",value:"Oswald, Arial, sans-serif"},{label:"Fira Sans",value:"Fira Sans, Arial, sans-serif"},{label:"Ubuntu",value:"Ubuntu, Arial, sans-serif"},{label:"PT Sans",value:"PT Sans, Arial, sans-serif"}],W0=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-sun-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M548 818v126a16 16 0 01-16 16h-40a16 16 0 01-16-16V818c15.85 1.64 27.84 2.46 36 2.46 8.15 0 20.16-.82 36-2.46m205.25-115.66l89.1 89.1a16 16 0 010 22.62l-28.29 28.29a16 16 0 01-22.62 0l-89.1-89.1c12.37-10.04 21.43-17.95 27.2-23.71 5.76-5.77 13.67-14.84 23.71-27.2m-482.5 0c10.04 12.36 17.95 21.43 23.71 27.2 5.77 5.76 14.84 13.67 27.2 23.71l-89.1 89.1a16 16 0 01-22.62 0l-28.29-28.29a16 16 0 010-22.63zM512 278c129.24 0 234 104.77 234 234S641.24 746 512 746 278 641.24 278 512s104.77-234 234-234m0 72c-89.47 0-162 72.53-162 162s72.53 162 162 162 162-72.53 162-162-72.53-162-162-162M206 476c-1.64 15.85-2.46 27.84-2.46 36 0 8.15.82 20.16 2.46 36H80a16 16 0 01-16-16v-40a16 16 0 0116-16zm738 0a16 16 0 0116 16v40a16 16 0 01-16 16H818c1.64-15.85 2.46-27.84 2.46-36 0-8.15-.82-20.16-2.46-36zM814.06 180.65l28.29 28.29a16 16 0 010 22.63l-89.1 89.09c-10.04-12.37-17.95-21.43-23.71-27.2-5.77-5.76-14.84-13.67-27.2-23.71l89.1-89.1a16 16 0 0122.62 0m-581.5 0l89.1 89.1c-12.37 10.04-21.43 17.95-27.2 23.71-5.76 5.77-13.67 14.84-23.71 27.2l-89.1-89.1a16 16 0 010-22.62l28.29-28.29a16 16 0 0122.62 0M532 64a16 16 0 0116 16v126c-15.85-1.64-27.84-2.46-36-2.46-8.15 0-20.16.82-36 2.46V80a16 16 0 0116-16z"})}))},q0=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:W0},e))},K0=function(e){return(0,st.jsx)("svg",(0,kn.Z)((0,kn.Z)({},e),{},{width:"1em",height:"1em",viewBox:"64 64 896 896",fill:"currentColor",focusable:"false","data-icon":"pe-moon-outlined","aria-hidden":"true",children:(0,st.jsx)("path",{d:"M489.5 111.66c30.65-1.8 45.98 36.44 22.58 56.33A243.35 243.35 0 00426 354c0 134.76 109.24 244 244 244 72.58 0 139.9-31.83 186.01-86.08 19.87-23.38 58.07-8.1 56.34 22.53C900.4 745.82 725.15 912 512.5 912 291.31 912 112 732.69 112 511.5c0-211.39 164.29-386.02 374.2-399.65l.2-.01zm-81.15 79.75l-4.11 1.36C271.1 237.94 176 364.09 176 511.5 176 697.34 326.66 848 512.5 848c148.28 0 274.94-96.2 319.45-230.41l.63-1.93-.11.07a307.06 307.06 0 01-159.73 46.26L670 662c-170.1 0-308-137.9-308-308 0-58.6 16.48-114.54 46.27-162.47z"})}))},Y0=function(e){return(0,st.jsx)(rc,(0,kn.Z)({component:K0},e))};function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G0.apply(null,arguments)}var Q0=n(11752),X0=n(61120),$0=[],J0=[];function e1(e){if(e<768)return!1;for(var t=0,n=$0.length;;){var r=t+n>>1;if(e<$0[r])n=r;else{if(!(e>=J0[r]))return!0;t=r+1}if(t==n)return!1}}function t1(e){return e>=127462&&e<=127487}!function(){for(var e="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((function(e){return e?parseInt(e,36):1})),t=0,n=0;t<e.length;t++)(t%2?J0:$0).push(n+=e[t])}();function n1(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(n?r1:i1)(e,t,r)}function r1(e,t,n){if(t==e.length)return t;t&&o1(e.charCodeAt(t))&&s1(e.charCodeAt(t-1))&&t--;var r=a1(e,t);for(t+=l1(r);t<e.length;){var i=a1(e,t);if(8205==r||8205==i||n&&e1(i))t+=l1(i),r=i;else{if(!t1(i))break;for(var a=0,o=t-2;o>=0&&t1(a1(e,o));)a++,o-=2;if(a%2==0)break;t+=2}}return t}function i1(e,t,n){for(;t>0;){var r=r1(e,t-2,n);if(r<t)return r;t--}return 0}function a1(e,t){var n=e.charCodeAt(t);if(!s1(n)||t+1==e.length)return n;var r=e.charCodeAt(t+1);return o1(r)?r-56320+(n-55296<<10)+65536:n}function o1(e){return e>=56320&&e<57344}function s1(e){return e>=55296&&e<56320}function l1(e){return e<65536?1:2}var c1=function(){function e(){(0,Za.Z)(this,e)}return(0,Sa.Z)(e,[{key:"lineAt",value:function(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}},{key:"line",value:function(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}},{key:"replace",value:function(e,t,n){var r=b1(this,e,t),i=(0,xe.Z)(r,2);e=i[0],t=i[1];var a=[];return this.decompose(0,e,a,2),n.length&&n.decompose(0,n.length,a,3),this.decompose(t,this.length,a,1),d1.from(a,this.length-(t-e)+n.length)}},{key:"append",value:function(e){return this.replace(this.length,this.length,e)}},{key:"slice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=b1(this,e,t),r=(0,xe.Z)(n,2);e=r[0],t=r[1];var i=[];return this.decompose(e,t,i,0),d1.from(i,t-e)}},{key:"eq",value:function(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;for(var t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new g1(this),i=new g1(e),a=t,o=t;;){if(r.next(a),i.next(a),a=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(o+=r.value.length,r.done||o>=n)return!0}}},{key:"iter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new g1(this,e)}},{key:"iterRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new m1(this,e,t)}},{key:"iterLines",value:function(e,t){var n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);var r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new v1(n)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var e=[];return this.flatten(e),e}}],[{key:"of",value:function(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new u1(t):d1.from(u1.split(t,[])):e.empty}}]),e}(),u1=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p1(e);return(0,Za.Z)(this,n),(r=t.call(this)).text=e,r.length=i,r}return(0,Sa.Z)(n,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var a=this.text[i],o=r+a.length;if((t?n:o)>=e)return new y1(r,o,n,a);r=o+1,n++}}},{key:"decompose",value:function(e,t,r,i){var a=e<=0&&t>=this.length?this:new n(h1(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){var o=r.pop(),s=f1(a.text,o.text.slice(),0,a.length);if(s.length<=32)r.push(new n(s,o.length+a.length));else{var l=s.length>>1;r.push(new n(s.slice(0,l)),new n(s.slice(l)))}}else r.push(a)}},{key:"replace",value:function(e,t,r){if(!(r instanceof n))return(0,Q0.Z)((0,X0.Z)(n.prototype),"replace",this).call(this,e,t,r);var i=b1(this,e,t),a=(0,xe.Z)(i,2);e=a[0],t=a[1];var o=f1(this.text,f1(r.text,h1(this.text,0,e)),t),s=this.length+r.length-(t-e);return o.length<=32?new n(o,s):d1.from(n.split(o,[]),s)}},{key:"sliceString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r=b1(this,e,t),i=(0,xe.Z)(r,2);e=i[0],t=i[1];for(var a="",o=0,s=0;o<=t&&s<this.text.length;s++){var l=this.text[s],c=o+l.length;o>e&&s&&(a+=n),e<c&&t>o&&(a+=l.slice(Math.max(0,e-o),t-o)),o=c+1}return a}},{key:"flatten",value:function(e){var t,n=(0,sp.Z)(this.text);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(e,t){var r,i=[],a=-1,o=(0,sp.Z)(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;i.push(s),a+=s.length+1,32==i.length&&(t.push(new n(i,a)),i=[],a=-1)}}catch(l){o.e(l)}finally{o.f()}return a>-1&&t.push(new n(i,a)),t}}]),n}(c1),d1=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r){var i;(0,Za.Z)(this,n),(i=t.call(this)).children=e,i.length=r,i.lines=0;var a,o=(0,sp.Z)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.lines+=s.lines}}catch(l){o.e(l)}finally{o.f()}return i}return(0,Sa.Z)(n,[{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var a=this.children[i],o=r+a.length,s=n+a.lines-1;if((t?s:o)>=e)return a.lineInner(e,t,n,r);r=o+1,n=s+1}}},{key:"decompose",value:function(e,t,n,r){for(var i=0,a=0;a<=t&&i<this.children.length;i++){var o=this.children[i],s=a+o.length;if(e<=s&&t>=a){var l=r&((a<=e?1:0)|(s>=t?2:0));a>=e&&s<=t&&!l?n.push(o):o.decompose(e-a,t-a,n,l)}a=s+1}}},{key:"replace",value:function(e,t,r){var i=b1(this,e,t),a=(0,xe.Z)(i,2);if(e=a[0],t=a[1],r.lines<this.lines)for(var o=0,s=0;o<this.children.length;o++){var l=this.children[o],c=s+l.length;if(e>=s&&t<=c){var u=l.replace(e-s,t-s,r),d=this.lines-l.lines+u.lines;if(u.lines<d>>4&&u.lines>d>>6){var p=this.children.slice();return p[o]=u,new n(p,this.length-(t-e)+r.length)}return(0,Q0.Z)((0,X0.Z)(n.prototype),"replace",this).call(this,s,c,u)}s=c+1}return(0,Q0.Z)((0,X0.Z)(n.prototype),"replace",this).call(this,e,t,r)}},{key:"sliceString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r=b1(this,e,t),i=(0,xe.Z)(r,2);e=i[0],t=i[1];for(var a="",o=0,s=0;o<this.children.length&&s<=t;o++){var l=this.children[o],c=s+l.length;s>e&&o&&(a+=n),e<c&&t>s&&(a+=l.sliceString(e-s,t-s,n)),s=c+1}return a}},{key:"flatten",value:function(e){var t,n=(0,sp.Z)(this.children);try{for(n.s();!(t=n.n()).done;){t.value.flatten(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"scanIdentical",value:function(e,t){if(!(e instanceof n))return 0;for(var r=0,i=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1],a=(0,xe.Z)(i,4),o=a[0],s=a[1],l=a[2],c=a[3];;o+=t,s+=t){if(o==l||s==c)return r;var u=this.children[o],d=e.children[s];if(u!=d)return r+u.scanIdentical(d,t);r+=u.length+1}}}],[{key:"from",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.reduce((function(e,t){return e+t.length+1}),-1),i=0,a=(0,sp.Z)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i+=o.lines}}catch(_){a.e(_)}finally{a.f()}if(i<32){var s,l=[],c=(0,sp.Z)(e);try{for(c.s();!(s=c.n()).done;){var u=s.value;u.flatten(l)}}catch(_){c.e(_)}finally{c.f()}return new u1(l,r)}var d=Math.max(32,i>>5),p=d<<1,f=d>>1,h=[],g=0,m=-1,v=[];function y(e){var t;if(e.lines>p&&e instanceof n){var r,i=(0,sp.Z)(e.children);try{for(i.s();!(r=i.n()).done;){y(r.value)}}catch(_){i.e(_)}finally{i.f()}}else e.lines>f&&(g>f||!g)?(b(),h.push(e)):e instanceof u1&&g&&(t=v[v.length-1])instanceof u1&&e.lines+t.lines<=32?(g+=e.lines,m+=e.length+1,v[v.length-1]=new u1(t.text.concat(e.text),t.length+1+e.length)):(g+e.lines>d&&b(),g+=e.lines,m+=e.length+1,v.push(e))}function b(){0!=g&&(h.push(1==v.length?v[0]:n.from(v,m)),m=-1,g=v.length=0)}var x,w=(0,sp.Z)(e);try{for(w.s();!(x=w.n()).done;){var k=x.value;y(k)}}catch(_){w.e(_)}finally{w.f()}return b(),1==h.length?h[0]:new n(h,r)}}]),n}(c1);function p1(e){var t,n=-1,r=(0,sp.Z)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.length+1}}catch(i){r.e(i)}finally{r.f()}return n}function f1(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9,i=0,a=0,o=!0;a<e.length&&i<=r;a++){var s=e[a],l=i+s.length;l>=n&&(l>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),o?(t[t.length-1]+=s,o=!1):t.push(s)),i=l+1}return t}function h1(e,t,n){return f1(e,[""],t,n)}c1.empty=new u1([""],0);var g1=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,Za.Z)(this,e),this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof u1?t.text.length:t.children.length)<<1]}return(0,Sa.Z)(e,[{key:"nextInner",value:function(e,t){for(this.done=this.lineBreak=!1;;){var n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],a=i>>1,o=r instanceof u1?r.text.length:r.children.length;if(a==(t>0?o:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof u1){var s=r.text[a+(t<0?-1:0)];if(this.offsets[n]+=t,s.length>Math.max(0,e))return this.value=0==e?s:t>0?s.slice(e):s.slice(0,s.length-e),this;e-=s.length}else{var l=r.children[a+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof u1?l.text.length:l.children.length)<<1))}}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}]),e}(),m1=function(){function e(t,n,r){(0,Za.Z)(this,e),this.value="",this.done=!1,this.cursor=new g1(t,n>r?-1:1),this.pos=n>r?t.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}return(0,Sa.Z)(e,[{key:"nextInner",value:function(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);var n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;var r=this.cursor.next(e).value;return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&""!=this.value}}]),e}(),v1=function(){function e(t){(0,Za.Z)(this,e),this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}return(0,Sa.Z)(e,[{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.inner.next(e),n=t.done,r=t.lineBreak,i=t.value;return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}},{key:"lineBreak",get:function(){return!1}}]),e}();"undefined"!=typeof Symbol&&(c1.prototype[Symbol.iterator]=function(){return this.iter()},g1.prototype[Symbol.iterator]=m1.prototype[Symbol.iterator]=v1.prototype[Symbol.iterator]=function(){return this});var y1=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.from=t,this.to=n,this.number=r,this.text=i}return(0,Sa.Z)(e,[{key:"length",get:function(){return this.to-this.from}}]),e}();function b1(e,t,n){return[t=Math.max(0,Math.min(e.length,t)),Math.max(t,Math.min(e.length,n))]}function x1(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n1(e,t,n,r)}function w1(e,t){var n,r=e.charCodeAt(t);if(!((n=r)>=55296&&n<56320)||t+1==e.length)return r;var i=e.charCodeAt(t+1);return function(e){return e>=56320&&e<57344}(i)?i-56320+(r-55296<<10)+65536:r}function k1(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function _1(e){return e<65536?1:2}var C1=/\r\n?|\n/,j1=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(j1||(j1={})),S1=function(){function e(t){(0,Za.Z)(this,e),this.sections=t}return(0,Sa.Z)(e,[{key:"length",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}},{key:"newLength",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2){var n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}},{key:"empty",get:function(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}},{key:"iterGaps",value:function(e){for(var t=0,n=0,r=0;t<this.sections.length;){var i=this.sections[t++],a=this.sections[t++];a<0?(e(n,r,i),r+=i):r+=a,n+=i}}},{key:"iterChangedRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O1(this,e,t)}},{key:"invertedDesc",get:function(){for(var t=[],n=0;n<this.sections.length;){var r=this.sections[n++],i=this.sections[n++];i<0?t.push(r,i):t.push(i,r)}return new e(t)}},{key:"composeDesc",value:function(e){return this.empty?e:e.empty?this:T1(this,e)}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:A1(this,e,t)}},{key:"mapPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j1.Simple,r=0,i=0,a=0;a<this.sections.length;){var o=this.sections[a++],s=this.sections[a++],l=r+o;if(s<0){if(l>e)return i+(e-r);i+=o}else{if(n!=j1.Simple&&l>=e&&(n==j1.TrackDel&&r<e&&l>e||n==j1.TrackBefore&&r<e||n==j1.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!o)return e==r||t<0?i:i+s;i+=s}r=l}if(e>r)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(r));return i}},{key:"touchesRange",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=0,r=0;n<this.sections.length&&r<=t;){var i=this.sections[n++],a=this.sections[n++],o=r+i;if(a>=0&&r<=t&&o>=e)return!(r<e&&o>t)||"cover";r=o}return!1}},{key:"toString",value:function(){for(var e="",t=0;t<this.sections.length;){var n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(t){if(!Array.isArray(t)||t.length%2||t.some((function(e){return"number"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeDesc");return new e(t)}},{key:"create",value:function(t){return new e(t)}}]),e}(),Z1=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r){var i;return(0,Za.Z)(this,n),(i=t.call(this,e)).inserted=r,i}return(0,Sa.Z)(n,[{key:"apply",value:function(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return O1(this,(function(t,n,r,i,a){return e=e.replace(r,r+(n-t),a)}),!1),e}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return A1(this,e,t,!0)}},{key:"invert",value:function(e){for(var t=this.sections.slice(),r=[],i=0,a=0;i<t.length;i+=2){var o=t[i],s=t[i+1];if(s>=0){t[i]=s,t[i+1]=o;for(var l=i>>1;r.length<l;)r.push(c1.empty);r.push(o?e.slice(a,a+o):c1.empty)}a+=o}return new n(t,r)}},{key:"compose",value:function(e){return this.empty?e:e.empty?this:T1(this,e,!0)}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:A1(this,e,t,!0)}},{key:"iterChanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O1(this,e,t)}},{key:"desc",get:function(){return S1.create(this.sections)}},{key:"filter",value:function(e){var t=[],r=[],i=[],a=new P1(this);e:for(var o=0,s=0;;){for(var l=o==e.length?1e9:e[o++];s<l||s==l&&0==a.len;){if(a.done)break e;var c=Math.min(a.len,l-s);N1(i,c,-1);var u=-1==a.ins?-1:0==a.off?a.ins:0;N1(t,c,u),u>0&&E1(r,t,a.text),a.forward(c),s+=c}for(var d=e[o++];s<d;){if(a.done)break e;var p=Math.min(a.len,d-s);N1(t,p,-1),N1(i,p,-1==a.ins?-1:0==a.off?a.ins:0),a.forward(p),s+=p}}return{changes:new n(t,r),filtered:S1.create(i)}}},{key:"toJSON",value:function(){for(var e=[],t=0;t<this.sections.length;t+=2){var n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}}],[{key:"of",value:function(e,t,r){var i=[],a=[],o=0,s=null;function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||i.length){o<t&&N1(i,t-o,-1);var r=new n(i,a);s=s?s.compose(r.map(s)):r,i=[],a=[],o=0}}return function e(c){if(Array.isArray(c)){var u,d=(0,sp.Z)(c);try{for(d.s();!(u=d.n()).done;){e(u.value)}}catch(y){d.e(y)}finally{d.f()}}else if(c instanceof n){if(c.length!=t)throw new RangeError("Mismatched change set length (got ".concat(c.length,", expected ").concat(t,")"));l(),s=s?s.compose(c.map(s)):c}else{var p=c.from,f=c.to,h=void 0===f?p:f,g=c.insert;if(p>h||p<0||h>t)throw new RangeError("Invalid change range ".concat(p," to ").concat(h," (in doc of length ").concat(t,")"));var m=g?"string"==typeof g?c1.of(g.split(r||C1)):g:c1.empty,v=m.length;if(p==h&&0==v)return;p<o&&l(),p>o&&N1(i,p-o,-1),N1(i,h-p,v),E1(a,i,m),o=h}}(e),l(!s),s}},{key:"empty",value:function(e){return new n(e?[e,-1]:[],[])}},{key:"fromJSON",value:function(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");for(var t=[],r=[],i=0;i<e.length;i++){var a=e[i];if("number"==typeof a)t.push(a,-1);else{if(!Array.isArray(a)||"number"!=typeof a[0]||a.some((function(e,t){return t&&"string"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==a.length)t.push(a[0],0);else{for(;r.length<i;)r.push(c1.empty);r[i]=c1.of(a.slice(1)),t.push(a[0],r[i].length)}}}return new n(t,r)}},{key:"createSet",value:function(e,t){return new n(e,t)}}]),n}(S1);function N1(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(0==t&&n<=0)){var i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:i>=0&&0==t&&0==e[i]?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}}function E1(e,t,n){if(0!=n.length){var r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(c1.empty);e.push(n)}}}function O1(e,t,n){for(var r=e.inserted,i=0,a=0,o=0;o<e.sections.length;){var s=e.sections[o++],l=e.sections[o++];if(l<0)i+=s,a+=s;else{for(var c=i,u=a,d=c1.empty;c+=s,u+=l,l&&r&&(d=d.append(r[o-2>>1])),!(n||o==e.sections.length||e.sections[o+1]<0);)s=e.sections[o++],l=e.sections[o++];t(i,c,a,u,d),i=c,a=u}}}function A1(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],a=r?[]:null,o=new P1(e),s=new P1(t),l=-1;;){if(o.done&&s.len||s.done&&o.len)throw new Error("Mismatched change set lengths");if(-1==o.ins&&-1==s.ins){var c=Math.min(o.len,s.len);N1(i,c,-1),o.forward(c),s.forward(c)}else if(s.ins>=0&&(o.ins<0||l==o.i||0==o.off&&(s.len<o.len||s.len==o.len&&!n))){var u=s.len;for(N1(i,s.ins,-1);u;){var d=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=d&&(N1(i,0,o.ins),a&&E1(a,i,o.text),l=o.i),o.forward(d),u-=d}s.next()}else{if(!(o.ins>=0)){if(o.done&&s.done)return a?Z1.createSet(i,a):S1.create(i);throw new Error("Mismatched change set lengths")}for(var p=0,f=o.len;f;)if(-1==s.ins){var h=Math.min(f,s.len);p+=h,f-=h,s.forward(h)}else{if(!(0==s.ins&&s.len<f))break;f-=s.len,s.next()}N1(i,p,l<o.i?o.ins:0),a&&l<o.i&&E1(a,i,o.text),l=o.i,o.forward(o.len-f)}}}function T1(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=n?[]:null,a=new P1(e),o=new P1(t),s=!1;;){if(a.done&&o.done)return i?Z1.createSet(r,i):S1.create(r);if(0==a.ins)N1(r,a.len,0,s),a.next();else if(0!=o.len||o.done){if(a.done||o.done)throw new Error("Mismatched change set lengths");var l=Math.min(a.len2,o.len),c=r.length;if(-1==a.ins){var u=-1==o.ins?-1:o.off?0:o.ins;N1(r,l,u,s),i&&u&&E1(i,r,o.text)}else-1==o.ins?(N1(r,a.off?0:a.len,l,s),i&&E1(i,r,a.textBit(l))):(N1(r,a.off?0:a.len,o.off?0:o.ins,s),i&&!o.off&&E1(i,r,o.text));s=(a.ins>l||o.ins>=0&&o.len>l)&&(s||r.length>c),a.forward2(l),o.forward(l)}else N1(r,0,o.ins,s),i&&E1(i,r,o.text),o.next()}}var P1=function(){function e(t){(0,Za.Z)(this,e),this.set=t,this.i=0,this.next()}return(0,Sa.Z)(e,[{key:"next",value:function(){var e=this.set.sections;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var e=this.set.inserted,t=this.i-2>>1;return t>=e.length?c1.empty:e[t]}},{key:"textBit",value:function(e){var t=this.set.inserted,n=this.i-2>>1;return n>=t.length&&!e?c1.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}},{key:"forward",value:function(e){e==this.len?this.next():(this.len-=e,this.off+=e)}},{key:"forward2",value:function(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}]),e}(),M1=function(){function e(t,n,r){(0,Za.Z)(this,e),this.from=t,this.to=n,this.flags=r}return(0,Sa.Z)(e,[{key:"anchor",get:function(){return 32&this.flags?this.to:this.from}},{key:"head",get:function(){return 32&this.flags?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return 8&this.flags?-1:16&this.flags?1:0}},{key:"bidiLevel",get:function(){var e=7&this.flags;return 7==e?null:e}},{key:"goalColumn",get:function(){var e=this.flags>>6;return 16777215==e?void 0:e}},{key:"map",value:function(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.empty?n=r=t.mapPos(this.from,i):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new e(n,r,this.flags)}},{key:"extend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e<=this.anchor&&t>=this.anchor)return I1.range(e,t);var n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return I1.range(this.anchor,n)}},{key:"eq",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return I1.range(e.anchor,e.head)}},{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}(),I1=function(){function e(t,n){(0,Za.Z)(this,e),this.ranges=t,this.mainIndex=n}return(0,Sa.Z)(e,[{key:"map",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t.empty?this:e.create(this.ranges.map((function(e){return e.map(t,n)})),this.mainIndex)}},{key:"eq",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new e([this.main],0)}},{key:"addRange",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.create([t].concat(this.ranges),n?0:this.mainIndex+1)}},{key:"replaceRange",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,r=this.ranges.slice();return r[n]=t,e.create(r,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map((function(e){return e.toJSON()})),main:this.mainIndex}}}],[{key:"fromJSON",value:function(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new e(t.ranges.map((function(e){return M1.fromJSON(e)})),t.main)}},{key:"single",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return new e([e.range(t,n)],0)}},{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==t.length)throw new RangeError("A selection needs at least one range");for(var r=0,i=0;i<t.length;i++){var a=t[i];if(a.empty?a.from<=r:a.from<r)return e.normalized(t.slice(),n);r=a.to}return new e(t,n)}},{key:"cursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return M1.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!==r&&void 0!==r?r:16777215)<<6)}},{key:"range",value:function(e,t,n,r){var i=(null!==n&&void 0!==n?n:16777215)<<6|(null==r?7:Math.min(6,r));return t<e?M1.create(t,e,48|i):M1.create(e,t,(t>e?8:0)|i)}},{key:"normalized",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t[n];t.sort((function(e,t){return e.from-t.from})),n=t.indexOf(r);for(var i=1;i<t.length;i++){var a=t[i],o=t[i-1];if(a.empty?a.from<=o.to:a.from<o.to){var s=o.from,l=Math.max(a.to,o.to);i<=n&&n--,t.splice(--i,2,a.anchor>a.head?e.range(l,s):e.range(s,l))}}return new e(t,n)}}]),e}();function D1(e,t){var n,r=(0,sp.Z)(e.ranges);try{for(r.s();!(n=r.n()).done;){if(n.value.to>t)throw new RangeError("Selection points outside of document")}}catch(i){r.e(i)}finally{r.f()}}var L1=0,R1=function(){function e(t,n,r,i,a){(0,Za.Z)(this,e),this.combine=t,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=L1++,this.default=t([]),this.extensions="function"==typeof a?a(this):a}return(0,Sa.Z)(e,[{key:"reader",get:function(){return this}},{key:"of",value:function(e){return new F1([],this,0,e)}},{key:"compute",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new F1(e,this,1,t)}},{key:"computeN",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new F1(e,this,2,t)}},{key:"from",value:function(e,t){return t||(t=function(e){return e}),this.compute([e],(function(n){return t(n.field(e))}))}}],[{key:"define",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(t.combine||function(e){return e},t.compareInput||function(e,t){return e===t},t.compare||(t.combine?function(e,t){return e===t}:B1),!!t.static,t.enables)}}]),e}();function B1(e,t){return e==t||e.length==t.length&&e.every((function(e,n){return e===t[n]}))}var F1=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.dependencies=t,this.facet=n,this.type=r,this.value=i,this.id=L1++}return(0,Sa.Z)(e,[{key:"dynamicSlot",value:function(e){var t,n,r=this,i=this.value,a=this.facet.compareInput,o=this.id,s=e[o]>>1,l=2==this.type,c=!1,u=!1,d=[],p=(0,sp.Z)(this.dependencies);try{for(p.s();!(n=p.n()).done;){var f=n.value;"doc"==f?c=!0:"selection"==f?u=!0:0==(1&(null!==(t=e[f.id])&&void 0!==t?t:1))&&d.push(e[f.id])}}catch(h){p.e(h)}finally{p.f()}return{create:function(e){return e.values[s]=i(e),1},update:function(e,t){if(c&&t.docChanged||u&&(t.docChanged||t.selection)||V1(e,d)){var n=i(e);if(l?!z1(n,e.values[s],a):!a(n,e.values[s]))return e.values[s]=n,1}return 0},reconfigure:function(e,t){var n,c=t.config.address[o];if(null!=c){var u=n2(t,c);if(r.dependencies.every((function(n){return n instanceof R1?t.facet(n)===e.facet(n):!(n instanceof H1)||t.field(n,!1)==e.field(n,!1)}))||(l?z1(n=i(e),u,a):a(n=i(e),u)))return e.values[s]=u,0}else n=i(e);return e.values[s]=n,1}}}}]),e}();function z1(e,t,n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function V1(e,t){var n,r=!1,i=(0,sp.Z)(t);try{for(i.s();!(n=i.n()).done;){1&t2(e,n.value)&&(r=!0)}}catch(a){i.e(a)}finally{i.f()}return r}var U1=R1.define({static:!0}),H1=function(){function e(t,n,r,i,a){(0,Za.Z)(this,e),this.id=t,this.createF=n,this.updateF=r,this.compareF=i,this.spec=a,this.provides=void 0}return(0,Sa.Z)(e,[{key:"create",value:function(e){var t=this,n=e.facet(U1).find((function(e){return e.field==t}));return((null===n||void 0===n?void 0:n.create)||this.createF)(e)}},{key:"slot",value:function(e){var t=this,n=e[this.id]>>1;return{create:function(e){return e.values[n]=t.create(e),1},update:function(e,r){var i=e.values[n],a=t.updateF(i,r);return t.compareF(i,a)?0:(e.values[n]=a,1)},reconfigure:function(e,r){var i,a=e.facet(U1),o=r.facet(U1);return(i=a.find((function(e){return e.field==t})))&&i!=o.find((function(e){return e.field==t}))?(e.values[n]=i.create(e),1):null!=r.config.address[t.id]?(e.values[n]=r.field(t),0):(e.values[n]=t.create(e),1)}}}},{key:"init",value:function(e){return[this,U1.of({field:this,create:e})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(t){var n=new e(L1++,t.create,t.update,t.compare||function(e,t){return e===t},t);return t.provide&&(n.provides=t.provide(n)),n}}]),e}(),W1=4,q1=3,K1=2,Y1=1;function G1(e){return function(t){return new X1(t,e)}}var Q1={highest:G1(0),high:G1(Y1),default:G1(K1),low:G1(q1),lowest:G1(W1)},X1=(0,Sa.Z)((function e(t,n){(0,Za.Z)(this,e),this.inner=t,this.prec=n})),$1=function(){function e(){(0,Za.Z)(this,e)}return(0,Sa.Z)(e,[{key:"of",value:function(e){return new J1(this,e)}},{key:"reconfigure",value:function(t){return e.reconfigure.of({compartment:this,extension:t})}},{key:"get",value:function(e){return e.config.compartments.get(this)}}]),e}(),J1=(0,Sa.Z)((function e(t,n){(0,Za.Z)(this,e),this.compartment=t,this.inner=n})),e2=function(){function e(t,n,r,i,a,o){for((0,Za.Z)(this,e),this.base=t,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=a,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}return(0,Sa.Z)(e,[{key:"staticFacet",value:function(e){var t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}}],[{key:"resolve",value:function(t,n,r){var i,a=[],o=Object.create(null),s=new Map,l=(0,sp.Z)(function(e,t,n){var r=[[],[],[],[],[]],i=new Map;function a(e,o){var s=i.get(e);if(null!=s){if(s<=o)return;var l=r[s].indexOf(e);l>-1&&r[s].splice(l,1),e instanceof J1&&n.delete(e.compartment)}if(i.set(e,o),Array.isArray(e)){var c,u=(0,sp.Z)(e);try{for(u.s();!(c=u.n()).done;){a(c.value,o)}}catch(f){u.e(f)}finally{u.f()}}else if(e instanceof J1){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");var d=t.get(e.compartment)||e.inner;n.set(e.compartment,d),a(d,o)}else if(e instanceof X1)a(e.inner,e.prec);else if(e instanceof H1)r[o].push(e),e.provides&&a(e.provides,o);else if(e instanceof F1)r[o].push(e),e.facet.extensions&&a(e.facet.extensions,K1);else{var p=e.extension;if(!p)throw new Error("Unrecognized extension value in extension set (".concat(e,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));a(p,o)}}return a(e,K1),r.reduce((function(e,t){return e.concat(t)}))}(t,n,s));try{for(l.s();!(i=l.n()).done;){var c=i.value;c instanceof H1?a.push(c):(o[c.facet.id]||(o[c.facet.id]=[])).push(c)}}catch(x){l.e(x)}finally{l.f()}for(var u=Object.create(null),d=[],p=[],f=function(){var e=g[h];u[e.id]=p.length<<1,p.push((function(t){return e.slot(t)}))},h=0,g=a;h<g.length;h++)f();var m=null===r||void 0===r?void 0:r.config.facets,v=function(e){var t=o[e],n=t[0].facet,i=m&&m[e]||[];if(t.every((function(e){return 0==e.type})))if(u[n.id]=d.length<<1|1,B1(i,t))d.push(r.facet(n));else{var a=n.combine(t.map((function(e){return e.value})));d.push(r&&n.compare(a,r.facet(n))?r.facet(n):a)}else{var s,l=(0,sp.Z)(t);try{var c=function(){var e=s.value;0==e.type?(u[e.id]=d.length<<1|1,d.push(e.value)):(u[e.id]=p.length<<1,p.push((function(t){return e.dynamicSlot(t)})))};for(l.s();!(s=l.n()).done;)c()}catch(x){l.e(x)}finally{l.f()}u[n.id]=p.length<<1,p.push((function(e){return function(e,t,n){var r=n.map((function(t){return e[t.id]})),i=n.map((function(e){return e.type})),a=r.filter((function(e){return!(1&e)})),o=e[t.id]>>1;function s(e){for(var n=[],a=0;a<r.length;a++){var o=n2(e,r[a]);if(2==i[a]){var s,l=(0,sp.Z)(o);try{for(l.s();!(s=l.n()).done;){var c=s.value;n.push(c)}}catch(x){l.e(x)}finally{l.f()}}else n.push(o)}return t.combine(n)}return{create:function(e){var t,n=(0,sp.Z)(r);try{for(n.s();!(t=n.n()).done;)t2(e,t.value)}catch(x){n.e(x)}finally{n.f()}return e.values[o]=s(e),1},update:function(e,n){if(!V1(e,a))return 0;var r=s(e);return t.compare(r,e.values[o])?0:(e.values[o]=r,1)},reconfigure:function(e,i){var a=V1(e,r),l=i.config.facets[t.id],c=i.facet(t);if(l&&!a&&B1(n,l))return e.values[o]=c,0;var u=s(e);return t.compare(u,c)?(e.values[o]=c,0):(e.values[o]=u,1)}}}(e,n,t)}))}};for(var y in o)v(y);var b=p.map((function(e){return e(u)}));return new e(t,s,b,u,d,o)}}]),e}();function t2(e,t){if(1&t)return 2;var n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;var i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function n2(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}var r2=R1.define(),i2=R1.define({combine:function(e){return e.some((function(e){return e}))},static:!0}),a2=R1.define({combine:function(e){return e.length?e[0]:void 0},static:!0}),o2=R1.define(),s2=R1.define(),l2=R1.define(),c2=R1.define({combine:function(e){return!!e.length&&e[0]}}),u2=function(){function e(t,n){(0,Za.Z)(this,e),this.type=t,this.value=n}return(0,Sa.Z)(e,null,[{key:"define",value:function(){return new d2}}]),e}(),d2=function(){function e(){(0,Za.Z)(this,e)}return(0,Sa.Z)(e,[{key:"of",value:function(e){return new u2(this,e)}}]),e}(),p2=function(){function e(t){(0,Za.Z)(this,e),this.map=t}return(0,Sa.Z)(e,[{key:"of",value:function(e){return new f2(this,e)}}]),e}(),f2=function(){function e(t,n){(0,Za.Z)(this,e),this.type=t,this.value=n}return(0,Sa.Z)(e,[{key:"map",value:function(t){var n=this.type.map(this.value,t);return void 0===n?void 0:n==this.value?this:new e(this.type,n)}},{key:"is",value:function(e){return this.type==e}}],[{key:"define",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new p2(e.map||function(e){return e})}},{key:"mapEffects",value:function(e,t){if(!e.length)return e;var n,r=[],i=(0,sp.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value.map(t);a&&r.push(a)}}catch(o){i.e(o)}finally{i.f()}return r}}]),e}();f2.reconfigure=f2.define(),f2.appendConfig=f2.define();var h2=function(){function e(t,n,r,i,a,o){(0,Za.Z)(this,e),this.startState=t,this.changes=n,this.selection=r,this.effects=i,this.annotations=a,this.scrollIntoView=o,this._doc=null,this._state=null,r&&D1(r,n.newLength),a.some((function(t){return t.type==e.time}))||(this.annotations=a.concat(e.time.of(Date.now())))}return(0,Sa.Z)(e,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){return this._state||this.startState.applyTransaction(this),this._state}},{key:"annotation",value:function(e){var t,n=(0,sp.Z)(this.annotations);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.type==e)return r.value}}catch(i){n.e(i)}finally{n.f()}}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(t){var n=this.annotation(e.userEvent);return!(!n||!(n==t||n.length>t.length&&n.slice(0,t.length)==t&&"."==n[t.length]))}}],[{key:"create",value:function(t,n,r,i,a,o){return new e(t,n,r,i,a,o)}}]),e}();function g2(e,t){for(var n=[],r=0,i=0;;){var a=void 0,o=void 0;if(r<e.length&&(i==t.length||t[i]>=e[r]))a=e[r++],o=e[r++];else{if(!(i<t.length))return n;a=t[i++],o=t[i++]}!n.length||n[n.length-1]<a?n.push(a,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function m2(e,t,n){var r,i,a,o;return n?(i=t.changes,a=Z1.empty(t.changes.length),o=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),a=e.changes.mapDesc(t.changes,!0),o=e.changes.compose(i)),{changes:o,selection:t.selection?t.selection.map(a):null===(r=e.selection)||void 0===r?void 0:r.map(i),effects:f2.mapEffects(e.effects,i).concat(f2.mapEffects(t.effects,a)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function v2(e,t,n){var r=t.selection,i=x2(t.annotations);return t.userEvent&&(i=i.concat(h2.userEvent.of(t.userEvent))),{changes:t.changes instanceof Z1?t.changes:Z1.of(t.changes||[],n,e.facet(a2)),selection:r&&(r instanceof I1?r:I1.single(r.anchor,r.head)),effects:x2(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function y2(e,t,n){var r=v2(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(var i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);var a=!!t[i].sequential;r=m2(r,v2(e,t[i],a?r.changes.newLength:e.doc.length),a)}var o=h2.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){for(var t=e.startState,n=t.facet(l2),r=e,i=n.length-1;i>=0;i--){var a=n[i](e);a&&Object.keys(a).length&&(r=m2(r,v2(t,a,e.changes.newLength),!0))}return r==e?e:h2.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){var t,n=e.startState,r=!0,i=(0,sp.Z)(n.facet(o2));try{for(i.s();!(t=i.n()).done;){var a=(0,t.value)(e);if(!1===a){r=!1;break}Array.isArray(a)&&(r=!0===r?a:g2(r,a))}}catch(p){i.e(p)}finally{i.f()}if(!0!==r){var o,s;if(!1===r)s=e.changes.invertedDesc,o=Z1.empty(n.doc.length);else{var l=e.changes.filter(r);o=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}e=h2.create(n,o,e.selection&&e.selection.map(s),f2.mapEffects(e.effects,s),e.annotations,e.scrollIntoView)}for(var c=n.facet(s2),u=c.length-1;u>=0;u--){var d=c[u](e);e=d instanceof h2?d:Array.isArray(d)&&1==d.length&&d[0]instanceof h2?d[0]:y2(n,x2(d),!1)}return e}(o):o)}h2.time=u2.define(),h2.userEvent=u2.define(),h2.addToHistory=u2.define(),h2.remote=u2.define();var b2=[];function x2(e){return null==e?b2:Array.isArray(e)?e:[e]}var w2,k2=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(k2||(k2={})),_2=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{w2=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Rt){}function C2(e){return function(t){if(!/\S/.test(t))return k2.Space;if(function(e){if(w2)return w2.test(e);for(var t=0;t<e.length;t++){var n=e[t];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||_2.test(n)))return!0}return!1}(t))return k2.Word;for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return k2.Word;return k2.Other}}var j2=function(){function e(t,n,r,i,a,o){(0,Za.Z)(this,e),this.config=t,this.doc=n,this.selection=r,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=a,o&&(o._state=this);for(var s=0;s<this.config.dynamicSlots.length;s++)t2(this,s<<1);this.computeSlot=null}return(0,Sa.Z)(e,[{key:"field",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.config.address[e.id];if(null!=n)return t2(this,n),n2(this,n);if(t)throw new RangeError("Field is not present in this state")}},{key:"update",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y2(this,t,!0)}},{key:"applyTransaction",value:function(t){var n,r,i=this,a=this.config,o=a,s=o.base,l=o.compartments,c=(0,sp.Z)(t.effects);try{for(c.s();!(n=c.n()).done;){var u=n.value;u.is($1.reconfigure)?(a&&(l=new Map,a.compartments.forEach((function(e,t){return l.set(t,e)})),a=null),l.set(u.value.compartment,u.value.extension)):u.is(f2.reconfigure)?(a=null,s=u.value):u.is(f2.appendConfig)&&(a=null,s=x2(s).concat(u.value))}}catch(p){c.e(p)}finally{c.f()}a?r=t.startState.values.slice():r=new e(a=e2.resolve(s,l,this),this.doc,this.selection,a.dynamicSlots.map((function(){return null})),(function(e,t){return t.reconfigure(e,i)}),null).values;var d=t.startState.facet(i2)?t.newSelection:t.newSelection.asSingle();new e(a,t.newDoc,d,r,(function(e,n){return n.update(e,t)}),t)}},{key:"replaceSelection",value:function(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((function(t){return{changes:{from:t.from,to:t.to,insert:e},range:I1.cursor(t.from+e.length)}}))}},{key:"changeByRange",value:function(e){for(var t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],a=x2(n.effects),o=1;o<t.ranges.length;o++){for(var s=e(t.ranges[o]),l=this.changes(s.changes),c=l.map(r),u=0;u<o;u++)i[u]=i[u].map(c);var d=r.mapDesc(l,!0);i.push(s.range.map(d)),r=r.compose(c),a=f2.mapEffects(a,c).concat(f2.mapEffects(x2(s.effects),d))}return{changes:r,selection:I1.create(i,t.mainIndex),effects:a}}},{key:"changes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t instanceof Z1?t:Z1.of(t,this.doc.length,this.facet(e.lineSeparator))}},{key:"toText",value:function(t){return c1.of(t.split(this.facet(e.lineSeparator)||C1))}},{key:"sliceDoc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(e,t,this.lineBreak)}},{key:"facet",value:function(e){var t=this.config.address[e.id];return null==t?e.default:(t2(this,t),n2(this,t))}},{key:"toJSON",value:function(e){var t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(var n in e){var r=e[n];r instanceof H1&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}},{key:"tabSize",get:function(){return this.facet(e.tabSize)}},{key:"lineBreak",get:function(){return this.facet(e.lineSeparator)||"\n"}},{key:"readOnly",get:function(){return this.facet(c2)}},{key:"phrase",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o=(0,sp.Z)(this.facet(e.phrases));try{for(o.s();!(a=o.n()).done;){var s=a.value;if(Object.prototype.hasOwnProperty.call(s,t)){t=s[t];break}}}catch(l){o.e(l)}finally{o.f()}return r.length&&(t=t.replace(/\$(\$|\d*)/g,(function(e,t){if("$"==t)return"$";var n=+(t||1);return!n||n>r.length?e:r[n-1]}))),t}},{key:"languageDataAt",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],a=(0,sp.Z)(this.facet(r2));try{for(a.s();!(n=a.n()).done;){var o,s=n.value,l=(0,sp.Z)(s(this,t,r));try{for(l.s();!(o=l.n()).done;){var c=o.value;Object.prototype.hasOwnProperty.call(c,e)&&i.push(c[e])}}catch(u){l.e(u)}finally{l.f()}}}catch(u){a.e(u)}finally{a.f()}return i}},{key:"charCategorizer",value:function(e){return C2(this.languageDataAt("wordChars",e).join(""))}},{key:"wordAt",value:function(e){for(var t=this.doc.lineAt(e),n=t.text,r=t.from,i=t.length,a=this.charCategorizer(e),o=e-r,s=e-r;o>0;){var l=x1(n,o,!1);if(a(n.slice(l,o))!=k2.Word)break;o=l}for(;s<i;){var c=x1(n,s);if(a(n.slice(s,c))!=k2.Word)break;s=c}return o==s?null:I1.range(o+r,s+r)}}],[{key:"fromJSON",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");var i=[];if(r)for(var a in r)Object.prototype.hasOwnProperty.call(t,a)&&function(){var e=r[a],n=t[a];i.push(e.init((function(t){return e.spec.fromJSON(n,t)})))}();return e.create({doc:t.doc,selection:I1.fromJSON(t.selection),extensions:n.extensions?i.concat([n.extensions]):i})}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e2.resolve(t.extensions||[],new Map),r=t.doc instanceof c1?t.doc:c1.of((t.doc||"").split(n.staticFacet(e.lineSeparator)||C1)),i=t.selection?t.selection instanceof I1?t.selection:I1.single(t.selection.anchor,t.selection.head):I1.single(0);return D1(i,r.length),n.staticFacet(i2)||(i=i.asSingle()),new e(n,r,i,n.dynamicSlots.map((function(){return null})),(function(e,t){return t.create(e)}),null)}}]),e}();function S2(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={},a=(0,sp.Z)(e);try{for(a.s();!(n=a.n()).done;)for(var o=n.value,s=0,l=Object.keys(o);s<l.length;s++){var c=l[s],u=o[c],d=i[c];if(void 0===d)i[c]=u;else if(d===u||void 0===u);else{if(!Object.hasOwnProperty.call(r,c))throw new Error("Config merge conflict for field "+c);i[c]=r[c](d,u)}}}catch(f){a.e(f)}finally{a.f()}for(var p in t)void 0===i[p]&&(i[p]=t[p]);return i}j2.allowMultipleSelections=i2,j2.tabSize=R1.define({combine:function(e){return e.length?e[0]:4}}),j2.lineSeparator=a2,j2.readOnly=c2,j2.phrases=R1.define({compare:function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((function(n){return e[n]==t[n]}))}}),j2.languageData=r2,j2.changeFilter=o2,j2.transactionFilter=s2,j2.transactionExtender=l2,$1.reconfigure=f2.define();var Z2=function(){function e(){(0,Za.Z)(this,e)}return(0,Sa.Z)(e,[{key:"eq",value:function(e){return this==e}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return N2.create(e,t,this)}}]),e}();Z2.prototype.startSide=Z2.prototype.endSide=0,Z2.prototype.point=!1,Z2.prototype.mapMode=j1.TrackDel;var N2=function(){function e(t,n,r){(0,Za.Z)(this,e),this.from=t,this.to=n,this.value=r}return(0,Sa.Z)(e,null,[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}();function E2(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}var O2=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.from=t,this.to=n,this.value=r,this.maxPoint=i}return(0,Sa.Z)(e,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n?this.to:this.from,a=r,o=i.length;;){if(a==o)return a;var s=a+o>>1,l=i[s]-e||(n?this.value[s].endSide:this.value[s].startSide)-t;if(s==a)return l>=0?a:o;l>=0?o=s:a=s+1}}},{key:"between",value:function(e,t,n,r){for(var i=this.findIndex(t,-1e9,!0),a=this.findIndex(n,1e9,!1,i);i<a;i++)if(!1===r(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}},{key:"map",value:function(t,n){for(var r=[],i=[],a=[],o=-1,s=-1,l=0;l<this.value.length;l++){var c=this.value[l],u=this.from[l]+t,d=this.to[l]+t,p=void 0,f=void 0;if(u==d){var h=n.mapPos(u,c.startSide,c.mapMode);if(null==h)continue;if(p=f=h,c.startSide!=c.endSide&&(f=n.mapPos(u,c.endSide))<p)continue}else if((p=n.mapPos(u,c.startSide))>(f=n.mapPos(d,c.endSide))||p==f&&c.startSide>0&&c.endSide<=0)continue;(f-p||c.endSide-c.startSide)<0||(o<0&&(o=p),c.point&&(s=Math.max(s,f-p)),r.push(c),i.push(p-o),a.push(f-o))}return{mapped:r.length?new e(i,a,r,s):null,pos:o}}}]),e}(),A2=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.chunkPos=t,this.chunk=n,this.nextLayer=r,this.maxPoint=i}return(0,Sa.Z)(e,[{key:"length",get:function(){var e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var e,t=this.nextLayer.size,n=(0,sp.Z)(this.chunk);try{for(n.s();!(e=n.n()).done;){t+=e.value.value.length}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"chunkEnd",value:function(e){return this.chunkPos[e]+this.chunk[e].length}},{key:"update",value:function(t){var n=t.add,r=void 0===n?[]:n,i=t.sort,a=void 0!==i&&i,o=t.filterFrom,s=void 0===o?0:o,l=t.filterTo,c=void 0===l?this.length:l,u=t.filter;if(0==r.length&&!u)return this;if(a&&(r=r.slice().sort(E2)),this.isEmpty)return r.length?e.of(r):this;for(var d=new I2(this,null,-1).goto(0),p=0,f=[],h=new P2;d.value||p<r.length;)if(p<r.length&&(d.from-r[p].from||d.startSide-r[p].value.startSide)>=0){var g=r[p++];h.addInner(g.from,g.to,g.value)||f.push(g)}else 1==d.rangeIndex&&d.chunkIndex<this.chunk.length&&(p==r.length||this.chunkEnd(d.chunkIndex)<r[p].from)&&(!u||s>this.chunkEnd(d.chunkIndex)||c<this.chunkPos[d.chunkIndex])&&h.addChunk(this.chunkPos[d.chunkIndex],this.chunk[d.chunkIndex])?d.nextChunk():((!u||s>d.to||c<d.from||u(d.from,d.to,d.value))&&(h.addInner(d.from,d.to,d.value)||f.push(N2.create(d.from,d.to,d.value))),d.next());return h.finishInner(this.nextLayer.isEmpty&&!f.length?e.empty:this.nextLayer.update({add:f,filter:u,filterFrom:s,filterTo:c}))}},{key:"map",value:function(t){if(t.empty||this.isEmpty)return this;for(var n=[],r=[],i=-1,a=0;a<this.chunk.length;a++){var o=this.chunkPos[a],s=this.chunk[a],l=t.touchesRange(o,o+s.length);if(!1===l)i=Math.max(i,s.maxPoint),n.push(s),r.push(t.mapPos(o));else if(!0===l){var c=s.map(o,t),u=c.mapped,d=c.pos;u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(d))}}var p=this.nextLayer.map(t);return 0==n.length?p:new e(r,n,p||e.empty,i)}},{key:"between",value:function(e,t,n){if(!this.isEmpty){for(var r=0;r<this.chunk.length;r++){var i=this.chunkPos[r],a=this.chunk[r];if(t>=i&&e<=i+a.length&&!1===a.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}},{key:"iter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return D2.from([this]).goto(e)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"create",value:function(t,n,r,i){return new e(t,n,r,i)}},{key:"iter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return D2.from(e).goto(t)}},{key:"compare",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=e.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),o=t.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),s=M2(a,o,n),l=new R2(a,s,i),c=new R2(o,s,i);n.iterGaps((function(e,t,n){return B2(l,e,c,t,n,r)})),n.empty&&0==n.length&&B2(l,0,c,0,0,r)}},{key:"eq",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;null==r&&(r=999999999);var i=e.filter((function(e){return!e.isEmpty&&t.indexOf(e)<0})),a=t.filter((function(t){return!t.isEmpty&&e.indexOf(t)<0}));if(i.length!=a.length)return!1;if(!i.length)return!0;for(var o=M2(i,a),s=new R2(i,o,0).goto(n),l=new R2(a,o,0).goto(n);;){if(s.to!=l.to||!F2(s.active,l.active)||s.point&&(!l.point||!s.point.eq(l.point)))return!1;if(s.to>r)return!0;s.next(),l.next()}}},{key:"spans",value:function(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=new R2(e,null,i).goto(t),o=t,s=a.openStart;;){var l=Math.min(a.to,n);if(a.point){var c=a.activeForPoint(a.to),u=a.pointFrom<t?c.length+1:a.point.startSide<0?c.length:Math.min(c.length,s);r.point(o,l,a.point,c,u,a.pointRank),s=Math.min(a.openEnd(l),c.length)}else l>o&&(r.span(o,l,a.active,s),s=a.openEnd(l));if(a.to>n)return s+(a.point&&a.to>n?1:0);o=a.to,a.next()}}},{key:"of",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new P2,i=(0,sp.Z)(e instanceof N2?[e]:n?T2(e):e);try{for(i.s();!(t=i.n()).done;){var a=t.value;r.add(a.from,a.to,a.value)}}catch(o){i.e(o)}finally{i.f()}return r.finish()}},{key:"join",value:function(t){if(!t.length)return e.empty;for(var n=t[t.length-1],r=t.length-2;r>=0;r--)for(var i=t[r];i!=e.empty;i=i.nextLayer)n=new e(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}]),e}();function T2(e){if(e.length>1)for(var t=e[0],n=1;n<e.length;n++){var r=e[n];if(E2(t,r)>0)return e.slice().sort(E2);t=r}return e}A2.empty=new A2([],[],null,-1),A2.empty.nextLayer=A2.empty;var P2=function(){function e(){(0,Za.Z)(this,e),this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}return(0,Sa.Z)(e,[{key:"finishChunk",value:function(e){this.chunks.push(new O2(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(t,n,r){this.addInner(t,n,r)||(this.nextLayer||(this.nextLayer=new e)).add(t,n,r)}},{key:"addInner",value:function(e,t,n){var r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}},{key:"addChunk",value:function(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);var n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}},{key:"finish",value:function(){return this.finishInner(A2.empty)}},{key:"finishInner",value:function(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;var t=A2.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}]),e}();function M2(e,t,n){var r,i=new Map,a=(0,sp.Z)(e);try{for(a.s();!(r=a.n()).done;)for(var o=r.value,s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&i.set(o.chunk[s],o.chunkPos[s])}catch(h){a.e(h)}finally{a.f()}var l,c=new Set,u=(0,sp.Z)(t);try{for(u.s();!(l=u.n()).done;)for(var d=l.value,p=0;p<d.chunk.length;p++){var f=i.get(d.chunk[p]);null==f||(n?n.mapPos(f):f)!=d.chunkPos[p]||(null===n||void 0===n?void 0:n.touchesRange(f,f+d.chunk[p].length))||c.add(d.chunk[p])}}catch(h){u.e(h)}finally{u.f()}return c}var I2=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,Za.Z)(this,e),this.layer=t,this.skip=n,this.minPoint=r,this.rank=i}return(0,Sa.Z)(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}},{key:"gotoInner",value:function(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){var r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){var i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}},{key:"forward",value:function(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}},{key:"next",value:function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}},{key:"nextChunk",value:function(){this.chunkIndex++,this.rangeIndex=0,this.next()}},{key:"compare",value:function(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}]),e}(),D2=function(){function e(t){(0,Za.Z)(this,e),this.heap=t}return(0,Sa.Z)(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9,r=(0,sp.Z)(this.heap);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.goto(e,n)}}catch(o){r.e(o)}finally{r.f()}for(var a=this.heap.length>>1;a>=0;a--)L2(this.heap,a);return this.next(),this}},{key:"forward",value:function(e,t){var n,r=(0,sp.Z)(this.heap);try{for(r.s();!(n=r.n()).done;){n.value.forward(e,t)}}catch(a){r.e(a)}finally{r.f()}for(var i=this.heap.length>>1;i>=0;i--)L2(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{var e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),L2(this.heap,0)}}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],a=0;a<t.length;a++)for(var o=t[a];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new I2(o,n,r,a));return 1==i.length?i[0]:new e(i)}}]),e}();function L2(e,t){for(var n=e[t];;){var r=1+(t<<1);if(r>=e.length)break;var i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}var R2=function(){function e(t,n,r){(0,Za.Z)(this,e),this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=D2.from(t,n,r)}return(0,Sa.Z)(e,[{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}},{key:"forward",value:function(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}},{key:"removeActive",value:function(e){z2(this.active,e),z2(this.activeTo,e),z2(this.activeRank,e),this.minActive=U2(this.active,this.activeTo)}},{key:"addActive",value:function(e){for(var t=0,n=this.cursor,r=n.value,i=n.to,a=n.rank;t<this.activeRank.length&&(a-this.activeRank[t]||i-this.activeTo[t])>0;)t++;V2(this.active,t,r),V2(this.activeTo,t,i),V2(this.activeRank,t,a),e&&V2(e,t,this.cursor.from),this.minActive=U2(this.active,this.activeTo)}},{key:"next",value:function(){var e=this.to,t=this.point;this.point=null;for(var n=this.openStart<0?[]:null;;){var r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&z2(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}var i=this.cursor.value;if(i.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}if(n){this.openStart=0;for(var a=n.length-1;a>=0&&n[a]<e;a--)this.openStart++}}},{key:"activeForPoint",value:function(e){if(!this.active.length)return this.active;for(var t=[],n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}},{key:"openEnd",value:function(e){for(var t=0,n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}]),e}();function B2(e,t,n,r,i,a){e.goto(t),n.goto(r);for(var o=r+i,s=r,l=r-t;;){var c=e.to+l-n.to,u=c||e.endSide-n.endSide,d=u<0?e.to+l:n.to,p=Math.min(d,o);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&F2(e.activeForPoint(e.to),n.activeForPoint(n.to))||a.comparePoint(s,p,e.point,n.point):p>s&&!F2(e.active,n.active)&&a.compareRange(s,p,e.active,n.active),d>o)break;(c||e.openEnd!=n.openEnd)&&a.boundChange&&a.boundChange(d),s=d,u<=0&&e.next(),u>=0&&n.next()}}function F2(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function z2(e,t){for(var n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function V2(e,t,n){for(var r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function U2(e,t){for(var n=-1,r=1e9,i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function H2(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0;i<n&&i<e.length;)9==e.charCodeAt(i)?(r+=t-r%t,i++):(r++,i=x1(e,i));return r}function W2(e,t,n,r){for(var i=0,a=0;;){if(a>=t)return i;if(i==e.length)break;a+=9==e.charCodeAt(i)?n-a%n:1,i=x1(e,i)}return!0===r?-1:e.length}for(var q2=n(97326),K2="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),Y2="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),G2="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{},Q2=function(){function e(t,n){(0,Za.Z)(this,e),this.rules=[];var r=(n||{}).finish;function i(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function a(e,t,n,o){var s=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return n.push(e[0]+";");for(var u in t){var d=t[u];if(/&/.test(u))a(u.split(/,\s*/).map((function(t){return e.map((function(e){return t.replace(/&/,e)}))})).reduce((function(e,t){return e.concat(t)})),d,n);else if(d&&"object"==typeof d){if(!l)throw new RangeError("The value of a property ("+u+") should be a primitive value.");a(i(u),d,s,c)}else null!=d&&s.push(u.replace(/_.*/,"").replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))+": "+d+";")}(s.length||c)&&n.push((!r||l||o?e:e.map(r)).join(", ")+" {"+s.join(" ")+"}")}for(var o in t)a(i(o),t[o],this.rules)}return(0,Sa.Z)(e,[{key:"getRules",value:function(){return this.rules.join("\n")}}],[{key:"newName",value:function(){var e=G2[K2]||1;return G2[K2]=e+1,"\u037c"+e.toString(36)}},{key:"mount",value:function(e,t,n){var r=e[Y2],i=n&&n.nonce;r?i&&r.setNonce(i):r=new $2(e,i),r.mount(Array.isArray(t)?t:[t],e)}}]),e}(),X2=new Map,$2=function(){function e(t,n){(0,Za.Z)(this,e);var r=t.ownerDocument||t,i=r.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){var a=X2.get(r);if(a)return t[Y2]=a;this.sheet=new i.CSSStyleSheet,X2.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],t[Y2]=this}return(0,Sa.Z)(e,[{key:"mount",value:function(e,t){for(var n=this.sheet,r=0,i=0,a=0;a<e.length;a++){var o=e[a],s=this.modules.indexOf(o);if(s<i&&s>-1&&(this.modules.splice(s,1),i--,s=-1),-1==s){if(this.modules.splice(i++,0,o),n)for(var l=0;l<o.rules.length;l++)n.insertRule(o.rules[l],r++)}else{for(;i<s;)r+=this.modules[i++].rules.length;r+=o.rules.length,i++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet].concat((0,we.Z)(t.adoptedStyleSheets)));else{for(var c="",u=0;u<this.modules.length;u++)c+=this.modules[u].getRules()+"\n";this.styleTag.textContent=c;var d=t.head||t;this.styleTag.parentNode!=d&&d.insertBefore(this.styleTag,d.firstChild)}}},{key:"setNonce",value:function(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}]),e}(),J2={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},e3={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},t3="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),n3="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),r3=0;r3<10;r3++)J2[48+r3]=J2[96+r3]=String(r3);for(r3=1;r3<=24;r3++)J2[r3+111]="F"+r3;for(r3=65;r3<=90;r3++)J2[r3]=String.fromCharCode(r3+32),e3[r3]=String.fromCharCode(r3);for(var i3 in J2)e3.hasOwnProperty(i3)||(e3[i3]=J2[i3]);var a3="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},o3="undefined"!=typeof document?document:{documentElement:{style:{}}},s3=/Edge\/(\d+)/.exec(a3.userAgent),l3=/MSIE \d/.test(a3.userAgent),c3=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(a3.userAgent),u3=!!(l3||c3||s3),d3=!u3&&/gecko\/(\d+)/i.test(a3.userAgent),p3=!u3&&/Chrome\/(\d+)/.exec(a3.userAgent),f3="webkitFontSmoothing"in o3.documentElement.style,h3=!u3&&/Apple Computer/.test(a3.vendor),g3=h3&&(/Mobile\/\w+/.test(a3.userAgent)||a3.maxTouchPoints>2),m3={mac:g3||/Mac/.test(a3.platform),windows:/Win/.test(a3.platform),linux:/Linux|X11/.test(a3.platform),ie:u3,ie_version:l3?o3.documentMode||6:c3?+c3[1]:s3?+s3[1]:0,gecko:d3,gecko_version:d3?+(/Firefox\/(\d+)/.exec(a3.userAgent)||[0,0])[1]:0,chrome:!!p3,chrome_version:p3?+p3[1]:0,ios:g3,android:/Android\b/.test(a3.userAgent),webkit:f3,webkit_version:f3?+(/\bAppleWebKit\/(\d+)/.exec(a3.userAgent)||[0,0])[1]:0,safari:h3,safari_version:h3?+(/\bVersion\/(\d+(\.\d+)?)/.exec(a3.userAgent)||[0,0])[1]:0,tabSize:null!=o3.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};function v3(e){return(11==e.nodeType?e.getSelection?e:e.ownerDocument:e).getSelection()}function y3(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function b3(e,t){if(!t.anchorNode)return!1;try{return y3(e,t.anchorNode)}catch(Rt){return!1}}function x3(e){return 3==e.nodeType?P3(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function w3(e,t,n,r){return!!n&&(C3(e,t,n,r,-1)||C3(e,t,n,r,1))}function k3(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function _3(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function C3(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:j3(e))){if("DIV"==e.nodeName)return!1;var a=e.parentNode;if(!a||1!=a.nodeType)return!1;t=k3(e)+(i<0?0:1),e=a}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?j3(e):0}}}function j3(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function S3(e,t){var n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function Z3(e){var t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function N3(e,t){var n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}var E3,O3=function(){function e(){(0,Za.Z)(this,e),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return(0,Sa.Z)(e,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"setRange",value:function(e){var t=e.anchorNode,n=e.focusNode;this.set(t,Math.min(e.anchorOffset,t?j3(t):0),n,Math.min(e.focusOffset,n?j3(n):0))}},{key:"set",value:function(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}]),e}(),A3=null;function T3(e){if(e.setActive)return e.setActive();if(A3)return e.focus(A3);for(var t=[],n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==A3?{get preventScroll(){return A3={preventScroll:!0},!0}}:void 0),!A3){A3=!1;for(var r=0;r<t.length;){var i=t[r++],a=t[r++],o=t[r++];i.scrollTop!=a&&(i.scrollTop=a),i.scrollLeft!=o&&(i.scrollLeft=o)}}}function P3(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=E3||(E3=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function M3(e,t,n,r){var i={key:t,code:t,keyCode:n,which:n,cancelable:!0};r&&(i.altKey=r.altKey,i.ctrlKey=r.ctrlKey,i.shiftKey=r.shiftKey,i.metaKey=r.metaKey);var a=new KeyboardEvent("keydown",i);a.synthetic=!0,e.dispatchEvent(a);var o=new KeyboardEvent("keyup",i);return o.synthetic=!0,e.dispatchEvent(o),a.defaultPrevented||o.defaultPrevented}function I3(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function D3(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function L3(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}function R3(e,t){for(var n=e,r=t;;){if(3==n.nodeType&&r>0)return{node:n,offset:r};if(1==n.nodeType&&r>0){if("false"==n.contentEditable)return null;r=j3(n=n.childNodes[r-1])}else{if(!n.parentNode||_3(n))return null;r=k3(n),n=n.parentNode}}}function B3(e,t){for(var n=e,r=t;;){if(3==n.nodeType&&r<n.nodeValue.length)return{node:n,offset:r};if(1==n.nodeType&&r<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[r],r=0}else{if(!n.parentNode||_3(n))return null;r=k3(n)+1,n=n.parentNode}}}m3.safari&&m3.safari_version>=26&&(A3=!1);var F3=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,Za.Z)(this,e),this.node=t,this.offset=n,this.precise=r}return(0,Sa.Z)(e,null,[{key:"before",value:function(t,n){return new e(t.parentNode,k3(t),n)}},{key:"after",value:function(t,n){return new e(t.parentNode,k3(t)+1,n)}}]),e}(),z3=[],V3=function(){function e(){(0,Za.Z)(this,e),this.parent=null,this.dom=null,this.flags=2}return(0,Sa.Z)(e,[{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"posBefore",value:function(e){var t,n=this.posAtStart,r=(0,sp.Z)(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i==e)return n;n+=i.length+i.breakAfter}}catch(a){r.e(a)}finally{r.f()}throw new RangeError("Invalid child in posBefore")}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"sync",value:function(t,n){if(2&this.flags){var r,i,a=this.dom,o=null,s=(0,sp.Z)(this.children);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(7&l.flags){if(!l.dom&&(r=o?o.nextSibling:a.firstChild)){var c=e.get(r);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(r)}l.sync(t,n),l.flags&=-8}if(r=o?o.nextSibling:a.firstChild,n&&!n.written&&n.node==a&&r!=l.dom&&(n.written=!0),l.dom.parentNode==a)for(;r&&r!=l.dom;)r=U3(r);else a.insertBefore(l.dom,r);o=l.dom}}catch(f){s.e(f)}finally{s.f()}for((r=o?o.nextSibling:a.firstChild)&&n&&n.node==a&&(n.written=!0);r;)r=U3(r)}else if(1&this.flags){var u,d=(0,sp.Z)(this.children);try{for(d.s();!(u=d.n()).done;){var p=u.value;7&p.flags&&(p.sync(t,n),p.flags&=-8)}}catch(f){d.e(f)}finally{d.f()}}}},{key:"reuseDOM",value:function(e){}},{key:"localPosFromDOM",value:function(t,n){var r;if(t==this.dom)r=this.dom.childNodes[n];else{for(var i=0==j3(t)?0:0==n?-1:1;;){var a=t.parentNode;if(a==this.dom)break;0==i&&a.firstChild!=a.lastChild&&(i=t==a.firstChild?-1:1),t=a}r=i<0?t:t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!e.get(r);)r=r.nextSibling;if(!r)return this.length;for(var o=0,s=0;;o++){var l=this.children[o];if(l.dom==r)return s;s+=l.length+l.breakAfter}}},{key:"domBoundsAround",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=-1,i=-1,a=-1,o=-1,s=0,l=n,c=n;s<this.children.length;s++){var u=this.children[s],d=l+u.length;if(l<e&&d>t)return u.domBoundsAround(e,t,l);if(d>=e&&-1==r&&(r=s,i=l),l>t&&u.dom.parentNode==this.dom){a=s,o=c;break}c=d,l=d+u.breakAfter}return{from:i,to:o<0?n+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}},{key:"markDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.flags|=2,this.markParentsDirty(e)}},{key:"markParentsDirty",value:function(e){for(var t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}},{key:"rootView",get:function(){for(var e=this;;){var t=e.parent;if(!t)return e;e=t}}},{key:"replaceChildren",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z3;this.markDirty();for(var i=e;i<t;i++){var a=this.children[i];a.parent==this&&r.indexOf(a)<0&&a.destroy()}r.length<250?(n=this.children).splice.apply(n,[e,t-e].concat((0,we.Z)(r))):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(var o=0;o<r.length;o++)r[o].setParent(this)}},{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;return new H3(this.children,e,this.children.length)}},{key:"childPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,t)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"isEditable",get:function(){return!0}},{key:"isWidget",get:function(){return!1}},{key:"isHidden",get:function(){return!1}},{key:"merge",value:function(e,t,n,r,i,a){return!1}},{key:"become",value:function(e){return!1}},{key:"canReuseDOM",value:function(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}},{key:"getSide",value:function(){return 0}},{key:"destroy",value:function(){var e,t=(0,sp.Z)(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parent==this&&n.destroy()}}catch(r){t.e(r)}finally{t.f()}this.parent=null}}],[{key:"get",value:function(e){return e.cmView}}]),e}();function U3(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}V3.prototype.breakAfter=0;var H3=function(){function e(t,n,r){(0,Za.Z)(this,e),this.children=t,this.pos=n,this.i=r,this.off=0}return(0,Sa.Z)(e,[{key:"findPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}]),e}();function W3(e,t,n,r,i,a,o,s,l){var c=e.children,u=c.length?c[t]:null,d=a.length?a[a.length-1]:null,p=d?d.breakAfter:o;if(!(t==r&&u&&!o&&!p&&a.length<2&&u.merge(n,i,a.length?d:null,0==n,s,l))){if(r<c.length){var f=c[r];f&&(i<f.length||f.breakAfter&&(null===d||void 0===d?void 0:d.breakAfter))?(t==r&&(f=f.split(i),i=0),!p&&d&&f.merge(0,i,d,!0,0,l)?a[a.length-1]=f:((i||f.children.length&&!f.children[0].length)&&f.merge(0,i,null,!1,0,l),a.push(f))):(null===f||void 0===f?void 0:f.breakAfter)&&(d?d.breakAfter=1:o=1),r++}for(u&&(u.breakAfter=o,n>0&&(!o&&a.length&&u.merge(n,u.length,a[0],!1,s,0)?u.breakAfter=a.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,s,0),t++));t<r&&a.length;)if(c[r-1].become(a[a.length-1]))r--,a.pop(),l=a.length?0:s;else{if(!c[t].become(a[0]))break;t++,a.shift(),s=a.length?0:l}!a.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,s,l)&&t--,(t<r||a.length)&&e.replaceChildren(t,r,a)}}function q3(e,t,n,r,i,a){var o,s=e.childCursor(),l=s.findPos(n,1),c=l.i,u=l.off,d=s.findPos(t,-1),p=d.i,f=d.off,h=t-n,g=(0,sp.Z)(r);try{for(g.s();!(o=g.n()).done;){h+=o.value.length}}catch(m){g.e(m)}finally{g.f()}e.length+=h,W3(e,p,f,c,u,r,0,i,a)}var K3=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this)).text=e,r}return(0,Sa.Z)(n,[{key:"length",get:function(){return this.text.length}},{key:"createDOM",value:function(e){this.setDOM(e||document.createTextNode(this.text))}},{key:"sync",value:function(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(e){3==e.nodeType&&this.createDOM(e)}},{key:"merge",value:function(e,t,r){return!(8&this.flags||r&&(!(r instanceof n)||this.length-(t-e)+r.length>256||8&r.flags))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}},{key:"split",value:function(e){var t=new n(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}},{key:"localPosFromDOM",value:function(e,t){return e==this.dom?t:t?this.text.length:0}},{key:"domAtPos",value:function(e){return new F3(this.dom,e)}},{key:"domBoundsAround",value:function(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(e,t){return function(e,t,n){var r=e.nodeValue.length;t>r&&(t=r);var i=t,a=t,o=0;0==t&&n<0||t==r&&n>=0?m3.chrome||m3.gecko||(t?(i--,o=1):a<r&&(a++,o=-1)):n<0?i--:a<r&&a++;var s=P3(e,i,a).getClientRects();if(!s.length)return null;var l=s[(o?o<0:n>=0)?0:s.length-1];m3.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(s,(function(e){return e.width}))||l);return o?S3(l,o<0):l||null}(this.dom,e,t)}}]),n}(V3),Y3=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,Za.Z)(this,n),(r=t.call(this)).mark=e,r.children=i,r.length=a;var o,s=(0,sp.Z)(i);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.setParent((0,q2.Z)(r))}}catch(c){s.e(c)}finally{s.f()}return r}return(0,Sa.Z)(n,[{key:"setAttrs",value:function(e){if(D3(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(var t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}},{key:"canReuseDOM",value:function(e){return(0,Q0.Z)((0,X0.Z)(n.prototype),"canReuseDOM",this).call(this,e)&&!(8&(this.flags|e.flags))}},{key:"reuseDOM",value:function(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}},{key:"sync",value:function(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),(0,Q0.Z)((0,X0.Z)(n.prototype),"sync",this).call(this,e,t)}},{key:"merge",value:function(e,t,r,i,a,o){return(!r||!(!(r instanceof n&&r.mark.eq(this.mark))||e&&a<=0||t<this.length&&o<=0))&&(q3(this,e,t,r?r.children.slice():[],a-1,o-1),this.markDirty(),!0)}},{key:"split",value:function(e){var t,r=[],i=0,a=-1,o=0,s=(0,sp.Z)(this.children);try{for(s.s();!(t=s.n()).done;){var l=t.value,c=i+l.length;c>e&&r.push(i<e?l.split(e-i):l),a<0&&i>=e&&(a=o),i=c,o++}}catch(d){s.e(d)}finally{s.f()}var u=this.length-e;return this.length=e,a>-1&&(this.children.length=a,this.markDirty()),new n(this.mark,r,u)}},{key:"domAtPos",value:function(e){return X3(this,e)}},{key:"coordsAt",value:function(e,t){return J3(this,e,t)}}]),n}(V3);var G3=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r,i){var a;return(0,Za.Z)(this,n),(a=t.call(this)).widget=e,a.length=r,a.side=i,a.prevWidget=null,a}return(0,Sa.Z)(n,[{key:"split",value:function(e){var t=n.create(this.widget,this.length-e,this.side);return this.length-=e,t}},{key:"sync",value:function(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(e,t,r,i,a,o){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&a<=0||t<this.length&&o<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"become",value:function(e){return e instanceof n&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"overrideDOMText",get:function(){if(0==this.length)return c1.empty;for(var e=this;e.parent;)e=e.parent;var t=e.view,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):c1.empty}},{key:"domAtPos",value:function(e){return(this.length?0==e:this.side>0)?F3.before(this.dom):F3.after(this.dom,e==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e,t){var n=this.widget.coordsAt(this.dom,e,t);if(n)return n;var r=this.dom.getClientRects(),i=null;if(!r.length)return null;for(var a=this.side?this.side<0:e>0,o=a?r.length-1:0;i=r[o],!(e>0?0==o:o==r.length-1||i.top<i.bottom);o+=a?-1:1);return S3(i,!a)}},{key:"isEditable",get:function(){return!1}},{key:"isWidget",get:function(){return!0}},{key:"isHidden",get:function(){return this.widget.isHidden}},{key:"destroy",value:function(){(0,Q0.Z)((0,X0.Z)(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}],[{key:"create",value:function(e,t,r){return new n(e,t,r)}}]),n}(V3),Q3=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this)).side=e,r}return(0,Sa.Z)(n,[{key:"length",get:function(){return 0}},{key:"merge",value:function(){return!1}},{key:"become",value:function(e){return e instanceof n&&e.side==this.side}},{key:"split",value:function(){return new n(this.side)}},{key:"sync",value:function(){if(!this.dom){var e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}},{key:"getSide",value:function(){return this.side}},{key:"domAtPos",value:function(e){return this.side>0?F3.before(this.dom):F3.after(this.dom)}},{key:"localPosFromDOM",value:function(){return 0}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e){return this.dom.getBoundingClientRect()}},{key:"overrideDOMText",get:function(){return c1.empty}},{key:"isHidden",get:function(){return!0}}]),n}(V3);function X3(e,t){for(var n=e.dom,r=e.children,i=0,a=0;i<r.length;i++){var o=r[i],s=a+o.length;if(!(s==a&&o.getSide()<=0)){if(t>a&&t<s&&o.dom.parentNode==n)return o.domAtPos(t-a);if(t<=a)break;a=s}}for(var l=i;l>0;l--){var c=r[l-1];if(c.dom.parentNode==n)return c.domAtPos(c.length)}for(var u=i;u<r.length;u++){var d=r[u];if(d.dom.parentNode==n)return d.domAtPos(0)}return new F3(n,0)}function $3(e,t,n){var r,i=e.children;n>0&&t instanceof Y3&&i.length&&(r=i[i.length-1])instanceof Y3&&r.mark.eq(t.mark)?$3(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function J3(e,t,n){var r=null,i=-1,a=null,o=-1;!function e(t,s){for(var l=0,c=0;l<t.children.length&&c<=s;l++){var u=t.children[l],d=c+u.length;d>=s&&(u.children.length?e(u,s-c):(!a||a.isHidden&&(n>0||e4(a,u)))&&(d>s||c==d&&u.getSide()>0)?(a=u,o=s-c):(c<s||c==d&&u.getSide()<0&&!u.isHidden)&&(r=u,i=s-c)),c=d}}(e,t);var s=(n<0?r:a)||r||a;return s?s.coordsAt(Math.max(0,s==r?i:o),n):function(e){var t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();var n=x3(t);return n[n.length-1]||null}(e)}function e4(e,t){var n=e.coordsAt(0,1),r=t.coordsAt(0,1);return n&&r&&r.top<n.bottom}function t4(e,t){for(var n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}K3.prototype.children=G3.prototype.children=Q3.prototype.children=z3;var n4=Object.create(null);function r4(e,t,n){if(e==t)return!0;e||(e=n4),t||(t=n4);var r=Object.keys(e),i=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s!=n&&(-1==i.indexOf(s)||e[s]!==t[s]))return!1}return!0}function i4(e,t,n){var r=!1;if(t)for(var i in t)n&&i in n||(r=!0,"style"==i?e.style.cssText="":e.removeAttribute(i));if(n)for(var a in n)t&&t[a]==n[a]||(r=!0,"style"==a?e.style.cssText=n[a]:e.setAttribute(a,n[a]));return r}function a4(e){for(var t=Object.create(null),n=0;n<e.attributes.length;n++){var r=e.attributes[n];t[r.name]=r.value}return t}var o4=function(){function e(){(0,Za.Z)(this,e)}return(0,Sa.Z)(e,[{key:"eq",value:function(e){return!1}},{key:"updateDOM",value:function(e,t){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"estimatedHeight",get:function(){return-1}},{key:"lineBreaks",get:function(){return 0}},{key:"ignoreEvent",value:function(e){return!0}},{key:"coordsAt",value:function(e,t,n){return null}},{key:"isHidden",get:function(){return!1}},{key:"editable",get:function(){return!1}},{key:"destroy",value:function(e){}}]),e}(),s4=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(s4||(s4={})),l4=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r,i,a){var o;return(0,Za.Z)(this,n),(o=t.call(this)).startSide=e,o.endSide=r,o.widget=i,o.spec=a,o}return(0,Sa.Z)(n,[{key:"heightRelevant",get:function(){return!1}},{key:"hasHeight",value:function(){return!!this.widget&&this.widget.estimatedHeight>-1}}],[{key:"mark",value:function(e){return new c4(e)}},{key:"widget",value:function(e){var t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new d4(e,t,t,n,e.widget||null,!1)}},{key:"replace",value:function(e){var t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{var i=p4(e,r);t=(i.start?r?-3e8:-1:5e8)-1,n=1+(i.end?r?2e8:1:-6e8)}return new d4(e,t,n,r,e.widget||null,!0)}},{key:"line",value:function(e){return new u4(e)}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return A2.of(e,t)}}]),n}(Z2);l4.none=A2.empty;var c4=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;(0,Za.Z)(this,n);var i=p4(e),a=i.start,o=i.end;return(r=t.call(this,a?-1:5e8,o?1:-6e8,null,e)).tagName=e.tagName||"span",r.class=e.class||"",r.attrs=e.attributes||null,r}return(0,Sa.Z)(n,[{key:"eq",value:function(e){var t,r;return this==e||e instanceof n&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(r=e.attrs)||void 0===r?void 0:r.class))&&r4(this.attrs,e.attrs,"class")}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e>=t)throw new RangeError("Mark decorations may not be empty");return(0,Q0.Z)((0,X0.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(l4);c4.prototype.point=!1;var u4=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){return(0,Za.Z)(this,n),t.call(this,-2e8,-2e8,null,e)}return(0,Sa.Z)(n,[{key:"eq",value:function(e){return e instanceof n&&this.spec.class==e.spec.class&&r4(this.spec.attributes,e.spec.attributes)}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return(0,Q0.Z)((0,X0.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(l4);u4.prototype.mapMode=j1.TrackBefore,u4.prototype.point=!0;var d4=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r,i,a,o,s){var l;return(0,Za.Z)(this,n),(l=t.call(this,r,i,o,e)).block=a,l.isReplace=s,l.mapMode=a?r<=0?j1.TrackBefore:j1.TrackAfter:j1.TrackDel,l}return(0,Sa.Z)(n,[{key:"type",get:function(){return this.startSide!=this.endSide?s4.WidgetRange:this.startSide<=0?s4.WidgetBefore:s4.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}},{key:"eq",value:function(e){return e instanceof n&&function(e,t){return e==t||!!(e&&t&&e.compare(t))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return(0,Q0.Z)((0,X0.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(l4);function p4(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.inclusiveStart,r=e.inclusiveEnd;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!==n&&void 0!==n?n:t,end:null!==r&&void 0!==r?r:t}}function f4(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}d4.prototype.point=!0;var h4=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(){var e;return(0,Za.Z)(this,n),(e=t.apply(this,arguments)).children=[],e.length=0,e.prevAttrs=void 0,e.attrs=null,e.breakAfter=0,e}return(0,Sa.Z)(n,[{key:"merge",value:function(e,t,r,i,a,o){if(r){if(!(r instanceof n))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),q3(this,e,t,r?r.children.slice():[],a,o),!0}},{key:"split",value:function(e){var t=new n;if(t.breakAfter=this.breakAfter,0==this.length)return t;var r=this.childPos(e),i=r.i,a=r.off;a&&(t.append(this.children[i].split(a),0),this.children[i].merge(a,this.children[i].length,null,!1,0,0),i++);for(var o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}},{key:"transferDOM",value:function(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(e){r4(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}},{key:"append",value:function(e,t){$3(this,e,t)}},{key:"addLineDeco",value:function(e){var t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=t4(t,this.attrs||{})),n&&(this.attrs=t4({class:n},this.attrs||{}))}},{key:"domAtPos",value:function(e){return X3(this,e)}},{key:"reuseDOM",value:function(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}},{key:"sync",value:function(e,t){var r;this.dom?4&this.flags&&(D3(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(i4(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),(0,Q0.Z)((0,X0.Z)(n.prototype),"sync",this).call(this,e,t);for(var i=this.dom.lastChild;i&&V3.get(i)instanceof Y3;)i=i.lastChild;if(!i||!this.length||"BR"!=i.nodeName&&0==(null===(r=V3.get(i))||void 0===r?void 0:r.isEditable)&&(!m3.ios||!this.children.some((function(e){return e instanceof K3})))){var a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}},{key:"measureTextSize",value:function(){if(0==this.children.length||this.length>20)return null;var e,t,n=0,r=(0,sp.Z)(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!(i instanceof K3)||/[^ -~]/.test(i.text))return null;var a=x3(i.dom);if(1!=a.length)return null;n+=a[0].width,e=a[0].height}}catch(o){r.e(o)}finally{r.f()}return n?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:n/this.length,textHeight:e}:null}},{key:"coordsAt",value:function(e,t){var n=J3(this,e,t);if(!this.children.length&&n&&this.parent){var r=this.parent.view.viewState.heightOracle,i=n.bottom-n.top;if(Math.abs(i-r.lineHeight)<2&&r.textHeight<i){var a=(i-r.textHeight)/2;return{top:n.top+a,bottom:n.bottom-a,left:n.left,right:n.left}}}return n}},{key:"become",value:function(e){return e instanceof n&&0==this.children.length&&0==e.children.length&&r4(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}},{key:"covers",value:function(){return!0}}],[{key:"find",value:function(e,t){for(var r=0,i=0;r<e.children.length;r++){var a=e.children[r],o=i+a.length;if(o>=t){if(a instanceof n)return a;if(o>t)break}i=o+a.breakAfter}return null}}]),n}(V3),g4=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r,i){var a;return(0,Za.Z)(this,n),(a=t.call(this)).widget=e,a.length=r,a.deco=i,a.breakAfter=0,a.prevWidget=null,a}return(0,Sa.Z)(n,[{key:"merge",value:function(e,t,r,i,a,o){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&a<=0||t<this.length&&o<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"domAtPos",value:function(e){return 0==e?F3.before(this.dom):F3.after(this.dom,e==this.length)}},{key:"split",value:function(e){var t=this.length-e;this.length=e;var r=new n(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}},{key:"children",get:function(){return z3}},{key:"sync",value:function(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):c1.empty}},{key:"domBoundsAround",value:function(){return null}},{key:"become",value:function(e){return e instanceof n&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"isEditable",get:function(){return!1}},{key:"isWidget",get:function(){return!0}},{key:"coordsAt",value:function(e,t){var n=this.widget.coordsAt(this.dom,e,t);return n||(this.widget instanceof m4?null:S3(this.dom.getBoundingClientRect(),this.length?0==e:t<=0))}},{key:"destroy",value:function(){(0,Q0.Z)((0,X0.Z)(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}},{key:"covers",value:function(e){var t=this.deco,n=t.startSide,r=t.endSide;return n!=r&&(e<0?n<0:r>0)}}]),n}(V3),m4=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this)).height=e,r}return(0,Sa.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}},{key:"eq",value:function(e){return e.height==this.height}},{key:"updateDOM",value:function(e){return e.style.height=this.height+"px",!0}},{key:"editable",get:function(){return!0}},{key:"estimatedHeight",get:function(){return this.height}},{key:"ignoreEvent",value:function(){return!1}}]),n}(o4),v4=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.doc=t,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=n}return(0,Sa.Z)(e,[{key:"posCovered",value:function(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof g4&&e.deco.endSide<0)}},{key:"getLine",value:function(){return this.curLine||(this.content.push(this.curLine=new h4),this.atCursorPos=!0),this.curLine}},{key:"flushBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bufferMarks;this.pendingBuffer&&(this.curLine.append(y4(new Q3(-1),e),e.length),this.pendingBuffer=0)}},{key:"addBlockWidget",value:function(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}},{key:"finish",value:function(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof g4||this.getLine()}},{key:"buildText",value:function(e,t,n){for(;e>0;){if(this.textOff==this.text.length){var r=this.cursor.next(this.skip),i=r.value,a=r.lineBreak,o=r.done;if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=i,this.textOff=0}var s=Math.min(this.text.length-this.textOff,e),l=Math.min(s,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(y4(new K3(this.text.slice(this.textOff,this.textOff+l)),t),n),this.atCursorPos=!0,this.textOff+=l,e-=l,n=s<=l?0:t.length}}},{key:"span",value:function(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}},{key:"point",value:function(e,t,n,r,i,a){if(this.disallowBlockEffectsFor[a]&&n instanceof d4){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}var o=t-e;if(n instanceof d4)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new g4(n.widget||b4.block,o,n));else{var s=G3.create(n.widget||b4.inline,o,o?0:n.startSide),l=this.atCursorPos&&!s.isEditable&&i<=r.length&&(e<t||n.startSide>0),c=!s.isEditable&&(e<t||i>r.length||n.startSide<=0),u=this.getLine();2!=this.pendingBuffer||l||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),l&&(u.append(y4(new Q3(1),r),i),i=r.length+Math.max(0,i-r.length)),u.append(y4(s,r),i),this.atCursorPos=c,this.pendingBuffer=c?e<t||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}}],[{key:"build",value:function(t,n,r,i,a){var o=new e(t,n,r,a);return o.openEnd=A2.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}]),e}();function y4(e,t){var n,r=(0,sp.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=new Y3(i,[e],e.length)}}catch(a){r.e(a)}finally{r.f()}return e}var b4=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this)).tag=e,r}return(0,Sa.Z)(n,[{key:"eq",value:function(e){return e.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(e){return e.nodeName.toLowerCase()==this.tag}},{key:"isHidden",get:function(){return!0}}]),n}(o4);b4.inline=new b4("span"),b4.block=new b4("div");var x4=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(x4||(x4={})),w4=x4.LTR,k4=x4.RTL;function _4(e){for(var t=[],n=0;n<e.length;n++)t.push(1<<+e[n]);return t}for(var C4=_4("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),j4=_4("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),S4=Object.create(null),Z4=[],N4=0,E4=["()","[]","{}"];N4<E4.length;N4++){var O4=E4[N4],A4=O4.charCodeAt(0),T4=O4.charCodeAt(1);S4[A4]=T4,S4[T4]=-A4}function P4(e){return e<=247?C4[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?j4[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}var M4=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,I4=function(){function e(t,n,r){(0,Za.Z)(this,e),this.from=t,this.to=n,this.level=r}return(0,Sa.Z)(e,[{key:"dir",get:function(){return this.level%2?k4:w4}},{key:"side",value:function(e,t){return this.dir==t==e?this.to:this.from}},{key:"forward",value:function(e,t){return e==(this.dir==t)}}],[{key:"find",value:function(e,t,n,r){for(var i=-1,a=0;a<e.length;a++){var o=e[a];if(o.from<=t&&o.to>=t){if(o.level==n)return a;(i<0||(0!=r?r<0?o.from<t:o.to>t:e[i].level>o.level))&&(i=a)}}if(i<0)throw new RangeError("Index out of range");return i}}]),e}();function D4(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!D4(r.inner,i.inner))return!1}return!0}var L4=[];function R4(e,t,n,r,i,a,o){var s=r%2?2:1;if(r%2==i%2)for(var l=t,c=0;l<n;){var u=!0,d=!1;if(c==a.length||l<a[c].from){var p=L4[l];p!=s&&(u=!1,d=16==p)}var f=u||1!=s?null:[],h=u?r:r+1,g=l;e:for(;;)if(c<a.length&&g==a[c].from){if(d)break e;var m=a[c];if(!u)for(var v=m.to,y=c+1;;){if(v==n)break e;if(!(y<a.length&&a[y].from==v)){if(L4[v]==s)break e;break}v=a[y++].to}if(c++,f)f.push(m);else m.from>l&&o.push(new I4(l,m.from,h)),B4(e,m.direction==w4!=!(h%2)?r+1:r,i,m.inner,m.from,m.to,o),l=m.to;g=m.to}else{if(g==n||(u?L4[g]!=s:L4[g]==s))break;g++}f?R4(e,l,g,r+1,i,f,o):l<g&&o.push(new I4(l,g,h)),l=g}else for(var b=n,x=a.length;b>t;){var w=!0,k=!1;if(!x||b>a[x-1].to){var _=L4[b-1];_!=s&&(w=!1,k=16==_)}var C=w||1!=s?null:[],j=w?r:r+1,S=b;e:for(;;)if(x&&S==a[x-1].to){if(k)break e;var Z=a[--x];if(!w)for(var N=Z.from,E=x;;){if(N==t)break e;if(!E||a[E-1].to!=N){if(L4[N-1]==s)break e;break}N=a[--E].from}if(C)C.push(Z);else Z.to<b&&o.push(new I4(Z.to,b,j)),B4(e,Z.direction==w4!=!(j%2)?r+1:r,i,Z.inner,Z.from,Z.to,o),b=Z.from;S=Z.from}else{if(S==t||(w?L4[S-1]!=s:L4[S-1]==s))break;S--}C?R4(e,S,b,r+1,i,C,o):S<b&&o.push(new I4(S,b,j)),b=S}}function B4(e,t,n,r,i,a,o){var s=t%2?2:1;!function(e,t,n,r,i){for(var a=0;a<=r.length;a++){for(var o=a?r[a-1].to:t,s=a<r.length?r[a].from:n,l=a?256:i,c=o,u=l,d=l;c<s;c++){var p=P4(e.charCodeAt(c));512==p?p=u:8==p&&4==d&&(p=16),L4[c]=4==p?2:p,7&p&&(d=p),u=p}for(var f=o,h=l,g=l;f<s;f++){var m=L4[f];if(128==m)f<s-1&&h==L4[f+1]&&24&h?m=L4[f]=h:L4[f]=256;else if(64==m){for(var v=f+1;v<s&&64==L4[v];)v++;for(var y=f&&8==h||v<n&&8==L4[v]?1==g?1:8:256,b=f;b<v;b++)L4[b]=y;f=v-1}else 8==m&&1==g&&(L4[f]=1);h=m,7&m&&(g=m)}}}(e,i,a,r,s),function(e,t,n,r,i){for(var a=1==i?2:1,o=0,s=0,l=0;o<=r.length;o++)for(var c,u,d,p=o?r[o-1].to:t,f=o<r.length?r[o].from:n,h=p;h<f;h++)if(u=S4[c=e.charCodeAt(h)])if(u<0){for(var g=s-3;g>=0;g-=3)if(Z4[g+1]==-u){var m=Z4[g+2],v=2&m?i:4&m?1&m?a:i:0;v&&(L4[h]=L4[Z4[g]]=v),s=g;break}}else{if(189==Z4.length)break;Z4[s++]=h,Z4[s++]=c,Z4[s++]=l}else if(2==(d=L4[h])||1==d){var y=d==i;l=y?0:1;for(var b=s-3;b>=0;b-=3){var x=Z4[b+2];if(2&x)break;if(y)Z4[b+2]|=2;else{if(4&x)break;Z4[b+2]|=4}}}}(e,i,a,r,s),function(e,t,n,r){for(var i=0,a=r;i<=n.length;i++)for(var o=i?n[i-1].to:e,s=i<n.length?n[i].from:t,l=o;l<s;){var c=L4[l];if(256==c){for(var u=l+1;;)if(u==s){if(i==n.length)break;u=n[i++].to,s=i<n.length?n[i].from:t}else{if(256!=L4[u])break;u++}for(var d=1==a,p=d==(1==(u<t?L4[u]:r))?d?1:2:r,f=u,h=i,g=h?n[h-1].to:e;f>l;)f==g&&(f=n[--h].from,g=h?n[h-1].to:e),L4[--f]=p;l=u}else a=c,l++}}(i,a,r,s),R4(e,i,a,t,n,r,o)}function F4(e,t,n){if(!e)return[new I4(0,0,t==k4?1:0)];if(t==w4&&!n.length&&!M4.test(e))return z4(e.length);if(n.length)for(;e.length>L4.length;)L4[L4.length]=256;var r=[],i=t==w4?0:1;return B4(e,i,i,n,0,e.length,r),r}function z4(e){return[new I4(0,e,0)]}var V4="";function U4(e,t,n,r,i){var a,o=r.head-e.from,s=I4.find(t,o,null!==(a=r.bidiLevel)&&void 0!==a?a:-1,r.assoc),l=t[s],c=l.side(i,n);if(o==c){var u=s+=i?1:-1;if(u<0||u>=t.length)return null;o=(l=t[s=u]).side(!i,n),c=l.side(i,n)}var d=x1(e.text,o,l.forward(i,n));(d<l.from||d>l.to)&&(d=c),V4=e.text.slice(Math.min(o,d),Math.max(o,d));var p=s==(i?t.length-1:0)?null:t[s+(i?1:-1)];return p&&d==c&&p.level+(i?0:1)<l.level?I1.cursor(p.side(!i,n)+e.from,p.forward(i,n)?1:-1,p.level):I1.cursor(d+e.from,l.forward(i,n)?-1:1,l.level)}function H4(e,t,n){for(var r=t;r<n;r++){var i=P4(e.charCodeAt(r));if(1==i)return w4;if(2==i||4==i)return k4}return w4}var W4=R1.define(),q4=R1.define(),K4=R1.define(),Y4=R1.define(),G4=R1.define(),Q4=R1.define(),X4=R1.define(),$4=R1.define(),J4=R1.define(),e5=R1.define({combine:function(e){return e.some((function(e){return e}))}}),t5=R1.define({combine:function(e){return e.some((function(e){return e}))}}),n5=R1.define(),r5=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];(0,Za.Z)(this,e),this.range=t,this.y=n,this.x=r,this.yMargin=i,this.xMargin=a,this.isSnapshot=o}return(0,Sa.Z)(e,[{key:"map",value:function(t){return t.empty?this:new e(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}},{key:"clip",value:function(t){return this.range.to<=t.doc.length?this:new e(I1.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}]),e}(),i5=f2.define({map:function(e,t){return e.map(t)}}),a5=f2.define();function o5(e,t,n){var r=e.facet(Y4);r.length?r[0](t):window.onerror&&window.onerror(String(t),n,void 0,void 0,t)||(n?console.error(n+":",t):console.error(t))}var s5=R1.define({combine:function(e){return!e.length||e[0]}}),l5=0,c5=R1.define({combine:function(e){return e.filter((function(t,n){for(var r=0;r<n;r++)if(e[r].plugin==t.plugin)return!1;return!0}))}}),u5=function(){function e(t,n,r,i,a){(0,Za.Z)(this,e),this.id=t,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=a(this),this.extension=this.baseExtensions.concat(c5.of({plugin:this,arg:void 0}))}return(0,Sa.Z)(e,[{key:"of",value:function(e){return this.baseExtensions.concat(c5.of({plugin:this,arg:e}))}}],[{key:"define",value:function(t,n){var r=n||{},i=r.eventHandlers,a=r.eventObservers,o=r.provide,s=r.decorations;return new e(l5++,t,i,a,(function(e){var t=[];return s&&t.push(h5.of((function(t){var n=t.plugin(e);return n?s(n):l4.none}))),o&&t.push(o(e)),t}))}},{key:"fromClass",value:function(t,n){return e.define((function(e,n){return new t(e,n)}),n)}}]),e}(),d5=function(){function e(t){(0,Za.Z)(this,e),this.spec=t,this.mustUpdate=null,this.value=null}return(0,Sa.Z)(e,[{key:"plugin",get:function(){return this.spec&&this.spec.plugin}},{key:"update",value:function(e){if(this.value){if(this.mustUpdate){var t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(o5(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(Rt){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){o5(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}},{key:"destroy",value:function(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(n){o5(e.state,n,"CodeMirror plugin crashed")}}},{key:"deactivate",value:function(){this.spec=this.value=null}}]),e}(),p5=R1.define(),f5=R1.define(),h5=R1.define(),g5=R1.define(),m5=R1.define(),v5=R1.define();function y5(e,t){var n=e.state.facet(v5);if(!n.length)return n;var r=n.map((function(t){return t instanceof Function?t(e):t})),i=[];return A2.spans(r,t.from,t.to,{point:function(){},span:function(e,n,r,a){for(var o=e-t.from,s=n-t.from,l=i,c=r.length-1;c>=0;c--,a--){var u=r[c].spec.bidiIsolate,d=void 0;if(null==u&&(u=H4(t.text,o,s)),a>0&&l.length&&(d=l[l.length-1]).to==o&&d.direction==u)d.to=s,l=d.inner;else{var p={from:o,to:s,direction:u,inner:[]};l.push(p),l=p.inner}}}}),i}var b5=R1.define();function x5(e){var t,n=0,r=0,i=0,a=0,o=(0,sp.Z)(e.state.facet(b5));try{for(o.s();!(t=o.n()).done;){var s=(0,t.value)(e);s&&(null!=s.left&&(n=Math.max(n,s.left)),null!=s.right&&(r=Math.max(r,s.right)),null!=s.top&&(i=Math.max(i,s.top)),null!=s.bottom&&(a=Math.max(a,s.bottom)))}}catch(l){o.e(l)}finally{o.f()}return{left:n,right:r,top:i,bottom:a}}var w5=R1.define(),k5=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}return(0,Sa.Z)(e,[{key:"join",value:function(t){return new e(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}},{key:"addToSet",value:function(e){for(var t=e.length,n=this;t>0;t--){var r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}}],[{key:"extendWithRanges",value:function(t,n){if(0==n.length)return t;for(var r=[],i=0,a=0,o=0,s=0;;i++){for(var l=i==t.length?null:t[i],c=o-s,u=l?l.fromB:1e9;a<n.length&&n[a]<u;){var d=n[a],p=n[a+1],f=Math.max(s,d),h=Math.min(u,p);if(f<=h&&new e(f+c,h+c,f,h).addToSet(r),p>u)break;a+=2}if(!l)return r;new e(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,s=l.toB}}}]),e}(),_5=function(){function e(t,n,r){(0,Za.Z)(this,e),this.view=t,this.state=n,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=Z1.empty(this.startState.doc.length);var i,a=(0,sp.Z)(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.changes=this.changes.compose(o.changes)}}catch(l){a.e(l)}finally{a.f()}var s=[];this.changes.iterChangedRanges((function(e,t,n,r){return s.push(new k5(e,t,n,r))})),this.changedRanges=s}return(0,Sa.Z)(e,[{key:"viewportChanged",get:function(){return(4&this.flags)>0}},{key:"viewportMoved",get:function(){return(8&this.flags)>0}},{key:"heightChanged",get:function(){return(2&this.flags)>0}},{key:"geometryChanged",get:function(){return this.docChanged||(18&this.flags)>0}},{key:"focusChanged",get:function(){return(1&this.flags)>0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"selectionSet",get:function(){return this.transactions.some((function(e){return e.selection}))}},{key:"empty",get:function(){return 0==this.flags&&0==this.transactions.length}}],[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}(),C5=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this)).view=e,r.decorations=[],r.dynamicDecorationMap=[!1],r.domChanged=null,r.hasComposition=null,r.markedForComposition=new Set,r.editContextFormatting=l4.none,r.lastCompositionAfterCursor=!1,r.minWidth=0,r.minWidthFrom=0,r.minWidthTo=0,r.impreciseAnchor=null,r.impreciseHead=null,r.forceSelection=!1,r.lastUpdate=Date.now(),r.setDOM(e.contentDOM),r.children=[new h4],r.children[0].setParent((0,q2.Z)(r)),r.updateDeco(),r.updateInner([new k5(0,0,0,e.state.doc.length)],0,null),r}return(0,Sa.Z)(n,[{key:"length",get:function(){return this.view.state.doc.length}},{key:"update",value:function(e){var t,n=this,r=e.changedRanges;this.minWidth>0&&r.length&&(r.every((function(e){var t=e.fromA;return e.toA<n.minWidthFrom||t>n.minWidthTo}))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);var i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?i=this.domChanged.newSel.head:function(e,t){var n=!1;t&&e.iterChangedRanges((function(e,r){e<t.to&&r>t.from&&(n=!0)}));return n}(e.changes,this.hasComposition)||e.selectionSet||(i=e.state.selection.main.head));var a=i>-1?function(e,t,n){var r=S5(e,n);if(!r)return null;var i=r.node,a=r.from,o=r.to,s=i.nodeValue;if(/[\n\r]/.test(s))return null;if(e.state.doc.sliceString(r.from,r.to)!=s)return null;for(var l=t.invertedDesc,c=new k5(l.mapPos(a),l.mapPos(o),a,o),u=[],d=i.parentNode;;d=d.parentNode){var p=V3.get(d);if(p instanceof Y3)u.push({node:d,deco:p.mark});else{if(p instanceof h4||"DIV"==d.nodeName&&d.parentNode==e.contentDOM)return{range:c,text:i,marks:u,line:d};if(d==e.contentDOM)return null;u.push({node:d,deco:new c4({inclusive:!0,attributes:a4(d),tagName:d.tagName.toLowerCase()})})}}}(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();var o=this.hasComposition,s=o.from,l=o.to;r=new k5(s,l,e.changes.mapPos(s,-1),e.changes.mapPos(l,1)).addToSet(r.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(m3.ie||m3.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);var c=function(e,t,n){var r=new N5;return A2.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return r=k5.extendWithRanges(r,c),!!(7&this.flags||0!=r.length)&&(this.updateInner(r,e.startState.doc.length,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}},{key:"updateInner",value:function(e,t,n){var r=this;this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);var i=this.view.observer;i.ignore((function(){r.dom.style.height=r.view.viewState.contentHeight/r.view.scaleY+"px",r.dom.style.flexBasis=r.minWidth?r.minWidth+"px":"";var e=m3.chrome||m3.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;r.sync(r.view,e),r.flags&=-8,e&&(e.written||i.selectionRange.focusNode!=e.node)&&(r.forceSelection=!0),r.dom.style.height=""})),this.markedForComposition.forEach((function(e){return e.flags&=-9}));var a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){var o,s=(0,sp.Z)(this.children);try{for(s.s();!(o=s.n()).done;){var l=o.value;l instanceof g4&&l.widget instanceof m4&&a.push(l.dom)}}catch(c){s.e(c)}finally{s.f()}}i.updateGaps(a)}},{key:"updateChildren",value:function(e,t,n){for(var r=n?n.range.addToSet(e.slice()):e,i=this.childCursor(t),a=r.length-1;;a--){var o=a>=0?r[a]:null;if(!o)break;var s=o.fromA,l=o.toA,c=o.fromB,u=o.toB,d=void 0,p=void 0,f=void 0,h=void 0;if(n&&n.range.fromB<u&&n.range.toB>c){var g=v4.build(this.view.state.doc,c,n.range.fromB,this.decorations,this.dynamicDecorationMap),m=v4.build(this.view.state.doc,n.range.toB,u,this.decorations,this.dynamicDecorationMap);p=g.breakAtStart,f=g.openStart,h=m.openEnd;var v=this.compositionView(n);m.breakAtStart?v.breakAfter=1:m.content.length&&v.merge(v.length,v.length,m.content[0],!1,m.openStart,0)&&(v.breakAfter=m.content[0].breakAfter,m.content.shift()),g.content.length&&v.merge(0,0,g.content[g.content.length-1],!0,0,g.openEnd)&&g.content.pop(),d=g.content.concat(v).concat(m.content)}else{var y=v4.build(this.view.state.doc,c,u,this.decorations,this.dynamicDecorationMap);d=y.content,p=y.breakAtStart,f=y.openStart,h=y.openEnd}var b=i.findPos(l,1),x=b.i,w=b.off,k=i.findPos(s,-1);W3(this,k.i,k.off,x,w,d,p,f,h)}n&&this.fixCompositionDOM(n)}},{key:"updateEditContextFormatting",value:function(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);var t,n=(0,sp.Z)(e.transactions);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=(0,sp.Z)(i.effects);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.is(a5)&&(this.editContextFormatting=o.value)}}catch(s){a.e(s)}finally{a.f()}}}catch(s){n.e(s)}finally{n.f()}}},{key:"compositionView",value:function(e){var t=new K3(e.text.nodeValue);t.flags|=8;var n,r=(0,sp.Z)(e.marks);try{for(r.s();!(n=r.n()).done;){var i=n.value.deco;t=new Y3(i,[t],t.length)}}catch(o){r.e(o)}finally{r.f()}var a=new h4;return a.append(t,0),a}},{key:"fixCompositionDOM",value:function(e){var t=this,n=function(e,n){n.flags|=8|(n.children.some((function(e){return 7&e.flags}))?1:0),t.markedForComposition.add(n);var r=V3.get(e);r&&r!=n&&(r.dom=null),n.setDOM(e)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(var a=e.marks.length-1;a>=-1;a--)r=i.childPos(r.off,1),i=i.children[r.i],n(a>=0?e.marks[a].node:e.text,i)}},{key:"updateSelection",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();var r=this.view.root.activeElement,i=r==this.dom,a=!i&&!(this.view.state.facet(s5)||this.dom.tabIndex>-1)&&b3(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(i||n||a){var o=this.forceSelection;this.forceSelection=!1;var s=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(s.anchor)),c=s.empty?l:this.moveToLine(this.domAtPos(s.head));if(m3.gecko&&s.empty&&!this.hasComposition&&j5(l)){var u=document.createTextNode("");this.view.observer.ignore((function(){return l.node.insertBefore(u,l.node.childNodes[l.offset]||null)})),l=c=new F3(u,0),o=!0}var d=this.view.observer.selectionRange;!o&&d.focusNode&&(w3(l.node,l.offset,d.anchorNode,d.anchorOffset)&&w3(c.node,c.offset,d.focusNode,d.focusOffset)||this.suppressWidgetCursorChange(d,s))||(this.view.observer.ignore((function(){m3.android&&m3.chrome&&e.dom.contains(d.focusNode)&&E5(d.focusNode,e.dom)&&(e.dom.blur(),e.dom.focus({preventScroll:!0}));var t=v3(e.view.root);if(t)if(s.empty){if(m3.gecko){var n=Z5(l.node,l.offset);if(n&&3!=n){var i=(1==n?R3:B3)(l.node,l.offset);i&&(l=new F3(i.node,i.offset))}}t.collapse(l.node,l.offset),null!=s.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=s.bidiLevel)}else if(t.extend){t.collapse(l.node,l.offset);try{t.extend(c.node,c.offset)}catch(Rt){}}else{var o=document.createRange();if(s.anchor>s.head){var u=[c,l];l=u[0],c=u[1]}o.setEnd(c.node,c.offset),o.setStart(l.node,l.offset),t.removeAllRanges(),t.addRange(o)}else;a&&e.view.root.activeElement==e.dom&&(e.dom.blur(),r&&r.focus())})),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new F3(d.anchorNode,d.anchorOffset),this.impreciseHead=c.precise?null:new F3(d.focusNode,d.focusOffset)}}},{key:"suppressWidgetCursorChange",value:function(e,t){return this.hasComposition&&t.empty&&w3(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}},{key:"enforceCursorAssoc",value:function(){if(!this.hasComposition){var e=this.view,t=e.state.selection.main,n=v3(e.root),r=e.observer.selectionRange,i=r.anchorNode,a=r.anchorOffset;if(n&&t.empty&&t.assoc&&n.modify){var o=h4.find(this,t.head);if(o){var s=o.posAtStart;if(t.head!=s&&t.head!=s+o.length){var l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(l&&c&&!(l.bottom>c.top)){var u=this.domAtPos(t.head+t.assoc);n.collapse(u.node,u.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();var d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&n.collapse(i,a)}}}}}}},{key:"moveToLine",value:function(e){var t,n=this.dom;if(e.node!=n)return e;for(var r=e.offset;!t&&r<n.childNodes.length;r++){var i=V3.get(n.childNodes[r]);i instanceof h4&&(t=i.domAtPos(0))}for(var a=e.offset-1;!t&&a>=0;a--){var o=V3.get(n.childNodes[a]);o instanceof h4&&(t=o.domAtPos(o.length))}return t?new F3(t.node,t.offset,!0):e}},{key:"nearest",value:function(e){for(var t=e;t;){var n=V3.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}},{key:"posFromDOM",value:function(e,t){var n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}},{key:"domAtPos",value:function(e){for(var t=this.childCursor().findPos(e,-1),n=t.i,r=t.off;n<this.children.length-1;){var i=this.children[n];if(r<i.length||i instanceof h4)break;n++,r=0}return this.children[n].domAtPos(r)}},{key:"coordsAt",value:function(e,t){for(var n=null,r=0,i=this.length,a=this.children.length-1;a>=0;a--){var o=this.children[a],s=i-o.breakAfter,l=s-o.length;if(s<e)break;if(l<=e&&(l<e||o.covers(-1))&&(s>e||o.covers(1))&&(!n||o instanceof h4&&!(n instanceof h4&&t>=0)))n=o,r=l;else if(n&&l==e&&s==e&&o instanceof g4&&Math.abs(t)<2){if(o.deco.startSide<0)break;a&&(n=null)}i=l}return n?n.coordsAt(e-r,t):null}},{key:"coordsForChar",value:function(e){var t=this.childPos(e,1),n=t.i,r=t.off,i=this.children[n];if(!(i instanceof h4))return null;for(;i.children.length;){for(var a=i.childPos(r,1),o=a.i,s=a.off;;o++){if(o==i.children.length)return null;if((i=i.children[o]).length)break}r=s}if(!(i instanceof K3))return null;var l=x1(i.text,r);if(l==r)return null;for(var c=P3(i.dom,r,l).getClientRects(),u=0;u<c.length;u++){var d=c[u];if(u==c.length-1||d.top<d.bottom&&d.left<d.right)return d}return null}},{key:"measureVisibleLineHeights",value:function(e){for(var t=[],n=e.from,r=e.to,i=this.view.contentDOM.clientWidth,a=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,s=this.view.textDirection==x4.LTR,l=0,c=0;c<this.children.length;c++){var u=this.children[c],d=l+u.length;if(d>r)break;if(l>=n){var p=u.dom.getBoundingClientRect();if(t.push(p.height),a){var f=u.dom.lastChild,h=f?x3(f):[];if(h.length){var g=h[h.length-1],m=s?g.right-p.left:p.right-g.left;m>o&&(o=m,this.minWidth=i,this.minWidthFrom=l,this.minWidthTo=d)}}}l=d+u.breakAfter}return t}},{key:"textDirectionAt",value:function(e){var t=this.childPos(e,1).i;return"rtl"==getComputedStyle(this.children[t].dom).direction?x4.RTL:x4.LTR}},{key:"measureTextSize",value:function(){var e,t=this,n=(0,sp.Z)(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r instanceof h4){var i=r.measureTextSize();if(i)return i}}}catch(c){n.e(c)}finally{n.f()}var a,o,s,l=document.createElement("div");return l.className="cm-line",l.style.width="99999px",l.style.position="absolute",l.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((function(){t.dom.appendChild(l);var e=x3(l.firstChild)[0];a=l.getBoundingClientRect().height,o=e?e.width/27:7,s=e?e.height:a,l.remove()})),{lineHeight:a,charWidth:o,textHeight:s}}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,t=this.children.length;return t&&(e-=this.children[--t].length),new H3(this.children,e,t)}},{key:"computeBlockGapDeco",value:function(){for(var e=[],t=this.view.viewState,n=0,r=0;;r++){var i=r==t.viewports.length?null:t.viewports[r],a=i?i.from-1:this.length;if(a>n){var o=(t.lineBlockAt(a).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(l4.replace({widget:new m4(o),block:!0,inclusive:!0,isBlockGap:!0}).range(n,a))}if(!i)break;n=i.to+1}return l4.set(e)}},{key:"updateDeco",value:function(){var e=this,t=1,n=this.view.state.facet(h5).map((function(n){return(e.dynamicDecorationMap[t++]="function"==typeof n)?n(e.view):n})),r=!1,i=this.view.state.facet(g5).map((function(t,n){var i="function"==typeof t;return i&&(r=!0),i?t(e.view):t}));for(i.length&&(this.dynamicDecorationMap[t++]=r,n.push(A2.join(i))),this.decorations=[this.editContextFormatting].concat((0,we.Z)(n),[this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]);t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}},{key:"scrollIntoView",value:function(e){if(e.isSnapshot){var t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}var n,r=(0,sp.Z)(this.view.state.facet(n5));try{for(r.s();!(n=r.n()).done;){var i=n.value;try{if(i(this.view,e.range,e))return!0}catch(f){o5(this.view.state,f,"scroll handler")}}}catch(h){r.e(h)}finally{r.f()}var a,o=e.range,s=this.coordsAt(o.head,o.empty?o.assoc:o.head>o.anchor?-1:1);if(s){!o.empty&&(a=this.coordsAt(o.anchor,o.anchor>o.head?-1:1))&&(s={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top),right:Math.max(s.right,a.right),bottom:Math.max(s.bottom,a.bottom)});var l=x5(this.view),c={left:s.left-l.left,top:s.top-l.top,right:s.right+l.right,bottom:s.bottom+l.bottom},u=this.view.scrollDOM,d=u.offsetWidth,p=u.offsetHeight;!function(e,t,n,r,i,a,o,s){for(var l=e.ownerDocument,c=l.defaultView||window,u=e,d=!1;u&&!d;)if(1==u.nodeType){var p=void 0,f=u==l.body,h=1,g=1;if(f)p=Z3(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}var m=u.getBoundingClientRect(),v=N3(u,m);h=v.scaleX,g=v.scaleY,p={left:m.left,right:m.left+u.clientWidth*h,top:m.top,bottom:m.top+u.clientHeight*g}}var y=0,b=0;if("nearest"==i)t.top<p.top?(b=t.top-(p.top+o),n>0&&t.bottom>p.bottom+b&&(b=t.bottom-p.bottom+o)):t.bottom>p.bottom&&(b=t.bottom-p.bottom+o,n<0&&t.top-b<p.top&&(b=t.top-(p.top+o)));else{var x=t.bottom-t.top,w=p.bottom-p.top;b=("center"==i&&x<=w?t.top+x/2-w/2:"start"==i||"center"==i&&n<0?t.top-o:t.bottom-w+o)-p.top}if("nearest"==r?t.left<p.left?(y=t.left-(p.left+a),n>0&&t.right>p.right+y&&(y=t.right-p.right+a)):t.right>p.right&&(y=t.right-p.right+a,n<0&&t.left<p.left+y&&(y=t.left-(p.left+a))):y=("center"==r?t.left+(t.right-t.left)/2-(p.right-p.left)/2:"start"==r==s?t.left-a:t.right-(p.right-p.left)+a)-p.left,y||b)if(f)c.scrollBy(y,b);else{var k=0,_=0;if(b){var C=u.scrollTop;u.scrollTop+=b/g,_=(u.scrollTop-C)*g}if(y){var j=u.scrollLeft;u.scrollLeft+=y/h,k=(u.scrollLeft-j)*h}t={left:t.left-k,top:t.top-_,right:t.right-k,bottom:t.bottom-_},k&&Math.abs(k-y)<1&&(r="nearest"),_&&Math.abs(_-b)<1&&(i="nearest")}if(f)break;(t.top<p.top||t.bottom>p.bottom||t.left<p.left||t.right>p.right)&&(t={left:Math.max(t.left,p.left),right:Math.min(t.right,p.right),top:Math.max(t.top,p.top),bottom:Math.min(t.bottom,p.bottom)}),u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,c,o.head<o.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,d),-d),Math.max(Math.min(e.yMargin,p),-p),this.view.textDirection==x4.LTR)}}}]),n}(V3);function j5(e){return 1==e.node.nodeType&&e.node.firstChild&&(0==e.offset||"false"==e.node.childNodes[e.offset-1].contentEditable)&&(e.offset==e.node.childNodes.length||"false"==e.node.childNodes[e.offset].contentEditable)}function S5(e,t){var n=e.observer.selectionRange;if(!n.focusNode)return null;var r=R3(n.focusNode,n.focusOffset),i=B3(n.focusNode,n.focusOffset),a=r||i;if(i&&r&&i.node!=r.node){var o=V3.get(i.node);if(!o||o instanceof K3&&o.text!=i.node.nodeValue)a=i;else if(e.docView.lastCompositionAfterCursor){var s=V3.get(r.node);!s||s instanceof K3&&s.text!=r.node.nodeValue||(a=i)}}if(e.docView.lastCompositionAfterCursor=a!=r,!a)return null;var l=t-a.offset;return{from:l,to:l+a.node.nodeValue.length,node:a.node}}function Z5(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}var N5=function(){function e(){(0,Za.Z)(this,e),this.changes=[]}return(0,Sa.Z)(e,[{key:"compareRange",value:function(e,t){f4(e,t,this.changes)}},{key:"comparePoint",value:function(e,t){f4(e,t,this.changes)}},{key:"boundChange",value:function(e){f4(e,e,this.changes)}}]),e}();function E5(e,t){for(var n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}function O5(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function A5(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function T5(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function P5(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function M5(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function I5(e,t,n){for(var r,i,a,o,s,l,c,u,d=!1,p=e.firstChild;p;p=p.nextSibling)for(var f=x3(p),h=0;h<f.length;h++){var g=f[h];i&&T5(i,g)&&(g=P5(M5(g,i.bottom),i.top));var m=O5(t,g),v=A5(n,g);if(0==m&&0==v)return 3==p.nodeType?D5(p,t,n):I5(p,t,n);(!r||o>v||o==v&&a>m)&&(r=p,i=g,a=m,o=v,d=!m||(t<g.left?h>0:h<f.length-1)),0==m?n>g.bottom&&(!c||c.bottom<g.bottom)?(s=p,c=g):n<g.top&&(!u||u.top>g.top)&&(l=p,u=g):c&&T5(c,g)?c=M5(c,g.bottom):u&&T5(u,g)&&(u=P5(u,g.top))}if(c&&c.bottom>=n?(r=s,i=c):u&&u.top<=n&&(r=l,i=u),!r)return{node:e,offset:0};var y=Math.max(i.left,Math.min(i.right,t));return 3==r.nodeType?D5(r,y,n):d&&"false"!=r.contentEditable?I5(r,y,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}}function D5(e,t,n){for(var r=e.nodeValue.length,i=-1,a=1e9,o=0,s=0;s<r;s++)for(var l=P3(e,s,s+1).getClientRects(),c=0;c<l.length;c++){var u=l[c];if(u.top!=u.bottom){o||(o=t-u.left);var d=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=t&&u.right+1>=t&&d<a){var p=t>=(u.left+u.right)/2,f=p;if(m3.chrome||m3.gecko)P3(e,s).getBoundingClientRect().left==u.right&&(f=!p);if(d<=0)return{node:e,offset:s+(f?1:0)};i=s+(f?1:0),a=d}}}return{node:e,offset:i>-1?i:o>0?e.nodeValue.length:0}}function L5(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=e.contentDOM.getBoundingClientRect(),l=s.top+e.viewState.paddingTop,c=e.viewState.docHeight,u=t.x,d=t.y,p=d-l;if(p<0)return 0;if(p>c)return e.state.doc.length;for(var f=e.viewState.heightOracle.textHeight/2,h=!1;(a=e.elementAtHeight(p)).type!=s4.Text;)for(;!((p=o>0?a.bottom+f:a.top-f)>=0&&p<=c);){if(h)return n?null:0;h=!0,o=-o}d=l+p;var g=a.from;if(g<e.viewport.from)return 0==e.viewport.from?0:n?null:R5(e,s,a,u,d);if(g>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:R5(e,s,a,u,d);var m=e.dom.ownerDocument,v=e.root.elementFromPoint?e.root:m,y=v.elementFromPoint(u,d);y&&!e.contentDOM.contains(y)&&(y=null),y||(u=Math.max(s.left+1,Math.min(s.right-1,u)),(y=v.elementFromPoint(u,d))&&!e.contentDOM.contains(y)&&(y=null));var b,x=-1;if(y&&0!=(null===(r=e.docView.nearest(y))||void 0===r?void 0:r.isEditable)){if(m.caretPositionFromPoint){var w=m.caretPositionFromPoint(u,d);w&&(b=w.offsetNode,x=w.offset)}else if(m.caretRangeFromPoint){var k=m.caretRangeFromPoint(u,d);k&&(b=k.startContainer,x=k.startOffset)}b&&(!e.contentDOM.contains(b)||m3.safari&&F5(b,x,u)||m3.chrome&&z5(b,x,u))&&(b=void 0),b&&(x=Math.min(j3(b),x))}if(!b||!e.docView.dom.contains(b)){var _=h4.find(e.docView,g);if(!_)return p>a.top+a.height/2?a.to:a.from;var C=I5(_.dom,u,d);b=C.node,x=C.offset}var j=e.docView.nearest(b);if(!j)return null;if(j.isWidget&&1==(null===(i=j.dom)||void 0===i?void 0:i.nodeType)){var S=j.dom.getBoundingClientRect();return t.y<S.top||t.y<=S.bottom&&t.x<=(S.left+S.right)/2?j.posAtStart:j.posAtEnd}return j.localPosFromDOM(b,x)+j.posAtStart}function R5(e,t,n,r,i){var a=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){var o=e.viewState.heightOracle.textHeight;a+=Math.floor((i-n.top-.5*(e.defaultLineHeight-o))/o)*e.viewState.heightOracle.lineLength}var s=e.state.sliceDoc(n.from,n.to);return n.from+W2(s,a,e.state.tabSize)}function B5(e,t,n){var r,i=e;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(;;){var a=i.nextSibling;if(a){if("BR"==a.nodeName)break;return!1}var o=i.parentNode;if(!o||"DIV"==o.nodeName)break;i=o}return P3(e,r-1,r).getBoundingClientRect().right>n}function F5(e,t,n){return B5(e,t,n)}function z5(e,t,n){if(0!=t)return B5(e,t,n);for(var r=e;;){var i=r.parentNode;if(!i||1!=i.nodeType||i.firstChild!=r)return!1;if(i.classList.contains("cm-line"))break;r=i}return n-(1==e.nodeType?e.getBoundingClientRect():P3(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect()).left>5}function V5(e,t,n){var r=e.lineBlockAt(t);if(Array.isArray(r.type)){var i,a,o=(0,sp.Z)(r.type);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s.from>t)break;if(!(s.to<t)){if(s.from<t&&s.to>t)return s;i&&(s.type!=s4.Text||i.type==s.type&&!(n<0?s.from<t:s.to>t))||(i=s)}}}catch(l){o.e(l)}finally{o.f()}return i||r}return r}function U5(e,t,n,r){var i=V5(e,t.head,t.assoc||-1),a=r&&i.type==s4.Text&&(e.lineWrapping||i.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head):null;if(a){var o=e.dom.getBoundingClientRect(),s=e.textDirectionAt(i.from),l=e.posAtCoords({x:n==(s==x4.LTR)?o.right-1:o.left+1,y:(a.top+a.bottom)/2});if(null!=l)return I1.cursor(l,n?-1:1)}return I1.cursor(n?i.to:i.from,n?-1:1)}function H5(e,t,n,r){for(var i=e.state.doc.lineAt(t.head),a=e.bidiSpans(i),o=e.textDirectionAt(i.from),s=t,l=null;;){var c=U4(i,a,o,s,n),u=V4;if(!c){if(i.number==(n?e.state.doc.lines:1))return s;u="\n",i=e.state.doc.line(i.number+(n?1:-1)),a=e.bidiSpans(i),c=e.visualLineSide(i,!n)}if(l){if(!l(u))return s}else{if(!r)return c;l=r(u)}s=c}}function W5(e,t,n){for(var r=function(){var r,i=0,a=(0,sp.Z)(e);try{for(a.s();!(r=a.n()).done;){r.value.between(t-1,t+1,(function(e,r,a){if(t>e&&t<r){var o=i||n||(t-e<r-t?-1:1);t=o<0?e:r,i=o}}))}}catch(o){a.e(o)}finally{a.f()}if(!i)return{v:t}};;){var i=r();if("object"===typeof i)return i.v}}function q5(e,t){for(var n=null,r=0;r<t.ranges.length;r++){var i=t.ranges[r],a=null;if(i.empty){var o=W5(e,i.from,0);o!=i.from&&(a=I1.cursor(o,-1))}else{var s=W5(e,i.from,-1),l=W5(e,i.to,1);s==i.from&&l==i.to||(a=I1.range(i.from==i.anchor?s:l,i.from==i.head?s:l))}a&&(n||(n=t.ranges.slice()),n[r]=a)}return n?I1.create(n,t.mainIndex):t}function K5(e,t,n){var r=W5(e.state.facet(m5).map((function(t){return t(e)})),n.from,t.head>n.from?-1:1);return r==n.from?n:I1.cursor(r,r<n.from?1:-1)}var Y5="\uffff",G5=function(){function e(t,n){(0,Za.Z)(this,e),this.points=t,this.text="",this.lineSeparator=n.facet(j2.lineSeparator)}return(0,Sa.Z)(e,[{key:"append",value:function(e){this.text+=e}},{key:"lineBreak",value:function(){this.text+=Y5}},{key:"readRange",value:function(e,t){if(!e)return this;for(var n=e.parentNode,r=e;;){this.findPointBefore(n,r);var i=this.text.length;this.readNode(r);var a=r.nextSibling;if(a==t)break;var o=V3.get(r),s=V3.get(a);(o&&s?o.breakAfter:(o?o.breakAfter:_3(r))||_3(a)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>i)&&!X5(a,t)&&this.lineBreak(),r=a}return this.findPointBefore(n,t),this}},{key:"readTextNode",value:function(e){var t,n=e.nodeValue,r=(0,sp.Z)(this.points);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length))}}catch(f){r.e(f)}finally{r.f()}for(var a=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){var s=-1,l=1,c=void 0;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,a),l=this.lineSeparator.length):(c=o.exec(n))&&(s=c.index,l=c[0].length),this.append(n.slice(a,s<0?n.length:s)),s<0)break;if(this.lineBreak(),l>1){var u,d=(0,sp.Z)(this.points);try{for(d.s();!(u=d.n()).done;){var p=u.value;p.node==e&&p.pos>this.text.length&&(p.pos-=l-1)}}catch(f){d.e(f)}finally{d.f()}}a=s+l}}},{key:"readNode",value:function(e){if(!e.cmIgnore){var t=V3.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(var r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}}},{key:"findPointBefore",value:function(e,t){var n,r=(0,sp.Z)(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}}catch(a){r.e(a)}finally{r.f()}}},{key:"findPointInside",value:function(e,t){var n,r=(0,sp.Z)(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;(3==e.nodeType?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(Q5(e,i.node,i.offset)?t:0))}}catch(a){r.e(a)}finally{r.f()}}}]),e}();function Q5(e,t,n){for(;;){if(!t||n<j3(t))return!1;if(t==e)return!0;n=k3(t)+1,t=t.parentNode}}function X5(e,t){for(var n;e!=t&&e;e=e.nextSibling){var r=V3.get(e);if(!(null===r||void 0===r?void 0:r.isWidget)&&!e.cmIgnore)return!1;r&&(n||(n=[])).push(r)}if(n){var i,a=(0,sp.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value.overrideDOMText;if(null===o||void 0===o?void 0:o.length)return!1}}catch(s){a.e(s)}finally{a.f()}}return!0}var $5=(0,Sa.Z)((function e(t,n){(0,Za.Z)(this,e),this.node=t,this.offset=n,this.pos=-1})),J5=(0,Sa.Z)((function e(t,n,r,i){(0,Za.Z)(this,e),this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;var a=t.docView,o=a.impreciseHead,s=a.impreciseAnchor;if(t.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=t.docView.domBoundsAround(n,r,0))){var l=o||s?[]:function(e){var t=[];if(e.root.activeElement!=e.contentDOM)return t;var n=e.observer.selectionRange,r=n.anchorNode,i=n.anchorOffset,a=n.focusNode,o=n.focusOffset;r&&(t.push(new $5(r,i)),a==r&&o==i||t.push(new $5(a,o)));return t}(t),c=new G5(l,t.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=function(e,t){if(0==e.length)return null;var n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?I1.single(n+t,r+t):null}(l,this.bounds.from)}else{var u=t.observer.selectionRange,d=o&&o.node==u.focusNode&&o.offset==u.focusOffset||!y3(t.contentDOM,u.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(u.focusNode,u.focusOffset),p=s&&s.node==u.anchorNode&&s.offset==u.anchorOffset||!y3(t.contentDOM,u.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(u.anchorNode,u.anchorOffset),f=t.viewport;if((m3.ios||m3.chrome)&&t.state.selection.main.empty&&d!=p&&(f.from>0||f.to<t.state.doc.length)){var h=Math.min(d,p),g=Math.max(d,p),m=f.from-h,v=f.to-g;0!=m&&1!=m&&0!=h||0!=v&&-1!=v&&g!=t.state.doc.length||(d=0,p=t.state.doc.length)}this.newSel=I1.single(p,d)}}));function e6(e,t){var n,r=t.newSel,i=e.state.selection.main,a=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){var o=t.bounds,s=o.from,l=o.to,c=i.from,u=null;(8===a||m3.android&&t.text.length<l-s)&&(c=i.to,u="end");var d=r6(e.state.doc.sliceString(s,l,Y5),t.text,c-s,u);d&&(m3.chrome&&13==a&&d.toB==d.from+2&&"\uffff\uffff"==t.text.slice(d.from,d.toB)&&d.toB--,n={from:s+d.from,to:s+d.toA,insert:c1.of(t.text.slice(d.from,d.toB).split(Y5))})}else r&&(!e.hasFocus&&e.state.facet(s5)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:(m3.mac||m3.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(r&&2==n.insert.length&&(r=I1.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:c1.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:m3.chrome&&n&&n.from==n.to&&n.from==i.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=I1.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:c1.of([" "])}),n)return t6(e,n,r,a);if(r&&!r.main.eq(i)){var p=!1,f="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(p=!0),"select.pointer"==(f=e.inputState.lastSelectionOrigin)&&(r=q5(e.state.facet(m5).map((function(t){return t(e)})),r))),e.dispatch({selection:r,scrollIntoView:p,userEvent:f}),!0}return!1}function t6(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(m3.ios&&e.inputState.flushIOSKey(t))return!0;var i=e.state.selection.main;if(m3.android&&(t.to==i.to&&(t.from==i.from||t.from==i.from-1&&" "==e.state.sliceDoc(t.from,i.from))&&1==t.insert.length&&2==t.insert.lines&&M3(e.contentDOM,"Enter",13)||(t.from==i.from-1&&t.to==i.to&&0==t.insert.length||8==r&&t.insert.length<t.to-t.from&&t.to>i.head)&&M3(e.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&0==t.insert.length&&M3(e.contentDOM,"Delete",46)))return!0;var a,o=t.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;var s=function(){return a||(a=n6(e,t,n))};return e.state.facet(Q4).some((function(n){return n(e,t.from,t.to,o,s)}))||e.dispatch(s()),!0}function n6(e,t,n){var r,i=e.state,a=i.selection.main,o=-1;if(t.from==t.to&&t.from<a.from||t.from>a.to){var s=t.from<a.from?-1:1,l=s<0?a.from:a.to,c=W5(i.facet(m5).map((function(t){return t(e)})),l,s);t.from==c&&(o=c)}if(o>-1)r={changes:t,selection:I1.cursor(t.from+t.insert.length,-1)};else if(t.from>=a.from&&t.to<=a.to&&t.to-t.from>=(a.to-a.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){var u=a.from<t.from?i.sliceDoc(a.from,t.from):"",d=a.to>t.to?i.sliceDoc(t.to,a.to):"";r=i.replaceSelection(e.state.toText(u+t.insert.sliceString(0,void 0,e.state.lineBreak)+d))}else{var p=i.changes(t),f=n&&n.main.to<=p.newLength?n.main:void 0;if(i.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=a.to&&t.to>=a.to-10){var h,g=e.state.sliceDoc(t.from,t.to),m=n&&S5(e,n.main.head);if(m){var v=t.insert.length-(t.to-t.from);h={from:m.from,to:m.to-v}}else h=e.state.doc.lineAt(a.head);var y=a.to-t.to,b=a.to-a.from;r=i.changeByRange((function(n){if(n.from==a.from&&n.to==a.to)return{changes:p,range:f||n.map(p)};var r=n.to-y,o=r-g.length;if(n.to-n.from!=b||e.state.sliceDoc(o,r)!=g||n.to>=h.from&&n.from<=h.to)return{range:n};var s=i.changes({from:o,to:r,insert:t.insert}),l=n.to-a.to;return{changes:s,range:f?I1.range(Math.max(0,f.anchor+l),Math.max(0,f.head+l)):n.map(s)}}))}else r={changes:p,selection:f&&i.selection.replaceRange(f)}}var x="input.type";return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,x+=".compose",e.inputState.compositionFirstChange&&(x+=".start",e.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:x,scrollIntoView:!0})}function r6(e,t,n,r){for(var i=Math.min(e.length,t.length),a=0;a<i&&e.charCodeAt(a)==t.charCodeAt(a);)a++;if(a==i&&e.length==t.length)return null;for(var o=e.length,s=t.length;o>0&&s>0&&e.charCodeAt(o-1)==t.charCodeAt(s-1);)o--,s--;"end"==r&&(n-=o+Math.max(0,a-Math.min(o,s))-a);if(o<a&&e.length<t.length)s=(a-=n<=a&&n>=o?a-n:0)+(s-o),o=a;else if(s<a){o=(a-=n<=a&&n>=s?a-n:0)+(o-s),s=a}return{from:a,toA:o,toB:s}}var i6=function(){function e(t){(0,Za.Z)(this,e),this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,m3.safari&&t.contentDOM.addEventListener("input",(function(){return null})),m3.gecko&&function(e){A6.has(e)||(A6.add(e),e.addEventListener("copy",(function(){})),e.addEventListener("cut",(function(){})))}(t.contentDOM.ownerDocument)}return(0,Sa.Z)(e,[{key:"setSelectionOrigin",value:function(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}},{key:"handleEvent",value:function(e){var t=this;(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=V3.get(r))&&n.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||(0!=this.view.updateState?Promise.resolve().then((function(){return t.runHandlers(e.type,e)})):this.runHandlers(e.type,e)))}},{key:"runHandlers",value:function(e,t){var n=this.handlers[e];if(n){var r,i=(0,sp.Z)(n.observers);try{for(i.s();!(r=i.n()).done;){(0,r.value)(this.view,t)}}catch(l){i.e(l)}finally{i.f()}var a,o=(0,sp.Z)(n.handlers);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}catch(l){o.e(l)}finally{o.f()}}}},{key:"ensureHandlers",value:function(e){var t=o6(e),n=this.handlers,r=this.view.contentDOM;for(var i in t)if("scroll"!=i){var a=!t[i].handlers.length,o=n[i];o&&a!=!o.handlers.length&&(r.removeEventListener(i,this.handleEvent),o=null),o||r.addEventListener(i,this.handleEvent,{passive:a})}for(var s in n)"scroll"==s||t[s]||r.removeEventListener(s,this.handleEvent);this.handlers=t}},{key:"keydown",value:function(e){var t,n=this;return this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode)||(this.tabFocusMode>0&&27!=e.keyCode&&c6.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),!m3.android||!m3.chrome||e.synthetic||13!=e.keyCode&&8!=e.keyCode?!m3.ios||e.synthetic||e.altKey||e.metaKey||!((t=s6.find((function(t){return t.keyCode==e.keyCode})))&&!e.ctrlKey||l6.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((function(){return n.flushIOSKey()}),250),!0):(this.view.observer.delayAndroidKey(e.key,e.keyCode),!0))}},{key:"flushIOSKey",value:function(e){var t=this.pendingIOSKey;return!!t&&(!("Enter"==t.key&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString()))&&(this.pendingIOSKey=void 0,M3(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0)))}},{key:"ignoreDuringComposition",value:function(e){return!(!/^key/.test(e.type)||e.synthetic)&&(this.composing>0||!!(m3.safari&&!m3.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}},{key:"startMouseSelection",value:function(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}},{key:"update",value:function(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]),e}();function a6(e,t){return function(n,r){try{return t.call(e,r,n)}catch(i){o5(n.state,i)}}}function o6(e){var t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}var r,i=(0,sp.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.spec,s=o&&o.plugin.domEventHandlers,l=o&&o.plugin.domEventObservers;if(s)for(var c in s){var u=s[c];u&&n(c).handlers.push(a6(a.value,u))}if(l)for(var d in l){var p=l[d];p&&n(d).observers.push(a6(a.value,p))}}}catch(g){i.e(g)}finally{i.f()}for(var f in p6)n(f).handlers.push(p6[f]);for(var h in f6)n(h).observers.push(f6[h]);return t}var s6=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],l6="dthko",c6=[16,17,18,20,91,92,224,225];function u6(e){return.7*Math.max(0,e)+8}var d6=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.view=t,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=function(e){for(var t,n,r=e.ownerDocument,i=e.parentNode;i&&!(i==r.body||t&&n);)if(1==i.nodeType)!n&&i.scrollHeight>i.clientHeight&&(n=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}return{x:t,y:n}}(t.contentDOM),this.atoms=t.state.facet(m5).map((function(e){return e(t)}));var a=t.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=t.state.facet(j2.allowMultipleSelections)&&function(e,t){var n=e.state.facet(W4);return n.length?n[0](t):m3.mac?t.metaKey:t.ctrlKey}(t,n),this.dragging=!(!function(e,t){if(e.state.selection.main.empty)return!1;var n=v3(e.root);if(!n||0==n.rangeCount)return!0;for(var r=n.getRangeAt(0).getClientRects(),i=0;i<r.length;i++){var a=r[i];if(a.left<=t.clientX&&a.right>=t.clientX&&a.top<=t.clientY&&a.bottom>=t.clientY)return!0}return!1}(t,n)||1!=j6(n))&&null}return(0,Sa.Z)(e,[{key:"start",value:function(e){!1===this.dragging&&this.select(e)}},{key:"move",value:function(e){if(0==e.buttons)return this.destroy();if(!(this.dragging||null==this.dragging&&function(e,t){return Math.max(Math.abs(e.clientX-t.clientX),Math.abs(e.clientY-t.clientY))}(this.startEvent,e)<10)){this.select(this.lastEvent=e);var t=0,n=0,r=0,i=0,a=this.view.win.innerWidth,o=this.view.win.innerHeight;if(this.scrollParents.x){var s=this.scrollParents.x.getBoundingClientRect();r=s.left,a=s.right}if(this.scrollParents.y){var l=this.scrollParents.y.getBoundingClientRect();i=l.top,o=l.bottom}var c=x5(this.view);e.clientX-c.left<=r+6?t=-u6(r-e.clientX):e.clientX+c.right>=a-6&&(t=u6(e.clientX-a)),e.clientY-c.top<=i+6?n=-u6(i-e.clientY):e.clientY+c.bottom>=o-6&&(n=u6(e.clientY-o)),this.setScrollSpeed(t,n)}}},{key:"up",value:function(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}},{key:"destroy",value:function(){this.setScrollSpeed(0,0);var e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}},{key:"setScrollSpeed",value:function(e,t){var n=this;this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((function(){return n.scroll()}),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}},{key:"scroll",value:function(){var e=this.scrollSpeed,t=e.x,n=e.y;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(t||n)&&this.view.win.scrollBy(t,n),!1===this.dragging&&this.select(this.lastEvent)}},{key:"select",value:function(e){var t=this.view,n=q5(this.atoms,this.style.get(e,this.extend,this.multiple));!this.mustSelect&&n.eq(t.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}},{key:"update",value:function(e){var t=this;e.transactions.some((function(e){return e.isUserEvent("input.type")}))?this.destroy():this.style.update(e)&&setTimeout((function(){return t.select(t.lastEvent)}),20)}}]),e}();var p6=Object.create(null),f6=Object.create(null),h6=m3.ie&&m3.ie_version<15||m3.ios&&m3.webkit_version<604;function g6(e,t,n){var r,i=(0,sp.Z)(e.facet(t));try{for(i.s();!(r=i.n()).done;){n=(0,r.value)(n,e)}}catch(a){i.e(a)}finally{i.f()}return n}function m6(e,t){t=g6(e.state,$4,t);var n,r=e.state,i=1,a=r.toText(t),o=a.lines==r.selection.ranges.length,s=null!=Z6&&r.selection.ranges.every((function(e){return e.empty}))&&Z6==a.toString();if(s){var l=-1;n=r.changeByRange((function(e){var n=r.doc.lineAt(e.from);if(n.from==l)return{range:e};l=n.from;var s=r.toText((o?a.line(i++).text:t)+r.lineBreak);return{changes:{from:n.from,insert:s},range:I1.cursor(e.from+s.length)}}))}else n=o?r.changeByRange((function(e){var t=a.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:I1.cursor(e.from+t.length)}})):r.replaceSelection(a);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function v6(e,t,n,r){if(1==r)return I1.cursor(t,n);if(2==r)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.charCategorizer(t),i=e.doc.lineAt(t),a=t-i.from;if(0==i.length)return I1.cursor(t);0==a?n=1:a==i.length&&(n=-1);var o=a,s=a;n<0?o=x1(i.text,a,!1):s=x1(i.text,a);for(var l=r(i.text.slice(o,s));o>0;){var c=x1(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;s<i.length;){var u=x1(i.text,s);if(r(i.text.slice(s,u))!=l)break;s=u}return I1.range(o+i.from,s+i.from)}(e.state,t,n);var i=h4.find(e.docView,t),a=e.state.doc.lineAt(i?i.posAtEnd:t),o=i?i.posAtStart:a.from,s=i?i.posAtEnd:a.to;return s<e.state.doc.length&&s==a.to&&s++,I1.range(o,s)}f6.scroll=function(e){e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},p6.keydown=function(e,t){return e.inputState.setSelectionOrigin("select"),27==t.keyCode&&0!=e.inputState.tabFocusMode&&(e.inputState.tabFocusMode=Date.now()+2e3),!1},f6.touchstart=function(e,t){e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},f6.touchmove=function(e){e.inputState.setSelectionOrigin("select.pointer")},p6.mousedown=function(e,t){if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;var n,r=null,i=(0,sp.Z)(e.state.facet(K4));try{for(i.s();!(n=i.n()).done;){if(r=(0,n.value)(e,t))break}}catch(s){i.e(s)}finally{i.f()}if(r||0!=t.button||(r=function(e,t){var n=x6(e,t),r=j6(t),i=e.state.selection;return{update:function(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),i=i.map(e.changes))},get:function(t,a,o){var s,l=x6(e,t),c=v6(e,l.pos,l.bias,r);if(n.pos!=l.pos&&!a){var u=v6(e,n.pos,n.bias,r),d=Math.min(u.from,c.from),p=Math.max(u.to,c.to);c=d<c.from?I1.range(d,p):I1.range(p,d)}return a?i.replaceRange(i.main.extend(c.from,c.to)):o&&1==r&&i.ranges.length>1&&(s=function(e,t){for(var n=0;n<e.ranges.length;n++){var r=e.ranges[n],i=r.from,a=r.to;if(i<=t&&a>=t)return I1.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}(i,l.pos))?s:o?i.addRange(c):I1.create([c])}}}(e,t)),r){var a=!e.hasFocus;e.inputState.startMouseSelection(new d6(e,t,r,a)),a&&e.observer.ignore((function(){T3(e.contentDOM);var t=e.root.activeElement;t&&!t.contains(e.contentDOM)&&t.blur()}));var o=e.inputState.mouseSelection;if(o)return o.start(t),!1===o.dragging}else e.inputState.setSelectionOrigin("select.pointer");return!1};var y6=function(e,t,n){return t>=n.top&&t<=n.bottom&&e>=n.left&&e<=n.right};function b6(e,t,n,r){var i=h4.find(e.docView,t);if(!i)return 1;var a=t-i.posAtStart;if(0==a)return 1;if(a==i.length)return-1;var o=i.coordsAt(a,-1);if(o&&y6(n,r,o))return-1;var s=i.coordsAt(a,1);return s&&y6(n,r,s)?1:o&&o.bottom>=r?-1:1}function x6(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:b6(e,n,t.clientX,t.clientY)}}var w6=m3.ie&&m3.ie_version<=11,k6=null,_6=0,C6=0;function j6(e){if(!w6)return e.detail;var t=k6,n=C6;return k6=e,C6=Date.now(),_6=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(_6+1)%3:1}function S6(e,t,n,r){if(n=g6(e.state,$4,n)){var i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),a=e.inputState.draggedContent,o=r&&a&&function(e,t){var n=e.state.facet(q4);return n.length?n[0](t):m3.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:a.from,to:a.to}:null,s={from:i,insert:n},l=e.state.changes(o?[o,s]:s);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),e.inputState.draggedContent=null}}p6.dragstart=function(e,t){var n=e.state.selection.main;if(t.target.draggable){var r=e.docView.nearest(t.target);if(r&&r.isWidget){var i=r.posAtStart,a=i+r.length;(i>=n.to||a<=n.from)&&(n=I1.range(i,a))}}var o=e.inputState;return o.mouseSelection&&(o.mouseSelection.dragging=!0),o.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",g6(e.state,J4,e.state.sliceDoc(n.from,n.to))),t.dataTransfer.effectAllowed="copyMove"),!1},p6.dragend=function(e){return e.inputState.draggedContent=null,!1},p6.drop=function(e,t){if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;var n=t.dataTransfer.files;if(n&&n.length){var r=function(){for(var r=Array(n.length),i=0,a=function(){++i==n.length&&S6(e,t,r.filter((function(e){return null!=e})).join(e.state.lineBreak),!1)},o=function(e){var t=new FileReader;t.onerror=a,t.onload=function(){/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),a()},t.readAsText(n[e])},s=0;s<n.length;s++)o(s);return{v:!0}}();if("object"===typeof r)return r.v}else{var i=t.dataTransfer.getData("Text");if(i)return S6(e,t,i,!0),!0}return!1},p6.paste=function(e,t){if(e.state.readOnly)return!0;e.observer.flush();var n=h6?null:t.clipboardData;return n?(m6(e,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(e){var t=e.dom.parentNode;if(t){var n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((function(){e.focus(),n.remove(),m6(e,n.value)}),50)}}(e),!1)};var Z6=null;p6.copy=p6.cut=function(e,t){var n=function(e){var t,n=[],r=[],i=!1,a=(0,sp.Z)(e.selection.ranges);try{for(a.s();!(t=a.n()).done;){var o=t.value;o.empty||(n.push(e.sliceDoc(o.from,o.to)),r.push(o))}}catch(p){a.e(p)}finally{a.f()}if(!n.length){var s,l=-1,c=(0,sp.Z)(e.selection.ranges);try{for(c.s();!(s=c.n()).done;){var u=s.value.from,d=e.doc.lineAt(u);d.number>l&&(n.push(d.text),r.push({from:d.from,to:Math.min(e.doc.length,d.to+1)})),l=d.number}}catch(p){c.e(p)}finally{c.f()}i=!0}return{text:g6(e,J4,n.join(e.lineBreak)),ranges:r,linewise:i}}(e.state),r=n.text,i=n.ranges,a=n.linewise;if(!r&&!a)return!1;Z6=a?r:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});var o=h6?null:t.clipboardData;return o?(o.clearData(),o.setData("text/plain",r),!0):(function(e,t){var n=e.dom.parentNode;if(n){var r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((function(){r.remove(),e.focus()}),50)}}(e,r),!1)};var N6=u2.define();function E6(e,t){var n,r=[],i=(0,sp.Z)(e.facet(X4));try{for(i.s();!(n=i.n()).done;){var a=(0,n.value)(e,t);a&&r.push(a)}}catch(o){i.e(o)}finally{i.f()}return r.length?e.update({effects:r,annotations:N6.of(!0)}):null}function O6(e){setTimeout((function(){var t=e.hasFocus;if(t!=e.inputState.notifiedFocused){var n=E6(e.state,t);n?e.dispatch(n):e.update([])}}),10)}f6.focus=function(e){e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),O6(e)},f6.blur=function(e){e.observer.clearSelectionRange(),O6(e)},f6.compositionstart=f6.compositionupdate=function(e){e.observer.editContext||(null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0))},f6.compositionend=function(e){e.observer.editContext||(e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,m3.chrome&&m3.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((function(){return e.observer.flush()})):setTimeout((function(){e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50))},f6.contextmenu=function(e){e.inputState.lastContextMenu=Date.now()},p6.beforeinput=function(e,t){var n,r,i;if("insertReplacementText"==t.inputType&&e.observer.editContext){var a=null===(n=t.dataTransfer)||void 0===n?void 0:n.getData("text/plain"),o=t.getTargetRanges();if(a&&o.length){var s=o[0],l=e.posAtDOM(s.startContainer,s.startOffset),c=e.posAtDOM(s.endContainer,s.endOffset);return t6(e,{from:l,to:c,insert:e.state.toText(a)},null),!0}}if(m3.chrome&&m3.android&&(i=s6.find((function(e){return e.inputType==t.inputType})))&&(e.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){var u=(null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0;setTimeout((function(){var t;((null===(t=window.visualViewport)||void 0===t?void 0:t.height)||0)>u+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return m3.ios&&"deleteContentForward"==t.inputType&&e.observer.flushSoon(),m3.safari&&"insertText"==t.inputType&&e.inputState.composing>=0&&setTimeout((function(){return f6.compositionend(e,t)}),20),!1};var A6=new Set;var T6=["pre-wrap","normal","pre-line","break-spaces"],P6=!1;function M6(){P6=!1}var I6=function(){function e(t){(0,Za.Z)(this,e),this.lineWrapping=t,this.doc=c1.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}return(0,Sa.Z)(e,[{key:"heightForGap",value:function(e,t){var n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}},{key:"heightForLine",value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){return this.doc=e,this}},{key:"mustRefreshForWrapping",value:function(e){return T6.indexOf(e)>-1!=this.lineWrapping}},{key:"mustRefreshForHeights",value:function(e){for(var t=!1,n=0;n<e.length;n++){var r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}},{key:"refresh",value:function(e,t,n,r,i,a){var o=T6.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=i,s){this.heightSamples={};for(var l=0;l<a.length;l++){var c=a[l];c<0?l++:this.heightSamples[Math.floor(10*c)]=!0}}return s}}]),e}(),D6=function(){function e(t,n){(0,Za.Z)(this,e),this.from=t,this.heights=n,this.index=0}return(0,Sa.Z)(e,[{key:"more",get:function(){return this.index<this.heights.length}}]),e}(),L6=function(){function e(t,n,r,i,a){(0,Za.Z)(this,e),this.from=t,this.length=n,this.top=r,this.height=i,this._content=a}return(0,Sa.Z)(e,[{key:"type",get:function(){return"number"==typeof this._content?s4.Text:Array.isArray(this._content)?this._content:this._content.type}},{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}},{key:"widget",get:function(){return this._content instanceof d4?this._content.widget:null}},{key:"widgetLineBreaks",get:function(){return"number"==typeof this._content?this._content:0}},{key:"join",value:function(t){var n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new e(this.from,this.length+t.length,this.top,this.height+t.height,n)}}]),e}(),R6=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(R6||(R6={})),B6=.001,F6=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;(0,Za.Z)(this,e),this.length=t,this.height=n,this.flags=r}return(0,Sa.Z)(e,[{key:"outdated",get:function(){return(2&this.flags)>0},set:function(e){this.flags=(e?2:0)|-3&this.flags}},{key:"setHeight",value:function(e){this.height!=e&&(Math.abs(this.height-e)>B6&&(P6=!0),this.height=e)}},{key:"replace",value:function(t,n,r){return e.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(this)}},{key:"decomposeRight",value:function(e,t){t.push(this)}},{key:"applyChanges",value:function(e,t,n,r){for(var i=this,a=n.doc,o=r.length-1;o>=0;o--){var s=r[o],l=s.fromA,c=s.toA,u=s.fromB,d=s.toB,p=i.lineAt(l,R6.ByPosNoHeight,n.setDoc(t),0,0),f=p.to>=c?p:i.lineAt(c,R6.ByPosNoHeight,n,0,0);for(d+=f.to-c,c=f.to;o>0&&p.from<=r[o-1].toA;)l=r[o-1].fromA,u=r[o-1].fromB,o--,l<p.from&&(p=i.lineAt(l,R6.ByPosNoHeight,n,0,0));u+=p.from-l,l=p.from;var h=K6.build(n.setDoc(a),e,u,d);i=z6(i,i.replace(l,c,h))}return i.updateHeight(n,0)}}],[{key:"empty",value:function(){return new U6(0,0)}},{key:"of",value:function(t){if(1==t.length)return t[0];for(var n=0,r=t.length,i=0,a=0;;)if(n==r)if(i>2*a){var o=t[n-1];o.break?t.splice(--n,1,o.left,null,o.right):t.splice(--n,1,o.left,o.right),r+=1+o.break,i-=o.size}else{if(!(a>2*i))break;var s=t[r];s.break?t.splice(r,1,s.left,null,s.right):t.splice(r,1,s.left,s.right),r+=2+s.break,a-=s.size}else if(i<a){var l=t[n++];l&&(i+=l.size)}else{var c=t[--r];c&&(a+=c.size)}var u=0;return null==t[n-1]?(u=1,n--):null==t[n]&&(u=1,r++),new W6(e.of(t.slice(0,n)),u,e.of(t.slice(r)))}}]),e}();function z6(e,t){return e==t?e:(e.constructor!=t.constructor&&(P6=!0),t)}F6.prototype.size=1;var V6=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r,i){var a;return(0,Za.Z)(this,n),(a=t.call(this,e,r)).deco=i,a}return(0,Sa.Z)(n,[{key:"blockAt",value:function(e,t,n,r){return new L6(r,this.length,n,this.height,this.deco||0)}},{key:"lineAt",value:function(e,t,n,r,i){return this.blockAt(0,n,r,i)}},{key:"forEachLine",value:function(e,t,n,r,i,a){e<=i+this.length&&t>=i&&a(this.blockAt(0,n,r,i))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>3?arguments[3]:void 0;return n&&n.from<=t&&n.more&&this.setHeight(n.heights[n.index++]),this.outdated=!1,this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]),n}(F6),U6=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r){var i;return(0,Za.Z)(this,n),(i=t.call(this,e,r,null)).collapsed=0,i.widgetHeight=0,i.breaks=0,i}return(0,Sa.Z)(n,[{key:"blockAt",value:function(e,t,n,r){return new L6(r,this.length,n,this.height,this.breaks)}},{key:"replace",value:function(e,t,r){var i=r[0];return 1==r.length&&(i instanceof n||i instanceof H6&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof H6?i=new n(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):F6.of(r)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return r&&r.from<=t&&r.more?this.setHeight(r.heights[r.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]),n}(V6),H6=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){return(0,Za.Z)(this,n),t.call(this,e,0)}return(0,Sa.Z)(n,[{key:"heightMetrics",value:function(e,t){var n,r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,a=i-r+1,o=0;if(e.lineWrapping){var s=Math.min(this.height,e.lineHeight*a);n=s/a,this.length>a+1&&(o=(this.height-s)/(this.length-a-1))}else n=this.height/a;return{firstLine:r,lastLine:i,perLine:n,perChar:o}}},{key:"blockAt",value:function(e,t,n,r){var i=this.heightMetrics(t,r),a=i.firstLine,o=i.lastLine,s=i.perLine,l=i.perChar;if(t.lineWrapping){var c=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),u=t.doc.lineAt(c),d=s+u.length*l,p=Math.max(n,e-d/2);return new L6(u.from,u.length,p,d,0)}var f=Math.max(0,Math.min(o-a,Math.floor((e-n)/s))),h=t.doc.line(a+f),g=h.from,m=h.length;return new L6(g,m,n+s*f,s,0)}},{key:"lineAt",value:function(e,t,n,r,i){if(t==R6.ByHeight)return this.blockAt(e,n,r,i);if(t==R6.ByPosNoHeight){var a=n.doc.lineAt(e),o=a.from,s=a.to;return new L6(o,s-o,0,0,0)}var l=this.heightMetrics(n,i),c=l.firstLine,u=l.perLine,d=l.perChar,p=n.doc.lineAt(e),f=u+p.length*d,h=p.number-c,g=r+u*h+d*(p.from-i-h);return new L6(p.from,p.length,Math.max(r,Math.min(g,r+this.height-f)),f,0)}},{key:"forEachLine",value:function(e,t,n,r,i,a){e=Math.max(e,i),t=Math.min(t,i+this.length);for(var o=this.heightMetrics(n,i),s=o.firstLine,l=o.perLine,c=o.perChar,u=e,d=r;u<=t;){var p=n.doc.lineAt(u);if(u==e){var f=p.number-s;d+=l*f+c*(e-i-f)}var h=l+c*p.length;a(new L6(p.from,p.length,d,h,0)),d+=h,u=p.to+1}}},{key:"replace",value:function(e,t,r){var i=this.length-t;if(i>0){var a=r[r.length-1];a instanceof n?r[r.length-1]=new n(a.length+i):r.push(null,new n(i-1))}if(e>0){var o=r[0];o instanceof n?r[0]=new n(e+o.length):r.unshift(new n(e-1),null)}return F6.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(new n(e-1),null)}},{key:"decomposeRight",value:function(e,t){t.push(null,new n(this.length-e-1))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,a=t+this.length;if(i&&i.from<=t+this.length&&i.more){var o=[],s=Math.max(t,i.from),l=-1;for(i.from>t&&o.push(new n(i.from-t-1).updateHeight(e,t));s<=a&&i.more;){var c=e.doc.lineAt(s).length;o.length&&o.push(null);var u=i.heights[i.index++];-1==l?l=u:Math.abs(u-l)>=B6&&(l=-2);var d=new U6(c,u);d.outdated=!1,o.push(d),s+=c+1}s<=a&&o.push(null,new n(a-s).updateHeight(e,s));var p=F6.of(o);return(l<0||Math.abs(p.height-this.height)>=B6||Math.abs(l-this.heightMetrics(e,t).perLine)>=B6)&&(P6=!0),z6(this,p)}return(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1),this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]),n}(F6),W6=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r,i){var a;return(0,Za.Z)(this,n),(a=t.call(this,e.length+r+i.length,e.height+i.height,r|(e.outdated||i.outdated?2:0))).left=e,a.right=i,a.size=e.size+i.size,a}return(0,Sa.Z)(n,[{key:"break",get:function(){return 1&this.flags}},{key:"blockAt",value:function(e,t,n,r){var i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}},{key:"lineAt",value:function(e,t,n,r,i){var a=r+this.left.height,o=i+this.left.length+this.break,s=t==R6.ByHeight?e<a:e<o,l=s?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,a,o);if(this.break||(s?l.to<o:l.from>o))return l;var c=t==R6.ByPosNoHeight?R6.ByPosNoHeight:R6.ByPos;return s?l.join(this.right.lineAt(o,c,n,a,o)):this.left.lineAt(o,c,n,r,i).join(l)}},{key:"forEachLine",value:function(e,t,n,r,i,a){var o=r+this.left.height,s=i+this.left.length+this.break;if(this.break)e<s&&this.left.forEachLine(e,t,n,r,i,a),t>=s&&this.right.forEachLine(e,t,n,o,s,a);else{var l=this.lineAt(s,R6.ByPos,n,r,i);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,i,a),l.to>=e&&l.from<=t&&a(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,o,s,a)}}},{key:"replace",value:function(e,t,n){var r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));var i=[];e>0&&this.decomposeLeft(e,i);var a,o=i.length,s=(0,sp.Z)(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;i.push(l)}}catch(u){s.e(u)}finally{s.f()}if(e>0&&q6(i,o-1),t<this.length){var c=i.length;this.decomposeRight(t,i),q6(i,c)}return F6.of(i)}},{key:"decomposeLeft",value:function(e,t){var n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&e>=++n&&t.push(null),e>n&&this.right.decomposeLeft(e-n,t)}},{key:"decomposeRight",value:function(e,t){var n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}},{key:"balanced",value:function(e,t){return e.size>2*t.size||t.size>2*e.size?F6.of(this.break?[e,null,t]:[e,t]):(this.left=z6(this.left,e),this.right=z6(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=this.left,a=this.right,o=t+i.length+this.break,s=null;return r&&r.from<=t+i.length&&r.more?s=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=o+a.length&&r.more?s=a=a.updateHeight(e,o,n,r):a.updateHeight(e,o,n),s?this.balanced(i,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}},{key:"toString",value:function(){return this.left+(this.break?" ":"-")+this.right}}]),n}(F6);function q6(e,t){var n,r;null==e[t]&&(n=e[t-1])instanceof H6&&(r=e[t+1])instanceof H6&&e.splice(t-1,3,new H6(n.length+1+r.length))}var K6=function(){function e(t,n){(0,Za.Z)(this,e),this.pos=t,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}return(0,Sa.Z)(e,[{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"span",value:function(e,t){if(this.lineStart>-1){var n=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof U6?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new U6(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}},{key:"point",value:function(e,t,n){if(e<t||n.heightRelevant){var r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);var a=t-e;n.block?this.addBlock(new V6(a,r,n)):(a||i||r>=5)&&this.addLineDeco(r,i,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(this.lineStart>-1)){var e=this.oracle.doc.lineAt(this.pos),t=e.from,n=e.to;this.lineStart=t,this.lineEnd=n,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new U6(this.pos-t,-1)),this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,t){var n=new H6(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof U6)return e;var t=new U6(0,-1);return this.nodes.push(t),t}},{key:"addBlock",value:function(e){this.enterLine();var t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}},{key:"addLineDeco",value:function(e,t,n){var r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}},{key:"finish",value:function(e){var t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof U6||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new U6(0,-1));var n,r=e,i=(0,sp.Z)(this.nodes);try{for(i.s();!(n=i.n()).done;){var a=n.value;a instanceof U6&&a.updateHeight(this.oracle,r),r+=a?a.length:1}}catch(o){i.e(o)}finally{i.f()}return this.nodes}}],[{key:"build",value:function(t,n,r,i){var a=new e(r,t);return A2.spans(n,r,i,a,0),a.finish(r)}}]),e}();function Y6(e,t,n){var r=new G6;return A2.compare(e,t,n,r,0),r.changes}var G6=function(){function e(){(0,Za.Z)(this,e),this.changes=[]}return(0,Sa.Z)(e,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&f4(e,t,this.changes,5)}}]),e}();function Q6(e,t){for(var n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,a=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom),c=e.parentNode;c&&c!=r.body;)if(1==c.nodeType){var u=c,d=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&"visible"!=d.overflow){var p=u.getBoundingClientRect();a=Math.max(a,p.left),o=Math.min(o,p.right),s=Math.max(s,p.top),l=Math.min(c==e.parentNode?i.innerHeight:l,p.bottom)}c="absolute"==d.position||"fixed"==d.position?u.offsetParent:u.parentNode}else{if(11!=c.nodeType)break;c=c.host}return{left:a-n.left,right:Math.max(a,o)-n.left,top:s-(n.top+t),bottom:Math.max(s,l)-(n.top+t)}}function X6(e,t){var n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}var $6=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.from=t,this.to=n,this.size=r,this.displaySize=i}return(0,Sa.Z)(e,[{key:"draw",value:function(e,t){return l4.replace({widget:new J6(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}],[{key:"same",value:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}}]),e}(),J6=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r){var i;return(0,Za.Z)(this,n),(i=t.call(this)).size=e,i.vertical=r,i}return(0,Sa.Z)(n,[{key:"eq",value:function(e){return e.size==this.size&&e.vertical==this.vertical}},{key:"toDOM",value:function(){var e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]),n}(o4),e8=function(){function e(t){var n=this;(0,Za.Z)(this,e),this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=i8,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=x4.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;var r=t.facet(f5).some((function(e){return"function"!=typeof e&&"cm-lineWrapping"==e.class}));this.heightOracle=new I6(r),this.stateDeco=t.facet(h5).filter((function(e){return"function"!=typeof e})),this.heightMap=F6.empty().applyChanges(this.stateDeco,c1.empty,this.heightOracle.setDoc(t.doc),[new k5(0,0,0,t.doc.length)]);for(var i=0;i<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=l4.set(this.lineGaps.map((function(e){return e.draw(n,!1)}))),this.computeVisibleRanges()}return(0,Sa.Z)(e,[{key:"updateForViewport",value:function(){for(var e=this,t=[this.viewport],n=this.state.selection.main,r=function(r){var i=r?n.head:n.anchor;if(!t.some((function(e){var t=e.from,n=e.to;return i>=t&&i<=n}))){var a=e.lineBlockAt(i),o=a.from,s=a.to;t.push(new t8(o,s))}},i=0;i<=1;i++)r(i);return this.viewports=t.sort((function(e,t){return e.from-t.from})),this.updateScaler()}},{key:"updateScaler",value:function(){var e=this.scaler;return this.scaler=this.heightMap.height<=7e6?i8:new a8(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}},{key:"updateViewportLines",value:function(){var e=this;this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(function(t){e.viewportLines.push(o8(t,e.scaler))}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state=e.state;var n=this.stateDeco;this.stateDeco=this.state.facet(h5).filter((function(e){return"function"!=typeof e}));var r=e.changedRanges,i=k5.extendWithRanges(r,Y6(n,this.stateDeco,e?e.changes:Z1.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);M6(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=a||P6)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);var s=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));var l=s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,e.flags|=this.updateForViewport(),(l||!e.changes.empty||2&e.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(t5)&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(e){var t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?x4.RTL:x4.LTR;var a=this.heightOracle.mustRefreshForWrapping(i),o=t.getBoundingClientRect(),s=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;var l=0,c=0;if(o.width&&o.height){var u=N3(t,o),d=u.scaleX,p=u.scaleY;(d>.005&&Math.abs(this.scaleX-d)>.005||p>.005&&Math.abs(this.scaleY-p)>.005)&&(this.scaleX=d,this.scaleY=p,l|=16,a=s=!0)}var f=(parseInt(n.paddingTop)||0)*this.scaleY,h=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==f&&this.paddingBottom==h||(this.paddingTop=f,this.paddingBottom=h,l|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=16);var g=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=g&&(this.scrollAnchorHeight=-1,this.scrollTop=g),this.scrolledToBottom=L3(e.scrollDOM);var m=(this.printing?X6:Q6)(t,this.paddingTop),v=m.top-this.pixelViewport.top,y=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;var b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(s=!0)),!this.inView&&!this.scrollTarget&&!function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView||window;return t.left<n.innerWidth&&t.right>0&&t.top<n.innerHeight&&t.bottom>0}(e.dom))return 0;var x=o.width;if(this.contentDOMWidth==x&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,l|=16),s){var w=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(w)&&(a=!0),a||r.lineWrapping&&Math.abs(x-this.contentDOMWidth)>r.charWidth){var k=e.docView.measureTextSize(),_=k.lineHeight,C=k.charWidth,j=k.textHeight;(a=_>0&&r.refresh(i,_,C,j,Math.max(5,x/C),w))&&(e.docView.minWidth=0,l|=16)}v>0&&y>0?c=Math.max(v,y):v<0&&y<0&&(c=Math.min(v,y)),M6();var S,Z=(0,sp.Z)(this.viewports);try{for(Z.s();!(S=Z.n()).done;){var N=S.value,E=N.from==this.viewport.from?w:e.docView.measureVisibleLineHeights(N);this.heightMap=(a?F6.empty().applyChanges(this.stateDeco,c1.empty,this.heightOracle,[new k5(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,a,new D6(N.from,E))}}catch(A){Z.e(A)}finally{Z.f()}P6&&(l|=2)}var O=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return O&&(2&l&&(l|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),l|=this.updateForViewport()),(2&l||O)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}},{key:"visibleTop",get:function(){return this.scaler.fromDOM(this.pixelViewport.top)}},{key:"visibleBottom",get:function(){return this.scaler.fromDOM(this.pixelViewport.bottom)}},{key:"getViewport",value:function(e,t){var n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.heightOracle,a=this.visibleTop,o=this.visibleBottom,s=new t8(r.lineAt(a-1e3*n,R6.ByHeight,i,0,0).from,r.lineAt(o+1e3*(1-n),R6.ByHeight,i,0,0).to);if(t){var l=t.range.head;if(l<s.from||l>s.to){var c,u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=r.lineAt(l,R6.ByPos,i,0,0);c="center"==t.y?(d.top+d.bottom)/2-u/2:"start"==t.y||"nearest"==t.y&&l<s.from?d.top:d.bottom-u,s=new t8(r.lineAt(c-500,R6.ByHeight,i,0,0).from,r.lineAt(c+u+500,R6.ByHeight,i,0,0).to)}}return s}},{key:"mapViewport",value:function(e,t){var n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new t8(this.heightMap.lineAt(n,R6.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,R6.ByPos,this.heightOracle,0,0).to)}},{key:"viewportIsAppropriate",value:function(e){var t=e.from,n=e.to,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.inView)return!0;var i=this.heightMap.lineAt(t,R6.ByPos,this.heightOracle,0,0),a=i.top,o=this.heightMap.lineAt(n,R6.ByPos,this.heightOracle,0,0),s=o.bottom,l=this.visibleTop,c=this.visibleBottom;return(0==t||a<=l-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=c+Math.max(10,Math.min(r,250)))&&a>l-2e3&&s<c+2e3}},{key:"mapLineGaps",value:function(e,t){if(!e.length||t.empty)return e;var n,r=[],i=(0,sp.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.touchesRange(a.from,a.to)||r.push(new $6(t.mapPos(a.from),t.mapPos(a.to),a.size,a.displaySize))}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"ensureLineGaps",value:function(e,t){var n=this,r=this.heightOracle.lineWrapping,i=r?1e4:2e3,a=i>>1,o=i<<1;if(this.defaultTextDirection!=x4.LTR&&!r)return[];var s,l=[],c=function i(o,s,c,u){if(!(s-o<a)){var d=n.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(var f=0,h=p;f<h.length;f++){var g=h[f];if(g>o&&g<s)return i(o,g-10,c,u),void i(g+10,s,c,u)}var m=function(e,t){var n,r=(0,sp.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t(i))return i}}catch(a){r.e(a)}finally{r.f()}return}(e,(function(e){return e.from>=c.from&&e.to<=c.to&&Math.abs(e.from-o)<a&&Math.abs(e.to-s)<a&&!p.some((function(t){return e.from<t&&e.to>t}))}));if(!m){if(s<c.to&&t&&r&&t.visibleRanges.some((function(e){return e.from<=s&&e.to>=s}))){var v=t.moveToLineBoundary(I1.cursor(s),!1,!0).head;v>o&&(s=v)}var y=n.gapSize(c,o,s,u);m=new $6(o,s,y,r||y<2e6?y:2e6)}l.push(m)}},u=function(t){if(!(t.length<o||t.type!=s4.Text)){var a=function(e,t,n){var r=[],i=e,a=0;A2.spans(n,e,t,{span:function(){},point:function(e,t){e>i&&(r.push({from:i,to:e}),a+=e-i),i=t}},20),i<t&&(r.push({from:i,to:t}),a+=t-i);return{total:a,ranges:r}}(t.from,t.to,n.stateDeco);if(!(a.total<o)){var s,l,u=n.scrollTarget?n.scrollTarget.range.head:null;if(r){var d,p,f=i/n.heightOracle.lineLength*n.heightOracle.lineHeight;if(null!=u){var h=r8(a,u),g=((n.visibleBottom-n.visibleTop)/2+f)/t.height;d=h-g,p=h+g}else d=(n.visibleTop-t.top-f)/t.height,p=(n.visibleBottom-t.top+f)/t.height;s=n8(a,d),l=n8(a,p)}else{var m=a.total*n.heightOracle.charWidth,v=i*n.heightOracle.charWidth,y=0;if(m>2e6){var b,x=(0,sp.Z)(e);try{for(x.s();!(b=x.n()).done;){var w=b.value;w.from>=t.from&&w.from<t.to&&w.size!=w.displaySize&&w.from*n.heightOracle.charWidth+y<n.pixelViewport.left&&(y=w.size-w.displaySize)}}catch(N){x.e(N)}finally{x.f()}}var k,_,C=n.pixelViewport.left+y,j=n.pixelViewport.right+y;if(null!=u){var S=r8(a,u),Z=((j-C)/2+v)/m;k=S-Z,_=S+Z}else k=(C-v)/m,_=(j+v)/m;s=n8(a,k),l=n8(a,_)}s>t.from&&c(t.from,s,t,a),l<t.to&&c(l,t.to,t,a)}}},d=(0,sp.Z)(this.viewportLines);try{for(d.s();!(s=d.n()).done;){var p=s.value;Array.isArray(p.type)?p.type.forEach(u):u(p)}}catch(f){d.e(f)}finally{d.f()}return l}},{key:"gapSize",value:function(e,t,n,r){var i=r8(r,n)-r8(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}},{key:"updateLineGaps",value:function(e){var t=this;$6.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=l4.set(e.map((function(e){return e.draw(t,t.heightOracle.lineWrapping)}))))}},{key:"computeVisibleRanges",value:function(e){var t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));var n=[];A2.spans(t,this.viewport.from,this.viewport.to,{span:function(e,t){n.push({from:e,to:t})},point:function(){}},20);var r=0;if(n.length!=this.visibleRanges.length)r=12;else for(var i=0;i<n.length&&!(8&r);i++){var a=this.visibleRanges[i],o=n[i];a.from==o.from&&a.to==o.to||(r|=4,e&&e.mapPos(a.from,-1)==o.from&&e.mapPos(a.to,1)==o.to||(r|=8))}return this.visibleRanges=n,r}},{key:"lineBlockAt",value:function(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((function(t){return t.from<=e&&t.to>=e}))||o8(this.heightMap.lineAt(e,R6.ByPos,this.heightOracle,0,0),this.scaler)}},{key:"lineBlockAtHeight",value:function(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((function(t){return t.top<=e&&t.bottom>=e}))||o8(this.heightMap.lineAt(this.scaler.fromDOM(e),R6.ByHeight,this.heightOracle,0,0),this.scaler)}},{key:"scrollAnchorAt",value:function(e){var t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}},{key:"elementAtHeight",value:function(e){return o8(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}},{key:"docHeight",get:function(){return this.scaler.toDOM(this.heightMap.height)}},{key:"contentHeight",get:function(){return this.docHeight+this.paddingTop+this.paddingBottom}}]),e}(),t8=(0,Sa.Z)((function e(t,n){(0,Za.Z)(this,e),this.from=t,this.to=n}));function n8(e,t){var n=e.total,r=e.ranges;if(t<=0)return r[0].from;if(t>=1)return r[r.length-1].to;for(var i=Math.floor(n*t),a=0;;a++){var o=r[a],s=o.from,l=o.to-s;if(i<=l)return s+i;i-=l}}function r8(e,t){var n,r=0,i=(0,sp.Z)(e.ranges);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.from,s=a.to;if(t<=s){r+=t-o;break}r+=s-o}}catch(l){i.e(l)}finally{i.f()}return r/e.total}var i8={toDOM:function(e){return e},fromDOM:function(e){return e},scale:1,eq:function(e){return e==this}},a8=function(){function e(t,n,r){(0,Za.Z)(this,e);var i=0,a=0,o=0;this.viewports=r.map((function(e){var r=e.from,a=e.to,o=n.lineAt(r,R6.ByPos,t,0,0).top,s=n.lineAt(a,R6.ByPos,t,0,0).bottom;return i+=s-o,{from:r,to:a,top:o,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(n.height-i);var s,l=(0,sp.Z)(this.viewports);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.domTop=o+(c.top-a)*this.scale,o=c.domBottom=c.domTop+(c.bottom-c.top),a=c.bottom}}catch(u){l.e(u)}finally{l.f()}}return(0,Sa.Z)(e,[{key:"toDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}},{key:"fromDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}},{key:"eq",value:function(t){return t instanceof e&&(this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((function(e,n){return e.from==t.viewports[n].from&&e.to==t.viewports[n].to})))}}]),e}();function o8(e,t){if(1==t.scale)return e;var n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new L6(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map((function(e){return o8(e,t)})):e._content)}var s8=R1.define({combine:function(e){return e.join(" ")}}),l8=R1.define({combine:function(e){return e.indexOf(!0)>-1}}),c8=Q2.newName(),u8=Q2.newName(),d8=Q2.newName(),p8={"&light":"."+u8,"&dark":"."+d8};function f8(e,t,n){return new Q2(t,{finish:function(t){return/&/.test(t)?t.replace(/&\w*/,(function(t){if("&"==t)return e;if(!n||!n[t])throw new RangeError("Unsupported selector: ".concat(t));return n[t]})):e+" "+t}})}var h8=f8("."+c8,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},p8),g8={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},m8=m3.ie&&m3.ie_version<=11,v8=function(){function e(t){var n=this;(0,Za.Z)(this,e),this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new O3,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((function(e){var r,i=(0,sp.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.queue.push(a)}}catch(o){i.e(o)}finally{i.f()}(m3.ie&&m3.ie_version<=11||m3.ios&&t.composing)&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),!window.EditContext||!m3.android||!1===t.constructor.EDIT_CONTEXT||m3.chrome&&m3.chrome_version<126||(this.editContext=new x8(t),t.state.facet(s5)&&(t.contentDOM.editContext=this.editContext.editContext)),m8&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((function(){var e;(null===(e=n.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&n.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((function(e){n.parentCheck<0&&(n.parentCheck=setTimeout(n.listenForScroll.bind(n),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=n.intersecting&&(n.intersecting=!n.intersecting,n.intersecting!=n.view.inView&&n.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((function(e){e.length>0&&e[e.length-1].intersectionRatio>0&&n.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}return(0,Sa.Z)(e,[{key:"onScrollChanged",value:function(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}},{key:"onScroll",value:function(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}},{key:"onResize",value:function(){var e=this;this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((function(){e.resizeTimeout=-1,e.view.requestMeasure()}),50))}},{key:"onPrint",value:function(e){var t=this;("change"!=e.type&&e.type||e.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((function(){t.view.viewState.printing=!1,t.view.requestMeasure()}),500))}},{key:"updateGaps",value:function(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((function(t,n){return t!=e[n]})))){this.gapIntersection.disconnect();var t,n=(0,sp.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.gapIntersection.observe(r)}}catch(i){n.e(i)}finally{n.f()}this.gaps=e}}},{key:"onSelectionChange",value:function(e){var t=this.selectionChanged;if(this.readSelectionRange()&&!this.delayedAndroidKey){var n=this.view,r=this.selectionRange;if(n.state.facet(s5)?n.root.activeElement==this.dom:b3(this.dom,r)){var i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(m3.ie&&m3.ie_version<=11||m3.android&&m3.chrome)&&!n.state.selection.main.empty&&r.focusNode&&w3(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}}}},{key:"readSelectionRange",value:function(){var e=this.view,t=v3(e.root);if(!t)return!1;var n=m3.safari&&11==e.root.nodeType&&e.root.activeElement==this.dom&&function(e,t){if(t.getComposedRanges){var n=t.getComposedRanges(e.root)[0];if(n)return b8(e,n)}var r=null;function i(e){e.preventDefault(),e.stopImmediatePropagation(),r=e.getTargetRanges()[0]}return e.contentDOM.addEventListener("beforeinput",i,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",i,!0),r?b8(e,r):null}(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;var r=b3(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){var n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,j3(n));;)if(r){if(1!=n.nodeType)return!1;var i=n.childNodes[r-1];"false"==i.contentEditable?r--:r=j3(n=i)}else{if(n==e)return!0;r=k3(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}},{key:"setSelectionRange",value:function(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}},{key:"clearSelectionRange",value:function(){this.selectionRange.set(null,0,null,0)}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var e=0,t=null,n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){var r,i=(0,sp.Z)(this.scrollTargets);try{for(i.s();!(r=i.n()).done;){r.value.removeEventListener("scroll",this.onScroll)}}catch(s){i.e(s)}finally{i.f()}var a,o=(0,sp.Z)(this.scrollTargets=t);try{for(o.s();!(a=o.n()).done;){a.value.addEventListener("scroll",this.onScroll)}}catch(s){o.e(s)}finally{o.f()}}}},{key:"ignore",value:function(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,g8),m8&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),m8&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clear",value:function(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}},{key:"delayAndroidKey",value:function(e,t){var n,r=this;if(!this.delayedAndroidKey){this.flushingAndroidKey=this.view.win.requestAnimationFrame((function(){var e=r.delayedAndroidKey;e&&(r.clearDelayedAndroidKey(),r.view.inputState.lastKeyCode=e.keyCode,r.view.inputState.lastKeyTime=Date.now(),!r.flush()&&e.force&&M3(r.dom,e.key,e.keyCode))}))}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}},{key:"clearDelayedAndroidKey",value:function(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}},{key:"flushSoon",value:function(){var e=this;this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((function(){e.delayedFlush=-1,e.flush()})))}},{key:"forceFlush",value:function(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}},{key:"pendingRecords",value:function(){var e,t=(0,sp.Z)(this.observer.takeRecords());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.queue.push(n)}}catch(r){t.e(r)}finally{t.f()}return this.queue}},{key:"processRecords",value:function(){var e=this.pendingRecords();e.length&&(this.queue=[]);var t,n=-1,r=-1,i=!1,a=(0,sp.Z)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value,s=this.readMutation(o);s&&(s.typeOver&&(i=!0),-1==n?(n=s.from,r=s.to):(n=Math.min(s.from,n),r=Math.max(s.to,r)))}}catch(l){a.e(l)}finally{a.f()}return{from:n,to:r,typeOver:i}}},{key:"readChange",value:function(){var e=this.processRecords(),t=e.from,n=e.to,r=e.typeOver,i=this.selectionChanged&&b3(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;var a=new J5(this.view,t,n,r);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}},{key:"flush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();var t=this.readChange();if(!t)return this.view.requestMeasure(),!1;var n=this.view.state,r=e6(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}},{key:"readMutation",value:function(e){var t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){var n=y8(t,e.previousSibling||e.target.previousSibling,-1),r=y8(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}},{key:"setWindow",value:function(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}},{key:"addWindowListeners",value:function(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}},{key:"removeWindowListeners",value:function(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"update",value:function(e){this.editContext&&(this.editContext.update(e),e.startState.facet(s5)!=e.state.facet(s5)&&(e.view.contentDOM.editContext=e.state.facet(s5)?this.editContext.editContext:null))}},{key:"destroy",value:function(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();var r,i=(0,sp.Z)(this.scrollTargets);try{for(i.s();!(r=i.n()).done;){r.value.removeEventListener("scroll",this.onScroll)}}catch(a){i.e(a)}finally{i.f()}this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}]),e}();function y8(e,t,n){for(;t;){var r=V3.get(t);if(r&&r.parent==e)return r;var i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}function b8(e,t){var n=t.startContainer,r=t.startOffset,i=t.endContainer,a=t.endOffset,o=e.docView.domAtPos(e.state.selection.main.anchor);if(w3(o.node,o.offset,i,a)){var s=[i,a,n,r];n=s[0],r=s[1],i=s[2],a=s[3]}return{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}var x8=function(){function e(t){var n=this;(0,Za.Z)(this,e),this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);var r=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});for(var i in this.handlers.textupdate=function(e){var i=t.state.selection.main,a=i.anchor,o=i.head,s=n.toEditorPos(e.updateRangeStart),l=n.toEditorPos(e.updateRangeEnd);t.inputState.composing>=0&&!n.composing&&(n.composing={contextBase:e.updateRangeStart,editorBase:s,drifted:!1});var c=l-s>e.text.length;s==n.from&&a<n.from?s=a:l==n.to&&a>n.to&&(l=a);var u=r6(t.state.sliceDoc(s,l),e.text,(c?i.from:i.to)-s,c?"end":null);if(u){var d={from:u.from+s,to:u.toA+s,insert:c1.of(e.text.slice(u.from,u.toB).split("\n"))};if((m3.mac||m3.android)&&d.from==o-1&&/^\. ?$/.test(e.text)&&"off"==t.contentDOM.getAttribute("autocorrect")&&(d={from:s,to:l,insert:c1.of([e.text.replace("."," ")])}),n.pendingContextChange=d,!t.state.readOnly){var p=n.to-n.from+(d.to-d.from+d.insert.length);t6(t,d,I1.single(n.toEditorPos(e.selectionStart,p),n.toEditorPos(e.selectionEnd,p)))}n.pendingContextChange&&(n.revertPending(t.state),n.setSelection(t.state)),d.from<d.to&&!d.insert.length&&t.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(r.text.slice(Math.max(0,e.updateRangeStart-1),Math.min(r.text.length,e.updateRangeStart+1)))&&n.handlers.compositionend(e)}else{var f=I1.single(n.toEditorPos(e.selectionStart),n.toEditorPos(e.selectionEnd));f.main.eq(i)||t.dispatch({selection:f,userEvent:"select"})}},this.handlers.characterboundsupdate=function(e){for(var i=[],a=null,o=n.toEditorPos(e.rangeStart),s=n.toEditorPos(e.rangeEnd);o<s;o++){var l=t.coordsForChar(o);a=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||a||new DOMRect,i.push(a)}r.updateCharacterBounds(e.rangeStart,i)},this.handlers.textformatupdate=function(e){var r,i=[],a=(0,sp.Z)(e.getTextFormats());try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.underlineStyle,l=o.underlineThickness;if(!/none/i.test(s)&&!/none/i.test(l)){var c=n.toEditorPos(o.rangeStart),u=n.toEditorPos(o.rangeEnd);if(c<u){var d="text-decoration: underline ".concat(/^[a-z]/.test(s)?s+" ":"Dashed"==s?"dashed ":"Squiggle"==s?"wavy ":"").concat(/thin/i.test(l)?1:2,"px");i.push(l4.mark({attributes:{style:d}}).range(c,u))}}}}catch(p){a.e(p)}finally{a.f()}t.dispatch({effects:a5.of(l4.set(i))})},this.handlers.compositionstart=function(){t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=function(){if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,n.composing){var e=n.composing.drifted;n.composing=null,e&&n.reset(t.state)}},this.handlers)r.addEventListener(i,this.handlers[i]);this.measureReq={read:function(e){n.editContext.updateControlBounds(e.contentDOM.getBoundingClientRect());var t=v3(e.root);t&&t.rangeCount&&n.editContext.updateSelectionBounds(t.getRangeAt(0).getBoundingClientRect())}}}return(0,Sa.Z)(e,[{key:"applyEdits",value:function(e){var t=this,n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((function(a,o,s,l,c){if(!r){var u=c.length-(o-a);if(i&&o>=i.to){if(i.from==a&&i.to==o&&i.insert.eq(c))return i=t.pendingContextChange=null,n+=u,void(t.to+=u);i=null,t.revertPending(e.state)}if(a+=n,(o+=n)<=t.from)t.from+=u,t.to+=u;else if(a<t.to){if(a<t.from||o>t.to||t.to-t.from+c.length>3e4)return void(r=!0);t.editContext.updateText(t.toContextPos(a),t.toContextPos(o),c.toString()),t.to+=u}n+=u}})),i&&!r&&this.revertPending(e.state),!r}},{key:"update",value:function(e){var t=this,n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some((function(e){return!e.isUserEvent("input.type")&&e.changes.touchesRange(t.from,t.to)})))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):this.applyEdits(e)&&this.rangeIsValid(e.state)?(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state):(this.pendingContextChange=null,this.reset(e.state)),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}},{key:"resetRange",value:function(e){var t=e.selection.main.head;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}},{key:"reset",value:function(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}},{key:"revertPending",value:function(e){var t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}},{key:"setSelection",value:function(e){var t=e.selection.main,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);this.editContext.selectionStart==n&&this.editContext.selectionEnd==r||this.editContext.updateSelection(n,r)}},{key:"rangeIsValid",value:function(e){var t=e.selection.main.head;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>3e4)}},{key:"toEditorPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.to-this.from;e=Math.min(e,t);var n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}},{key:"toContextPos",value:function(e){var t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}},{key:"destroy",value:function(){for(var e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}]),e}(),w8=function(){function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Za.Z)(this,e),this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),r.parent&&r.parent.appendChild(this.dom);var i=r.dispatch;this.dispatchTransactions=r.dispatchTransactions||i&&function(e){return e.forEach((function(e){return i(e,n)}))}||function(e){return n.update(e)},this.dispatch=this.dispatch.bind(this),this._root=r.root||I3(r.parent)||document,this.viewState=new e8(r.state||j2.create(r)),r.scrollTo&&r.scrollTo.is(i5)&&(this.viewState.scrollTarget=r.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(c5).map((function(e){return new d5(e)}));var a,o=(0,sp.Z)(this.plugins);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.update(this)}}catch(l){o.e(l)}finally{o.f()}this.observer=new v8(this),this.inputState=new i6(this),this.inputState.ensureHandlers(this.plugins),this.docView=new C5(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(t=document.fonts)||void 0===t?void 0:t.ready)&&document.fonts.ready.then((function(){return n.requestMeasure()}))}return(0,Sa.Z)(e,[{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return!!this.inputState&&this.inputState.composing>0}},{key:"compositionStarted",get:function(){return!!this.inputState&&this.inputState.composing>=0}},{key:"root",get:function(){return this._root}},{key:"win",get:function(){return this.dom.ownerDocument.defaultView||window}},{key:"dispatch",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=1==n.length&&n[0]instanceof h2?n:1==n.length&&Array.isArray(n[0])?n[0]:[(e=this.state).update.apply(e,n)];this.dispatchTransactions(i,this)}},{key:"update",value:function(e){var t=this;if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");var n,r,i=!1,a=!1,o=this.state,s=(0,sp.Z)(e);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(l.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=l.state}}catch(j){s.e(j)}finally{s.f()}if(this.destroyed)this.viewState.state=o;else{var c=this.hasFocus,u=0,d=null;e.some((function(e){return e.annotation(N6)}))?(this.inputState.notifiedFocused=c,u=1):c!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=c,(d=E6(o,c))||(u=1));var p=this.observer.delayedAndroidKey,f=null;if(p?(this.observer.clearDelayedAndroidKey(),((f=this.observer.readChange())&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(f=null)):this.observer.clear(),o.facet(j2.phrases)!=this.state.facet(j2.phrases))return this.setState(o);n=_5.create(this,o,e),n.flags|=u;var h=this.viewState.scrollTarget;try{this.updateState=2;var g,m=(0,sp.Z)(e);try{for(m.s();!(g=m.n()).done;){var v=g.value;if(h&&(h=h.map(v.changes)),v.scrollIntoView){var y=v.state.selection.main;h=new r5(y.empty?y:I1.cursor(y.head,y.head>y.anchor?-1:1))}var b,x=(0,sp.Z)(v.effects);try{for(x.s();!(b=x.n()).done;){var w=b.value;w.is(i5)&&(h=w.value.clip(this.state))}}catch(j){x.e(j)}finally{x.f()}}}catch(j){m.e(j)}finally{m.f()}this.viewState.update(n,h),this.bidiCache=C8.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),i=this.docView.update(n),this.state.facet(w5)!=this.styleModules&&this.mountStyles(),a=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some((function(e){return e.isUserEvent("select.pointer")})))}finally{this.updateState=0}if(n.startState.facet(s8)!=n.state.facet(s8)&&(this.viewState.mustMeasureContent=!0),(i||a||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),i&&this.docViewUpdate(),!n.empty){var k,_=(0,sp.Z)(this.state.facet(G4));try{for(_.s();!(k=_.n()).done;){var C=k.value;try{C(n)}catch(w){o5(this.state,w,"update listener")}}}catch(j){_.e(j)}finally{_.f()}}(d||f)&&Promise.resolve().then((function(){d&&t.state==d.startState&&t.dispatch(d),f&&!e6(t,f)&&p.force&&M3(t.contentDOM,p.key,p.keyCode)}))}}},{key:"setState",value:function(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=e;else{this.updateState=2;var t=this.hasFocus;try{var n,r=(0,sp.Z)(this.plugins);try{for(r.s();!(n=r.n()).done;){n.value.destroy(this)}}catch(o){r.e(o)}finally{r.f()}this.viewState=new e8(e),this.plugins=e.facet(c5).map((function(e){return new d5(e)})),this.pluginMap.clear();var i,a=(0,sp.Z)(this.plugins);try{for(a.s();!(i=a.n()).done;){i.value.update(this)}}catch(o){a.e(o)}finally{a.f()}this.docView.destroy(),this.docView=new C5(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}}},{key:"updatePlugins",value:function(e){var t=e.startState.facet(c5),n=e.state.facet(c5);if(t!=n){var r,i=[],a=(0,sp.Z)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t.indexOf(o);if(s<0)i.push(new d5(o));else{var l=this.plugins[s];l.mustUpdate=e,i.push(l)}}}catch(g){a.e(g)}finally{a.f()}var c,u=(0,sp.Z)(this.plugins);try{for(u.s();!(c=u.n()).done;){var d=c.value;d.mustUpdate!=e&&d.destroy(this)}}catch(g){u.e(g)}finally{u.f()}this.plugins=i,this.pluginMap.clear()}else{var p,f=(0,sp.Z)(this.plugins);try{for(f.s();!(p=f.n()).done;){p.value.mustUpdate=e}}catch(g){f.e(g)}finally{f.f()}}for(var h=0;h<this.plugins.length;h++)this.plugins[h].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}},{key:"docViewUpdate",value:function(){var e,t=(0,sp.Z)(this.plugins);try{for(t.s();!(e=t.n()).done;){var n=e.value.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){o5(this.state,r,"doc view update listener")}}}catch(i){t.e(i)}finally{t.f()}}},{key:"measure",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.destroyed){if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();var n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,a=this.viewState,o=a.scrollAnchorPos,s=a.scrollAnchorHeight;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(var l=0;;l++){if(s<0)if(L3(r))o=-1,s=this.viewState.heightMap.height;else{var c=this.viewState.scrollAnchorAt(i);o=c.from,s=c.top}this.updateState=1;var u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}var d=[];if(!(4&u)){var p=[d,this.measureRequests];this.measureRequests=p[0],d=p[1]}var f=d.map((function(t){try{return t.read(e)}catch(n){return o5(e.state,n),_8}})),h=_5.create(this,this.state,[]),g=!1;h.flags|=u,n?n.flags|=u:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),(g=this.docView.update(h))&&this.docViewUpdate());for(var m=0;m<d.length;m++)if(f[m]!=_8)try{var v=d[m];v.write&&v.write(f[m],this)}catch(_){o5(this.state,_)}if(g&&this.docView.updateSelection(!0),!h.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}var y=o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top,b=y-s;if(b>1||b<-1){i+=b,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty){var x,w=(0,sp.Z)(this.state.facet(G4));try{for(w.s();!(x=w.n()).done;){var k=x.value;k(n)}}catch(C){w.e(C)}finally{w.f()}}}}},{key:"themeClasses",get:function(){return c8+" "+(this.state.facet(l8)?d8:u8)+" "+this.state.facet(s8)}},{key:"updateAttrs",value:function(){var e=this,t=j8(this,p5,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(s5)?"true":"false",class:"cm-content",style:"".concat(m3.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),j8(this,f5,n);var r=this.observer.ignore((function(){var r=i4(e.contentDOM,e.contentAttrs,n),i=i4(e.dom,e.editorAttrs,t);return r||i}));return this.editorAttrs=t,this.contentAttrs=n,r}},{key:"showAnnouncements",value:function(t){var n,r=!0,i=(0,sp.Z)(t);try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=(0,sp.Z)(o.effects);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.is(e.announce))r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=l.value}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(w5);var t=this.state.facet(e.cspNonce);Q2.mount(this.root,this.styleModules.concat(h8).reverse(),t?{nonce:t}:void 0)}},{key:"readMeasured",value:function(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}},{key:"requestMeasure",value:function(e){var t=this;if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((function(){return t.measure()}))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(var n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key)return void(this.measureRequests[n]=e);this.measureRequests.push(e)}}},{key:"plugin",value:function(e){var t=this.pluginMap.get(e);return(void 0===t||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find((function(t){return t.plugin==e}))||null),t&&t.update(this).value}},{key:"documentTop",get:function(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}},{key:"documentPadding",get:function(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}},{key:"scaleX",get:function(){return this.viewState.scaleX}},{key:"scaleY",get:function(){return this.viewState.scaleY}},{key:"elementAtHeight",value:function(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}},{key:"lineBlockAtHeight",value:function(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}},{key:"viewportLineBlocks",get:function(){return this.viewState.viewportLines}},{key:"lineBlockAt",value:function(e){return this.viewState.lineBlockAt(e)}},{key:"contentHeight",get:function(){return this.viewState.contentHeight}},{key:"moveByChar",value:function(e,t,n){return K5(this,e,H5(this,e,t,n))}},{key:"moveByGroup",value:function(e,t){var n=this;return K5(this,e,H5(this,e,t,(function(t){return function(e,t,n){var r=e.state.charCategorizer(t),i=r(n);return function(e){var t=r(e);return i==k2.Space&&(i=t),i==t}}(n,e.head,t)})))}},{key:"visualLineSide",value:function(e,t){var n=this.bidiSpans(e),r=this.textDirectionAt(e.from),i=n[t?n.length-1:0];return I1.cursor(i.side(t,r)+e.from,i.forward(!t,r)?1:-1)}},{key:"moveToLineBoundary",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return U5(this,e,t,n)}},{key:"moveVertically",value:function(e,t,n){return K5(this,e,function(e,t,n,r){var i=t.head,a=n?1:-1;if(i==(n?e.state.doc.length:0))return I1.cursor(i,t.assoc);var o,s=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(i,t.assoc||-1),u=e.documentTop;if(c)null==s&&(s=c.left-l.left),o=a<0?c.top:c.bottom;else{var d=e.viewState.lineBlockAt(i);null==s&&(s=Math.min(l.right-l.left,e.defaultCharacterWidth*(i-d.from))),o=(a<0?d.top:d.bottom)+u}for(var p=l.left+s,f=null!==r&&void 0!==r?r:e.viewState.heightOracle.textHeight>>1,h=0;;h+=10){var g=o+(f+h)*a,m=L5(e,{x:p,y:g},!1,a);if(g<l.top||g>l.bottom||(a<0?m<i:m>i)){var v=e.docView.coordsForChar(m),y=!v||g<v.top?-1:1;return I1.cursor(m,y,void 0,s)}}}(this,e,t,n))}},{key:"domAtPos",value:function(e){return this.docView.domAtPos(e)}},{key:"posAtDOM",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.posFromDOM(e,t)}},{key:"posAtCoords",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.readMeasured(),L5(this,e,t)}},{key:"coordsAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();var n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;var r=this.state.doc.lineAt(e),i=this.bidiSpans(r),a=i[I4.find(i,e-r.from,-1,t)];return S3(n,a.dir==x4.LTR==t>0)}},{key:"coordsForChar",value:function(e){return this.readMeasured(),this.docView.coordsForChar(e)}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.defaultTextDirection}},{key:"textDirectionAt",value:function(e){return!this.state.facet(e5)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"bidiSpans",value:function(e){if(e.length>k8)return z4(e.length);var t,n,r=this.textDirectionAt(e.from),i=(0,sp.Z)(this.bidiCache);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.from==e.from&&a.dir==r&&(a.fresh||D4(a.isolates,t=y5(this,e))))return a.order}}catch(s){i.e(s)}finally{i.f()}t||(t=y5(this,e));var o=F4(e.text,r,t);return this.bidiCache.push(new C8(e.from,e.to,r,t,!0,o)),o}},{key:"hasFocus",get:function(){var e;return(this.dom.ownerDocument.hasFocus()||m3.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}},{key:"focus",value:function(){var e=this;this.observer.ignore((function(){T3(e.contentDOM),e.docView.updateSelection()}))}},{key:"setRoot",value:function(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}},{key:"destroy",value:function(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();var e,t=(0,sp.Z)(this.plugins);try{for(t.s();!(e=t.n()).done;){e.value.destroy(this)}}catch(n){t.e(n)}finally{t.f()}this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}},{key:"scrollSnapshot",value:function(){var e=this.scrollDOM,t=e.scrollTop,n=e.scrollLeft,r=this.viewState.scrollAnchorAt(t);return i5.of(new r5(I1.cursor(r.from),"start","start",r.top-t,n,!0))}},{key:"setTabFocusMode",value:function(e){null==e?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof e?this.inputState.tabFocusMode=e?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+e)}}],[{key:"scrollIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i5.of(new r5("number"==typeof e?I1.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}},{key:"domEventHandlers",value:function(e){return u5.define((function(){return{}}),{eventHandlers:e})}},{key:"domEventObservers",value:function(e){return u5.define((function(){return{}}),{eventObservers:e})}},{key:"theme",value:function(e,t){var n=Q2.newName(),r=[s8.of(n),w5.of(f8(".".concat(n),e))];return t&&t.dark&&r.push(l8.of(!0)),r}},{key:"baseTheme",value:function(e){return Q1.lowest(w5.of(f8("."+c8,e,p8)))}},{key:"findFromDOM",value:function(e){var t,n=e.querySelector(".cm-content"),r=n&&V3.get(n)||V3.get(e);return(null===(t=null===r||void 0===r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}]),e}();w8.styleModule=w5,w8.inputHandler=Q4,w8.clipboardInputFilter=$4,w8.clipboardOutputFilter=J4,w8.scrollHandler=n5,w8.focusChangeEffect=X4,w8.perLineTextDirection=e5,w8.exceptionSink=Y4,w8.updateListener=G4,w8.editable=s5,w8.mouseSelectionStyle=K4,w8.dragMovesSelection=q4,w8.clickAddsSelectionRange=W4,w8.decorations=h5,w8.outerDecorations=g5,w8.atomicRanges=m5,w8.bidiIsolatedRanges=v5,w8.scrollMargins=b5,w8.darkTheme=l8,w8.cspNonce=R1.define({combine:function(e){return e.length?e[0]:""}}),w8.contentAttributes=f5,w8.editorAttributes=p5,w8.lineWrapping=w8.contentAttributes.of({class:"cm-lineWrapping"}),w8.announce=f2.define();var k8=4096,_8={},C8=function(){function e(t,n,r,i,a,o){(0,Za.Z)(this,e),this.from=t,this.to=n,this.dir=r,this.isolates=i,this.fresh=a,this.order=o}return(0,Sa.Z)(e,null,[{key:"update",value:function(t,n){if(n.empty&&!t.some((function(e){return e.fresh})))return t;for(var r=[],i=t.length?t[t.length-1].dir:x4.LTR,a=Math.max(0,t.length-10);a<t.length;a++){var o=t[a];o.dir!=i||n.touchesRange(o.from,o.to)||r.push(new e(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}]),e}();function j8(e,t,n){for(var r=e.state.facet(t),i=r.length-1;i>=0;i--){var a=r[i],o="function"==typeof a?a(e):a;o&&t4(o,n)}return n}var S8=m3.mac?"mac":m3.windows?"win":m3.linux?"linux":"key";function Z8(e,t){var n,r,i,a,o=e.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(var l=0;l<o.length-1;++l){var c=o[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))i=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);"mac"==t?a=!0:r=!0}}return n&&(s="Alt-"+s),r&&(s="Ctrl-"+s),a&&(s="Meta-"+s),i&&(s="Shift-"+s),s}function N8(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}var E8=Q1.default(w8.domEventHandlers({keydown:function(e,t){return D8(T8(t.state),e,t,"editor")}})),O8=R1.define({enables:E8}),A8=new WeakMap;function T8(e){var t=e.facet(O8),n=A8.get(t);return n||A8.set(t,n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S8,r=Object.create(null),i=Object.create(null),a=function(e,t){var n=i[e];if(null==n)i[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},o=function(e,t,i,o,s){for(var l,c,u=r[e]||(r[e]=Object.create(null)),d=t.split(/ (?!$)/).map((function(e){return Z8(e,n)})),p=function(t){var n=d.slice(0,t).join(" ");a(n,!0),u[n]||(u[n]={preventDefault:!0,stopPropagation:!1,run:[function(t){var r=P8={view:t,prefix:n,scope:e};return setTimeout((function(){P8==r&&(P8=null)}),M8),!0}]})},f=1;f<d.length;f++)p(f);var h=d.join(" ");a(h,!1);var g=u[h]||(u[h]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=u._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});i&&g.run.push(i),o&&(g.preventDefault=!0),s&&(g.stopPropagation=!0)},s=(0,sp.Z)(e);try{for(s.s();!(t=s.n()).done;){var l=t.value,c=l.scope?l.scope.split(" "):["editor"];if(l.any){var u,d=(0,sp.Z)(c);try{var p=function(){var e=u.value,t=r[e]||(r[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});var n=l.any;for(var i in t)t[i].run.push((function(e){return n(e,I8)}))};for(d.s();!(u=d.n()).done;)p()}catch(v){d.e(v)}finally{d.f()}}var f=l[n]||l.key;if(f){var h,g=(0,sp.Z)(c);try{for(g.s();!(h=g.n()).done;){var m=h.value;o(m,f,l.run,l.preventDefault,l.stopPropagation),l.shift&&o(m,"Shift-"+f,l.shift,l.preventDefault,l.stopPropagation)}}catch(v){g.e(v)}finally{g.f()}}}}catch(v){s.e(v)}finally{s.f()}return r}(t.reduce((function(e,t){return e.concat(t)}),[]))),n}var P8=null,M8=4e3;var I8=null;function D8(e,t,n,r){I8=t;var i=function(e){var t=!(t3&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||n3&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?e3:J2)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),a=_1(w1(i,0))==i.length&&" "!=i,o="",s=!1,l=!1,c=!1;P8&&P8.view==n&&P8.scope==r&&(o=P8.prefix+" ",c6.indexOf(t.keyCode)<0&&(l=!0,P8=null));var u,d,p=new Set,f=function(e){if(e){var t,r=(0,sp.Z)(e.run);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!p.has(i)&&(p.add(i),i(n)))return e.stopPropagation&&(c=!0),!0}}catch(a){r.e(a)}finally{r.f()}e.preventDefault&&(e.stopPropagation&&(c=!0),l=!0)}return!1},h=e[r];return h&&(f(h[o+N8(i,t,!a)])?s=!0:!a||!(t.altKey||t.metaKey||t.ctrlKey)||m3.windows&&t.ctrlKey&&t.altKey||m3.mac&&t.altKey&&!t.ctrlKey&&!t.metaKey||!(u=J2[t.keyCode])||u==i?a&&t.shiftKey&&f(h[o+N8(i,t,!0)])&&(s=!0):(f(h[o+N8(u,t,!0)])||t.shiftKey&&(d=e3[t.keyCode])!=i&&d!=u&&f(h[o+N8(d,t,!1)]))&&(s=!0),!s&&f(h._any)&&(s=!0)),l&&(s=!0),s&&c&&t.stopPropagation(),I8=null,s}var L8=function(){function e(t,n,r,i,a){(0,Za.Z)(this,e),this.className=t,this.left=n,this.top=r,this.width=i,this.height=a}return(0,Sa.Z)(e,[{key:"draw",value:function(){var e=document.createElement("div");return e.className=this.className,this.adjust(e),e}},{key:"update",value:function(e,t){return t.className==this.className&&(this.adjust(e),!0)}},{key:"adjust",value:function(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}},{key:"eq",value:function(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}],[{key:"forRange",value:function(t,n,r){if(r.empty){var i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];var a=R8(t);return[new e(n,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}return F8(t,n,r)}}]),e}();function R8(e){var t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==x4.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function B8(e,t,n,r){var i=e.coordsAtPos(t,2*n);if(!i)return r;var a=e.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,s=e.posAtCoords({x:a.left+1,y:o}),l=e.posAtCoords({x:a.right-1,y:o});return null==s||null==l?r:{from:Math.max(r.from,Math.min(s,l)),to:Math.min(r.to,Math.max(s,l))}}function F8(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];var r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),a=e.textDirection==x4.LTR,o=e.contentDOM,s=o.getBoundingClientRect(),l=R8(e),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=s.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),p=s.right-(u?parseInt(u.paddingRight):0),f=V5(e,r,1),h=V5(e,i,-1),g=f.type==s4.Text?f:null,m=h.type==s4.Text?h:null;if(g&&(e.lineWrapping||f.widgetLineBreaks)&&(g=B8(e,r,1,g)),m&&(e.lineWrapping||h.widgetLineBreaks)&&(m=B8(e,i,-1,m)),g&&m&&g.from==m.from&&g.to==m.to)return w(k(n.from,n.to,g));var v=g?k(n.from,null,g):_(f,!1),y=m?k(null,n.to,m):_(h,!0),b=[];return(g||f).to<(m||h).from-(g&&m?1:0)||f.widgetLineBreaks>1&&v.bottom+e.defaultLineHeight/2<y.top?b.push(x(d,v.bottom,p,y.top)):v.bottom<y.top&&e.elementAtHeight((v.bottom+y.top)/2).type==s4.Text&&(v.bottom=y.top=(v.bottom+y.top)/2),w(v).concat(b).concat(w(y));function x(e,n,r,i){return new L8(t,e-l.left,n-l.top,r-e,i-n)}function w(e){for(var t=e.top,n=e.bottom,r=e.horizontal,i=[],a=0;a<r.length;a+=2)i.push(x(r[a],t,r[a+1],n));return i}function k(t,n,r){var i=1e9,o=-1e9,s=[];function l(t,n,l,c,u){var f=e.coordsAtPos(t,t==r.to?-2:2),h=e.coordsAtPos(l,l==r.from?2:-2);f&&h&&(i=Math.min(f.top,h.top,i),o=Math.max(f.bottom,h.bottom,o),u==x4.LTR?s.push(a&&n?d:f.left,a&&c?p:h.right):s.push(!a&&c?d:h.left,!a&&n?p:f.right))}var c,u=null!==t&&void 0!==t?t:r.from,f=null!==n&&void 0!==n?n:r.to,h=(0,sp.Z)(e.visibleRanges);try{for(h.s();!(c=h.n()).done;){var g=c.value;if(g.to>u&&g.from<f)for(var m=Math.max(g.from,u),v=Math.min(g.to,f);;){var y,b=e.state.doc.lineAt(m),x=(0,sp.Z)(e.bidiSpans(b));try{for(x.s();!(y=x.n()).done;){var w=y.value,k=w.from+b.from,_=w.to+b.from;if(k>=v)break;_>m&&l(Math.max(k,m),null==t&&k<=u,Math.min(_,v),null==n&&_>=f,w.dir)}}catch(C){x.e(C)}finally{x.f()}if((m=b.to+1)>=v)break}}}catch(C){h.e(C)}finally{h.f()}return 0==s.length&&l(u,null==t,f,null==n,e.textDirection),{top:i,bottom:o,horizontal:s}}function _(e,t){var n=s.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}var z8=function(){function e(t,n){(0,Za.Z)(this,e),this.view=t,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,t)}return(0,Sa.Z)(e,[{key:"update",value:function(e){e.startState.facet(V8)!=e.state.facet(V8)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}},{key:"docViewUpdate",value:function(e){!1!==this.layer.updateOnDocViewUpdate&&e.requestMeasure(this.measureReq)}},{key:"setOrder",value:function(e){for(var t=0,n=e.facet(V8);t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}},{key:"measure",value:function(){return this.layer.markers(this.view)}},{key:"scale",value:function(){var e=this.view,t=e.scaleX,n=e.scaleY;t==this.scaleX&&n==this.scaleY||(this.scaleX=t,this.scaleY=n,this.dom.style.transform="scale(".concat(1/t,", ").concat(1/n,")"))}},{key:"draw",value:function(e){var t=this;if(e.length!=this.drawn.length||e.some((function(e,n){return!function(e,t){return e.constructor==t.constructor&&e.eq(t)}(e,t.drawn[n])}))){var n,r=this.dom.firstChild,i=0,a=(0,sp.Z)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.update&&r&&o.constructor&&this.drawn[i].constructor&&o.update(r,this.drawn[i])?(r=r.nextSibling,i++):this.dom.insertBefore(o.draw(),r)}}catch(l){a.e(l)}finally{a.f()}for(;r;){var s=r.nextSibling;r.remove(),r=s}this.drawn=e,m3.safari&&m3.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}},{key:"destroy",value:function(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}]),e}(),V8=R1.define();function U8(e){return[u5.define((function(t){return new z8(t,e)})),V8.of(e)]}var H8=R1.define({combine:function(e){return S2(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:function(e,t){return Math.min(e,t)},drawRangeCursor:function(e,t){return e||t}})}});function W8(e){return e.startState.facet(H8)!=e.state.facet(H8)}var q8=U8({above:!0,markers:function(e){var t,n=e.state,r=n.facet(H8),i=[],a=(0,sp.Z)(n.selection.ranges);try{for(a.s();!(t=a.n()).done;){var o=t.value,s=o==n.selection.main;if(o.empty||r.drawRangeCursor){var l,c=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=o.empty?o:I1.cursor(o.head,o.head>o.anchor?-1:1),d=(0,sp.Z)(L8.forRange(e,c,u));try{for(d.s();!(l=d.n()).done;){var p=l.value;i.push(p)}}catch(f){d.e(f)}finally{d.f()}}}}catch(f){a.e(f)}finally{a.f()}return i},update:function(e,t){e.transactions.some((function(e){return e.selection}))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");var n=W8(e);return n&&K8(e.state,t),e.docChanged||e.selectionSet||n},mount:function(e,t){K8(t.state,e)},class:"cm-cursorLayer"});function K8(e,t){t.style.animationDuration=e.facet(H8).cursorBlinkRate+"ms"}var Y8=U8({above:!1,markers:function(e){return e.state.selection.ranges.map((function(t){return t.empty?[]:L8.forRange(e,"cm-selectionBackground",t)})).reduce((function(e,t){return e.concat(t)}))},update:function(e,t){return e.docChanged||e.selectionSet||e.viewportChanged||W8(e)},class:"cm-selectionLayer"}),G8=Q1.highest(w8.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),Q8=f2.define({map:function(e,t){return null==e?null:t.mapPos(e)}}),X8=H1.define({create:function(){return null},update:function(e,t){return null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce((function(e,t){return t.is(Q8)?t.value:e}),e)}}),$8=u5.fromClass(function(){function e(t){(0,Za.Z)(this,e),this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}return(0,Sa.Z)(e,[{key:"update",value:function(e){var t,n=e.state.field(X8);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(X8)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}},{key:"readPos",value:function(){var e=this.view,t=e.state.field(X8),n=null!=t&&e.coordsAtPos(t);if(!n)return null;var r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}},{key:"drawCursor",value:function(e){if(this.cursor){var t=this.view,n=t.scaleX,r=t.scaleY;e?(this.cursor.style.left=e.left/n+"px",this.cursor.style.top=e.top/r+"px",this.cursor.style.height=e.height/r+"px"):this.cursor.style.left="-100000px"}}},{key:"destroy",value:function(){this.cursor&&this.cursor.remove()}},{key:"setDropPos",value:function(e){this.view.state.field(X8)!=e&&this.view.dispatch({effects:Q8.of(e)})}}]),e}(),{eventObservers:{dragover:function(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave:function(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend:function(){this.setDropPos(null)},drop:function(){this.setDropPos(null)}}});function J8(e,t,n,r,i){t.lastIndex=0;for(var a,o=e.iterRange(n,r),s=n;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=t.exec(o.value);)i(s+a.index,a)}var e7=function(){function e(t){(0,Za.Z)(this,e);var n=t.regexp,r=t.decoration,i=t.decorate,a=t.boundary,o=t.maxLength,s=void 0===o?1e3:o;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=function(e,t,n,r){return i(r,n,n+e[0].length,e,t)};else if("function"==typeof r)this.addMatch=function(e,t,n,i){var a=r(e,t,n);a&&i(n,n+e[0].length,a)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=function(e,t,n,i){return i(n,n+e[0].length,r)}}this.boundary=a,this.maxLength=s}return(0,Sa.Z)(e,[{key:"createDeco",value:function(e){var t,n=this,r=new P2,i=r.add.bind(r),a=(0,sp.Z)(function(e,t){var n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;var r,i=[],a=(0,sp.Z)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.from,l=o.to;s=Math.max(e.state.doc.lineAt(s).from,s-t),l=Math.min(e.state.doc.lineAt(l).to,l+t),i.length&&i[i.length-1].to>=s?i[i.length-1].to=l:i.push({from:s,to:l})}}catch(c){a.e(c)}finally{a.f()}return i}(e,this.maxLength));try{for(a.s();!(t=a.n()).done;){var o=t.value,s=o.from,l=o.to;J8(e.state.doc,this.regexp,s,l,(function(t,r){return n.addMatch(r,e,t,i)}))}}catch(c){a.e(c)}finally{a.f()}return r.finish()}},{key:"updateDeco",value:function(e,t){var n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((function(t,i,a,o){o>=e.view.viewport.from&&a<=e.view.viewport.to&&(n=Math.min(a,n),r=Math.max(o,r))})),e.viewportMoved||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}},{key:"updateRange",value:function(e,t,n,r){var i,a=this,o=(0,sp.Z)(e.visibleRanges);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=Math.max(s.from,n),c=Math.min(s.to,r);c>=l&&function(){var n=e.state.doc.lineAt(l),r=n.to<c?e.state.doc.lineAt(c):n,i=Math.max(s.from,n.from),o=Math.min(s.to,r.to);if(a.boundary){for(;l>n.from;l--)if(a.boundary.test(n.text[l-1-n.from])){i=l;break}for(;c<r.to;c++)if(a.boundary.test(r.text[c-r.from])){o=c;break}}var u=[],d=void 0,p=function(e,t,n){return u.push(n.range(e,t))};if(n==r)for(a.regexp.lastIndex=i-n.from;(d=a.regexp.exec(n.text))&&d.index<o-n.from;)a.addMatch(d,e,d.index+n.from,p);else J8(e.state.doc,a.regexp,i,o,(function(t,n){return a.addMatch(n,e,t,p)}));t=t.update({filterFrom:i,filterTo:o,filter:function(e,t){return e<i||t>o},add:u})}()}}catch(u){o.e(u)}finally{o.f()}return t}}]),e}(),t7=null!=/x/.unicode?"gu":"g",n7=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",t7),r7={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},i7=null;var a7=R1.define({combine:function(e){var t=S2(e,{render:null,specialChars:n7,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==i7&&"undefined"!=typeof document&&document.body){var t=document.body.style;i7=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return i7||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,t7)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,t7)),t}});var o7=null;function s7(){return o7||(o7=u5.fromClass(function(){function e(t){(0,Za.Z)(this,e),this.view=t,this.decorations=l4.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(a7)),this.decorations=this.decorator.createDeco(t)}return(0,Sa.Z)(e,[{key:"makeDecorator",value:function(e){var t=this;return new e7({regexp:e.specialChars,decoration:function(n,r,i){var a=r.state.doc,o=w1(n[0],0);if(9==o){var s=a.lineAt(i),l=r.state.tabSize,c=H2(s.text,l,i-s.from);return l4.replace({widget:new c7((l-c%l)*t.view.defaultCharacterWidth/t.view.scaleX)})}return t.decorationCache[o]||(t.decorationCache[o]=l4.replace({widget:new l7(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}},{key:"update",value:function(e){var t=e.state.facet(a7);e.startState.facet(a7)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}}]),e}(),{decorations:function(e){return e.decorations}}))}var l7=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r){var i;return(0,Za.Z)(this,n),(i=t.call(this)).options=e,i.code=r,i}return(0,Sa.Z)(n,[{key:"eq",value:function(e){return e.code==this.code}},{key:"toDOM",value:function(e){var t=function(e){return e>=32?"\u2022":10==e?"\u2424":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(r7[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;var i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}},{key:"ignoreEvent",value:function(){return!1}}]),n}(o4),c7=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this)).width=e,r}return(0,Sa.Z)(n,[{key:"eq",value:function(e){return e.width==this.width}},{key:"toDOM",value:function(){var e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(o4);var u7=l4.line({class:"cm-activeLine"}),d7=u5.fromClass(function(){function e(t){(0,Za.Z)(this,e),this.decorations=this.getDeco(t)}return(0,Sa.Z)(e,[{key:"update",value:function(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t,n=-1,r=[],i=(0,sp.Z)(e.state.selection.ranges);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.lineBlockAt(a.head);o.from>n&&(r.push(u7.range(o.from)),n=o.from)}}catch(s){i.e(s)}finally{i.f()}return l4.set(r)}}]),e}(),{decorations:function(e){return e.decorations}}),p7=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this)).content=e,r}return(0,Sa.Z)(n,[{key:"toDOM",value:function(e){var t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild("string"==typeof this.content?document.createTextNode(this.content):"function"==typeof this.content?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}},{key:"coordsAt",value:function(e){var t=e.firstChild?x3(e.firstChild):[];if(!t.length)return null;var n=window.getComputedStyle(e.parentNode),r=S3(t[0],"rtl"!=n.direction),i=parseInt(n.lineHeight);return r.bottom-r.top>1.5*i?{left:r.left,right:r.right,top:r.top,bottom:r.top+i}:r}},{key:"ignoreEvent",value:function(){return!1}}]),n}(o4);var f7=2e3;function h7(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,a=i>f7?-1:i==r.length?function(e,t){var n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):H2(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:a,off:i}}function g7(e,t){var n=h7(e,t),r=e.state.selection;return n?{update:function(e){if(e.docChanged){var t=e.changes.mapPos(e.startState.doc.line(n.line).from),i=e.state.doc.lineAt(t);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(e.changes)}},get:function(t,i,a){var o=h7(e,t);if(!o)return r;var s=function(e,t,n){var r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),a=[];if(t.off>f7||n.off>f7||t.col<0||n.col<0)for(var o=Math.min(t.off,n.off),s=Math.max(t.off,n.off),l=r;l<=i;l++){var c=e.doc.line(l);c.length<=s&&a.push(I1.range(c.from+o,c.to+s))}else for(var u=Math.min(t.col,n.col),d=Math.max(t.col,n.col),p=r;p<=i;p++){var f=e.doc.line(p),h=W2(f.text,u,e.tabSize,!0);if(h<0)a.push(I1.cursor(f.to));else{var g=W2(f.text,d,e.tabSize);a.push(I1.range(f.from+h,f.from+g))}}return a}(e.state,n,o);return s.length?a?I1.create(s.concat(r.ranges)):I1.create(s):r}}:null}var m7={Alt:[18,function(e){return!!e.altKey}],Control:[17,function(e){return!!e.ctrlKey}],Shift:[16,function(e){return!!e.shiftKey}],Meta:[91,function(e){return!!e.metaKey}]},v7={style:"cursor: crosshair"};var y7="-10000px",b7=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=t.state.facet(n),this.tooltips=this.input.filter((function(e){return e}));var a=null;this.tooltipViews=this.tooltips.map((function(e){return a=r(e,a)}))}return(0,Sa.Z)(e,[{key:"update",value:function(e,t){var n,r=e.state.facet(this.facet),i=r.filter((function(e){return e}));if(r===this.input){var a,o=(0,sp.Z)(this.tooltipViews);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.update&&s.update(e)}}catch(b){o.e(b)}finally{o.f()}return!1}for(var l=[],c=t?[]:null,u=0;u<i.length;u++){var d=i[u],p=-1;if(d){for(var f=0;f<this.tooltips.length;f++){var h=this.tooltips[f];h&&h.create==d.create&&(p=f)}if(p<0)l[u]=this.createTooltipView(d,u?l[u-1]:null),c&&(c[u]=!!d.above);else{var g=l[u]=this.tooltipViews[p];c&&(c[u]=t[p]),g.update&&g.update(e)}}}var m,v=(0,sp.Z)(this.tooltipViews);try{for(v.s();!(m=v.n()).done;){var y=m.value;l.indexOf(y)<0&&(this.removeTooltipView(y),null===(n=y.destroy)||void 0===n||n.call(y))}}catch(b){v.e(b)}finally{v.f()}return t&&(c.forEach((function(e,n){return t[n]=e})),t.length=c.length),this.input=r,this.tooltips=i,this.tooltipViews=l,!0}}]),e}();function x7(e){var t=e.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:t.clientHeight,right:t.clientWidth}}var w7=R1.define({combine:function(e){var t,n,r;return{position:m3.ios?"absolute":(null===(t=e.find((function(e){return e.position})))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((function(e){return e.parent})))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find((function(e){return e.tooltipSpace})))||void 0===r?void 0:r.tooltipSpace)||x7}}}),k7=new WeakMap,_7=u5.fromClass(function(){function e(t){var n=this;(0,Za.Z)(this,e),this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;var r=t.state.facet(w7);this.position=r.position,this.parent=r.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver((function(){return n.measureSoon()})):null,this.manager=new b7(t,Z7,(function(e,t){return n.createTooltip(e,t)}),(function(e){n.resizeObserver&&n.resizeObserver.unobserve(e.dom),e.dom.remove()})),this.above=this.manager.tooltips.map((function(e){return!!e.above})),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((function(e){Date.now()>n.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&n.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}return(0,Sa.Z)(e,[{key:"createContainer",value:function(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}},{key:"observeIntersection",value:function(){if(this.intersectionObserver){this.intersectionObserver.disconnect();var e,t=(0,sp.Z)(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.intersectionObserver.observe(n.dom)}}catch(r){t.e(r)}finally{t.f()}}}},{key:"measureSoon",value:function(){var e=this;this.measureTimeout<0&&(this.measureTimeout=setTimeout((function(){e.measureTimeout=-1,e.maybeMeasure()}),50))}},{key:"update",value:function(e){e.transactions.length&&(this.lastTransaction=Date.now());var t=this.manager.update(e,this.above);t&&this.observeIntersection();var n=t||e.geometryChanged,r=e.state.facet(w7);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;var i,a=(0,sp.Z)(this.manager.tooltipViews);try{for(a.s();!(i=a.n()).done;){i.value.dom.style.position=this.position}}catch(c){a.e(c)}finally{a.f()}n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();var o,s=(0,sp.Z)(this.manager.tooltipViews);try{for(s.s();!(o=s.n()).done;){var l=o.value;this.container.appendChild(l.dom)}}catch(c){s.e(c)}finally{s.f()}n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}},{key:"createTooltip",value:function(e,t){var n=e.create(this.view),r=t?t.dom:null;if(n.dom.classList.add("cm-tooltip"),e.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){var i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=y7,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}},{key:"destroy",value:function(){var e,t,n;this.view.win.removeEventListener("resize",this.measureSoon);var r,i=(0,sp.Z)(this.manager.tooltipViews);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.dom.remove(),null===(e=a.destroy)||void 0===e||e.call(a)}}catch(o){i.e(o)}finally{i.f()}this.parent&&this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),null===(n=this.intersectionObserver)||void 0===n||n.disconnect(),clearTimeout(this.measureTimeout)}},{key:"readMeasure",value:function(){var e=this,t=1,n=1,r=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){var i=this.manager.tooltipViews[0].dom;if(m3.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==y7&&"0px"==i.style.left){var a=i.getBoundingClientRect();r=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(r||"absolute"==this.position)if(this.parent){var o=this.parent.getBoundingClientRect();o.width&&o.height&&(t=o.width/this.parent.offsetWidth,n=o.height/this.parent.offsetHeight)}else{var s=this.view.viewState;t=s.scaleX,n=s.scaleY}var l=this.view.scrollDOM.getBoundingClientRect(),c=x5(this.view);return{visible:{left:l.left+c.left,top:l.top+c.top,right:l.right-c.right,bottom:l.bottom-c.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((function(t,n){var r=e.manager.tooltipViews[n];return r.getCoords?r.getCoords(t.pos):e.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((function(e){return e.dom.getBoundingClientRect()})),space:this.view.state.facet(w7).tooltipSpace(this.view),scaleX:t,scaleY:n,makeAbsolute:r}}},{key:"writeMeasure",value:function(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";var n,r=(0,sp.Z)(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){n.value.dom.style.position="absolute"}}catch(O){r.e(O)}finally{r.f()}}for(var i=e.visible,a=e.space,o=e.scaleX,s=e.scaleY,l=[],c=0;c<this.manager.tooltips.length;c++){var u=this.manager.tooltips[c],d=this.manager.tooltipViews[c],p=d.dom,f=e.pos[c],h=e.size[c];if(!f||!1!==u.clip&&(f.bottom<=Math.max(i.top,a.top)||f.top>=Math.min(i.bottom,a.bottom)||f.right<Math.max(i.left,a.left)-.1||f.left>Math.min(i.right,a.right)+.1))p.style.top=y7;else{var g=u.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,m=g?7:0,v=h.right-h.left,y=null!==(t=k7.get(d))&&void 0!==t?t:h.bottom-h.top,b=d.offset||S7,x=this.view.textDirection==x4.LTR,w=h.width>a.right-a.left?x?a.left:a.right-h.width:x?Math.max(a.left,Math.min(f.left-(g?14:0)+b.x,a.right-v)):Math.min(Math.max(a.left,f.left-v+(g?14:0)-b.x),a.right-v),k=this.above[c];!u.strictSide&&(k?f.top-y-m-b.y<a.top:f.bottom+y+m+b.y>a.bottom)&&k==a.bottom-f.bottom>f.top-a.top&&(k=this.above[c]=!k);var _=(k?f.top-a.top:a.bottom-f.bottom)-m;if(_<y&&!1!==d.resize){if(_<this.view.defaultLineHeight){p.style.top=y7;continue}k7.set(d,y),p.style.height=(y=_)/s+"px"}else p.style.height&&(p.style.height="");var C=k?f.top-y-m-b.y:f.bottom+m+b.y,j=w+v;if(!0!==d.overlap){var S,Z=(0,sp.Z)(l);try{for(Z.s();!(S=Z.n()).done;){var N=S.value;N.left<j&&N.right>w&&N.top<C+y&&N.bottom>C&&(C=k?N.top-y-2-m:N.bottom+m+2)}}catch(O){Z.e(O)}finally{Z.f()}}if("absolute"==this.position?(p.style.top=(C-e.parent.top)/s+"px",C7(p,(w-e.parent.left)/o)):(p.style.top=C/s+"px",C7(p,w/o)),g){var E=f.left+(x?b.x:-b.x)-(w+14-7);g.style.left=E/o+"px"}!0!==d.overlap&&l.push({left:w,top:C,right:j,bottom:C+y}),p.classList.toggle("cm-tooltip-above",k),p.classList.toggle("cm-tooltip-below",!k),d.positioned&&d.positioned(e.space)}}}},{key:"maybeMeasure",value:function(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView))){var e,t=(0,sp.Z)(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){e.value.dom.style.top=y7}}catch(n){t.e(n)}finally{t.f()}}}}]),e}(),{eventObservers:{scroll:function(){this.maybeMeasure()}}});function C7(e,t){var n=parseInt(e.style.left,10);(isNaN(n)||Math.abs(t-n)>1)&&(e.style.left=t+"px")}var j7=w8.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),S7={x:0,y:0},Z7=R1.define({enables:[_7,j7]}),N7=R1.define({combine:function(e){return e.reduce((function(e,t){return e.concat(t)}),[])}}),E7=function(){function e(t){var n=this;(0,Za.Z)(this,e),this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new b7(t,N7,(function(e,t){return n.createHostedView(e,t)}),(function(e){return e.dom.remove()}))}return(0,Sa.Z)(e,[{key:"createHostedView",value:function(e,t){var n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}},{key:"mount",value:function(e){var t,n=(0,sp.Z)(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.mount&&r.mount(e)}}catch(i){n.e(i)}finally{n.f()}this.mounted=!0}},{key:"positioned",value:function(e){var t,n=(0,sp.Z)(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.positioned&&r.positioned(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"update",value:function(e){this.manager.update(e)}},{key:"destroy",value:function(){var e,t,n=(0,sp.Z)(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;null===(e=r.destroy)||void 0===e||e.call(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"passProp",value:function(e){var t,n=void 0,r=(0,sp.Z)(this.manager.tooltipViews);try{for(r.s();!(t=r.n()).done;){var i=t.value[e];if(void 0!==i)if(void 0===n)n=i;else if(n!==i)return}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"offset",get:function(){return this.passProp("offset")}},{key:"getCoords",get:function(){return this.passProp("getCoords")}},{key:"overlap",get:function(){return this.passProp("overlap")}},{key:"resize",get:function(){return this.passProp("resize")}}],[{key:"create",value:function(t){return new e(t)}}]),e}(),O7=Z7.compute([N7],(function(e){var t=e.facet(N7);return 0===t.length?null:{pos:Math.min.apply(Math,(0,we.Z)(t.map((function(e){return e.pos})))),end:Math.max.apply(Math,(0,we.Z)(t.map((function(e){var t;return null!==(t=e.end)&&void 0!==t?t:e.pos})))),create:E7.create,above:t[0].above,arrow:t.some((function(e){return e.arrow}))}})),A7=function(){function e(t,n,r,i,a){(0,Za.Z)(this,e),this.view=t,this.source=n,this.field=r,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}return(0,Sa.Z)(e,[{key:"update",value:function(){var e=this;this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((function(){return e.startHover()}),20))}},{key:"active",get:function(){return this.view.state.field(this.field)}},{key:"checkHover",value:function(){if(this.hoverTimeout=-1,!this.active.length){var e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}}},{key:"startHover",value:function(){var e=this;clearTimeout(this.restartTimeout);var t=this.view,n=this.lastMove,r=t.docView.nearest(n.target);if(r){var i,a=1;if(r instanceof G3)i=r.posAtStart;else{if(null==(i=t.posAtCoords(n)))return;var o=t.coordsAtPos(i);if(!o||n.y<o.top||n.y>o.bottom||n.x<o.left-t.defaultCharacterWidth||n.x>o.right+t.defaultCharacterWidth)return;var s=t.bidiSpans(t.state.doc.lineAt(i)).find((function(e){return e.from<=i&&e.to>=i})),l=s&&s.dir==x4.RTL?-1:1;a=n.x<o.left?-l:l}var c=this.source(t,i,a);if(null===c||void 0===c?void 0:c.then){var u=this.pending={pos:i};c.then((function(n){e.pending==u&&(e.pending=null,!n||Array.isArray(n)&&!n.length||t.dispatch({effects:e.setHover.of(Array.isArray(n)?n:[n])}))}),(function(e){return o5(t.state,e,"hover tooltip")}))}else!c||Array.isArray(c)&&!c.length||t.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])})}}},{key:"tooltip",get:function(){var e=this.view.plugin(_7),t=e?e.manager.tooltips.findIndex((function(e){return e.create==E7.create})):-1;return t>-1?e.manager.tooltipViews[t]:null}},{key:"mousemove",value:function(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));var r=this.active,i=this.tooltip;if(r.length&&i&&!function(e,t){var n,r=e.getBoundingClientRect(),i=r.left,a=r.right,o=r.top,s=r.bottom;if(n=e.querySelector(".cm-tooltip-arrow")){var l=n.getBoundingClientRect();o=Math.min(l.top,o),s=Math.max(l.bottom,s)}return t.clientX>=i-4&&t.clientX<=a+4&&t.clientY>=o-4&&t.clientY<=s+4}(i.dom,e)||this.pending){var a=(r[0]||this.pending).pos,o=null!==(n=null===(t=r[0])||void 0===t?void 0:t.end)&&void 0!==n?n:a;(a==o?this.view.posAtCoords(this.lastMove)==a:function(e,t,n,r,i,a){var o=e.scrollDOM.getBoundingClientRect(),s=e.documentTop+e.documentPadding.top+e.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,s)<i)return!1;var l=e.posAtCoords({x:r,y:i},!1);return l>=t&&l<=n}(this.view,a,o,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}},{key:"mouseleave",value:function(e){if(clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active.length){var t=this.tooltip;t&&t.dom.contains(e.relatedTarget)?this.watchTooltipLeave(t.dom):this.view.dispatch({effects:this.setHover.of([])})}}},{key:"watchTooltipLeave",value:function(e){var t=this;e.addEventListener("mouseleave",(function n(r){e.removeEventListener("mouseleave",n),t.active.length&&!t.view.dom.contains(r.relatedTarget)&&t.view.dispatch({effects:t.setHover.of([])})}))}},{key:"destroy",value:function(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}]),e}();function T7(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=f2.define(),r=H1.define({create:function(){return[]},update:function(e,r){if(e.length&&(t.hideOnChange&&(r.docChanged||r.selection)?e=[]:t.hideOn&&(e=e.filter((function(e){return!t.hideOn(r,e)}))),r.docChanged)){var i,a=[],o=(0,sp.Z)(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=r.changes.mapPos(s.pos,-1,j1.TrackDel);if(null!=l){var c=Object.assign(Object.create(null),s);c.pos=l,null!=c.end&&(c.end=r.changes.mapPos(c.end)),a.push(c)}}}catch(f){o.e(f)}finally{o.f()}e=a}var u,d=(0,sp.Z)(r.effects);try{for(d.s();!(u=d.n()).done;){var p=u.value;p.is(n)&&(e=p.value),p.is(M7)&&(e=[])}}catch(f){d.e(f)}finally{d.f()}return e},provide:function(e){return N7.from(e)}});return{active:r,extension:[r,u5.define((function(i){return new A7(i,e,r,n,t.hoverTime||300)})),O7]}}function P7(e,t){var n=e.plugin(_7);if(!n)return null;var r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}var M7=f2.define();var I7=R1.define({combine:function(e){var t,n,r,i=(0,sp.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;t=t||a.topContainer,n=n||a.bottomContainer}}catch(o){i.e(o)}finally{i.f()}return{topContainer:t,bottomContainer:n}}});function D7(e,t){var n=e.plugin(L7),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}var L7=u5.fromClass(function(){function e(t){(0,Za.Z)(this,e),this.input=t.state.facet(F7),this.specs=this.input.filter((function(e){return e})),this.panels=this.specs.map((function(e){return e(t)}));var n=t.state.facet(I7);this.top=new R7(t,!0,n.topContainer),this.bottom=new R7(t,!1,n.bottomContainer),this.top.sync(this.panels.filter((function(e){return e.top}))),this.bottom.sync(this.panels.filter((function(e){return!e.top})));var r,i=(0,sp.Z)(this.panels);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.dom.classList.add("cm-panel"),a.mount&&a.mount()}}catch(o){i.e(o)}finally{i.f()}}return(0,Sa.Z)(e,[{key:"update",value:function(e){var t=e.state.facet(I7);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new R7(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new R7(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();var n=e.state.facet(F7);if(n!=this.input){var r,i=n.filter((function(e){return e})),a=[],o=[],s=[],l=[],c=(0,sp.Z)(i);try{for(c.s();!(r=c.n()).done;){var u=r.value,d=this.specs.indexOf(u),p=void 0;d<0?(p=u(e.view),l.push(p)):(p=this.panels[d]).update&&p.update(e),a.push(p),(p.top?o:s).push(p)}}catch(b){c.e(b)}finally{c.f()}this.specs=i,this.panels=a,this.top.sync(o),this.bottom.sync(s);for(var f=0,h=l;f<h.length;f++){var g=h[f];g.dom.classList.add("cm-panel"),g.mount&&g.mount()}}else{var m,v=(0,sp.Z)(this.panels);try{for(v.s();!(m=v.n()).done;){var y=m.value;y.update&&y.update(e)}}catch(b){v.e(b)}finally{v.f()}}}},{key:"destroy",value:function(){this.top.sync([]),this.bottom.sync([])}}]),e}(),{provide:function(e){return w8.scrollMargins.of((function(t){var n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))}}),R7=function(){function e(t,n,r){(0,Za.Z)(this,e),this.view=t,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}return(0,Sa.Z)(e,[{key:"sync",value:function(e){var t,n=(0,sp.Z)(this.panels);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.destroy&&e.indexOf(r)<0&&r.destroy()}}catch(i){n.e(i)}finally{n.f()}this.panels=e,this.syncDOM()}},{key:"syncDOM",value:function(){if(0!=this.panels.length){if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";var e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}var t,n=this.dom.firstChild,r=(0,sp.Z)(this.panels);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.dom.parentNode==this.dom){for(;n!=i.dom;)n=B7(n);n=n.nextSibling}else this.dom.insertBefore(i.dom,n)}}catch(a){r.e(a)}finally{r.f()}for(;n;)n=B7(n)}else this.dom&&(this.dom.remove(),this.dom=void 0)}},{key:"scrollMargin",value:function(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}},{key:"syncClasses",value:function(){if(this.container&&this.classes!=this.view.themeClasses){var e,t=(0,sp.Z)(this.classes.split(" "));try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&this.container.classList.remove(n)}}catch(o){t.e(o)}finally{t.f()}var r,i=(0,sp.Z)((this.classes=this.view.themeClasses).split(" "));try{for(i.s();!(r=i.n()).done;){var a=r.value;a&&this.container.classList.add(a)}}catch(o){i.e(o)}finally{i.f()}}}}]),e}();function B7(e){var t=e.nextSibling;return e.remove(),t}var F7=R1.define({enables:L7});var z7=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(){return(0,Za.Z)(this,n),t.apply(this,arguments)}return(0,Sa.Z)(n,[{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"eq",value:function(e){return!1}},{key:"destroy",value:function(e){}}]),n}(Z2);z7.prototype.elementClass="",z7.prototype.toDOM=void 0,z7.prototype.mapMode=j1.TrackBefore,z7.prototype.startSide=z7.prototype.endSide=-1,z7.prototype.point=!0;var V7=R1.define(),U7=R1.define(),H7={class:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return A2.empty},lineMarker:function(){return null},widgetMarker:function(){return null},lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},W7=R1.define();function q7(e){return[Y7(),W7.of((0,kn.Z)((0,kn.Z)({},H7),e))]}var K7=R1.define({combine:function(e){return e.some((function(e){return e}))}});function Y7(e){var t=[G7];return e&&!1===e.fixed&&t.push(K7.of(!0)),t}var G7=u5.fromClass(function(){function e(t){(0,Za.Z)(this,e),this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(W7).map((function(e){return new J7(t,e)})),this.fixed=!t.state.facet(K7);var n,r=(0,sp.Z)(this.gutters);try{for(r.s();!(n=r.n()).done;){var i=n.value;"after"==i.config.side?this.getDOMAfter().appendChild(i.dom):this.dom.appendChild(i.dom)}}catch(a){r.e(a)}finally{r.f()}this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}return(0,Sa.Z)(e,[{key:"getDOMAfter",value:function(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}},{key:"update",value:function(e){if(this.updateGutters(e)){var t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}if(e.geometryChanged){var i=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=i,this.domAfter&&(this.domAfter.style.minHeight=i)}this.view.state.facet(K7)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=e.view.viewport}},{key:"syncGutters",value:function(e){var t=this,n=this.dom.nextSibling;e&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());var r,i=A2.iter(this.view.state.facet(V7),this.view.viewport.from),a=[],o=this.gutters.map((function(e){return new $7(e,t.view.viewport,-t.view.documentPadding.top)})),s=(0,sp.Z)(this.view.viewportLineBlocks);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(a.length&&(a=[]),Array.isArray(l.type)){var c,u=!0,d=(0,sp.Z)(l.type);try{for(d.s();!(c=d.n()).done;){var p=c.value;if(p.type==s4.Text&&u){X7(i,a,p.from);var f,h=(0,sp.Z)(o);try{for(h.s();!(f=h.n()).done;){f.value.line(this.view,p,a)}}catch(_){h.e(_)}finally{h.f()}u=!1}else if(p.widget){var g,m=(0,sp.Z)(o);try{for(m.s();!(g=m.n()).done;){g.value.widget(this.view,p)}}catch(_){m.e(_)}finally{m.f()}}}}catch(_){d.e(_)}finally{d.f()}}else if(l.type==s4.Text){X7(i,a,l.from);var v,y=(0,sp.Z)(o);try{for(y.s();!(v=y.n()).done;){v.value.line(this.view,l,a)}}catch(_){y.e(_)}finally{y.f()}}else if(l.widget){var b,x=(0,sp.Z)(o);try{for(x.s();!(b=x.n()).done;){b.value.widget(this.view,l)}}catch(_){x.e(_)}finally{x.f()}}}}catch(_){s.e(_)}finally{s.f()}var w,k=(0,sp.Z)(o);try{for(k.s();!(w=k.n()).done;){w.value.finish()}}catch(_){k.e(_)}finally{k.f()}e&&(this.view.scrollDOM.insertBefore(this.dom,n),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}},{key:"updateGutters",value:function(e){var t=e.startState.facet(W7),n=e.state.facet(W7),r=e.docChanged||e.heightChanged||e.viewportChanged||!A2.eq(e.startState.facet(V7),e.state.facet(V7),e.view.viewport.from,e.view.viewport.to);if(t==n){var i,a=(0,sp.Z)(this.gutters);try{for(a.s();!(i=a.n()).done;){i.value.update(e)&&(r=!0)}}catch(v){a.e(v)}finally{a.f()}}else{r=!0;var o,s=[],l=(0,sp.Z)(n);try{for(l.s();!(o=l.n()).done;){var c=o.value,u=t.indexOf(c);u<0?s.push(new J7(this.view,c)):(this.gutters[u].update(e),s.push(this.gutters[u]))}}catch(v){l.e(v)}finally{l.f()}var d,p=(0,sp.Z)(this.gutters);try{for(p.s();!(d=p.n()).done;){var f=d.value;f.dom.remove(),s.indexOf(f)<0&&f.destroy()}}catch(v){p.e(v)}finally{p.f()}for(var h=0,g=s;h<g.length;h++){var m=g[h];"after"==m.config.side?this.getDOMAfter().appendChild(m.dom):this.dom.appendChild(m.dom)}this.gutters=s}return r}},{key:"destroy",value:function(){var e,t=(0,sp.Z)(this.gutters);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this.dom.remove(),this.domAfter&&this.domAfter.remove()}}]),e}(),{provide:function(e){return w8.scrollMargins.of((function(t){var n=t.plugin(e);if(!n||0==n.gutters.length||!n.fixed)return null;var r=n.dom.offsetWidth*t.scaleX,i=n.domAfter?n.domAfter.offsetWidth*t.scaleX:0;return t.textDirection==x4.LTR?{left:r,right:i}:{right:r,left:i}}))}});function Q7(e){return Array.isArray(e)?e:[e]}function X7(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}var $7=function(){function e(t,n,r){(0,Za.Z)(this,e),this.gutter=t,this.height=r,this.i=0,this.cursor=A2.iter(t.markers,n.from)}return(0,Sa.Z)(e,[{key:"addElement",value:function(e,t,n){var r=this.gutter,i=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==r.elements.length){var o=new e9(e,a,i,n);r.elements.push(o),r.dom.appendChild(o.dom)}else r.elements[this.i].update(e,a,i,n);this.height=t.bottom,this.i++}},{key:"line",value:function(e,t,n){var r=[];X7(this.cursor,r,t.from),n.length&&(r=r.concat(n));var i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);var a=this.gutter;(0!=r.length||a.config.renderEmptyElements)&&this.addElement(e,t,r)}},{key:"widget",value:function(e,t){var n,r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null,a=(0,sp.Z)(e.state.facet(U7));try{for(a.s();!(n=a.n()).done;){var o=(0,n.value)(e,t.widget,t);o&&(i||(i=[])).push(o)}}catch(s){a.e(s)}finally{a.f()}i&&this.addElement(e,t,i)}},{key:"finish",value:function(){for(var e=this.gutter;e.elements.length>this.i;){var t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}]),e}(),J7=function(){function e(t,n){var r=this;(0,Za.Z)(this,e),this.view=t,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");var i=function(e){r.dom.addEventListener(e,(function(i){var a,o=i.target;if(o!=r.dom&&r.dom.contains(o)){for(;o.parentNode!=r.dom;)o=o.parentNode;var s=o.getBoundingClientRect();a=(s.top+s.bottom)/2}else a=i.clientY;var l=t.lineBlockAtHeight(a-t.documentTop);n.domEventHandlers[e](t,l,i)&&i.preventDefault()}))};for(var a in n.domEventHandlers)i(a);this.markers=Q7(n.markers(t)),n.initialSpacer&&(this.spacer=new e9(t,0,0,[n.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}return(0,Sa.Z)(e,[{key:"update",value:function(e){var t=this.markers;if(this.markers=Q7(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){var n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}var r=e.view.viewport;return!A2.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}},{key:"destroy",value:function(){var e,t=(0,sp.Z)(this.elements);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}}}]),e}(),e9=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,n,r,i)}return(0,Sa.Z)(e,[{key:"update",value:function(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}},{key:"setMarkers",value:function(e,t){for(var n="cm-gutterElement",r=this.dom.firstChild,i=0,a=0;;){var o=a,s=i<t.length?t[i++]:null,l=!1;if(s){var c=s.elementClass;c&&(n+=" "+c);for(var u=a;u<this.markers.length;u++)if(this.markers[u].compare(s)){o=u,l=!0;break}}else o=this.markers.length;for(;a<o;){var d=this.markers[a++];if(d.toDOM){d.destroy(r);var p=r.nextSibling;r.remove(),r=p}}if(!s)break;s.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(s.toDOM(e),r)),l&&a++}this.dom.className=n,this.markers=t}},{key:"destroy",value:function(){this.setMarkers(null,[])}}]),e}();var t9=R1.define(),n9=R1.define(),r9=R1.define({combine:function(e){return S2(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(e,t){var n=Object.assign({},e),r=function(e){var r=n[e],i=t[e];n[e]=r?function(e,t,n){return r(e,t,n)||i(e,t,n)}:i};for(var i in t)r(i);return n}})}}),i9=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this)).number=e,r}return(0,Sa.Z)(n,[{key:"eq",value:function(e){return this.number==e.number}},{key:"toDOM",value:function(){return document.createTextNode(this.number)}}]),n}(z7);function a9(e,t){return e.state.facet(r9).formatNumber(t,e.state)}var o9=W7.compute([r9],(function(e){return{class:"cm-lineNumbers",renderEmptyElements:!1,markers:function(e){return e.state.facet(t9)},lineMarker:function(e,t,n){return n.some((function(e){return e.toDOM}))?null:new i9(a9(e,e.state.doc.lineAt(t.from).number))},widgetMarker:function(e,t,n){var r,i=(0,sp.Z)(e.state.facet(n9));try{for(i.s();!(r=i.n()).done;){var a=(0,r.value)(e,t,n);if(a)return a}}catch(o){i.e(o)}finally{i.f()}return null},lineMarkerChange:function(e){return e.startState.facet(r9)!=e.state.facet(r9)},initialSpacer:function(e){return new i9(a9(e,s9(e.state.doc.lines)))},updateSpacer:function(e,t){var n=a9(t.view,s9(t.view.state.doc.lines));return n==e.number?e:new i9(n)},domEventHandlers:e.facet(r9).domEventHandlers,side:"before"}}));function s9(e){for(var t=9;t<e;)t=10*t+9;return t}var l9=new(function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(){var e;return(0,Za.Z)(this,n),(e=t.apply(this,arguments)).elementClass="cm-activeLineGutter",e}return(0,Sa.Z)(n)}(z7)),c9=V7.compute(["selection"],(function(e){var t,n=[],r=-1,i=(0,sp.Z)(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.doc.lineAt(a.head).from;o>r&&(r=o,n.push(l9.range(o)))}}catch(s){i.e(s)}finally{i.f()}return A2.of(n)}));var u9=1024,d9=0,p9=(0,Sa.Z)((function e(t,n){(0,Za.Z)(this,e),this.from=t,this.to=n})),f9=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Za.Z)(this,e),this.id=d9++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")},this.combine=t.combine||null}return(0,Sa.Z)(e,[{key:"add",value:function(e){var t=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=m9.match(e)),function(n){var r=e(n);return void 0===r?null:[t,r]}}}]),e}();f9.closedBy=new f9({deserialize:function(e){return e.split(" ")}}),f9.openedBy=new f9({deserialize:function(e){return e.split(" ")}}),f9.group=new f9({deserialize:function(e){return e.split(" ")}}),f9.isolate=new f9({deserialize:function(e){if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),f9.contextHash=new f9({perNode:!0}),f9.lookAhead=new f9({perNode:!0}),f9.mounted=new f9({perNode:!0});var h9=function(){function e(t,n,r){(0,Za.Z)(this,e),this.tree=t,this.overlay=n,this.parser=r}return(0,Sa.Z)(e,null,[{key:"get",value:function(e){return e&&e.props&&e.props[f9.mounted.id]}}]),e}(),g9=Object.create(null),m9=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,Za.Z)(this,e),this.name=t,this.props=n,this.id=r,this.flags=i}return(0,Sa.Z)(e,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if("string"==typeof e){if(this.name==e)return!0;var t=this.prop(f9.group);return!!t&&t.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(t){var n=t.props&&t.props.length?Object.create(null):g9,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new e(t.name||"",n,t.id,r);if(t.props){var a,o=(0,sp.Z)(t.props);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}}catch(l){o.e(l)}finally{o.f()}}return i}},{key:"match",value:function(e){var t=Object.create(null);for(var n in e){var r,i=(0,sp.Z)(n.split(" "));try{for(i.s();!(r=i.n()).done;){var a=r.value;t[a]=e[n]}}catch(o){i.e(o)}finally{i.f()}}return function(e){for(var n=e.prop(f9.group),r=-1;r<(n?n.length:0);r++){var i=t[r<0?e.name:n[r]];if(i)return i}}}}]),e}();m9.none=new m9("",Object.create(null),0,8);var v9,y9=function(){function e(t){(0,Za.Z)(this,e),this.types=t;for(var n=0;n<t.length;n++)if(t[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}return(0,Sa.Z)(e,[{key:"extend",value:function(){for(var t=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a,o=(0,sp.Z)(this.types);try{for(o.s();!(a=o.n()).done;){var s,l=a.value,c=null,u=(0,sp.Z)(r);try{for(u.s();!(s=u.n()).done;){var d=s.value,p=d(l);if(p){c||(c=Object.assign({},l.props));var f=p[1],h=p[0];h.combine&&h.id in c&&(f=h.combine(c[h.id],f)),c[h.id]=f}}}catch(g){u.e(g)}finally{u.f()}t.push(c?new m9(l.name,c,l.id,l.flags):l)}}catch(g){o.e(g)}finally{o.f()}return new e(t)}}]),e}(),b9=new WeakMap,x9=new WeakMap;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(v9||(v9={}));var w9=function(){function e(t,n,r,i,a){if((0,Za.Z)(this,e),this.type=t,this.children=n,this.positions=r,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);var o,s=(0,sp.Z)(a);try{for(s.s();!(o=s.n()).done;){var l=(0,xe.Z)(o.value,2),c=l[0],u=l[1];this.props["number"==typeof c?c:c.id]=u}}catch(d){s.e(d)}finally{s.f()}}}return(0,Sa.Z)(e,[{key:"toString",value:function(){var e=h9.get(this);if(e&&!e.overlay)return e.tree.toString();var t,n="",r=(0,sp.Z)(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value.toString();i&&(n&&(n+=","),n+=i)}}catch(a){r.e(a)}finally{r.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}},{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new I9(this.topNode,e)}},{key:"cursorAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=b9.get(this)||this.topNode,r=new I9(n);return r.moveTo(e,t),b9.set(this,r._tree),r}},{key:"topNode",get:function(){return new Z9(this,0,0,null)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=j9(b9.get(this)||this.topNode,e,t,!1);return b9.set(this,n),n}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=j9(x9.get(this)||this.topNode,e,t,!0);return x9.set(this,n),n}},{key:"resolveStack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return M9(this,e,t)}},{key:"iterate",value:function(e){for(var t=e.enter,n=e.leave,r=e.from,i=void 0===r?0:r,a=e.to,o=void 0===a?this.length:a,s=e.mode||0,l=(s&v9.IncludeAnonymous)>0,c=this.cursor(s|v9.IncludeAnonymous);;){var u=!1;if(c.from<=o&&c.to>=i&&(!l&&c.type.isAnonymous||!1!==t(c))){if(c.firstChild())continue;u=!0}for(;u&&n&&(l||!c.type.isAnonymous)&&n(c),!c.nextSibling();){if(!c.parent())return;u=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var t in this.props)e.push([+t,this.props[t]]);return e}},{key:"balance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:B9(m9.none,this.children,this.positions,0,this.children.length,0,this.length,(function(n,r,i){return new e(t.type,n,r,i,t.propValues)}),n.makeTree||function(t,n,r){return new e(m9.none,t,n,r)})}}],[{key:"build",value:function(e){return function(e){var t,n=e.buffer,r=e.nodeSet,i=e.maxBufferLength,a=void 0===i?u9:i,o=e.reused,s=void 0===o?[]:o,l=e.minRepeatType,c=void 0===l?r.types.length:l,u=Array.isArray(n)?new k9(n,n.length):n,d=r.types,p=0,f=0;function h(e,t,n,i,o,l){var w=u.id,k=u.start,_=u.end,C=u.size,j=f,S=p;if(C<0){if(u.next(),-1==C){var Z=s[w];return n.push(Z),void i.push(k-e)}if(-3==C)return void(p=w);if(-4==C)return void(f=w);throw new RangeError("Unrecognized record size: ".concat(C))}var N,E,O=d[w],A=k-e;if(_-k<=a&&(E=b(u.pos-t,o))){for(var T=new Uint16Array(E.size-E.skip),P=u.pos-E.size,M=T.length;u.pos>P;)M=x(E.start,T,M);N=new _9(T,_-E.start,r),A=E.start-e}else{var I=u.pos-C;u.next();for(var D=[],L=[],R=w>=c?w:-1,B=0,F=_;u.pos>I;)R>=0&&u.id==R&&u.size>=0?(u.end<=F-a&&(v(D,L,k,B,u.end,F,R,j,S),B=D.length,F=u.end),u.next()):l>2500?g(k,I,D,L):h(k,I,D,L,R,l+1);if(R>=0&&B>0&&B<D.length&&v(D,L,k,B,k,F,R,j,S),D.reverse(),L.reverse(),R>-1&&B>0){var z=m(O,S);N=B9(O,D,L,0,D.length,0,_-k,z,z)}else N=y(O,D,L,_-k,j-_,S)}n.push(N),i.push(A)}function g(e,t,n,i){for(var o=[],s=0,l=-1;u.pos>t;){var c=u.id,d=u.start,p=u.end;if(u.size>4)u.next();else{if(l>-1&&d<l)break;l<0&&(l=p-a),o.push(c,d,p),s++,u.next()}}if(s){for(var f=new Uint16Array(4*s),h=o[o.length-2],g=o.length-3,m=0;g>=0;g-=3)f[m++]=o[g],f[m++]=o[g+1]-h,f[m++]=o[g+2]-h,f[m++]=m;n.push(new _9(f,o[2]-h,r)),i.push(h-e)}}function m(e,t){return function(n,r,i){var a,o,s=0,l=n.length-1;if(l>=0&&(a=n[l])instanceof w9){if(!l&&a.type==e&&a.length==i)return a;(o=a.prop(f9.lookAhead))&&(s=r[l]+a.length+o)}return y(e,n,r,i,s,t)}}function v(e,t,n,i,a,o,s,l,c){for(var u=[],d=[];e.length>i;)u.push(e.pop()),d.push(t.pop()+n-a);e.push(y(r.types[s],u,d,o-a,l-o,c)),t.push(a-n)}function y(e,t,n,r,i,a,o){if(a){var s=[f9.contextHash,a];o=o?[s].concat(o):[s]}if(i>25){var l=[f9.lookAhead,i];o=o?[l].concat(o):[l]}return new w9(e,t,n,r,o)}function b(e,t){var n=u.fork(),r=0,i=0,o=0,s=n.end-a,l={size:0,start:0,skip:0};e:for(var d=n.pos-e;n.pos>d;){var p=n.size;if(n.id==t&&p>=0)l.size=r,l.start=i,l.skip=o,o+=4,r+=4,n.next();else{var f=n.pos-p;if(p<0||f<d||n.start<s)break;var h=n.id>=c?4:0,g=n.start;for(n.next();n.pos>f;){if(n.size<0){if(-3!=n.size)break e;h+=4}else n.id>=c&&(h+=4);n.next()}i=g,r+=p,o+=h}}return(t<0||r==e)&&(l.size=r,l.start=i,l.skip=o),l.size>4?l:void 0}function x(e,t,n){var r=u.id,i=u.start,a=u.end,o=u.size;if(u.next(),o>=0&&r<c){var s=n;if(o>4)for(var l=u.pos-(o-4);u.pos>l;)n=x(e,t,n);t[--n]=s,t[--n]=a-e,t[--n]=i-e,t[--n]=r}else-3==o?p=r:-4==o&&(f=r);return n}var w=[],k=[];for(;u.pos>0;)h(e.start||0,e.bufferStart||0,w,k,-1,0);var _=null!==(t=e.length)&&void 0!==t?t:w.length?k[0]+w[0].length:0;return new w9(d[e.topID],w.reverse(),k.reverse(),_)}(e)}}]),e}();w9.empty=new w9(m9.none,[],[],0);var k9=function(){function e(t,n){(0,Za.Z)(this,e),this.buffer=t,this.index=n}return(0,Sa.Z)(e,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new e(this.buffer,this.index)}}]),e}(),_9=function(){function e(t,n,r){(0,Za.Z)(this,e),this.buffer=t,this.length=n,this.set=r}return(0,Sa.Z)(e,[{key:"type",get:function(){return m9.none}},{key:"toString",value:function(){for(var e=[],t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}},{key:"childString",value:function(e){var t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;for(var a=[];e<n;)a.push(this.childString(e)),e=this.buffer[e+3];return i+"("+a.join(",")+")"}},{key:"findChild",value:function(e,t,n,r,i){for(var a=this.buffer,o=-1,s=e;s!=t&&!(C9(i,r,a[s+1],a[s+2])&&(o=s,n>0));s=a[s+3]);return o}},{key:"slice",value:function(t,n,r){for(var i=this.buffer,a=new Uint16Array(n-t),o=0,s=t,l=0;s<n;){a[l++]=i[s++],a[l++]=i[s++]-r;var c=a[l++]=i[s++]-r;a[l++]=i[s++]-t,o=Math.max(o,c)}return new e(a,o,this.set)}}]),e}();function C9(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function j9(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){var a=!r&&e instanceof Z9&&e.index<0?null:e.parent;if(!a)return e;e=a}var o=r?0:v9.IgnoreOverlays;if(r)for(var s=e,l=s.parent;l;l=(s=l).parent)s instanceof Z9&&s.index<0&&(null===(i=l.enter(t,n,o))||void 0===i?void 0:i.from)!=s.from&&(e=l);for(;;){var c=e.enter(t,n,o);if(!c)return e;e=c}}var S9=function(){function e(){(0,Za.Z)(this,e)}return(0,Sa.Z)(e,[{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new I9(this,e)}},{key:"getChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=N9(this,e,t,n);return r.length?r[0]:null}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return N9(this,e,t,n)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j9(this,e,t,!1)}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j9(this,e,t,!0)}},{key:"matchContext",value:function(e){return E9(this.parent,e)}},{key:"enterUnfinishedNodesBefore",value:function(e){for(var t=this.childBefore(e),n=this;t;){var r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(n=t,t=r.prevSibling):t=r}return n}},{key:"node",get:function(){return this}},{key:"next",get:function(){return this.parent}}]),e}(),Z9=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r,i,a){var o;return(0,Za.Z)(this,n),(o=t.call(this))._tree=e,o.from=r,o.index=i,o._parent=a,o}return(0,Sa.Z)(n,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(e,t,r,i){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this;;){for(var s=o._tree,l=s.children,c=s.positions,u=t>0?l.length:-1;e!=u;e+=t){var d=l[e],p=c[e]+o.from;if(C9(i,r,p,p+d.length))if(d instanceof _9){if(a&v9.ExcludeBuffers)continue;var f=d.findChild(0,d.buffer.length,t,r-p,i);if(f>-1)return new A9(new O9(o,d,e,p),null,f)}else if(a&v9.IncludeAnonymous||!d.type.isAnonymous||D9(d)){var h=void 0;if(!(a&v9.IgnoreMounts)&&(h=h9.get(d))&&!h.overlay)return new n(h.tree,p,e,o);var g=new n(d,p,e,o);return a&v9.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(t<0?d.children.length-1:0,t,r,i)}}if(a&v9.IncludeAnonymous||!o.type.isAnonymous)return null;if(e=o.index>=0?o.index+t:t<0?-1:o._parent._tree.children.length,!(o=o._parent))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}},{key:"enter",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&v9.IgnoreOverlays)&&(r=h9.get(this._tree))&&r.overlay){var a,o=e-this.from,s=(0,sp.Z)(r.overlay);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=l.from,u=l.to;if((t>0?c<=o:c<o)&&(t<0?u>=o:u>o))return new n(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(d){s.e(d)}finally{s.f()}}return this.nextChild(0,1,e,t,i)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"toString",value:function(){return this._tree.toString()}}]),n}(S9);function N9(e,t,n,r){var i=e.cursor(),a=[];if(!i.firstChild())return a;if(null!=n)for(var o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return a;for(;;){if(null!=r&&i.type.is(r))return a;if(i.type.is(t)&&a.push(i.node),!i.nextSibling())return null==r?a:[]}}function E9(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1,r=e;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}var O9=(0,Sa.Z)((function e(t,n,r,i){(0,Za.Z)(this,e),this.parent=t,this.buffer=n,this.index=r,this.start=i})),A9=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r,i){var a;return(0,Za.Z)(this,n),(a=t.call(this)).context=e,a._parent=r,a.index=i,a.type=e.buffer.set.types[e.buffer.buffer[i]],a}return(0,Sa.Z)(n,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(e,t,r){var i=this.context.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return a<0?null:new n(this.context,this,a)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r&v9.ExcludeBuffers)return null;var i=this.context.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return a<0?null:new n(this.context,this,a)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var e=this.context.buffer,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new n(this.context,this._parent,t):this.externalSibling(1)}},{key:"prevSibling",get:function(){var e=this.context.buffer,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new n(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],t=[],n=this.context.buffer,r=this.index+4,i=n.buffer[this.index+3];if(i>r){var a=n.buffer[this.index+1];e.push(n.slice(r,i,a)),t.push(0)}return new w9(this.type,e,t,this.to-this.from)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}}]),n}(S9);function T9(e){if(!e.length)return null;for(var t=0,n=e[0],r=1;r<e.length;r++){var i=e[r];(i.from>n.from||i.to<n.to)&&(n=i,t=r)}var a=n instanceof Z9&&n.index<0?null:n.parent,o=e.slice();return a?o[t]=a:o.splice(t,1),new P9(o,n)}var P9=function(){function e(t,n){(0,Za.Z)(this,e),this.heads=t,this.node=n}return(0,Sa.Z)(e,[{key:"next",get:function(){return T9(this.heads)}}]),e}();function M9(e,t,n){for(var r=e.resolveInner(t,n),i=null,a=r instanceof Z9?r:r.context.parent;a;a=a.parent)if(a.index<0){var o=a.parent;(i||(i=[r])).push(o.resolve(t,n)),a=o}else{var s=h9.get(a.tree);if(s&&s.overlay&&s.overlay[0].from<=t&&s.overlay[s.overlay.length-1].to>=t){var l=new Z9(s.tree,s.overlay[0].from+a.from,-1,a);(i||(i=[r])).push(j9(l,t,n,!1))}}return i?T9(i):r}var I9=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if((0,Za.Z)(this,e),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Z9)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(var r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}return(0,Sa.Z)(e,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,t){this.index=e;var n=this.buffer,r=n.start,i=n.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof Z9?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));var r=this.buffer.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&v9.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&v9.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&v9.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var t=this.buffer.buffer,n=this.stack.length-1;if(e<0){var r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{var i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var t,n,r=this.buffer;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(var i=0;i<this.index;i++)if(r.buffer.buffer[i+3]<this.index)return!1;t=r.index,n=r.parent}else{var a=this._tree;t=a.index,n=a._parent}for(;n;t=(o=n).index,n=o._parent,o){var o;if(t>-1)for(var s=t+e,l=e<0?-1:n._tree.children.length;s!=l;s+=e){var c=n._tree.children[s];if(this.mode&v9.IncludeAnonymous||c instanceof _9||!c.type.isAnonymous||D9(c))return!1}}return!0}},{key:"move",value:function(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(var r=this.index,i=this.stack.length;i>=0;){for(var a=e;a;a=a._parent)if(a.index==r){if(r==this.index)return a;t=a,n=i+1;break e}r=this.stack[--i]}for(var o=n;o<this.stack.length;o++)t=new A9(this.buffer,t,this.stack[o]);return this.bufferNode=new A9(this.buffer,t,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,t){for(var n=0;;){var r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,r=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return E9(this.node.parent,e);for(var t=this.buffer.buffer,n=t.set.types,r=e.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return E9(this._tree,e,r);var a=n[t.buffer[this.stack[i]]];if(!a.isAnonymous){if(e[r]&&e[r]!=a.name)return!1;r--}}return!0}}]),e}();function D9(e){return e.children.some((function(e){return e instanceof _9||!e.type.isAnonymous||D9(e)}))}var L9=new WeakMap;function R9(e,t){if(!e.isAnonymous||t instanceof _9||t.type!=e)return 1;var n=L9.get(t);if(null==n){n=1;var r,i=(0,sp.Z)(t.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.type!=e||!(a instanceof w9)){n=1;break}n+=R9(e,a)}}catch(o){i.e(o)}finally{i.f()}L9.set(t,n)}return n}function B9(e,t,n,r,i,a,o,s,l){for(var c=0,u=r;u<i;u++)c+=R9(e,t[u]);var d=Math.ceil(1.5*c/8),p=[],f=[];return function t(n,r,i,o,s){for(var c=i;c<o;){var u=c,h=r[c],g=R9(e,n[c]);for(c++;c<o;c++){var m=R9(e,n[c]);if(g+m>=d)break;g+=m}if(c==u+1){if(g>d){var v=n[u];t(v.children,v.positions,0,v.children.length,r[u]+s);continue}p.push(n[u])}else{var y=r[c-1]+n[c-1].length-h;p.push(B9(e,n,r,u,c,h,y,null,l))}f.push(h+s-a)}}(t,n,r,i,0),(s||l)(p,f,o)}var F9=function(){function e(){(0,Za.Z)(this,e),this.map=new WeakMap}return(0,Sa.Z)(e,[{key:"setBuffer",value:function(e,t,n){var r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,n)}},{key:"getBuffer",value:function(e,t){var n=this.map.get(e);return n&&n.get(t)}},{key:"set",value:function(e,t){e instanceof A9?this.setBuffer(e.context.buffer,e.index,t):e instanceof Z9&&this.map.set(e.tree,t)}},{key:"get",value:function(e){return e instanceof A9?this.getBuffer(e.context.buffer,e.index):e instanceof Z9?this.map.get(e.tree):void 0}},{key:"cursorSet",value:function(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}},{key:"cursorGet",value:function(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}]),e}(),z9=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];(0,Za.Z)(this,e),this.from=t,this.to=n,this.tree=r,this.offset=i,this.open=(a?1:0)|(o?2:0)}return(0,Sa.Z)(e,[{key:"openStart",get:function(){return(1&this.open)>0}},{key:"openEnd",get:function(){return(2&this.open)>0}}],[{key:"addTree",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[new e(0,t.length,t,0,!1,i)],o=(0,sp.Z)(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.to>t.length&&a.push(s)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"applyChanges",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!n.length)return t;for(var i=[],a=1,o=t.length?t[0]:null,s=0,l=0,c=0;;s++){var u=s<n.length?n[s]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){var p=o;if(l>=p.from||d<=p.to||c){var f=Math.max(p.from,l)-c,h=Math.min(p.to,d)-c;p=f>=h?null:new e(f,h,p.tree,p.offset+c,s>0,!!u)}if(p&&i.push(p),o.to>d)break;o=a<t.length?t[a++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}]),e}(),V9=function(){function e(){(0,Za.Z)(this,e)}return(0,Sa.Z)(e,[{key:"startParse",value:function(e,t,n){return"string"==typeof e&&(e=new U9(e)),n=n?n.length?n.map((function(e){return new p9(e.from,e.to)})):[new p9(0,0)]:[new p9(0,e.length)],this.createParse(e,t||[],n)}},{key:"parse",value:function(e,t,n){for(var r=this.startParse(e,t,n);;){var i=r.advance();if(i)return i}}}]),e}(),U9=function(){function e(t){(0,Za.Z)(this,e),this.string=t}return(0,Sa.Z)(e,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(e){return this.string.slice(e)}},{key:"lineChunks",get:function(){return!1}},{key:"read",value:function(e,t){return this.string.slice(e,t)}}]),e}();new f9({perNode:!0});var H9=0,W9=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.name=t,this.set=n,this.base=r,this.modified=i,this.id=H9++}return(0,Sa.Z)(e,[{key:"toString",value:function(){var e,t=this.name,n=(0,sp.Z)(this.modified);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.name&&(t="".concat(r.name,"(").concat(t,")"))}}catch(i){n.e(i)}finally{n.f()}return t}}],[{key:"define",value:function(t,n){var r="string"==typeof t?t:"?";if(t instanceof e&&(n=t),null===n||void 0===n?void 0:n.base)throw new Error("Can not derive from a modified tag");var i=new e(r,[],null,[]);if(i.set.push(i),n){var a,o=(0,sp.Z)(n.set);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.set.push(s)}}catch(l){o.e(l)}finally{o.f()}}return i}},{key:"defineModifier",value:function(e){var t=new K9(e);return function(e){return e.modified.indexOf(t)>-1?e:K9.get(e.base||e,e.modified.concat(t).sort((function(e,t){return e.id-t.id})))}}}]),e}(),q9=0,K9=function(){function e(t){(0,Za.Z)(this,e),this.name=t,this.instances=[],this.id=q9++}return(0,Sa.Z)(e,null,[{key:"get",value:function(t,n){if(!n.length)return t;var r=n[0].instances.find((function(e){return e.base==t&&function(e,t){return e.length==t.length&&e.every((function(e,n){return e==t[n]}))}(n,e.modified)}));if(r)return r;var i,a=[],o=new W9(t.name,a,t,n),s=(0,sp.Z)(n);try{for(s.s();!(i=s.n()).done;){i.value.instances.push(o)}}catch(g){s.e(g)}finally{s.f()}var l,c=function(e){for(var t=[[]],n=0;n<e.length;n++)for(var r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort((function(e,t){return t.length-e.length}))}(n),u=(0,sp.Z)(t.set);try{for(u.s();!(l=u.n()).done;){var d=l.value;if(!d.modified.length){var p,f=(0,sp.Z)(c);try{for(f.s();!(p=f.n()).done;){var h=p.value;a.push(e.get(d,h))}}catch(g){f.e(g)}finally{f.f()}}}}catch(g){u.e(g)}finally{u.f()}return o}}]),e}();function Y9(e){var t=Object.create(null);for(var n in e){var r=e[n];Array.isArray(r)||(r=[r]);var i,a=(0,sp.Z)(n.split(" "));try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o){for(var s=[],l=2,c=o,u=0;;){if("..."==c&&u>0&&u+3==o.length){l=1;break}var d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!d)throw new RangeError("Invalid path: "+o);if(s.push("*"==d[0]?"":'"'==d[0][0]?JSON.parse(d[0]):d[0]),(u+=d[0].length)==o.length)break;var p=o[u++];if(u==o.length&&"!"==p){l=0;break}if("/"!=p)throw new RangeError("Invalid path: "+o);c=o.slice(u)}var f=s.length-1,h=s[f];if(!h)throw new RangeError("Invalid path: "+o);var g=new Q9(r,l,f>0?s.slice(0,f):null);t[h]=g.sort(t[h])}}}catch(m){a.e(m)}finally{a.f()}}return G9.add(t)}var G9=new f9({combine:function(e,t){for(var n,r,i;e||t;)if(!e||t&&e.depth>=t.depth?(i=t,t=t.next):(i=e,e=e.next),!n||n.mode!=i.mode||i.context||n.context){var a=new Q9(i.tags,i.mode,i.context);n?n.next=a:r=a,n=a}return r}}),Q9=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.tags=t,this.mode=n,this.context=r,this.next=i}return(0,Sa.Z)(e,[{key:"opaque",get:function(){return 0==this.mode}},{key:"inherit",get:function(){return 1==this.mode}},{key:"sort",value:function(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}},{key:"depth",get:function(){return this.context?this.context.length:0}}]),e}();function X9(e,t){var n,r=Object.create(null),i=(0,sp.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(Array.isArray(a.tag)){var o,s=(0,sp.Z)(a.tag);try{for(s.s();!(o=s.n()).done;){var l=o.value;r[l.id]=a.class}}catch(f){s.e(f)}finally{s.f()}}else r[a.tag.id]=a.class}}catch(f){i.e(f)}finally{i.f()}var c=t||{},u=c.scope,d=c.all,p=void 0===d?null:d;return{style:function(e){var t,n=p,i=(0,sp.Z)(e);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,s=(0,sp.Z)(o.set);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=r[l.id];if(c){n=n?n+" "+c:c;break}}}catch(f){s.e(f)}finally{s.f()}}}catch(f){i.e(f)}finally{i.f()}return n},scope:u}}function $9(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length,a=new J9(r,Array.isArray(t)?t:[t],n);a.highlightRange(e.cursor(),r,i,"",a.highlighters),a.flush(i)}Q9.empty=new Q9([],2,null);var J9=function(){function e(t,n,r){(0,Za.Z)(this,e),this.at=t,this.highlighters=n,this.span=r,this.class=""}return(0,Sa.Z)(e,[{key:"startSpan",value:function(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}},{key:"flush",value:function(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}},{key:"highlightRange",value:function(e,t,n,r,i){var a=e.type,o=e.from,s=e.to;if(!(o>=n||s<=t)){a.isTop&&(i=this.highlighters.filter((function(e){return!e.scope||e.scope(a)})));var l=r,c=function(e){var t=e.type.prop(G9);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||Q9.empty,u=function(e,t){var n,r=null,i=(0,sp.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value.style(t);a&&(r=r?r+" "+a:a)}}catch(o){i.e(o)}finally{i.f()}return r}(i,c.tags);if(u&&(l&&(l+=" "),l+=u,1==c.mode&&(r+=(r?" ":"")+u)),this.startSpan(Math.max(t,o),l),!c.opaque){var d=e.tree&&e.tree.prop(f9.mounted);if(d&&d.overlay){for(var p=e.node.enter(d.overlay[0].from+o,1),f=this.highlighters.filter((function(e){return!e.scope||e.scope(d.tree.type)})),h=e.firstChild(),g=0,m=o;;g++){var v=g<d.overlay.length?d.overlay[g]:null,y=v?v.from+o:s,b=Math.max(t,m),x=Math.min(n,y);if(b<x&&h)for(;e.from<x&&(this.highlightRange(e,b,x,r,i),this.startSpan(Math.min(x,e.to),l),!(e.to>=y)&&e.nextSibling()););if(!v||y>n)break;(m=v.to+o)>t&&(this.highlightRange(p.cursor(),Math.max(t,v.from+o),Math.min(n,m),"",f),this.startSpan(Math.min(n,m),l))}h&&e.parent()}else if(e.firstChild()){d&&(r="");do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,i),this.startSpan(Math.min(n,e.to),l)}}while(e.nextSibling());e.parent()}}}}}]),e}();var eee=W9.define,tee=eee(),nee=eee(),ree=eee(nee),iee=eee(nee),aee=eee(),oee=eee(aee),see=eee(aee),lee=eee(),cee=eee(lee),uee=eee(),dee=eee(),pee=eee(),fee=eee(pee),hee=eee(),gee={comment:tee,lineComment:eee(tee),blockComment:eee(tee),docComment:eee(tee),name:nee,variableName:eee(nee),typeName:ree,tagName:eee(ree),propertyName:iee,attributeName:eee(iee),className:eee(nee),labelName:eee(nee),namespace:eee(nee),macroName:eee(nee),literal:aee,string:oee,docString:eee(oee),character:eee(oee),attributeValue:eee(oee),number:see,integer:eee(see),float:eee(see),bool:eee(aee),regexp:eee(aee),escape:eee(aee),color:eee(aee),url:eee(aee),keyword:uee,self:eee(uee),null:eee(uee),atom:eee(uee),unit:eee(uee),modifier:eee(uee),operatorKeyword:eee(uee),controlKeyword:eee(uee),definitionKeyword:eee(uee),moduleKeyword:eee(uee),operator:dee,derefOperator:eee(dee),arithmeticOperator:eee(dee),logicOperator:eee(dee),bitwiseOperator:eee(dee),compareOperator:eee(dee),updateOperator:eee(dee),definitionOperator:eee(dee),typeOperator:eee(dee),controlOperator:eee(dee),punctuation:pee,separator:eee(pee),bracket:fee,angleBracket:eee(fee),squareBracket:eee(fee),paren:eee(fee),brace:eee(fee),content:lee,heading:cee,heading1:eee(cee),heading2:eee(cee),heading3:eee(cee),heading4:eee(cee),heading5:eee(cee),heading6:eee(cee),contentSeparator:eee(lee),list:eee(lee),quote:eee(lee),emphasis:eee(lee),strong:eee(lee),link:eee(lee),monospace:eee(lee),strikethrough:eee(lee),inserted:eee(),deleted:eee(),changed:eee(),invalid:eee(),meta:hee,documentMeta:eee(hee),annotation:eee(hee),processingInstruction:eee(hee),definition:W9.defineModifier("definition"),constant:W9.defineModifier("constant"),function:W9.defineModifier("function"),standard:W9.defineModifier("standard"),local:W9.defineModifier("local"),special:W9.defineModifier("special")};for(var mee in gee){var vee=gee[mee];vee instanceof W9&&(vee.name=mee)}X9([{tag:gee.link,class:"tok-link"},{tag:gee.heading,class:"tok-heading"},{tag:gee.emphasis,class:"tok-emphasis"},{tag:gee.strong,class:"tok-strong"},{tag:gee.keyword,class:"tok-keyword"},{tag:gee.atom,class:"tok-atom"},{tag:gee.bool,class:"tok-bool"},{tag:gee.url,class:"tok-url"},{tag:gee.labelName,class:"tok-labelName"},{tag:gee.inserted,class:"tok-inserted"},{tag:gee.deleted,class:"tok-deleted"},{tag:gee.literal,class:"tok-literal"},{tag:gee.string,class:"tok-string"},{tag:gee.number,class:"tok-number"},{tag:[gee.regexp,gee.escape,gee.special(gee.string)],class:"tok-string2"},{tag:gee.variableName,class:"tok-variableName"},{tag:gee.local(gee.variableName),class:"tok-variableName tok-local"},{tag:gee.definition(gee.variableName),class:"tok-variableName tok-definition"},{tag:gee.special(gee.variableName),class:"tok-variableName2"},{tag:gee.definition(gee.propertyName),class:"tok-propertyName tok-definition"},{tag:gee.typeName,class:"tok-typeName"},{tag:gee.namespace,class:"tok-namespace"},{tag:gee.className,class:"tok-className"},{tag:gee.macroName,class:"tok-macroName"},{tag:gee.propertyName,class:"tok-propertyName"},{tag:gee.operator,class:"tok-operator"},{tag:gee.comment,class:"tok-comment"},{tag:gee.meta,class:"tok-meta"},{tag:gee.invalid,class:"tok-invalid"},{tag:gee.punctuation,class:"tok-punctuation"}]);var yee,bee=new f9;function xee(e){return R1.define({combine:e?function(t){return t.concat(e)}:void 0})}var wee=new f9,kee=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";(0,Za.Z)(this,e),this.data=t,this.name=i,j2.prototype.hasOwnProperty("tree")||Object.defineProperty(j2.prototype,"tree",{get:function(){return jee(this)}}),this.parser=n,this.extension=[Mee.of(this),j2.languageData.of((function(e,t,n){var r=_ee(e,t,n),i=r.type.prop(bee);if(!i)return[];var a=e.facet(i),o=r.type.prop(wee);if(o){var s,l=r.resolve(t-r.from,n),c=(0,sp.Z)(o);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.test(l,e)){var d=e.facet(u.facet);return"replace"==u.type?d:d.concat(a)}}}catch(p){c.e(p)}finally{c.f()}}return a}))].concat(r)}return(0,Sa.Z)(e,[{key:"isActiveAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return _ee(e,t,n).type.prop(bee)==this.data}},{key:"findRegions",value:function(e){var t=this,n=e.facet(Mee);if((null===n||void 0===n?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];var r=[];return function e(n,i){if(n.prop(bee)!=t.data){var a=n.prop(f9.mounted);if(a){if(a.tree.prop(bee)==t.data){if(a.overlay){var o,s=(0,sp.Z)(a.overlay);try{for(s.s();!(o=s.n()).done;){var l=o.value;r.push({from:l.from+i,to:l.to+i})}}catch(p){s.e(p)}finally{s.f()}}else r.push({from:i,to:i+n.length});return}if(a.overlay){var c=r.length;if(e(a.tree,a.overlay[0].from+i),r.length>c)return}}for(var u=0;u<n.children.length;u++){var d=n.children[u];d instanceof w9&&e(d,n.positions[u]+i)}}else r.push({from:i,to:i+n.length})}(jee(e),0),r}},{key:"allowsNesting",get:function(){return!0}}]),e}();function _ee(e,t,n){var r=e.facet(Mee),i=jee(e).topNode;if(!r||r.allowsNesting)for(var a=i;a;a=a.enter(t,n,v9.ExcludeBuffers))a.type.isTop&&(i=a);return i}kee.setState=f2.define();var Cee=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r,i){var a;return(0,Za.Z)(this,n),(a=t.call(this,e,r,[],i)).parser=r,a}return(0,Sa.Z)(n,[{key:"configure",value:function(e,t){return new n(this.data,this.parser.configure(e),t||this.name)}},{key:"allowsNesting",get:function(){return this.parser.hasWrappers()}}],[{key:"define",value:function(e){var t=xee(e.languageData);return new n(t,e.parser.configure({props:[bee.add((function(e){return e.isTop?t:void 0}))]}),e.name)}}]),n}(kee);function jee(e){var t=e.field(kee.state,!1);return t?t.tree:w9.empty}var See=function(){function e(t){(0,Za.Z)(this,e),this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}return(0,Sa.Z)(e,[{key:"length",get:function(){return this.doc.length}},{key:"syncTo",value:function(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}},{key:"chunk",value:function(e){return this.syncTo(e),this.string}},{key:"lineChunks",get:function(){return!0}},{key:"read",value:function(e,t){var n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}]),e}(),Zee=null,Nee=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;(0,Za.Z)(this,e),this.parser=t,this.state=n,this.fragments=r,this.tree=i,this.treeLen=a,this.viewport=o,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}return(0,Sa.Z)(e,[{key:"startParse",value:function(){return this.parser.startParse(new See(this.state.doc),this.fragments)}},{key:"work",value:function(e,t){var n=this;return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=w9.empty&&this.isDone(null!==t&&void 0!==t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((function(){var r;if("number"==typeof e){var i=Date.now()+e;e=function(){return Date.now()>i}}for(n.parse||(n.parse=n.startParse()),null!=t&&(null==n.parse.stoppedAt||n.parse.stoppedAt>t)&&t<n.state.doc.length&&n.parse.stopAt(t);;){var a=n.parse.advance();if(a){if(n.fragments=n.withoutTempSkipped(z9.addTree(a,n.fragments,null!=n.parse.stoppedAt)),n.treeLen=null!==(r=n.parse.stoppedAt)&&void 0!==r?r:n.state.doc.length,n.tree=a,n.parse=null,!(n.treeLen<(null!==t&&void 0!==t?t:n.state.doc.length)))return!0;n.parse=n.startParse()}if(e())return!1}}))}},{key:"takeTree",value:function(){var e,t,n=this;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((function(){for(;!(t=n.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(z9.addTree(this.tree,this.fragments,!0)),this.parse=null)}},{key:"withContext",value:function(e){var t=Zee;Zee=this;try{return e()}finally{Zee=t}}},{key:"withoutTempSkipped",value:function(e){for(var t;t=this.tempSkipped.pop();)e=Eee(e,t.from,t.to);return e}},{key:"changes",value:function(t,n){var r=this.fragments,i=this.tree,a=this.treeLen,o=this.viewport,s=this.skipped;if(this.takeTree(),!t.empty){var l=[];if(t.iterChangedRanges((function(e,t,n,r){return l.push({fromA:e,toA:t,fromB:n,toB:r})})),r=z9.applyChanges(r,l),i=w9.empty,a=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length){s=[];var c,u=(0,sp.Z)(this.skipped);try{for(u.s();!(c=u.n()).done;){var d=c.value,p=t.mapPos(d.from,1),f=t.mapPos(d.to,-1);p<f&&s.push({from:p,to:f})}}catch(h){u.e(h)}finally{u.f()}}}return new e(this.parser,n,r,i,a,o,s,this.scheduleOn)}},{key:"updateViewport",value:function(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;for(var t=this.skipped.length,n=0;n<this.skipped.length;n++){var r=this.skipped[n],i=r.from,a=r.to;i<e.to&&a>e.from&&(this.fragments=Eee(this.fragments,i,a),this.skipped.splice(n--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}},{key:"reset",value:function(){this.parse&&(this.takeTree(),this.parse=null)}},{key:"skipUntilInView",value:function(e,t){this.skipped.push({from:e,to:t})}},{key:"isDone",value:function(e){e=Math.min(e,this.state.doc.length);var t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}}],[{key:"create",value:function(t,n,r){return new e(t,n,[],w9.empty,0,r,[],null)}},{key:"getSkippingParser",value:function(e){return new(function(t){(0,Ac.Z)(r,t);var n=(0,Tc.Z)(r);function r(){return(0,Za.Z)(this,r),n.apply(this,arguments)}return(0,Sa.Z)(r,[{key:"createParse",value:function(t,n,r){var i=r[0].from,a=r[r.length-1].to,o={parsedPos:i,advance:function(){var t=Zee;if(t){var n,o=(0,sp.Z)(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;t.tempSkipped.push(s)}}catch(l){o.e(l)}finally{o.f()}e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=a,new w9(m9.none,[],[],a-i)},stoppedAt:null,stopAt:function(){}};return o}}]),r}(V9))}},{key:"get",value:function(){return Zee}}]),e}();function Eee(e,t,n){return z9.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}var Oee=function(){function e(t){(0,Za.Z)(this,e),this.context=t,this.tree=t.tree}return(0,Sa.Z)(e,[{key:"apply",value:function(t){if(!t.docChanged&&this.tree==this.context.tree)return this;var n=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new e(n)}}],[{key:"init",value:function(t){var n=Math.min(3e3,t.doc.length),r=Nee.create(t.facet(Mee).parser,t,{from:0,to:n});return r.work(20,n)||r.takeTree(),new e(r)}}]),e}();kee.state=H1.define({create:Oee.init,update:function(e,t){var n,r=(0,sp.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(kee.setState))return i.value}}catch(a){r.e(a)}finally{r.f()}return t.startState.facet(Mee)!=t.state.facet(Mee)?Oee.init(t.state):e.apply(t)}});var Aee=function(e){var t=setTimeout((function(){return e()}),500);return function(){return clearTimeout(t)}};"undefined"!=typeof requestIdleCallback&&(Aee=function(e){var t=-1,n=setTimeout((function(){t=requestIdleCallback(e,{timeout:400})}),100);return function(){return t<0?clearTimeout(n):cancelIdleCallback(t)}});var Tee="undefined"!=typeof navigator&&(null===(yee=navigator.scheduling)||void 0===yee?void 0:yee.isInputPending)?function(){return navigator.scheduling.isInputPending()}:null,Pee=u5.fromClass(function(){function e(t){(0,Za.Z)(this,e),this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}return(0,Sa.Z)(e,[{key:"update",value:function(e){var t=this.view.state.field(kee.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}},{key:"scheduleWork",value:function(){if(!this.working){var e=this.view.state,t=e.field(kee.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=Aee(this.work))}}},{key:"work",value:function(e){this.working=null;var t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),!(this.chunkBudget<=0)){var n=this.view,r=n.state,i=n.viewport.to,a=r.field(kee.state);if(a.tree!=a.context.tree||!a.context.isDone(i+1e5)){var o=Date.now()+Math.min(this.chunkBudget,100,e&&!Tee?Math.max(25,e.timeRemaining()-5):1e9),s=a.context.treeLen<i&&r.doc.length>i+1e3,l=a.context.work((function(){return Tee&&Tee()||Date.now()>o}),i+(s?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:kee.setState.of(new Oee(a.context))})),this.chunkBudget>0&&(!l||s)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}}}},{key:"checkAsyncSchedule",value:function(e){var t=this;e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((function(){return t.scheduleWork()})).catch((function(e){return o5(t.view.state,e)})).then((function(){return t.workScheduled--})),e.scheduleOn=null)}},{key:"destroy",value:function(){this.working&&this.working()}},{key:"isWorking",value:function(){return!!(this.working||this.workScheduled>0)}}]),e}(),{eventHandlers:{focus:function(){this.scheduleWork()}}}),Mee=R1.define({combine:function(e){return e.length?e[0]:null},enables:function(e){return[kee.state,Pee,w8.contentAttributes.compute([e],(function(t){var n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]}}),Iee=(0,Sa.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,Za.Z)(this,e),this.language=t,this.support=n,this.extension=[t,n]})),Dee=R1.define(),Lee=R1.define({combine:function(e){if(!e.length)return"  ";var t=e[0];if(!t||/\S/.test(t)||Array.from(t).some((function(e){return e!=t[0]})))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function Ree(e){var t=e.facet(Lee);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function Bee(e,t){var n="",r=e.tabSize,i=e.facet(Lee)[0];if("\t"==i){for(;t>=r;)n+="\t",t-=r;i=" "}for(var a=0;a<t;a++)n+=i;return n}function Fee(e,t){e instanceof j2&&(e=new zee(e));var n,r=(0,sp.Z)(e.state.facet(Dee));try{for(r.s();!(n=r.n()).done;){var i=(0,n.value)(e,t);if(void 0!==i)return i}}catch(o){r.e(o)}finally{r.f()}var a=jee(e.state);return a.length>=t?function(e,t,n){var r=t.resolveStack(n),i=t.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){for(var a=[],o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)a.push(o);for(var s=a.length-1;s>=0;s--)r={node:a[s],next:r}}return Uee(r,e,n)}(e,a,t):null}var zee=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Za.Z)(this,e),this.state=t,this.options=n,this.unit=Ree(t)}return(0,Sa.Z)(e,[{key:"lineAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.state.doc.lineAt(e),r=this.options,i=r.simulateBreak,a=r.simulateDoubleBreak;return null!=i&&i>=n.from&&i<=n.to?a&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}},{key:"textAfterPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";var n=this.lineAt(e,t),r=n.text,i=n.from;return r.slice(e-i,Math.min(r.length,e+100-i))}},{key:"column",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,a=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(a+=o-this.countColumn(r,r.search(/\S|$/))),a}},{key:"countColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return H2(e,this.state.tabSize,t)}},{key:"lineIndent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,a=this.options.overrideIndentation;if(a){var o=a(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}},{key:"simulatedBreak",get:function(){return this.options.simulateBreak||null}}]),e}(),Vee=new f9;function Uee(e,t,n){for(var r=e;r;r=r.next){var i=Hee(r.node);if(i)return i(qee.create(t,n,r))}return 0}function Hee(e){var t=e.type.prop(Vee);if(t)return t;var n,r=e.firstChild;if(r&&(n=r.type.prop(f9.closedBy))){var i=e.lastChild,a=i&&n.indexOf(i.name)>-1;return function(e){return Yee(e,!0,1,void 0,a&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?i.from:void 0)}}return null==e.parent?Wee:null}function Wee(){return 0}var qee=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r,i){var a;return(0,Za.Z)(this,n),(a=t.call(this,e.state,e.options)).base=e,a.pos=r,a.context=i,a}return(0,Sa.Z)(n,[{key:"node",get:function(){return this.context.node}},{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){return this.baseIndentFor(this.node)}},{key:"baseIndentFor",value:function(e){for(var t=this.state.doc.lineAt(e.from);;){for(var n=e.resolve(t.from);n.parent&&n.parent.from==n.from;)n=n.parent;if(Kee(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}},{key:"continue",value:function(){return Uee(this.context.next,this.base,this.pos)}}],[{key:"create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zee);function Kee(e,t){for(var n=t;n;n=n.parent)if(e==n)return!0;return!1}function Yee(e,t,n,r,i){var a=e.textAfter,o=a.match(/^\s*/)[0].length,s=r&&a.slice(o,o+r.length)==r||i==e.pos+o,l=t?function(e){var t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;for(var i=e.options.simulateBreak,a=e.state.doc.lineAt(n.from),o=null==i||i<=a.from?a.to:Math.min(a.to,i),s=n.to;;){var l=t.childAfter(s);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;var c=/^ */.exec(a.text.slice(n.to-a.from))[0].length;return{from:n.from,to:n.to+c}}s=l.to}}(e):null;return l?s?e.column(l.from):e.column(l.to):e.baseIndent+(s?0:e.unit*n)}function Gee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.except,n=e.units,r=void 0===n?1:n;return function(e){var n=t&&t.test(e.textAfter);return e.baseIndent+(n?0:r*e.unit)}}var Qee=R1.define(),Xee=new f9;function $ee(e){var t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function Jee(e,t,n){var r,i=(0,sp.Z)(e.facet(Qee));try{for(i.s();!(r=i.n()).done;){var a=(0,r.value)(e,t,n);if(a)return a}}catch(o){i.e(o)}finally{i.f()}return function(e,t,n){var r=jee(e);if(r.length<n)return null;for(var i=null,a=r.resolveStack(n,1);a;a=a.next){var o=a.node;if(!(o.to<=n||o.from>n)){if(i&&o.from<t)break;var s=o.type.prop(Xee);if(s&&(o.to<r.length-50||r.length==e.doc.length||!$ee(o))){var l=s(o,e);l&&l.from<=n&&l.from>=t&&l.to>n&&(i=l)}}}return i}(e,t,n)}function ete(e,t){var n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}var tte=f2.define({map:ete}),nte=f2.define({map:ete});function rte(e){var t,n=[],r=(0,sp.Z)(e.state.selection.ranges);try{var i=function(){var r=t.value.head;if(n.some((function(e){return e.from<=r&&e.to>=r})))return"continue";n.push(e.lineBlockAt(r))};for(r.s();!(t=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}return n}var ite=H1.define({create:function(){return l4.none},update:function(e,t){t.isUserEvent("delete")&&t.changes.iterChangedRanges((function(t,n){return e=ate(e,t,n)})),e=e.map(t.changes);var n,r=(0,sp.Z)(t.effects);try{var i=function(){var r=n.value;if(r.is(tte)&&!function(e,t,n){var r=!1;return e.between(t,t,(function(e,i){e==t&&i==n&&(r=!0)})),r}(e,r.value.from,r.value.to)){var i=t.state.facet(dte).preparePlaceholder,a=i?l4.replace({widget:new gte(i(t.state,r.value))}):hte;e=e.update({add:[a.range(r.value.from,r.value.to)]})}else r.is(nte)&&(e=e.update({filter:function(e,t){return r.value.from!=e||r.value.to!=t},filterFrom:r.value.from,filterTo:r.value.to}))};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}return t.selection&&(e=ate(e,t.selection.main.head)),e},provide:function(e){return w8.decorations.from(e)},toJSON:function(e,t){var n=[];return e.between(0,t.doc.length,(function(e,t){n.push(e,t)})),n},fromJSON:function(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");t.push(hte.range(r,i))}return l4.set(t,!0)}});function ate(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=!1;return e.between(t,n,(function(e,i){e<n&&i>t&&(r=!0)})),r?e.update({filterFrom:t,filterTo:n,filter:function(e,r){return e>=n||r<=t}}):e}function ote(e,t,n){var r,i=null;return null===(r=e.field(ite,!1))||void 0===r||r.between(t,n,(function(e,t){(!i||i.from>e)&&(i={from:e,to:t})})),i}function ste(e,t){return e.field(ite,!1)?t:t.concat(f2.appendConfig.of(pte()))}function lte(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return w8.announce.of("".concat(e.state.phrase(n?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(e.state.phrase("to")," ").concat(i,"."))}var cte=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:function(e){var t,n=(0,sp.Z)(rte(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=Jee(e.state,r.from,r.to);if(i)return e.dispatch({effects:ste(e.state,[tte.of(i),lte(e,i)])}),!0}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:function(e){if(!e.state.field(ite,!1))return!1;var t,n=[],r=(0,sp.Z)(rte(e));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=ote(e.state,i.from,i.to);a&&n.push(nte.of(a),lte(e,a,!1))}}catch(o){r.e(o)}finally{r.f()}return n.length&&e.dispatch({effects:n}),n.length>0}},{key:"Ctrl-Alt-[",run:function(e){for(var t=e.state,n=[],r=0;r<t.doc.length;){var i=e.lineBlockAt(r),a=Jee(t,i.from,i.to);a&&n.push(tte.of(a)),r=(a?e.lineBlockAt(a.to):i).to+1}return n.length&&e.dispatch({effects:ste(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:function(e){var t=e.state.field(ite,!1);if(!t||!t.size)return!1;var n=[];return t.between(0,e.state.doc.length,(function(e,t){n.push(nte.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],ute={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},dte=R1.define({combine:function(e){return S2(e,ute)}});function pte(e){var t=[ite,yte];return e&&t.push(dte.of(e)),t}function fte(e,t){var n=e.state,r=n.facet(dte),i=function(t){var n=e.lineBlockAt(e.posAtDOM(t.target)),r=ote(e.state,n.from,n.to);r&&e.dispatch({effects:nte.of(r)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,i,t);var a=document.createElement("span");return a.textContent=r.placeholderText,a.setAttribute("aria-label",n.phrase("folded code")),a.title=n.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=i,a}var hte=l4.replace({widget:new(function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(){return(0,Za.Z)(this,n),t.apply(this,arguments)}return(0,Sa.Z)(n,[{key:"toDOM",value:function(e){return fte(e,null)}}]),n}(o4))}),gte=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this)).value=e,r}return(0,Sa.Z)(n,[{key:"eq",value:function(e){return this.value==e.value}},{key:"toDOM",value:function(e){return fte(e,this.value)}}]),n}(o4),mte={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:function(){return!1}},vte=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r){var i;return(0,Za.Z)(this,n),(i=t.call(this)).config=e,i.open=r,i}return(0,Sa.Z)(n,[{key:"eq",value:function(e){return this.config==e.config&&this.open==e.open}},{key:"toDOM",value:function(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);var t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}]),n}(z7);var yte=w8.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),bte=function(){function e(t,n){var r;function i(e){var t=Q2.newName();return(r||(r=Object.create(null)))["."+t]=e,t}(0,Za.Z)(this,e),this.specs=t;var a="string"==typeof n.all?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof kee?function(e){return e.prop(bee)==o.data}:o?function(e){return e==o}:void 0,this.style=X9(t.map((function(e){return{tag:e.tag,class:e.class||i(Object.assign({},e,{tag:null}))}})),{all:a}).style,this.module=r?new Q2(r):null,this.themeType=n.themeType}return(0,Sa.Z)(e,null,[{key:"define",value:function(t,n){return new e(t,n||{})}}]),e}(),xte=R1.define(),wte=R1.define({combine:function(e){return e.length?[e[0]]:null}});function kte(e){var t=e.facet(xte);return t.length?t:e.facet(wte)}function _te(e,t){var n,r=[jte];return e instanceof bte&&(e.module&&r.push(w8.styleModule.of(e.module)),n=e.themeType),(null===t||void 0===t?void 0:t.fallback)?r.push(wte.of(e)):n?r.push(xte.computeN([w8.darkTheme],(function(t){return t.facet(w8.darkTheme)==("dark"==n)?[e]:[]}))):r.push(xte.of(e)),r}var Cte=function(){function e(t){(0,Za.Z)(this,e),this.markCache=Object.create(null),this.tree=jee(t.state),this.decorations=this.buildDeco(t,kte(t.state)),this.decoratedTo=t.viewport.to}return(0,Sa.Z)(e,[{key:"update",value:function(e){var t=jee(e.state),n=kte(e.state),r=n!=kte(e.startState),i=e.view.viewport,a=e.changes.mapPos(this.decoratedTo,1);t.length<i.to&&!r&&t.type==this.tree.type&&a>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=i.to)}},{key:"buildDeco",value:function(e,t){var n=this;if(!t||!this.tree.length)return l4.none;var r,i=new P2,a=(0,sp.Z)(e.visibleRanges);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.from,l=o.to;$9(this.tree,t,(function(e,t,r){i.add(e,t,n.markCache[r]||(n.markCache[r]=l4.mark({class:r})))}),s,l)}}catch(c){a.e(c)}finally{a.f()}return i.finish()}}]),e}(),jte=Q1.high(u5.fromClass(Cte,{decorations:function(e){return e.decorations}})),Ste=bte.define([{tag:gee.meta,color:"#404740"},{tag:gee.link,textDecoration:"underline"},{tag:gee.heading,textDecoration:"underline",fontWeight:"bold"},{tag:gee.emphasis,fontStyle:"italic"},{tag:gee.strong,fontWeight:"bold"},{tag:gee.strikethrough,textDecoration:"line-through"},{tag:gee.keyword,color:"#708"},{tag:[gee.atom,gee.bool,gee.url,gee.contentSeparator,gee.labelName],color:"#219"},{tag:[gee.literal,gee.inserted],color:"#164"},{tag:[gee.string,gee.deleted],color:"#a11"},{tag:[gee.regexp,gee.escape,gee.special(gee.string)],color:"#e40"},{tag:gee.definition(gee.variableName),color:"#00f"},{tag:gee.local(gee.variableName),color:"#30a"},{tag:[gee.typeName,gee.namespace],color:"#085"},{tag:gee.className,color:"#167"},{tag:[gee.special(gee.variableName),gee.macroName],color:"#256"},{tag:gee.definition(gee.propertyName),color:"#00c"},{tag:gee.comment,color:"#940"},{tag:gee.invalid,color:"#f00"}]),Zte=w8.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Nte=1e4,Ete="()[]{}",Ote=R1.define({combine:function(e){return S2(e,{afterCursor:!0,brackets:Ete,maxScanDistance:Nte,renderMatch:Pte})}}),Ate=l4.mark({class:"cm-matchingBracket"}),Tte=l4.mark({class:"cm-nonmatchingBracket"});function Pte(e){var t=[],n=e.matched?Ate:Tte;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}var Mte=H1.define({create:function(){return l4.none},update:function(e,t){if(!t.docChanged&&!t.selection)return e;var n,r=[],i=t.state.facet(Ote),a=(0,sp.Z)(t.state.selection.ranges);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.empty){var s=Bte(t.state,o.head,-1,i)||o.head>0&&Bte(t.state,o.head-1,1,i)||i.afterCursor&&(Bte(t.state,o.head,1,i)||o.head<t.state.doc.length&&Bte(t.state,o.head+1,-1,i));s&&(r=r.concat(i.renderMatch(s,t.state)))}}}catch(l){a.e(l)}finally{a.f()}return l4.set(r,!0)},provide:function(e){return w8.decorations.from(e)}}),Ite=[Mte,Zte];var Dte=new f9;function Lte(e,t,n){var r=e.prop(t<0?f9.openedBy:f9.closedBy);if(r)return r;if(1==e.name.length){var i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function Rte(e){var t=e.type.prop(Dte);return t?t(e.node):e}function Bte(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.maxScanDistance||Nte,a=r.brackets||Ete,o=jee(e),s=o.resolveInner(t,n),l=s;l;l=l.parent){var c=Lte(l.type,n,a);if(c&&l.from<l.to){var u=Rte(l);if(u&&(n>0?t>=u.from&&t<u.to:t>u.from&&t<=u.to))return Fte(e,t,n,l,u,c,a)}}return zte(e,t,n,o,s.type,i,a)}function Fte(e,t,n,r,i,a,o){var s=r.parent,l={from:i.from,to:i.to},c=0,u=null===s||void 0===s?void 0:s.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==c&&a.indexOf(u.type.name)>-1&&u.from<u.to){var d=Rte(u);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}if(Lte(u.type,n,o))c++;else if(Lte(u.type,-n,o)){if(0==c){var p=Rte(u);return{start:l,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}c--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function zte(e,t,n,r,i,a,o){var s=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=o.indexOf(s);if(l<0||l%2==0!=n>0)return null;for(var c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),d=0,p=0;!u.next().done&&p<=a;){var f=u.value;n<0&&(p+=f.length);for(var h=t+p*n,g=n>0?0:f.length-1,m=n>0?f.length:-1;g!=m;g+=n){var v=o.indexOf(f[g]);if(!(v<0||r.resolveInner(h+g,1).type!=i))if(v%2==0==n>0)d++;else{if(1==d)return{start:c,end:{from:h+g,to:h+g+1},matched:v>>1==l>>1};d--}}n>0&&(p+=f.length)}return u.done?{start:c,matched:!1}:null}for(var Vte=Object.create(null),Ute=[m9.none],Hte=[],Wte=Object.create(null),qte=Object.create(null),Kte=0,Yte=[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]];Kte<Yte.length;Kte++){var Gte=(0,xe.Z)(Yte[Kte],2),Qte=Gte[0],Xte=Gte[1];qte[Qte]=Jte(Vte,Xte)}function $te(e,t){Hte.indexOf(e)>-1||(Hte.push(e),console.warn(t))}function Jte(e,t){var n,r=[],i=(0,sp.Z)(t.split(" "));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=[],l=(0,sp.Z)(o.split("."));try{for(l.s();!(a=l.n()).done;){var c=a.value,u=e[c]||gee[c];u?"function"==typeof u?s.length?s=s.map(u):$te(c,"Modifier ".concat(c," used at start of tag")):s.length?$te(c,"Tag ".concat(c," used as modifier")):s=Array.isArray(u)?u:[u]:$te(c,"Unknown highlighting tag ".concat(c))}}catch(y){l.e(y)}finally{l.f()}var d,p=(0,sp.Z)(s);try{for(p.s();!(d=p.n()).done;){var f=d.value;r.push(f)}}catch(y){p.e(y)}finally{p.f()}}}catch(y){i.e(y)}finally{i.f()}if(!r.length)return 0;var h=t.replace(/ /g,"_"),g=h+" "+r.map((function(e){return e.id})),m=Wte[g];if(m)return m.id;var v=Wte[g]=m9.define({id:Ute.length,name:h,props:[Y9((0,ti.Z)({},h,r))]});return Ute.push(v),v.id}x4.RTL,x4.LTR;function ene(e,t){return function(n){var r=n.state,i=n.dispatch;if(r.readOnly)return!1;var a=e(t,r);return!!a&&(i(r.update(a)),!0)}}var tne=ene(sne,0),nne=ene(one,0),rne=ene((function(e,t){return one(e,t,function(e){var t,n=[],r=(0,sp.Z)(e.selection.ranges);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=e.doc.lineAt(i.from),o=i.to<=a.to?a:e.doc.lineAt(i.to);o.from>a.from&&o.from==i.to&&(o=i.to==a.to+1?a:e.doc.lineAt(i.to-1));var s=n.length-1;s>=0&&n[s].to>a.from?n[s].to=o.to:n.push({from:a.from+/^\s*/.exec(a.text)[0].length,to:o.to})}}catch(l){r.e(l)}finally{r.f()}return n}(t))}),0);function ine(e,t){var n=e.languageDataAt("commentTokens",t,1);return n.length?n[0]:{}}function ane(e,t,n,r){var i,a,o=t.open,s=t.close,l=e.sliceDoc(n-50,n),c=e.sliceDoc(r,r+50),u=/\s*$/.exec(l)[0].length,d=/^\s*/.exec(c)[0].length,p=l.length-u;if(l.slice(p-o.length,p)==o&&c.slice(d,d+s.length)==s)return{open:{pos:n-u,margin:u&&1},close:{pos:r+d,margin:d&&1}};r-n<=100?i=a=e.sliceDoc(n,r):(i=e.sliceDoc(n,n+50),a=e.sliceDoc(r-50,r));var f=/^\s*/.exec(i)[0].length,h=/\s*$/.exec(a)[0].length,g=a.length-h-s.length;return i.slice(f,f+o.length)==o&&a.slice(g,g+s.length)==s?{open:{pos:n+f+o.length,margin:/\s/.test(i.charAt(f+o.length))?1:0},close:{pos:r-h-s.length,margin:/\s/.test(a.charAt(g-1))?1:0}}:null}function one(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,r=n.map((function(e){return ine(t,e.from).block}));if(!r.every((function(e){return e})))return null;var i=n.map((function(e,n){return ane(t,r[n],e.from,e.to)}));if(2!=e&&!i.every((function(e){return e})))return{changes:t.changes(n.map((function(e,t){return i[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}]})))};if(1!=e&&i.some((function(e){return e}))){for(var a,o=[],s=0;s<i.length;s++)if(a=i[s]){var l=r[s],c=a,u=c.open,d=c.close;o.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:d.pos-d.margin,to:d.pos+l.close.length})}return{changes:o}}return null}function sne(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,i=[],a=-1,o=(0,sp.Z)(r);try{for(o.s();!(n=o.n()).done;){var s=n.value,l=s.from,c=s.to,u=i.length,d=1e9,p=ine(t,l).line;if(p){for(var f=l;f<=c;){var h=t.doc.lineAt(f);if(h.from>a&&(l==c||c>h.from)){a=h.from;var g=/^\s*/.exec(h.text)[0].length,m=g==h.length,v=h.text.slice(g,g+p.length)==p?g:-1;g<h.text.length&&g<d&&(d=g),i.push({line:h,comment:v,token:p,indent:g,empty:m,single:!1})}f=h.to+1}if(d<1e9)for(var y=u;y<i.length;y++)i[y].indent<i[y].line.text.length&&(i[y].indent=d);i.length==u+1&&(i[u].single=!0)}}}catch(R){o.e(R)}finally{o.f()}if(2!=e&&i.some((function(e){return e.comment<0&&(!e.empty||e.single)}))){var b,x=[],w=(0,sp.Z)(i);try{for(w.s();!(b=w.n()).done;){var k=b.value,_=k.line,C=k.token,j=k.indent,S=k.empty,Z=k.single;!Z&&S||x.push({from:_.from+j,insert:C+" "})}}catch(R){w.e(R)}finally{w.f()}var N=t.changes(x);return{changes:N,selection:t.selection.map(N,1)}}if(1!=e&&i.some((function(e){return e.comment>=0}))){var E,O=[],A=(0,sp.Z)(i);try{for(A.s();!(E=A.n()).done;){var T=E.value,P=T.line,M=T.comment,I=T.token;if(M>=0){var D=P.from+M,L=D+I.length;" "==P.text[L-P.from]&&L++,O.push({from:D,to:L})}}}catch(R){A.e(R)}finally{A.f()}return{changes:O}}return null}var lne=u2.define(),cne=u2.define(),une=R1.define(),dne=R1.define({combine:function(e){return S2(e,{minDepth:100,newGroupDelay:500,joinToEvent:function(e,t){return t}},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:function(e,t){return function(n,r){return e(n,r)||t(n,r)}}})}}),pne=H1.define({create:function(){return Zne.empty},update:function(e,t){var n=t.state.facet(dne),r=t.annotation(lne);if(r){var i=yne.fromTransaction(t,r.selection),a=r.side,o=0==a?e.undone:e.done;return o=i?bne(o,o.length,n.minDepth,i):kne(o,t.startState.selection),new Zne(0==a?r.rest:o,0==a?o:r.rest)}var s=t.annotation(cne);if("full"!=s&&"before"!=s||(e=e.isolate()),!1===t.annotation(h2.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);var l=yne.fromTransaction(t),c=t.annotation(h2.time),u=t.annotation(h2.userEvent);return l?e=e.addChanges(l,c,u,n,t):t.selection&&(e=e.addSelection(t.startState.selection,c,u,n.newGroupDelay)),"full"!=s&&"after"!=s||(e=e.isolate()),e},toJSON:function(e){return{done:e.done.map((function(e){return e.toJSON()})),undone:e.undone.map((function(e){return e.toJSON()}))}},fromJSON:function(e){return new Zne(e.done.map(yne.fromJSON),e.undone.map(yne.fromJSON))}});function fne(e,t){return function(n){var r=n.state,i=n.dispatch;if(!t&&r.readOnly)return!1;var a=r.field(pne,!1);if(!a)return!1;var o=a.pop(e,r,t);return!!o&&(i(o),!0)}}var hne=fne(0,!1),gne=fne(1,!1),mne=fne(0,!0),vne=fne(1,!0);var yne=function(){function e(t,n,r,i,a){(0,Za.Z)(this,e),this.changes=t,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=a}return(0,Sa.Z)(e,[{key:"setSelAfter",value:function(t){return new e(this.changes,this.effects,this.mapped,this.startSelection,t)}},{key:"toJSON",value:function(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((function(e){return e.toJSON()}))}}}],[{key:"fromJSON",value:function(t){return new e(t.changes&&Z1.fromJSON(t.changes),[],t.mapped&&S1.fromJSON(t.mapped),t.startSelection&&I1.fromJSON(t.startSelection),t.selectionsAfter.map(I1.fromJSON))}},{key:"fromTransaction",value:function(t,n){var r,i=wne,a=(0,sp.Z)(t.startState.facet(une));try{for(a.s();!(r=a.n()).done;){var o=(0,r.value)(t);o.length&&(i=i.concat(o))}}catch(s){a.e(s)}finally{a.f()}return!i.length&&t.changes.empty?null:new e(t.changes.invert(t.startState.doc),i,void 0,n||t.startState.selection,wne)}},{key:"selection",value:function(t){return new e(void 0,wne,void 0,void 0,t)}}]),e}();function bne(e,t,n,r){var i=t+1>n+20?t-n-1:0,a=e.slice(i,t);return a.push(r),a}function xne(e,t){return e.length?t.length?e.concat(t):e:t}var wne=[];function kne(e,t){if(e.length){var n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),bne(e,e.length-1,1e9,n.setSelAfter(r)))}return[yne.selection([t])]}function _ne(e){var t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function Cne(e,t){if(!e.length)return e;for(var n=e.length,r=wne;n;){var i=jne(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){var a=e.slice(0,n);return a[n-1]=i,a}t=i.mapped,n--,r=i.selectionsAfter}return r.length?[yne.selection(r)]:wne}function jne(e,t,n){var r=xne(e.selectionsAfter.length?e.selectionsAfter.map((function(e){return e.map(t)})):wne,n);if(!e.changes)return yne.selection(r);var i=e.changes.map(t),a=t.mapDesc(e.changes,!0),o=e.mapped?e.mapped.composeDesc(a):a;return new yne(i,f2.mapEffects(e.effects,t),o,e.startSelection.map(a),r)}var Sne=/^(input\.type|delete)($|\.)/,Zne=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;(0,Za.Z)(this,e),this.done=t,this.undone=n,this.prevTime=r,this.prevUserEvent=i}return(0,Sa.Z)(e,[{key:"isolate",value:function(){return this.prevTime?new e(this.done,this.undone):this}},{key:"addChanges",value:function(t,n,r,i,a){var o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&t.changes&&(!r||Sne.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,function(e,t){var n=[],r=!1;return e.iterChangedRanges((function(e,t){return n.push(e,t)})),t.iterChangedRanges((function(e,t,i,a){for(var o=0;o<n.length;){var s=n[o++],l=n[o++];a>=s&&i<=l&&(r=!0)}})),r}(s.changes,t.changes))||"input.type.compose"==r)?bne(o,o.length-1,i.minDepth,new yne(t.changes.compose(s.changes),xne(f2.mapEffects(t.effects,s.changes),s.effects),s.mapped,s.startSelection,wne)):bne(o,o.length,i.minDepth,t),new e(o,wne,n,r)}},{key:"addSelection",value:function(t,n,r,i){var a=this.done.length?this.done[this.done.length-1].selectionsAfter:wne;return a.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&function(e,t){return e.ranges.length==t.ranges.length&&0===e.ranges.filter((function(e,n){return e.empty!=t.ranges[n].empty})).length}(a[a.length-1],t)?this:new e(kne(this.done,t),this.undone,n,r)}},{key:"addMapping",value:function(t){return new e(Cne(this.done,t),Cne(this.undone,t),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(e,t,n){var r=0==e?this.done:this.undone;if(0==r.length)return null;var i=r[r.length-1],a=i.selectionsAfter[0]||t.selection;if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:lne.of({side:e,rest:_ne(r),selection:a}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){var o=1==r.length?wne:r.slice(0,r.length-1);return i.mapped&&(o=Cne(o,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:lne.of({side:e,rest:o,selection:a}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}]),e}();Zne.empty=new Zne(wne,wne);var Nne=[{key:"Mod-z",run:hne,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:gne,preventDefault:!0},{linux:"Ctrl-Shift-z",run:gne,preventDefault:!0},{key:"Mod-u",run:mne,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:vne,preventDefault:!0}];function Ene(e,t){return I1.create(e.ranges.map(t),e.mainIndex)}function One(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Ane(e,t){var n=e.state,r=e.dispatch,i=Ene(n.selection,t);return!i.eq(n.selection,!0)&&(r(One(n,i)),!0)}function Tne(e,t){return I1.cursor(t?e.to:e.from)}function Pne(e,t){return Ane(e,(function(n){return n.empty?e.moveByChar(n,t):Tne(n,t)}))}function Mne(e){return e.textDirectionAt(e.state.selection.main.head)==x4.LTR}var Ine=function(e){return Pne(e,!Mne(e))},Dne=function(e){return Pne(e,Mne(e))};function Lne(e,t){return Ane(e,(function(n){return n.empty?e.moveByGroup(n,t):Tne(n,t)}))}"undefined"!=typeof Intl&&Intl.Segmenter;function Rne(e,t,n){if(t.type.prop(n))return!0;var r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Bne(e,t,n){for(var r=jee(e).resolveInner(t.head),i=n?f9.closedBy:f9.openedBy,a=t.head;;){var o=n?r.childAfter(a):r.childBefore(a);if(!o)break;Rne(e,o,i)?r=o:a=n?o.to:o.from}var s,l;return l=r.type.prop(i)&&(s=n?Bte(e,r.from,1):Bte(e,r.to,-1))&&s.matched?n?s.end.to:s.end.from:n?r.to:r.from,I1.cursor(l,n?-1:1)}function Fne(e,t){return Ane(e,(function(n){if(!n.empty)return Tne(n,t);var r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}var zne=function(e){return Fne(e,!1)},Vne=function(e){return Fne(e,!0)};function Une(e){var t,n=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,r=0,i=0;if(n){var a,o=(0,sp.Z)(e.state.facet(w8.scrollMargins));try{for(o.s();!(a=o.n()).done;){var s=(0,a.value)(e);(null===s||void 0===s?void 0:s.top)&&(r=Math.max(null===s||void 0===s?void 0:s.top,r)),(null===s||void 0===s?void 0:s.bottom)&&(i=Math.max(null===s||void 0===s?void 0:s.bottom,i))}}catch(l){o.e(l)}finally{o.f()}t=e.scrollDOM.clientHeight-r-i}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:n,height:Math.max(e.defaultLineHeight,t-5)}}function Hne(e,t){var n,r=Une(e),i=e.state,a=Ene(i.selection,(function(n){return n.empty?e.moveVertically(n,t,r.height):Tne(n,t)}));if(a.eq(i.selection))return!1;if(r.selfScroll){var o=e.coordsAtPos(i.selection.main.head),s=e.scrollDOM.getBoundingClientRect(),l=s.top+r.marginTop,c=s.bottom-r.marginBottom;o&&o.top>l&&o.bottom<c&&(n=w8.scrollIntoView(a.main.head,{y:"start",yMargin:o.top-l}))}return e.dispatch(One(i,a),{effects:n}),!0}var Wne=function(e){return Hne(e,!1)},qne=function(e){return Hne(e,!0)};function Kne(e,t,n){var r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){var a=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;a&&t.head!=r.from+a&&(i=I1.cursor(r.from+a))}return i}function Yne(e,t,n){var r=!1,i=Ene(e.selection,(function(t){var i=Bte(e,t.head,-1)||Bte(e,t.head,1)||t.head>0&&Bte(e,t.head-1,1)||t.head<e.doc.length&&Bte(e,t.head+1,-1);if(!i||!i.end)return t;r=!0;var a=i.start.from==t.head?i.end.to:i.end.from;return n?I1.range(t.anchor,a):I1.cursor(a)}));return!!r&&(t(One(e,i)),!0)}function Gne(e,t){var n=Ene(e.state.selection,(function(e){var n=t(e);return I1.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(e.state.selection)&&(e.dispatch(One(e.state,n)),!0)}function Qne(e,t){return Gne(e,(function(n){return e.moveByChar(n,t)}))}var Xne=function(e){return Qne(e,!Mne(e))},$ne=function(e){return Qne(e,Mne(e))};function Jne(e,t){return Gne(e,(function(n){return e.moveByGroup(n,t)}))}function ere(e,t){return Gne(e,(function(n){return e.moveVertically(n,t)}))}var tre=function(e){return ere(e,!1)},nre=function(e){return ere(e,!0)};function rre(e,t){return Gne(e,(function(n){return e.moveVertically(n,t,Une(e).height)}))}var ire=function(e){return rre(e,!1)},are=function(e){return rre(e,!0)},ore=function(e){var t=e.state;return(0,e.dispatch)(One(t,{anchor:0})),!0},sre=function(e){var t=e.state;return(0,e.dispatch)(One(t,{anchor:t.doc.length})),!0},lre=function(e){var t=e.state;return(0,e.dispatch)(One(t,{anchor:t.selection.main.anchor,head:0})),!0},cre=function(e){var t=e.state;return(0,e.dispatch)(One(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0};function ure(e,t){var n,r=e.state,i=r.selection,a=r.selection.ranges.slice(),o=(0,sp.Z)(r.selection.ranges);try{for(o.s();!(n=o.n()).done;){var s=n.value,l=r.doc.lineAt(s.head);if(t?l.to<e.state.doc.length:l.from>0)for(var c=function(n){var r=e.moveVertically(n,t);return r.head<l.from||r.head>l.to?(a.some((function(e){return e.head==r.head}))||a.push(r),u=n,"break"):r.head==n.head?(u=n,"break"):void(u=n=r)},u=s;;){if("break"===c(u))break}}}catch(d){o.e(d)}finally{o.f()}return a.length!=i.ranges.length&&(e.dispatch(One(r,I1.create(a,a.length-1))),!0)}function dre(e,t){if(e.state.readOnly)return!1;var n="delete.selection",r=e.state,i=r.changeByRange((function(r){var i=r.from,a=r.to;if(i==a){var o=t(r);o<i?(n="delete.backward",o=pre(e,o,!1)):o>i&&(n="delete.forward",o=pre(e,o,!0)),i=Math.min(i,o),a=Math.max(a,o)}else i=pre(e,i,!1),a=pre(e,a,!0);return i==a?{range:r}:{changes:{from:i,to:a},range:I1.cursor(i,i<r.head?-1:1)}}));return!i.changes.empty&&(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?w8.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function pre(e,t,n){if(e instanceof w8){var r,i=(0,sp.Z)(e.state.facet(w8.atomicRanges).map((function(t){return t(e)})));try{for(i.s();!(r=i.n()).done;){r.value.between(t,t,(function(e,r){e<t&&r>t&&(t=n?r:e)}))}}catch(a){i.e(a)}finally{i.f()}}return t}var fre=function(e,t,n){return dre(e,(function(r){var i,a,o=r.from,s=e.state,l=s.doc.lineAt(o);if(n&&!t&&o>l.from&&o<l.from+200&&!/[^ \t]/.test(i=l.text.slice(0,o-l.from))){if("\t"==i[i.length-1])return o-1;for(var c=H2(i,s.tabSize)%Ree(s)||Ree(s),u=0;u<c&&" "==i[i.length-1-u];u++)o--;a=o}else(a=x1(l.text,o-l.from,t,t)+l.from)==o&&l.number!=(t?s.doc.lines:1)?a+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(l.text.slice(a-l.from,o-l.from))&&(a=x1(l.text,a-l.from,!1,!1)+l.from);return a}))},hre=function(e){return fre(e,!1,!0)},gre=function(e){return fre(e,!0,!1)},mre=function(e,t){return dre(e,(function(n){for(var r=n.head,i=e.state,a=i.doc.lineAt(r),o=i.charCategorizer(r),s=null;;){if(r==(t?a.to:a.from)){r==n.head&&a.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}var l=x1(a.text,r-a.from,t)+a.from,c=a.text.slice(Math.min(r,l)-a.from,Math.max(r,l)-a.from),u=o(c);if(null!=s&&u!=s)break;" "==c&&r==n.head||(s=u),r=l}return r}))},vre=function(e){return mre(e,!1)};function yre(e){var t,n=[],r=-1,i=(0,sp.Z)(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.doc.lineAt(a.from),s=e.doc.lineAt(a.to);if(a.empty||a.to!=s.from||(s=e.doc.lineAt(a.to-1)),r>=o.number){var l=n[n.length-1];l.to=s.to,l.ranges.push(a)}else n.push({from:o.from,to:s.to,ranges:[a]});r=s.number+1}}catch(c){i.e(c)}finally{i.f()}return n}function bre(e,t,n){if(e.readOnly)return!1;var r,i=[],a=[],o=(0,sp.Z)(yre(e));try{for(o.s();!(r=o.n()).done;){var s=r.value;if(n?s.to!=e.doc.length:0!=s.from){var l=e.doc.lineAt(n?s.to+1:s.from-1),c=l.length+1;if(n){i.push({from:s.to,to:l.to},{from:s.from,insert:l.text+e.lineBreak});var u,d=(0,sp.Z)(s.ranges);try{for(d.s();!(u=d.n()).done;){var p=u.value;a.push(I1.range(Math.min(e.doc.length,p.anchor+c),Math.min(e.doc.length,p.head+c)))}}catch(m){d.e(m)}finally{d.f()}}else{i.push({from:l.from,to:s.from},{from:s.to,insert:e.lineBreak+l.text});var f,h=(0,sp.Z)(s.ranges);try{for(h.s();!(f=h.n()).done;){var g=f.value;a.push(I1.range(g.anchor-c,g.head-c))}}catch(m){h.e(m)}finally{h.f()}}}}}catch(m){o.e(m)}finally{o.f()}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0,selection:I1.create(a,e.selection.mainIndex),userEvent:"move.line"})),!0)}function xre(e,t,n){if(e.readOnly)return!1;var r,i=[],a=(0,sp.Z)(yre(e));try{for(a.s();!(r=a.n()).done;){var o=r.value;n?i.push({from:o.from,insert:e.doc.slice(o.from,o.to)+e.lineBreak}):i.push({from:o.to,insert:e.lineBreak+e.doc.slice(o.from,o.to)})}}catch(s){a.e(s)}finally{a.f()}return t(e.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var wre=_re(!1),kre=_re(!0);function _re(e){return function(t){var n=t.state,r=t.dispatch;if(n.readOnly)return!1;var i=n.changeByRange((function(t){var r=t.from,i=t.to,a=n.doc.lineAt(r),o=!e&&r==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};var n,r=jee(e).resolveInner(t),i=r.childBefore(t),a=r.childAfter(t);return i&&a&&i.to<=t&&a.from>=t&&(n=i.type.prop(f9.closedBy))&&n.indexOf(a.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(a.from).from&&!/\S/.test(e.sliceDoc(i.to,a.from))?{from:i.to,to:a.from}:null}(n,r);e&&(r=i=(i<=a.to?a:n.doc.lineAt(i)).to);var s=new zee(n,{simulateBreak:r,simulateDoubleBreak:!!o}),l=Fee(s,r);for(null==l&&(l=H2(/^\s*/.exec(n.doc.lineAt(r).text)[0],n.tabSize));i<a.to&&/\s/.test(a.text[i-a.from]);)i++;o?(r=o.from,i=o.to):r>a.from&&r<a.from+100&&!/\S/.test(a.text.slice(0,r))&&(r=a.from);var c=["",Bee(n,l)];return o&&c.push(Bee(n,s.lineIndent(a.from,-1))),{changes:{from:r,to:i,insert:c1.of(c)},range:I1.cursor(r+1+c[1].length)}}));return r(n.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Cre(e,t){var n=-1;return e.changeByRange((function(r){for(var i=[],a=r.from;a<=r.to;){var o=e.doc.lineAt(a);o.number>n&&(r.empty||r.to>o.from)&&(t(o,i,r),n=o.number),a=o.to+1}var s=e.changes(i);return{changes:i,range:I1.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}}))}var jre=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(Cre(t,(function(e,n){n.push({from:e.from,insert:t.facet(Lee)})})),{userEvent:"input.indent"})),!0)},Sre=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(Cre(t,(function(e,n){var r=/^\s*/.exec(e.text)[0];if(r){for(var i=H2(r,t.tabSize),a=0,o=Bee(t,Math.max(0,i-Ree(t)));a<r.length&&a<o.length&&r.charCodeAt(a)==o.charCodeAt(a);)a++;n.push({from:e.from+a,to:e.from+r.length,insert:o.slice(a)})}})),{userEvent:"delete.dedent"})),!0)},Zre=[{key:"Ctrl-b",run:Ine,shift:Xne,preventDefault:!0},{key:"Ctrl-f",run:Dne,shift:$ne},{key:"Ctrl-p",run:zne,shift:tre},{key:"Ctrl-n",run:Vne,shift:nre},{key:"Ctrl-a",run:function(e){return Ane(e,(function(t){return I1.cursor(e.lineBlockAt(t.head).from,1)}))},shift:function(e){return Gne(e,(function(t){return I1.cursor(e.lineBlockAt(t.head).from)}))}},{key:"Ctrl-e",run:function(e){return Ane(e,(function(t){return I1.cursor(e.lineBlockAt(t.head).to,-1)}))},shift:function(e){return Gne(e,(function(t){return I1.cursor(e.lineBlockAt(t.head).to)}))}},{key:"Ctrl-d",run:gre},{key:"Ctrl-h",run:hre},{key:"Ctrl-k",run:function(e){return dre(e,(function(t){var n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))}},{key:"Ctrl-Alt-h",run:vre},{key:"Ctrl-o",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){return{changes:{from:e.from,to:e.to,insert:c1.of(["",""])},range:I1.cursor(e.from)}}));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};var n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:x1(r.text,n-r.from,!1)+r.from,a=n==r.to?n+1:x1(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:a,insert:t.doc.slice(n,a).append(t.doc.slice(i,n))},range:I1.cursor(a)}}));return!r.changes.empty&&(n(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:qne}],Nre=[{key:"ArrowLeft",run:Ine,shift:Xne,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:function(e){return Lne(e,!Mne(e))},shift:function(e){return Jne(e,!Mne(e))},preventDefault:!0},{mac:"Cmd-ArrowLeft",run:function(e){return Ane(e,(function(t){return Kne(e,t,!Mne(e))}))},shift:function(e){return Gne(e,(function(t){return Kne(e,t,!Mne(e))}))},preventDefault:!0},{key:"ArrowRight",run:Dne,shift:$ne,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:function(e){return Lne(e,Mne(e))},shift:function(e){return Jne(e,Mne(e))},preventDefault:!0},{mac:"Cmd-ArrowRight",run:function(e){return Ane(e,(function(t){return Kne(e,t,Mne(e))}))},shift:function(e){return Gne(e,(function(t){return Kne(e,t,Mne(e))}))},preventDefault:!0},{key:"ArrowUp",run:zne,shift:tre,preventDefault:!0},{mac:"Cmd-ArrowUp",run:ore,shift:lre},{mac:"Ctrl-ArrowUp",run:Wne,shift:ire},{key:"ArrowDown",run:Vne,shift:nre,preventDefault:!0},{mac:"Cmd-ArrowDown",run:sre,shift:cre},{mac:"Ctrl-ArrowDown",run:qne,shift:are},{key:"PageUp",run:Wne,shift:ire},{key:"PageDown",run:qne,shift:are},{key:"Home",run:function(e){return Ane(e,(function(t){return Kne(e,t,!1)}))},shift:function(e){return Gne(e,(function(t){return Kne(e,t,!1)}))},preventDefault:!0},{key:"Mod-Home",run:ore,shift:lre},{key:"End",run:function(e){return Ane(e,(function(t){return Kne(e,t,!0)}))},shift:function(e){return Gne(e,(function(t){return Kne(e,t,!0)}))},preventDefault:!0},{key:"Mod-End",run:sre,shift:cre},{key:"Enter",run:wre,shift:wre},{key:"Mod-a",run:function(e){var t=e.state;return(0,e.dispatch)(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:hre,shift:hre,preventDefault:!0},{key:"Delete",run:gre,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:vre,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:function(e){return mre(e,!0)},preventDefault:!0},{mac:"Mod-Backspace",run:function(e){return dre(e,(function(t){var n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}))},preventDefault:!0},{mac:"Mod-Delete",run:function(e){return dre(e,(function(t){var n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))},preventDefault:!0}].concat(Zre.map((function(e){return{mac:e.key,run:e.run,shift:e.shift}}))),Ere=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:function(e){return Ane(e,(function(t){return Bne(e.state,t,!Mne(e))}))},shift:function(e){return Gne(e,(function(t){return Bne(e.state,t,!Mne(e))}))}},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:function(e){return Ane(e,(function(t){return Bne(e.state,t,Mne(e))}))},shift:function(e){return Gne(e,(function(t){return Bne(e.state,t,Mne(e))}))}},{key:"Alt-ArrowUp",run:function(e){return bre(e.state,e.dispatch,!1)}},{key:"Shift-Alt-ArrowUp",run:function(e){return xre(e.state,e.dispatch,!1)}},{key:"Alt-ArrowDown",run:function(e){return bre(e.state,e.dispatch,!0)}},{key:"Shift-Alt-ArrowDown",run:function(e){return xre(e.state,e.dispatch,!0)}},{key:"Mod-Alt-ArrowUp",run:function(e){return ure(e,!1)}},{key:"Mod-Alt-ArrowDown",run:function(e){return ure(e,!0)}},{key:"Escape",run:function(e){var t=e.state,n=e.dispatch,r=t.selection,i=null;return r.ranges.length>1?i=I1.create([r.main]):r.main.empty||(i=I1.create([I1.cursor(r.main.head)])),!!i&&(n(One(t,i)),!0)}},{key:"Mod-Enter",run:kre},{key:"Alt-l",mac:"Ctrl-l",run:function(e){var t=e.state,n=e.dispatch,r=yre(t).map((function(e){var n=e.from,r=e.to;return I1.range(n,Math.min(r+1,t.doc.length))}));return n(t.update({selection:I1.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:function(e){var t=e.state,n=e.dispatch,r=Ene(t.selection,(function(e){var n=jee(t),r=n.resolveStack(e.from,1);if(e.empty){var i=n.resolveStack(e.from,-1);i.node.from>=r.node.from&&i.node.to<=r.node.to&&(r=i)}for(var a=r;a;a=a.next){var o=a.node;if((o.from<e.from&&o.to>=e.to||o.to>e.to&&o.from<=e.from)&&a.next)return I1.range(o.to,o.from)}return e}));return!r.eq(t.selection)&&(n(One(t,r)),!0)},preventDefault:!0},{key:"Mod-[",run:Sre},{key:"Mod-]",run:jre},{key:"Mod-Alt-\\",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=Object.create(null),i=new zee(t,{overrideIndentation:function(e){var t=r[e];return null==t?-1:t}}),a=Cre(t,(function(e,n,a){var o=Fee(i,e.from);if(null!=o){/\S/.test(e.text)||(o=0);var s=/^\s*/.exec(e.text)[0],l=Bee(t,o);(s!=l||a.from<e.from+s.length)&&(r[e.from]=o,n.push({from:e.from,to:e.from+s.length,insert:l}))}}));return a.changes.empty||n(t.update(a,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:function(e){if(e.state.readOnly)return!1;var t=e.state,n=t.changes(yre(t).map((function(e){var n=e.from,r=e.to;return n>0?n--:r<t.doc.length&&r++,{from:n,to:r}}))),r=Ene(t.selection,(function(t){var n=void 0;if(e.lineWrapping){var r=e.lineBlockAt(t.head),i=e.coordsAtPos(t.head,t.assoc||1);i&&(n=r.bottom+e.documentTop-i.bottom+e.defaultLineHeight/2)}return e.moveVertically(t,!0,n)})).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:function(e){return Yne(e.state,e.dispatch,!1)}},{key:"Mod-/",run:function(e){var t=e.state,n=t.doc.lineAt(t.selection.main.from),r=ine(e.state,n.from);return r.line?tne(e):!!r.block&&rne(e)}},{key:"Alt-A",run:nne},{key:"Ctrl-m",mac:"Shift-Alt-m",run:function(e){return e.setTabFocusMode(),!0}}].concat(Nre),Ore={key:"Tab",run:jre,shift:Sre};function Are(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?e.setAttribute(r,i):null!=i&&(e[r]=i)}t++}for(;t<arguments.length;t++)Tre(e,arguments[t]);return e}function Tre(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)Tre(e,t[n])}}var Pre="function"==typeof String.prototype.normalize?function(e){return e.normalize("NFKD")}:function(e){return e},Mre=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;(0,Za.Z)(this,e),this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=a?function(e){return a(Pre(e))}:Pre,this.query=this.normalize(n)}return(0,Sa.Z)(e,[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return w1(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var t=k1(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=_1(e);var r=this.normalize(t);if(r.length)for(var i=0,a=n;;i++){var o=r.charCodeAt(i),s=this.match(o,a,this.bufferPos+this.bufferStart);if(i==r.length-1){if(s)return this.value=s,this;break}a==n&&i<t.length&&t.charCodeAt(i)==o&&a++}}}},{key:"match",value:function(e,t,n){for(var r=null,i=0;i<this.matches.length;i+=2){var a=this.matches[i],o=!1;this.query.charCodeAt(a)==e&&(a==this.query.length-1?r={from:this.matches[i+1],to:n}:(this.matches[i]++,o=!0)),o||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:n}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}]),e}();"undefined"!=typeof Symbol&&(Mre.prototype[Symbol.iterator]=function(){return this});var Ire={from:-1,to:-1,match:/.*/.exec("")},Dre="gm"+(null==/x/.unicode?"":"u"),Lre=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if((0,Za.Z)(this,e),this.text=t,this.to=a,this.curLine="",this.done=!1,this.value=Ire,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new Fre(t,n,r,i,a);this.re=new RegExp(n,Dre+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.iter=t.iter();var o=t.lineAt(i);this.curLineStart=o.from,this.matchPos=zre(t,i),this.getLine(this.curLineStart)}return(0,Sa.Z)(e,[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){var n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=zre(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}]),e}(),Rre=new WeakMap,Bre=function(){function e(t,n){(0,Za.Z)(this,e),this.from=t,this.text=n}return(0,Sa.Z)(e,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(t,n,r){var i=Rre.get(t);if(!i||i.from>=r||i.to<=n){var a=new e(n,t.sliceString(n,r));return Rre.set(t,a),a}if(i.from==n&&i.to==r)return i;var o=i.text,s=i.from;return s>n&&(o=t.sliceString(n,s)+o,s=n),i.to<r&&(o+=t.sliceString(i.to,r)),Rre.set(t,new e(s,o)),new e(n,o.slice(n-s,r-s))}}]),e}(),Fre=function(){function e(t,n,r,i,a){(0,Za.Z)(this,e),this.text=t,this.to=a,this.done=!1,this.value=Ire,this.matchPos=zre(t,i),this.re=new RegExp(n,Dre+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.flat=Bre.get(t,i,this.chunkEnd(i+5e3))}return(0,Sa.Z)(e,[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){var n=this.flat.from+t.index,r=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this.matchPos=zre(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Bre.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}]),e}();function zre(e,t){if(t>=e.length)return t;for(var n,r=e.lineAt(t);t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function Vre(e){var t=Are("input",{class:"cm-textfield",name:"line",value:String(e.state.doc.lineAt(e.state.selection.main.head).number)});function n(){var n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(n){var r=e.state,i=r.doc.lineAt(r.selection.main.head),a=(0,xe.Z)(n,5),o=a[1],s=a[2],l=a[3],c=a[4],u=l?+l.slice(1):0,d=s?+s:i.number;if(s&&c){var p=d/100;o&&(p=p*("-"==o?-1:1)+i.number/r.doc.lines),d=Math.round(r.doc.lines*p)}else s&&o&&(d=d*("-"==o?-1:1)+i.number);var f=r.doc.line(Math.max(1,Math.min(r.doc.lines,d))),h=I1.cursor(f.from+Math.max(0,Math.min(u,f.length)));e.dispatch({effects:[Ure.of(!1),w8.scrollIntoView(h.from,{y:"center"})],selection:h}),e.focus()}}return{dom:Are("form",{class:"cm-gotoLine",onkeydown:function(t){27==t.keyCode?(t.preventDefault(),e.dispatch({effects:Ure.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:function(e){e.preventDefault(),n()}},Are("label",e.state.phrase("Go to line"),": ",t)," ",Are("button",{class:"cm-button",type:"submit"},e.state.phrase("go")),Are("button",{name:"close",onclick:function(){e.dispatch({effects:Ure.of(!1)}),e.focus()},"aria-label":e.state.phrase("close"),type:"button"},["\xd7"]))}}"undefined"!=typeof Symbol&&(Lre.prototype[Symbol.iterator]=Fre.prototype[Symbol.iterator]=function(){return this});var Ure=f2.define(),Hre=H1.define({create:function(){return!0},update:function(e,t){var n,r=(0,sp.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(Ure)&&(e=i.value)}}catch(a){r.e(a)}finally{r.f()}return e},provide:function(e){return F7.from(e,(function(e){return e?Vre:null}))}}),Wre=w8.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),qre={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Kre=R1.define({combine:function(e){return S2(e,qre,{highlightWordAroundCursor:function(e,t){return e||t},minSelectionLength:Math.min,maxMatches:Math.min})}});var Yre=l4.mark({class:"cm-selectionMatch"}),Gre=l4.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Qre(e,t,n,r){return(0==n||e(t.sliceDoc(n-1,n))!=k2.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=k2.Word)}var Xre=u5.fromClass(function(){function e(t){(0,Za.Z)(this,e),this.decorations=this.getDeco(t)}return(0,Sa.Z)(e,[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t=e.state.facet(Kre),n=e.state,r=n.selection;if(r.ranges.length>1)return l4.none;var i,a=r.main,o=null;if(a.empty){if(!t.highlightWordAroundCursor)return l4.none;var s=n.wordAt(a.head);if(!s)return l4.none;o=n.charCategorizer(a.head),i=n.sliceDoc(s.from,s.to)}else{var l=a.to-a.from;if(l<t.minSelectionLength||l>200)return l4.none;if(t.wholeWords){if(i=n.sliceDoc(a.from,a.to),!Qre(o=n.charCategorizer(a.head),n,a.from,a.to)||!function(e,t,n,r){return e(t.sliceDoc(n,n+1))==k2.Word&&e(t.sliceDoc(r-1,r))==k2.Word}(o,n,a.from,a.to))return l4.none}else if(!(i=n.sliceDoc(a.from,a.to)))return l4.none}var c,u=[],d=(0,sp.Z)(e.visibleRanges);try{for(d.s();!(c=d.n()).done;)for(var p=c.value,f=new Mre(n.doc,i,p.from,p.to);!f.next().done;){var h=f.value,g=h.from,m=h.to;if((!o||Qre(o,n,g,m))&&(a.empty&&g<=a.from&&m>=a.to?u.push(Gre.range(g,m)):(g>=a.to||m<=a.from)&&u.push(Yre.range(g,m)),u.length>t.maxMatches))return l4.none}}catch(v){d.e(v)}finally{d.f()}return l4.set(u)}}]),e}(),{decorations:function(e){return e.decorations}}),$re=w8.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});var Jre=R1.define({combine:function(e){return S2(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:function(e){return new Nie(e)},scrollToMatch:function(e){return w8.scrollIntoView(e)}})}});var eie=function(){function e(t){(0,Za.Z)(this,e),this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,Dre),!0}catch(yee){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}return(0,Sa.Z)(e,[{key:"unquote",value:function(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"}))}},{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}},{key:"create",value:function(){return this.regexp?new sie(this):new rie(this)}},{key:"getCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=e.doc?e:j2.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?iie(this,r,t,n):nie(this,r,t,n)}}]),e}(),tie=(0,Sa.Z)((function e(t){(0,Za.Z)(this,e),this.spec=t}));function nie(e,t,n,r){return new Mre(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:function(e){return e.toLowerCase()},e.wholeWord?function(e,t){return function(n,r,i,a){return(a>n||a+i.length<r)&&(a=Math.max(0,n-2),i=e.sliceString(a,Math.min(e.length,r+2))),(t(aie(i,n-a))!=k2.Word||t(oie(i,n-a))!=k2.Word)&&(t(oie(i,r-a))!=k2.Word||t(aie(i,r-a))!=k2.Word)}}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}var rie=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){return(0,Za.Z)(this,n),t.call(this,e)}return(0,Sa.Z)(n,[{key:"nextMatch",value:function(e,t,n){var r=nie(this.spec,e,n,e.doc.length).nextOverlapping();if(r.done){var i=Math.min(e.doc.length,t+this.spec.unquoted.length);r=nie(this.spec,e,0,i).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==n?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=n;;){for(var i=Math.max(t,r-1e4-this.spec.unquoted.length),a=nie(this.spec,e,i,r),o=null;!a.nextOverlapping().done;)o=a.value;if(o)return o;if(i==t)return null;r-=1e4}}},{key:"prevMatch",value:function(e,t,n){var r=this.prevMatchInRange(e,0,t);return r||(r=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),!r||r.from==t&&r.to==n?null:r}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace)}},{key:"matchAll",value:function(e,t){for(var n=nie(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=nie(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(tie);function iie(e,t,n,r){return new Lre(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(i=t.charCategorizer(t.selection.main.head),function(e,t,n){return!n[0].length||(i(aie(n.input,n.index))!=k2.Word||i(oie(n.input,n.index))!=k2.Word)&&(i(oie(n.input,n.index+n[0].length))!=k2.Word||i(aie(n.input,n.index+n[0].length))!=k2.Word)}):void 0},n,r);var i}function aie(e,t){return e.slice(x1(e,t,!1),t)}function oie(e,t){return e.slice(t,x1(e,t))}var sie=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(){return(0,Za.Z)(this,n),t.apply(this,arguments)}return(0,Sa.Z)(n,[{key:"nextMatch",value:function(e,t,n){var r=iie(this.spec,e,n,e.doc.length).next();return r.done&&(r=iie(this.spec,e,0,t).next()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=1;;r++){for(var i=Math.max(t,n-1e4*r),a=iie(this.spec,e,i,n),o=null;!a.next().done;)o=a.value;if(o&&(i==t||o.from>i+10))return o;if(i==t)return null}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(function(t,n){if("&"==n)return e.match[0];if("$"==n)return"$";for(var r=n.length;r>0;r--){var i=+n.slice(0,r);if(i>0&&i<e.match.length)return e.match[i]+n.slice(r)}return t}))}},{key:"matchAll",value:function(e,t){for(var n=iie(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=iie(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(tie),lie=f2.define(),cie=f2.define(),uie=H1.define({create:function(e){return new die(kie(e).create(),null)},update:function(e,t){var n,r=(0,sp.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(lie)?e=new die(i.value.create(),e.panel):i.is(cie)&&(e=new die(e.query,i.value?wie:null))}}catch(a){r.e(a)}finally{r.f()}return e},provide:function(e){return F7.from(e,(function(e){return e.panel}))}});var die=(0,Sa.Z)((function e(t,n){(0,Za.Z)(this,e),this.query=t,this.panel=n})),pie=l4.mark({class:"cm-searchMatch"}),fie=l4.mark({class:"cm-searchMatch cm-searchMatch-selected"}),hie=u5.fromClass(function(){function e(t){(0,Za.Z)(this,e),this.view=t,this.decorations=this.highlight(t.state.field(uie))}return(0,Sa.Z)(e,[{key:"update",value:function(e){var t=e.state.field(uie);(t!=e.startState.field(uie)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}},{key:"highlight",value:function(e){var t=e.query;if(!e.panel||!t.spec.valid)return l4.none;for(var n=this.view,r=new P2,i=0,a=n.visibleRanges,o=a.length;i<o;i++){for(var s=a[i],l=s.from,c=s.to;i<o-1&&c>a[i+1].from-500;)c=a[++i].to;t.highlight(n.state,l,c,(function(e,t){var i=n.state.selection.ranges.some((function(n){return n.from==e&&n.to==t}));r.add(e,t,i?fie:pie)}))}return r.finish()}}]),e}(),{decorations:function(e){return e.decorations}});function gie(e){return function(t){var n=t.state.field(uie,!1);return n&&n.query.spec.valid?e(t,n):jie(t)}}var mie=gie((function(e,t){var n=t.query,r=e.state.selection.main.to,i=n.nextMatch(e.state,r,r);if(!i)return!1;var a=I1.single(i.from,i.to),o=e.state.facet(Jre);return e.dispatch({selection:a,effects:[Aie(e,i),o.scrollToMatch(a.main,e)],userEvent:"select.search"}),Cie(e),!0})),vie=gie((function(e,t){var n=t.query,r=e.state,i=r.selection.main.from,a=n.prevMatch(r,i,i);if(!a)return!1;var o=I1.single(a.from,a.to),s=e.state.facet(Jre);return e.dispatch({selection:o,effects:[Aie(e,a),s.scrollToMatch(o.main,e)],userEvent:"select.search"}),Cie(e),!0})),yie=gie((function(e,t){var n=t.query.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:I1.create(n.map((function(e){return I1.range(e.from,e.to)}))),userEvent:"select.search.matches"}),!0)})),bie=gie((function(e,t){var n=t.query,r=e.state,i=r.selection.main,a=i.from,o=i.to;if(r.readOnly)return!1;var s=n.nextMatch(r,a,a);if(!s)return!1;var l,c,u=s,d=[],p=[];u.from==a&&u.to==o&&(c=r.toText(n.getReplacement(u)),d.push({from:u.from,to:u.to,insert:c}),u=n.nextMatch(r,u.from,u.to),p.push(w8.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(a).number)+".")));var f=e.state.changes(d);return u&&(l=I1.single(u.from,u.to).map(f),p.push(Aie(e,u)),p.push(r.facet(Jre).scrollToMatch(l.main,e))),e.dispatch({changes:f,selection:l,effects:p,userEvent:"input.replace"}),!0})),xie=gie((function(e,t){var n=t.query;if(e.state.readOnly)return!1;var r=n.matchAll(e.state,1e9).map((function(e){return{from:e.from,to:e.to,insert:n.getReplacement(e)}}));if(!r.length)return!1;var i=e.state.phrase("replaced $ matches",r.length)+".";return e.dispatch({changes:r,effects:w8.announce.of(i),userEvent:"input.replace.all"}),!0}));function wie(e){return e.state.facet(Jre).createPanel(e)}function kie(e,t){var n,r,i,a,o,s=e.selection.main,l=s.empty||s.to>s.from+100?"":e.sliceDoc(s.from,s.to);if(t&&!l)return t;var c=e.facet(Jre);return new eie({search:(null!==(n=null===t||void 0===t?void 0:t.literal)&&void 0!==n?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null===t||void 0===t?void 0:t.caseSensitive)&&void 0!==r?r:c.caseSensitive,literal:null!==(i=null===t||void 0===t?void 0:t.literal)&&void 0!==i?i:c.literal,regexp:null!==(a=null===t||void 0===t?void 0:t.regexp)&&void 0!==a?a:c.regexp,wholeWord:null!==(o=null===t||void 0===t?void 0:t.wholeWord)&&void 0!==o?o:c.wholeWord})}function _ie(e){var t=D7(e,wie);return t&&t.dom.querySelector("[main-field]")}function Cie(e){var t=_ie(e);t&&t==e.root.activeElement&&t.select()}var jie=function(e){var t=e.state.field(uie,!1);if(t&&t.panel){var n=_ie(e);if(n&&n!=e.root.activeElement){var r=kie(e.state,t.query.spec);r.valid&&e.dispatch({effects:lie.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[cie.of(!0),t?lie.of(kie(e.state,t.query.spec)):f2.appendConfig.of(Pie)]});return!0},Sie=function(e){var t=e.state.field(uie,!1);if(!t||!t.panel)return!1;var n=D7(e,wie);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:cie.of(!1)}),!0},Zie=[{key:"Mod-f",run:jie,scope:"editor search-panel"},{key:"F3",run:mie,shift:vie,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:mie,shift:vie,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Sie,scope:"editor search-panel"},{key:"Mod-Shift-l",run:function(e){var t=e.state,n=e.dispatch,r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;for(var i=r.main,a=i.from,o=i.to,s=[],l=0,c=new Mre(t.doc,t.sliceDoc(a,o));!c.next().done;){if(s.length>1e3)return!1;c.value.from==a&&(l=s.length),s.push(I1.range(c.value.from,c.value.to))}return n(t.update({selection:I1.create(s,l),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:function(e){var t=D7(e,Vre);if(!t){var n=[Ure.of(!0)];null==e.state.field(Hre,!1)&&n.push(f2.appendConfig.of([Hre,Wre])),e.dispatch({effects:n}),t=D7(e,Vre)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:function(e){var t=e.state,n=e.dispatch,r=t.selection.ranges;if(r.some((function(e){return e.from===e.to})))return function(e){var t=e.state,n=e.dispatch,r=t.selection,i=I1.create(r.ranges.map((function(e){return t.wordAt(e.head)||I1.cursor(e.head)})),r.mainIndex);return!i.eq(r)&&(n(t.update({selection:i})),!0)}({state:t,dispatch:n});var i=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some((function(e){return t.sliceDoc(e.from,e.to)!=i})))return!1;var a=function(e,t){for(var n=e.selection,r=n.main,i=n.ranges,a=e.wordAt(r.head),o=a&&a.from==r.from&&a.to==r.to,s=function(n,r){if(r.next(),!r.done){if(n&&i.some((function(e){return e.from==r.value.from})))return c=r,l=n,"continue";if(o){var a=e.wordAt(r.value.from);if(!a||a.from!=r.value.from||a.to!=r.value.to)return c=r,l=n,"continue"}return l=n,c=r,{v:r.value}}if(n)return c=r,l=n,{v:null};r=new Mre(e.doc,t,0,Math.max(0,i[i.length-1].from-1)),l=n=!0,c=r},l=!1,c=new Mre(e.doc,t,i[i.length-1].to);;){var u=s(l,c);if("continue"!==u&&"object"===typeof u)return u.v}}(t,i);return!!a&&(n(t.update({selection:t.selection.addRange(I1.range(a.from,a.to),!1),effects:w8.scrollIntoView(a.to)})),!0)},preventDefault:!0}],Nie=function(){function e(t){var n=this;(0,Za.Z)(this,e),this.view=t;var r=this.query=t.state.field(uie).query.spec;function i(e,t,n){return Are("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=Are("input",{value:r.search,placeholder:Eie(t,"Find"),"aria-label":Eie(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Are("input",{value:r.replace,placeholder:Eie(t,"Replace"),"aria-label":Eie(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Are("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=Are("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=Are("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit}),this.dom=Are("div",{onkeydown:function(e){return n.keydown(e)},class:"cm-search"},[this.searchField,i("next",(function(){return mie(t)}),[Eie(t,"next")]),i("prev",(function(){return vie(t)}),[Eie(t,"previous")]),i("select",(function(){return yie(t)}),[Eie(t,"all")]),Are("label",null,[this.caseField,Eie(t,"match case")]),Are("label",null,[this.reField,Eie(t,"regexp")]),Are("label",null,[this.wordField,Eie(t,"by word")])].concat((0,we.Z)(t.state.readOnly?[]:[Are("br"),this.replaceField,i("replace",(function(){return bie(t)}),[Eie(t,"replace")]),i("replaceAll",(function(){return xie(t)}),[Eie(t,"replace all")])]),[Are("button",{name:"close",onclick:function(){return Sie(t)},"aria-label":Eie(t,"close"),type:"button"},["\xd7"])]))}return(0,Sa.Z)(e,[{key:"commit",value:function(){var e=new eie({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:lie.of(e)}))}},{key:"keydown",value:function(e){!function(e,t,n){return D8(T8(e.state),t,e,n)}(this.view,e,"search-panel")?13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?vie:mie)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),bie(this.view)):e.preventDefault()}},{key:"update",value:function(e){var t,n=(0,sp.Z)(e.transactions);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=(0,sp.Z)(i.effects);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.is(lie)&&!o.value.eq(this.query)&&this.setQuery(o.value)}}catch(s){a.e(s)}finally{a.f()}}}catch(s){n.e(s)}finally{n.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(Jre).top}}]),e}();function Eie(e,t){return e.state.phrase(t)}var Oie=/[\s\.,:;?!]/;function Aie(e,t){var n=t.from,r=t.to,i=e.state.doc.lineAt(n),a=e.state.doc.lineAt(r).to,o=Math.max(i.from,n-30),s=Math.min(a,r+30),l=e.state.sliceDoc(o,s);if(o!=i.from)for(var c=0;c<30;c++)if(!Oie.test(l[c+1])&&Oie.test(l[c])){l=l.slice(c);break}if(s!=a)for(var u=l.length-1;u>l.length-30;u--)if(!Oie.test(l[u-1])&&Oie.test(l[u])){l=l.slice(0,u);break}return w8.announce.of("".concat(e.state.phrase("current match"),". ").concat(l," ").concat(e.state.phrase("on line")," ").concat(i.number,"."))}var Tie=w8.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Pie=[uie,Q1.low(hie),Tie],Mie=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.state=t,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}return(0,Sa.Z)(e,[{key:"tokenBefore",value:function(e){for(var t=jee(this.state).resolveInner(this.pos,-1);t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}},{key:"matchBefore",value:function(e){var t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(Bie(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}},{key:"aborted",get:function(){return null==this.abortListeners}},{key:"addEventListener",value:function(e,t,n){"abort"==e&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}]),e}();function Iie(e){var t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}function Die(e){var t=e.map((function(e){return"string"==typeof e?{label:e}:e})),n=t.every((function(e){return/^\w+$/.test(e.label)}))?[/\w*$/,/\w+$/]:function(e){var t,n=Object.create(null),r=Object.create(null),i=(0,sp.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value.label;n[a[0]]=!0;for(var o=1;o<a.length;o++)r[a[o]]=!0}}catch(l){i.e(l)}finally{i.f()}var s=Iie(n)+Iie(r)+"*$";return[new RegExp("^"+s),new RegExp(s)]}(t),r=(0,xe.Z)(n,2),i=r[0],a=r[1];return function(e){var n=e.matchBefore(a);return n||e.explicit?{from:n?n.from:e.pos,options:t,validFor:i}:null}}var Lie=(0,Sa.Z)((function e(t,n,r,i){(0,Za.Z)(this,e),this.completion=t,this.source=n,this.match=r,this.score=i}));function Rie(e){return e.selection.main.from}function Bie(e,t){var n,r=e.source,i=t&&"^"!=r[0],a="$"!=r[r.length-1];return i||a?new RegExp("".concat(i?"^":"","(?:").concat(r,")").concat(a?"$":""),null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}var Fie=u2.define();var zie=new WeakMap;function Vie(e){if(!Array.isArray(e))return e;var t=zie.get(e);return t||zie.set(e,t=Die(e)),t}var Uie=f2.define(),Hie=f2.define(),Wie=function(){function e(t){(0,Za.Z)(this,e),this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(var n=0;n<t.length;){var r=w1(t,n),i=_1(r);this.chars.push(r);var a=t.slice(n,n+i),o=a.toUpperCase();this.folded.push(w1(o==a?a.toLowerCase():o,0)),n+=i}this.astral=t.length!=this.chars.length}return(0,Sa.Z)(e,[{key:"ret",value:function(e,t){return this.score=e,this.matched=t,this}},{key:"match",value:function(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;var t=this.chars,n=this.folded,r=this.any,i=this.precise,a=this.byWord;if(1==t.length){var o=w1(e,0),s=_1(o),l=s==e.length?0:-100;if(o==t[0]);else{if(o!=n[0])return null;l+=-200}return this.ret(l,[0,s])}var c=e.indexOf(this.pattern);if(0==c)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);var u=t.length,d=0;if(c<0){for(var p=0,f=Math.min(e.length,200);p<f&&d<u;){var h=w1(e,p);h!=t[d]&&h!=n[d]||(r[d++]=p),p+=_1(h)}if(d<u)return null}for(var g=0,m=0,v=!1,y=0,b=-1,x=-1,w=/[a-z]/.test(e),k=!0,_=0,C=Math.min(e.length,200),j=0;_<C&&m<u;){var S=w1(e,_);c<0&&(g<u&&S==t[g]&&(i[g++]=_),y<u&&(S==t[y]||S==n[y]?(0==y&&(b=_),x=_+1,y++):y=0));var Z=void 0,N=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(Z=k1(S))!=Z.toLowerCase()?1:Z!=Z.toUpperCase()?2:0;(!_||1==N&&w||0==j&&0!=N)&&(t[m]==S||n[m]==S&&(v=!0)?a[m++]=_:a.length&&(k=!1)),j=N,_+=_1(S)}return m==u&&0==a[0]&&k?this.result((v?-200:0)-100,a,e):y==u&&0==b?this.ret(-200-e.length+(x==e.length?0:-100),[0,x]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):y==u?this.ret(-900-e.length,[b,x]):m==u?this.result((v?-200:0)-100-700+(k?0:-1100),a,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}},{key:"result",value:function(e,t,n){var r,i=[],a=0,o=(0,sp.Z)(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,l=s+(this.astral?_1(w1(n,s)):1);a&&i[a-1]==s?i[a-1]=l:(i[a++]=s,i[a++]=l)}}catch(c){o.e(c)}finally{o.f()}return this.ret(e-n.length,i)}}]),e}(),qie=function(){function e(t){(0,Za.Z)(this,e),this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}return(0,Sa.Z)(e,[{key:"match",value:function(e){if(e.length<this.pattern.length)return null;var t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return null==n?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}]),e}(),Kie=R1.define({combine:function(e){return S2(e,{activateOnTyping:!0,activateOnCompletion:function(){return!1},activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:function(){return""},optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Gie,filterStrict:!1,compareCompletions:function(e,t){return e.label.localeCompare(t.label)},interactionDelay:75,updateSyncTime:100},{defaultKeymap:function(e,t){return e&&t},closeOnBlur:function(e,t){return e&&t},icons:function(e,t){return e&&t},tooltipClass:function(e,t){return function(n){return Yie(e(n),t(n))}},optionClass:function(e,t){return function(n){return Yie(e(n),t(n))}},addToOptions:function(e,t){return e.concat(t)},filterStrict:function(e,t){return e||t}})}});function Yie(e,t){return e?t?e+" "+t:e:t}function Gie(e,t,n,r,i,a){var o,s,l=e.textDirection==x4.RTL,c=l,u=!1,d="top",p=t.left-i.left,f=i.right-t.right,h=r.right-r.left,g=r.bottom-r.top;if(c&&p<Math.min(h,f)?c=!1:!c&&f<Math.min(h,p)&&(c=!0),h<=(c?p:f))o=Math.max(i.top,Math.min(n.top,i.bottom-g))-t.top,s=Math.min(400,c?p:f);else{u=!0,s=Math.min(400,(l?t.right:i.right-t.left)-30);var m=i.bottom-t.bottom;m>=g||m>t.top?o=n.bottom-t.top:(d="bottom",o=t.bottom-n.top)}var v=(t.bottom-t.top)/a.offsetHeight,y=(t.right-t.left)/a.offsetWidth;return{style:"".concat(d,": ").concat(o/v,"px; max-width: ").concat(s/y,"px"),class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":c?"left":"right")}}function Qie(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){var r=Math.floor(t/n);return{from:r*n,to:(r+1)*n}}var i=Math.floor((e-t)/n);return{from:e-(i+1)*n,to:e-i*n}}var Xie=function(){function e(t,n,r){var i=this;(0,Za.Z)(this,e),this.view=t,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:function(){return i.measureInfo()},write:function(e){return i.placeInfo(e)},key:this},this.space=null,this.currentClass="";var a=t.state.field(n),o=a.open,s=o.options,l=o.selected,c=t.state.facet(Kie);this.optionContent=function(e){var t=e.addToOptions.slice();return e.icons&&t.push({render:function(e){var t,n=document.createElement("div");return n.classList.add("cm-completionIcon"),e.type&&(t=n.classList).add.apply(t,(0,we.Z)(e.type.split(/\s+/g).map((function(e){return"cm-completionIcon-"+e})))),n.setAttribute("aria-hidden","true"),n},position:20}),t.push({render:function(e,t,n,r){var i=document.createElement("span");i.className="cm-completionLabel";for(var a=e.displayLabel||e.label,o=0,s=0;s<r.length;){var l=r[s++],c=r[s++];l>o&&i.appendChild(document.createTextNode(a.slice(o,l)));var u=i.appendChild(document.createElement("span"));u.appendChild(document.createTextNode(a.slice(l,c))),u.className="cm-completionMatchedText",o=c}return o<a.length&&i.appendChild(document.createTextNode(a.slice(o))),i},position:50},{render:function(e){if(!e.detail)return null;var t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort((function(e,t){return e.position-t.position})).map((function(e){return e.render}))}(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=Qie(s.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(function(e){for(var r,a=t.state.field(n).open.options,o=e.target;o&&o!=i.dom;o=o.parentNode)if("LI"==o.nodeName&&(r=/-(\d+)$/.exec(o.id))&&+r[1]<a.length)return i.applyCompletion(t,a[+r[1]]),void e.preventDefault()})),this.dom.addEventListener("focusout",(function(e){var n=t.state.field(i.stateField,!1);n&&n.tooltip&&t.state.facet(Kie).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:Hie.of(null)})})),this.showOptions(s,a.id)}return(0,Sa.Z)(e,[{key:"mount",value:function(){this.updateSel()}},{key:"showOptions",value:function(e,t){var n=this;this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",(function(){n.info&&n.view.requestMeasure(n.placeInfoReq)}))}},{key:"update",value:function(e){var t,n=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=r){var i=n.open,a=i.options,o=i.selected,s=i.disabled;r.open&&r.open.options==a||(this.range=Qie(a.length,o,e.state.facet(Kie).maxRenderedOptions),this.showOptions(a,n.id)),this.updateSel(),s!=(null===(t=r.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}},{key:"updateTooltipClass",value:function(e){var t=this.tooltipClass(e);if(t!=this.currentClass){var n,r=(0,sp.Z)(this.currentClass.split(" "));try{for(r.s();!(n=r.n()).done;){var i=n.value;i&&this.dom.classList.remove(i)}}catch(l){r.e(l)}finally{r.f()}var a,o=(0,sp.Z)(t.split(" "));try{for(o.s();!(a=o.n()).done;){var s=a.value;s&&this.dom.classList.add(s)}}catch(l){o.e(l)}finally{o.f()}this.currentClass=t}}},{key:"positioned",value:function(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}},{key:"updateSel",value:function(){var e=this,t=this.view.state.field(this.stateField),n=t.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Qie(n.options.length,n.selected,this.view.state.facet(Kie).maxRenderedOptions),this.showOptions(n.options,t.id));var r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();var i=n.options[n.selected].completion,a=i.info;if(!a)return;var o="string"===typeof a?document.createTextNode(a):a(i);if(!o)return;"then"in o?o.then((function(n){n&&e.view.state.field(e.stateField,!1)==t&&e.addInfoPane(n,i)})).catch((function(t){return o5(e.view.state,t,"completion info")})):(this.addInfoPane(o,i),r.setAttribute("aria-describedby",this.info.id))}}},{key:"addInfoPane",value:function(e,t){this.destroyInfo();var n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",n.id="cm-completionInfo-"+Math.floor(65535*Math.random()).toString(16),null!=e.nodeType)n.appendChild(e),this.infoDestroy=null;else{var r=e.dom,i=e.destroy;n.appendChild(r),this.infoDestroy=i||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}},{key:"updateSelectedOption",value:function(e){for(var t=null,n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&(n.removeAttribute("aria-selected"),n.removeAttribute("aria-describedby")):r--;return t&&function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/i)}(this.list,t),t}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.space;if(!i){var a=this.dom.ownerDocument.documentElement;i={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return r.top>Math.min(i.bottom,t.bottom)-10||r.bottom<Math.max(i.top,t.top)+10?null:this.view.state.facet(Kie).positionInfo(this.view,t,r,n,i,this.dom)}},{key:"placeInfo",value:function(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}},{key:"createListBox",value:function(e,t,n){var r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions")),r.addEventListener("mousedown",(function(e){e.target==r&&e.preventDefault()}));for(var i=null,a=n.from;a<n.to;a++){var o=e[a],s=o.completion,l=o.match,c=s.section;if(c){var u="string"==typeof c?c:c.name;if(u!=i&&(a>n.from||0==n.from))if(i=u,"string"!=typeof c&&c.header)r.appendChild(c.header(c));else r.appendChild(document.createElement("completion-section")).textContent=u}var d=r.appendChild(document.createElement("li"));d.id=t+"-"+a,d.setAttribute("role","option");var p=this.optionClass(s);p&&(d.className=p);var f,h=(0,sp.Z)(this.optionContent);try{for(h.s();!(f=h.n()).done;){var g=(0,f.value)(s,this.view.state,this.view,l);g&&d.appendChild(g)}}catch(m){h.e(m)}finally{h.f()}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}},{key:"destroyInfo",value:function(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}},{key:"destroy",value:function(){this.destroyInfo()}}]),e}();function $ie(e,t){return function(n){return new Xie(n,e,t)}}function Jie(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}var eae=function(){function e(t,n,r,i,a,o){(0,Za.Z)(this,e),this.options=t,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=a,this.disabled=o}return(0,Sa.Z)(e,[{key:"setSelected",value:function(t,n){return t==this.selected||t>=this.options.length?this:new e(this.options,iae(n,t),this.tooltip,this.timestamp,t,this.disabled)}},{key:"map",value:function(t){return new e(this.options,this.attrs,(0,kn.Z)((0,kn.Z)({},this.tooltip),{},{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}},{key:"setDisabled",value:function(){return new e(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}],[{key:"build",value:function(t,n,r,i,a,o){if(i&&!o&&t.some((function(e){return e.isPending})))return i.setDisabled();var s=function(e,t){var n,r=[],i=null,a=null,o=function(e){r.push(e);var t=e.completion.section;if(t){i||(i=[]);var n="string"==typeof t?t:t.name;i.some((function(e){return e.name==n}))||i.push("string"==typeof t?{name:n}:t)}},s=t.facet(Kie),l=(0,sp.Z)(e);try{for(l.s();!(n=l.n()).done;){var c=n.value;if(c.hasResult()){var u=c.result.getMatch;if(!1===c.result.filter){var d,p=(0,sp.Z)(c.result.options);try{for(p.s();!(d=p.n()).done;){var f=d.value;o(new Lie(f,c.source,u?u(f):[],1e9-r.length))}}catch(B){p.e(B)}finally{p.f()}}else{var h,g=t.sliceDoc(c.from,c.to),m=void 0,v=s.filterStrict?new qie(g):new Wie(g),y=(0,sp.Z)(c.result.options);try{for(y.s();!(h=y.n()).done;){var b=h.value;if(m=v.match(b.label)){var x=b.displayLabel?u?u(b,m.matched):[]:m.matched,w=m.score+(b.boost||0);if(o(new Lie(b,c.source,x,w)),"object"==typeof b.section&&"dynamic"===b.section.rank){var k=b.section.name;a||(a=Object.create(null)),a[k]=Math.max(w,a[k]||-1e9)}}}}catch(B){y.e(B)}finally{y.f()}}}}}catch(B){l.e(B)}finally{l.f()}if(i){var _,C=Object.create(null),j=0,S=(0,sp.Z)(i.sort((function(e,t){return("dynamic"===e.rank&&"dynamic"===t.rank?a[t.name]-a[e.name]:0)||("number"==typeof e.rank?e.rank:1e9)-("number"==typeof t.rank?t.rank:1e9)||(e.name<t.name?-1:1)})));try{for(S.s();!(_=S.n()).done;){var Z=_.value;j-=1e5,C[Z.name]=j}}catch(B){S.e(B)}finally{S.f()}var N,E=(0,sp.Z)(r);try{for(E.s();!(N=E.n()).done;){var O=N.value,A=O.completion.section;A&&(O.score+=C["string"==typeof A?A:A.name])}}catch(B){E.e(B)}finally{E.f()}}var T,P=[],M=null,I=s.compareCompletions,D=(0,sp.Z)(r.sort((function(e,t){return t.score-e.score||I(e.completion,t.completion)})));try{for(D.s();!(T=D.n()).done;){var L=T.value,R=L.completion;!M||M.label!=R.label||M.detail!=R.detail||null!=M.type&&null!=R.type&&M.type!=R.type||M.apply!=R.apply||M.boost!=R.boost?P.push(L):Jie(L.completion)>Jie(M)&&(P[P.length-1]=L),M=L.completion}}catch(B){D.e(B)}finally{D.f()}return P}(t,n);if(!s.length)return i&&t.some((function(e){return e.isPending}))?i.setDisabled():null;var l=n.facet(Kie).selectOnOpen?0:-1;if(i&&i.selected!=l&&-1!=i.selected)for(var c=i.options[i.selected].completion,u=0;u<s.length;u++)if(s[u].completion==c){l=u;break}return new e(s,iae(r,l),{pos:t.reduce((function(e,t){return t.hasResult()?Math.min(e,t.from):e}),1e8),create:fae,above:a.aboveCursor},i?i.timestamp:Date.now(),l,!1)}}]),e}(),tae=function(){function e(t,n,r){(0,Za.Z)(this,e),this.active=t,this.id=n,this.open=r}return(0,Sa.Z)(e,[{key:"update",value:function(t){var n=this,r=t.state,i=r.facet(Kie),a=(i.override||r.languageDataAt("autocomplete",Rie(r)).map(Vie)).map((function(e){var r=n.active.find((function(t){return t.source==e}))||new sae(e,n.active.some((function(e){return 0!=e.state}))?1:0);return r.update(t,i)}));a.length==this.active.length&&a.every((function(e,t){return e==n.active[t]}))&&(a=this.active);var o=this.open,s=t.effects.some((function(e){return e.is(cae)}));o&&t.docChanged&&(o=o.map(t.changes)),t.selection||a.some((function(e){return e.hasResult()&&t.changes.touchesRange(e.from,e.to)}))||!function(e,t){if(e==t)return!0;for(var n=0,r=0;;){for(;n<e.length&&!e[n].hasResult();)n++;for(;r<t.length&&!t[r].hasResult();)r++;var i=n==e.length,a=r==t.length;if(i||a)return i==a;if(e[n++].result!=t[r++].result)return!1}}(a,this.active)||s?o=eae.build(a,r,this.id,o,i,s):o&&o.disabled&&!a.some((function(e){return e.isPending}))&&(o=null),!o&&a.every((function(e){return!e.isPending}))&&a.some((function(e){return e.hasResult()}))&&(a=a.map((function(e){return e.hasResult()?new sae(e.source,0):e})));var l,c=(0,sp.Z)(t.effects);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.is(uae)&&(o=o&&o.setSelected(u.value,this.id))}}catch(d){c.e(d)}finally{c.f()}return a==this.active&&o==this.open?this:new e(a,this.id,o)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:this.active.length?nae:rae}}],[{key:"start",value:function(){return new e(aae,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}]),e}();var nae={"aria-autocomplete":"list"},rae={};function iae(e,t){var n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}var aae=[];function oae(e,t){if(e.isUserEvent("input.complete")){var n=e.annotation(Fie);if(n&&t.activateOnCompletion(n))return 12}var r=e.isUserEvent("input.type");return r&&t.activateOnTyping?5:r?1:e.isUserEvent("delete.backward")?2:e.selection?8:e.docChanged?16:0}var sae=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,Za.Z)(this,e),this.source=t,this.state=n,this.explicit=r}return(0,Sa.Z)(e,[{key:"hasResult",value:function(){return!1}},{key:"isPending",get:function(){return 1==this.state}},{key:"update",value:function(t,n){var r=oae(t,n),i=this;(8&r||16&r&&this.touches(t))&&(i=new e(i.source,0)),4&r&&0==i.state&&(i=new e(this.source,1)),i=i.updateFor(t,r);var a,o=(0,sp.Z)(t.effects);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s.is(Uie))i=new e(i.source,1,s.value);else if(s.is(Hie))i=new e(i.source,0);else if(s.is(cae)){var l,c=(0,sp.Z)(s.value);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.source==i.source&&(i=u)}}catch(d){c.e(d)}finally{c.f()}}}}catch(d){o.e(d)}finally{o.f()}return i}},{key:"updateFor",value:function(e,t){return this.map(e.changes)}},{key:"map",value:function(e){return this}},{key:"touches",value:function(e){return e.changes.touchesRange(Rie(e.state))}}]),e}(),lae=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e,r,i,a,o,s){var l;return(0,Za.Z)(this,n),(l=t.call(this,e,3,r)).limit=i,l.result=a,l.from=o,l.to=s,l}return(0,Sa.Z)(n,[{key:"hasResult",value:function(){return!0}},{key:"updateFor",value:function(e,t){var r;if(!(3&t))return this.map(e.changes);var i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));var a=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),s=Rie(e.state);if(s>o||!i||2&t&&(Rie(e.startState)==this.from||s<this.limit))return new sae(this.source,4&t?1:0);var l=e.changes.mapPos(this.limit);return function(e,t,n,r){if(!e)return!1;var i=t.sliceDoc(n,r);return"function"==typeof e?e(i,n,r,t):Bie(e,!0).test(i)}(i.validFor,e.state,a,o)?new n(this.source,this.explicit,l,i,a,o):i.update&&(i=i.update(i,a,o,new Mie(e.state,s,!1)))?new n(this.source,this.explicit,l,i,i.from,null!==(r=i.to)&&void 0!==r?r:Rie(e.state)):new sae(this.source,1,this.explicit)}},{key:"map",value:function(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new n(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new sae(this.source,0)}},{key:"touches",value:function(e){return e.changes.touchesRange(this.from,this.to)}}]),n}(sae);var cae=f2.define({map:function(e,t){return e.map((function(e){return e.map(t)}))}}),uae=f2.define(),dae=H1.define({create:function(){return tae.start()},update:function(e,t){return e.update(t)},provide:function(e){return[Z7.from(e,(function(e){return e.tooltip})),w8.contentAttributes.from(e,(function(e){return e.attrs}))]}});function pae(e,t){var n=t.completion.apply||t.completion.label,r=e.state.field(dae).active.find((function(e){return e.source==t.source}));return r instanceof lae&&("string"==typeof n?e.dispatch((0,kn.Z)((0,kn.Z)({},function(e,t,n,r){var i=e.selection.main,a=n-i.from,o=r-i.from;return(0,kn.Z)((0,kn.Z)({},e.changeByRange((function(s){if(s!=i&&n!=r&&e.sliceDoc(s.from+a,s.from+o)!=e.sliceDoc(n,r))return{range:s};var l=e.toText(t);return{changes:{from:s.from+a,to:r==i.from?s.to:s.from+o,insert:l},range:I1.cursor(s.from+a+l.length)}}))),{},{scrollIntoView:!0,userEvent:"input.complete"})}(e.state,n,r.from,r.to)),{},{annotations:Fie.of(t.completion)})):n(e,t.completion,r.from,r.to),!0)}var fae=$ie(dae,pae);function hae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return function(n){var r=n.state.field(dae,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Kie).interactionDelay)return!1;var i,a=1;"page"==t&&(i=P7(n,r.open.tooltip))&&(a=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));var o=r.open.options.length,s=r.open.selected>-1?r.open.selected+a*(e?1:-1):e?0:o-1;return s<0?s="page"==t?0:o-1:s>=o&&(s="page"==t?o-1:0),n.dispatch({effects:uae.of(s)}),!0}}var gae=function(e){return!!e.state.field(dae,!1)&&(e.dispatch({effects:Uie.of(!0)}),!0)},mae=(0,Sa.Z)((function e(t,n){(0,Za.Z)(this,e),this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0})),vae=u5.fromClass(function(){function e(t){(0,Za.Z)(this,e),this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;var n,r=(0,sp.Z)(t.state.field(dae).active);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isPending&&this.startQuery(i)}}catch(a){r.e(a)}finally{r.f()}}return(0,Sa.Z)(e,[{key:"update",value:function(e){var t=this,n=e.state.field(dae),r=e.state.facet(Kie);if(e.selectionSet||e.docChanged||e.startState.field(dae)!=n){for(var i=e.transactions.some((function(e){var t=oae(e,r);return 8&t||(e.selection||e.docChanged)&&!(3&t)})),a=0;a<this.running.length;a++){var o=this.running[a];if(i||o.context.abortOnDocChange&&e.docChanged||o.updates.length+e.transactions.length>50&&Date.now()-o.time>1e3){var s,l=(0,sp.Z)(o.context.abortListeners);try{for(l.s();!(s=l.n()).done;){var c=s.value;try{c()}catch(g){o5(this.view.state,g)}}}catch(m){l.e(m)}finally{l.f()}o.context.abortListeners=null,this.running.splice(a--,1)}else{var u;(u=o.updates).push.apply(u,(0,we.Z)(e.transactions))}}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some((function(e){return e.effects.some((function(e){return e.is(Uie)}))}))&&(this.pendingStart=!0);var d=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=n.active.some((function(e){return e.isPending&&!t.running.some((function(t){return t.active.source==e.source}))}))?setTimeout((function(){return t.startUpdate()}),d):-1,0!=this.composing){var p,f=(0,sp.Z)(e.transactions);try{for(f.s();!(p=f.n()).done;){var h=p.value;h.isUserEvent("input.type")?this.composing=2:2==this.composing&&h.selection&&(this.composing=3)}}catch(m){f.e(m)}finally{f.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1,this.pendingStart=!1;var t,n=this.view.state.field(dae),r=(0,sp.Z)(n.active);try{var i=function(){var n=t.value;n.isPending&&!e.running.some((function(e){return e.active.source==n.source}))&&e.startQuery(n)};for(r.s();!(t=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}this.running.length&&n.open&&n.open.disabled&&(this.debounceAccept=setTimeout((function(){return e.accept()}),this.view.state.facet(Kie).updateSyncTime))}},{key:"startQuery",value:function(e){var t=this,n=this.view.state,r=Rie(n),i=new Mie(n,r,e.explicit,this.view),a=new mae(e,i);this.running.push(a),Promise.resolve(e.source(i)).then((function(e){a.context.aborted||(a.done=e||null,t.scheduleAccept())}),(function(e){t.view.dispatch({effects:Hie.of(null)}),o5(t.view.state,e)}))}},{key:"scheduleAccept",value:function(){var e=this;this.running.every((function(e){return void 0!==e.done}))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((function(){return e.accept()}),this.view.state.facet(Kie).updateSyncTime))}},{key:"accept",value:function(){var e,t=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var n=[],r=this.view.state.facet(Kie),i=this.view.state.field(dae),a=function(a){var s=t.running[a];if(void 0===s.done)return o=a,"continue";if(t.running.splice(a--,1),s.done){var l,c=Rie(s.updates.length?s.updates[0].startState:t.view.state),u=Math.min(c,s.done.from+(s.active.explicit?0:1)),d=new lae(s.active.source,s.active.explicit,u,s.done,s.done.from,null!==(e=s.done.to)&&void 0!==e?e:c),p=(0,sp.Z)(s.updates);try{for(p.s();!(l=p.n()).done;){var f=l.value;d=d.update(f,r)}}catch(b){p.e(b)}finally{p.f()}if(d.hasResult())return n.push(d),o=a,"continue"}var h=i.active.find((function(e){return e.source==s.active.source}));if(h&&h.isPending)if(null==s.done){var g,m=new sae(s.active.source,0),v=(0,sp.Z)(s.updates);try{for(v.s();!(g=v.n()).done;){var y=g.value;m=m.update(y,r)}}catch(b){v.e(b)}finally{v.f()}m.isPending||n.push(m)}else t.startQuery(h);o=a},o=0;o<this.running.length;o++)a(o);(n.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:cae.of(n)})}}]),e}(),{eventHandlers:{blur:function(e){var t=this,n=this.view.state.field(dae,!1);if(n&&n.tooltip&&this.view.state.facet(Kie).closeOnBlur){var r=n.open&&P7(this.view,n.open.tooltip);r&&r.dom.contains(e.relatedTarget)||setTimeout((function(){return t.view.dispatch({effects:Hie.of(null)})}),10)}},compositionstart:function(){this.composing=1},compositionend:function(){var e=this;3==this.composing&&setTimeout((function(){return e.view.dispatch({effects:Uie.of(!1)})}),20),this.composing=0}}}),yae="object"==typeof navigator&&/Win/.test(navigator.platform),bae=Q1.highest(w8.domEventHandlers({keydown:function(e,t){var n=t.state.field(dae,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||e.key.length>1||e.ctrlKey&&(!yae||!e.altKey)||e.metaKey)return!1;var r=n.open.options[n.open.selected],i=n.active.find((function(e){return e.source==r.source})),a=r.completion.commitCharacters||i.result.commitCharacters;return a&&a.indexOf(e.key)>-1&&pae(t,r),!1}})),xae=w8.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});var wae={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},kae=f2.define({map:function(e,t){var n=t.mapPos(e,-1,j1.TrackAfter);return null==n?void 0:n}}),_ae=new(function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(){return(0,Za.Z)(this,n),t.apply(this,arguments)}return(0,Sa.Z)(n)}(Z2));_ae.startSide=1,_ae.endSide=-1;var Cae=H1.define({create:function(){return A2.empty},update:function(e,t){if(e=e.map(t.changes),t.selection){var n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:function(e){return e>=n.from&&e<=n.to}})}var r,i=(0,sp.Z)(t.effects);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.is(kae)&&(e=e.update({add:[_ae.range(a.value,a.value+1)]}))}}catch(o){i.e(o)}finally{i.f()}return e}});var jae="()[]{}<>\xab\xbb\xbb\xab\uff3b\uff3d\uff5b\uff5d";function Sae(e){for(var t=0;t<jae.length;t+=2)if(jae.charCodeAt(t)==e)return jae.charAt(t+1);return k1(e<128?e:e+1)}function Zae(e,t){return e.languageDataAt("closeBrackets",t)[0]||wae}var Nae="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Eae=w8.inputHandler.of((function(e,t,n,r){if((Nae?e.composing:e.compositionStarted)||e.state.readOnly)return!1;var i=e.state.selection.main;if(r.length>2||2==r.length&&1==_1(w1(r,0))||t!=i.from||n!=i.to)return!1;var a=function(e,t){var n,r=Zae(e,e.selection.main.head),i=r.brackets||wae.brackets,a=(0,sp.Z)(i);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=Sae(w1(o,0));if(t==o)return s==o?Iae(e,o,i.indexOf(o+o+o)>-1,r):Pae(e,o,s,r.before||wae.before);if(t==s&&Aae(e,e.selection.main.from))return Mae(e,o,s)}}catch(l){a.e(l)}finally{a.f()}return null}(e.state,r);return!!a&&(e.dispatch(a),!0)})),Oae=[{key:"Backspace",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=Zae(t,t.selection.main.head).brackets||wae.brackets,i=null,a=t.changeByRange((function(e){if(e.empty){var n,a=function(e,t){var n=e.sliceString(t-2,t);return _1(w1(n,0))==n.length?n:n.slice(1)}(t.doc,e.head),o=(0,sp.Z)(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s==a&&Tae(t.doc,e.head)==Sae(w1(s,0)))return{changes:{from:e.head-s.length,to:e.head+s.length},range:I1.cursor(e.head-s.length)}}}catch(l){o.e(l)}finally{o.f()}}return{range:i=e}}));return i||n(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!i}}];function Aae(e,t){var n=!1;return e.field(Cae).between(0,e.doc.length,(function(e){e==t&&(n=!0)})),n}function Tae(e,t){var n=e.sliceString(t,t+2);return n.slice(0,_1(w1(n,0)))}function Pae(e,t,n,r){var i=null,a=e.changeByRange((function(a){if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:n,from:a.to}],effects:kae.of(a.to+t.length),range:I1.range(a.anchor+t.length,a.head+t.length)};var o=Tae(e.doc,a.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:t+n,from:a.head},effects:kae.of(a.head+t.length),range:I1.cursor(a.head+t.length)}:{range:i=a}}));return i?null:e.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function Mae(e,t,n){var r=null,i=e.changeByRange((function(t){return t.empty&&Tae(e.doc,t.head)==n?{changes:{from:t.head,to:t.head+n.length,insert:n},range:I1.cursor(t.head+n.length)}:r={range:t}}));return r?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Iae(e,t,n,r){var i=r.stringPrefixes||wae.stringPrefixes,a=null,o=e.changeByRange((function(r){if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:kae.of(r.to+t.length),range:I1.range(r.anchor+t.length,r.head+t.length)};var o,s=r.head,l=Tae(e.doc,s);if(l==t){if(Dae(e,s))return{changes:{insert:t+t,from:s},effects:kae.of(s+t.length),range:I1.cursor(s+t.length)};if(Aae(e,s)){var c=n&&e.sliceDoc(s,s+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:s,to:s+c.length,insert:c},range:I1.cursor(s+c.length)}}}else{if(n&&e.sliceDoc(s-2*t.length,s)==t+t&&(o=Lae(e,s-2*t.length,i))>-1&&Dae(e,o))return{changes:{insert:t+t+t+t,from:s},effects:kae.of(s+t.length),range:I1.cursor(s+t.length)};if(e.charCategorizer(s)(l)!=k2.Word&&Lae(e,s,i)>-1&&!function(e,t,n,r){for(var i=jee(e).resolveInner(t,-1),a=r.reduce((function(e,t){return Math.max(e,t.length)}),0),o=0;o<5;o++){var s=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+a)),l=s.indexOf(n);if(!l||l>-1&&r.indexOf(s.slice(0,l))>-1){for(var c=i.firstChild;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(e.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}var u=i.to==t&&i.parent;if(!u)break;i=u}return!1}(e,s,t,i))return{changes:{insert:t+t,from:s},effects:kae.of(s+t.length),range:I1.cursor(s+t.length)}}return{range:a=r}}));return a?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Dae(e,t){var n=jee(e).resolveInner(t+1);return n.parent&&n.from==t}function Lae(e,t,n){var r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=k2.Word)return t;var i,a=(0,sp.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=t-o.length;if(e.sliceDoc(s,t)==o&&r(e.sliceDoc(s-1,s))!=k2.Word)return s}}catch(l){a.e(l)}finally{a.f()}return-1}var Rae=[{key:"Ctrl-Space",run:gae},{mac:"Alt-`",run:gae},{mac:"Alt-i",run:gae},{key:"Escape",run:function(e){var t=e.state.field(dae,!1);return!(!t||!t.active.some((function(e){return 0!=e.state})))&&(e.dispatch({effects:Hie.of(null)}),!0)}},{key:"ArrowDown",run:hae(!0)},{key:"ArrowUp",run:hae(!1)},{key:"PageDown",run:hae(!0,"page")},{key:"PageUp",run:hae(!1,"page")},{key:"Enter",run:function(e){var t=e.state.field(dae,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(Kie).interactionDelay)&&pae(e,t.open.options[t.open.selected])}}],Bae=Q1.highest(O8.computeN([Kie],(function(e){return e.facet(Kie).defaultKeymap?[Rae]:[]})));var Fae=(0,Sa.Z)((function e(t,n,r){(0,Za.Z)(this,e),this.from=t,this.to=n,this.diagnostic=r})),zae=function(){function e(t,n,r){(0,Za.Z)(this,e),this.diagnostics=t,this.panel=n,this.selected=r}return(0,Sa.Z)(e,null,[{key:"init",value:function(t,n,r){var i=r.facet(eoe).markerFilter;i&&(t=i(t,r));for(var a=t.slice().sort((function(e,t){return e.from-t.from||e.to-t.to})),o=new P2,s=[],l=0,c=r.doc.iter(),u=0,d=r.doc.length,p=function(e){var t=e==a.length?null:a[e];if(!t&&!s.length)return f=e,"break";var n=void 0,r=void 0;if(s.length)n=l,r=s.reduce((function(e,t){return Math.min(e,t.to)}),t&&t.from>n?t.from:1e8);else{if((n=t.from)>d)return f=e,"break";r=t.to,s.push(t),e++}for(;e<a.length;){var i=a[e];if(i.from!=n||!(i.to>i.from||i.to==n)){r=Math.min(i.from,r);break}s.push(i),e++,r=Math.min(i.to,r)}r=Math.min(r,d);var p=!1;if(s.some((function(e){return e.from==n&&(e.to==r||r==d)}))&&!(p=n==r)&&r-n<10){var h=n-(u+c.value.length);h>0&&(c.next(h),u=n);for(var g=n;;){if(g>=r){p=!0;break}if(!c.lineBreak&&u+c.value.length>g)break;g=u+c.value.length,u+=c.value.length,c.next()}}var m=doe(s);if(p)o.add(n,n,l4.widget({widget:new ioe(m),diagnostics:s.slice()}));else{var v=s.reduce((function(e,t){return t.markClass?e+" "+t.markClass:e}),"");o.add(n,r,l4.mark({class:"cm-lintRange cm-lintRange-"+m+v,diagnostics:s.slice(),inclusiveEnd:s.some((function(e){return e.to>r}))}))}if((l=r)==d)return f=e,"break";for(var y=0;y<s.length;y++)s[y].to<=l&&s.splice(y--,1);f=e},f=0;;){if("break"===p(f))break}var h=o.finish();return new e(h,n,Vae(h))}}]),e}();function Vae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null;return e.between(n,1e9,(function(e,n,i){var a=i.spec;if(!(t&&a.diagnostics.indexOf(t)<0))if(r){if(a.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new Fae(r.from,n,r.diagnostic)}else r=new Fae(e,n,t||a.diagnostics[0])})),r}function Uae(e,t){var n=t.pos,r=t.end||n,i=e.state.facet(eoe).hideOn(e,n,r);if(null!=i)return i;var a=e.startState.doc.lineAt(t.pos);return!(!e.effects.some((function(e){return e.is(Wae)}))&&!e.changes.touchesRange(a.from,Math.max(a.to,r)))}function Hae(e,t){return e.field(Yae,!1)?t:t.concat(f2.appendConfig.of(poe))}var Wae=f2.define(),qae=f2.define(),Kae=f2.define(),Yae=H1.define({create:function(){return new zae(l4.none,null,null)},update:function(e,t){if(t.docChanged&&e.diagnostics.size){var n=e.diagnostics.map(t.changes),r=null,i=e.panel;if(e.selected){var a=t.changes.mapPos(e.selected.from,1);r=Vae(n,e.selected.diagnostic,a)||Vae(n,null,a)}!n.size&&i&&t.state.facet(eoe).autoPanel&&(i=null),e=new zae(n,i,r)}var o,s=(0,sp.Z)(t.effects);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l.is(Wae)){var c=t.state.facet(eoe).autoPanel?l.value.length?ooe.open:null:e.panel;e=zae.init(l.value,c,t.state)}else l.is(qae)?e=new zae(e.diagnostics,l.value?ooe.open:null,e.selected):l.is(Kae)&&(e=new zae(e.diagnostics,e.panel,l.value))}}catch(u){s.e(u)}finally{s.f()}return e},provide:function(e){return[F7.from(e,(function(e){return e.panel})),w8.decorations.from(e,(function(e){return e.diagnostics}))]}});var Gae=l4.mark({class:"cm-lintRange cm-lintRange-active"});function Qae(e,t,n){var r,i=e.state.field(Yae).diagnostics,a=-1,o=-1;i.between(t-(n<0?1:0),t+(n>0?1:0),(function(e,i,s){var l=s.spec;if(t>=e&&t<=i&&(e==i||(t>e||n>0)&&(t<i||n<0)))return r=l.diagnostics,a=e,o=i,!1}));var s=e.state.facet(eoe).tooltipFilter;return r&&s&&(r=s(r,e.state)),r?{pos:a,end:o,above:e.state.doc.lineAt(a).to<o,create:function(){return{dom:Xae(e,r)}}}:null}function Xae(e,t){return Are("ul",{class:"cm-tooltip-lint"},t.map((function(t){return roe(e,t,!1)})))}var $ae=function(e){var t=e.state.field(Yae,!1);return!(!t||!t.panel)&&(e.dispatch({effects:qae.of(!1)}),!0)},Jae=[{key:"Mod-Shift-m",run:function(e){var t=e.state.field(Yae,!1);t&&t.panel||e.dispatch({effects:Hae(e.state,[qae.of(!0)])});var n=D7(e,ooe.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:function(e){var t=e.state.field(Yae,!1);if(!t)return!1;var n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(!(r=t.diagnostics.iter(0)).value||r.from==n.from&&r.to==n.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}];var eoe=R1.define({combine:function(e){return(0,kn.Z)({sources:e.map((function(e){return e.source})).filter((function(e){return null!=e}))},S2(e.map((function(e){return e.config})),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:function(){return null}},{delay:Math.max,markerFilter:toe,tooltipFilter:toe,needsRefresh:function(e,t){return e?t?function(n){return e(n)||t(n)}:e:t},hideOn:function(e,t){return e?t?function(n,r,i){return e(n,r,i)||t(n,r,i)}:e:t},autoPanel:function(e,t){return e||t}}))}});function toe(e,t){return e?t?function(n,r){return t(e(n,r),r)}:e:t}function noe(e){var t=[];if(e){var n,r=(0,sp.Z)(e);try{e:for(r.s();!(n=r.n()).done;){for(var i=n.value.name,a=function(e){var n=i[e];if(/[a-zA-Z]/.test(n)&&!t.some((function(e){return e.toLowerCase()==n.toLowerCase()})))return t.push(n),"continue|actions"},o=0;o<i.length;o++){if("continue|actions"===a(o))continue e}t.push("")}}catch(s){r.e(s)}finally{r.f()}}return t}function roe(e,t,n){var r,i=n?noe(t.actions):[];return Are("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Are("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(e):t.message),null===(r=t.actions)||void 0===r?void 0:r.map((function(n,r){var a=!1,o=function(r){if(r.preventDefault(),!a){a=!0;var i=Vae(e.state.field(Yae).diagnostics,t);i&&n.apply(e,i.from,i.to)}},s=n.name,l=i[r]?s.indexOf(i[r]):-1,c=l<0?s:[s.slice(0,l),Are("u",s.slice(l,l+1)),s.slice(l+1)];return Are("button",{type:"button",class:"cm-diagnosticAction"+(n.markClass?" "+n.markClass:""),onclick:o,onmousedown:o,"aria-label":" Action: ".concat(s).concat(l<0?"":' (access key "'.concat(i[r],')"'),".")},c)})),t.source&&Are("div",{class:"cm-diagnosticSource"},t.source))}var ioe=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this)).sev=e,r}return(0,Sa.Z)(n,[{key:"eq",value:function(e){return e.sev==this.sev}},{key:"toDOM",value:function(){return Are("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}]),n}(o4),aoe=(0,Sa.Z)((function e(t,n){(0,Za.Z)(this,e),this.diagnostic=n,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=roe(t,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")})),ooe=function(){function e(t){var n=this;(0,Za.Z)(this,e),this.view=t,this.items=[];this.list=Are("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:function(e){if(27==e.keyCode)$ae(n.view),n.view.focus();else if(38==e.keyCode||33==e.keyCode)n.moveSelection((n.selectedIndex-1+n.items.length)%n.items.length);else if(40==e.keyCode||34==e.keyCode)n.moveSelection((n.selectedIndex+1)%n.items.length);else if(36==e.keyCode)n.moveSelection(0);else if(35==e.keyCode)n.moveSelection(n.items.length-1);else if(13==e.keyCode)n.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&n.selectedIndex>=0))return;for(var r=n.items[n.selectedIndex].diagnostic,i=noe(r.actions),a=0;a<i.length;a++)if(i[a].toUpperCase().charCodeAt(0)==e.keyCode){var o=Vae(n.view.state.field(Yae).diagnostics,r);o&&r.actions[a].apply(t,o.from,o.to)}}e.preventDefault()},onclick:function(e){for(var t=0;t<n.items.length;t++)n.items[t].dom.contains(e.target)&&n.moveSelection(t)}}),this.dom=Are("div",{class:"cm-panel-lint"},this.list,Are("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:function(){return $ae(n.view)}},"\xd7")),this.update()}return(0,Sa.Z)(e,[{key:"selectedIndex",get:function(){var e=this.view.state.field(Yae).selected;if(!e)return-1;for(var t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}},{key:"update",value:function(){var e=this,t=this.view.state.field(Yae),n=t.diagnostics,r=t.selected,i=0,a=!1,o=null,s=new Set;for(n.between(0,this.view.state.doc.length,(function(t,n,l){var c,u=l.spec,d=(0,sp.Z)(u.diagnostics);try{for(d.s();!(c=d.n()).done;){var p=c.value;if(!s.has(p)){s.add(p);for(var f=-1,h=void 0,g=i;g<e.items.length;g++)if(e.items[g].diagnostic==p){f=g;break}f<0?(h=new aoe(e.view,p),e.items.splice(i,0,h),a=!0):(h=e.items[f],f>i&&(e.items.splice(i,f-i),a=!0)),r&&h.diagnostic==r.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),o=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),i++}}}catch(m){d.e(m)}finally{d.f()}}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();0==this.items.length&&(this.items.push(new aoe(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:function(){return{sel:o.dom.getBoundingClientRect(),panel:e.list.getBoundingClientRect()}},write:function(t){var n=t.sel,r=t.panel,i=r.height/e.list.offsetHeight;n.top<r.top?e.list.scrollTop-=(r.top-n.top)/i:n.bottom>r.bottom&&(e.list.scrollTop+=(n.bottom-r.bottom)/i)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}},{key:"sync",value:function(){var e=this.list.firstChild;function t(){var t=e;e=t.nextSibling,t.remove()}var n,r=(0,sp.Z)(this.items);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e)}}catch(a){r.e(a)}finally{r.f()}for(;e;)t()}},{key:"moveSelection",value:function(e){if(!(this.selectedIndex<0)){var t=Vae(this.view.state.field(Yae).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:Kae.of(t)})}}}],[{key:"open",value:function(t){return new e(t)}}]),e}();function soe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'viewBox="0 0 40 40"';return'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(t,">").concat(encodeURIComponent(e),"</svg>')")}function loe(e){return soe('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(e,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var coe=w8.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:loe("#d11")},".cm-lintRange-warning":{backgroundImage:loe("orange")},".cm-lintRange-info":{backgroundImage:loe("#999")},".cm-lintRange-hint":{backgroundImage:loe("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function uoe(e){return"error"==e?4:"warning"==e?3:"info"==e?2:1}function doe(e){var t,n="hint",r=1,i=(0,sp.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=uoe(a.severity);o>r&&(r=o,n=a.severity)}}catch(s){i.e(s)}finally{i.f()}return n}var poe=[Yae,w8.decorations.compute([Yae],(function(e){var t=e.field(Yae),n=t.selected,r=t.panel;return n&&r&&n.from!=n.to?l4.set([Gae.range(n.from,n.to)]):l4.none})),T7(Qae,{hideOn:Uae}),coe];var foe=function(e){void 0===e&&(e={});var t=e.crosshairCursor,n=void 0!==t&&t,r=[];!1!==e.closeBracketsKeymap&&(r=r.concat(Oae)),!1!==e.defaultKeymap&&(r=r.concat(Ere)),!1!==e.searchKeymap&&(r=r.concat(Zie)),!1!==e.historyKeymap&&(r=r.concat(Nne)),!1!==e.foldKeymap&&(r=r.concat(cte)),!1!==e.completionKeymap&&(r=r.concat(Rae)),!1!==e.lintKeymap&&(r=r.concat(Jae));var i=[];return!1!==e.lineNumbers&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[r9.of(e),Y7(),o9]}()),!1!==e.highlightActiveLineGutter&&i.push(c9),!1!==e.highlightSpecialChars&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[a7.of(e),s7()]}()),!1!==e.history&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[pne,dne.of(e),w8.domEventHandlers({beforeinput:function(e,t){var n="historyUndo"==e.inputType?hne:"historyRedo"==e.inputType?gne:null;return!!n&&(e.preventDefault(),n(t))}})]}()),!1!==e.foldGutter&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,kn.Z)((0,kn.Z)({},mte),e),n=new vte(t,!0),r=new vte(t,!1),i=u5.fromClass(function(){function e(t){(0,Za.Z)(this,e),this.from=t.viewport.from,this.markers=this.buildMarkers(t)}return(0,Sa.Z)(e,[{key:"update",value:function(e){(e.docChanged||e.viewportChanged||e.startState.facet(Mee)!=e.state.facet(Mee)||e.startState.field(ite,!1)!=e.state.field(ite,!1)||jee(e.startState)!=jee(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}},{key:"buildMarkers",value:function(e){var t,i=new P2,a=(0,sp.Z)(e.viewportLineBlocks);try{for(a.s();!(t=a.n()).done;){var o=t.value,s=ote(e.state,o.from,o.to)?r:Jee(e.state,o.from,o.to)?n:null;s&&i.add(o.from,o.from,s)}}catch(l){a.e(l)}finally{a.f()}return i.finish()}}]),e}()),a=t.domEventHandlers;return[i,q7({class:"cm-foldGutter",markers:function(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.markers)||A2.empty},initialSpacer:function(){return new vte(t,!1)},domEventHandlers:(0,kn.Z)((0,kn.Z)({},a),{},{click:function(e,t,n){if(a.click&&a.click(e,t,n))return!0;var r=ote(e.state,t.from,t.to);if(r)return e.dispatch({effects:nte.of(r)}),!0;var i=Jee(e.state,t.from,t.to);return!!i&&(e.dispatch({effects:tte.of(i)}),!0)}})}),pte()]}()),!1!==e.drawSelection&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[H8.of(e),q8,Y8,G8,t5.of(!0)]}()),!1!==e.dropCursor&&i.push([X8,$8]),!1!==e.allowMultipleSelections&&i.push(j2.allowMultipleSelections.of(!0)),!1!==e.indentOnInput&&i.push(j2.transactionFilter.of((function(e){if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;var t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;var n=e.newDoc,r=e.newSelection.main.head,i=n.lineAt(r);if(r>i.from+200)return e;var a=n.sliceString(i.from,r);if(!t.some((function(e){return e.test(a)})))return e;var o,s=e.state,l=-1,c=[],u=(0,sp.Z)(s.selection.ranges);try{for(u.s();!(o=u.n()).done;){var d=o.value.head,p=s.doc.lineAt(d);if(p.from!=l){l=p.from;var f=Fee(s,p.from);if(null!=f){var h=/^\s*/.exec(p.text)[0],g=Bee(s,f);h!=g&&c.push({from:p.from,to:p.from+h.length,insert:g})}}}}catch(m){u.e(m)}finally{u.f()}return c.length?[e,{changes:c,sequential:!0}]:e}))),!1!==e.syntaxHighlighting&&i.push(_te(Ste,{fallback:!0})),!1!==e.bracketMatching&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Ote.of(e),Ite]}()),!1!==e.closeBrackets&&i.push([Eae,Cae]),!1!==e.autocompletion&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[bae,dae,Kie.of(e),vae,Bae,xae]}()),!1!==e.rectangularSelection&&i.push(function(e){var t=(null===e||void 0===e?void 0:e.eventFilter)||function(e){return e.altKey&&0==e.button};return w8.mouseSelectionStyle.of((function(e,n){return t(n)?g7(e,n):null}))}()),!1!==n&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,xe.Z)(m7[e.key||"Alt"],2),n=t[0],r=t[1],i=u5.fromClass(function(){function e(t){(0,Za.Z)(this,e),this.view=t,this.isDown=!1}return(0,Sa.Z)(e,[{key:"set",value:function(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}}]),e}(),{eventObservers:{keydown:function(e){this.set(e.keyCode==n||r(e))},keyup:function(e){e.keyCode!=n&&r(e)||this.set(!1)},mousemove:function(e){this.set(r(e))}}});return[i,w8.contentAttributes.of((function(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.isDown)?v7:null}))]}()),!1!==e.highlightActiveLine&&i.push(d7),!1!==e.highlightSelectionMatches&&i.push(function(e){var t=[$re,Xre];return e&&t.push(Kre.of(e)),t}()),e.tabSize&&"number"===typeof e.tabSize&&i.push(Lee.of(" ".repeat(e.tabSize))),i.concat([O8.of(r.flat())]).filter(Boolean)},hoe="#e5c07b",goe="#e06c75",moe="#56b6c2",voe="#ffffff",yoe="#abb2bf",boe="#7d8799",xoe="#61afef",woe="#98c379",koe="#d19a66",_oe="#c678dd",Coe="#21252b",joe="#2c313a",Soe="#282c34",Zoe="#353a42",Noe="#3E4451",Eoe="#528bff",Ooe=[w8.theme({"&":{color:yoe,backgroundColor:Soe},".cm-content":{caretColor:Eoe},".cm-cursor, .cm-dropCursor":{borderLeftColor:Eoe},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Noe},".cm-panels":{backgroundColor:Coe,color:yoe},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Soe,color:boe,border:"none"},".cm-activeLineGutter":{backgroundColor:joe},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Zoe},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Zoe,borderBottomColor:Zoe},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:joe,color:yoe}}},{dark:!0}),_te(bte.define([{tag:gee.keyword,color:_oe},{tag:[gee.name,gee.deleted,gee.character,gee.propertyName,gee.macroName],color:goe},{tag:[gee.function(gee.variableName),gee.labelName],color:xoe},{tag:[gee.color,gee.constant(gee.name),gee.standard(gee.name)],color:koe},{tag:[gee.definition(gee.name),gee.separator],color:yoe},{tag:[gee.typeName,gee.className,gee.number,gee.changed,gee.annotation,gee.modifier,gee.self,gee.namespace],color:hoe},{tag:[gee.operator,gee.operatorKeyword,gee.url,gee.escape,gee.regexp,gee.link,gee.special(gee.string)],color:moe},{tag:[gee.meta,gee.comment],color:boe},{tag:gee.strong,fontWeight:"bold"},{tag:gee.emphasis,fontStyle:"italic"},{tag:gee.strikethrough,textDecoration:"line-through"},{tag:gee.link,color:boe,textDecoration:"underline"},{tag:gee.heading,fontWeight:"bold",color:goe},{tag:[gee.atom,gee.bool,gee.special(gee.variableName)],color:koe},{tag:[gee.processingInstruction,gee.string,gee.inserted],color:woe},{tag:gee.invalid,color:voe}]))],Aoe=w8.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Toe=function(e){void 0===e&&(e={});var t=e,n=t.indentWithTab,r=void 0===n||n,i=t.editable,a=void 0===i||i,o=t.readOnly,s=void 0!==o&&o,l=t.theme,c=void 0===l?"light":l,u=t.placeholder,d=void 0===u?"":u,p=t.basicSetup,f=void 0===p||p,h=[];switch(r&&h.unshift(O8.of([Ore])),f&&("boolean"===typeof f?h.unshift(foe()):h.unshift(foe(f))),d&&h.unshift(function(e){var t=u5.fromClass(function(){function t(n){(0,Za.Z)(this,t),this.view=n,this.placeholder=e?l4.set([l4.widget({widget:new p7(e),side:1}).range(0)]):l4.none}return(0,Sa.Z)(t,[{key:"decorations",get:function(){return this.view.state.doc.length?l4.none:this.placeholder}}]),t}(),{decorations:function(e){return e.decorations}});return"string"==typeof e?[t,w8.contentAttributes.of({"aria-placeholder":e})]:t}(d)),c){case"light":h.push(Aoe);break;case"dark":h.push(Ooe);break;case"none":break;default:h.push(c)}return!1===a&&h.push(w8.editable.of(!1)),s&&h.push(j2.readOnly.of(!0)),[].concat(h)},Poe=function(){function e(t,n){(0,Za.Z)(this,e),this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(t)}return(0,Sa.Z)(e,[{key:"tick",value:function(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach((function(e){try{e()}catch(t){console.error("TimeoutLatch callback error:",t)}}))}}},{key:"cancel",value:function(){this.isCancelled=!0,this.callbacks.length=0}},{key:"reset",value:function(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}},{key:"isDone",get:function(){return this.isCancelled||this.isTimeExhausted}}]),e}(),Moe=function(){function e(){(0,Za.Z)(this,e),this.interval=null,this.latches=new Set}return(0,Sa.Z)(e,[{key:"add",value:function(e){this.latches.add(e),this.start()}},{key:"remove",value:function(e){this.latches.delete(e),0===this.latches.size&&this.stop()}},{key:"start",value:function(){var e=this;null===this.interval&&(this.interval=setInterval((function(){e.latches.forEach((function(t){t.tick(),t.isDone&&e.remove(t)}))}),1))}},{key:"stop",value:function(){null!==this.interval&&(clearInterval(this.interval),this.interval=null)}}]),e}(),Ioe=null,Doe=u2.define(),Loe=[];function Roe(e){var t=e.value,n=e.selection,r=e.onChange,i=e.onStatistics,a=e.onCreateEditor,o=e.onUpdate,s=e.extensions,l=void 0===s?Loe:s,c=e.autoFocus,u=e.theme,d=void 0===u?"light":u,p=e.height,f=void 0===p?null:p,h=e.minHeight,g=void 0===h?null:h,m=e.maxHeight,v=void 0===m?null:m,y=e.width,b=void 0===y?null:y,x=e.minWidth,w=void 0===x?null:x,k=e.maxWidth,_=void 0===k?null:k,C=e.placeholder,j=void 0===C?"":C,S=e.editable,Z=void 0===S||S,N=e.readOnly,E=void 0!==N&&N,O=e.indentWithTab,A=void 0===O||O,T=e.basicSetup,P=void 0===T||T,M=e.root,I=e.initialState,D=(0,oe.useState)(),L=(0,xe.Z)(D,2),R=L[0],B=L[1],F=(0,oe.useState)(),z=(0,xe.Z)(F,2),V=z[0],U=z[1],H=(0,oe.useState)(),W=(0,xe.Z)(H,2),q=W[0],K=W[1],Y=(0,oe.useState)((function(){return{current:null}}))[0],G=(0,oe.useState)((function(){return{current:null}}))[0],Q=w8.theme({"&":{height:f,minHeight:g,maxHeight:v,width:b,minWidth:w,maxWidth:_},"& .cm-scroller":{height:"100% !important"}}),X=w8.updateListener.of((function(e){if(e.docChanged&&"function"===typeof r&&!e.transactions.some((function(e){return e.annotation(Doe)}))){Y.current?Y.current.reset():(Y.current=new Poe((function(){if(G.current){var e=G.current;G.current=null,e()}Y.current=null}),200),("undefined"===typeof window?new Moe:(Ioe||(Ioe=new Moe),Ioe)).add(Y.current));var t=e.state.doc.toString();r(t,e)}i&&i(function(e){return{line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map((function(t){return e.state.sliceDoc(t.from,t.to)})),selectedText:e.state.selection.ranges.some((function(e){return!e.empty}))}}(e))})),$=Toe({theme:d,editable:Z,readOnly:E,placeholder:j,indentWithTab:A,basicSetup:P}),J=[X,Q].concat((0,we.Z)($));return o&&"function"===typeof o&&J.push(w8.updateListener.of(o)),J=J.concat(l),(0,oe.useLayoutEffect)((function(){if(R&&!q){var e={doc:t,selection:n,extensions:J},r=I?j2.fromJSON(I.json,e,I.fields):j2.create(e);if(K(r),!V){var i=new w8({state:r,parent:R,root:M});U(i),a&&a(i,r)}}return function(){V&&(K(void 0),U(void 0))}}),[R,q]),(0,oe.useEffect)((function(){e.container&&B(e.container)}),[e.container]),(0,oe.useEffect)((function(){return function(){V&&(V.destroy(),U(void 0)),Y.current&&(Y.current.cancel(),Y.current=null)}}),[V]),(0,oe.useEffect)((function(){c&&V&&V.focus()}),[c,V]),(0,oe.useEffect)((function(){V&&V.dispatch({effects:f2.reconfigure.of(J)})}),[d,l,f,g,v,b,w,_,j,Z,E,A,P,r,o]),(0,oe.useEffect)((function(){if(void 0!==t){var e=V?V.state.doc.toString():"";if(V&&t!==e){var n=function(){V&&t!==V.state.doc.toString()&&V.dispatch({changes:{from:0,to:V.state.doc.toString().length,insert:t||""},annotations:[Doe.of(!0)]})};Y.current&&!Y.current.isDone?G.current=n:n()}}}),[t,V]),{state:q,setState:K,view:V,setView:U,container:R,setContainer:B}}var Boe=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],Foe=(0,oe.forwardRef)((function(e,t){var n=e.className,r=e.value,i=void 0===r?"":r,a=e.selection,o=e.extensions,s=void 0===o?[]:o,l=e.onChange,c=e.onStatistics,u=e.onCreateEditor,d=e.onUpdate,p=e.autoFocus,f=e.theme,h=void 0===f?"light":f,g=e.height,m=e.minHeight,v=e.maxHeight,y=e.width,b=e.minWidth,x=e.maxWidth,w=e.basicSetup,k=e.placeholder,_=e.indentWithTab,C=e.editable,j=e.readOnly,S=e.root,Z=e.initialState,N=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,Boe),E=(0,oe.useRef)(null),O=Roe({root:S,value:i,autoFocus:p,theme:h,height:g,minHeight:m,maxHeight:v,width:y,minWidth:b,maxWidth:x,basicSetup:w,placeholder:k,indentWithTab:_,editable:C,readOnly:j,selection:a,onChange:l,onStatistics:c,onCreateEditor:u,onUpdate:d,extensions:s,initialState:Z}),A=O.state,T=O.view,P=O.container,M=O.setContainer;(0,oe.useImperativeHandle)(t,(function(){return{editor:E.current,state:A,view:T}}),[E,P,A,T]);var I=(0,oe.useCallback)((function(e){E.current=e,M(e)}),[M]);if("string"!==typeof i)throw new Error("value must be typeof string but got "+typeof i);var D="string"===typeof h?"cm-theme-"+h:"cm-theme";return(0,st.jsx)("div",G0({ref:I,className:D+(n?" "+n:"")},N))}));Foe.displayName="CodeMirror";var zoe=Foe,Voe=function(){function e(t,n,r,i,a,o,s,l,c){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10?arguments[10]:void 0;(0,Za.Z)(this,e),this.p=t,this.stack=n,this.state=r,this.reducePos=i,this.pos=a,this.score=o,this.buffer=s,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=d}return(0,Sa.Z)(e,[{key:"toString",value:function(){return"[".concat(this.stack.filter((function(e,t){return t%3==0})).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}},{key:"context",get:function(){return this.curContext?this.curContext.context:null}},{key:"pushState",value:function(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}},{key:"reduce",value:function(e){var t,n=e>>19,r=65535&e,i=this.p.parser,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);var o=i.dynamicPrecedence(r);if(o&&(this.score+=o),0==n)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,a?8:4,!0),void this.reduceContext(r,this.reducePos);var s=this.stack.length-3*(n-1)-(262144&e?6:0),l=s?this.stack[s-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(null===(t=this.p.parser.nodeSet.types[r])||void 0===t?void 0:t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));var u=s?this.stack[s-1]:0,d=this.bufferBase+this.buffer.length-u;if(r<i.minRepeatTerm||131072&e){var p=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,p,d+4,!0)}if(262144&e)this.state=this.stack[s];else{var f=this.stack[s-3];this.state=i.getGoto(f,r,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(r,l)}},{key:"storeNode",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){var a=this,o=this.buffer.length;if(0==o&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&0==a.buffer[o-4]&&a.buffer[o-1]>-1){if(t==n)return;if(a.buffer[o-2]>=t)return void(a.buffer[o-2]=n)}}if(i&&this.pos!=n){var s=this.buffer.length;if(s>0&&(0!=this.buffer[s-4]||this.buffer[s-1]<0)){for(var l=!1,c=s;c>0&&this.buffer[c-2]>n;c-=4)if(this.buffer[c-1]>=0){l=!0;break}if(l)for(;s>0&&this.buffer[s-2]>n;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,r>4&&(r-=4)}this.buffer[s]=e,this.buffer[s+1]=t,this.buffer[s+2]=n,this.buffer[s+3]=r}else this.buffer.push(e,t,n,r)}},{key:"shift",value:function(e,t,n,r){if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){var i=e,a=this.p.parser;(r>this.pos||t<=a.maxNode)&&(this.pos=r,a.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(t,n),t<=a.maxNode&&this.buffer.push(t,n,r,4)}else this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4)}},{key:"apply",value:function(e,t,n,r){65536&e?this.reduce(e):this.shift(e,t,n,r)}},{key:"useNode",value:function(e,t){var n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);var r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}},{key:"split",value:function(){for(var t=this,n=t.buffer.length;n>0&&t.buffer[n-2]>t.reducePos;)n-=4;for(var r=t.buffer.slice(n),i=t.bufferBase+n;t&&i==t.bufferBase;)t=t.parent;return new e(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,t)}},{key:"recoverByDelete",value:function(e,t){var n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}},{key:"canShift",value:function(e){for(var t=new Hoe(this);;){var n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(0==(65536&n))return!0;t.reduce(n)}}},{key:"recoverByInsert",value:function(e){if(this.stack.length>=300)return[];var t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){for(var n,r=[],i=0;i<t.length;i+=2)(n=t[i+1])!=this.state&&this.p.parser.hasAction(n,e)&&r.push(t[i],n);if(this.stack.length<120)for(var a=function(e){var n=t[e+1];r.some((function(e,t){return 1&t&&e==n}))||r.push(t[e],n)},o=0;r.length<8&&o<t.length;o+=2)a(o);t=r}for(var s=[],l=0;l<t.length&&s.length<4;l+=2){var c=t[l+1];if(c!=this.state){var u=this.split();u.pushState(c,this.pos),u.storeNode(0,u.pos,u.pos,4,!0),u.shiftContext(t[l],this.pos),u.reducePos=this.pos,u.score-=200,s.push(u)}}return s}},{key:"forceReduce",value:function(){var e=this.p.parser,t=e.stateSlot(this.state,5);if(0==(65536&t))return!1;if(!e.validAction(this.state,t)){var n=t>>19,r=65535&t,i=this.stack.length-3*n;if(i<0||e.getGoto(this.stack[i],r,!1)<0){var a=this.findForcedReduction();if(null==a)return!1;t=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}},{key:"findForcedReduction",value:function(){var e=this,t=this.p.parser,n=[];return function r(i,a){if(!n.includes(i))return n.push(i),t.allActions(i,(function(n){if(393216&n);else if(65536&n){var i=(n>>19)-a;if(i>1){var o=65535&n,s=e.stack.length-3*i;if(s>=0&&t.getGoto(e.stack[s],o,!1)>=0)return i<<19|65536|o}}else{var l=r(n,a+1);if(null!=l)return l}}))}(this.state,0)}},{key:"forceAll",value:function(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}},{key:"deadEnd",get:function(){if(3!=this.stack.length)return!1;var e=this.p.parser;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}},{key:"restart",value:function(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}},{key:"sameState",value:function(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(var t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}},{key:"parser",get:function(){return this.p.parser}},{key:"dialectEnabled",value:function(e){return this.p.parser.dialect.flags[e]}},{key:"shiftContext",value:function(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}},{key:"reduceContext",value:function(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}},{key:"emitContext",value:function(){var e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}},{key:"emitLookAhead",value:function(){var e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}},{key:"updateContext",value:function(e){if(e!=this.curContext.context){var t=new Uoe(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}},{key:"setLookAhead",value:function(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}},{key:"close",value:function(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}],[{key:"start",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.parser.context;return new e(t,[],n,r,r,0,[],0,i?new Uoe(i,i.start):null,0,null)}}]),e}(),Uoe=(0,Sa.Z)((function e(t,n){(0,Za.Z)(this,e),this.tracker=t,this.context=n,this.hash=t.strict?t.hash(n):0})),Hoe=function(){function e(t){(0,Za.Z)(this,e),this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}return(0,Sa.Z)(e,[{key:"reduce",value:function(e){var t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);var r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}]),e}(),Woe=function(){function e(t,n,r){(0,Za.Z)(this,e),this.stack=t,this.pos=n,this.index=r,this.buffer=t.buffer,0==this.index&&this.maybeNext()}return(0,Sa.Z)(e,[{key:"maybeNext",value:function(){var e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}},{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"next",value:function(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}},{key:"fork",value:function(){return new e(this.stack,this.pos,this.index)}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.bufferBase+t.buffer.length;return new e(t,n,n-t.bufferBase)}}]),e}();function qoe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint16Array;if("string"!=typeof e)return e;for(var n=null,r=0,i=0;r<e.length;){for(var a=0;;){var o=e.charCodeAt(r++),s=!1;if(126==o){a=65535;break}o>=92&&o--,o>=34&&o--;var l=o-32;if(l>=46&&(l-=46,s=!0),a+=l,s)break;a*=46}n?n[i++]=a:n=new t(a)}return n}var Koe=(0,Sa.Z)((function e(){(0,Za.Z)(this,e),this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0})),Yoe=new Koe,Goe=function(){function e(t,n){(0,Za.Z)(this,e),this.input=t,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Yoe,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}return(0,Sa.Z)(e,[{key:"resolveOffset",value:function(e,t){for(var n=this.range,r=this.rangeIndex,i=this.pos+e;i<n.from;){if(!r)return null;var a=this.ranges[--r];i-=n.from-a.to,n=a}for(;t<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;var o=this.ranges[++r];i+=o.from-n.to,n=o}return i}},{key:"clipPos",value:function(e){if(e>=this.range.from&&e<this.range.to)return e;var t,n=(0,sp.Z)(this.ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.to>e)return Math.max(e,r.from)}}catch(i){n.e(i)}finally{n.f()}return this.end}},{key:"peek",value:function(e){var t,n,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(r);else{var i=this.resolveOffset(e,1);if(null==i)return-1;if((t=i)>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{for(var a=this.rangeIndex,o=this.range;o.to<=t;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}},{key:"acceptToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}},{key:"acceptTokenTo",value:function(e,t){this.token.value=e,this.token.end=t}},{key:"getChunk",value:function(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){var e=this.chunk,t=this.chunkPos;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;var n=this.input.chunk(this.pos),r=this.pos+n.length;this.chunk=r>this.range.to?n.slice(0,this.range.to-this.pos):n,this.chunkPos=this.pos,this.chunkOff=0}}},{key:"readNext",value:function(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}},{key:"advance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}},{key:"setDone",value:function(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}},{key:"reset",value:function(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Yoe,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}},{key:"read",value:function(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);var n,r="",i=(0,sp.Z)(this.ranges);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.from>=t)break;a.to>e&&(r+=this.input.read(Math.max(a.from,e),Math.min(a.to,t)))}}catch(o){i.e(o)}finally{i.f()}return r}}]),e}(),Qoe=function(){function e(t,n){(0,Za.Z)(this,e),this.data=t,this.id=n}return(0,Sa.Z)(e,[{key:"token",value:function(e,t){var n=t.p.parser;Joe(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}]),e}();Qoe.prototype.contextual=Qoe.prototype.fallback=Qoe.prototype.extend=!1;var Xoe=function(){function e(t,n,r){(0,Za.Z)(this,e),this.precTable=n,this.elseToken=r,this.data="string"==typeof t?qoe(t):t}return(0,Sa.Z)(e,[{key:"token",value:function(e,t){for(var n=e.pos,r=0;;){var i=e.next<0,a=e.resolveOffset(1,1);if(Joe(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(null==this.elseToken)return;if(i||r++,null==a)break;e.reset(a,e.token)}r&&(e.reset(n,e.token),e.acceptToken(this.elseToken,r))}}]),e}();Xoe.prototype.contextual=Qoe.prototype.fallback=Qoe.prototype.extend=!1;var $oe=(0,Sa.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Za.Z)(this,e),this.token=t,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}));function Joe(e,t,n,r,i,a){var o=0,s=1<<r,l=n.p.parser.dialect;e:for(;0!=(s&e[o]);){for(var c=e[o+1],u=o+3;u<c;u+=2)if((e[u+1]&s)>0){var d=e[u];if(l.allows(d)&&(-1==t.token.value||t.token.value==d||tse(d,t.token.value,i,a))){t.acceptToken(d);break}}var p=t.next,f=0,h=e[o+2];if(!(t.next<0&&h>f&&65535==e[c+3*h-3])){for(;f<h;){var g=f+h>>1,m=c+g+(g<<1),v=e[m],y=e[m+1]||65536;if(p<v)h=g;else{if(!(p>=y)){o=e[m+2],t.advance();continue e}f=g+1}}break}o=e[c+3*h-1]}}function ese(e,t,n){for(var r,i=t;65535!=(r=e[i]);i++)if(r==n)return i-t;return-1}function tse(e,t,n,r){var i=ese(n,r,t);return i<0||ese(n,r,e)<i}var nse="undefined"!=typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&/\bparse\b/.test({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.LOG),rse=null;function ise(e,t,n){var r=e.cursor(v9.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}var ase=function(){function e(t,n){(0,Za.Z)(this,e),this.fragments=t,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}return(0,Sa.Z)(e,[{key:"nextFragment",value:function(){var e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?ise(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?ise(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}},{key:"nodeAt",value:function(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){var t=this.trees.length-1;if(t<0)return this.nextFragment(),null;var n=this.trees[t],r=this.index[t];if(r!=n.children.length){var i=n.children[r],a=this.start[t]+n.positions[r];if(a>e)return this.nextStart=a,null;if(i instanceof w9){if(a==e){if(a<this.safeFrom)return null;var o=a+i.length;if(o<=this.safeTo){var s=i.prop(f9.lookAhead);if(!s||o+s<this.fragment.to)return i}}this.index[t]++,a+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+i.length}else this.trees.pop(),this.start.pop(),this.index.pop()}}}]),e}(),ose=function(){function e(t,n){(0,Za.Z)(this,e),this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((function(e){return new Koe}))}return(0,Sa.Z)(e,[{key:"getActions",value:function(e){for(var t=0,n=null,r=e.p.parser,i=r.tokenizers,a=r.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,s=0,l=0;l<i.length;l++)if(0!=(1<<l&a)){var c=i[l],u=this.tokens[l];if((!n||c.fallback)&&((c.contextual||u.start!=e.pos||u.mask!=a||u.context!=o)&&(this.updateCachedToken(u,c,e),u.mask=a,u.context=o),u.lookAhead>u.end+25&&(s=Math.max(u.lookAhead,s)),0!=u.value)){var d=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!c.extend&&(n=u,t>d))break}}for(;this.actions.length>t;)this.actions.pop();return s&&e.setLookAhead(s),n||e.pos!=this.stream.end||((n=new Koe).value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}},{key:"getMainToken",value:function(e){if(this.mainToken)return this.mainToken;var t=new Koe,n=e.pos,r=e.p;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}},{key:"updateCachedToken",value:function(e,t,n){var r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){for(var i=n.p.parser,a=0;a<i.specialized.length;a++)if(i.specialized[a]==e.value){var o=i.specializers[a](this.stream.read(e.start,e.end),n);if(o>=0&&n.p.parser.dialect.allows(o>>1)){0==(1&o)?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}},{key:"putAction",value:function(e,t,n,r){for(var i=0;i<r;i+=3)if(this.actions[i]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}},{key:"addActions",value:function(e,t,n,r){for(var i=e.state,a=e.p.parser,o=a.data,s=0;s<2;s++)for(var l=a.stateSlot(i,s?2:1);;l+=3){if(65535==o[l]){if(1!=o[l+1]){0==r&&2==o[l+1]&&(r=this.putAction(dse(o,l+2),t,n,r));break}l=dse(o,l+2)}o[l]==t&&(r=this.putAction(dse(o,l+1),t,n,r))}return r}}]),e}(),sse=function(){function e(t,n,r,i){(0,Za.Z)(this,e),this.parser=t,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Goe(n,i),this.tokens=new ose(t,this.stream),this.topTerm=t.top[1];var a=i[0].from;this.stacks=[Voe.start(this,t.top[0],a)],this.fragments=r.length&&this.stream.end-a>4*t.bufferLength?new ase(r,t.nodeSet):null}return(0,Sa.Z)(e,[{key:"parsedPos",get:function(){return this.minStackPos}},{key:"advance",value:function(){var e,t,n=this.stacks,r=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){for(var a=(0,xe.Z)(n,1)[0];a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(var o=0;o<n.length;o++)for(var s=n[o];;){if(this.tokens.mainToken=null,s.pos>r)i.push(s);else{if(this.advanceStack(s,i,n))continue;e||(e=[],t=[]),e.push(s);var l=this.tokens.getMainToken(s);t.push(l.value,l.end)}break}if(!i.length){var c=e&&function(e){var t,n=null,r=(0,sp.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=a&&i.pos>a)&&i.p.parser.stateFlag(i.state,2)&&(!n||n.score<i.score)&&(n=i)}}catch(o){r.e(o)}finally{r.f()}return n}(e);if(c)return nse&&console.log("Finish with "+this.stackID(c)),this.stackToTree(c);if(this.parser.strict)throw nse&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){var u=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(u)return nse&&console.log("Force-finish "+this.stackID(u)),this.stackToTree(u.forceAll())}if(this.recovering){var d=1==this.recovering?1:3*this.recovering;if(i.length>d)for(i.sort((function(e,t){return t.score-e.score}));i.length>d;)i.pop();i.some((function(e){return e.reducePos>r}))&&this.recovering--}else if(i.length>1){e:for(var p=0;p<i.length-1;p++)for(var f=i[p],h=p+1;h<i.length;h++){var g=i[h];if(f.sameState(g)||f.buffer.length>500&&g.buffer.length>500){if(!((f.score-g.score||f.buffer.length-g.buffer.length)>0)){i.splice(p--,1);continue e}i.splice(h--,1)}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(var m=1;m<i.length;m++)i[m].pos<this.minStackPos&&(this.minStackPos=i[m].pos);return null}},{key:"stopAt",value:function(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}},{key:"advanceStack",value:function(e,t,n){var r=e.pos,i=this.parser,a=nse?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments)for(var o=e.curContext&&e.curContext.tracker.strict,s=o?e.curContext.hash:0,l=this.fragments.nodeAt(r);l;){var c=this.parser.nodeSet.types[l.type.id]==l.type?i.getGoto(e.state,l.type.id):-1;if(c>-1&&l.length&&(!o||(l.prop(f9.contextHash)||0)==s))return e.useNode(l,c),nse&&console.log(a+this.stackID(e)+" (via reuse of ".concat(i.getName(l.type.id),")")),!0;if(!(l instanceof w9)||0==l.children.length||l.positions[0]>0)break;var u=l.children[0];if(!(u instanceof w9&&0==l.positions[0]))break;l=u}var d=i.stateSlot(e.state,4);if(d>0)return e.reduce(d),nse&&console.log(a+this.stackID(e)+" (via always-reduce ".concat(i.getName(65535&d),")")),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););for(var p=this.tokens.getActions(e),f=0;f<p.length;){var h=p[f++],g=p[f++],m=p[f++],v=f==p.length||!n,y=v?e:e.split(),b=this.tokens.mainToken;if(y.apply(h,g,b?b.start:y.pos,m),nse&&console.log(a+this.stackID(y)+" (via ".concat(0==(65536&h)?"shift":"reduce of ".concat(i.getName(65535&h))," for ").concat(i.getName(g)," @ ").concat(r).concat(y==e?"":", split",")")),v)return!0;y.pos>r?t.push(y):n.push(y)}return!1}},{key:"advanceFully",value:function(e,t){for(var n=e.pos;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return lse(e,t),!0}}},{key:"runRecovery",value:function(e,t,n){for(var r=null,i=!1,a=0;a<e.length;a++){var o=e[a],s=t[a<<1],l=t[1+(a<<1)],c=nse?this.stackID(o)+" -> ":"";if(o.deadEnd){if(i)continue;if(i=!0,o.restart(),nse&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))continue}for(var u=o.split(),d=c,p=0;p<10&&u.forceReduce();p++){if(nse&&console.log(d+this.stackID(u)+" (via force-reduce)"),this.advanceFully(u,n))break;nse&&(d=this.stackID(u)+" -> ")}var f,h=(0,sp.Z)(o.recoverByInsert(s));try{for(h.s();!(f=h.n()).done;){var g=f.value;nse&&console.log(c+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,n)}}catch(m){h.e(m)}finally{h.f()}this.stream.end>o.pos?(l==o.pos&&(l++,s=0),o.recoverByDelete(s,l),nse&&console.log(c+this.stackID(o)+" (via recover-delete ".concat(this.parser.getName(s),")")),lse(o,n)):(!r||r.score<o.score)&&(r=o)}return r}},{key:"stackToTree",value:function(e){return e.close(),w9.build({buffer:Woe.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}},{key:"stackID",value:function(e){var t=(rse||(rse=new WeakMap)).get(e);return t||rse.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}]),e}();function lse(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.pos==e.pos&&r.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}var cse=function(){function e(t,n,r){(0,Za.Z)(this,e),this.source=t,this.flags=n,this.disabled=r}return(0,Sa.Z)(e,[{key:"allows",value:function(e){return!this.disabled||0==this.disabled[e]}}]),e}(),use=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r,i;if((0,Za.Z)(this,n),(i=t.call(this)).wrappers=[],14!=e.version)throw new RangeError("Parser version (".concat(e.version,") doesn't match runtime version (",14,")"));var a=e.nodeNames.split(" ");i.minRepeatTerm=a.length;for(var o=0;o<e.repeatNodeCount;o++)a.push("");for(var s=Object.keys(e.topRules).map((function(t){return e.topRules[t][1]})),l=[],c=0;c<a.length;c++)l.push([]);function u(e,t,n){l[e].push([t,t.deserialize(String(n))])}if(e.nodeProps){var d,p=(0,sp.Z)(e.nodeProps);try{for(p.s();!(d=p.n()).done;){var f=d.value,h=f[0];"string"==typeof h&&(h=f9[h]);for(var g=1;g<f.length;){var m=f[g++];if(m>=0)u(m,h,f[g++]);else{for(var v=f[g+-m],y=-m;y>0;y--)u(f[g++],h,v);g++}}}}catch(w){p.e(w)}finally{p.f()}}i.nodeSet=new y9(a.map((function(t,n){return m9.define({name:n>=i.minRepeatTerm?void 0:t,id:n,props:l[n],top:s.indexOf(n)>-1,error:0==n,skipped:e.skippedNodes&&e.skippedNodes.indexOf(n)>-1})}))),e.propSources&&(i.nodeSet=(r=i.nodeSet).extend.apply(r,(0,we.Z)(e.propSources))),i.strict=!1,i.bufferLength=u9;var b=qoe(e.tokenData);i.context=e.context,i.specializerSpecs=e.specialized||[],i.specialized=new Uint16Array(i.specializerSpecs.length);for(var x=0;x<i.specializerSpecs.length;x++)i.specialized[x]=i.specializerSpecs[x].term;return i.specializers=i.specializerSpecs.map(pse),i.states=qoe(e.states,Uint32Array),i.data=qoe(e.stateData),i.goto=qoe(e.goto),i.maxTerm=e.maxTerm,i.tokenizers=e.tokenizers.map((function(e){return"number"==typeof e?new Qoe(b,e):e})),i.topRules=e.topRules,i.dialects=e.dialects||{},i.dynamicPrecedences=e.dynamicPrecedences||null,i.tokenPrecTable=e.tokenPrec,i.termNames=e.termNames||null,i.maxNode=i.nodeSet.types.length-1,i.dialect=i.parseDialect(),i.top=i.topRules[Object.keys(i.topRules)[0]],i}return(0,Sa.Z)(n,[{key:"createParse",value:function(e,t,n){var r,i=new sse(this,e,t,n),a=(0,sp.Z)(this.wrappers);try{for(a.s();!(r=a.n()).done;){i=(0,r.value)(i,e,t,n)}}catch(o){a.e(o)}finally{a.f()}return i}},{key:"getGoto",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.goto;if(t>=r[0])return-1;for(var i=r[t+1];;){var a=r[i++],o=1&a,s=r[i++];if(o&&n)return s;for(var l=i+(a>>1);i<l;i++)if(r[i]==e)return s;if(o)return-1}}},{key:"hasAction",value:function(e,t){for(var n=this.data,r=0;r<2;r++)for(var i,a=this.stateSlot(e,r?2:1);;a+=3){if(65535==(i=n[a])){if(1!=n[a+1]){if(2==n[a+1])return dse(n,a+2);break}i=n[a=dse(n,a+2)]}if(i==t||0==i)return dse(n,a+1)}return 0}},{key:"stateSlot",value:function(e,t){return this.states[6*e+t]}},{key:"stateFlag",value:function(e,t){return(this.stateSlot(e,0)&t)>0}},{key:"validAction",value:function(e,t){return!!this.allActions(e,(function(e){return e==t||null}))}},{key:"allActions",value:function(e,t){for(var n=this.stateSlot(e,4),r=n?t(n):void 0,i=this.stateSlot(e,1);null==r;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=dse(this.data,i+2)}r=t(dse(this.data,i+1))}return r}},{key:"nextStates",value:function(e){for(var t=this,n=[],r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=dse(this.data,r+2)}0==(1&this.data[r+2])&&function(){var e=t.data[r+1];n.some((function(t,n){return 1&n&&t==e}))||n.push(t.data[r],e)}()}return n}},{key:"configure",value:function(e){var t,r=Object.assign(Object.create(n.prototype),this);if(e.props&&(r.nodeSet=(t=this.nodeSet).extend.apply(t,(0,we.Z)(e.props))),e.top){var i=this.topRules[e.top];if(!i)throw new RangeError("Invalid top rule name ".concat(e.top));r.top=i}return e.tokenizers&&(r.tokenizers=this.tokenizers.map((function(t){var n=e.tokenizers.find((function(e){return e.from==t}));return n?n.to:t}))),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((function(t,n){var i=e.specializers.find((function(e){return e.from==t.external}));if(!i)return t;var a=Object.assign(Object.assign({},t),{external:i.to});return r.specializers[n]=pse(a),a}))),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),null!=e.bufferLength&&(r.bufferLength=e.bufferLength),r}},{key:"hasWrappers",value:function(){return this.wrappers.length>0}},{key:"getName",value:function(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}},{key:"eofTerm",get:function(){return this.maxNode+1}},{key:"topNode",get:function(){return this.nodeSet.types[this.top[1]]}},{key:"dynamicPrecedence",value:function(e){var t=this.dynamicPrecedences;return null==t?0:t[e]||0}},{key:"parseDialect",value:function(e){var t=Object.keys(this.dialects),n=t.map((function(){return!1}));if(e){var r,i=(0,sp.Z)(e.split(" "));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t.indexOf(a);o>=0&&(n[o]=!0)}}catch(d){i.e(d)}finally{i.f()}}for(var s=null,l=0;l<t.length;l++)if(!n[l])for(var c,u=this.dialects[t[l]];65535!=(c=this.data[u++]);)(s||(s=new Uint8Array(this.maxTerm+1)))[c]=1;return new cse(e,n,s)}}],[{key:"deserialize",value:function(e){return new n(e)}}]),n}(V9);function dse(e,t){return e[t]|e[t+1]<<16}function pse(e){if(e.external){var t=e.extend?1:0;return function(n,r){return e.external(n,r)<<1|t}}return e.get}var fse=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];function hse(e){return e>=65&&e<=90||e>=97&&e<=122||e>=161}function gse(e){return e>=48&&e<=57}function mse(e){return gse(e)||e>=97&&e<=102||e>=65&&e<=70}var vse=function(e,t,n){return function(r,i){for(var a=!1,o=0,s=0;;s++){var l=r.next;if(hse(l)||45==l||95==l||a&&gse(l))!a&&(45!=l||s>0)&&(a=!0),o===s&&45==l&&o++,r.advance();else{if(92!=l||10==r.peek(1)){a&&r.acceptToken(2==o&&i.canShift(2)?t:40==l?n:e);break}if(r.advance(),mse(r.next)){do{r.advance()}while(mse(r.next));32==r.next&&r.advance()}else r.next>-1&&r.advance();a=!0}}}},yse=new $oe(vse(123,2,124)),bse=new $oe(vse(125,3,4)),xse=new $oe((function(e){if(fse.includes(e.peek(-1))){var t=e.next;(hse(t)||95==t||35==t||46==t||42==t||91==t||58==t&&hse(e.peek(1))||45==t||38==t)&&e.acceptToken(122)}})),wse=new $oe((function(e){if(!fse.includes(e.peek(-1))){var t=e.next;if(37==t&&(e.advance(),e.acceptToken(1)),hse(t)){do{e.advance()}while(hse(e.next)||gse(e.next));e.acceptToken(1)}}})),kse=Y9({"AtKeyword import charset namespace keyframes media supports":gee.definitionKeyword,"from to selector":gee.keyword,NamespaceName:gee.namespace,KeyframeName:gee.labelName,KeyframeRangeName:gee.operatorKeyword,TagName:gee.tagName,ClassName:gee.className,PseudoClassName:gee.constant(gee.className),IdName:gee.labelName,"FeatureName PropertyName":gee.propertyName,AttributeName:gee.attributeName,NumberLiteral:gee.number,KeywordQuery:gee.keyword,UnaryQueryOp:gee.operatorKeyword,"CallTag ValueName":gee.atom,VariableName:gee.variableName,Callee:gee.operatorKeyword,Unit:gee.unit,"UniversalSelector NestingSelector":gee.definitionOperator,"MatchOp CompareOp":gee.compareOperator,"ChildOp SiblingOp, LogicOp":gee.logicOperator,BinOp:gee.arithmeticOperator,Important:gee.modifier,Comment:gee.blockComment,ColorLiteral:gee.color,"ParenthesizedContent StringLiteral":gee.string,":":gee.punctuation,"PseudoOp #":gee.derefOperator,"; ,":gee.separator,"( )":gee.paren,"[ ]":gee.squareBracket,"{ }":gee.brace}),_se={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},Cse={__proto__:null,or:98,and:98,not:106,only:106,layer:170},jse={__proto__:null,selector:112,layer:166},Sse={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},Zse={__proto__:null,to:207},Nse=use.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:"\u26a0 Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[kse],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[xse,wse,yse,bse,1,2,3,4,new Xoe("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:function(e){return _se[e]||-1}},{term:125,get:function(e){return Cse[e]||-1}},{term:4,get:function(e){return jse[e]||-1}},{term:25,get:function(e){return Sse[e]||-1}},{term:123,get:function(e){return Zse[e]||-1}}],tokenPrec:1963}),Ese=null;function Ose(){if(!Ese&&"object"==typeof document&&document.body){var e=document.body.style,t=[],n=new Set;for(var r in e)"cssText"!=r&&"cssFloat"!=r&&"string"==typeof e[r]&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))),n.has(r)||(t.push(r),n.add(r)));Ese=t.sort().map((function(e){return{type:"property",label:e,apply:e+": "}}))}return Ese||[]}var Ase=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map((function(e){return{type:"class",label:e}})),Tse=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((function(e){return{type:"keyword",label:e}})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((function(e){return{type:"constant",label:e}}))),Pse=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((function(e){return{type:"type",label:e}})),Mse=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map((function(e){return{type:"keyword",label:e}})),Ise=/^(\w[\w-]*|-\w[\w-]*|)$/,Dse=/^-(-[\w-]*)?$/;var Lse=new F9,Rse=["Declaration"];function Bse(e){for(var t=e;;){if(t.type.isTop)return t;if(!(t=t.parent))return e}}function Fse(e,t,n){if(t.to-t.from>4096){var r=Lse.get(t);if(r)return r;var i=[],a=new Set,o=t.cursor(v9.IncludeAnonymous);if(o.firstChild())do{var s,l=(0,sp.Z)(Fse(e,o.node,n));try{for(l.s();!(s=l.n()).done;){var c=s.value;a.has(c.label)||(a.add(c.label),i.push(c))}}catch(p){l.e(p)}finally{l.f()}}while(o.nextSibling());return Lse.set(t,i),i}var u=[],d=new Set;return t.cursor().iterate((function(t){var r;if(n(t)&&t.matchContext(Rse)&&":"==(null===(r=t.node.nextSibling)||void 0===r?void 0:r.name)){var i=e.sliceString(t.from,t.to);d.has(i)||(d.add(i),u.push({label:i,type:"variable"}))}})),u}var zse=function(e){return function(t){var n=t.state,r=t.pos,i=jee(n).resolveInner(r,-1),a=i.type.isError&&i.from==i.to-1&&"-"==n.doc.sliceString(i.from,i.to);if("PropertyName"==i.name||(a||"TagName"==i.name)&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:Ose(),validFor:Ise};if("ValueName"==i.name)return{from:i.from,options:Tse,validFor:Ise};if("PseudoClassName"==i.name)return{from:i.from,options:Ase,validFor:Ise};if(e(i)||(t.explicit||a)&&function(e,t){var n;if(("("==e.name||e.type.isError)&&(e=e.parent||e),"ArgList"!=e.name)return!1;var r=null===(n=e.parent)||void 0===n?void 0:n.firstChild;return"Callee"==(null===r||void 0===r?void 0:r.name)&&"var"==t.sliceString(r.from,r.to)}(i,n.doc))return{from:e(i)||a?i.from:r,options:Fse(n.doc,Bse(i),e),validFor:Dse};if("TagName"==i.name){for(var o=i.parent;o;o=o.parent)if("Block"==o.name)return{from:i.from,options:Ose(),validFor:Ise};return{from:i.from,options:Pse,validFor:Ise}}if("AtKeyword"==i.name)return{from:i.from,options:Mse,validFor:Ise};if(!t.explicit)return null;var s=i.resolve(r),l=s.childBefore(r);return l&&":"==l.name&&"PseudoClassSelector"==s.name?{from:r,options:Ase,validFor:Ise}:l&&":"==l.name&&"Declaration"==s.name||"ArgList"==s.name?{from:r,options:Tse,validFor:Ise}:"Block"==s.name||"Styles"==s.name?{from:r,options:Ose(),validFor:Ise}:null}},Vse=zse((function(e){return"VariableName"==e.name})),Use=Cee.define({name:"css",parser:Nse.configure({props:[Vee.add({Declaration:Gee()}),Xee.add({"Block KeyframeList":function(e){var t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});var Hse=function(){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(dt.Z,{gutter:[12,12],className:"pe-mt-16",children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(ed.Z.Item,{className:"pe-fs-18",label:Ua("Custom CSS","pushengage"),name:["appearance","custom_css"],rules:[{validator:function(e,t){var n=Wz(t);if(n.valid)return Promise.resolve();var r=n.message?"".concat(Ua("Invalid CSS.","pushengage")," ").concat(n.message):Ua("Invalid CSS.","pushengage");return Promise.reject(new Error(r))}}],trigger:"onChange",valuePropName:"value",getValueFromEvent:function(e){return e},children:(0,st.jsx)(zoe,{height:"220px",theme:"light",extensions:[new Iee(Use,Use.data.of({autocomplete:Vse}))],placeholder:"/* .pe-chat-widget { display:none; } */",style:{border:"1px solid #d9d9d9",borderRadius:2,background:"#fff",fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace'}})})})}),(0,st.jsx)(dt.Z,{children:(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(Cu.Z,{style:{margin:"16px 0"}})})})]})},Wse=function(){var e=bt((function(e){return e.session.user}),uV.isEqual),t=(0,oe.useState)(!1),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useState)(!1),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=ed.Z.useFormInstance(),u=oe.useMemo((function(){return[V0,U0].concat(H0).map((function(e){return{value:e.value,label:"System Stack"===e.label?Ua("System Stack","pushengage"):e.label}}))}),[]);return(0,oe.useEffect)((function(){"chat"!==c.getFieldValue(["appearance","view","style"])||Hd(e)||c.setFieldsValue({appearance:{view:{style:"simple"}}})}),[e,c]),(0,st.jsxs)(dt.Z,{gutter:[12,12],children:[r&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.chatWidgets),{},{closeable:!0,onClose:function(){return i(!1)}})),(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)("div",{className:"pe-fw-600 pe-mb-8 pe-fs-18",children:Ua("Widget Design and Behavior","pushengage")})}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("View","pushengage"),name:["appearance","view","style"],children:(0,st.jsx)(zy.default.Group,{optionType:"button",buttonStyle:"solid",options:[{label:Ua("Standard view","pushengage"),value:"simple"},{label:(0,st.jsxs)("span",{role:"button",tabIndex:0,"aria-disabled":Hd(e),onClick:function(){Hd(e)||i(!0)},onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||(Hd(e)||i(!0),t.preventDefault())},children:[Ua("Advanced view","pushengage"),!Hd(e)&&(0,st.jsx)(ft.default,{title:Ua("This feature requires Business plan or higher","pushengage"),children:(0,st.jsx)(vm,{className:"pe-ml-6"})})]}),value:"chat",disabled:!Hd(e)}],onChange:function(t){"chat"!==t.target.value||Hd(e)||(i(!0),c.setFieldsValue({appearance:{view:{style:"simple"}}}))}})})}),(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(ed.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){var n,r,i,a,o,s,l,c,u,d,p,f;return(null===e||void 0===e||null===(n=e.appearance)||void 0===n||null===(r=n.view)||void 0===r?void 0:r.style)!==(null===t||void 0===t||null===(i=t.appearance)||void 0===i||null===(a=i.view)||void 0===a?void 0:a.style)||(null===e||void 0===e||null===(o=e.appearance)||void 0===o||null===(s=o.view)||void 0===s?void 0:s.heading)!==(null===t||void 0===t||null===(l=t.appearance)||void 0===l||null===(c=l.view)||void 0===c?void 0:c.heading)||(null===e||void 0===e||null===(u=e.appearance)||void 0===u||null===(d=u.view)||void 0===d?void 0:d.subheading)!==(null===t||void 0===t||null===(p=t.appearance)||void 0===p||null===(f=p.view)||void 0===f?void 0:f.subheading)},children:function(e){var t=e.getFieldValue,n=e.setFieldsValue;if("chat"!==t(["appearance","view","style"]))return null;var r=t(["appearance","view","heading"])||"",i=t(["appearance","view","subheading"])||"";return(0,st.jsxs)(dt.Z,{gutter:[12,12],children:[(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(HN,{label:Ua("Heading","pushengage"),value:r,setValue:function(e){return n({appearance:{view:{heading:e}}})},limit:{value:60},hasEmoji:!0,id:"pe-chat-heading-input",type:"text"})}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(HN,{label:Ua("Subheading","pushengage"),value:i,setValue:function(e){return n({appearance:{view:{subheading:e}}})},limit:{value:120},hasEmoji:!0,id:"pe-chat-subheading-input",type:"text"})})]})}})}),(0,st.jsxs)(ht.Z,{xs:24,lg:12,children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Widget Icon","pushengage"),name:["appearance","icon","shape"],children:(0,st.jsx)(zy.default.Group,{optionType:"button",buttonStyle:"solid",options:[{label:(0,st.jsx)(iV,{className:"pe-fs-32"}),value:"bubble"},{label:(0,st.jsx)(oV,{className:"pe-fs-28 pe-pt-6"}),value:"message"},{label:(0,st.jsx)(lV,{className:"pe-fs-22"}),value:"phone"},{label:(0,st.jsx)(fd,{className:"pe-fs-28 pe-pt-6"}),value:"chat"},{label:(0,st.jsxs)("span",{role:"button",tabIndex:0,"aria-disabled":Hd(e),onClick:function(){Hd(e)||i(!0)},onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||(Hd(e)||i(!0),t.preventDefault())},children:[Ua("Custom","pushengage"),!Hd(e)&&(0,st.jsx)(ft.default,{title:Ua("This feature requires Business plan or higher","pushengage"),children:(0,st.jsx)(vm,{className:"pe-ml-6"})})]}),value:"custom",disabled:!Hd(e)}]})}),(0,st.jsx)(ed.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){var n,r,i,a,o,s,l,c;return(null===e||void 0===e||null===(n=e.appearance)||void 0===n||null===(r=n.icon)||void 0===r?void 0:r.shape)!==(null===t||void 0===t||null===(i=t.appearance)||void 0===i||null===(a=i.icon)||void 0===a?void 0:a.shape)||(null===e||void 0===e||null===(o=e.appearance)||void 0===o||null===(s=o.icon)||void 0===s?void 0:s.custom_type)!==(null===t||void 0===t||null===(l=t.appearance)||void 0===l||null===(c=l.icon)||void 0===c?void 0:c.custom_type)},children:function(e){var t=e.getFieldValue,n=e.setFieldsValue;if("custom"!==t(["appearance","icon","shape"]))return null;var r=t(["appearance","icon","custom_type"])||"image",i=t(["appearance","icon","custom_icon"]);return(0,st.jsxs)("div",{children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Type","pushengage"),name:["appearance","icon","custom_type"],children:(0,st.jsx)(zy.default.Group,{className:"pe-ant-radio-group pe-ant-radio-group-small",style:{display:"inline-flex",flexWrap:"nowrap"},options:[{label:Ua("Image","pushengage"),value:"image"},{label:Ua("Icon","pushengage"),value:"icon"}],optionType:"button",buttonStyle:"solid"})}),"image"===r?(0,st.jsx)(ed.Z.Item,{label:Ua("Custom Image","pushengage"),name:["appearance","icon","custom_image"],children:(0,st.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",gap:8},children:[(0,st.jsx)(hV,{onChange:function(e){n({appearance:{icon:{custom_image:e}}})},title:Ua("Select Custom Image","pushengage"),btnText:Ua("Select Image","pushengage")}),t(["appearance","icon","custom_image"])?(0,st.jsx)(st.Fragment,{children:(0,st.jsx)("div",{style:{width:40,height:40,borderRadius:"50%",overflow:"hidden"},children:(0,st.jsx)("img",{src:t(["appearance","icon","custom_image"]),alt:"custom",style:{width:"100%",height:"100%",objectFit:"cover"}})})}):null]})}):(0,st.jsx)(ed.Z.Item,{label:Ua("Custom Icon","pushengage"),name:["appearance","icon","custom_icon"],children:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Ju.default,{direction:"horizontal",size:8,align:"center",wrap:!0,className:"pe-appearance-icon-picker",children:[(0,st.jsx)(IV,{onChange:function(e){n({appearance:{icon:{custom_icon:e}}})},value:t(["appearance","icon","custom_icon"]),placeholder:Ua("Search icons","pushengage"),style:{width:"100%",minWidth:260}}),(0,st.jsx)("button",{type:"button",onClick:function(){return l(!0)},className:"pe-ant-btn pe-ant-btn-default",children:Ua("Browse all","pushengage")})]}),(0,st.jsx)(DV,{open:s,value:i,onChange:function(e){n({appearance:{icon:{custom_icon:e}}})},onClose:function(){return l(!1)},title:Ua("Choose an icon","pushengage")})]})})]})}})]}),(0,st.jsxs)(ht.Z,{xs:24,lg:12,children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Position","pushengage"),name:["appearance","icon","position","type"],children:(0,st.jsx)(zy.default.Group,{optionType:"button",buttonStyle:"solid",options:[{label:Ua("Bottom Left","pushengage"),value:"bottom_left"},{label:Ua("Bottom Right","pushengage"),value:"bottom_right"},{label:(0,st.jsxs)("span",{role:"button",tabIndex:0,"aria-disabled":Hd(e),onClick:function(){Hd(e)||i(!0)},onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||(Hd(e)||i(!0),t.preventDefault())},children:[Ua("Custom","pushengage"),!Hd(e)&&(0,st.jsx)(ft.default,{title:Ua("This feature requires Business plan or higher","pushengage"),children:(0,st.jsx)(vm,{className:"pe-ml-6"})})]}),value:"custom",disabled:!Hd(e)}]})}),(0,st.jsx)(ed.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){var n,r,i,a,o,s;return(null===e||void 0===e||null===(n=e.appearance)||void 0===n||null===(r=n.icon)||void 0===r||null===(i=r.position)||void 0===i?void 0:i.type)!==(null===t||void 0===t||null===(a=t.appearance)||void 0===a||null===(o=a.icon)||void 0===o||null===(s=o.position)||void 0===s?void 0:s.type)},children:function(e){return"custom"!==(0,e.getFieldValue)(["appearance","icon","position","type"])?null:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(dt.Z,{gutter:[8,8],children:(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Side","pushengage"),name:["appearance","icon","position","side"],children:(0,st.jsx)(zy.default.Group,{optionType:"button",buttonStyle:"solid",options:[{label:Ua("Left","pushengage"),value:"left"},{label:Ua("Right","pushengage"),value:"right"}]})})})}),(0,st.jsxs)(dt.Z,{gutter:[8,8],children:[(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Offset X (px)","pushengage"),name:["appearance","icon","position","x"],children:(0,st.jsx)(Yc.default,{type:"number"})})}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Offset Y (px)","pushengage"),name:["appearance","icon","position","y"],children:(0,st.jsx)(Yc.default,{type:"number"})})})]})]})}})]}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Default State","pushengage"),name:["appearance","icon","state"],children:(0,st.jsx)(Rv.default,{options:[{value:"click_to_open",label:Ua("Click to open","pushengage")},{value:"hover_to_open",label:(0,st.jsxs)("span",{role:"button",tabIndex:0,"aria-disabled":Hd(e),onClick:function(){Hd(e)||i(!0)},onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||(Hd(e)||i(!0),t.preventDefault())},children:[Ua("Hover to open","pushengage"),!Hd(e)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]}),disabled:!Hd(e)},{value:"opened_by_default",label:(0,st.jsxs)("span",{role:"button",tabIndex:0,"aria-disabled":Hd(e),onClick:function(){Hd(e)||i(!0)},onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||(Hd(e)||i(!0),t.preventDefault())},children:[Ua("Opened by default","pushengage"),!Hd(e)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})]}),disabled:!Hd(e)}]})})}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Widget Background Color","pushengage"),name:["appearance","icon","color"],children:(0,st.jsx)(RV,{})})}),(0,st.jsxs)(ht.Z,{xs:24,lg:12,children:[(0,st.jsx)(ed.Z.Item,{label:Ua("Widget Size","pushengage"),name:["appearance","icon","size"],children:(0,st.jsx)(zy.default.Group,{optionType:"button",buttonStyle:"solid",options:[{label:"S",value:"S"},{label:"M",value:"M"},{label:"L",value:"L"},{label:"XL",value:"XL"},{label:"XXL",value:"XXL"},{label:Ua("Custom","pushengage"),value:"custom"}]})}),(0,st.jsx)(ed.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){var n,r,i,a;return(null===e||void 0===e||null===(n=e.appearance)||void 0===n||null===(r=n.icon)||void 0===r?void 0:r.size)!==(null===t||void 0===t||null===(i=t.appearance)||void 0===i||null===(a=i.icon)||void 0===a?void 0:a.size)},children:function(e){return"custom"!==(0,e.getFieldValue)(["appearance","icon","size"])?null:(0,st.jsx)(ed.Z.Item,{label:Ua("Custom Size (px)","pushengage"),name:["appearance","icon","custom_size_px"],children:(0,st.jsx)(Yc.default,{type:"number"})})}})]}),(0,st.jsxs)(ht.Z,{xs:24,lg:12,children:[(0,st.jsx)(ed.Z.Item,{label:Ua("CTA Text","pushengage"),name:["appearance","icon","cta","text"],help:Ua("The text of the call to action button. This text will be displayed beside the chat bubble. Leave it blank to hide the call to action button.","pushengage"),children:(0,st.jsx)(Yc.default,{})}),(0,st.jsx)(ed.Z.Item,{label:Ua("CTA Behavior","pushengage"),name:["appearance","icon","cta","behavior"],children:(0,st.jsx)(zy.default.Group,{optionType:"button",buttonStyle:"solid",options:[{label:Ua("Hide after first click","pushengage"),value:"hide_after_first_click"},{label:Ua("Show all the time","pushengage"),value:"show_all_time"}]})})]}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("CTA Color","pushengage"),name:["appearance","icon","cta","color"],children:(0,st.jsx)(RV,{})})}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("CTA Background","pushengage"),name:["appearance","icon","cta","background"],children:(0,st.jsx)(RV,{})})})]})}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Icons Layout","pushengage"),name:["appearance","view","layout"],children:(0,st.jsx)(zy.default.Group,{optionType:"button",buttonStyle:"solid",options:[{label:Ua("Vertical","pushengage"),value:"vertical"},{label:Ua("Horizontal","pushengage"),value:"horizontal"}]})})}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Attention Effect","pushengage"),name:["appearance","icon","attention_effect"],help:Ua("Grab your visitor's attention with an attention effect to the chat bubble.","pushengage"),children:(0,st.jsx)(Rv.default,{options:[{value:"none",label:Ua("None","pushengage")},{value:"bounce",label:Ua("Bounce","pushengage")},{value:"waggle",label:Ua("Waggle","pushengage")},{value:"floating",label:Ua("Floating","pushengage")},{value:"sheen",label:Ua("Sheen","pushengage")},{value:"spin",label:Ua("Spin","pushengage")},{value:"fade",label:Ua("Fade","pushengage")},{value:"shockwave",label:Ua("Shockwave","pushengage")},{value:"blink",label:Ua("Blink","pushengage")},{value:"pulse",label:Ua("Pulse","pushengage")}]})})}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsxs)(ed.Z.Item,{label:Ua("Background Blur Effect","pushengage"),help:Ua("Blur your webpage to highlight the chat widget when it\u2019s open. This helps draw attention to the widget and creates a focused, distraction-free experience for visitors.","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{name:["appearance","view","background_blur"],valuePropName:"checked",getValueFromEvent:function(t){return t&&!Hd(e)?(i(!0),!1):t},noStyle:!0,children:(0,st.jsx)(Lv.Z,{})}),(0,st.jsx)(Ju.default,{direction:"horizontal",size:8,children:!Hd(e)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})})]})}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Color Theme","pushengage"),name:["appearance","view","color_theme"],help:Ua("Set the color theme of the widget.","pushengage"),children:(0,st.jsxs)(zy.default.Group,{optionType:"button",buttonStyle:"solid",children:[(0,st.jsxs)(zy.default.Button,{value:"light",children:[(0,st.jsx)(q0,{})," ",Ua("Light","pushengage")]}),(0,st.jsxs)(zy.default.Button,{value:"dark",children:[(0,st.jsx)(Y0,{})," ",Ua("Dark","pushengage")]}),(0,st.jsxs)(zy.default.Button,{value:"system",children:[(0,st.jsx)(nV,{})," ",Ua("System","pushengage")]})]})})}),(0,st.jsxs)(ht.Z,{xs:24,lg:12,children:[(0,st.jsxs)(ed.Z.Item,{label:Ua("Change Page Title","pushengage"),help:Ua("Change the page title to grab user's attention","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{name:["behavior","change_page_title"],valuePropName:"checked",getValueFromEvent:function(t){return t&&!Hd(e)?(i(!0),!1):t},noStyle:!0,children:(0,st.jsx)(Lv.Z,{})}),(0,st.jsx)(Ju.default,{direction:"horizontal",size:8,children:!Hd(e)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})})]}),(0,st.jsx)(ed.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){var n,r;return(null===e||void 0===e||null===(n=e.behavior)||void 0===n?void 0:n.change_page_title)!==(null===t||void 0===t||null===(r=t.behavior)||void 0===r?void 0:r.change_page_title)},children:function(e){var t=e.getFieldValue;if(!t(["behavior","change_page_title"]))return null;var n=t(["behavior","page_title"])||"";return(0,st.jsx)(HN,{label:Ua("Page Title","pushengage"),value:n,setValue:function(e){return c.setFieldsValue({behavior:{page_title:e}})},limit:{value:100},hasEmoji:!0,id:"pe-page-title-input",type:"text"})}})]}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsxs)(ed.Z.Item,{label:Ua("Google Analytics","pushengage"),help:Ua("Track user interactions on this widget. Please make sure to add the Google Analytics code to your website to enable the tracking.","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{name:["behavior","google_analytics"],valuePropName:"checked",getValueFromEvent:function(t){return t&&!Hd(e)?(i(!0),"disable"):t?"enable":"disable"},getValueProps:function(e){return{checked:"enable"===e}},noStyle:!0,children:(0,st.jsx)(Lv.Z,{})}),(0,st.jsx)(Ju.default,{direction:"horizontal",size:8,children:!Hd(e)&&(0,st.jsx)(Gb,{plan:ii.BUSINESS})})]})}),(0,st.jsx)(ht.Z,{xs:24,lg:12,children:(0,st.jsx)(ed.Z.Item,{label:Ua("Font Family","pushengage"),name:["appearance","font_family"],help:Ua("Select the font family for the widget.","pushengage"),children:(0,st.jsx)(Rv.default,{showSearch:!0,optionFilterProp:"label",options:u})})}),(0,st.jsx)(ht.Z,{span:24,children:(0,st.jsx)(Hse,{})})]})},qse=function(){var e=(0,vt.UO)(),t=(0,oe.useMemo)((function(){return Boolean(e.id)}),[e.id]),n=(0,vt.s0)(),r=(0,oe.useState)(0),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=ed.Z.useForm(),l=(0,xe.Z)(s,1)[0],c=(0,oe.useRef)(null),u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)(null),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)(zz),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=(0,oe.useState)(!1),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useState)(!1),Z=(0,xe.Z)(S,2),N=Z[0],E=Z[1],O=bt((function(e){return e.session.currentSite}),Zi()),A=(0,ot.lr)(),T=(0,xe.Z)(A,1)[0],P=(0,oe.useState)("desktop"),M=(0,xe.Z)(P,2),I=M[0],D=M[1],L=(0,oe.useMemo)((function(){return"undefined"!==typeof window?Math.min(720,window.innerWidth-24):720}),[]);(0,oe.useEffect)((function(){var t=e.id;if(t){var n=!0;return E(!0),jf(O,t).then((function(e){var t=e&&e.data||e;if(n&&t){var r=null!==t&&void 0!==t&&t.config?(0,kn.Z)({name:t.name,status:t.status},t.config||{}):(0,kn.Z)((0,kn.Z)({},t),{},{status:null===t||void 0===t?void 0:t.status}),i=Vz(r),a=Uz(i);w(a),l.setFieldsValue(a)}})).catch((function(){})).finally((function(){n&&E(!1)})),function(){n=!1}}}),[e.id,O,l]),(0,oe.useEffect)((function(){if(!t){var e=T.get("duplicate");if(e&&O){var n=!0;return E(!0),jf(O,e).then((function(e){var t=e&&e.data||e;if(n&&t){var r=null!==t&&void 0!==t&&t.config?(0,kn.Z)({name:"Copy of ".concat(t.name),status:t.status},t.config||{}):(0,kn.Z)((0,kn.Z)({},t||{}),{},{status:null===t||void 0===t?void 0:t.status,name:"Copy of ".concat((null===t||void 0===t?void 0:t.name)||"")}),i=Vz(r),a=Uz(i);w(a),l.setFieldsValue(a)}})).catch((function(){})).finally((function(){n&&E(!1)})),function(){n=!1}}}}),[t,O]);var R=ed.Z.useWatch("channels",l),B=ed.Z.useWatch(["appearance"],l);(0,oe.useEffect)((function(){try{var e=l.getFieldsValue(!0)||x;e&&w(Vz(e))}catch(t){}}),[R,B]);var F=(0,oe.useState)(!1),z=(0,xe.Z)(F,2),V=z[0],U=z[1],H=function(){try{if(!m||null==m.index)return;var e=m.index,t=l.getFieldValue("channels")||[],n=t[e]||{},r=l.getFieldValue(["channels",e,"schedule"]),i=(m.agents||[]).map((function(t,n){var r=l.getFieldValue(["channels",e,"agents",n,"schedule"]);return(0,kn.Z)((0,kn.Z)({},t||{}),void 0!==r?{schedule:r}:{})})),a=(0,kn.Z)((0,kn.Z)((0,kn.Z)({},n),m),{},{schedule:void 0!==r?r:n.schedule,agents:i}),o=t.slice();o[e]=a,l.setFieldsValue({channels:o})}catch(s){}},W=function(){var r=(0,at.Z)((0,it.Z)().mark((function r(){var i,a,o,s,c,u,d,p,h,g,y,b,w,k,_,C,S,Z,N,E,A;return(0,it.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,m&&null!=m.index&&H(),r.prev=2,r.next=5,l.validateFields();case 5:r.next=12;break;case 7:return r.prev=7,r.t0=r.catch(2),(i=(null===r.t0||void 0===r.t0?void 0:r.t0.errorFields)||[]).length>0&&((a=i.map((function(e){var t;return null===(t=e.errors)||void 0===t?void 0:t[0]})).filter((function(e){return e})).map((function(e){return"string"===typeof e?e:(null===e||void 0===e?void 0:e.message)||String(e)}))).length>0&&ie.default.error({message:Ua("Please fix the highlighted errors and try again.","pushengage"),description:(0,st.jsx)(st.Fragment,{children:a.map((function(e,t){return(0,st.jsx)("div",{children:e},"".concat(t,"-").concat(e))}))}),placement:"bottomRight"}),o=i[0],s=null===o||void 0===o?void 0:o.name,Array.isArray(s)&&s.length>0&&setTimeout((function(){var e=null;if("name"===s[0])e=document.getElementById("pe-widget-name-input");else{var t=s.join("_");e=document.querySelector('input[name*="'.concat(t,'"], textarea[name*="').concat(t,'"]'))}e&&(e.focus(),e.scrollIntoView({behavior:"smooth",block:"center"}))}),100)),r.abrupt("return");case 12:if(c=l.getFieldsValue(!0)||x,u=TV(c),(d=AV(u)).isValid){r.next=20;break}try{g=[],null!==(y=d.errors||{})&&void 0!==y&&y.name&&g.push({name:["name"],errors:[y.name]}),null!==y&&void 0!==y&&y.show_on&&g.push({name:["show_on"],errors:[y.show_on]}),null!==(b=(null===y||void 0===y||null===(p=y.behavior)||void 0===p?void 0:p.trigger)||{})&&void 0!==b&&b.display_after_seconds&&g.push({name:["behavior","trigger","display_after_seconds"],errors:[b.display_after_seconds]}),null!==b&&void 0!==b&&b.display_after_scroll_percent&&g.push({name:["behavior","trigger","display_after_scroll_percent"],errors:[b.display_after_scroll_percent]}),null!==(w=(null===y||void 0===y?void 0:y.appearance)||{})&&void 0!==w&&w.custom_css&&g.push({name:["appearance","custom_css"],errors:[w.custom_css]}),null!==(k=(null===y||void 0===y?void 0:y.appearance)&&y.appearance.icon||{})&&void 0!==k&&k.custom_image&&g.push({name:["appearance","icon","custom_image"],errors:[k.custom_image]}),null!==k&&void 0!==k&&k.custom_icon&&g.push({name:["appearance","icon","custom_icon"],errors:[k.custom_icon]}),null!==k&&void 0!==k&&k.custom_size_px&&g.push({name:["appearance","icon","custom_size_px"],errors:[k.custom_size_px]}),null!==(_=(null===y||void 0===y||null===(h=y.behavior)||void 0===h?void 0:h.display_rules)||{})&&void 0!==_&&_.date_scheduling&&g.push({name:["behavior","display_rules","date_scheduling"],errors:[_.date_scheduling]}),null!==_&&void 0!==_&&_.rule_groups&&g.push({name:["behavior","display_rules","rule_groups"],errors:[_.rule_groups]}),null!==_&&void 0!==_&&_.business_hours&&g.push({name:["behavior","display_rules","business_hours"],errors:[_.business_hours]}),g.length&&l.setFields(g)}catch(T){}return d.focus&&"channels"===d.focus.section&&(C=d.focus.channelIndex,(S=(u.channels||[])[C])&&(v((0,kn.Z)((0,kn.Z)({},S),{},{index:C})),j(!0),f(!0))),ie.default.error({message:Ua("Please fix the highlighted errors and try again.","pushengage"),description:(0,st.jsx)(st.Fragment,{children:(d.messages||[]).map((function(e,t){return(0,st.jsx)("div",{children:e},"".concat(t,"-").concat(e))}))})}),r.abrupt("return");case 20:if(Z=PV(u),U(!0),!t||!e.id){r.next=35;break}return r.next=25,Nf(O,e.id,Z);case 25:return ie.default.success({message:Ua("Widget updated successfully","pushengage")}),r.prev=26,r.next=29,MJ(O);case 29:r.next=33;break;case 31:r.prev=31,r.t1=r.catch(26);case 33:r.next=53;break;case 35:return r.next=37,Zf(O,Z);case 37:if(N=r.sent,E=N&&N.data||N||{},!(A=String((null===E||void 0===E?void 0:E.id)||""))){r.next=52;break}return ie.default.success({message:Ua("Widget created successfully","pushengage")}),n($r.path.clickToChatV2.editById.replace(":id",A)),r.prev=43,r.next=46,MJ(O,!0);case 46:r.next=50;break;case 48:r.prev=48,r.t2=r.catch(43);case 50:r.next=53;break;case 52:ie.default.error({message:Ua("Failed to create widget","pushengage")});case 53:r.next=57;break;case 55:r.prev=55,r.t3=r.catch(0);case 57:return r.prev=57,U(!1),r.finish(57);case 60:case"end":return r.stop()}}),r,null,[[0,55,57,60],[2,7],[26,31],[43,48]])})));return function(){return r.apply(this,arguments)}}(),q=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a,o,s,c,u,d,p,h,g,y,b;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&null!=m.index&&H(),e.prev=1,n=[],0===t?n.push(["name"],["show_on"],["channels"]):1===t?n.push(["appearance"]):2===t&&n.push(["behavior","trigger"],["behavior","display_rules"]),!(n.length>0)){e.next=7;break}return e.next=7,l.validateFields(n);case 7:if(r=l.getFieldsValue(!0)||x,i=TV(r),0!==t){e.next=13;break}a=NV(i),e.next=22;break;case 13:if(1!==t){e.next=17;break}a=EV(i),e.next=22;break;case 17:if(2!==t){e.next=21;break}a=OV(i),e.next=22;break;case 21:case 45:return e.abrupt("return",!0);case 22:if(a.isValid){e.next=45;break}return c=[],null!==(u=a.errors||{})&&void 0!==u&&u.name&&c.push({name:["name"],errors:[u.name]}),null!==u&&void 0!==u&&u.show_on&&c.push({name:["show_on"],errors:[u.show_on]}),null!==u&&void 0!==u&&u.channels&&Array.isArray(u.channels)&&u.channels.forEach((function(e,t){e&&"object"===typeof e&&Object.keys(e).forEach((function(n){e[n]&&c.push({name:["channels",t,n],errors:[e[n]]})}))})),null!==(d=(null===u||void 0===u?void 0:u.appearance)||{})&&void 0!==d&&d.custom_css&&c.push({name:["appearance","custom_css"],errors:[d.custom_css]}),null!==(p=(null===d||void 0===d?void 0:d.icon)||{})&&void 0!==p&&p.custom_image&&c.push({name:["appearance","icon","custom_image"],errors:[p.custom_image]}),null!==p&&void 0!==p&&p.custom_icon&&c.push({name:["appearance","icon","custom_icon"],errors:[p.custom_icon]}),null!==p&&void 0!==p&&p.custom_size_px&&c.push({name:["appearance","icon","custom_size_px"],errors:[p.custom_size_px]}),null!==(h=(null===u||void 0===u||null===(o=u.behavior)||void 0===o?void 0:o.trigger)||{})&&void 0!==h&&h.display_after_seconds&&c.push({name:["behavior","trigger","display_after_seconds"],errors:[h.display_after_seconds]}),null!==h&&void 0!==h&&h.display_after_scroll_percent&&c.push({name:["behavior","trigger","display_after_scroll_percent"],errors:[h.display_after_scroll_percent]}),null!==(g=(null===u||void 0===u||null===(s=u.behavior)||void 0===s?void 0:s.display_rules)||{})&&void 0!==g&&g.date_scheduling&&c.push({name:["behavior","display_rules","date_scheduling"],errors:[g.date_scheduling]}),null!==g&&void 0!==g&&g.rule_groups&&c.push({name:["behavior","display_rules","rule_groups"],errors:[g.rule_groups]}),null!==g&&void 0!==g&&g.business_hours&&c.push({name:["behavior","display_rules","business_hours"],errors:[g.business_hours]}),c.length>0&&l.setFields(c),a.focus&&"channels"===a.focus.section&&(y=a.focus.channelIndex,(b=(i.channels||[])[y])&&(v((0,kn.Z)((0,kn.Z)({},b),{},{index:y})),j(!0),f(!0))),ie.default.error({message:Ua("Please fix the errors in this tab before continuing.","pushengage"),description:(0,st.jsx)(st.Fragment,{children:(a.messages||[]).map((function(e,t){return(0,st.jsx)("div",{children:e},"".concat(t,"-").concat(e))}))})}),e.abrupt("return",!1);case 48:return e.prev=48,e.t0=e.catch(1),ie.default.error({message:Ua("Please fix the errors in this tab before continuing.","pushengage")}),e.abrupt("return",!1);case 52:case"end":return e.stop()}}),e,null,[[1,48]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n="content"===t?0:"appearance"===t?1:"triggers"===t?2:3)>a)){e.next=7;break}return e.next=4,q(a);case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:(r=l.getFieldsValue(!0))&&w(Vz(r)),o(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(a);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:(t=l.getFieldsValue(!0))&&w(Vz(t)),o((function(e){return Math.min(3,e+1)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=0===a?"content":1===a?"appearance":2===a?"triggers":"review";return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Pf,{title:Ua(t?"Edit Chat Widget":"Create Chat Widget","pushengage"),children:(0,st.jsx)(pt.default,{type:"primary",loading:V||N,onClick:function(){return W()},children:Ua(t?"Update Widget":"Save Widget","pushengage")})}),(0,st.jsx)(iy,{containerClassName:"pe-chat-widget-edit",containerIdName:"pe-chat-widget-edit-page",children:(0,st.jsx)("div",{children:(0,st.jsxs)(dt.Z,{gutter:[16,16],children:[(0,st.jsx)(ht.Z,{lg:16,sm:24,xs:24,children:(0,st.jsxs)(Wc.Z,{bordered:!1,loading:N,children:[(0,st.jsx)(ZY,{placement:"top",active:G,label:Ua("Next","pushengage"),nextVariant:"icon",nextTooltip:Ua("Next","pushengage"),steps:[{key:"content",label:Ua("Content","pushengage"),Icon:xH},{key:"appearance",label:Ua("Appearance","pushengage"),Icon:Tg},{key:"triggers",label:Ua("Triggers","pushengage"),Icon:Lf},{key:"review",label:Ua("Review","pushengage"),Icon:Pp}],onChange:K}),0===a?(0,st.jsx)("div",{className:"pe-mt-24",children:(0,st.jsx)(eV,{ref:c,initialValues:x,onValuesChange:function(e){return w(Vz(e))},form:l,onEditChannel:function(e){v(e),j(!1),f(!0)}})}):null,1===a?(0,st.jsx)("div",{className:"pe-mt-24",children:(0,st.jsx)(ed.Z,{form:l,layout:"vertical",onValuesChange:function(){var e=l.getFieldsValue(!0);e&&w(Vz(e))},children:(0,st.jsx)(Wse,{})})}):null,2===a?(0,st.jsx)("div",{className:"pe-mt-24",children:(0,st.jsx)(ed.Z,{form:l,layout:"vertical",onValuesChange:function(){var e=l.getFieldsValue(!0);e&&w(Vz(e))},children:(0,st.jsx)(z0,{})})}):null,3===a?(0,st.jsx)(j0,{form:l,value:x,mergeWithDefaults:Vz,normalizeWidget:TV,onValuesChange:function(e){return w(e)}}):null,(0,st.jsxs)(dt.Z,{justify:"space-between",className:"pe-mt-24 pe-editor-footer-actions",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(ft.default,{placement:"top",title:Ua("Back","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",disabled:0===a,onClick:function(){return o((function(e){return Math.max(0,e-1)}))},icon:(0,st.jsx)(kh,{rotate:180}),"aria-label":Ua("Back","pushengage")})})}),(0,st.jsx)(ht.Z,{className:"pe-footer-right",children:(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,st.jsx)(pt.default,{type:"primary",loading:V,onClick:function(){return W()},children:Ua("Save Settings","pushengage")}),a<3?(0,st.jsx)(ft.default,{placement:"top",title:Ua("Next","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",onClick:Y,icon:(0,st.jsx)(kh,{}),"aria-label":Ua("Next","pushengage")})}):null]})})]})]})}),(0,st.jsx)(ht.Z,{lg:8,sm:24,xs:24,children:(0,st.jsx)(wA.Z,{offsetTop:32,children:(0,st.jsx)(Wc.Z,{bordered:!1,loading:N,style:{minHeight:300},children:(0,st.jsx)(cV,{value:x,device:I,onDeviceChange:D})})})})]})})}),(0,st.jsx)(fU,{visible:p,editingChannel:m,onClose:function(){f(!1),v(null)},width:L,setEditingChannel:v,formRef:c,drawerTriedSave:C,setDrawerTriedSave:j,sharedForm:l})]})},Kse=[{label:Ua("Customer Name","pushengage"),tag:"{{customer_name}}"},{label:Ua("Order ID","pushengage"),tag:"{{order_id}}"},{label:Ua("Order Total","pushengage"),tag:"{{order_total}}"},{label:Ua("Order Date","pushengage"),tag:"{{order_date}}"},{label:Ua("Billing Name","pushengage"),tag:"{{order_billing_name}}"},{label:Ua("Billing Full Name","pushengage"),tag:"{{order_billing_full_name}}"},{label:Ua("Checkout URL","pushengage"),tag:"{{checkout_url}}"},{label:Ua("Site URL","pushengage"),tag:"{{site_url}}"},{label:Ua("Shop URL","pushengage"),tag:"{{shop_url}}"},{label:Ua("Dashboard URL","pushengage"),tag:"{{dashboard_url}}"},{label:Ua("Order URL","pushengage"),tag:"{{order_url}}"},{label:Ua("Order Admin URL","pushengage"),tag:"{{order_admin_url}}"}],Yse=mt.Z.Paragraph,Gse=ay.default.TabPane,Qse=function(e){var t=e.visible,n=e.campaign,r=e.rolesOptions,i=e.onCancel,a=e.onSave,o=ed.Z.useForm(),s=(0,xe.Z)(o,1)[0],l=(0,oe.useState)(n),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)(!1),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=_u(),v=(0,oe.useState)({}),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=(0,oe.useState)(""),k=(0,xe.Z)(w,2),_=k[0],C=k[1],j=function(e,t){var n=null===t||void 0===t?void 0:t.target,r=n&&n.selectionStart||0,i=n&&n.selectionEnd||r;x((function(t){return(0,kn.Z)((0,kn.Z)({},t),{},(0,ti.Z)({},e,{start:r,end:i}))})),C(e)};(0,oe.useEffect)((function(){d((0,kn.Z)({},n))}),[n]);var S=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,g(!0),e.next=6,s.validateFields();case 6:return t=e.sent,n=(0,kn.Z)((0,kn.Z)({},u),{},{adminConfig:(0,kn.Z)((0,kn.Z)({},u.adminConfig),{},{enabled:"boolean"===typeof t.adminEnabled?t.adminEnabled:u.adminConfig.enabled,roles:Array.isArray(t.adminRoles)?t.adminRoles:u.adminConfig.roles,title:"string"===typeof t.adminTitle?t.adminTitle:u.adminConfig.title,message:"string"===typeof t.adminMessage?t.adminMessage:u.adminConfig.message,url:"string"===typeof t.adminUrl?t.adminUrl:u.adminConfig.url}),customerConfig:(0,kn.Z)((0,kn.Z)({},u.customerConfig),{},{enabled:"boolean"===typeof t.customerEnabled?t.customerEnabled:u.customerConfig.enabled,title:"string"===typeof t.customerTitle?t.customerTitle:u.customerConfig.title,message:"string"===typeof t.customerMessage?t.customerMessage:u.customerConfig.message,url:"string"===typeof t.customerUrl?t.customerUrl:u.customerConfig.url})}),e.next=10,Promise.resolve(a(n));case 10:return e.prev=10,g(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,,10,13]])})));return function(){return e.apply(this,arguments)}}(),Z=(0,oe.useMemo)((function(){return{imgUrl:"",title:u.customerConfig.title,message:u.customerConfig.message,url:u.customerConfig.url,notificationPreviewPicker:"windows11--chrome"}}),[u.customerConfig]),N=(0,oe.useMemo)((function(){return{imgUrl:"",title:u.adminConfig.title,message:u.adminConfig.message,url:u.adminConfig.url,notificationPreviewPicker:"windows11--chrome"}}),[u.adminConfig]),E=s.getFieldsError(),O=Object.values(E).flatMap((function(e){return e.errors})).length>0;return(0,st.jsx)(gt.Z,{visible:t,onCancel:i,title:Ua("Configure Automation","pushengage"),width:m.isMobile||m.isTablet?"95%":1e3,footer:null,destroyOnClose:!0,maskClosable:!h,keyboard:!h,closable:!h,children:(0,st.jsxs)(dt.Z,{gutter:24,children:[(0,st.jsx)(ht.Z,{xs:24,sm:24,md:14,children:(0,st.jsxs)(ed.Z,{form:s,layout:"vertical",disabled:h,initialValues:{customerEnabled:u.customerConfig.enabled,customerTitle:u.customerConfig.title,customerMessage:u.customerConfig.message,customerUrl:u.customerConfig.url,adminEnabled:u.adminConfig.enabled,adminRoles:u.adminConfig.roles,adminTitle:u.adminConfig.title,adminMessage:u.adminConfig.message,adminUrl:u.adminConfig.url},onValuesChange:function(e,t){var n=function(t){return Object.keys(e).some((function(e){return-1!==t.indexOf(e)}))},r=n(["customerEnabled","customerTitle","customerMessage","customerUrl"]),i=n(["adminEnabled","adminRoles","adminTitle","adminMessage","adminUrl"]);if(r||i){var a=function(e,t){return"string"===typeof e?e:t},o=function(e,t){return"boolean"===typeof e?e:t},s=function(e,t){return Array.isArray(e)?e:t};d((function(e){var n=(0,kn.Z)({},e);return r&&(n.customerConfig=(0,kn.Z)((0,kn.Z)({},e.customerConfig),{},{enabled:o(t.customerEnabled,e.customerConfig.enabled),title:a(t.customerTitle,e.customerConfig.title),message:a(t.customerMessage,e.customerConfig.message),url:a(t.customerUrl,e.customerConfig.url)})),i&&(n.adminConfig=(0,kn.Z)((0,kn.Z)({},e.adminConfig),{},{enabled:o(t.adminEnabled,e.adminConfig.enabled),roles:s(t.adminRoles,e.adminConfig.roles),title:a(t.adminTitle,e.adminConfig.title),message:a(t.adminMessage,e.adminConfig.message),url:a(t.adminUrl,e.adminConfig.url)})),n}))}},children:[(0,st.jsxs)(ay.default,{defaultActiveKey:"customer",tabBarExtraContent:(0,st.jsx)(ft.default,{title:Ua("Insert dynamic tag into the focused field","pushengage"),children:(0,st.jsx)(Ff.default,{trigger:"click",placement:"left",content:(0,st.jsxs)("div",{style:{width:260},children:[(0,st.jsx)("div",{className:"pe-mb-8",children:Ua("Available dynamic tags","pushengage")}),(0,st.jsx)(Rv.default,{showSearch:!0,placeholder:Ua("Select a tag","pushengage"),style:{width:"100%"},onChange:function(e){return function(e,t){var n=s.getFieldValue(e)||"",r=b[e],i="";i=r?n.slice(0,r.start)+t+n.slice(r.end):n+t,s.setFieldsValue((0,ti.Z)({},e,i))}(_||"customerMessage",e)},children:Kse.map((function(e){return(0,st.jsxs)(Rv.default.Option,{value:e.tag,children:[e.label," (",e.tag,")"]},e.tag)}))})]}),children:(0,st.jsx)(pt.default,{shape:"circle",icon:(0,st.jsx)(Mv,{})})})}),children:[(0,st.jsxs)(Gse,{disabled:h,tab:Ua("Customer Notification","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{name:"customerEnabled",valuePropName:"checked",children:(0,st.jsx)(Vy.default,{children:Ua("Enable","pushengage")})}),(0,st.jsx)(ed.Z.Item,{name:"customerTitle",label:Ua("Notification Title","pushengage"),messageVariables:{name:Ua("Notification Title")},rules:[{required:!0,whitespace:!0},{max:170}],children:(0,st.jsx)(Yc.default,{maxLength:170,onFocus:function(e){return j("customerTitle",e)},onSelect:function(e){return j("customerTitle",e)}})}),(0,st.jsx)(ed.Z.Item,{name:"customerMessage",label:Ua("Notification Message","pushengage"),messageVariables:{name:Ua("Notification Message")},rules:[{required:!0,whitespace:!0},{max:256}],children:(0,st.jsx)(Yc.default.TextArea,{maxLength:256,rows:3,onFocus:function(e){return j("customerMessage",e)},onSelect:function(e){return j("customerMessage",e)}})}),(0,st.jsx)(ed.Z.Item,{name:"customerUrl",label:Ua("Notification URL","pushengage"),messageVariables:{name:Ua("Notification URL")},rules:[{required:!0,whitespace:!0},{max:1600}],children:(0,st.jsx)(Yc.default,{maxLength:1600,onFocus:function(e){return j("customerUrl",e)},onSelect:function(e){return j("customerUrl",e)}})})]},"customer"),(0,st.jsxs)(Gse,{disabled:h,tab:Ua("Admin Notification","pushengage"),children:[(0,st.jsx)(ed.Z.Item,{name:"adminEnabled",valuePropName:"checked",children:(0,st.jsx)(Vy.default,{children:Ua("Enable","pushengage")})}),(0,st.jsx)(ed.Z.Item,{name:"adminRoles",label:Ua("Admin Roles","pushengage"),children:(0,st.jsx)(Rv.default,{mode:"multiple",allowClear:!0,children:Object.entries(r).map((function(e){var t=(0,xe.Z)(e,2),n=t[0],r=t[1];return(0,st.jsx)(Rv.default.Option,{value:n,children:r},n)}))})}),(0,st.jsx)(ed.Z.Item,{name:"adminTitle",label:Ua("Admin Notification Title","pushengage"),messageVariables:{name:Ua("Notification Title")},rules:[{required:!0,whitespace:!0},{max:170}],children:(0,st.jsx)(Yc.default,{maxLength:170,onFocus:function(e){return j("adminTitle",e)},onSelect:function(e){return j("adminTitle",e)}})}),(0,st.jsx)(ed.Z.Item,{name:"adminMessage",label:Ua("Admin Notification Message","pushengage"),messageVariables:{name:Ua("Notification Message")},rules:[{required:!0,whitespace:!0},{max:256}],children:(0,st.jsx)(Yc.default.TextArea,{maxLength:256,rows:3,onFocus:function(e){return j("adminMessage",e)},onSelect:function(e){return j("adminMessage",e)}})}),(0,st.jsx)(ed.Z.Item,{name:"adminUrl",label:Ua("Admin Notification URL","pushengage"),messageVariables:{name:Ua("Notification URL")},rules:[{required:!0,whitespace:!0},{max:1600}],children:(0,st.jsx)(Yc.default,{maxLength:1600,onFocus:function(e){return j("adminUrl",e)},onSelect:function(e){return j("adminUrl",e)}})})]},"admin")]}),(0,st.jsx)(Cu.Z,{}),(0,st.jsxs)(dt.Z,{justify:"end",children:[(0,st.jsx)(pt.default,{onClick:i,className:"pe-mr-8",disabled:h,children:Ua("Cancel","pushengage")}),(0,st.jsx)(pt.default,{type:"primary",loading:h,disabled:O||h,onClick:S,children:Ua("Save","pushengage")})]})]})}),(0,st.jsxs)(ht.Z,{xs:24,sm:24,md:10,children:[(0,st.jsx)(Yse,{className:"pe-fw-600 pe-mb-8",children:Ua("Preview","pushengage")}),(0,st.jsx)(Wc.Z,{size:"small",className:"pe-mb-16",title:Ua("Customer","pushengage"),children:(0,st.jsx)($U,(0,kn.Z)({},Z))}),(0,st.jsx)(Wc.Z,{size:"small",title:Ua("Admin","pushengage"),children:(0,st.jsx)($U,(0,kn.Z)({},N))})]})]})})},Xse=function(e){var t,n=mt.Z.Title,r=bt((function(e){return e.session.user}),Zi()),i=yt(),a=bt((function(e){return e.session.currentSite})),o=bt((function(e){return e.globals.settings}),Zi()),s=_u(),l=(0,oe.useState)(1100),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)("content"),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)(""),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)(!1),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)(!1),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)(!1),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=(0,oe.useState)((function(){return function(e){var t,n=Bi()(e);return n.notifications=iO(n.notifications.filter((function(e){return 1===e.status})),null===(t=o.default_notification_expiry)||void 0===t?void 0:t.value),n.errors=(0,kn.Z)({},$E),n}(e.details)})),P=(0,xe.Z)(T,2),M=P[0],I=P[1],D=(0,oe.useState)(!1),L=(0,xe.Z)(D,2),R=L[0],B=L[1],F=(0,oe.useState)({notification_analytics:{result:{enabled:!1}}}),z=(0,xe.Z)(F,2),V=z[0],U=z[1],H=(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.trigger_id)||0,W=function(e){if("settings"===e){var t=JN(M);if(!t.isValid){var n,r;if(I(t.campaign),null!==t&&void 0!==t&&null!==(n=t.messages)&&void 0!==n&&n.length)gt.Z.error({className:"pe-notification-validation-modal",width:"500px",content:(0,st.jsx)("div",{children:null===t||void 0===t||null===(r=t.messages)||void 0===r?void 0:r.map((function(e){return(0,st.jsx)(lq,{title:"".concat(ba(Ua("Notification %d has following errors.","pushengage"),Number(e.index)+1)),messages:e.messages},"index-".concat(e.index))}))}),okButtonProps:{size:"small"}});return}}g(e);var i=document.getElementById("pe-notification-automation-form");null===i||void 0===i||i.scrollIntoView({behavior:"smooth"})};(0,oe.useEffect)((function(){d(s.isDesktop?1100:s.isTablet?900:s.isMobile?"100%":500)}),[s]);var q=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(es({siteId:t})).unwrap();case 3:r=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0;case 9:a=(null===(n=r)||void 0===n?void 0:n.data)||{},U(null===a||void 0===a?void 0:a.payload);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){q(a)}),[a]);var K=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,i,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Bi()(M),i=eE(n,qd(r),V),b(t),i.isValid){e.next=9;break}return I(i.campaign),ie.default.error({message:"There is an validation error."}),e.abrupt("return");case 9:if(s=rO(n,t,o),e.prev=10,"undefined"!==typeof window&&window.dispatchEvent(new CustomEvent("pe_trigger_save_start",{detail:{triggerId:H,status:t}})),!a||!H){e.next=17;break}return e.next=15,YE(a,H,s);case 15:ie.default.success({message:"Triggered campaign updated."}),"undefined"!==typeof window&&window.dispatchEvent(new CustomEvent("pe_trigger_saved",{detail:{triggerId:H,status:t}}));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),e.t0;case 22:return e.prev=22,b(""),"undefined"!==typeof window&&window.dispatchEvent(new CustomEvent("pe_trigger_save_end",{detail:{triggerId:H,status:t}})),e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[10,19,22,26]])})));return function(t){return e.apply(this,arguments)}}();return(0,st.jsxs)(Uc.Z,{title:(0,st.jsx)(n,{level:3,className:"pe-mb-0",children:e.details.campaign_name}),placement:"right",width:u,closeIcon:(0,st.jsx)($c,{}),onClose:e.onClose,visible:!0,drawerStyle:{background:"#f8f8fb"},className:"pe-automation-details-drawer",children:[O&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.largeImageNotification),{},{closeable:!0,onClose:function(){A(!1)}})),k&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.multiActionNotification),{},{closeable:!0,onClose:function(){_(!1)}})),S&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.multipleNotificationInDrip),{},{closeable:!0,onClose:function(){Z(!1)}})),!e.loading&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(_H,{active:h,placement:"top",type:"trigger",hasBottomBorder:"content"===h,onClick:function(e){return W(e)},children:"content"===h&&(0,st.jsxs)(pt.default,{type:"primary",onClick:function(){return W("settings")},size:"large",children:[Ua("Trigger Settings","pushengage"),"\xa0 \u2192"]})}),(0,st.jsxs)(ed.Z,{layout:"vertical",size:"large",id:"pe-notification-automation-form",className:"pe-drip-campaign-form",children:["content"===h&&(0,st.jsx)(L$,{campaign:M,notifications:M.notifications,onUpdate:function(e){I((0,kn.Z)((0,kn.Z)({},M),{},{notifications:e}))},togglePremium:function(e,t,n,r){"show"===e&&("multiAction"===r?_(!0):"multipleNotification"===r?Z(!0):"big_image_enabled"===r&&A(!0))},template:M.campaign_type}),"settings"===h&&(0,st.jsx)(V$,{campaign:M,onChange:function(e){I((0,kn.Z)({},e))},onSubmit:K,submitType:y,editing:!0,onCodeAction:function(){return B(!0)}})]}),R&&(0,st.jsx)(G$,{campaign:M,user:r,settings:V,currentSite:a,onAction:function(){return B(!1)}})]})]})},$se=mt.Z.Paragraph,Jse=function(e){var t,n=e.visible,r=e.title,i=e.campaignType,a=e.hasTriggerAccess,o=e.canWrite,s=e.hasPermission,l=e.enabled,c=e.triggerId,u=e.saving,d=e.onClose,p=e.onToggle,f=e.onTriggerChange,h=e.onOptionsLoaded,g=e.onOpenEditDrawer,m=e.onReady,v=e.onSave,y=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.currentSite})),b=(0,oe.useState)([]),x=(0,xe.Z)(b,2),w=x[0],k=x[1],_=(0,oe.useState)(!1),C=(0,xe.Z)(_,2),j=C[0],S=C[1],Z=(0,oe.useState)(!1),N=(0,xe.Z)(Z,2),E=N[0],O=N[1],A=(0,oe.useState)(!1),T=(0,xe.Z)(A,2),P=T[0],M=T[1],I=(0,oe.useState)(!1),D=(0,xe.Z)(I,2),L=D[0],R=D[1],B=(0,oe.useState)(null),F=(0,xe.Z)(B,2),z=F[0],V=F[1],U=(0,oe.useRef)(h),H=(0,oe.useRef)(m);(0,oe.useEffect)((function(){U.current=h}),[h]),(0,oe.useEffect)((function(){H.current=m}),[m]);var W=(0,oe.useMemo)((function(){var e;return c||(null===w||void 0===w||null===(e=w[0])||void 0===e?void 0:e.value)||0}),[c,w]);(0,oe.useEffect)((function(){if(n){var e=!0;return function(){t.apply(this,arguments)}(),function(){e=!1}}function t(){return t=(0,at.Z)((0,it.Z)().mark((function t(){var n,r,a,o;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,S(!0),t.next=4,UE(y,{campaign_type:i});case 4:if(r=t.sent,a=(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.data)||[],o=a.map((function(e){return{label:e.campaign_name,value:Number(e.trigger_id)}})),e){t.next=9;break}return t.abrupt("return");case 9:k(o),"function"===typeof U.current&&U.current(o),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),k([]),"function"===typeof U.current&&U.current([]);case 17:return t.prev=17,S(!1),"function"===typeof H.current&&H.current(),t.finish(17);case 21:case"end":return t.stop()}}),t,null,[[0,13,17,21]])}))),t.apply(this,arguments)}}),[n,y,i]),(0,oe.useEffect)((function(){if(n){if(W){var e=!0;return function(){t.apply(this,arguments)}(),function(){e=!1}}V(null)}function t(){return t=(0,at.Z)((0,it.Z)().mark((function t(){var n,r,i;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,O(!0),r={expand:"notification_analytics,result_analytics"},t.next=5,qE(y,W,r);case 5:if((i=t.sent).data.notifications=null===(n=i.data.notifications)||void 0===n?void 0:n.sort((function(e,t){return(null===e||void 0===e?void 0:e.rule_order)-(null===t||void 0===t?void 0:t.rule_order)})),R("new"===i.data.status),e){t.next=10;break}return t.abrupt("return");case 10:V(i.data),t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(0),e){t.next=17;break}return t.abrupt("return");case 17:V(null);case 18:return t.prev=18,e&&O(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[0,13,18,21]])}))),t.apply(this,arguments)}}),[n,W,y]),(0,oe.useEffect)((function(){if("undefined"!==typeof window){var e=function(e){var t,n=null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.triggerId;n&&n===W&&M(!0)},t=function(e){var t,n=null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.triggerId;n&&n===W&&M(!1)},r=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var r,i,a,o,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===t||void 0===t||null===(r=t.detail)||void 0===r?void 0:r.triggerId,n){e.next=3;break}return e.abrupt("return");case 3:if(!i||i!==W){e.next=20;break}return e.prev=4,O(!0),o={expand:"notification_analytics,result_analytics"},e.next=9,qE(y,W,o);case 9:(s=e.sent).data.notifications=null===(a=s.data.notifications)||void 0===a?void 0:a.sort((function(e,t){return(null===e||void 0===e?void 0:e.rule_order)-(null===t||void 0===t?void 0:t.rule_order)})),R("new"===s.data.status),V(s.data),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(4);case 17:return e.prev=17,O(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,15,17,20]])})));return function(t){return e.apply(this,arguments)}}();return window.addEventListener("pe_trigger_save_start",e),window.addEventListener("pe_trigger_save_end",t),window.addEventListener("pe_trigger_saved",r),function(){window.removeEventListener("pe_trigger_save_start",e),window.removeEventListener("pe_trigger_save_end",t),window.removeEventListener("pe_trigger_saved",r)}}}),[W,y,n]);return(0,st.jsx)(gt.Z,{visible:n,onCancel:d,title:Ua("Configure %s","pushengage").replace("%s",r),width:1120,destroyOnClose:!0,footer:[(0,st.jsx)(pt.default,{onClick:d,disabled:u,children:Ua("Cancel","pushengage")},"cancel"),(0,st.jsx)(pt.default,{type:"primary",onClick:function(){var e;return v({enabled:l,triggerId:W,triggerName:(null===(e=w.find((function(e){return e.value===W})))||void 0===e?void 0:e.label)||"",options:w})},loading:u,children:Ua("Save","pushengage")},"save")],children:(0,st.jsx)("div",{children:(0,st.jsxs)("div",{style:{display:"flex",gap:24},children:[(0,st.jsx)("div",{style:{flex:"0 0 600px",minWidth:0},children:(0,st.jsxs)(Ju.default,{direction:"vertical",style:{width:"100%"},size:12,children:[(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,st.jsx)("div",{className:"pe-fw-500",children:r}),!a&&(0,st.jsx)(Gb,{plan:"growth",leftMargin:10})]}),(0,st.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,st.jsx)("span",{className:"pe-fw-500",children:Ua("Enable Trigger","pushengage")}),(0,st.jsx)(Lv.Z,{checked:l,onChange:function(e){return p(e)},disabled:j||u||(!o||!s)&&a,loading:j})]}),l&&(0,st.jsxs)("div",{children:[(0,st.jsx)("div",{className:"pe-mb-6 pe-fw-500",children:Ua("Select Trigger","pushengage")}),(0,st.jsx)(Rv.default,{style:{width:"100%"},placeholder:Ua("Select Trigger","pushengage"),value:c||(null===w||void 0===w||null===(t=w[0])||void 0===t?void 0:t.value)||void 0,onChange:function(e){return f(e)},options:w,loading:j,showSearch:!0,optionFilterProp:"label",suffixIcon:c?(0,st.jsx)(pt.default,{type:"text",size:"small",icon:(0,st.jsx)(Oh,{}),onClick:(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,g(c);case 3:M(!1);case 4:case"end":return e.stop()}}),e)}))),loading:P}):void 0}),L&&(0,st.jsx)(Au.default,{showIcon:!0,type:"warning",className:"pe-mt-20",message:Ua("The selected trigger is in draft mode. It will not be sent to subscribers.","pushengage")})]})]})}),(0,st.jsxs)("div",{style:{flex:"1 1 500px"},children:[(0,st.jsx)(mt.Z.Paragraph,{className:"pe-fw-600 pe-mb-8",children:Ua("Preview","pushengage")}),(0,st.jsx)(Wc.Z,{size:"small",children:l&&z?(0,st.jsx)(Hc.default,{spinning:E,children:(0,st.jsx)("div",{style:{maxHeight:480,overflowY:"auto"},children:(0,st.jsx)("ul",{className:"pe-notification-builder-wrapper",children:(z.notifications||[]).filter((function(e){return 1===e.status})).map((function(e,t){var n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,v,y,b;return(0,st.jsxs)("li",{className:"pe-notification-builder-wrap",children:[(0,st.jsx)("div",{className:"pe-notification-builder-index",children:(0,st.jsx)("div",{className:"sequence",children:t+1})}),(0,st.jsx)("div",{className:"pe-notification-builder-content pe-ml-5",children:(0,st.jsx)($U,{type:"trigger",imgUrl:e.notification_image,title:e.notification_title,message:e.notification_message,btn1:{title:null!==(n=null===(r=e.actions)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.label)&&void 0!==n?n:"",url:null!==(a=null===(o=e.actions)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.url)&&void 0!==a?a:"",image_url:null!==(l=null===(c=e.actions)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.image_url)&&void 0!==l?l:""},btn2:{title:null!==(d=null===(p=e.actions)||void 0===p||null===(f=p[1])||void 0===f?void 0:f.label)&&void 0!==d?d:"",url:null!==(h=null===(g=e.actions)||void 0===g||null===(m=g[1])||void 0===m?void 0:m.url)&&void 0!==h?h:"",image_url:null!==(v=null===(y=e.actions)||void 0===y||null===(b=y[1])||void 0===b?void 0:b.image_url)&&void 0!==v?v:""},big_image:""})})]},e.rule_id||t)}))})})}):(0,st.jsx)($se,{type:"secondary",className:"pe-mb-0",children:Ua("Select a trigger to preview","pushengage")})})]})]})})})},ele=mt.Z.Paragraph,tle=mt.Z.Title,nle=function(e){var t=e.campaign,n=e.rolesOptions,r=e.onChange,i=e.onRequireIntegration,a=(0,oe.useState)(!1),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(!1),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)(!1),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,i,a,o,s,l,c;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(null===t||void 0===t||null===(n=t.adminConfig)||void 0===n||!n.enabled),o=!(null===t||void 0===t||null===(i=t.customerConfig)||void 0===i||!i.enabled),s=a||o,l=(0,kn.Z)({},t),c=!1,g?s?l.enabled=!0:(l.enabled=!1,c=!0):s||(l.enabled=!1),c&&ie.default.warning({message:Ua("Enable at least one notification","pushengage"),description:Ua("Turn on either Admin or Customer notification to enable this automation.","pushengage")}),e.next=9,r(l);case 9:m(!1),p(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var n,a,o,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yo){e.next=3;break}return i(),e.abrupt("return");case 3:if(t.enabled){e.next=10;break}if(o=!(null!==t&&void 0!==t&&null!==(n=t.adminConfig)&&void 0!==n&&n.enabled),s=!(null!==t&&void 0!==t&&null!==(a=t.customerConfig)&&void 0!==a&&a.enabled),!o||!s){e.next=10;break}return m(!0),p(!0),e.abrupt("return");case 10:return e.prev=10,l(!0),e.next=14,r((0,kn.Z)((0,kn.Z)({},t),{},{enabled:!t.enabled}));case 14:return e.prev=14,l(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[10,,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)("div",{className:BO,children:[(0,st.jsx)("div",{className:"pe-px-24 pe-py-16",children:(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",wrap:!1,children:[(0,st.jsxs)(ht.Z,{flex:"auto",style:{minWidth:0},children:[(0,st.jsxs)("div",{className:UO,children:[(0,st.jsx)("h3",{className:"pe-mb-0 pe-fw-600 pe-fs-16",children:t.title}),(0,st.jsx)("div",{className:HO,children:t.enabled?(0,st.jsx)(nf.default,{className:"pe-fs-11 pe-badge pe-badge-green",children:Ua("Active","pushengage")}):(0,st.jsx)(nf.default,{className:"pe-fs-11 pe-badge pe-badge-red",children:Ua("Inactive","pushengage")})})]}),(0,st.jsx)(ele,{type:"secondary",className:"pe-mb-0",ellipsis:{rows:2},children:t.description})]}),(0,st.jsxs)(ht.Z,{flex:"none",children:[(0,st.jsx)(pt.default,{className:"pe-mr-12",onClick:function(){Yo?p(!0):i()},shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{})}),(0,st.jsx)(Lv.Z,{checked:Yo&&t.enabled,className:"pe-mr-8",onChange:y,loading:s,disabled:!Yo})]})]})}),(0,st.jsx)(Qse,{visible:d,campaign:t,rolesOptions:n,onCancel:function(){m(!1),p(!1)},onSave:v})]})},rle=function(){var e,t,n,r=(0,oe.useState)(!0),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s=(0,oe.useState)({}),l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=(0,oe.useState)([]),p=(0,xe.Z)(d,2),f=p[0],h=p[1],g=bt((function(e){return Xd(e.session.user)})),m=bt((function(e){return $d(e.session.user)})),v=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.currentSite})),y=bt((function(e){return e.session.user}),Zi()),b=bt((function(e){return e.globals.settings})),x=ep(y),w=bt(Vr),k=(0,oe.useState)({title:"",content:"",link:"",secondaryLink:"",show:!1}),_=(0,xe.Z)(k,2),C=_[0],j=_[1],S=(0,oe.useState)(!1),Z=(0,xe.Z)(S,2),N=Z[0],E=Z[1],O=function(){j({title:Ua("WooCommerce PushEngage Integration","pushengage"),content:Ua("Integrate WooCommerce with PushEngage to send automatic push notifications for browse and cart abandonment and more. You will need to install and activate the WooCommerce plugin to connect with PushEngage. Click below to get more details on the plugin.","pushengage"),link:"/wp-admin/plugin-install.php?s=woocommerce&tab=search&type=term",secondaryLink:"https://www.youtube.com/watch?v=8FpeAWYs194&list=PLJYVblc_Mqpque00JRfKrygdqepX1QC7e",show:!0})};(0,oe.useEffect)((function(){function e(){return(e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,kl();case 4:null!==(t=e.sent)&&void 0!==t&&t.data&&(u(t.data.rolesOptions||{}),h(t.data.campaigns||[])),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.default.error({message:Ua("Error","pushengage"),description:Ua("Failed to load Woo automations","pushengage")});case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var A=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=t,nl.post("",{campaign:JSON.stringify(a),action:rl.UPDATE_PUSH_AUTOMATION_CAMPAIGN});case 3:r=e.sent,i=null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:t,h((function(e){return e.map((function(e){return e.id===t.id?i:e}))})),ie.default.success({message:Ua("Saved","pushengage")}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.default.error({message:Ua("Failed to save changes","pushengage")});case 12:case"end":return e.stop()}var a}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),T=(0,oe.useState)([{key:"cartAbandonment",title:Ua("Cart Abandonment","pushengage"),description:Ua("Send notifications when customers abandon their cart","pushengage"),enabled:!1,triggerId:0,triggerOptions:[],loading:!1},{key:"browseAbandonment",title:Ua("Browse Abandonment","pushengage"),description:Ua("Send notifications when customers browse but don't purchase","pushengage"),enabled:!1,triggerId:0,triggerOptions:[],loading:!1}]),P=(0,xe.Z)(T,2),M=P[0],I=P[1],D=(0,oe.useState)({visible:!1,key:null,saving:!1}),L=(0,xe.Z)(D,2),R=L[0],B=L[1],F=(0,oe.useState)({loading:!1,data:null,id:null,visible:!1}),z=(0,xe.Z)(F,2),V=z[0],U=z[1],H=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B({visible:!0,key:t,saving:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){return B({visible:!1,key:null,saving:!1})},q=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,y,b;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,al();case 5:if(r=e.sent,null!==(i=r.data)&&void 0!==i&&i.woo_integration){e.next=9;break}return e.abrupt("return");case 9:return a=i.woo_integration.cart_abandonment||{},o=i.woo_integration.browse_abandonment||{},e.next=13,Promise.all([UE(v,{campaign_type:"trigger"}),UE(v,{campaign_type:"browse"})]);case 13:s=e.sent,l=(0,xe.Z)(s,2),c=l[0],u=l[1],d=((null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.data)||[]).map((function(e){return Number(e.trigger_id)})),p=((null===u||void 0===u||null===(n=u.data)||void 0===n?void 0:n.data)||[]).map((function(e){return Number(e.trigger_id)})),f=function(e,t,n){var r=!!t.enable,i=Number(t.id||0),a=!!r&&(i>0&&n.includes(i)),o=r&&!a,s=a&&t.name?[{label:t.name,value:i}]:[];return{updated:(0,kn.Z)((0,kn.Z)({},e),{},{enabled:a,triggerId:a?i:0,triggerOptions:s}),needsPersist:o}},h={cartAbandonment:a,browseAbandonment:o},g={cartAbandonment:d,browseAbandonment:p},m=!1,y=M.map((function(e){var t=h[e.key],n=g[e.key]||[];if(!t)return(0,kn.Z)({},e);var r=f(e,t,n),i=r.updated;return r.needsPersist&&(m=!0),i})),I(y),m&&(b=new CustomEvent("pe_persist_woo",{detail:y}),window.dispatchEvent(b)),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(2),e.t0;case 31:case"end":return e.stop()}}),e,null,[[2,28]])})));return function(){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){q()}),[v]);var K=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=oO("trigger"===t?"trigger":"browse",b,y)).campaign_name="".concat(n,"-").concat($a()),i=rO(r,"active",b),e.next=6,KE(v,i);case 6:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UE(v,{campaign_type:t});case 2:if(r=e.sent,i=(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.data)||[],Wi()(i)){e.next=6;break}return e.abrupt("return",i.map((function(e){return{label:e.campaign_name,value:e.trigger_id}})));case 6:return e.next=8,K(t,Ua("trigger"===t?"Cart Abandonment":"Browse Abandonment","pushengage"));case 8:return a=e.sent,e.abrupt("return",a?[{label:a.campaign_name,value:a.trigger_id}]:[]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=M.find((function(e){return e.key===t})),r){e.next=3;break}return e.abrupt("return",null);case 3:if(0!==(i=r.triggerOptions).length){e.next=10;break}return e.next=7,Y("cartAbandonment"===t?"trigger":"browse");case 7:if((i=e.sent)&&0!==i.length){e.next=10;break}throw new Error("No triggers available and creation failed");case 10:return a=(null===(n=i[0])||void 0===n?void 0:n.value)||r.triggerId||0,e.abrupt("return",{options:i,selectedId:a});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e,t){I((function(n){return n.map((function(n){return n.key===e?(0,kn.Z)((0,kn.Z)({},n),{},{loading:t}):n}))}))},X=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yo){e.next=3;break}return O(),e.abrupt("return");case 3:Q(t,!0),H(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a=arguments;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,U({loading:!0,data:null,id:t,visible:!0}),n.expand="notification_analytics,result_analytics",e.next=6,qE(v,t,n);case 6:(i=e.sent).data.notifications=null===(r=i.data.notifications)||void 0===r?void 0:r.sort((function(e,t){return(null===e||void 0===e?void 0:e.rule_order)-(null===t||void 0===t?void 0:t.rule_order)})),U({loading:!1,data:i.data,id:t,visible:!0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),U({loading:!1,data:null,id:t,visible:!0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yo){e.next=3;break}return O(),e.abrupt("return");case 3:return e.abrupt("return",$(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i,a,o,s,l;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.find((function(e){return"cartAbandonment"===e.key})),a=t.find((function(e){return"browseAbandonment"===e.key})),o=!(null===i||void 0===i||!i.enabled),s=!(null===a||void 0===a||!a.enabled),l={enableWooCartAbandonment:o,cartAbandonmentTriggerId:o?Number((null===i||void 0===i?void 0:i.triggerId)||0):0,cartAbandonmentTriggerName:o&&(null===i||void 0===i||null===(n=i.triggerOptions.find((function(e){return e.value===(null===i||void 0===i?void 0:i.triggerId)})))||void 0===n?void 0:n.label)||"",enableWooBrowseAbandonment:s,browseAbandonmentTriggerId:s?Number((null===a||void 0===a?void 0:a.triggerId)||0):0,browseAbandonmentTriggerName:s&&(null===a||void 0===a||null===(r=a.triggerOptions.find((function(e){return e.value===(null===a||void 0===a?void 0:a.triggerId)})))||void 0===r?void 0:r.label)||""},e.next=7,ll(l);case 7:"undefined"!==typeof window&&(window.pushengage=window.pushengage||{},window.pushengage.isPEWooCommerceConnected=l.enableWooCartAbandonment||l.enableWooBrowseAbandonment);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){var e=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee(t.detail);case 3:return e.next=5,q();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return window.addEventListener("pe_persist_woo",e),function(){return window.removeEventListener("pe_persist_woo",e)}}),[]);var te=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r,i,a,o,s,l,c,u,d,p,f,h,v,y,b,w,k,_,C,j,S;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=3;break}return E(!0),e.abrupt("return");case 3:if(m&&g){e.next=5;break}return e.abrupt("return");case 5:if(Yo){e.next=8;break}return O(),e.abrupt("return");case 8:return I((function(e){return e.map((function(e){return e.key===t?(0,kn.Z)((0,kn.Z)({},e),{},{loading:!0}):e}))})),e.prev=9,e.next=12,al();case 12:if(a=e.sent,o=a.data,s=(null===o||void 0===o||null===(r=o.woo_integration)||void 0===r?void 0:r.cart_abandonment)||{},l=(null===o||void 0===o||null===(i=o.woo_integration)||void 0===i?void 0:i.browse_abandonment)||{},c=!!s.enable,u=Number(s.id||0),d=s.name||"",p=!!l.enable,f=Number(l.id||0),h=l.name||"","cartAbandonment"!==t){e.next=37;break}if(!n){e.next=34;break}return e.next=26,G("cartAbandonment");case 26:y=e.sent,b=(null===y||void 0===y?void 0:y.selectedId)||u||0,w=(null===y||void 0===y?void 0:y.options)||[],c=!0,u=b,d=(null===(v=w.find((function(e){return e.value===b})))||void 0===v?void 0:v.label)||"",e.next=37;break;case 34:c=!1,u=0,d="";case 37:if("browseAbandonment"!==t){e.next=52;break}if(!n){e.next=49;break}return e.next=41,G("browseAbandonment");case 41:_=e.sent,C=(null===_||void 0===_?void 0:_.selectedId)||f||0,j=(null===_||void 0===_?void 0:_.options)||[],p=!0,f=C,h=(null===(k=j.find((function(e){return e.value===C})))||void 0===k?void 0:k.label)||"",e.next=52;break;case 49:p=!1,f=0,h="";case 52:return S={enableWooCartAbandonment:c,cartAbandonmentTriggerId:u,cartAbandonmentTriggerName:d,enableWooBrowseAbandonment:p,browseAbandonmentTriggerId:f,browseAbandonmentTriggerName:h},e.next=55,ll(S);case 55:I((function(e){return e.map((function(e){if(e.key!==t)return e;if(n){var r="cartAbandonment"===t?u:f,i=[{label:"cartAbandonment"===t?d:h,value:r}];return(0,kn.Z)((0,kn.Z)({},e),{},{enabled:!0,triggerId:r,triggerOptions:r?i:e.triggerOptions})}return(0,kn.Z)((0,kn.Z)({},e),{},{enabled:!1,triggerId:0,triggerOptions:[]})}))})),ie.default.success({message:Ua("Saved","pushengage")}),e.next=62;break;case 59:e.prev=59,e.t0=e.catch(9),ie.default.error({message:Ua("Failed to save changes","pushengage")});case 62:return e.prev=62,I((function(e){return e.map((function(e){return e.key===t?(0,kn.Z)((0,kn.Z)({},e),{},{loading:!1}):e}))})),e.finish(62);case 65:case"end":return e.stop()}}),e,null,[[9,59,62,65]])})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,s,l,c,u,d,p,f,h,g;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,B((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{saving:!0})})),d=M.find((function(e){return"cartAbandonment"===e.key})),p=M.find((function(e){return"browseAbandonment"===e.key})),null===(t=d)||void 0===t||!t.enabled||d.triggerId){e.next=9;break}return e.next=7,G("cartAbandonment");case 7:(f=e.sent)&&(d=(0,kn.Z)((0,kn.Z)({},d),{},{triggerId:f.selectedId,triggerOptions:f.options}));case 9:if(null===(n=p)||void 0===n||!n.enabled||p.triggerId){e.next=14;break}return e.next=12,G("browseAbandonment");case 12:(h=e.sent)&&(p=(0,kn.Z)((0,kn.Z)({},p),{},{triggerId:h.selectedId,triggerOptions:h.options}));case 14:return g={enableWooCartAbandonment:!(null===(r=d)||void 0===r||!r.enabled),cartAbandonmentTriggerId:Number((null===(i=d)||void 0===i?void 0:i.triggerId)||0),cartAbandonmentTriggerName:(null===(a=d)||void 0===a||null===(o=a.triggerOptions.find((function(e){var t;return e.value===(null===(t=d)||void 0===t?void 0:t.triggerId)})))||void 0===o?void 0:o.label)||"",enableWooBrowseAbandonment:!(null===(s=p)||void 0===s||!s.enabled),browseAbandonmentTriggerId:Number((null===(l=p)||void 0===l?void 0:l.triggerId)||0),browseAbandonmentTriggerName:(null===(c=p)||void 0===c||null===(u=c.triggerOptions.find((function(e){var t;return e.value===(null===(t=p)||void 0===t?void 0:t.triggerId)})))||void 0===u?void 0:u.label)||""},e.next=17,ll(g);case 17:ie.default.success({message:Ua("Saved","pushengage")}),W(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),ie.default.error({message:Ua("Failed to save changes","pushengage")});case 24:return e.prev=24,B((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{saving:!1})})),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,21,24,27]])})));return function(){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[N&&(0,st.jsx)(Yy,(0,kn.Z)({closeable:!0,onClose:function(){return E(!1)}},Sp.integrations.woocommerce)),C.show&&(0,st.jsx)(Qb,{title:C.title,closeable:!0,content:C.content,link:C.link,secondaryLink:C.secondaryLink,show:C.show,onClose:function(){return j((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{show:!1})}))}}),(0,st.jsx)(ly,{type:"woocommerce",activeKey:$r.path.woocommerce.automation}),(0,st.jsxs)(iy,{children:[!w&&(0,st.jsx)(rg,(0,kn.Z)({},zg)),!Yo&&(0,st.jsx)(tg,{className:"pe-mb-20",subTitle:Ua("WooCommerce Not Active","pushengage"),description:Ua("Install and activate the WooCommerce plugin to connect with PushEngage.","pushengage"),bullets:zg.bullets,btnText:Ua("Install WooCommerce","pushengage"),onClick:function(){return window.open("".concat(window.pushengage.wpAdminUrl,"plugin-install.php?s=woocommerce&tab=search&type=term"),"_blank")},videoUrl:"https://www.youtube.com/embed/YbMlO--w5bo"}),(0,st.jsx)(Hc.default,{spinning:a,children:(0,st.jsxs)(ag,{children:[(0,st.jsx)(dt.Z,{gutter:[0,16],children:(0,st.jsxs)(ht.Z,{span:24,children:[(0,st.jsx)(tle,{level:4,children:Ua("Automation","pushengage")}),(0,st.jsx)(ele,{type:"secondary",className:"pe-fw-500",children:Ua("Enable automated transactional notifications for WooCommerce events.","pushengage")})]})}),(0,st.jsxs)(dt.Z,{gutter:[0,16],children:[f.map((function(e){return(0,st.jsx)(ht.Z,{span:23,children:(0,st.jsx)(nle,{campaign:e,rolesOptions:c,onChange:A,onRequireIntegration:O})},e.id)})),M.map((function(e){return(0,st.jsx)(ht.Z,{span:23,children:(0,st.jsx)("div",{className:BO,children:(0,st.jsx)("div",{className:"pe-px-24 pe-py-16",children:(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",wrap:!1,children:[(0,st.jsxs)(ht.Z,{flex:"auto",style:{minWidth:0},children:[(0,st.jsxs)("div",{className:UO,children:[(0,st.jsx)("h3",{className:"pe-mb-0 pe-fw-600 pe-fs-16",style:{minWidth:0,flexShrink:1},children:e.title}),(0,st.jsxs)("div",{className:HO,children:[!x&&(0,st.jsx)(Gb,{plan:"growth",leftMargin:0}),e.enabled?(0,st.jsx)(nf.default,{className:"pe-fs-11 pe-badge pe-badge-green",children:Ua("Active","pushengage")}):(0,st.jsx)(nf.default,{className:"pe-fs-11 pe-badge pe-badge-red",children:Ua("Inactive","pushengage")})]})]}),(0,st.jsx)(ele,{type:"secondary",className:"pe-mb-0",ellipsis:{rows:2},children:e.description})]}),(0,st.jsxs)(ht.Z,{flex:"none",children:[e.enabled?(0,st.jsx)(pt.default,{className:"pe-mr-12",onClick:function(){return X(e.key)},loading:e.loading,shape:"circle",size:"small",icon:(0,st.jsx)(Oh,{})}):null,(0,st.jsx)(Lv.Z,{checked:e.enabled,className:"pe-mr-8",onChange:function(t){return te(e.key,t)},disabled:e.loading||(!m||!g)&&x,loading:e.loading})]})]})})})},e.key)}))]})]})})]}),R.key&&(0,st.jsx)(Jse,{visible:R.visible,title:(null===(e=M.find((function(e){return e.key===R.key})))||void 0===e?void 0:e.title)||"",campaignType:"cartAbandonment"===R.key?"trigger":"browse",hasTriggerAccess:x,canWrite:m,hasPermission:g,enabled:(null===(t=M.find((function(e){return e.key===R.key})))||void 0===t?void 0:t.enabled)||!1,triggerId:(null===(n=M.find((function(e){return e.key===R.key})))||void 0===n?void 0:n.triggerId)||0,saving:R.saving,onClose:W,onToggle:function(e){return te(R.key,e)},onTriggerChange:function(e){return function(e,t){I((function(n){return n.map((function(n){return n.key===e?(0,kn.Z)((0,kn.Z)({},n),{},{triggerId:t}):n}))}))}(R.key,e)},onOptionsLoaded:function(e){return I((function(t){return t.map((function(t){return t.key===R.key?(0,kn.Z)((0,kn.Z)({},t),{},{triggerOptions:e}):t}))}))},onOpenEditDrawer:J,onReady:function(){return Q(R.key,!1)},onSave:function(){return ne()}}),V.id&&V.visible&&V.data&&!V.loading?(0,st.jsx)(Xse,{details:V.data,onClose:function(){return U({loading:!1,id:null,data:null,visible:!1})}}):null]})},ile=mt.Z.Paragraph,ale=mt.Z.Title,ole=function(){var e=(0,oe.useState)(!0),t=(0,xe.Z)(e,2),n=t[0],r=t[1],i=bt(Vr),a=(0,oe.useState)(DO),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=(0,oe.useState)(),u=(0,xe.Z)(c,2),d=u[0],p=u[1],f=(0,oe.useState)([]),h=(0,xe.Z)(f,2),g=h[0],m=h[1],v=(0,oe.useState)(!1),y=(0,xe.Z)(v,2),b=y[0],x=y[1],w=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n,r,i;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r={limit:100,after:""},e.prev=2;case 3:if(!n){e.next=10;break}return e.next=6,_O(t,r);case 6:(i=e.sent).success?function(){var e=i.data.data.map((function(e){return(0,kn.Z)((0,kn.Z)({},e),{},{isSupported:RO(e)})}));m((function(t){return[].concat((0,we.Z)(t),(0,we.Z)(e))})),i.data.data.length<r.limit?n=!1:r.after=i.data.paging.cursors.after}():(ie.default.error({message:Ua("Error fetching whatsapp templates"),description:i.error.message}),n=!1),e.next=3;break;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){function e(){return e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,ml();case 4:if(null===(t=e.sent)||void 0===t||!t.data||Wi()(t.data)){e.next=12;break}return p(t.data),x(!0),e.next=10,w(t.data);case 10:e.next=13;break;case 12:x(!1);case 13:return e.next=15,yl();case 15:null!==(n=e.sent)&&void 0!==n&&n.data&&n.data.length>0&&l((function(e){return e.map((function(e){var t,r=null===(t=n.data)||void 0===t?void 0:t.find((function(t){return t.id===e.id}));return r?(0,kn.Z)((0,kn.Z)({},e),r):e}))})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),ie.default.error({message:Ua("Error"),description:Ua("Failed to load WhatsApp automation campaigns")});case 22:return e.prev=22,r(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,19,22,25]])}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var k=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t,n){var r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bl(n);case 3:return null!==(r=e.sent)&&void 0!==r&&r.data&&l((function(e){return e.map((function(e){return e.id===t?(0,kn.Z)((0,kn.Z)({},e),r.data):e}))})),e.abrupt("return",{success:!0});case 8:return e.prev=8,e.t0=e.catch(0),ie.default.error({message:Ua("Error"),description:Ua("Failed to save campaign settings")}),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ly,{activeKey:$r.path.woocommerce.whatsapp,type:"woocommerce"}),(0,st.jsxs)(iy,{children:[!i&&(0,st.jsx)(rg,(0,kn.Z)((0,kn.Z)({},Bg),{},{btnText:Ua("Complete Your Setup","pushengage")})),d&&(0,st.jsx)(sJ,{credentials:d}),n||b||!i?null:(0,st.jsx)("div",{className:"pe-mb-24",children:(0,st.jsx)(oJ,{description:Ua("Connect your WhatsApp Business Account to start setting up automated campaigns.")})}),(0,st.jsx)(Hc.default,{spinning:n,children:(0,st.jsxs)(ag,{children:[(0,st.jsx)(dt.Z,{gutter:[0,16],children:(0,st.jsxs)(ht.Z,{span:24,children:[(0,st.jsx)(ale,{level:4,children:Ua("Automation")}),(0,st.jsx)(ile,{type:"secondary",className:"pe-fw-500",children:Ua("Enable automated transactional and promotional campaigns in a few clicks from proven templates.","pushengage")})]})}),(0,st.jsx)(dt.Z,{gutter:[0,16],children:s.map((function(e){return(0,st.jsx)(ht.Z,{span:23,children:(0,st.jsx)(bA,{campaign:e,templateOptions:g,onCampaignChange:function(t){return k(e.id,t)}})},e.id)}))})]})})]})]})},sle=function(){var e=(0,vt.TH)(),t=bt(Vr),n=function(e,t){var n,r=".toplevel_page_pushengage ".concat(t||"",' a[href^="admin.php?page=pushengage#').concat(e,'"]'),i=document.querySelector(r);null===i||void 0===i||null===(n=i.parentElement)||void 0===n||n.classList.add("current")};return(0,oe.useEffect)((function(){if(-1!==window.location.search.indexOf("page=pushengage")){var t=document.querySelectorAll('.toplevel_page_pushengage a[href^="admin.php?page=pushengage#"]');null===t||void 0===t||t.forEach((function(e){var t;null===e||void 0===e||null===(t=e.parentElement)||void 0===t||t.classList.remove("current")})),"/"===e.pathname&&n("",".wp-first-item"),e.pathname.indexOf("/notifications")>-1&&n("/campaigns/notifications"),e.pathname.indexOf("/drip")>-1&&n("/automation/drip"),e.pathname.indexOf("/triggers")>-1&&n("/campaigns/triggers",".pe-menu-triggers"),e.pathname.indexOf("/design")>-1&&n("/design"),e.pathname.indexOf("/audience")>-1&&n("/audience/subscribers"),e.pathname.indexOf("/analytics")>-1&&n("/analytics"),e.pathname.indexOf("/about-us")>-1&&n("/about-us"),e.pathname.indexOf("/getting-started")>-1&&n("/about-us"),e.pathname.indexOf("/settings/integrations")>-1&&n("/settings/integrations",".pe-menu-integrations"),e.pathname.indexOf("/woocommerce")>-1&&n("/woocommerce/automation"),e.pathname.indexOf("/chat-widgets")>-1&&n("/chat-widgets"),e.pathname.startsWith("/settings")&&!e.pathname.startsWith("/settings/integrations")&&n("/settings/site-details")}}),[e]),(0,st.jsxs)(vt.Z5,{children:[(0,st.jsx)(vt.AW,{path:$r.path.settings.siteDetails,element:(0,st.jsx)(Fy,{})}),(0,st.jsx)(vt.AW,{path:$r.path.settings.autoPush,element:(0,st.jsx)($y,{})}),(0,st.jsx)(vt.AW,{path:$r.path.settings.defaultSettings,element:(0,st.jsx)(Eb,{})}),(0,st.jsx)(vt.AW,{path:$r.path.settings.advancedSettings,element:(0,st.jsx)(Db,{})}),(0,st.jsx)(vt.AW,{path:$r.path.settings.miscSettings,element:(0,st.jsx)(S$,{})}),(0,st.jsx)(vt.AW,{path:$r.path.settings.billing,element:(0,st.jsx)(qb,{})}),(0,st.jsx)(vt.AW,{path:$r.path.settings.integrations,element:(0,st.jsx)(Jb,{})}),(0,st.jsx)(vt.AW,{path:$r.path.onboarding,element:(0,st.jsx)(vU,{})}),(0,st.jsx)(vt.AW,{path:$r.path.dashboard,element:t?(0,st.jsx)(Kg,{}):(0,st.jsx)(Dv,{})}),(0,st.jsx)(vt.AW,{path:$r.path.campaigns.drip,element:(0,st.jsx)(yH,{})}),(0,st.jsx)(vt.AW,{path:$r.path.campaigns.createDrip,element:(0,st.jsx)(cq,{})}),(0,st.jsx)(vt.AW,{path:$r.path.campaigns.editDrip,element:(0,st.jsx)(cq,{})}),(0,st.jsx)(vt.AW,{path:$r.path.campaigns.notifications,element:(0,st.jsx)(fK,{})}),(0,st.jsx)(vt.AW,{path:$r.path.campaigns.createNotification,element:(0,st.jsx)(OG,{})}),(0,st.jsx)(vt.AW,{path:$r.path.campaigns.editNotification,element:(0,st.jsx)(OG,{})}),(0,st.jsx)(vt.AW,{path:$r.path.campaigns.triggeredCampaign,element:(0,st.jsx)(_K,{})}),(0,st.jsx)(vt.AW,{path:$r.path.campaigns.editTrigger,element:(0,st.jsx)(Q$,{})}),(0,st.jsx)(vt.AW,{path:$r.path.campaigns.selectTriggeredCampaign,element:(0,st.jsx)(E$,{})}),(0,st.jsx)(vt.AW,{path:$r.path.campaigns.createTriggeredCampaign,element:(0,st.jsx)(Q$,{})}),(0,st.jsx)(vt.AW,{path:$r.path.campaigns.templates,element:(0,st.jsx)(PG,{})}),(0,st.jsx)(vt.AW,{path:$r.path.audience.subscribers,element:(0,st.jsx)(dQ,{})}),(0,st.jsx)(vt.AW,{path:$r.path.audience.segments,element:(0,st.jsx)(VG,{})}),(0,st.jsx)(vt.AW,{path:$r.path.audience.audienceGroups,element:(0,st.jsx)(eY,{})}),(0,st.jsx)(vt.AW,{path:$r.path.audience.attributes,element:(0,st.jsx)(jY,{})}),(0,st.jsx)(vt.AW,{path:$r.path.aboutUs.aboutUs,element:(0,st.jsx)(gQ,{})}),(0,st.jsx)(vt.AW,{path:$r.path.aboutUs.gettingStarted,element:(0,st.jsx)(kQ,{})}),(0,st.jsx)(vt.AW,{path:$r.path.analytics.overview,element:(0,st.jsx)(ZQ,{})}),(0,st.jsx)(vt.AW,{path:$r.path.analytics.goalTracking,element:(0,st.jsx)(UQ,{})}),(0,st.jsx)(vt.AW,{path:$r.path.analytics.optinAnalytics,element:(0,st.jsx)(gX,{})}),(0,st.jsx)(vt.AW,{path:$r.path.design.popupModals,element:(0,st.jsx)(RX,{})}),(0,st.jsx)(vt.AW,{path:$r.path.design.widgets,element:(0,st.jsx)(g$,{})}),(0,st.jsx)(vt.AW,{path:$r.path.design.targetingRule,element:(0,st.jsx)(k$,{})}),(0,st.jsx)(vt.AW,{path:$r.path.woocommerce.automation,element:(0,st.jsx)(rle,{})}),(0,st.jsx)(vt.AW,{path:$r.path.woocommerce.whatsapp,element:(0,st.jsx)(ole,{})}),(0,st.jsx)(vt.AW,{path:$r.path.whatsapp.automation,element:(0,st.jsx)(mJ,{})}),(0,st.jsx)(vt.AW,{path:$r.path.whatsapp.templates,element:(0,st.jsx)(fJ,{})}),(0,st.jsx)(vt.AW,{path:$r.path.whatsapp.settings,element:(0,st.jsx)(CJ,{})}),(0,st.jsx)(vt.AW,{path:$r.path.clickToChatV2.list,element:(0,st.jsx)(UJ,{})}),(0,st.jsx)(vt.AW,{path:$r.path.clickToChatV2.editor,element:(0,st.jsx)(qse,{})}),(0,st.jsx)(vt.AW,{path:$r.path.clickToChatV2.editById,element:(0,st.jsx)(qse,{})}),(0,st.jsx)(vt.AW,{path:$r.path.debug.system,element:(0,st.jsx)(vQ,{})}),(0,st.jsx)(vt.AW,{path:$r.path.debug.logs,element:(0,st.jsx)(yQ,{})}),(0,st.jsx)(vt.AW,{path:"*",element:(0,st.jsx)(tx,{})})]})},lle={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M960 509.2c0-2.2 0-4.7-.1-7.6-.1-8.1-.3-17.2-.5-26.9-.8-27.9-2.2-55.7-4.4-81.9-3-36.1-7.4-66.2-13.4-88.8a139.52 139.52 0 00-98.3-98.5c-28.3-7.6-83.7-12.3-161.7-15.2-37.1-1.4-76.8-2.3-116.5-2.8-13.9-.2-26.8-.3-38.4-.4h-29.4c-11.6.1-24.5.2-38.4.4-39.7.5-79.4 1.4-116.5 2.8-78 3-133.5 7.7-161.7 15.2A139.35 139.35 0 0082.4 304C76.3 326.6 72 356.7 69 392.8c-2.2 26.2-3.6 54-4.4 81.9-.3 9.7-.4 18.8-.5 26.9 0 2.9-.1 5.4-.1 7.6v5.6c0 2.2 0 4.7.1 7.6.1 8.1.3 17.2.5 26.9.8 27.9 2.2 55.7 4.4 81.9 3 36.1 7.4 66.2 13.4 88.8 12.8 47.9 50.4 85.7 98.3 98.5 28.2 7.6 83.7 12.3 161.7 15.2 37.1 1.4 76.8 2.3 116.5 2.8 13.9.2 26.8.3 38.4.4h29.4c11.6-.1 24.5-.2 38.4-.4 39.7-.5 79.4-1.4 116.5-2.8 78-3 133.5-7.7 161.7-15.2 47.9-12.8 85.5-50.5 98.3-98.5 6.1-22.6 10.4-52.7 13.4-88.8 2.2-26.2 3.6-54 4.4-81.9.3-9.7.4-18.8.5-26.9 0-2.9.1-5.4.1-7.6v-5.6zm-72 5.2c0 2.1 0 4.4-.1 7.1-.1 7.8-.3 16.4-.5 25.7-.7 26.6-2.1 53.2-4.2 77.9-2.7 32.2-6.5 58.6-11.2 76.3-6.2 23.1-24.4 41.4-47.4 47.5-21 5.6-73.9 10.1-145.8 12.8-36.4 1.4-75.6 2.3-114.7 2.8-13.7.2-26.4.3-37.8.3h-28.6l-37.8-.3c-39.1-.5-78.2-1.4-114.7-2.8-71.9-2.8-124.9-7.2-145.8-12.8-23-6.2-41.2-24.4-47.4-47.5-4.7-17.7-8.5-44.1-11.2-76.3-2.1-24.7-3.4-51.3-4.2-77.9-.3-9.3-.4-18-.5-25.7 0-2.7-.1-5.1-.1-7.1v-4.8c0-2.1 0-4.4.1-7.1.1-7.8.3-16.4.5-25.7.7-26.6 2.1-53.2 4.2-77.9 2.7-32.2 6.5-58.6 11.2-76.3 6.2-23.1 24.4-41.4 47.4-47.5 21-5.6 73.9-10.1 145.8-12.8 36.4-1.4 75.6-2.3 114.7-2.8 13.7-.2 26.4-.3 37.8-.3h28.6l37.8.3c39.1.5 78.2 1.4 114.7 2.8 71.9 2.8 124.9 7.2 145.8 12.8 23 6.2 41.2 24.4 47.4 47.5 4.7 17.7 8.5 44.1 11.2 76.3 2.1 24.7 3.4 51.3 4.2 77.9.3 9.3.4 18 .5 25.7 0 2.7.1 5.1.1 7.1v4.8zM423 646l232-135-232-133z"}}]},name:"youtube",theme:"outlined"},cle=function(e,t){return oe.createElement(bY,(0,kn.Z)((0,kn.Z)({},e),{},{ref:t,icon:lle}))};cle.displayName="YoutubeOutlined";var ule=oe.forwardRef(cle),dle=yp.support,ple=function(){var e,t=(0,oe.useState)(!1),n=(0,xe.Z)(t,2),r=n[0],i=n[1],a=(0,oe.useState)(0),o=(0,xe.Z)(a,2),s=o[0],l=o[1],c=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.user})),u=bt(Vr),d=bt((function(e){var t;return null===e||void 0===e||null===(t=e.session)||void 0===t?void 0:t.currentSite})),p=(0,vt.s0)();(0,oe.useEffect)((function(){var e=!0;return(0,at.Z)((0,it.Z)().mark((function t(){var n,r,i,a,o,s,p,f;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=!0,r=!0,t.prev=3,t.next=6,ml();case 6:null!==(i=t.sent)&&void 0!==i&&i.data&&!Wi()(i.data)&&(n=!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),t.t0;case 13:if(t.prev=13,o=Number((null===c||void 0===c||null===(a=c.site)||void 0===a?void 0:a.site_id)||d||0),!u||!o){t.next=21;break}return t.next=18,_f(o,{limit:1,page:1});case 18:f=t.sent,0<Number((null===f||void 0===f||null===(s=f.data)||void 0===s?void 0:s.total)||(Array.isArray(null===f||void 0===f||null===(p=f.data)||void 0===p?void 0:p.data)?f.data.data.length:0)||0)&&(r=!1);case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(13),t.t1;case 26:e&&l((n?1:0)+(r?1:0)),t.next=32;break;case 29:t.prev=29,t.t2=t.catch(0),e&&l(0);case 32:case"end":return t.stop()}}),t,null,[[0,29],[3,10],[13,23]])})))(),function(){e=!1}}),[u]);var f=function(){var e="Pro";return Ed(c)?e="Business":Od(c)?e="Premium":Ad(c)&&(e="Growth"),ba(Ua("Upgrade to %1s Plan","pushengage"),e)},h=function(){return Td(c)||Ad(c)};return(0,st.jsxs)("div",{id:"pe-flyout",className:"".concat(r?"opened":""," ").concat(s>0?"attention":"").trim(),children:[(0,st.jsxs)("div",{id:"pe-flyout-items",children:[(0,st.jsxs)("a",{href:"#",className:"pe-flyout-button pe-flyout-item pe-flyout-item-0",onClick:function(e){e.preventDefault(),p("".concat($r.path.clickToChatV2.list,"?tab=list"))},children:[(0,st.jsx)("div",{className:"pe-flyout-label",children:Ua("Setup Chat Widget","pushengage")}),(0,st.jsx)(hv,{})]}),(0,st.jsxs)("a",{href:"#",className:"pe-flyout-button pe-flyout-item pe-flyout-item-1",onClick:function(e){e.preventDefault(),p($r.path.whatsapp.settings)},children:[(0,st.jsx)("div",{className:"pe-flyout-label",children:Ua("Setup WhatsApp","pushengage")}),(0,st.jsx)(xv,{})]}),h()&&(0,st.jsxs)("a",{href:"".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:u?null===c||void 0===c||null===(e=c.site)||void 0===e?void 0:e.site_id:0,drawer:!0,utm_medium:"FlyoutButton",utm_content:f()})),target:"_blank",rel:"noopener noreferrer",className:"pe-flyout-button pe-flyout-item pe-flyout-item-2",children:[(0,st.jsx)("div",{className:"pe-flyout-label",children:f()}),(0,st.jsx)(uv,{})]}),(0,st.jsxs)("a",{href:"".concat(dle.url).concat(Qc(dle.utmParams)),rel:"noopener noreferrer",className:"pe-flyout-button pe-flyout-item pe-flyout-item-".concat(h()?"3":"2"),onClick:function(e){var t=document.getElementById("help-drawer-link");t&&(e.preventDefault(),t.click())},children:[(0,st.jsx)("div",{className:"pe-flyout-label",children:Ua("Support & Docs","pushengage")}),(0,st.jsx)(ou,{})]}),(0,st.jsxs)("a",{href:"https://www.youtube.com/watch?v=4YI4EmlcW4A&list=PLJYVblc_Mqppx8Q5bwNqYQdKxupPIJXs-",target:"_blank",rel:"noopener noreferrer",className:"pe-flyout-button pe-flyout-item pe-flyout-item-".concat(h()?"4":"3"),children:[(0,st.jsx)("div",{className:"pe-flyout-label",children:Ua("Video Library","pushengage")}),(0,st.jsx)(ule,{})]})]}),(0,st.jsxs)("a",{href:"#",className:"pe-flyout-button pe-flyout-head",onClick:function(e){e.preventDefault(),i(!r)},children:[(0,st.jsx)("div",{className:"pe-flyout-label",children:Ua("See Quick Links","pushengage")}),(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/pushengage-blue-icon.svg"),alt:"See Quick Links","data-active":"".concat(window.pushengage.assetsUrl,"img/pushengage-blue-icon.svg")}),s>0&&(0,st.jsx)("span",{className:"pe-flyout-badge",children:s})]})]})},fle=function(){var e=(0,vt.TH)().pathname;return(0,st.jsx)(ut.Z,{className:"pe-app-layout",children:(0,st.jsxs)(ut.Z.Content,{children:[e!==$r.path.onboarding&&(0,st.jsx)(yf,{}),(0,st.jsx)(sle,{}),e!==$r.path.onboarding&&(0,st.jsx)(ple,{})]})})},hle=function(){var e,t=bt((function(e){return e.session.serverError})),n=bt((function(e){return e.session.disableServerErrorModal})),r=yt();(0,oe.useEffect)((function(){if(null!==t&&void 0!==t&&t.isLoginRequired){var e=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,il({action:rl.DELETE_ONBOARDING_DATA});case 2:return e.next=4,r(Lr({apiKey:null,siteId:null,ownerId:null,siteKey:null,user:null}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[null===t||void 0===t?void 0:t.isLoginRequired]);var i=function(){r(Br(null))};return t?n?(r(Br(null)),null):(0,st.jsxs)(gt.Z,{title:"OOPS!!",visible:!!t,destroyOnClose:!0,className:"no-border",closeIcon:(0,st.jsx)($c,{}),closable:!t.isLoginRequired,maskClosable:!t.isLoginRequired,onOk:i,onCancel:i,footer:[(0,st.jsx)(pt.default,{type:"primary",size:"small",onClick:i,children:Ua("Okay","pushengage")},"close-btn")],zIndex:9999999999999,children:[(0,st.jsxs)("div",{className:"pe-ta-center",children:[(0,st.jsx)(mt.Z.Title,{level:4,className:"pe-fw-600",children:t.message||""}),t.isLoginRequired?(0,st.jsx)(mt.Z.Text,{children:Ua("Your PushEngage site's API key has been changed. Please use the setup wizard to reconnect your site.","pushengage")}):null]}),(0,st.jsx)("ul",{className:"pe-ml-16",children:null===(e=t.details)||void 0===e?void 0:e.map((function(e){return(0,st.jsx)("li",{children:(0,st.jsx)(mt.Z.Text,{type:"danger",children:e.message})},e.message)}))})]}):null},gle=function(){var e=(0,oe.useState)(!0),t=(0,xe.Z)(e,2),n=t[0],r=t[1],i=yt(),a=bt(Vr);return(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ix();case 2:r(!1);case 3:case"end":return e.stop()}}),e)})))()}),[]),(0,oe.useEffect)((function(){a&&i(_l())}),[i,a]),n?(0,st.jsx)(ct,{children:(0,st.jsx)(rt.default,{active:!0,paragraph:{rows:6}})}):(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(ot.UT,{children:(0,st.jsx)(fle,{})}),(0,st.jsx)(hle,{})]})},mle=mt.Z.Paragraph,vle=mt.Z.Title,yle=function(e){(0,Ac.Z)(n,e);var t=(0,Tc.Z)(n);function n(e){var r;return(0,Za.Z)(this,n),(r=t.call(this,e)).state={hasError:!1,eventId:""},r}return(0,Sa.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.error("Uncaught Error",e,t)}},{key:"render",value:function(){return this.state.hasError?(0,st.jsx)(dt.Z,{justify:"center",className:"pe-px-32 pe-ta-center pe-bg-white pe-error-boundary-container",style:{height:"100vh",paddingTop:100},children:(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)("div",{className:"pe-error-boundary-image",style:{height:250,overflow:"hidden",margin:"auto",background:"url('".concat(window.pushengage.assetsUrl,"img/error.svg}')"),backgroundSize:"cover"}}),(0,st.jsx)(vle,{level:2,className:"pe-mt-32 pe-error-boundary-title",children:Ua("Looks like something went wrong!","pushengage")}),(0,st.jsx)("div",{className:"pe-ta-center pe-my-24",style:{maxWidth:500},children:(0,st.jsx)(mle,{type:"secondary",className:"pe-error-boundary-message",children:Ua("Sorry, it looks like there was a problem displaying the page you requested. To try again, please reload the page. If the problem persists, please let us know so we can investigate and fix it.","pushengage")})}),(0,st.jsxs)(dt.Z,{justify:"center",gutter:[16,16],children:[(0,st.jsx)("a",{href:"https://app.pushengage.com/account/support".concat(Qc({sid:this.props.siteId,utm_medium:"Plugin App Crash",utm_content:"Report Issue"})),target:"_blank",rel:"noreferrer",children:(0,st.jsx)(pt.default,{danger:!0,children:Ua("Report Issue","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{type:"primary",className:"pe-px-24",onClick:function(){return window.location.reload()},icon:(0,st.jsx)(cc,{}),children:Ua("Reload Page","pushengage")})})]})]})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(oe.Component),ble=Qe((function(e){var t;return{siteId:null===(t=e.session)||void 0===t?void 0:t.currentSite}}))(yle),xle=mt.Z.Text,wle=function(e){var t=e.notification,n=e.onChange;return(0,st.jsxs)("div",{className:"pe-mt-24",children:[(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(xle,{className:"label-large",children:Ua("UTM Source","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:t.utmParams.utm_source,setValue:function(e){return n("utm_source",e)},limit:{value:80},name:"pe_wp_utm_source"})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(xle,{className:"label-large",children:Ua("UTM Medium","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:t.utmParams.utm_medium,setValue:function(e){return n("utm_medium",e)},limit:{value:80},name:"pe_wp_utm_medium"})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(xle,{className:"label-large",children:Ua("UTM Campaign","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:t.utmParams.utm_campaign,setValue:function(e){return n("utm_campaign",e)},limit:{value:80},name:"pe_wp_utm_campaign"})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(xle,{className:"label-large",children:Ua("UTM Term","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:t.utmParams.utm_term,setValue:function(e){return n("utm_term",e)},limit:{value:80},name:"pe_wp_utm_term"})})]}),(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{flex:"130px",className:"pe-pt-10 pe-mb-10",children:(0,st.jsx)(xle,{className:"label-large",children:Ua("UTM Content","pushengage")})}),(0,st.jsx)(ht.Z,{flex:"auto",children:(0,st.jsx)(HN,{type:"text",value:t.utmParams.utm_content,setValue:function(e){return n("utm_content",e)},limit:{value:120},name:"pe_wp_utm_content"})})]})]})};function kle(){var e,t,n,r,i="block",a=null===(e=window)||void 0===e||null===(t=e.pushengage)||void 0===t?void 0:t.isBlockEditor;return"undefined"!==typeof a||null!==a?i=a?"block":"classic":"function"===typeof(null===(n=window.wp)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.select)?i="block":(window.tinymce||window.tinyMCE)&&(i="classic"),i}function _le(){var e=(0,oe.useState)(kle),t=(0,xe.Z)(e,1)[0],n=(0,oe.useRef)({title:"",content:"",excerpt:"",featuredImage:"",status:""}),r=(0,oe.useState)(0),i=(0,xe.Z)(r,2),a=(i[0],i[1]),o=(0,oe.useCallback)((function(){var e,t,r,i,o,s,l=null===(e=window)||void 0===e||null===(t=e.wp)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.select("core/editor");if(l){var c=!1,u=Ga(l.getEditedPostAttribute("title")||"");n.current.title!==u&&(c=!0,n.current.title=u);var d=Ga(l.getEditedPostAttribute("excerpt")||"");n.current.excerpt!==d&&(c=!0,n.current.excerpt=d);var p=l.getEditedPostAttribute("featured_media"),f=(null===(i=window.wp.data.select("core"))||void 0===i||null===(o=i.getMedia(p))||void 0===o?void 0:o.source_url)||"";n.current.featuredImage!==f&&(c=!0,n.current.featuredImage=f);var h=Ga(l.getEditedPostAttribute("content")||"");h=(null===(s=h.trim())||void 0===s?void 0:s.slice(0,135))||"",n.current.content!==h&&(n.current.content=h,c=!0);var g=l.getEditedPostAttribute("status");n.current.status!==g&&(n.current.status=g,c=!0),c&&a((function(e){return e+1}))}}),[]),s=CK(o,2e3);(0,oe.useEffect)((function(){if("block"===t){var e,n,r,i=null===(e=window)||void 0===e||null===(n=e.wp)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.subscribe(s);return function(){"function"===typeof i&&i()}}}),[s,t]);var l=(0,oe.useCallback)((function(){var e,t,r,i,o,s,l=!1,c=(null===(e=document.getElementById("title"))||void 0===e?void 0:e.value)||"";c=Ga(c),n.current.title!==c&&(l=!0,n.current.title=c);var u=(null===(t=document.getElementById("excerpt"))||void 0===t?void 0:t.value)||"";u=Ga(u),n.current.excerpt!==u&&(l=!0,n.current.excerpt=u);var d=document.querySelector("#postimagediv img"),p=(null===d||void 0===d?void 0:d.src)||"";n.current.featuredImage!==p&&(l=!0,n.current.featuredImage=p);var f,h=null===(r=(null===(o=window)||void 0===o?void 0:o.tinymce)||(null===(s=window)||void 0===s?void 0:s.tinyMCE))||void 0===r||null===(i=r.editors)||void 0===i?void 0:i.content,g="";h&&(g=(null===(f=(g=Ga((null===h||void 0===h?void 0:h.getContent())||"")).trim())||void 0===f?void 0:f.slice(0,135))||"",n.current.content!==g&&(n.current.content=g,l=!0));l&&a((function(e){return e+1}))}),[]);return function(e,t){var n=(0,oe.useRef)(null),r=(0,oe.useRef)(e);(0,oe.useEffect)((function(){r.current=e}),[e]),(0,oe.useEffect)((function(){if(clearInterval(n.current),"number"===typeof t&&t>0)return n.current=setInterval((function(){return r.current()}),t),function(){return clearInterval(n.current)}}),[t])}(l,"classic"===t?2e3:0),n.current}function Cle(){return{peWpCustomTitle:"",peWpCustomMessage:"",peWpBigImageEnabled:!1,peWpBigImage:"",multiAction:!1,multiActionBtn2:!1,actions:[{label:"",url:"",image_url:"",final_url:""},{label:"",url:"",image_url:"",final_url:""}],peWpAudienceGroupIds:[],utmParams:{enabled:!1,utm_source:"pushengage",utm_medium:"pushnotification",utm_campaign:"pushengage"}}}var jle=mt.Z.Title,Sle=mt.Z.Paragraph,Zle=mt.Z.Text,Nle=mt.Z.Link,Ele=pp.collectUrl,Ole=Ele.url,Ale=Ele.utmParams,Tle=function(){var e,t,n,r,i,a,o,s,l,c,u=(0,oe.useState)(!1),d=(0,xe.Z)(u,2),p=d[0],f=d[1],h=(0,oe.useState)(""),g=(0,xe.Z)(h,2),m=g[0],v=g[1],y=(0,oe.useState)(""),b=(0,xe.Z)(y,2),x=b[0],w=b[1],k=yt(),_=Ku(),C=_.notificationLimit,j=_.notificationSentCount,S=bt(Hr),Z=bt((function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.user}),Zi()),N=bt(Yr),E=null!==(e=null===Z||void 0===Z||null===(t=Z.site)||void 0===t?void 0:t.site_image)&&void 0!==e?e:"",O=bt((function(e){return e.audienceGroups.data})),A=bt((function(e){var t;return null===(t=e.siteSettings.data.service_worker)||void 0===t?void 0:t.worker})),T=bt((function(e){var t,n;return null===(t=e.globals)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.utm_settings})),P=(0,oe.useState)(!0),M=(0,xe.Z)(P,2),I=M[0],D=M[1],L=(0,oe.useState)({message:"",isUpgradePlan:!1}),R=(0,xe.Z)(L,2),B=R[0],F=R[1],z=(0,oe.useState)(gi.ALL),V=(0,xe.Z)(z,2),U=V[0],H=V[1],W=(0,oe.useState)(Cle),q=(0,xe.Z)(W,2),K=q[0],Y=q[1],G=(0,oe.useState)({checked:!1,disabled:!1,label:Ua("Send Push Notification")}),Q=(0,xe.Z)(G,2),X=Q[0],$=Q[1],J=(0,oe.useState)(!1),ee=(0,xe.Z)(J,2),te=ee[0],ne=ee[1],re=(0,oe.useState)(!1),ie=(0,xe.Z)(re,2),ae=ie[0],se=ie[1],le=(0,oe.useState)(!1),ce=(0,xe.Z)(le,2),ue=ce[0],de=ce[1],pe=(0,oe.useState)(!1),fe=(0,xe.Z)(pe,2),he=fe[0],ge=fe[1],me=_le(),ve=null===(n=window.pushengage)||void 0===n?void 0:n.settings,ye=(0,oe.useMemo)((function(){var e;return/^https.+$/.test(window.location.href)?window.location.hostname:"".concat(null===Z||void 0===Z||null===(e=Z.site)||void 0===e?void 0:e.site_subdomain,".pushengage.com")}),[null===Z||void 0===Z||null===(r=Z.site)||void 0===r?void 0:r.site_subdomain]),be=function(e,t){var n;if(e){var r,i,a,o,s=Bi()(K);if(e.pe_wp_custom_title&&(s.peWpCustomTitle=e.pe_wp_custom_title),e.pe_wp_custom_message&&(s.peWpCustomMessage=e.pe_wp_custom_message),e.pe_wp_big_image&&(s.peWpBigImageEnabled=!0,s.peWpBigImage=e.pe_wp_big_image),e.pe_wp_btn1_title)s.multiAction=!0,s.actions=[{label:e.pe_wp_btn1_title,url:null!==(r=e.pe_wp_btn1_url)&&void 0!==r?r:"",image_url:null!==(i=e.pe_wp_btn1_image_url)&&void 0!==i?i:"",final_url:""},(0,kn.Z)({},s.actions[1])];if(e.pe_wp_btn2_title)s.multiActionBtn2=!0,s.actions=[(0,kn.Z)({},s.actions[0]),(0,kn.Z)((0,kn.Z)({},s.actions[1]),{},{label:e.pe_wp_btn2_title,url:null!==(a=e.pe_wp_btn2_url)&&void 0!==a?a:"",image_url:null!==(o=e.pe_wp_btn2_image_url)&&void 0!==o?o:"",final_url:""})];if(null!==(n=e.pe_wp_audience_group_ids)&&void 0!==n&&n.length&&t.length&&!Ed(Z)){var l=e.pe_wp_audience_group_ids.filter((function(e){return t.includes(e)}));l.length&&(H(gi.AUDIENCE_GROUP),s.peWpAudienceGroupIds=l)}"auto-draft"!==e.post_status&&"new"!==e.post_status||!T?null!==e&&void 0!==e&&e.pe_wp_utm_params_enabled?s.utmParams={enabled:!(null===e||void 0===e||!e.pe_wp_utm_params_enabled),utm_source:Ii()(e,"pe_wp_utm_source",""),utm_medium:Ii()(e,"pe_wp_utm_medium",""),utm_campaign:Ii()(e,"pe_wp_utm_campaign",""),utm_term:Ii()(e,"pe_wp_utm_term",""),utm_content:Ii()(e,"pe_wp_utm_content","")}:T&&(s.utmParams=(0,kn.Z)({},T),s.utmParams.enabled=!1):s.utmParams=(0,kn.Z)({},T),Y(s)}},we=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!Bd(Z)){e.next=6;break}return e.next=4,k(Vs(S));case 4:r=e.sent,null!==(n=r.payload)&&void 0!==n&&n.length&&r.payload.forEach((function(e){e.id&&t.push(e.id)}));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=(0,oe.useMemo)((function(){return 0!==C&&Boolean(C<=j)}),[C,j]),_e=(0,oe.useMemo)((function(){return U===gi.ALL}),[U]),Ce=(0,oe.useMemo)((function(){return U===gi.AUDIENCE_GROUP}),[U]),je=(0,oe.useMemo)((function(){return!N||ke||Z&&!Dd(Z)||X.disabled}),[ke,N,Z,X.disabled]);(0,oe.useEffect)((function(){(0,at.Z)((0,it.Z)().mark((function e(){var t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,v;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),e.next=4,Ix();case 4:return t=e.sent,a=null===(n=window.pushengage)||void 0===n?void 0:n.postId,e.next=8,Promise.all([we(),Op(S),a?ol(Number(a)):Promise.resolve({success:!1,data:{}})]);case 8:o=e.sent,s=(0,xe.Z)(o,3),l=s[0],c=s[1],u=s[2],(d=(0,kn.Z)({},X)).checked=!(null===(r=window.pushengage)||void 0===r||null===(i=r.settings)||void 0===i||!i.auto_push),u.success&&u.data&&!Wi()(u.data)&&(p=u.data,be(p,l),"publish"===p.post_status?(d.label=Ua("Send Push Notification on Update"),d.checked=!1):(d.label=Ua("Send Push Notification"),Qa(p.pe_wp_send_post_checkbox)&&Qa(p.pe_scheduled_send_post_checkbox)?"auto-draft"===p.post_status||"new"===p.post_status?d.checked=!(null===(f=window.pushengage)||void 0===f||null===(h=f.settings)||void 0===h||!h.auto_push):d.checked=!1:d.checked=!(!p.pe_wp_send_post_checkbox&&!p.pe_scheduled_send_post_checkbox))),0===c.data.count&&(d.disabled=!0,d.checked=!1,ne(!0)),ke&&(d.disabled=!0,d.checked=!1),$(d),D(!1),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),D(!1);case 25:if(!Jd(t)){e.next=37;break}return e.prev=26,e.next=29,Uy(S,{limit:1,page:1,status:"active"});case 29:g=e.sent,(m=g.data)&&(v=(null===m||void 0===m?void 0:m.data)||[],se(!Wi()(v))),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(26),e.t1;case 37:case"end":return e.stop()}}),e,null,[[0,22],[26,34]])})))()}),[S,k,ke]),(0,oe.useEffect)((function(){var e={message:"",isUpgradePlan:!1};O.length||(e.message=Ua("Your account does not contain any audience groups.","pushengage"),e.isUpgradePlan=!1),Ed(Z)&&(e.message=Ua("Audience group is a pro feature, not available on the Free Plan.","pushengage"),e.isUpgradePlan=!0),F(e)}),[Z,O.length]);var Se=function(e,t){var n=t;"peWpCustomTitle"===e&&t.length>85&&(n=t.substring(0,85)),"peWpCustomMessage"===e&&t.length>135&&(n=t.substring(0,135)),Y((0,kn.Z)((0,kn.Z)({},K),{},(0,ti.Z)({},e,n)))},Ze=function(e){if(U!==e){if(e===gi.ALL){var t=Bi()(K);t.peWpAudienceGroupIds=[],Y(t)}H(e)}},Ne=function(e){var t=Bi()(K);t.peWpAudienceGroupIds=e,Y(t)},Ee=function(){return K.peWpCustomTitle||me.title||"Sample Title"},Oe=function(){return K.peWpCustomMessage||me.excerpt||me.content||"Sample Message"},Ae=function(){return"site_image"===(null===ve||void 0===ve?void 0:ve.notification_icon_type)?E:me.featuredImage||E},Te=function(){return K.peWpBigImageEnabled&&K.peWpBigImage||!(null===ve||void 0===ve||!ve.featured_large_image)&&me.featuredImage||""},Pe=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=Bi()(K)).notification_title=Ee(),t.notification_message=Oe(),t.notification_url=window.location.origin,t.notification_image=Ae(),t.big_image=Te(),t.serviceWorkerPath=A,xb(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e,t,n,r,i,a,o,s,l,c,u,d;return{title:Ee(),message:Oe(),imgUrl:Ae(),big_image:Te(),url:ye,btn1:null!==K&&void 0!==K&&K.multiAction?{title:(null===K||void 0===K||null===(e=K.actions)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.label)||"",url:(null===K||void 0===K||null===(n=K.actions)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.url)||"",image_url:(null===K||void 0===K||null===(i=K.actions)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.image_url)||""}:void 0,btn2:null!==K&&void 0!==K&&K.multiAction&&null!==K&&void 0!==K&&K.multiActionBtn2?{title:(null===K||void 0===K||null===(o=K.actions)||void 0===o||null===(s=o[1])||void 0===s?void 0:s.label)||"",url:(null===K||void 0===K||null===(l=K.actions)||void 0===l||null===(c=l[1])||void 0===c?void 0:c.url)||"",image_url:(null===K||void 0===K||null===(u=K.actions)||void 0===u||null===(d=u[1])||void 0===d?void 0:d.image_url)||""}:void 0}};return(0,oe.useEffect)((function(){var e={notification:K,previewProps:Me(),sendingNotificationCheckbox:X,showZeroSubscriberWarning:te,currentUserIsOnFreePlan:Ed(Z),siteImage:E,audienceGroups:O,audienceType:U,serviceWorkerPath:A};window.pushEngageMetaboxData=e,window.pushEngageMetaboxUpdateCallback&&window.pushEngageMetaboxUpdateCallback(e)})),(0,oe.useEffect)((function(){var e=function(e){if("peWpSendNotificationCheckbox"!==e.detail.key)if("peWpAudienceType"!==e.detail.key)if("peWpAudienceGroupIds"!==e.detail.key)Y((0,kn.Z)((0,kn.Z)({},K),{},(0,ti.Z)({},e.detail.key,e.detail.value)));else{var t=e.detail.value.map((function(e){return Number(e)}));Ne(t)}else Ze(e.detail.value);else $((0,kn.Z)((0,kn.Z)({},X),{},{checked:Boolean(e.detail.value)}))};return window.addEventListener("pushengage_metabox_update",e),function(){window.removeEventListener("pushengage_metabox_update",e)}})),(0,st.jsxs)(Hc.default,{spinning:I,delay:1e3,children:[he&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.largeImageNotification),{},{closeable:!0,onClose:function(){return ge(!1)}})),ue&&(0,st.jsx)(Yy,(0,kn.Z)((0,kn.Z)({},Sp.multiActionNotification),{},{closeable:!0,onClose:function(){return de(!1)}})),(0,st.jsx)("div",{className:"pe-post-settings-metabox-container",children:(0,st.jsxs)("div",{className:"pe-ant-form pe-ant-form-vertical",children:[Z&&!Dd(Z)&&(0,st.jsx)(Au.default,{className:"pe-alert pe-header-alert pe-ta-center pe-mb-15",type:"info",message:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Zle,{className:"pe-color-neutral-80 pe-fs-15",children:[Ua("Your account's notification sending feature is currently disabled. To enable it, please upgrade your plan","pushengage")," "]}),(0,st.jsxs)(Nle,{underline:!0,className:"pe-fw-600",href:"".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:S,utm_medium:"PostEditorUpdatePlan",utm_content:"Update Plan",ref:"plan_expired"})),target:"_blank",children:[Ua("Update Plan","pushengage")," \u2192"]})]})}),ke&&(0,st.jsx)(Au.default,{className:"pe-alert pe-header-alert pe-ta-center pe-mb-15",type:"info",message:(0,st.jsx)(Gu,{notificationLimit:C,notificationSentCount:j,siteId:S})}),!N&&(0,st.jsx)(Au.default,{className:"pe-alert pe-header-alert pe-ta-center pe-mb-15",type:"info",message:(0,st.jsxs)(Zle,{className:"pe-color-neutral-80 pe-fs-15",children:[Ua("Please verify your email address to begin sending push notifications. Please click the link in the verification email we have sent you.","pushengage")," "]})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsxs)(dt.Z,{children:[(0,st.jsx)(ht.Z,{md:6,xs:24,className:"pe-mb-15",children:(0,st.jsx)(jle,{level:5,children:Ua("Send Notification","pushengage")})}),(0,st.jsxs)(ht.Z,{md:18,xs:24,children:[(0,st.jsx)(Vy.default,{checked:!je&&X.checked,onChange:function(e){$((0,kn.Z)((0,kn.Z)({},X),{},{checked:Boolean(e.target.checked)}))},disabled:!X.checked&&je,value:je||!X.checked?0:1,name:"pe_wp_send_post_checkbox"}),(0,st.jsx)(Zle,{type:"secondary",className:"pe-ml-10 pe-mt-12 pe-mb-0 pe-fs-13 pe-fw-500",children:me.status?"publish"===me.status?Ua("Send Push Notification on Update"):Ua("Send Push Notification"):X.label}),ae&&(0,st.jsx)(Au.default,{className:"pe-mt-12",description:Ua("You have active RSS auto push campaign for this site. Please ensure that you really want to send this post in Push Notification.","pushengage"),type:"warning",showIcon:!0,closable:!0}),te&&(0,st.jsx)(Au.default,{type:"info",className:"pe-mt-15",message:(0,st.jsxs)(st.Fragment,{children:[Ua("Note: You have 0 active subscriber.","pushengage")," ",(0,st.jsx)(mt.Z.Link,{target:"_blank",href:"".concat(Ole).concat(Qc(Ale)),children:Ua("Need help","pushengage")}),"?"]})})]})]})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsxs)(dt.Z,{gutter:16,children:[(0,st.jsx)(ht.Z,{md:6,xs:24,className:"pe-mb-15",children:(0,st.jsx)(jle,{level:5,children:Ua("Notification Preview","pushengage")})}),(0,st.jsx)(ht.Z,{md:18,xs:24,children:(0,st.jsxs)(dt.Z,{align:"middle",gutter:[16,16],children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(jb,(0,kn.Z)({},Me()))}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(pt.default,{size:"small",className:"pe-fs-13 pe-fw-600",onClick:Pe,children:"Test Notification"})})]})})]})}),(0,st.jsxs)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:[(0,st.jsx)(OW,{open:p,selectedInputFieldKey:m,selectedInputFieldValue:x,setOpen:function(e){f(e)},onInsert:function(e,t){"notification_title"===e?Se("peWpCustomTitle",t):"notification_message"===e&&Se("peWpCustomMessage",t)}}),(0,st.jsx)(HN,{type:"text",size:"large",className:"pe-notification-title",label:Ua("Notification Title","pushengage"),value:K.peWpCustomTitle,name:"pe_wp_custom_title",setValue:function(e){return Se("peWpCustomTitle",e)},id:"notificationTitle",limit:{value:85},errorMessage:"",hasEmoji:!0,isTextGenerator:!0,openAiTextGenerateModal:function(){f(!0),v("notification_title"),w(K.peWpCustomTitle)},tooltipConfig:{title:Ua("By default, the post title is used as the notification title. However, you have the option to provide a custom notification title in this field.","pushengage"),icon:(0,st.jsx)(yg,{className:"pe-ml-5 pe-fs-16 pe-cursor-help"})}}),(0,st.jsx)(HN,{type:"text",size:"large",label:Ua("Notification Message","pushengage"),className:"pe-notification-msg",value:K.peWpCustomMessage,name:"pe_wp_custom_message",setValue:function(e){return Se("peWpCustomMessage",e)},id:"notificationMessage",limit:{value:135},errorMessage:"",hasEmoji:!0,isTextGenerator:!0,openAiTextGenerateModal:function(){f(!0),v("notification_message"),w(K.peWpCustomMessage)},tooltipConfig:{title:Ua("By default, the post excerpt/content is used as the notification message. However, you have the option to provide a custom notification message in this field.","pushengage"),icon:(0,st.jsx)(yg,{className:"pe-ml-5 pe-fs-16 pe-cursor-help"})}})]}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(jle,{level:3,className:"mb-0",children:Ua("Large Image","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:K.peWpBigImageEnabled,onChange:function(e){Ed(Z)?ge(!0):Se("peWpBigImageEnabled",e)}})})]}),(0,st.jsx)(Zle,{type:"secondary",className:"dark",children:null!==(i=window.pushengage)&&void 0!==i&&null!==(a=i.settings)&&void 0!==a&&a.featured_large_image?Ua("The featured image will be used as the large image, but if you have a better image available, you can update it here and use it in the campaign.","pushengage"):Ua("Make your notifications stand out with larger images.","pushengage")}),K.peWpBigImageEnabled&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(BW,{path:K.peWpBigImage,onChange:function(e,t){return Se("peWpBigImage",t)},type:"big_image",error:""}),(0,st.jsx)("input",{type:"hidden",name:"pe_wp_big_image",value:K.peWpBigImage})]})]})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(jle,{level:3,className:"mb-0",children:Ua("Multi Action Notification","pushengage")})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Lv.Z,{checked:null===K||void 0===K?void 0:K.multiAction,onChange:function(e){Ed(Z)?de(!0):Se("multiAction",e)}})})]}),(0,st.jsx)(Zle,{type:"secondary",className:"dark",children:Ua("Get more clicks with multiple call-to-action buttons.","pushengage")}),(null===K||void 0===K?void 0:K.multiAction)&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(EY,{size:"large",data:K.actions,onChange:function(e,t){var n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,v;Y((0,kn.Z)((0,kn.Z)({},K),{},{actions:[{label:null!==(n=null===t||void 0===t||null===(r=t[0])||void 0===r||null===(i=r.label)||void 0===i?void 0:i.substring(0,12))&&void 0!==n?n:"",url:null!==(a=null===t||void 0===t||null===(o=t[0])||void 0===o||null===(s=o.url)||void 0===s?void 0:s.substring(0,256))&&void 0!==a?a:"",image_url:null!==(l=null===t||void 0===t||null===(c=t[0])||void 0===c?void 0:c.image_url)&&void 0!==l?l:"",final_url:""},{label:null!==(u=null===t||void 0===t||null===(d=t[1])||void 0===d||null===(p=d.label)||void 0===p?void 0:p.substring(0,12))&&void 0!==u?u:"",url:null!==(f=null===t||void 0===t||null===(h=t[1])||void 0===h||null===(g=h.url)||void 0===g?void 0:g.substring(0,256))&&void 0!==f?f:"",image_url:null!==(m=null===t||void 0===t||null===(v=t[1])||void 0===v?void 0:v.image_url)&&void 0!==m?m:"",final_url:""}]}))},enableAnother:null===K||void 0===K?void 0:K.multiActionBtn2,setToggleAnother:function(e){return Se("multiActionBtn2",e)},errors:{},multiActionUrlTooltipMsg:Ua("The notification button URL ensures that subscribers land on the designated page. By default, it will be set to the post URL. If you prefer to redirect them to a custom landing page, please update this field.","pushengage")}),(null===K||void 0===K||null===(o=K.actions[0])||void 0===o?void 0:o.image_url)&&(0,st.jsx)("input",{type:"hidden",name:"pe_wp_btn1_image_url",value:null===K||void 0===K||null===(s=K.actions[0])||void 0===s?void 0:s.image_url}),K.multiActionBtn2&&(null===K||void 0===K||null===(l=K.actions[1])||void 0===l?void 0:l.image_url)&&(0,st.jsx)("input",{type:"hidden",name:"pe_wp_btn2_image_url",value:null===K||void 0===K||null===(c=K.actions[1])||void 0===c?void 0:c.image_url})]})]})}),(0,st.jsx)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:(0,st.jsxs)("div",{children:[(0,st.jsx)(jle,{level:3,className:"pe-mb-16",children:Ua("Audience","pushengage")}),(0,st.jsxs)(dt.Z,{wrap:!1,justify:"start",onClick:function(){return Ze(gi.ALL)},className:"pe-mb-16 pe-cursor-pointer ".concat(_e?"pe-box-primary":"pe-box-secondary"),children:[(0,st.jsx)(ht.Z,{className:"pe-mr-6",children:(0,st.jsx)(zy.default,{checked:_e})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsx)(Sle,{className:"label-large pe-mb-13 pe-mt-2",children:Ua("Send to All Subscribers","pushengage")}),(0,st.jsx)(Zle,{type:"secondary",className:"pe-fw-500",children:Ua("This broadcast message will go to all subscribers.","pushengage")})]})]}),(0,st.jsxs)(dt.Z,{wrap:!1,justify:"start",className:"pe-mb-16 ".concat(Ce?"pe-box-primary":"pe-box-secondary"," ").concat(B.message?"pe-bg-neutral-10":""),children:[(0,st.jsx)(ht.Z,{className:"pe-mr-6",children:(0,st.jsx)(zy.default,{checked:Ce,onChange:function(){B.message||Ze(gi.AUDIENCE_GROUP)}})}),(0,st.jsxs)(ht.Z,{flex:"auto",children:[(0,st.jsxs)("div",{className:"pe-cursor-pointer",role:"button",onKeyDown:function(){},tabIndex:0,style:{opacity:B.message?.6:1},onClick:function(){B.message||Ze(gi.AUDIENCE_GROUP)},children:[(0,st.jsx)(Sle,{className:"label-large pe-mb-13 pe-mt-2",children:Ua("Send to Audience Group","pushengage")}),(0,st.jsx)(Sle,{type:"secondary",className:"pe-mb-0 pe-fw-500",children:Ua("Personalize your notification based on predefined audience group.","pushengage")})]}),Ce?(0,st.jsx)("div",{className:"pe-mt-15",children:(0,st.jsx)(uG,{value:K.peWpAudienceGroupIds,onChange:Ne,audienceGroups:O})}):null]})]}),B.message&&(0,st.jsx)(Au.default,{type:"info",message:(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)(Zle,{className:"pe-color-neutral-80 pe-fs-15",children:[B.message," "]}),B.isUpgradePlan&&(0,st.jsxs)(Nle,{className:"pe-fw-600",href:"".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:S,drawer:!0,utm_medium:"PostEditorUpdatePlan",utm_content:"Update Plan",planType:ii.BUSINESS,feature:"Audience Group"})),target:"_blank",children:[Ua("Upgrade to Business Plan","pushengage")," \u2192"]})]}),style:{height:39}})]})}),(0,st.jsxs)(Wc.Z,{className:"pe-campaign-card",bordered:!1,children:[(0,st.jsxs)(dt.Z,{justify:"space-between",align:"top",className:"pe-mb-10",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(jle,{level:3,className:"pe-fw-600 pe-lh-130 pe-mb-0",children:Ua("UTM Parameters","pushengage")})}),(0,st.jsxs)(ht.Z,{children:[(0,st.jsx)(Lv.Z,{checked:K.utmParams.enabled,onChange:function(e){var t=Bi()(K);t.utmParams.enabled=e,Y(t)}}),K.utmParams.enabled&&(0,st.jsx)("input",{type:"hidden",name:"pe_wp_utm_params_enabled",value:"1"})]})]}),(0,st.jsx)(Zle,{type:"secondary",className:"dark",children:Ua("Improve your analytics with custom link attribution.","pushengage")}),K.utmParams.enabled&&(0,st.jsx)(wle,{notification:K,onChange:function(e,t){var n=Bi()(K);n.utmParams[e]=t,Y(n)}})]})]})})]})},Ple=function(){var e=(0,oe.useState)(!0),t=(0,xe.Z)(e,2),n=t[0],r=t[1],i=yt();return(0,oe.useEffect)((function(){i(zr(!0)),(0,at.Z)((0,it.Z)().mark((function e(){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ix();case 2:r(!1);case 3:case"end":return e.stop()}}),e)})))()}),[i]),n?null:(0,st.jsx)(Tle,{})},Mle=function(e){var t,n=e.initialValue,r=e.onChange,i=(0,oe.useState)([]),a=(0,xe.Z)(i,2),o=a[0],s=a[1],l=(0,oe.useState)(!1),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(t={},(0,ti.Z)(t,oo,[ei()().subtract(7,"d").startOf("day"),ei()().subtract(1,"d").endOf("day")]),(0,ti.Z)(t,so,[ei()().subtract(30,"d").startOf("day"),ei()().subtract(1,"d").endOf("day")]),t);(0,oe.useEffect)((function(){n&&"string"===typeof n&&s([n])}),[n]);var f=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.key,d(!1),n!==o[0]&&(s([n]),r(p[n]));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=(0,st.jsx)($u.default,{className:"pe-date-range-dropdown-btn-menu",onClick:f,selectedKeys:o,children:Object.keys(p).map((function(e){return(0,st.jsxs)($u.default.Item,{children:[(0,st.jsx)("span",{children:e}),-1!==o.indexOf(e)?(0,st.jsx)(Wf,{}):null]},e)}))});return(0,st.jsx)(Xu.default,{visible:u,onVisibleChange:function(e){d(e)},overlay:h,placement:"bottomLeft",trigger:["click"],children:(0,st.jsxs)(pt.default,{size:"small",className:"pe-fs-13 pe-fw-400 pe-min-w-167 pe-d-flex pe-align-items-center",style:{justifyContent:"space-between"},children:[o[0],(0,st.jsx)(Kf,{className:"pe-fs-11 pe-ml-12 pe-d-flex"})]})})},Ile=mt.Z.Title,Dle=mt.Z.Text,Lle=mt.Z.Paragraph,Rle=function(){var e=[{id:"push",title:Ua("Web Push","pushengage"),Icon:Qp,color:"#722ed1",description:Ua("Bring visitors back instantly. Notify subscribers of new blog posts, product drops, or flash sales to drive immediate traffic.","pushengage")},{id:"whatsapp",title:Ua("WhatsApp","pushengage"),Icon:dd,color:"#52c41a",description:Ua("Connect on their favorite app. Send personalized content updates, order alerts, and build stronger relationships.","pushengage")},{id:"chat",title:Ua("Chat Widget","pushengage"),Icon:hg,color:"#1677ff",description:Ua("Engage visitors across 20+ channels. Answer reader questions, guide shoppers to the right products, and remove friction.","pushengage")}];return(0,st.jsx)("div",{style:{maxWidth:"900px"},children:(0,st.jsxs)(Wc.Z,{style:{boxShadow:"0 1px 2px rgba(0,0,0,0.03)"},bodyStyle:{padding:"24px"},children:[(0,st.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,st.jsxs)(Ju.default,{align:"center",size:8,style:{marginBottom:"8px"},children:[(0,st.jsx)("img",{src:"".concat(window.pushengage.assetsUrl,"img/pushengage-blue-icon.svg"),alt:"PushEngage",style:{width:24,height:24,borderRadius:4}}),(0,st.jsx)(Dle,{strong:!0,style:{fontSize:"14px",color:"#3c434a"},children:Ua("PushEngage","pushengage")})]}),(0,st.jsx)(Ile,{level:3,className:"pe-fs-20 pe-fw-600",style:{margin:"0 0 8px",color:"#1d2327"},children:Ua("Stop Losing Your Hard-Earned Traffic.","pushengage")}),(0,st.jsx)(Dle,{className:"pe-fs-14 pe-d-block",style:{color:"#50575e",maxWidth:"600px"},children:Ua("Turn one-time visitors into loyal fans and repeat customers with a single toolkit.","pushengage")})]}),(0,st.jsx)("div",{className:"pe-mb-32",children:(0,st.jsx)(dt.Z,{gutter:[32,24],children:e.map((function(e){return(0,st.jsx)(ht.Z,{xs:24,md:12,children:(0,st.jsxs)("div",{className:"pe-flex pe-flex-col pe-h-full",children:[(0,st.jsxs)(Ju.default,{align:"center",size:10,className:"pe-mb-6",children:[(0,st.jsx)(e.Icon,{className:"pe-fs-18 pe-mt-4",style:{color:e.color}}),(0,st.jsx)(Dle,{className:"pe-fs-14 pe-fw-600 pe-color-neutral-70",children:e.title})]}),(0,st.jsx)(Lle,{className:"pe-fs-13",style:{color:"#646970",lineHeight:"1.5",margin:0},children:e.description})]})},e.id)}))})}),(0,st.jsxs)("div",{className:"pe-flex pe-items-center pe-gap-16 pe-flex-wrap",children:[(0,st.jsx)(pt.default,{type:"primary",size:"large",className:"button-primary pe-fw-500 pe-px-24",onClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"onboarding")},children:Ua("Connect Your Account","pushengage")}),(0,st.jsxs)("div",{className:"pe-flex pe-items-center pe-ml-8",style:{color:"#94a3b8"},children:[(0,st.jsx)(Lf,{className:"pe-fs-12 pe-mr-4",style:{color:"#fb923c"}}),(0,st.jsx)("span",{className:"pe-fs-12",children:Ua("Join 25,000+ sites growing their revenue.","pushengage")})]})]})]})})},Ble=mt.Z.Title,Fle=mt.Z.Text,zle=function(e){var t=e.status,n={connected:{color:"#52c41a",text:Ua("Connected","pushengage")},pending:{color:"#fa8c16",text:Ua("Pending","pushengage")},disconnected:{color:"#ff4d4f",text:Ua("Disconnected","pushengage")}}[t];return(0,st.jsx)(ft.default,{title:n.text,children:(0,st.jsx)("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",backgroundColor:n.color,margin:0,cursor:"pointer"}})})},Vle=function(e){var t=e.upgradeUrl,n=e.notificationLimit,r=e.notificationSentCount,i=e.siteId,a=(0,oe.useState)(!1),o=(0,xe.Z)(a,2),s=o[0],l=o[1];return(0,st.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",className:"pe-d-block pe-p-relative pe-bg-white",style:{border:"1px solid ".concat(s?"#e9d5ff":"#e5e7eb"),borderRadius:6,padding:10,boxShadow:s?"0 1px 3px 0 rgba(0, 0, 0, 0.1)":"0 1px 2px 0 rgba(0, 0, 0, 0.05)",textDecoration:"none",transition:"all 0.2s"},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,st.jsx)("span",{className:"pe-fs-10 pe-fw-700 pe-align-items-center",style:{flexShrink:0,display:"inline-flex",padding:"2px 6px",borderRadius:4,backgroundColor:"#fef3c7",color:"#d97706",lineHeight:1},children:Ua("WARNING","pushengage")}),(0,st.jsx)("div",{style:{flex:1},children:(0,st.jsx)(Gu,{notificationLimit:n,notificationSentCount:r,siteId:i})})]}),(0,st.jsx)(kh,{className:"pe-fs-14",style:{color:s?"#a855f7":"#d1d5db",transition:"color 0.2s"}})]})})},Ule=function(e){var t=e.announcement,n=e.onDismiss,r=(0,oe.useState)(!1),i=(0,xe.Z)(r,2),a=i[0],o=i[1],s="feature"===t.state?{bg:"#f3e8ff",text:"#7c3aed"}:"warning"===t.state?{bg:"#fef3c7",text:"#d97706"}:"error"===t.state?{bg:"#fee2e2",text:"#dc2626"}:{bg:"#f3e8ff",text:"#7c3aed"},l=t.message||t.title;return(0,st.jsxs)("a",{href:t.url||"#",className:"pe-d-block pe-p-relative pe-bg-white",style:{border:"1px solid ".concat(a?"#e9d5ff":"#e5e7eb"),borderRadius:6,padding:10,boxShadow:a?"0 1px 3px 0 rgba(0, 0, 0, 0.1)":"0 1px 2px 0 rgba(0, 0, 0, 0.05)",textDecoration:"none",transition:"all 0.2s"},onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[a&&n&&(0,st.jsx)(ft.default,{title:Ua("Dismiss notice","pushengage"),children:(0,st.jsx)(pt.default,{shape:"circle",size:"small",icon:(0,st.jsx)(Nh,{}),onClick:function(e){e.preventDefault(),e.stopPropagation(),n(t.alert_id)},style:{position:"absolute",top:-20,right:-10,zIndex:1}})}),(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,st.jsx)("span",{className:"pe-fs-10 pe-fw-700 pe-align-items-center",style:{flexShrink:0,display:"inline-flex",padding:"2px 6px",borderRadius:4,backgroundColor:s.bg,color:s.text,lineHeight:1},children:"feature"===t.state?Ua("NEW","pushengage"):"warning"===t.state?Ua("WARNING","pushengage"):"error"===t.state?Ua("ERROR","pushengage"):Ua("NEW","pushengage")}),(0,st.jsx)("span",{className:"pe-fs-12",style:{color:a?"#111827":"#4b5563",transition:"color 0.2s"},children:l})]}),(0,st.jsx)(kh,{className:"pe-fs-14",style:{color:a?"#a855f7":"#d1d5db",transition:"color 0.2s"}})]})]})},Hle=function(e){var t=e.title,n=e.Icon,r=e.status,i=e.description,a=e.metrics,o=e.ctaText,s=e.onClick,l=e.isPrimary,c=e.iconBg,u=e.iconColor,d=e.loading;return(0,st.jsxs)(Wc.Z,{bordered:!0,style:{height:"100%",display:"flex",flexDirection:"column",flex:1},bodyStyle:{padding:12,display:"flex",flexDirection:"column",flex:1},children:[(0,st.jsxs)("div",{className:"pe-d-flex pe-align-items-center pe-justify-space-between",children:[(0,st.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,st.jsx)("span",{style:{width:24,height:24,borderRadius:6,background:c||"#f3f4ff",color:u||"#3b43ff",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:(0,st.jsx)(n,{style:{fontSize:14}})}),(0,st.jsx)("span",{className:"pe-fw-600 pe-color-dark",style:{fontSize:13},children:t})]}),(0,st.jsx)(zle,{status:r})]}),(0,st.jsx)("div",{style:{flex:1,marginTop:6},children:(0,st.jsx)(Hc.default,{spinning:Boolean(d),children:"connected"===r&&null!==a&&void 0!==a&&a.length?(0,st.jsx)(dt.Z,{gutter:[12,8],children:a.map((function(e,t){return(0,st.jsxs)(ht.Z,{span:12,children:[(0,st.jsx)("div",{className:"pe-color-neutral-60",style:{fontSize:11},children:e.label}),(0,st.jsx)("div",{className:"pe-fw-600 pe-color-dark",style:{fontSize:13,marginTop:2},children:e.value})]},"".concat(e.label,"-").concat(t))}))}):(0,st.jsx)(Fle,{type:"secondary",style:{fontSize:12},children:i||Ua("Send push notifications to your subscribers to get details here.","pushengage")})})}),(0,st.jsx)("div",{style:{marginTop:"auto",paddingTop:10},children:(0,st.jsxs)(pt.default,{type:l?"primary":"default",size:"small",onClick:s,style:{alignSelf:"flex-start",display:"flex",alignItems:"center",gap:4},children:[o,(0,st.jsx)(kh,{})]})})]})},Wle=function(){var e=yt(),t=bt(Vr),n=bt(Ur),r=bt(qr),i=bt((function(e){var t,n;return null===e||void 0===e||null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.user_id})),a=bt(is),o=(0,oe.useState)(so),s=(0,xe.Z)(o,1)[0],l=(0,oe.useState)([ei()().subtract(30,"days"),ei()().subtract(1,"day")]),c=(0,xe.Z)(l,2),u=c[0],d=c[1],p=(0,oe.useState)([]),f=(0,xe.Z)(p,2),h=f[0],g=f[1],m=(0,oe.useState)(!1),v=(0,xe.Z)(m,2),y=v[0],b=v[1],x=(0,oe.useState)(0),w=(0,xe.Z)(x,2),k=w[0],_=w[1],C=(0,oe.useState)(!1),j=(0,xe.Z)(C,2),S=j[0],Z=j[1],N=(0,oe.useState)(null),E=(0,xe.Z)(N,2),O=E[0],A=E[1],T=(0,oe.useState)(!1),P=(0,xe.Z)(T,2),M=P[0],I=P[1],D=(0,oe.useState)(!1),L=(0,xe.Z)(D,2),R=L[0],B=L[1],F=(0,oe.useState)(!1),z=(0,xe.Z)(F,2),V=z[0],U=z[1],H=(0,oe.useState)(0),W=(0,xe.Z)(H,2),q=W[0],K=W[1],Y=(0,oe.useState)([]),G=(0,xe.Z)(Y,2),Q=G[0],X=G[1],$=Ku(),J=$.shouldShowNotificationLimitAlert,ee=$.notificationLimit,te=$.notificationSentCount,ne=(0,oe.useMemo)((function(){return"".concat(Gc.baseDashboardAppUrl,"/account/billing").concat(Qc({sid:n,drawer:!0,planType:"business",utm_medium:"WP Dashboard Widget",utm_content:"Upgrade now",ref:"notification_limit_exceeded"}))}),[n]),re=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var r,i,o;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,bf(n,t);case 4:r=e.sent,i=r.meta,o=Ao(i,a),g([{label:Ua("New Subscribers","pushengage"),value:o.subscribers.value},{label:Ua("Notifications Sent","pushengage"),value:o.notificationSent.value},{label:Ua("Recovered revenue","pushengage"),value:o.goalConversionValue.value},{label:Ua("Unused AI Credits","pushengage"),value:k}]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0;case 13:return e.prev=13,b(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();(0,oe.useEffect)((function(){if(t){var e={start_created_at:u[0].format("YYYY-MM-DD"),end_created_at:u[1].format("YYYY-MM-DD"),group_by:ri.DAY,expand:"analytics_in_metadata",include_meta:"prev,curr"};re(e)}}),[u,a]),(0,oe.useEffect)((function(){return e(zr(!0)),function(){e(zr(!1))}}),[e]),(0,oe.useEffect)((function(){var e=!1,n=function(){var n=(0,at.Z)((0,it.Z)().mark((function n(){var i,a;return(0,it.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&r){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,pW(r);case 5:i=n.sent,e||_((null===(a=i.data)||void 0===a?void 0:a.remaining_credit)||0),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),e||_(0),n.t0;case 13:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){e=!0}}),[t,r]);var ie=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){var n;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d([t[0],t[1]]),n={start_created_at:t[0].format("YYYY-MM-DD"),end_created_at:t[1].format("YYYY-MM-DD"),group_by:ri.DAY,expand:"analytics_in_metadata",include_meta:"prev,curr"},re(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=(0,oe.useMemo)((function(){return O?[{label:Ua("Most Popular Channel(s)","pushengage"),value:O.popularChannels},{label:Ua("Views","pushengage"),value:O.views},{label:Ua("Busiest Hours","pushengage"),value:O.busiestHours},{label:Ua("Popular Agent","pushengage"),value:O.popularAgent}]:[]}),[O]),se=(0,oe.useMemo)((function(){return R&&0!==q?[{label:Ua("Templates","pushengage"),value:q}]:[]}),[R,q]);(0,oe.useEffect)((function(){var e=!1,r=function(){var r=(0,at.Z)((0,it.Z)().mark((function r(){var i,a,o,s,l,c,d,p,f,h,g,m,v,y,b,x,w,k,_,C,j,S,N,E,O,T,P,M,D,L,R,B;return(0,it.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&n){r.next=2;break}return r.abrupt("return");case 2:return e||I(!0),r.prev=3,r.next=6,_f(n,{page:1,limit:1});case 6:a=r.sent,o=(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.data)||[],e||Z((null===o||void 0===o?void 0:o.length)>0),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),e||Z(!1);case 14:return r.prev=14,s=u[0].startOf("day").format("YYYY-MM-DD HH:mm:ss"),l=u[1].endOf("day").format("YYYY-MM-DD HH:mm:ss"),r.next=19,Of(n,{start_date:s,end_date:l});case 19:if(c=r.sent,d=c.data||null,p=d.totals||{},f=Number(p.total_interactions||0),h=(null===d||void 0===d?void 0:d.channel_stats)||[],g="-",Array.isArray(h)&&h.length&&(m=h.map((function(e){return{type:e.channel_type,clicks:Number(e.clicks||0)}})),v=m.reduce((function(e,t){return Math.max(e,t.clicks)}),0),(y=m.filter((function(e){return e.clicks===v&&v>0}))).length&&(g=y.map((function(e){var t=null!==e&&void 0!==e&&e.type?tP(e.type):void 0;return(null===t||void 0===t?void 0:t.label)||String((null===e||void 0===e?void 0:e.type)||Ua("Unknown","pushengage"))})).join(", "))),b=(null===d||void 0===d?void 0:d.busy_hours)||[],x="-",Array.isArray(b)&&b.length){for(w={},b.forEach((function(e){w[Number(e.hour)]=Number(e.interactions||0)})),k=[],_=0;_<24;_+=1)k.push(w[_]||0);for(C=0,j=-1/0,S=0;S<k.length;S+=1){for(N=0,E=0;E<4;E+=1)N+=k[(S+E)%k.length];N>j&&(j=N,C=S)}O=function(e){var t=e<12?"am":"pm";return"".concat(e%12===0?12:e%12).concat(t)},P=((T=C)+4)%24,x="".concat(O(T),"\u2013").concat(O(P))}M=(null===d||void 0===d?void 0:d.agent_stats)||[],D="-",Array.isArray(M)&&M.length&&(L=(0,we.Z)(M).sort((function(e,t){return Number(t.chats||0)-Number(e.chats||0)})),R=L[0],(B=String((null===R||void 0===R?void 0:R.agent_name)||"Default").trim())&&(D=B)),e||A({popularChannels:g,views:f,busiestHours:x,popularAgent:D}),r.next=38;break;case 35:r.prev=35,r.t1=r.catch(14),e||A(null);case 38:return r.prev=38,e||I(!1),r.finish(38);case 41:case"end":return r.stop()}}),r,null,[[3,11],[14,35,38,41]])})));return function(){return r.apply(this,arguments)}}();return r(),function(){e=!0}}),[t,n,u]),(0,oe.useEffect)((function(){var e=!1,t=function(){var t=(0,at.Z)((0,it.Z)().mark((function t(){var n,r,i,a,o,s,l,c;return(0,it.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e||U(!0),t.prev=1,t.next=4,ml();case 4:if(n=t.sent,r=Boolean((null===n||void 0===n?void 0:n.data)&&Object.keys(n.data).length),e||B(r),!r||null===n||void 0===n||!n.data){t.next=27;break}t.prev=8,i=!0,a=[],o={limit:100};case 12:if(!i||e){t.next=19;break}return t.next=15,_O(n.data,o);case 15:(s=t.sent).success?(a=[].concat((0,we.Z)(a),(0,we.Z)(s.data.data)),s.data.data.length<o.limit?i=!1:null!==(l=s.data.paging)&&void 0!==l&&null!==(c=l.cursors)&&void 0!==c&&c.after?o.after=s.data.paging.cursors.after:i=!1):i=!1,t.next=12;break;case 19:e||K(a.length),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),e||K(0);case 25:t.next=28;break;case 27:e||K(0);case 28:t.next=33;break;case 30:t.prev=30,t.t1=t.catch(1),e||(B(!1),K(0));case 33:return t.prev=33,e||U(!1),t.finish(33);case 36:case"end":return t.stop()}}),t,null,[[1,30,33,36],[8,22]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!0}}),[]),(0,oe.useEffect)((function(){var e=!1,n=function(){var n=(0,at.Z)((0,it.Z)().mark((function n(){var r,a;return(0,it.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&i){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,Rc(i,{tags:"wp_dashboard_widget"});case 5:r=n.sent,!e&&r.data&&Array.isArray(r.data)&&(a=r.data.slice(0,10),X(a)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),e||X([]),n.t0;case 13:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){e=!0}}),[t,i]);var le=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(t){return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Fc(i,t);case 5:X((function(e){return e.filter((function(e){return e.alert_id!==t}))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),e.t0;case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return t?(0,st.jsxs)("div",{style:{padding:"15px"},children:[(0,st.jsxs)(dt.Z,{justify:"space-between",className:"pe-mb-12",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsxs)("div",{children:[(0,st.jsx)(Ble,{className:"pe-mb-2 pe-lh-130",level:3,children:Ua("PushEngage Overview","pushengage")}),(0,st.jsx)(Fle,{type:"secondary",style:{fontSize:12},children:Ua("Performance across your channels","pushengage")})]})}),(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Mle,{initialValue:s,onChange:ie})})]}),(0,st.jsxs)(dt.Z,{gutter:[12,12],style:{alignItems:"stretch"},children:[(0,st.jsx)(ht.Z,{xs:24,sm:24,md:24,lg:12,xl:12,style:{display:"flex"},children:(0,st.jsx)(Hle,{title:Ua("Web Push","pushengage"),Icon:Qp,status:t?"connected":"disconnected",metrics:h,ctaText:Ua("Send Notification","pushengage"),isPrimary:!0,iconBg:"#eef2ff",iconColor:"#3b43ff",loading:y,onClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl,"campaigns/notifications/create")}})}),(0,st.jsx)(ht.Z,{xs:24,sm:24,md:24,lg:12,xl:12,style:{display:"flex"},children:(0,st.jsx)(Hle,{title:Ua("Chat Widget","pushengage"),Icon:hg,status:S?"connected":"disconnected",description:Ua("Connect your chat widget to enable WhatsApp, Messenger, Telegram, and more.","pushengage"),metrics:S?ae:void 0,ctaText:Ua(S?"Manage Chat Widgets":"Set up Chat Widget","pushengage"),iconBg:"#ecfeff",iconColor:"#0ea5a1",loading:M,onClick:function(){window.location.href="".concat(window.pushengage.pluginDashboardUrl.replace(/\/$/,"")).concat($r.path.clickToChatV2.list,"?tab=list")}})}),(0,st.jsx)(ht.Z,{xs:24,sm:24,md:24,lg:12,xl:12,style:{display:"flex"},children:(0,st.jsx)(Hle,{title:Ua("WhatsApp","pushengage"),Icon:dd,status:R?"connected":"disconnected",description:Ua("Activate WhatsApp to send alerts, updates, and automated campaigns.","pushengage"),metrics:R?se:void 0,ctaText:Ua(R?"Manage WhatsApp":"Connect WhatsApp","pushengage"),iconBg:"#ecfdf5",iconColor:"#10b981",loading:V,onClick:function(){var e=R?$r.path.whatsapp.templates:$r.path.whatsapp.settings;window.location.href="".concat(window.pushengage.pluginDashboardUrl.replace(/\/$/,"")).concat(e)}})})]}),J()&&(0,st.jsx)("div",{style:{marginTop:12},children:(0,st.jsx)(Vle,{upgradeUrl:ne,notificationLimit:ee,notificationSentCount:te,siteId:n})}),Q.length>0&&(0,st.jsx)("div",{style:{marginTop:12,display:"flex",flexDirection:"column",gap:8},children:Q.map((function(e){return(0,st.jsx)(Ule,{announcement:e,onDismiss:le},e.alert_id)}))})]}):(0,st.jsx)(Rle,{})};var qle=function(){var e=function(){var e=(0,oe.useState)(!0),t=(0,xe.Z)(e,2),n=t[0],r=t[1];(0,oe.useEffect)((function(){var e=tf().dismissedNotice;r(!e)}),[]);var i=function(){var e=(0,at.Z)((0,it.Z)().mark((function e(){var t,n,i,a,o,s;return(0,it.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=tf(),n=t.nonce,i=t.action,a=t.adminAjax,o={action:i,_wpnonce:n},(s=new URL(a)).search=new URLSearchParams(o).toString(),r(!1),e.next=7,fetch(s,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":n},body:JSON.stringify({action:i})});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{dismissBanner:i,showBanner:n}}(),t=e.showBanner,n=e.dismissBanner,r=tf().version;if(!t)return null;var i=ef(r);return i?(0,st.jsxs)(Wc.Z,{className:"pe-mb-24 pe-mt-24",children:[(0,st.jsxs)(dt.Z,{justify:"space-between",children:[(0,st.jsx)(ht.Z,{children:(0,st.jsx)(Au.default,{className:"pe-fw-700 pe-px-12",showIcon:!0,message:"UPDATED - v".concat(i.version),type:"success",icon:(0,st.jsx)(Pp,{className:"pe-color-accent pe-fs-20"})})}),(0,st.jsx)($c,{title:Ua("Close banner","pushengage"),className:"pe-fs-12 pe-color-neutral-80",onClick:n})]}),(0,st.jsx)(Cu.Z,{}),(0,st.jsx)(ff,{whatsNewData:i})]}):null};try{var Kle=window;Kle&&Kle._&&"function"===typeof Kle._.noConflict&&(Kle.peLodash=Kle._.noConflict())}catch($le){}ae.default.config({prefixCls:"pe-ant"}),ie.default.config({placement:"bottomRight"});var Yle,Gle=document.getElementById("pe-root"),Qle=!1;switch(null===Gle||void 0===Gle?void 0:Gle.getAttribute("data-app")){case"main":Yle=gle;break;case"postEditorMetabox":Yle=Ple;break;case"dashboardWidget":Yle=Wle;break;case"whatsNew":Yle=qle,Qle=!0}if(Yle&&(se.createRoot(Gle).render((0,st.jsx)(Xe,{store:Oc,children:(0,st.jsx)(ae.default,{prefixCls:"pe-ant",children:(0,st.jsx)(ble,{children:(0,st.jsx)(Yle,{})})})})),Qle)){var Xle=document.querySelector(".wp-header-end");Xle&&Xle.insertAdjacentElement("afterend",Gle)}},17819:function(e,t,n){"use strict";n.r(t),n.d(t,{blue:function(){return C},cyan:function(){return _},geekblue:function(){return j},generate:function(){return p},gold:function(){return y},green:function(){return k},grey:function(){return N},lime:function(){return w},magenta:function(){return Z},orange:function(){return b},presetDarkPalettes:function(){return g},presetPalettes:function(){return h},presetPrimaryColors:function(){return f},purple:function(){return S},red:function(){return m},volcano:function(){return v},yellow:function(){return x}});var r=n(2144),i=n(86144),a=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function o(e){var t=e.r,n=e.g,i=e.b,a=(0,r.py)(t,n,i);return{h:360*a.h,s:a.s,v:a.v}}function s(e){var t=e.r,n=e.g,i=e.b;return"#".concat((0,r.vq)(t,n,i,!1))}function l(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function c(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function u(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function d(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function p(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=(0,i.uA)(e),p=5;p>0;p-=1){var f=o(r),h=s((0,i.uA)({h:c(f,p,!0),s:u(f,p,!0),v:d(f,p,!0)}));n.push(h)}n.push(s(r));for(var g=1;g<=4;g+=1){var m=o(r),v=s((0,i.uA)({h:c(m,g),s:u(m,g),v:d(m,g)}));n.push(v)}return"dark"===t.theme?a.map((function(e){var r=e.index,a=e.opacity;return s(l((0,i.uA)(t.backgroundColor||"#141414"),(0,i.uA)(n[r]),100*a))})):n}var f={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},h={},g={};Object.keys(f).forEach((function(e){h[e]=p(f[e]),h[e].primary=h[e][5],g[e]=p(f[e],{theme:"dark",backgroundColor:"#141414"}),g[e].primary=g[e][5]}));var m=h.red,v=h.volcano,y=h.gold,b=h.orange,x=h.yellow,w=h.lime,k=h.green,_=h.cyan,C=h.blue,j=h.geekblue,S=h.purple,Z=h.magenta,N=h.grey},98417:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"}},56214:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"}},62181:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"}},68668:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"}},38866:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"}},24925:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"}},42528:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"}},58310:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"}},86824:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"}},51025:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"}},26548:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"}},56232:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"}},88246:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"}},42268:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"}},24658:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"}},74102:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"}},92207:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"}},69202:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"}},38381:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"}},59908:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"}},59916:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"}},74302:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"}},4532:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"}},20065:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"}},70058:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"}},77482:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"}},6888:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"}},51350:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"}},60326:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"}},82179:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"}},56701:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"}},32852:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"}},87214:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"}},80607:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"}},59862:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"}},68863:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"}},2124:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"}},2772:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"}},38632:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"}},85093:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"}},42277:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"}},15631:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"}},57903:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"}},93244:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"}},45464:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"}},17632:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"}},62031:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(44105))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},59883:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(26366))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},11774:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(53924))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},32385:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(72906))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},40587:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(6502))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},53291:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(45155))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},73020:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(65008))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},75603:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(53200))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},95843:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(47992))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},32554:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(33942))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},67667:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(50334))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},73571:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(2405))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},95638:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(52938))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},14374:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(66762))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},41719:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(88830))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},87948:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(13003))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},67669:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(58957))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},84834:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(810))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},48413:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(93986))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},18348:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(5617))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},39851:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(80728))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},31485:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(12829))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},36064:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(77133))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},87954:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(79853))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},34696:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(22799))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},48750:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(70412))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},62003:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(65904))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},57437:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(45884))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},47960:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(9645))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},3305:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(64191))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},1324:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(42242))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},92295:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(98723))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},98491:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(28454))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},10791:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(51156))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},8442:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(42460))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},95749:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(56433))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},89829:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(52701))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},76722:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(86412))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},85668:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(21273))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},4114:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(21562))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},59251:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(710))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},51896:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(39935))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},73081:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(14937))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},3080:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(84991))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},30253:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(15710))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},30782:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(r=n(27585))&&r.__esModule?r:{default:r};t.default=i,e.exports=i},17830:function(e,t,n){"use strict";var r=n(64836),i=n(75263);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(42122)),o=r(n(27424)),s=r(n(38416)),l=r(n(70215)),c=i(n(47313)),u=r(n(46123)),d=r(n(84573)),p=r(n(39063)),f=n(91468),h=n(49018),g=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,f.setTwoToneColor)("#1890ff");var m=c.forwardRef((function(e,t){var n,r=e.className,i=e.icon,f=e.spin,m=e.rotate,v=e.tabIndex,y=e.onClick,b=e.twoToneColor,x=(0,l.default)(e,g),w=c.useContext(d.default).prefixCls,k=void 0===w?"anticon":w,_=(0,u.default)(k,(n={},(0,s.default)(n,"".concat(k,"-").concat(i.name),!!i.name),(0,s.default)(n,"".concat(k,"-spin"),!!f||"loading"===i.name),n),r),C=v;void 0===C&&y&&(C=-1);var j=m?{msTransform:"rotate(".concat(m,"deg)"),transform:"rotate(".concat(m,"deg)")}:void 0,S=(0,h.normalizeTwoToneColors)(b),Z=(0,o.default)(S,2),N=Z[0],E=Z[1];return c.createElement("span",(0,a.default)((0,a.default)({role:"img","aria-label":i.name},x),{},{ref:t,tabIndex:C,onClick:y,className:_}),c.createElement(p.default,{icon:i,primaryColor:N,secondaryColor:E,style:j}))}));m.displayName="AntdIcon",m.getTwoToneColor=f.getTwoToneColor,m.setTwoToneColor=f.setTwoToneColor;var v=m;t.default=v},84573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(47313).createContext)({});t.default=r},39063:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(70215)),a=r(n(42122)),o=n(49018),s=["icon","className","onClick","style","primaryColor","secondaryColor"],l={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var c=function(e){var t=e.icon,n=e.className,r=e.onClick,c=e.style,u=e.primaryColor,d=e.secondaryColor,p=(0,i.default)(e,s),f=l;if(u&&(f={primaryColor:u,secondaryColor:d||(0,o.getSecondaryColor)(u)}),(0,o.useInsertStyles)(),(0,o.warning)((0,o.isIconDefinition)(t),"icon should be icon definiton, but got ".concat(t)),!(0,o.isIconDefinition)(t))return null;var h=t;return h&&"function"===typeof h.icon&&(h=(0,a.default)((0,a.default)({},h),{},{icon:h.icon(f.primaryColor,f.secondaryColor)})),(0,o.generate)(h.icon,"svg-".concat(h.name),(0,a.default)({className:n,onClick:r,style:c,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},p))};c.displayName="IconReact",c.getTwoToneColors=function(){return(0,a.default)({},l)},c.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;l.primaryColor=t,l.secondaryColor=n||(0,o.getSecondaryColor)(t),l.calculated=!!n};var u=c;t.default=u},91468:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.setTwoToneColor=function(e){var t=(0,o.normalizeTwoToneColors)(e),n=(0,i.default)(t,2),r=n[0],s=n[1];return a.default.setTwoToneColors({primaryColor:r,secondaryColor:s})},t.getTwoToneColor=function(){var e=a.default.getTwoToneColors();if(!e.calculated)return e.primaryColor;return[e.primaryColor,e.secondaryColor]};var i=r(n(27424)),a=r(n(39063)),o=n(49018)},44105:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(98417)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="BarsOutlined";var u=o.forwardRef(c);t.default=u},26366:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(56214)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="CalendarOutlined";var u=o.forwardRef(c);t.default=u},53924:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(62181)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="CaretDownFilled";var u=o.forwardRef(c);t.default=u},72906:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(68668)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="CaretDownOutlined";var u=o.forwardRef(c);t.default=u},6502:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(38866)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="CaretUpOutlined";var u=o.forwardRef(c);t.default=u},45155:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(24925)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="CheckCircleFilled";var u=o.forwardRef(c);t.default=u},65008:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(42528)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="CheckCircleOutlined";var u=o.forwardRef(c);t.default=u},53200:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(58310)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="CheckOutlined";var u=o.forwardRef(c);t.default=u},47992:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(86824)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="ClockCircleOutlined";var u=o.forwardRef(c);t.default=u},33942:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(51025)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="CloseCircleFilled";var u=o.forwardRef(c);t.default=u},50334:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(26548)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="CloseCircleOutlined";var u=o.forwardRef(c);t.default=u},2405:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(56232)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="CloseOutlined";var u=o.forwardRef(c);t.default=u},52938:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(88246)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="CopyOutlined";var u=o.forwardRef(c);t.default=u},66762:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(42268)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="DotChartOutlined";var u=o.forwardRef(c);t.default=u},88830:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(24658)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="DoubleLeftOutlined";var u=o.forwardRef(c);t.default=u},13003:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(74102)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="DoubleRightOutlined";var u=o.forwardRef(c);t.default=u},58957:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(92207)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="DownOutlined";var u=o.forwardRef(c);t.default=u},810:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(69202)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="EditOutlined";var u=o.forwardRef(c);t.default=u},93986:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(38381)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="EllipsisOutlined";var u=o.forwardRef(c);t.default=u},5617:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(59908)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="EnterOutlined";var u=o.forwardRef(c);t.default=u},80728:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(59916)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="ExclamationCircleFilled";var u=o.forwardRef(c);t.default=u},12829:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(74302)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="ExclamationCircleOutlined";var u=o.forwardRef(c);t.default=u},77133:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(4532)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="EyeInvisibleOutlined";var u=o.forwardRef(c);t.default=u},79853:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(20065)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="EyeOutlined";var u=o.forwardRef(c);t.default=u},22799:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(70058)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="FileOutlined";var u=o.forwardRef(c);t.default=u},70412:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(77482)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="FilterFilled";var u=o.forwardRef(c);t.default=u},65904:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(6888)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="FolderOpenOutlined";var u=o.forwardRef(c);t.default=u},45884:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(51350)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="FolderOutlined";var u=o.forwardRef(c);t.default=u},9645:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(60326)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="HolderOutlined";var u=o.forwardRef(c);t.default=u},64191:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(82179)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="InfoCircleFilled";var u=o.forwardRef(c);t.default=u},42242:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(56701)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="InfoCircleOutlined";var u=o.forwardRef(c);t.default=u},98723:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(32852)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="LeftOutlined";var u=o.forwardRef(c);t.default=u},28454:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(87214)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="LoadingOutlined";var u=o.forwardRef(c);t.default=u},51156:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(80607)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="MinusSquareOutlined";var u=o.forwardRef(c);t.default=u},42460:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(59862)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="PlusOutlined";var u=o.forwardRef(c);t.default=u},56433:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(68863)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="PlusSquareOutlined";var u=o.forwardRef(c);t.default=u},52701:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(2124)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="QuestionCircleOutlined";var u=o.forwardRef(c);t.default=u},86412:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(2772)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="RightOutlined";var u=o.forwardRef(c);t.default=u},21273:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(38632)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="RotateLeftOutlined";var u=o.forwardRef(c);t.default=u},21562:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(85093)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="RotateRightOutlined";var u=o.forwardRef(c);t.default=u},710:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(42277)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="SearchOutlined";var u=o.forwardRef(c);t.default=u},39935:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(15631)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="SwapRightOutlined";var u=o.forwardRef(c);t.default=u},14937:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(57903)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="UpOutlined";var u=o.forwardRef(c);t.default=u},84991:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(93244)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="WarningFilled";var u=o.forwardRef(c);t.default=u},15710:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(45464)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="ZoomInOutlined";var u=o.forwardRef(c);t.default=u},27585:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(42122)),o=r(n(47313)),s=i(n(17632)),l=i(n(17830)),c=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="ZoomOutOutlined";var u=o.forwardRef(c);t.default=u},49018:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.warning=function(e,t){(0,c.default)(e,"[@ant-design/icons] ".concat(t))},t.isIconDefinition=function(e){return"object"===(0,o.default)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,o.default)(e.icon)||"function"===typeof e.icon)},t.normalizeAttrs=p,t.generate=function e(t,n,r){if(!r)return l.default.createElement(t.tag,(0,a.default)({key:n},p(t.attrs)),(t.children||[]).map((function(r,i){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(i))})));return l.default.createElement(t.tag,(0,a.default)((0,a.default)({key:n},p(t.attrs)),r),(t.children||[]).map((function(r,i){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(i))})))},t.getSecondaryColor=function(e){return(0,s.generate)(e)[0]},t.normalizeTwoToneColors=function(e){if(!e)return[];return Array.isArray(e)?e:[e]},t.useInsertStyles=t.iconStyles=t.svgBaseProps=void 0;var a=i(n(42122)),o=i(n(18698)),s=n(17819),l=r(n(47313)),c=i(n(64287)),u=n(5824),d=i(n(84573));function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}t.svgBaseProps={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};var f="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";t.iconStyles=f;t.useInsertStyles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=(0,l.useContext)(d.default),n=t.csp;(0,l.useEffect)((function(){(0,u.updateCSS)(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])}},2144:function(e,t,n){"use strict";n.d(t,{GC:function(){return p},T6:function(){return h},VD:function(){return g},WE:function(){return c},Wl:function(){return f},Yt:function(){return m},lC:function(){return a},py:function(){return l},rW:function(){return i},s:function(){return d},ve:function(){return s},vq:function(){return u}});var r=n(43777);function i(e,t,n){return{r:255*(0,r.sh)(e,255),g:255*(0,r.sh)(t,255),b:255*(0,r.sh)(n,255)}}function a(e,t,n){e=(0,r.sh)(e,255),t=(0,r.sh)(t,255),n=(0,r.sh)(n,255);var i=Math.max(e,t,n),a=Math.min(e,t,n),o=0,s=0,l=(i+a)/2;if(i===a)s=0,o=0;else{var c=i-a;switch(s=l>.5?c/(2-i-a):c/(i+a),i){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:s,l:l}}function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function s(e,t,n){var i,a,s;if(e=(0,r.sh)(e,360),t=(0,r.sh)(t,100),n=(0,r.sh)(n,100),0===t)a=n,s=n,i=n;else{var l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=o(c,l,e+1/3),a=o(c,l,e),s=o(c,l,e-1/3)}return{r:255*i,g:255*a,b:255*s}}function l(e,t,n){e=(0,r.sh)(e,255),t=(0,r.sh)(t,255),n=(0,r.sh)(n,255);var i=Math.max(e,t,n),a=Math.min(e,t,n),o=0,s=i,l=i-a,c=0===i?0:l/i;if(i===a)o=0;else{switch(i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:o,s:c,v:s}}function c(e,t,n){e=6*(0,r.sh)(e,360),t=(0,r.sh)(t,100),n=(0,r.sh)(n,100);var i=Math.floor(e),a=e-i,o=n*(1-t),s=n*(1-a*t),l=n*(1-(1-a)*t),c=i%6;return{r:255*[n,s,o,o,l,n][c],g:255*[l,n,n,s,o,o][c],b:255*[o,o,l,n,n,s][c]}}function u(e,t,n,i){var a=[(0,r.FZ)(Math.round(e).toString(16)),(0,r.FZ)(Math.round(t).toString(16)),(0,r.FZ)(Math.round(n).toString(16))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function d(e,t,n,i,a){var o=[(0,r.FZ)(Math.round(e).toString(16)),(0,r.FZ)(Math.round(t).toString(16)),(0,r.FZ)(Math.round(n).toString(16)),(0,r.FZ)(f(i))];return a&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function p(e,t,n,i){return[(0,r.FZ)(f(i)),(0,r.FZ)(Math.round(e).toString(16)),(0,r.FZ)(Math.round(t).toString(16)),(0,r.FZ)(Math.round(n).toString(16))].join("")}function f(e){return Math.round(255*parseFloat(e)).toString(16)}function h(e){return g(e)/255}function g(e){return parseInt(e,16)}function m(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}},64929:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},86144:function(e,t,n){"use strict";n.d(t,{ky:function(){return p},uA:function(){return o},uz:function(){return d}});var r=n(2144),i=n(64929),a=n(43777);function o(e){var t={r:0,g:0,b:0},n=1,i=null,o=null,s=null,l=!1,c=!1;return"string"===typeof e&&(e=d(e)),"object"===typeof e&&(p(e.r)&&p(e.g)&&p(e.b)?(t=(0,r.rW)(e.r,e.g,e.b),l=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):p(e.h)&&p(e.s)&&p(e.v)?(i=(0,a.JX)(e.s),o=(0,a.JX)(e.v),t=(0,r.WE)(e.h,i,o),l=!0,c="hsv"):p(e.h)&&p(e.s)&&p(e.l)&&(i=(0,a.JX)(e.s),s=(0,a.JX)(e.l),t=(0,r.ve)(e.h,i,s),l=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=(0,a.Yq)(n),{ok:l,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var s="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),l="[\\s|\\(]+(".concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")\\s*\\)?"),c="[\\s|\\(]+(".concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")\\s*\\)?"),u={CSS_UNIT:new RegExp(s),rgb:new RegExp("rgb"+l),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+l),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+l),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function d(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(i.R[e])e=i.R[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=u.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=u.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=u.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=u.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=u.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=u.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=u.hex8.exec(e))?{r:(0,r.VD)(n[1]),g:(0,r.VD)(n[2]),b:(0,r.VD)(n[3]),a:(0,r.T6)(n[4]),format:t?"name":"hex8"}:(n=u.hex6.exec(e))?{r:(0,r.VD)(n[1]),g:(0,r.VD)(n[2]),b:(0,r.VD)(n[3]),format:t?"name":"hex"}:(n=u.hex4.exec(e))?{r:(0,r.VD)(n[1]+n[1]),g:(0,r.VD)(n[2]+n[2]),b:(0,r.VD)(n[3]+n[3]),a:(0,r.T6)(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=u.hex3.exec(e))&&{r:(0,r.VD)(n[1]+n[1]),g:(0,r.VD)(n[2]+n[2]),b:(0,r.VD)(n[3]+n[3]),format:t?"name":"hex"}}function p(e){return Boolean(u.CSS_UNIT.exec(String(e)))}},18900:function(e,t,n){"use strict";n.r(t),n.d(t,{TinyColor:function(){return s},bounds:function(){return b},convertDecimalToHex:function(){return r.Wl},convertHexToDecimal:function(){return r.T6},default:function(){return x},fromRatio:function(){return f},hslToRgb:function(){return r.ve},hsvToRgb:function(){return r.WE},inputToRGB:function(){return a.uA},isReadable:function(){return u},isValidCSSUnit:function(){return a.ky},legacyRandom:function(){return h},mostReadable:function(){return d},names:function(){return i.R},numberInputToObject:function(){return r.Yt},parseIntFromHex:function(){return r.VD},random:function(){return g},readability:function(){return c},rgbToHex:function(){return r.vq},rgbToHsl:function(){return r.lC},rgbToHsv:function(){return r.py},rgbToRgb:function(){return r.rW},rgbaToArgbHex:function(){return r.GC},rgbaToHex:function(){return r.s},stringInputToObject:function(){return a.uz},tinycolor:function(){return l},toMsFilter:function(){return p}});var r=n(2144),i=n(64929),a=n(86144),o=n(43777),s=function(){function e(t,n){var i;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=(0,r.Yt)(t)),this.originalInput=t;var o=(0,a.uA)(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=n.format)&&void 0!==i?i:o.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=(0,o.Yq)(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=(0,r.py)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=(0,r.py)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=(0,r.lC)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=(0,r.lC)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),(0,r.vq)(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),(0,r.s)(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*(0,o.sh)(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*(0,o.sh)(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+(0,r.vq)(this.r,this.g,this.b,!1),t=0,n=Object.entries(i.R);t<n.length;t++){var a=n[t],o=a[0];if(e===a[1])return o}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=(0,o.V2)(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=(0,o.V2)(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=(0,o.V2)(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=(0,o.V2)(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100;return new e({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(new e({h:r,s:i,v:a})),a=(a+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(r+o*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function l(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),new s(e,t)}function c(e,t){var n=new s(e),r=new s(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)}function u(e,t,n){var r,i;void 0===n&&(n={level:"AA",size:"small"});var a=c(e,t);switch((null!==(r=n.level)&&void 0!==r?r:"AA")+(null!==(i=n.size)&&void 0!==i?i:"small")){case"AAsmall":case"AAAlarge":return a>=4.5;case"AAlarge":return a>=3;case"AAAsmall":return a>=7;default:return!1}}function d(e,t,n){void 0===n&&(n={includeFallbackColors:!1,level:"AA",size:"small"});for(var r=null,i=0,a=n.includeFallbackColors,o=n.level,l=n.size,p=0,f=t;p<f.length;p++){var h=f[p],g=c(e,h);g>i&&(i=g,r=new s(h))}return u(e,r,{level:o,size:l})||!a?r:(n.includeFallbackColors=!1,d(e,["#fff","#000"],n))}function p(e,t){var n=new s(e),i="#"+(0,r.GC)(n.r,n.g,n.b,n.a),a=i,o=n.gradientType?"GradientType = 1, ":"";if(t){var l=new s(t);a="#"+(0,r.GC)(l.r,l.g,l.b,l.a)}return"progid:DXImageTransform.Microsoft.gradient(".concat(o,"startColorstr=").concat(i,",endColorstr=").concat(a,")")}function f(e,t){var n={r:(0,o.JX)(e.r),g:(0,o.JX)(e.g),b:(0,o.JX)(e.b)};return void 0!==e.a&&(n.a=Number(e.a)),new s(n,t)}function h(){return new s({r:Math.random(),g:Math.random(),b:Math.random()})}function g(e){if(void 0===e&&(e={}),void 0!==e.count&&null!==e.count){var t=e.count,n=[];for(e.count=void 0;t>n.length;)e.count=null,e.seed&&(e.seed+=1),n.push(g(e));return e.count=t,n}var r=function(e,t){var n=v(function(e){var t=parseInt(e,10);if(!Number.isNaN(t)&&t<360&&t>0)return[t,t];if("string"===typeof e){var n=b.find((function(t){return t.name===e}));if(n){var r=y(n);if(r.hueRange)return r.hueRange}var i=new s(e);if(i.isValid){var a=i.toHsv().h;return[a,a]}}return[0,360]}(e),t);n<0&&(n=360+n);return n}(e.hue,e.seed),i=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return v([0,100],t.seed);var n=m(e).saturationRange,r=n[0],i=n[1];switch(t.luminosity){case"bright":r=55;break;case"dark":r=i-10;break;case"light":i=55}return v([r,i],t.seed)}(r,e),a=function(e,t,n){var r=function(e,t){for(var n=m(e).lowerBounds,r=0;r<n.length-1;r++){var i=n[r][0],a=n[r][1],o=n[r+1][0],s=n[r+1][1];if(t>=i&&t<=o){var l=(s-a)/(o-i);return l*t+(a-l*i)}}return 0}(e,t),i=100;switch(n.luminosity){case"dark":i=r+20;break;case"light":r=(i+r)/2;break;case"random":r=0,i=100}return v([r,i],n.seed)}(r,i,e),o={h:r,s:i,v:a};return void 0!==e.alpha&&(o.a=e.alpha),new s(o)}function m(e){e>=334&&e<=360&&(e-=360);for(var t=0,n=b;t<n.length;t++){var r=y(n[t]);if(r.hueRange&&e>=r.hueRange[0]&&e<=r.hueRange[1])return r}throw Error("Color not found")}function v(e,t){if(void 0===t)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));var n=e[1]||1,r=e[0]||0,i=(t=(9301*t+49297)%233280)/233280;return Math.floor(r+i*(n-r))}function y(e){var t=e.lowerBounds[0][0],n=e.lowerBounds[e.lowerBounds.length-1][0],r=e.lowerBounds[e.lowerBounds.length-1][1],i=e.lowerBounds[0][1];return{name:e.name,hueRange:e.hueRange,lowerBounds:e.lowerBounds,saturationRange:[t,n],brightnessRange:[r,i]}}var b=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}],x=l},43777:function(e,t,n){"use strict";function r(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function i(e){return Math.min(1,Math.max(0,e))}function a(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function o(e){return e<=1?"".concat(100*Number(e),"%"):e}function s(e){return 1===e.length?"0"+e:String(e)}n.d(t,{FZ:function(){return s},JX:function(){return o},V2:function(){return i},Yq:function(){return a},sh:function(){return r}})},99932:function(e,t,n){"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(47313),o=(r=a)&&r.__esModule?r:{default:r};t.Z=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,a=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return o.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:a,height:l},u)},d),o.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},3050:function(e,t,n){"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(47313),o=(r=a)&&r.__esModule?r:{default:r};t.Z=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,a=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return o.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:a,height:l},u)},d),o.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},46123:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},92229:function(e,t,n){"use strict";var r=n(43071),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,o,s,l,c,u=!1;t||(t={}),n=t.debug||!1;try{if(o=r(),s=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=i[t.format]||i.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(c),s.selectNodeContents(c),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),c&&document.body.removeChild(c),o()}return u}},86258:function(e){var t={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:2*Math.PI},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:.001,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}};e.exports=function(e,n,r,i){if(!t.hasOwnProperty(r))throw new Error("Cannot convert to "+r);if(!t[r].hasOwnProperty(n))throw new Error("Cannot convert from "+n+" to "+r);var a=t[r][n]*e;return!1!==i?(i=Math.pow(10,parseInt(i)||5),Math.round(a*i)/i):a}},61759:function(e,t,n){var r;!function(i){"use strict";var a,o=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},l=!0,c="[DecimalError] ",u=c+"Invalid argument: ",d=c+"Exponent out of range: ",p=Math.floor,f=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,g=1e7,m=9007199254740991,v=p(1286742750677284.5),y={};function b(e,t){var n,r,i,a,o,s,c,u,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),l?E(t,p):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(r=c,a=-a,s=u.length):(r=u,i=o,s=c.length),a>(s=(o=Math.ceil(p/7))>s?o+1:s+1)&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((s=c.length)-(a=u.length)<0&&(a=s,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/g|0,c[a]%=g;for(n&&(c.unshift(n),++i),s=c.length;0==c[--s];)c.pop();return t.d=c,t.e=i,l?E(t,p):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(u+e)}function w(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=S(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=S(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return k(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return E(k(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return C(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(c+"NaN");if(n.s<1)throw Error(c+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(l=!1,t=k(Z(n,o),Z(e,o),o),l=!0,E(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):b(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(c+"NaN");return n.s?(l=!1,t=k(n,e,0,1).times(e),l=!0,n.minus(t)):E(new r(n),i)},y.naturalExponential=y.exp=function(){return _(this)},y.naturalLogarithm=y.ln=function(){return Z(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b(t,e):O(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(u+e);if(t=C(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,a,o,s=this,u=s.constructor;if(s.s<1){if(!s.s)return new u(0);throw Error(c+"NaN")}for(e=C(s),l=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=w(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=p((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=o=(n=u.precision)+3;;)if(r=(a=r).plus(k(s,a,o+2)).times(.5),w(a.d).slice(0,o)===(t=w(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(E(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if("9999"!=t)break;o+=4}return l=!0,E(r,n)},y.times=y.mul=function(e){var t,n,r,i,a,o,s,c,u,d=this,p=d.constructor,f=d.d,h=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=h.length)&&(a=f,f=h,h=a,o=c,c=u,u=o),a=[],r=o=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)s=a[i]+h[r]*f[i-r-1]+t,a[i--]=s%g|0,t=s/g|0;a[i]=(a[i]+t)%g|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,l?E(e,p.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,o),void 0===t?t=r.rounding:x(t,0,8),E(n,e+C(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=A(r,!0):(x(e,0,o),void 0===t?t=i.rounding:x(t,0,8),n=A(r=E(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?A(i):(x(e,0,o),void 0===t?t=a.rounding:x(t,0,8),n=A((r=E(new a(i),e+C(i)+1,t)).abs(),!1,e+C(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return E(new t(e),C(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,o,s,u=this,d=u.constructor,f=+(e=new d(e));if(!e.s)return new d(a);if(!(u=new d(u)).s){if(e.s<1)throw Error(c+"Infinity");return u}if(u.eq(a))return u;if(r=d.precision,e.eq(a))return E(u,r);if(s=(t=e.e)>=(n=e.d.length-1),o=u.s,s){if((n=f<0?-f:f)<=m){for(i=new d(a),t=Math.ceil(r/7+4),l=!1;n%2&&T((i=i.times(u)).d,t),0!==(n=p(n/2));)T((u=u.times(u)).d,t);return l=!0,e.s<0?new d(a).div(i):E(i,r)}}else if(o<0)throw Error(c+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,l=!1,i=e.times(Z(u,r+12)),l=!0,(i=_(i)).s=o,i},y.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=A(i,(n=C(i))<=a.toExpNeg||n>=a.toExpPos):(x(e,1,o),void 0===t?t=a.rounding:x(t,0,8),r=A(i=E(new a(i),e,t),e<=(n=C(i))||n<=a.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,o),void 0===t?t=n.rounding:x(t,0,8)),E(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=C(e),n=e.constructor;return A(e,t<=n.toExpNeg||t>=n.toExpPos)};var k=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%g|0,r=n/g|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*g+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,l,u,d,p,f,h,m,v,y,b,x,w,k,_,j,S,Z,N=r.constructor,O=r.s==i.s?1:-1,A=r.d,T=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(c+"Division by zero");for(l=r.e-i.e,S=T.length,_=A.length,m=(h=new N(O)).d=[],u=0;T[u]==(A[u]||0);)++u;if(T[u]>(A[u]||0)&&--l,(x=null==a?a=N.precision:o?a+(C(r)-C(i))+1:a)<0)return new N(0);if(x=x/7+2|0,u=0,1==S)for(d=0,T=T[0],x++;(u<_||d)&&x--;u++)w=d*g+(A[u]||0),m[u]=w/T|0,d=w%T|0;else{for((d=g/(T[0]+1)|0)>1&&(T=e(T,d),A=e(A,d),S=T.length,_=A.length),k=S,y=(v=A.slice(0,S)).length;y<S;)v[y++]=0;(Z=T.slice()).unshift(0),j=T[0],T[1]>=g/2&&++j;do{d=0,(s=t(T,v,S,y))<0?(b=v[0],S!=y&&(b=b*g+(v[1]||0)),(d=b/j|0)>1?(d>=g&&(d=g-1),1==(s=t(p=e(T,d),v,f=p.length,y=v.length))&&(d--,n(p,S<f?Z:T,f))):(0==d&&(s=d=1),p=T.slice()),(f=p.length)<y&&p.unshift(0),n(v,p,y),-1==s&&(s=t(T,v,S,y=v.length))<1&&(d++,n(v,S<y?Z:T,y)),y=v.length):0===s&&(d++,v=[0]),m[u++]=d,s&&v[0]?v[y++]=A[k]||0:(v=[A[k]],y=1)}while((k++<_||void 0!==v[0])&&x--)}return m[0]||m.shift(),h.e=l,E(h,o?a+C(h)+1:a)}}();function _(e,t){var n,r,i,o,s,c=0,u=0,p=e.constructor,h=p.precision;if(C(e)>16)throw Error(d+C(e));if(!e.s)return new p(a);for(null==t?(l=!1,s=h):s=t,o=new p(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s+=Math.log(f(2,u))/Math.LN10*2+5|0,n=r=i=new p(a),p.precision=s;;){if(r=E(r.times(e),s),n=n.times(++c),w((o=i.plus(k(r,n,s))).d).slice(0,s)===w(i.d).slice(0,s)){for(;u--;)i=E(i.times(i),s);return p.precision=h,null==t?(l=!0,E(i,h)):i}i=o}}function C(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function j(e,t,n){if(t>e.LN10.sd())throw l=!0,n&&(e.precision=n),Error(c+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function Z(e,t){var n,r,i,o,s,u,d,p,f,h=1,g=e,m=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(c+(g.s?"NaN":"-Infinity"));if(g.eq(a))return new v(0);if(null==t?(l=!1,p=y):p=t,g.eq(10))return null==t&&(l=!0),j(v,p);if(p+=10,v.precision=p,r=(n=w(m)).charAt(0),o=C(g),!(Math.abs(o)<15e14))return d=j(v,p+2,y).times(o+""),g=Z(new v(r+"."+n.slice(1)),p-10).plus(d),v.precision=y,null==t?(l=!0,E(g,y)):g;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((g=g.times(e)).d)).charAt(0),h++;for(o=C(g),r>1?(g=new v("0."+n),o++):g=new v(r+"."+n.slice(1)),u=s=g=k(g.minus(a),g.plus(a),p),f=E(g.times(g),p),i=3;;){if(s=E(s.times(f),p),w((d=u.plus(k(s,new v(i),p))).d).slice(0,p)===w(u.d).slice(0,p))return u=u.times(2),0!==o&&(u=u.plus(j(v,p+2,y).times(o+""))),u=k(u,new v(h),p),v.precision=y,null==t?(l=!0,E(u,y)):u;u=d,i+=2}}function N(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=p(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),l&&(e.e>v||e.e<-v))throw Error(d+n)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,n){var r,i,a,o,s,c,u,h,m=e.d;for(o=1,a=m[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=7,i=t,u=m[h=0];else{if((h=Math.ceil((r+1)/7))>=(a=m.length))return e;for(u=a=m[h],o=1;a>=10;a/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(s=u/(a=f(10,o-i-1))%10|0,c=t<0||void 0!==m[h+1]||u%a,c=n<4?(s||c)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||c||6==n&&(r>0?i>0?u/f(10,o-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(a=C(e),m.length=1,t=t-a-1,m[0]=f(10,(7-t%7)%7),e.e=p(-t/7)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(0==r?(m.length=h,a=1,h--):(m.length=h+1,a=f(10,7-r),m[h]=i>0?(u/f(10,o-i)%f(10,i)|0)*a:0),c)for(;;){if(0==h){(m[0]+=a)==g&&(m[0]=1,++e.e);break}if(m[h]+=a,m[h]!=g)break;m[h--]=0,a=1}for(r=m.length;0===m[--r];)m.pop();if(l&&(e.e>v||e.e<-v))throw Error(d+C(e));return e}function O(e,t){var n,r,i,a,o,s,c,u,d,p,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),l?E(t,h):t;if(c=e.d,p=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,s=p.length):(n=p,r=u,s=c.length),o>(i=Math.max(Math.ceil(h/7),s)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(s=p.length))&&(s=i),i=0;i<s;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}o=0}for(d&&(n=c,c=p,p=n,t.s=-t.s),s=c.length,i=p.length-s;i>0;--i)c[s++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&0===c[--a];)c[a]=g-1;--c[a],c[i]+=g}c[i]-=p[i]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,l?E(t,h):t):new f(0)}function A(e,t,n){var r,i=C(e),a=w(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+S(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+S(-i-1)+a,n&&(r=n-o)>0&&(a+=S(r))):i>=o?(a+=S(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+S(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=S(r))),e.s<0?"-"+a:a}function T(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(c+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(p(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(u+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(u+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(u+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):N(t,e.toString())}if("string"!==typeof e)throw Error(u+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(u+e);N(t,e)}if(a.prototype=y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(s),s.default=s.Decimal=s,a=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},52161:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},5203:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var a=n(52161),o=n(34704);i(n(34704),t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(n=t,t=s),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:s,this.elementCB=null!==n&&void 0!==n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?a.ElementType.Tag:void 0,r=new o.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===a.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new o.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===a.ElementType.Comment)this.lastNode.data+=e;else{var t=new o.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new o.Text(""),t=new o.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new o.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},34704:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var a=n(52161),o=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),w(this,e)},e}();t.Node=o;var s=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return r(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(o);t.DataNode=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.Text,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(s);t.Text=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.Comment,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(s);t.Comment=c;var u=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=a.ElementType.Directive,r}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(s);t.ProcessingInstruction=u;var d=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return r(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(o);t.NodeWithChildren=d;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.CDATA,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(d);t.CDATA=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.Root,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(d);t.Document=f;var h=function(e){function t(t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?a.ElementType.Script:"style"===t?a.ElementType.Style:a.ElementType.Tag);var o=e.call(this,r)||this;return o.name=t,o.attribs=n,o.type=i,o}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(d);function g(e){return(0,a.isTag)(e)}function m(e){return e.type===a.ElementType.CDATA}function v(e){return e.type===a.ElementType.Text}function y(e){return e.type===a.ElementType.Comment}function b(e){return e.type===a.ElementType.Directive}function x(e){return e.type===a.ElementType.Root}function w(e,t){var n;if(void 0===t&&(t=!1),v(e))n=new l(e.data);else if(y(e))n=new c(e.data);else if(g(e)){var r=t?k(e.children):[],a=new h(e.name,i({},e.attribs),r);r.forEach((function(e){return e.parent=a})),null!=e.namespace&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]=i({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]=i({},e["x-attribsPrefix"])),n=a}else if(m(e)){r=t?k(e.children):[];var o=new p(r);r.forEach((function(e){return e.parent=o})),n=o}else if(x(e)){r=t?k(e.children):[];var s=new f(r);r.forEach((function(e){return e.parent=s})),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else{if(!b(e))throw new Error("Not implemented yet: ".concat(e.type));var d=new u(e.name,e.data);null!=e["x-name"]&&(d["x-name"]=e["x-name"],d["x-publicId"]=e["x-publicId"],d["x-systemId"]=e["x-systemId"]),n=d}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function k(e){for(var t=e.map((function(e){return w(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=h,t.isTag=g,t.isCDATA=m,t.isText=v,t.isComment=y,t.isDirective=b,t.isDocument=x,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=w},20548:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},1831:function(e,t){!function(e){"use strict";var t="function"===typeof WeakSet,n=Object.keys;function r(e,t){return e===t||e!==e&&t!==t}function i(e){return e.constructor===Object||null==e.constructor}function a(e){return!!e&&"function"===typeof e.then}function o(e){return!(!e||!e.$$typeof)}function s(){var e=[];return{add:function(t){e.push(t)},has:function(t){return-1!==e.indexOf(t)}}}var l=t?function(){return new WeakSet}:s;function c(e){return function(t){var n=e||t;return function(e,t,r){void 0===r&&(r=l());var i=!!e&&"object"===typeof e,a=!!t&&"object"===typeof t;if(i||a){var o=i&&r.has(e),s=a&&r.has(t);if(o||s)return o&&s;i&&r.add(e),a&&r.add(t)}return n(e,t,r)}}}function u(e,t,n,r){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n(e[i],t[i],r))return!1;return!0}function d(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var a={};e.forEach((function(e,o){if(i){var s=!1,l=0;t.forEach((function(t,i){s||a[l]||(s=n(o,i,r)&&n(e,t,r))&&(a[l]=!0),l++})),i=s}}))}return i}var p="_owner",f=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function h(e,t,r,i){var a=n(e),s=a.length;if(n(t).length!==s)return!1;if(s)for(var l=void 0;s-- >0;){if((l=a[s])===p){var c=o(e),u=o(t);if((c||u)&&c!==u)return!1}if(!f(t,l)||!r(e[l],t[l],i))return!1}return!0}function g(e,t){return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.unicode===t.unicode&&e.sticky===t.sticky&&e.lastIndex===t.lastIndex}function m(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var a={};e.forEach((function(e){if(i){var o=!1,s=0;t.forEach((function(t){o||a[s]||(o=n(e,t,r))&&(a[s]=!0),s++})),i=o}}))}return i}var v="function"===typeof Map,y="function"===typeof Set;function b(e){var t="function"===typeof e?e(n):n;function n(e,n,o){if(e===n)return!0;if(e&&n&&"object"===typeof e&&"object"===typeof n){if(i(e)&&i(n))return h(e,n,t,o);var s=Array.isArray(e),l=Array.isArray(n);return s||l?s===l&&u(e,n,t,o):(s=e instanceof Date,l=n instanceof Date,s||l?s===l&&r(e.getTime(),n.getTime()):(s=e instanceof RegExp,l=n instanceof RegExp,s||l?s===l&&g(e,n):a(e)||a(n)?e===n:v&&(s=e instanceof Map,l=n instanceof Map,s||l)?s===l&&d(e,n,t,o):y&&(s=e instanceof Set,l=n instanceof Set,s||l)?s===l&&m(e,n,t,o):h(e,n,t,o)))}return e!==e&&n!==n}return n}var x=b(),w=b((function(){return r})),k=b(c()),_=b(c(r));e.circularDeepEqual=k,e.circularShallowEqual=_,e.createCustomEqual=b,e.deepEqual=x,e.sameValueZeroEqual=r,e.shallowEqual=w,Object.defineProperty(e,"__esModule",{value:!0})}(t)},91246:function(e,t,n){"use strict";n.d(t,{Ep:function(){return p},aU:function(){return r},cP:function(){return f},q_:function(){return l}});var r,i=n(87462);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var a=function(e){return e};var o="beforeunload",s="popstate";function l(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,l=n.history;function h(){var e=f(n.location.hash.substr(1)),t=e.pathname,r=void 0===t?"/":t,i=e.search,o=void 0===i?"":i,s=e.hash,c=void 0===s?"":s,u=l.state||{};return[u.idx,a({pathname:r,search:o,hash:c,state:u.usr||null,key:u.key||"default"})]}var g=null;function m(){if(g)k.call(g),g=null;else{var e=r.Pop,t=h(),n=t[0],i=t[1];if(k.length){if(null!=n){var a=b-n;a&&(g={action:e,location:i,retry:function(){N(-1*a)}},N(a))}}else Z(e)}}n.addEventListener(s,m),n.addEventListener("hashchange",(function(){p(h()[1])!==p(x)&&m()}));var v=r.Pop,y=h(),b=y[0],x=y[1],w=u(),k=u();function _(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,i=r.indexOf("#");t=-1===i?r:r.slice(0,i)}return t}()+"#"+("string"===typeof e?e:p(e))}function C(e,t){return void 0===t&&(t=null),a((0,i.Z)({pathname:x.pathname,hash:"",search:""},"string"===typeof e?f(e):e,{state:t,key:d()}))}function j(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function S(e,t,n){return!k.length||(k.call({action:e,location:t,retry:n}),!1)}function Z(e){v=e;var t=h();b=t[0],x=t[1],w.call({action:v,location:x})}function N(e){l.go(e)}null==b&&(b=0,l.replaceState((0,i.Z)({},l.state,{idx:b}),""));var E={get action(){return v},get location(){return x},createHref:_,push:function e(t,i){var a=r.Push,o=C(t,i);if(S(a,o,(function(){e(t,i)}))){var s=j(o,b+1),c=s[0],u=s[1];try{l.pushState(c,"",u)}catch(d){n.location.assign(u)}Z(a)}},replace:function e(t,n){var i=r.Replace,a=C(t,n);if(S(i,a,(function(){e(t,n)}))){var o=j(a,b),s=o[0],c=o[1];l.replaceState(s,"",c),Z(i)}},go:N,back:function(){N(-1)},forward:function(){N(1)},listen:function(e){return w.push(e)},block:function(e){var t=k.push(e);return 1===k.length&&n.addEventListener(o,c),function(){t(),k.length||n.removeEventListener(o,c)}}};return E}function c(e){e.preventDefault(),e.returnValue=""}function u(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function f(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}},67861:function(e,t,n){"use strict";var r=n(96214),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=f(n);i&&i!==h&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<o.length;++m){var v=o[m];if(!a[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=p(n,v);try{c(t,v,y)}catch(b){}}}}return t}},47299:function(e,t){t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]},7671:function(e){var t="html",n="head",r="body",i=/<([a-zA-Z]+[0-9]?)/,a=/<head[^]*>/i,o=/<body[^]*>/i,s=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},l=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")};if("function"===typeof window.DOMParser){var c=new window.DOMParser;s=l=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),c.parseFromString(e,"text/html")}}if(document.implementation){var u=document.implementation.createHTMLDocument();s=function(e,t){return t?(u.documentElement.querySelector(t).innerHTML=e,u):(u.documentElement.innerHTML=e,u)}}var d,p=document.createElement("template");p.content&&(d=function(e){return p.innerHTML=e,p.content.childNodes}),e.exports=function(e){var c,u,p,f,h=e.match(i);switch(h&&h[1]&&(c=h[1].toLowerCase()),c){case t:return u=l(e),a.test(e)||(p=u.querySelector(n))&&p.parentNode.removeChild(p),o.test(e)||(p=u.querySelector(r))&&p.parentNode.removeChild(p),u.querySelectorAll(t);case n:case r:return f=(u=s(e)).querySelectorAll(c),o.test(e)&&a.test(e)?f[0].parentNode.childNodes:f;default:return d?d(e):(p=s(e,r).querySelector(r)).childNodes}}},14877:function(e,t,n){var r=n(7671),i=n(69352).e,a=/<(![a-zA-Z\s]+)>/;e.exports=function(e){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(""===e)return[];var t,n=e.match(a);return n&&n[1]&&(t=n[1]),i(r(e),null,t)}},69352:function(e,t,n){for(var r,i=n(5203),a=n(47299).CASE_SENSITIVE_TAG_NAMES,o=i.Comment,s=i.Element,l=i.ProcessingInstruction,c=i.Text,u={},d=0,p=a.length;d<p;d++)r=a[d],u[r.toLowerCase()]=r;function f(e){for(var t,n={},r=0,i=e.length;r<i;r++)n[(t=e[r]).name]=t.value;return n}function h(e){var t=function(e){return u[e]}(e=e.toLowerCase());return t||e}t.e=function e(t,n,r){n=n||null;for(var i=[],a=0,u=t.length;a<u;a++){var d,p=t[a];switch(p.nodeType){case 1:(d=new s(h(p.nodeName),f(p.attributes))).children=e(p.childNodes,d);break;case 3:d=new c(p.nodeValue);break;case 8:d=new o(p.nodeValue);break;default:continue}var g=i[a-1]||null;g&&(g.next=d),d.parent=n,d.prev=g,d.next=null,i.push(d)}return r&&((d=new l(r.substring(0,r.indexOf(" ")).toLowerCase(),r)).next=i[0]||null,d.parent=n,i.unshift(d),i[1]&&(i[1].prev=i[0])),i}},63701:function(e,t,n){var r=n(94474),i=n(27448),a=n(14877);a="function"===typeof a.default?a.default:a;var o={lowerCaseAttributeNames:!1};function s(e,t){if("string"!==typeof e)throw new TypeError("First argument must be a string");return""===e?[]:r(a(e,(t=t||{}).htmlparser2||o),t)}s.domToReact=r,s.htmlToDOM=a,s.attributesToProps=i,s.Element=n(5203).Element,e.exports=s,e.exports.default=s},27448:function(e,t,n){var r=n(80365),i=n(35479);function a(e){return r.possibleStandardNames[e]}e.exports=function(e){var t,n,o,s,l,c={},u=(e=e||{}).type&&{reset:!0,submit:!0}[e.type];for(t in e)if(o=e[t],r.isCustomAttribute(t))c[t]=o;else if(s=a(n=t.toLowerCase()))switch(l=r.getPropertyInfo(s),"checked"!==s&&"value"!==s||u||(s=a("default"+n)),c[s]=o,l&&l.type){case r.BOOLEAN:c[s]=!0;break;case r.OVERLOADED_BOOLEAN:""===o&&(c[s]=!0)}else i.PRESERVE_CUSTOM_ATTRIBUTES&&(c[t]=o);return i.setStyleProp(e.style,c),c}},94474:function(e,t,n){var r=n(47313),i=n(27448),a=n(35479),o=a.setStyleProp,s=a.canTextBeChildOfNode;function l(e){return a.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&a.isCustomComponent(e.name,e.attribs)}e.exports=function e(t,n){for(var a,c,u,d,p,f=(n=n||{}).library||r,h=f.cloneElement,g=f.createElement,m=f.isValidElement,v=[],y="function"===typeof n.replace,b=n.trim,x=0,w=t.length;x<w;x++)if(a=t[x],y&&m(u=n.replace(a)))w>1&&(u=h(u,{key:u.key||x})),v.push(u);else if("text"!==a.type){switch(d=a.attribs,l(a)?o(d.style,d):d&&(d=i(d)),p=null,a.type){case"script":case"style":a.children[0]&&(d.dangerouslySetInnerHTML={__html:a.children[0].data});break;case"tag":"textarea"===a.name&&a.children[0]?d.defaultValue=a.children[0].data:a.children&&a.children.length&&(p=e(a.children,n));break;default:continue}w>1&&(d.key=x),v.push(g(a.name,d,p))}else{if((c=!a.data.trim().length)&&a.parent&&!s(a.parent))continue;if(b&&c)continue;v.push(a.data)}return 1===v.length?v[0]:v}},35479:function(e,t,n){var r=n(47313),i=n(17206).default;var a={reactCompat:!0};var o=r.version.split(".")[0]>=16,s=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);e.exports={PRESERVE_CUSTOM_ATTRIBUTES:o,invertObject:function(e,t){if(!e||"object"!==typeof e)throw new TypeError("First argument must be an object");var n,r,i="function"===typeof t,a={},o={};for(n in e)r=e[n],i&&(a=t(n,r))&&2===a.length?o[a[0]]=a[1]:"string"===typeof r&&(o[r]=n);return o},isCustomComponent:function(e,t){if(-1===e.indexOf("-"))return t&&"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}},setStyleProp:function(e,t){if(null!==e&&void 0!==e)try{t.style=i(e,a)}catch(n){t.style={}}},canTextBeChildOfNode:function(e){return!s.has(e.name)},elementsWithNoTextChildren:s}},76949:function(e){var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function u(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,p=1;function f(e){var t=e.match(n);t&&(d+=t.length);var r=e.lastIndexOf("\n");p=~r?e.length-r:p+e.length}function h(){var e={line:d,column:p};return function(t){return t.position=new g(e),b(),t}}function g(e){this.start=e,this.end={line:d,column:p},this.source=l.source}g.prototype.content=e;var m=[];function v(t){var n=new Error(l.source+":"+d+":"+p+": "+t);if(n.reason=t,n.filename=l.source,n.line=d,n.column=p,n.source=e,!l.silent)throw n;m.push(n)}function y(t){var n=t.exec(e);if(n){var r=n[0];return f(r),e=e.slice(r.length),n}}function b(){y(r)}function x(e){var t;for(e=e||[];t=w();)!1!==t&&e.push(t);return e}function w(){var t=h();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return v("End of comment missing");var r=e.slice(2,n-2);return p+=2,f(r),e=e.slice(n),p+=2,t({type:"comment",comment:r})}}function k(){var e=h(),n=y(i);if(n){if(w(),!y(a))return v("property missing ':'");var r=y(o),l=e({type:"declaration",property:u(n[0].replace(t,c)),value:r?u(r[0].replace(t,c)):c});return y(s),l}}return b(),function(){var e,t=[];for(x(t);e=k();)!1!==e&&(t.push(e),x(t));return t}()}},36993:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},14761:function(e){e.exports=function(e,t){var n,r,i=0;function a(){var a,o,s=n,l=arguments.length;e:for(;s;){if(s.args.length===arguments.length){for(o=0;o<l;o++)if(s.args[o]!==arguments[o]){s=s.next;continue e}return s!==n&&(s===r&&(r=s.prev),s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.next=n,s.prev=null,n.prev=s,n=s),s.val}s=s.next}for(a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];return s={args:a,val:e.apply(null,a)},n?(n.prev=s,s.next=n):r=s,i===t.maxSize?(r=r.prev).next=null:i++,n=s,s.val}return t=t||{},a.clear=function(){n=null,r=null,i=0},a}},16912:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],a=t[n],!(i===a||r(i)&&r(a)))return!1;var i,a;return!0}function a(e,t){void 0===t&&(t=i);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}},61729:function(e,t,n){"use strict";var r=n(79165);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},75192:function(e,t,n){e.exports=n(61729)()},79165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},12350:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(18),a=n(19),o=n(45),s=n(46),l=n(47),c=n(48),u=n(49),d=n(12),p=n(32),f=n(33),h=n(31),g=n(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:r.default,Format:i.default,Leaf:a.default,Embed:c.default,Scroll:o.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:d.default,Class:p.default,Style:f.default,Store:h.default}};t.default=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=i;var a,o={},s={},l={},c={};function u(e,t){var n;if(void 0===t&&(t=a.ANY),"string"===typeof e)n=c[e]||o[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=c.text;else if("number"===typeof e)e&a.LEVEL&a.BLOCK?n=c.block:e&a.LEVEL&a.INLINE&&(n=c.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var i in r)if(n=s[r[i]])break;n=n||l[e.tagName]}return null==n?null:t&a.LEVEL&n.scope&&t&a.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var n=u(e);if(null==n)throw new i("Unable to create "+e+" blot");var r=n,a=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t);return new r(a,t)},t.find=function e(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:r?e(n.parentNode,r):null},t.query=u,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var r=t[0];if("string"!==typeof r.blotName&&"string"!==typeof r.attrName)throw new i("Invalid definition");if("abstract"===r.blotName)throw new i("Cannot register abstract class");if(c[r.blotName||r.attrName]=r,"string"===typeof r.keyName)o[r.keyName]=r;else if(null!=r.className&&(s[r.className]=r),null!=r.tagName){Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(e){return e.toUpperCase()})):r.tagName=r.tagName.toUpperCase();var a=Array.isArray(r.tagName)?r.tagName:[r.tagName];a.forEach((function(e){null!=l[e]&&null!=r.className||(l[e]=r)}))}return r}},function(e,t,n){var r=n(51),i=n(11),a=n(3),o=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=a(!0,{},e),"object"===typeof n){if("number"===typeof e.delete&&"number"===typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"===typeof n.delete&&null!=e.insert&&(t-=1,"object"!==typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(i(e.attributes,n.attributes)){if("string"===typeof e.insert&&"string"===typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+o.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+o.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var n=[],r=o.iterator(this.ops),i=0;i<t&&r.hasNext();){var a;i<e?a=r.next(e-i):(a=r.next(t-i),n.push(a)),i+=o.length(a)}return new l(n)},l.prototype.compose=function(e){var t=o.iterator(this.ops),n=o.iterator(e.ops),r=[],a=n.peek();if(null!=a&&"number"===typeof a.retain&&null==a.attributes){for(var s=a.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),r.push(t.next());a.retain-s>0&&n.next(a.retain-s)}for(var c=new l(r);t.hasNext()||n.hasNext();)if("insert"===n.peekType())c.push(n.next());else if("delete"===t.peekType())c.push(t.next());else{var u=Math.min(t.peekLength(),n.peekLength()),d=t.next(u),p=n.next(u);if("number"===typeof p.retain){var f={};"number"===typeof d.retain?f.retain=u:f.insert=d.insert;var h=o.attributes.compose(d.attributes,p.attributes,"number"===typeof d.retain);if(h&&(f.attributes=h),c.push(f),!n.hasNext()&&i(c.ops[c.ops.length-1],f)){var g=new l(t.rest());return c.concat(g).chop()}}else"number"===typeof p.delete&&"number"===typeof d.retain&&c.push(p)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),a=new l,c=r(n[0],n[1],t),u=o.iterator(this.ops),d=o.iterator(e.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(d.peekLength(),t),a.push(d.next(n));break;case r.DELETE:n=Math.min(t,u.peekLength()),u.next(n),a.delete(n);break;case r.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);var s=u.next(n),l=d.next(n);i(s.insert,l.insert)?a.retain(n,o.attributes.diff(s.attributes,l.attributes)):a.push(l).delete(n)}t-=n}})),a.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=o.iterator(this.ops),r=new l,i=0;n.hasNext();){if("insert"!==n.peekType())return;var a=n.peek(),s=o.length(a)-n.peekLength(),c="string"===typeof a.insert?a.insert.indexOf(t,s)-s:-1;if(c<0)r.push(n.next());else if(c>0)r.push(n.next(c));else{if(!1===e(r,n.next(1).attributes||{},i))return;i+=1,r=new l}}r.length()>0&&e(r,{},i)},l.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var n=o.iterator(this.ops),r=o.iterator(e.ops),i=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())i.push(r.next());else{var a=Math.min(n.peekLength(),r.peekLength()),s=n.next(a),c=r.next(a);if(s.delete)continue;c.delete?i.push(c):i.retain(a,o.attributes.transform(s.attributes,c.attributes,t))}else i.retain(o.length(n.next()));return i.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=o.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),a=n.peekType();n.next(),"delete"!==a?("insert"===a&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},s=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,i=n.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!a)return!1;for(t in e);return"undefined"===typeof t||n.call(e,t)},l=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,n,r,i,a,u,d=arguments[0],p=1,f=arguments.length,h=!1;for("boolean"===typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});p<f;++p)if(null!=(t=arguments[p]))for(n in t)r=c(d,n),d!==(i=c(t,n))&&(h&&i&&(s(i)||(a=o(i)))?(a?(a=!1,u=r&&o(r)?r:[]):u=r&&s(r)?r:{},l(d,{name:n,newValue:e(h,u,i)})):"undefined"!==typeof i&&l(d,{name:n,newValue:i}));return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=d(n(3)),o=d(n(2)),s=d(n(0)),l=d(n(16)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),r(t,[{key:"attach",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new o.default).insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"===typeof n&&n.endsWith("\n")){var a=s.default.create(m.blotName);this.parent.insertBefore(a,0===e?this:this.next),a.insertAt(0,n.slice(0,-1))}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}(s.default.Embed);g.scope=s.default.Scope.BLOCK_BLOT;var m=function(e){function t(e){p(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return h(t,e),r(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),v(t))}),new o.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,a){n<=0||(s.default.query(r,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,a):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,a),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var a=n.split("\n"),o=a.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;a.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+o.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof l.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var a=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},a}}]),t}(s.default.Block);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,a.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:v(e.parent,t))}m.blotName="block",m.tagName="P",m.defaultChild="break",m.allowedChildren=[c.default,s.default.Embed,u.default],t.bubbleFormats=v,t.BlockEmbed=g,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(50);var o=m(n(2)),s=m(n(14)),l=m(n(8)),c=m(n(9)),u=m(n(0)),d=n(15),p=m(d),f=m(n(3)),h=m(n(10)),g=m(n(34));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var b=(0,h.default)("quill"),x=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(this,e),this.options=w(t,r),this.container=this.options.container,null==this.container)return b.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var r=n.selection.lastRange,i=r&&0===r.length?r.index:void 0;k.call(n,(function(){return n.editor.update(null,t,i)}),e)}));var a=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+i+"<p><br></p></div>");this.setContents(a),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),h.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&b.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var i=e.attrName||e.blotName;"string"===typeof i?this.register("formats/"+i,e,t):Object.keys(e).forEach((function(r){n.register(r,e[r],t)}))}else null==this.imports[e]||r||b.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),a(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,a=_(e,t,n),o=i(a,4);return e=o[0],t=o[1],n=o[3],k.call(this,(function(){return r.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return k.call(this,(function(){var r=n.getSelection(!0),i=new o.default;if(null==r)return i;if(u.default.query(e,u.default.Scope.BLOCK))i=n.editor.formatLine(r.index,r.length,v({},e,t));else{if(0===r.length)return n.selection.format(e,t),i;i=n.editor.formatText(r.index,r.length,v({},e,t))}return n.setSelection(r,l.default.sources.SILENT),i}),r)}},{key:"formatLine",value:function(e,t,n,r,a){var o,s=this,l=_(e,t,n,r,a),c=i(l,4);return e=c[0],t=c[1],o=c[2],a=c[3],k.call(this,(function(){return s.editor.formatLine(e,t,o)}),a,e,0)}},{key:"formatText",value:function(e,t,n,r,a){var o,s=this,l=_(e,t,n,r,a),c=i(l,4);return e=c[0],t=c[1],o=c[2],a=c[3],k.call(this,(function(){return s.editor.formatText(e,t,o)}),a,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=_(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=_(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return k.call(this,(function(){return i.editor.insertEmbed(t,n,r)}),a,t)}},{key:"insertText",value:function(e,t,n,r,a){var o,s=this,l=_(e,0,n,r,a),c=i(l,4);return e=c[0],o=c[2],a=c[3],k.call(this,(function(){return s.editor.insertText(e,t,o)}),a,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,a=_(e,t,n),o=i(a,4);return e=o[0],t=o[1],n=o[3],k.call(this,(function(){return r.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return k.call(this,(function(){e=new o.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),i=t.editor.applyDelta(e),a=i.ops[i.ops.length-1];return null!=a&&"string"===typeof a.insert&&"\n"===a.insert[a.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),i.delete(1)),r.compose(i)}),n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var a=_(t,n,r),o=i(a,4);t=o[0],n=o[1],r=o[3],this.selection.setRange(new d.Range(t,n),r),r!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new o.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return k.call(this,(function(){return e=new o.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function w(e,t){if((t=(0,f.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==x.DEFAULTS.theme){if(t.theme=x.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var n=(0,f.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=x.import("modules/"+t);return null==n?b.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,f.default)(!0,{},x.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function k(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new o.default;var i=null==n?null:this.getSelection(),a=this.editor.delta,s=e();if(null!=i&&(!0===n&&(n=i.index),null==r?i=C(i,s,t):0!==r&&(i=C(i,n,r,t)),this.setSelection(i,l.default.sources.SILENT)),s.length()>0){var c,u,d=[l.default.events.TEXT_CHANGE,s,a,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return s}function _(e,t,n,i,a){var o={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(a=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(a=i,i=n,n=t,t=0),"object"===("undefined"===typeof n?"undefined":r(n))?(o=n,a=i):"string"===typeof n&&(null!=i?o[n]=i:a=n),[e,t,o,a=a||l.default.sources.API]}function C(e,t,n,r){if(null==e)return null;var a=void 0,s=void 0;if(t instanceof o.default){var c=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,r!==l.default.sources.USER)})),u=i(c,2);a=u[0],s=u[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&r===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),f=i(p,2);a=f[0],s=f[1]}return new d.Range(a,s-a)}x.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},x.events=l.default.events,x.sources=l.default.sources,x.version="1.3.7",x.imports={delta:o.default,parchment:u.default,"core/module":c.default,"core/theme":g.default},t.expandConfig=w,t.overload=_,t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=s(n(7)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"formatAt",value:function(e,n,r,a){if(t.compare(this.statics.blotName,r)<0&&o.default.query(r,o.default.Scope.BLOT)){var s=this.isolate(e,n);a&&s.wrap(r,a)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,a)}},{key:"optimize",value:function(e){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),i=t.order.indexOf(n);return r>=0||i>=0?r-i:e===n?0:e<n?-1:1}}]),t}(o.default.Inline);u.allowedChildren=[u,o.default.Embed,a.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default.Text);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=o(n(54));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,o(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"emit",value:function(){s.log.apply(s,arguments),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach((function(t){var r=t.node,i=t.handler;(e.target===r||r.contains(e.target))&&i.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(a.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.quill=t,this.options=n};i.DEFAULTS={},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["error","warn","log","info"],i="warn";function a(e){if(r.indexOf(e)<=r.indexOf(i)){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];(t=console)[e].apply(t,a)}}function o(e){return r.reduce((function(t,n){return t[n]=a.bind(console,n,e),t}),{})}a.level=o.level=function(e){i=e},t.default=o},function(e,t,n){var r=Array.prototype.slice,i=n(52),a=n(53),o=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,u;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e))return!!a(t)&&(e=r.call(e),t=r.call(t),o(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var d=i(e),p=i(t)}catch(f){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),c=d.length-1;c>=0;c--)if(d[c]!=p[c])return!1;for(c=d.length-1;c>=0;c--)if(u=d[c],!o(e[u],t[u],n))return!1;return typeof e===typeof t}(e,t,n))};function s(e){return null===e||void 0===e}function l(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var i=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|i:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=d(n(2)),s=d(n(0)),l=d(n(4)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(c.default);g.blotName="code",g.tagName="CODE";var m=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),i(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new o.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var i=this.descendant(u.default,this.length()-1),o=r(i,1)[0];null!=o&&o.deleteAt(o.length()-1,1),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,i){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var a=this.newlineIndex(e);if(!(a<0||a>=e+n)){var o=this.newlineIndex(e,!0)+1,l=a-o+1,c=this.isolate(o,l),u=c.next;c.format(r,i),u instanceof t&&u.formatAt(0,e-o+n-l,r,i)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var i=this.descendant(u.default,e),a=r(i,2),o=a[0],s=a[1];o.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var n=this.domNode.textContent.slice(e).indexOf("\n");return n>-1?e+n:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);m.blotName="code-block",m.tagName="PRE",m.TAB="  ",t.Code=g,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=v(n(2)),s=v(n(20)),l=v(n(0)),c=v(n(13)),u=v(n(24)),d=n(4),p=v(d),f=v(n(16)),h=v(n(21)),g=v(n(11)),m=v(n(3));function v(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return a(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var a=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,h.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,h.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)}),new o.default)}(e)).reduce((function(e,o){var c=o.retain||o.delete||o.insert.length||1,u=o.attributes||{};if(null!=o.insert){if("string"===typeof o.insert){var f=o.insert;f.endsWith("\n")&&n&&(n=!1,f=f.slice(0,-1)),e>=a&&!f.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,f);var h=t.scroll.line(e),g=i(h,2),v=g[0],y=g[1],b=(0,m.default)({},(0,d.bubbleFormats)(v));if(v instanceof p.default){var x=v.descendant(l.default.Leaf,y),w=i(x,1)[0];b=(0,m.default)(b,(0,d.bubbleFormats)(w))}u=s.default.attributes.diff(b,u)||{}}else if("object"===r(o.insert)){var k=Object.keys(o.insert)[0];if(null==k)return e;t.scroll.insertAt(e,k,o.insert[k])}a+=c}return Object.keys(u).forEach((function(n){t.scroll.formatAt(e,c,n,u[n])})),e+c}),0),e.reduce((function(e,n){return"number"===typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new o.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(i){if(null==n.scroll.whitelist||n.scroll.whitelist[i]){var a=n.scroll.lines(e,Math.max(t,1)),o=t;a.forEach((function(t){var a=t.length();if(t instanceof c.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+o)-s+1;t.formatAt(s,l,i,r[i])}else t.format(i,r[i]);o-=a}))}})),this.scroll.optimize(),this.update((new o.default).retain(e).retain(t,(0,h.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t,i,r[i])})),this.update((new o.default).retain(e).retain(t,(0,h.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new o.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach((function(e){var t=i(e,1)[0];t instanceof p.default?n.push(t):t instanceof l.default.Leaf&&r.push(t)})):(n=this.scroll.lines(e,t),r=this.scroll.descendants(l.default.Leaf,e,t));var a=[n,r].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=x((0,d.bubbleFormats)(n),t)}return t}));return m.default.apply(m.default,a)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"===typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new o.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t.length,i,r[i])})),this.update((new o.default).retain(e).insert(t,(0,h.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof f.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),a=i(r,2),s=a[0],l=a[1],u=0,d=new o.default;null!=s&&(u=s instanceof c.default?s.newlineIndex(l)-l+1:s.length()-l,d=s.delta().slice(l,l+u-1).insert("\n"));var p=this.getContents(e,t+u).diff((new o.default).insert(n).concat(d)),f=(new o.default).retain(e).concat(p);return this.applyDelta(f)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&l.default.find(t[0].target)){var i=l.default.find(t[0].target),a=(0,d.bubbleFormats)(i),s=i.offset(this.scroll),c=t[0].oldValue.replace(u.default.CONTENTS,""),p=(new o.default).insert(c),f=(new o.default).insert(i.value()),h=(new o.default).retain(s).concat(p.diff(f,n));e=h.reduce((function(e,t){return t.insert?e.insert(t.insert,a):e.push(t)}),new o.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();function x(e,t){return Object.keys(t).reduce((function(n,r){return null==e[r]||(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]]),n}),{})}t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(0)),o=c(n(21)),s=c(n(11)),l=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,c(n(10)).default)("quill:selection"),f=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},h=function(){function e(t,n){var r=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&r.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,i=n.startNode,a=n.startOffset,o=n.endNode,s=n.endOffset;r.setNativeRange(i,a,o,s)}})),this.update(l.default.sources.SILENT)}return i(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!a.default.query(e,a.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=a.default.find(n.start.node,!1);if(null==r)return;if(r instanceof a.default.Leaf){var i=r.split(n.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var i=void 0,a=this.scroll.leaf(e),o=r(a,2),s=o[0],l=o[1];if(null==s)return null;var c=s.position(l,!0),u=r(c,2);i=u[0],l=u[1];var d=document.createRange();if(t>0){d.setStart(i,l);var p=this.scroll.leaf(e+t),f=r(p,2);if(s=f[0],l=f[1],null==s)return null;var h=s.position(l,!0),g=r(h,2);return i=g[0],l=g[1],d.setEnd(i,l),d.getBoundingClientRect()}var m="left",v=void 0;return i instanceof Text?(l<i.data.length?(d.setStart(i,l),d.setEnd(i,l+1)):(d.setStart(i,l-1),d.setEnd(i,l),m="right"),v=d.getBoundingClientRect()):(v=s.domNode.getBoundingClientRect(),l>0&&(m="right")),{bottom:v.top+v.height,height:v.height,left:v[m],right:v[m],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return p.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var i=n.map((function(e){var n=r(e,2),i=n[0],o=n[1],s=a.default.find(i,!0),l=s.offset(t.scroll);return 0===o?l:s instanceof a.default.Container?l+s.length():l+s.index(i,o)})),o=Math.min(Math.max.apply(Math,u(i)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(u(i)));return new f(s,o-s)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],i=[],a=this.scroll.length();return n.forEach((function(e,n){e=Math.min(a-1,e);var o,s=t.scroll.leaf(e),l=r(s,2),c=l[0],u=l[1],d=c.position(u,0!==n),p=r(d,2);o=p[0],u=p[1],i.push(o,u)})),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var i=this.scroll.length()-1,a=this.scroll.line(Math.min(t.index,i)),o=r(a,1)[0],s=o;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,i));s=r(l,1)[0]}if(null!=o&&null!=s){var c=e.getBoundingClientRect();n.top<c.top?e.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(e.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var a=document.getSelection();if(null!=a)if(null!=e){this.hasFocus()||this.root.focus();var o=(this.getNativeRange()||{}).native;if(null==o||i||e!==o.startContainer||t!==o.startOffset||n!==o.endContainer||r!==o.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,r),a.removeAllRanges(),a.addRange(s)}}else a.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"===typeof t&&(n=t,t=!1),p.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,u(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),i=r(n,2),a=i[0],c=i[1];if(this.lastRange=a,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[l.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(t),e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(p)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function g(e,t){try{t.parentNode}catch(n){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=f,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(0);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"insertInto",value:function(e,n){0===e.children.length?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default.Embed);c.blotName="break",c.tagName="BR",t.default=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),a=n(30),o=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=l(t);e.insertBefore(n,e.children.head||void 0)}catch(r){if(r instanceof o.ParchmentError)return;throw r}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var r=this.children.find(n),i=r[0],a=r[1];return null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e?[i,a]:i instanceof t?i.descendant(e,a):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],a=r;return this.children.forEachAt(n,r,(function(n,r,o){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&i.push(n),n instanceof t&&(i=i.concat(n.descendants(e,r,a))),a-=o})),i},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,(function(e,t,i){e.formatAt(t,i,n,r)}))},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),i=r[0],a=r[1];if(i)i.insertAt(a,t,n);else{var s=null==n?o.create("text",t):o.create(t,n);this.appendChild(s)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new o.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=o.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),i=r[0],a=r[1],o=[[this,e]];return i instanceof t?o.concat(i.path(a,n)):(null!=i&&o.push([i,a]),o)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,r,i){e=e.split(r,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],i=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),i.push.apply(i,e.removedNodes))})),i.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=o.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),r.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=o.find(e.nextSibling));var r=l(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))}))},t}(a.default);function l(e){var t=o.find(e);if(null==t)try{t=o.create(e)}catch(n){t=o.create(o.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),a=n(31),o=n(17),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new a.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=s.query(e);n instanceof i.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,r){var i=e.prototype.wrap.call(this,n,r);return i instanceof t&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},t}(o.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(30),a=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=o},function(e,t,n){var r=n(11),i=n(3),a={attributes:{compose:function(e,t,n){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=i(!0,{},t);for(var a in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[a]&&void 0===t[a]&&(r[a]=e[a]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,i){return r(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!==typeof e)return t;if("object"===typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new o(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function o(e){this.ops=e,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=a.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"===typeof t.retain?i.retain=e:"string"===typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e.exports=a},function(e,t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(s){t=function(){}}try{n=Set}catch(s){n=function(){}}try{r=Promise}catch(s){r=function(){}}function i(a,s,l,c,u){"object"===typeof s&&(l=s.depth,c=s.prototype,u=s.includeNonEnumerable,s=s.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return"undefined"==typeof s&&(s=!0),"undefined"==typeof l&&(l=1/0),function a(l,h){if(null===l)return null;if(0===h)return l;var g,m;if("object"!=typeof l)return l;if(e(l,t))g=new t;else if(e(l,n))g=new n;else if(e(l,r))g=new r((function(e,t){l.then((function(t){e(a(t,h-1))}),(function(e){t(a(e,h-1))}))}));else if(i.__isArray(l))g=[];else if(i.__isRegExp(l))g=new RegExp(l.source,o(l)),l.lastIndex&&(g.lastIndex=l.lastIndex);else if(i.__isDate(l))g=new Date(l.getTime());else{if(f&&Buffer.isBuffer(l))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(g),g;e(l,Error)?g=Object.create(l):"undefined"==typeof c?(m=Object.getPrototypeOf(l),g=Object.create(m)):(g=Object.create(c),m=c)}if(s){var v=d.indexOf(l);if(-1!=v)return p[v];d.push(l),p.push(g)}for(var y in e(l,t)&&l.forEach((function(e,t){var n=a(t,h-1),r=a(e,h-1);g.set(n,r)})),e(l,n)&&l.forEach((function(e){var t=a(e,h-1);g.add(t)})),l){var b;m&&(b=Object.getOwnPropertyDescriptor(m,y)),b&&null==b.set||(g[y]=a(l[y],h-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);for(y=0;y<x.length;y++){var w=x[y];(!(_=Object.getOwnPropertyDescriptor(l,w))||_.enumerable||u)&&(g[w]=a(l[w],h-1),_.enumerable||Object.defineProperty(g,w,{enumerable:!1}))}}if(u){var k=Object.getOwnPropertyNames(l);for(y=0;y<k.length;y++){var _,C=k[y];(_=Object.getOwnPropertyDescriptor(l,C))&&_.enumerable||(g[C]=a(l[C],h-1),Object.defineProperty(g,C,{enumerable:!1}))}}return g}(a,l)}function a(e){return Object.prototype.toString.call(e)}function o(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=a,i.__isDate=function(e){return"object"===typeof e&&"[object Date]"===a(e)},i.__isArray=function(e){return"object"===typeof e&&"[object Array]"===a(e)},i.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===a(e)},i.__getRegExpFlags=o,i}();"object"===typeof e&&e.exports&&(e.exports=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=f(n(0)),s=f(n(8)),l=n(4),c=f(l),u=f(n(16)),d=f(n(13)),p=f(n(25));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){return e instanceof c.default||e instanceof l.BlockEmbed}var g=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),r.domNode.addEventListener("DOMNodeInserted",(function(){})),r.optimize(),r.enable(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var i=this.line(e),o=r(i,2),s=o[0],c=o[1],p=this.line(e+n),f=r(p,1)[0];if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=f&&s!==f&&c>0){if(s instanceof l.BlockEmbed||f instanceof l.BlockEmbed)return void this.optimize();if(s instanceof d.default){var h=s.newlineIndex(s.length(),!0);if(h>-1&&(s=s.split(h+1))===f)return void this.optimize()}else if(f instanceof d.default){var g=f.newlineIndex(0);g>-1&&f.split(g+1)}var m=f.children.head instanceof u.default?null:f.children.head;s.moveChildren(f,m),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,i){(null==this.whitelist||this.whitelist[r])&&(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,i),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==o.default.query(n,o.default.Scope.BLOCK)){var i=o.default.create(this.statics.defaultChild);this.appendChild(i),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),i.insertAt(0,n,r)}else{var s=o.default.create(n,r);this.appendChild(s)}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===o.default.Scope.INLINE_BLOT){var r=o.default.create(this.statics.defaultChild);r.appendChild(e),e=r}a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(h,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function e(t,n,r){var i=[],a=r;return t.children.forEachAt(n,r,(function(t,n,r){h(t)?i.push(t):t instanceof o.default.Container&&(i=i.concat(e(t,n,a))),a-=r})),i};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"===typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(o.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[c.default,l.BlockEmbed,p.default],t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=g(n(21)),s=g(n(11)),l=g(n(3)),c=g(n(2)),u=g(n(20)),d=g(n(0)),p=g(n(5)),f=g(n(10)),h=g(n(9));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(0,f.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])})),r.addBinding({key:t.keys.ENTER,shiftKey:null},C),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),r.addBinding({key:t.keys.DELETE},{collapsed:!0},k)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},k)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},_),r.addBinding({key:t.keys.DELETE},{collapsed:!1},_),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),r.listen(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"match",value:function(e,t){return t=Z(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),a(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Z(e);if(null==r||null==r.key)return v.warn("Attempted to add invalid keyboard binding",r);"function"===typeof t&&(t={handler:t}),"function"===typeof n&&(n={handler:n}),r=(0,l.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var a=n.which||n.keyCode,o=(e.bindings[a]||[]).filter((function(e){return t.match(n,e)}));if(0!==o.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),u=i(c,2),p=u[0],f=u[1],h=e.quill.getLeaf(l.index),g=i(h,2),m=g[0],v=g[1],y=0===l.length?[m,v]:e.quill.getLeaf(l.index+l.length),b=i(y,2),x=b[0],w=b[1],k=m instanceof d.default.Text?m.value().slice(0,v):"",_=x instanceof d.default.Text?x.value().slice(w):"",C={collapsed:0===l.length,empty:0===l.length&&p.length()<=1,format:e.quill.getFormat(l),offset:f,prefix:k,suffix:_};o.some((function(t){if(null!=t.collapsed&&t.collapsed!==C.collapsed)return!1;if(null!=t.empty&&t.empty!==C.empty)return!1;if(null!=t.offset&&t.offset!==C.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==C.format[e]})))return!1}else if("object"===r(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=C.format[e]:!1===t.format[e]?null==C.format[e]:(0,s.default)(t.format[e],C.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(C.prefix))&&!(null!=t.suffix&&!t.suffix.test(C.suffix))&&!0!==t.handler.call(e,l,C)}))&&n.preventDefault()}}}}))}}]),t}(h.default);function x(e,t){var n,r=e===b.keys.LEFT?"prefix":"suffix";return m(n={key:e,shiftKey:t,altKey:null},r,/^$/),m(n,"handler",(function(n){var r=n.index;e===b.keys.RIGHT&&(r+=n.length+1);var a=this.quill.getLeaf(r);return!(i(a,1)[0]instanceof d.default.Embed)||(e===b.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index-1,p.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index+n.length+1,p.default.sources.USER),!1)})),n}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=i(n,1)[0],a={};if(0===t.offset){var o=this.quill.getLine(e.index-1),s=i(o,1)[0];if(null!=s&&s.length()>1){var l=r.formats(),c=this.quill.getFormat(e.index-1,1);a=u.default.attributes.diff(l,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index-d,d,a,p.default.sources.USER),this.quill.focus()}}function k(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},a=0,o=this.quill.getLine(e.index),s=i(o,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),c=i(l,1)[0];if(c){var d=s.formats(),f=this.quill.getFormat(e.index,1);r=u.default.attributes.diff(d,f)||{},a=c.length()}}this.quill.deleteText(e.index,n,p.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+a-1,n,r,p.default.sources.USER)}}function _(e){var t=this.quill.getLines(e),n={};if(t.length>1){var r=t[0].formats(),i=t[t.length-1].formats();n=u.default.attributes.diff(i,r)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function C(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce((function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",r,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],p.default.sources.USER))}))}function j(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),r=t.index,a=t.length,o=this.quill.scroll.descendant(n,r),s=i(o,2),l=s[0],c=s[1];if(null!=l){var u=this.quill.getIndex(l),f=l.newlineIndex(c,!0)+1,h=l.newlineIndex(u+c+a),g=l.domNode.textContent.slice(f,h).split("\n");c=0,g.forEach((function(t,i){e?(l.insertAt(f+c,n.TAB),c+=n.TAB.length,0===i?r+=n.TAB.length:a+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(f+c,n.TAB.length),c-=n.TAB.length,0===i?r-=n.TAB.length:a-=n.TAB.length),c+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(r,a,p.default.sources.SILENT)}}}}function S(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],p.default.sources.USER)}}}function Z(e){if("string"===typeof e||"number"===typeof e)return Z({key:e});if("object"===("undefined"===typeof e?"undefined":r(e))&&(e=(0,o.default)(e,!1)),"string"===typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:S("bold"),italic:S("italic"),underline:S("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":j(!0),"outdent code-block":j(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],a=n[1],o=(0,l.default)({},r.formats(),{list:"checked"}),s=(new c.default).retain(e.index).insert("\n",o).retain(r.length()-a-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),r=i(n,2),a=r[0],o=r[1],s=(new c.default).retain(e.index).insert("\n",t.format).retain(a.length()-o-1).retain(1,{header:null});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),a=i(r,2),o=a[0],s=a[1];if(s>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(e.index-s).delete(n+1).retain(o.length()-2-s).retain(1,{list:l});this.quill.updateContents(u,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,p.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],a=n[1],o=(new c.default).retain(e.index+r.length()-a-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,p.default.sources.USER)}},"embed left":x(b.keys.LEFT,!1),"embed left shift":x(b.keys.LEFT,!0),"embed right":x(b.keys.RIGHT,!1),"embed right shift":x(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(0)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"value",value:function(){}}]),a(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var r=this,a=0;null!=r&&r.statics.scope!==o.default.Scope.BLOCK_BLOT;)a+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(a,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),i=void 0,a=void 0,l=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var c=[e,n.start.offset,n.end.offset];i=c[0],a=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(i=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=a){var d=[a,l].map((function(e){return Math.max(0,Math.min(i.data.length,e-1))})),p=r(d,2);return a=p[0],l=p[1],{startNode:i,startOffset:a,endNode:i,endOffset:l}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}(o.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=n(4),a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Container);c.allowedChildren=[a.default,i.BlockEmbed,c],t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(0),s=(r=o)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):n}}]),t}(s.default.Attributor.Style),d=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),p=new u("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=u,t.ColorClass=d,t.ColorStyle=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return u(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);function u(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}c.blotName="link",c.tagName="A",c.SANITIZED_URL="about:blank",c.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=c,t.sanitize=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(23)),o=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case a.default.keys.ENTER:n.togglePicker();break;case a.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return i(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case a.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case a.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=o.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":r(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(0)),i=v(n(5)),a=n(4),o=v(a),s=v(n(16)),l=v(n(25)),c=v(n(24)),u=v(n(35)),d=v(n(6)),p=v(n(22)),f=v(n(7)),h=v(n(55)),g=v(n(42)),m=v(n(23));function v(e){return e&&e.__esModule?e:{default:e}}i.default.register({"blots/block":o.default,"blots/block/embed":a.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":f.default,"modules/clipboard":h.default,"modules/history":g.default,"modules/keyboard":m.default}),r.default.register(o.default,s.default,c.default,d.default,p.default,f.default),t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,i){var a=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&i)a.wrap(n,i);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var o=r.create(this.statics.scope);a.wrap(o),o.format(n,i)}},e.prototype.insertAt=function(e,t,n){var i=null==n?r.create("text",t):r.create(t,n),a=this.split(e);this.parent.insertBefore(i,a)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"===typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"===typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(32),a=n(33),o=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=i.default.keys(this.domNode),s=a.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=o.query(t,o.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function i(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();i.DEFAULTS={modules:{}},i.themes={default:i},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=s(n(0)),o=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,r=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof o.default){var i=this.prev.length();this.prev.insertAt(i,r),t={startNode:this.prev.domNode,startOffset:i+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(a.default.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(a.default.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=l,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}}))}}]),t}(a.default.Embed);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},o={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new a.default.Attributor.Attribute("align","align",o),l=new a.default.Attributor.Class("align","ql-align",o),c=new a.default.Attributor.Style("align","text-align",o);t.AlignAttribute=s,t.AlignClass=l,t.AlignStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},o=n(26),s=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),l=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},o={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},s=new a.default.Attributor.Attribute("direction","dir",o),l=new a.default.Attributor.Class("direction","ql-direction",o),c=new a.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=s,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(0),s=(r=o)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new s.default.Attributor.Class("font","ql-font",u),p=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(s.default.Attributor.Style),f=new p("font","font-family",u);t.FontStyle=f,t.FontClass=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},o=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=s},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(0)),a=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,n,i){e!==a.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&i!==a.default.sources.USER?r.transform(t):r.record(t,n))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],a.default.sources.USER),this.ignoreChange=!1;var r=l(n[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i.undo),e=i.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(o(n(9)).default);function l(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=i.default.query(e,i.default.Scope.BLOCK)})))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=h(n(3)),o=h(n(2)),s=h(n(8)),l=h(n(23)),c=h(n(34)),u=h(n(59)),d=h(n(60)),p=h(n(28)),f=h(n(61));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],x=[!1,"serif","monospace"],w=["1","2","3",!1],k=["small",!1,"large","huge"],_=function(e){function t(e,n){g(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),r}return v(t,e),r(t,[{key:"addModule",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"===typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&j(e,y),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&j(e,b,"background"===n?"#ffffff":"#000000"),new u.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?j(e,x):e.classList.contains("ql-header")?j(e,w):e.classList.contains("ql-size")&&j(e,k)),new p.default(e)})),this.quill.on(s.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(c.default);_.DEFAULTS=(0,a.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new o.default).retain(r.index).delete(r.length).insert({image:n.target.result}),s.default.sources.USER),e.quill.setSelection(r.index+1,s.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var C=function(e){function t(e,n){g(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return v(t,e),r(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,s.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",s.default.sources.USER),this.quill.setSelection(r+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(f.default);function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)}))}t.BaseTooltip=C,t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var i=n.length();if(e<i||t&&e===i&&(null==n.next||0!==n.next.length()))return[n,e];e-=i}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,i=this.find(e),a=i[0],o=e-i[1],s=this.iterator(a);(r=s())&&o<e+t;){var l=r.length();e>o?n(r,e-o,Math.min(t,o+l-e)):n(r,0,Math.min(l,e+t-o)),o+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),a=n(1),o={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,o),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,i){this.update(),e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var s=function e(t,n){void 0===n&&(n=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(null==t.domNode[a.DATA_KEY].mutations&&(t.domNode[a.DATA_KEY].mutations=[]),n&&e(t.parent))},l=function e(t){null!=t.domNode[a.DATA_KEY]&&null!=t.domNode[a.DATA_KEY].mutations&&(t instanceof i.default&&t.children.forEach(e),t.optimize(n))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);s(t,!1),t instanceof i.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),o=(c=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==r&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],n)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),a=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var a=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),a.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,r,i){null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)?this.isolate(t,n).format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof t&&i.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),a=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var r=a.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,i){null!=a.query(r,a.Scope.BLOCK)?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=a.query(n,a.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var i=this.split(t),o=a.create(n,r);i.parent.insertBefore(o,i)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,i){0===t&&n===this.length()?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),a=n(1),o=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=a.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=o},function(e,t,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:i.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],a=0;a<r;a++)if(t=n[a],e.call(i,t,a,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var n=-1;function r(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var u=a(e,t),d=e.substring(0,u);u=o(e=e.substring(u),t=t.substring(u));var p=e.substring(e.length-u),f=function(e,t){var s;if(!e)return[[1,t]];if(!t)return[[n,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,u=l.indexOf(c);if(-1!=u)return s=[[1,l.substring(0,u)],[0,c],[1,l.substring(u+c.length)]],e.length>t.length&&(s[0][0]=s[2][0]=n),s;if(1==c.length)return[[n,e],[1,t]];var d=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,s,l,c=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var p=a(e.substring(n),t.substring(u)),f=o(e.substring(0,n),t.substring(0,u));d.length<f+p&&(d=t.substring(u-f,u)+t.substring(u,u+p),r=e.substring(0,n-f),i=e.substring(n+p),s=t.substring(0,u-f),l=t.substring(u+p))}return 2*d.length>=e.length?[r,i,s,l,d]:null}var s,l,c,u,d,p=i(n,r,Math.ceil(n.length/4)),f=i(n,r,Math.ceil(n.length/2));if(!p&&!f)return null;s=f?p&&p[4].length>f[4].length?p:f:p,e.length>t.length?(l=s[0],c=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],l=s[2],c=s[3]);var h=s[4];return[l,c,u,d,h]}(e,t);if(d){var p=d[0],f=d[1],h=d[2],g=d[3],m=d[4],v=r(p,h),y=r(f,g);return v.concat([[0,m]],y)}return function(e,t){for(var r=e.length,a=t.length,o=Math.ceil((r+a)/2),s=o,l=2*o,c=new Array(l),u=new Array(l),d=0;d<l;d++)c[d]=-1,u[d]=-1;c[s+1]=0,u[s+1]=0;for(var p=r-a,f=p%2!=0,h=0,g=0,m=0,v=0,y=0;y<o;y++){for(var b=-y+h;b<=y-g;b+=2){for(var x=s+b,w=(S=b==-y||b!=y&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-b;S<r&&w<a&&e.charAt(S)==t.charAt(w);)S++,w++;if(c[x]=S,S>r)g+=2;else if(w>a)h+=2;else if(f&&(C=s+p-b)>=0&&C<l&&-1!=u[C]&&S>=(_=r-u[C]))return i(e,t,S,w)}for(var k=-y+m;k<=y-v;k+=2){for(var _,C=s+k,j=(_=k==-y||k!=y&&u[C-1]<u[C+1]?u[C+1]:u[C-1]+1)-k;_<r&&j<a&&e.charAt(r-_-1)==t.charAt(a-j-1);)_++,j++;if(u[C]=_,_>r)v+=2;else if(j>a)m+=2;else if(!f){var S;if((x=s+p-k)>=0&&x<l&&-1!=c[x])if(w=s+(S=c[x])-x,S>=(_=r-_))return i(e,t,S,w)}}}return[[n,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-u),t=t.substring(0,t.length-u));return d&&f.unshift([0,d]),p&&f.push([0,p]),s(f),null!=l&&(f=function(e,t){var r=function(e,t){if(0===t)return[0,e];for(var r=0,i=0;i<e.length;i++){var a=e[i];if(a[0]===n||0===a[0]){var o=r+a[1].length;if(t===o)return[i+1,e];if(t<o){e=e.slice();var s=t-r,l=[a[0],a[1].slice(0,s)],c=[a[0],a[1].slice(s)];return e.splice(i,1,l,c),[i+1,e]}r=o}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=r[1],a=r[0],o=i[a],s=i[a+1];if(null==o)return e;if(0!==o[0])return e;if(null!=s&&o[1]+s[1]===s[1]+o[1])return i.splice(a,2,s,o),c(i,a,2);if(null!=s&&0===s[1].indexOf(o[1])){i.splice(a,2,[s[0],o[1]],[0,o[1]]);var l=s[1].slice(o[1].length);return l.length>0&&i.splice(a+2,0,[s[0],l]),c(i,a,3)}return e}(f,l)),f=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},i=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},a=2;a<e.length;a+=1)0===e[a-2][0]&&i(e[a-2][1])&&e[a-1][0]===n&&r(e[a-1][1])&&1===e[a][0]&&r(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));if(!t)return e;var o=[];for(a=0;a<e.length;a+=1)e[a][1].length>0&&o.push(e[a]);return o}(f)}function i(e,t,n,i){var a=e.substring(0,n),o=t.substring(0,i),s=e.substring(n),l=t.substring(i),c=r(a,o),u=r(s,l);return c.concat(u)}function a(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,a=0;n<i;)e.substring(a,i)==t.substring(a,i)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function o(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,a=0;n<i;)e.substring(e.length-i,e.length-a)==t.substring(t.length-i,t.length-a)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function s(e){e.push([0,""]);for(var t,r=0,i=0,l=0,c="",u="";r<e.length;)switch(e[r][0]){case 1:l++,u+=e[r][1],r++;break;case n:i++,c+=e[r][1],r++;break;case 0:i+l>1?(0!==i&&0!==l&&(0!==(t=a(u,c))&&(r-i-l>0&&0==e[r-i-l-1][0]?e[r-i-l-1][1]+=u.substring(0,t):(e.splice(0,0,[0,u.substring(0,t)]),r++),u=u.substring(t),c=c.substring(t)),0!==(t=o(u,c))&&(e[r][1]=u.substring(u.length-t)+e[r][1],u=u.substring(0,u.length-t),c=c.substring(0,c.length-t))),0===i?e.splice(r-l,i+l,[1,u]):0===l?e.splice(r-i,i+l,[n,c]):e.splice(r-i-l,i+l,[n,c],[1,u]),r=r-i-l+(i?1:0)+(l?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,l=0,i=0,c="",u=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),d=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),d=!0)),r++;d&&s(e)}var l=r;function c(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var i=e[r],a=e[r+1];i[0]===a[1]&&e.splice(r,2,[i[0],i[1]+a[1]])}return e}l.INSERT=1,l.DELETE=n,l.EQUAL=0,e.exports=l},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"===typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:i).supported=r,t.unsupported=i},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var a=0,o=i.length,s=new Array(o);a<o;a++)s[a]=i[a].fn;return s},o.prototype.emit=function(e,t,n,i,a,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,a),!0;case 6:return u.fn.call(u.context,t,n,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){var i=new a(t,n||this),o=r?r+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.once=function(e,t,n){var i=new a(t,n||this,!0),o=r?r+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,a){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return 0===--this._eventsCount?this._events=new i:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new i:delete this._events[o]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new i:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=r,o.EventEmitter=o,"undefined"!==typeof e&&(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=b(n(3)),s=b(n(2)),l=b(n(0)),c=b(n(5)),u=b(n(10)),d=b(n(9)),p=n(36),f=n(37),h=b(n(13)),g=n(26),m=n(38),v=n(39),y=n(40);function b(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=(0,u.default)("quill:clipboard"),k="__ql-matcher",_=[[Node.TEXT_NODE,L],[Node.TEXT_NODE,I],["br",function(e,t){return E(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};return r.fontStyle&&"italic"===N(e).fontStyle&&(n.italic=!0),r.fontWeight&&(N(e).fontWeight.startsWith("bold")||parseInt(N(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=Z(t,n)),parseFloat(r.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!E(t,"\n"))return t;for(var r=-1,i=e.parentNode;!i.classList.contains("ql-clipboard");)"list"===(l.default.query(i)||{}).blotName&&(r+=1),i=i.parentNode;return r<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:r}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new s.default}]],C=[p.AlignAttribute,m.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),j=[p.AlignStyle,f.BackgroundStyle,g.ColorStyle,m.DirectionStyle,v.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),S=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],_.concat(r.options.matchers).forEach((function(e){var t=i(e,2),a=t[0],o=t[1];(n.matchVisual||o!==D)&&r.addMatcher(a,o)})),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[h.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,x({},h.default.blotName,t[h.default.blotName]))}var r=this.prepareMatching(),a=i(r,2),o=a[0],l=a[1],c=A(this.container,o,l);return E(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new s.default).retain(c.length()-1).delete(1))),w.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout((function(){r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,c.default.sources.USER),t.quill.setSelection(r.length()-n.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=i,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(r){var a=i(r,2),o=a[0],s=a[1];switch(o){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(o),(function(e){e[k]=e[k]||[],e[k].push(s)}))}})),[t,n]}}]),t}(d.default);function Z(e,t,n){return"object"===("undefined"===typeof t?"undefined":r(t))?Object.keys(t).reduce((function(e,n){return Z(e,n,t[n])}),e):e.reduce((function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,o.default)({},x({},t,n),r.attributes))}),new s.default)}function N(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function E(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var i=e.ops[r];if("string"!==typeof i.insert)break;n=i.insert+n}return n.slice(-1*t.length)===t}function O(e){if(0===e.childNodes.length)return!1;var t=N(e);return["block","list-item"].indexOf(t.display)>-1}function A(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce((function(t,n){return n(e,t)}),new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(r,i){var a=A(i,t,n);return i.nodeType===e.ELEMENT_NODE&&(a=t.reduce((function(e,t){return t(i,e)}),a),a=(i[k]||[]).reduce((function(e,t){return t(i,e)}),a)),r.concat(a)}),new s.default):new s.default}function T(e,t,n){return Z(n,e,!0)}function P(e,t){var n=l.default.Attributor.Attribute.keys(e),r=l.default.Attributor.Class.keys(e),i=l.default.Attributor.Style.keys(e),a={};return n.concat(r).concat(i).forEach((function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(a[n.attrName]=n.value(e),a[n.attrName])||(null==(n=C[t])||n.attrName!==t&&n.keyName!==t||(a[n.attrName]=n.value(e)||void 0),null==(n=j[t])||n.attrName!==t&&n.keyName!==t||(n=j[t],a[n.attrName]=n.value(e)||void 0))})),Object.keys(a).length>0&&(t=Z(t,a)),t}function M(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var r={},i=n.value(e);null!=i&&(r[n.blotName]=i,t=(new s.default).insert(r,n.formats(e)))}else"function"===typeof n.formats&&(t=Z(t,n.blotName,n.formats(e)));return t}function I(e,t){return E(t,"\n")||(O(e)||t.length()>0&&e.nextSibling&&O(e.nextSibling))&&t.insert("\n"),t}function D(e,t){if(O(e)&&null!=e.nextElementSibling&&!E(t,"\n\n")){var n=e.offsetHeight+parseFloat(N(e).marginTop)+parseFloat(N(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function L(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!N(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&O(e.parentNode)||null!=e.previousSibling&&O(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&O(e.parentNode)||null!=e.nextSibling&&O(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}S.DEFAULTS={matchers:[],matchVisual:!0},t.default=S,t.matchAttributor=P,t.matchBlot=M,t.matchNewline=I,t.matchSpacing=D,t.matchText=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);c.blotName="bold",c.tagName=["STRONG","B"],t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(2)),o=u(n(0)),s=u(n(5)),l=u(n(10)),c=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=(0,l.default)("quill:toolbar"),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(a.options.container)){var o=document.createElement("div");g(o,a.options.container),e.container.parentNode.insertBefore(o,e.container),a.container=o}else"string"===typeof a.options.container?a.container=document.querySelector(a.options.container):a.container=a.options.container;return a.container instanceof HTMLElement?(a.container.classList.add("ql-toolbar"),a.controls=[],a.handlers={},Object.keys(a.options.handlers).forEach((function(e){a.addHandler(e,a.options.handlers[e])})),[].forEach.call(a.container.querySelectorAll("button, select"),(function(e){a.attach(e)})),a.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&a.update(t)})),a.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=a.quill.selection.getRange(),t=r(e,1)[0];a.update(t)})),a):(i=p.error("Container required for toolbar",a.options),d(a,i))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void p.warn("ignoring attaching to disabled format",n,e);if(null==o.default.query(n))return void p.warn("ignoring attaching to nonexistent format",n,e)}var i="SELECT"===e.tagName?"change":"click";e.addEventListener(i,(function(i){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),i.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=r(u,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(o.default.query(n).prototype instanceof o.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new a.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),s.default.sources.USER)}else t.quill.format(n,l,s.default.sources.USER);t.update(d)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var i=r(n,2),a=i[0],o=i[1];if("SELECT"===o.tagName){var s=void 0;if(null==e)s=null;else if(null==t[a])s=o.querySelector("option[selected]");else if(!Array.isArray(t[a])){var l=t[a];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),s=o.querySelector('option[value="'+l+'"]')}null==s?(o.value="",o.selectedIndex=-1):s.selected=!0}else if(null==e)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var c=t[a]===o.getAttribute("value")||null!=t[a]&&t[a].toString()===o.getAttribute("value")||null==t[a]&&!o.getAttribute("value");o.classList.toggle("ql-active",c)}else o.classList.toggle("ql-active",null!=t[a])}))}}]),t}(c.default);function h(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"===typeof e)h(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)})),e.appendChild(r)}(n,t,r):h(n,t,r)}})),e.appendChild(n)}))}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=o.default.query(t,o.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var i="+1"===e?1:-1;"rtl"===n.direction&&(i*=-1),this.quill.format("indent",r+i,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=f,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildItem",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=i:r.style.fill=i)}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"selectItem",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"})),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),a=0;if(i.right>r.right&&(a=r.right-i.right,this.root.style.left=t+a+"px"),i.left<r.left&&(a=r.left-i.left,this.root.style.left=t+a+"px"),i.bottom>r.bottom){var o=i.bottom-i.top,s=e.bottom-e.top+o;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return a}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(3)),s=f(n(8)),l=n(43),c=f(l),u=f(n(27)),d=n(15),p=f(n(41));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,n){h(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return m(t,e),a(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),p.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(c.default);y.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,n){h(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return m(t,e),a(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,n,i){if(null!=t){if(0===t.length&&i===s.default.sources.USER){var a=e.quill.scroll.descendant(u.default,t.index),o=r(a,2),l=o[0],c=o[1];if(null!=l){e.linkRange=new d.Range(t.index-c,l.length());var p=u.default.formats(l.domNode);return e.preview.textContent=p,e.preview.setAttribute("href",p),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=I(n(29)),i=n(36),a=n(38),o=n(64),s=I(n(65)),l=I(n(66)),c=n(67),u=I(c),d=n(37),p=n(26),f=n(39),h=n(40),g=I(n(56)),m=I(n(68)),v=I(n(27)),y=I(n(69)),b=I(n(70)),x=I(n(71)),w=I(n(72)),k=I(n(73)),_=n(13),C=I(_),j=I(n(74)),S=I(n(75)),Z=I(n(57)),N=I(n(41)),E=I(n(28)),O=I(n(59)),A=I(n(60)),T=I(n(61)),P=I(n(108)),M=I(n(62));function I(e){return e&&e.__esModule?e:{default:e}}r.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":i.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":i.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":h.SizeStyle},!0),r.default.register({"formats/align":i.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":o.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":f.FontClass,"formats/size":h.SizeClass,"formats/blockquote":s.default,"formats/code-block":C.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":g.default,"formats/code":_.Code,"formats/italic":m.default,"formats/link":v.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":x.default,"formats/image":w.default,"formats/video":k.default,"formats/list/item":c.ListItem,"modules/formula":j.default,"modules/syntax":S.default,"modules/toolbar":Z.default,"themes/bubble":P.default,"themes/snow":M.default,"ui/icons":N.default,"ui/picker":E.default,"ui/icon-picker":A.default,"ui/color-picker":O.default,"ui/tooltip":T.default},!0),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(0),s=(r=o)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class),d=new u("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=l(n(0)),o=l(n(4)),s=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"format",value:function(e,n){e!==f.blotName||n?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(a.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:i(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(o.default);p.blotName="list-item",p.tagName="LI";var f=function(e){function t(e){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),i=a.default.find(t.target);"checked"===r?i.format("list","unchecked"):"unchecked"===r&&i.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),n}return d(t,e),r(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(e,n){if(e instanceof p)i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),a=this.split(r);a.parent.insertBefore(e,a)}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=a.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);f.blotName="list",f.scope=a.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[p],t.ListItem=p,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(56);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);c.blotName="script",c.tagName=["SUB","SUP"],t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(0),s=(r=o)&&r.__esModule?r:{default:r},l=n(27);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=["alt","height","width"],p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);p.blotName="image",p.tagName="IMG",t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(4),s=n(27),l=(r=s)&&r.__esModule?r:{default:r};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=["height","width"],p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.BlockEmbed);p.blotName="video",p.className="ql-video",p.tagName="IFRAME",t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=l(n(35)),o=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,null,[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(a.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var f=function(e){function t(){c(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),r(t,null,[{key:"register",value:function(){o.default.register(p,!0)}}]),t}(s.default);t.FormulaBlot=p,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=l(n(0)),o=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(n(13)).default);p.className="ql-syntax";var f=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),h=function(e){function t(e,n){c(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!==typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var i=null;return r.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(i),i=setTimeout((function(){r.highlight(),i=null}),r.options.interval)})),r.highlight(),r}return d(t,e),r(t,null,[{key:"register",value:function(){o.default.register(f,!0),o.default.register(p,!0)}}]),r(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(p).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(o.default.sources.SILENT),null!=t&&this.quill.setSelection(t,o.default.sources.SILENT)}}}]),t}(s.default);h.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=p,t.CodeToken=f,t.default=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var r=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(3)),o=d(n(8)),s=n(43),l=d(s),c=n(15),u=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(e){function t(e,n){p(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return h(t,e),i(t,[{key:"extendToolbar",value:function(e){this.tooltip=new v(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(l.default);m.DEFAULTS=(0,a.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var v=function(e){function t(e,n){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,i){if(e===o.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&i===o.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var a=r.quill.getLines(t.index,t.length);if(1===a.length)r.position(r.quill.getBounds(t));else{var s=a[a.length-1],l=r.quill.getIndex(s),u=Math.min(s.length()-1,t.index+t.length-l),d=r.quill.getBounds(new c.Range(l,u));r.position(d)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return h(t,e),i(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),i=this.root.querySelector(".ql-tooltip-arrow");if(i.style.marginLeft="",0===n)return n;i.style.marginLeft=-1*n-i.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);v.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=v,t.default=m},function(e,t,n){e.exports=n(63)}]).default},e.exports=t()},56482:function(e,t,n){"use strict";n.r(t);var r=n(87462),i=n(4942),a=n(45987),o=n(1413),s=n(15671),l=n(43144),c=n(60136),u=n(27277),d=n(47313),p=n(46123),f=n.n(p),h=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;(0,s.Z)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,i=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),i&&i({target:(0,o.Z)((0,o.Z)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var i="checked"in e?e.checked:e.defaultChecked;return r.state={checked:i},r}return(0,l.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,o=t.className,s=t.style,l=t.name,c=t.id,u=t.type,p=t.disabled,h=t.readOnly,g=t.tabIndex,m=t.onClick,v=t.onFocus,y=t.onBlur,b=t.onKeyDown,x=t.onKeyPress,w=t.onKeyUp,k=t.autoFocus,_=t.value,C=t.required,j=(0,a.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),S=Object.keys(j).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=j[t]),e}),{}),Z=this.state.checked,N=f()(n,o,(e={},(0,i.Z)(e,"".concat(n,"-checked"),Z),(0,i.Z)(e,"".concat(n,"-disabled"),p),e));return d.createElement("span",{className:N,style:s},d.createElement("input",(0,r.Z)({name:l,id:c,type:u,required:C,readOnly:h,disabled:p,tabIndex:g,className:"".concat(n,"-input"),checked:!!Z,onClick:m,onFocus:v,onBlur:y,onKeyUp:w,onKeyDown:b,onKeyPress:x,onChange:this.handleChange,autoFocus:k,ref:this.saveInput,value:_},S)),d.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,o.Z)((0,o.Z)({},t),{},{checked:e.checked}):null}}]),n}(d.Component);h.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.default=h},41772:function(e,t,n){"use strict";n.r(t),n.d(t,{Panel:function(){return S},default:function(){return j}});var r=n(4942),i=n(93433),a=n(15671),o=n(43144),s=n(60136),l=n(27277),c=n(71002),u=n(47313),d=n(46123),p=n.n(d),f=n(59767),h=n.n(f),g=n(14903),m=n(87462),v=n(1293),y=n(29439),b=u.forwardRef((function(e,t){var n,i=e.prefixCls,a=e.forceRender,o=e.className,s=e.style,l=e.children,c=e.isActive,d=e.role,f=u.useState(c||a),h=(0,y.Z)(f,2),g=h[0],m=h[1];return u.useEffect((function(){(a||c)&&m(!0)}),[a,c]),g?u.createElement("div",{ref:t,className:p()("".concat(i,"-content"),(n={},(0,r.Z)(n,"".concat(i,"-content-active"),c),(0,r.Z)(n,"".concat(i,"-content-inactive"),!c),n),o),style:s,role:d},u.createElement("div",{className:"".concat(i,"-content-box")},l)):null}));b.displayName="PanelContent";var x=b,w=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onItemClick=function(){var t=e.props,n=t.onItemClick,r=t.panelKey;"function"===typeof n&&n(r)},e.handleKeyPress=function(t){"Enter"!==t.key&&13!==t.keyCode&&13!==t.which||e.onItemClick()},e.renderIcon=function(){var t=e.props,n=t.showArrow,r=t.expandIcon,i=t.prefixCls,a=t.collapsible;if(!n)return null;var o="function"===typeof r?r(e.props):u.createElement("i",{className:"arrow"});return o&&u.createElement("div",{className:"".concat(i,"-expand-icon"),onClick:"header"===a?e.onItemClick:null},o)},e.renderTitle=function(){var t=e.props,n=t.header,r=t.prefixCls,i=t.collapsible;return u.createElement("span",{className:"".concat(r,"-header-text"),onClick:"header"===i?e.onItemClick:null},n)},e}return(0,o.Z)(n,[{key:"shouldComponentUpdate",value:function(e){return!h()(this.props,e)}},{key:"render",value:function(){var e,t,n=this.props,i=n.className,a=n.id,o=n.style,s=n.prefixCls,l=n.headerClass,c=n.children,d=n.isActive,f=n.destroyInactivePanel,h=n.accordion,g=n.forceRender,y=n.openMotion,b=n.extra,w=n.collapsible,k="disabled"===w,_="header"===w,C=p()((e={},(0,r.Z)(e,"".concat(s,"-item"),!0),(0,r.Z)(e,"".concat(s,"-item-active"),d),(0,r.Z)(e,"".concat(s,"-item-disabled"),k),e),i),j={className:p()("".concat(s,"-header"),(t={},(0,r.Z)(t,l,l),(0,r.Z)(t,"".concat(s,"-header-collapsible-only"),_),t)),"aria-expanded":d,"aria-disabled":k,onKeyPress:this.handleKeyPress};_||(j.onClick=this.onItemClick,j.role=h?"tab":"button",j.tabIndex=k?-1:0);var S=null!==b&&void 0!==b&&"boolean"!==typeof b;return u.createElement("div",{className:C,style:o,id:a},u.createElement("div",j,this.renderIcon(),this.renderTitle(),S&&u.createElement("div",{className:"".concat(s,"-extra")},b)),u.createElement(v.default,(0,m.Z)({visible:d,leavedClassName:"".concat(s,"-content-hidden")},y,{forceRender:g,removeOnLeave:f}),(function(e,t){var n=e.className,r=e.style;return u.createElement(x,{ref:t,prefixCls:s,className:n,style:r,isActive:d,forceRender:g,role:h?"tabpanel":null},c)})))}}]),n}(u.Component);w.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var k=w;function _(e){var t=e;if(!Array.isArray(t)){var n=(0,c.Z)(t);t="number"===n||"string"===n?[t]:[]}return t.map((function(e){return String(e)}))}var C=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,a.Z)(this,n),(r=t.call(this,e)).onClickItem=function(e){var t=r.state.activeKey;if(r.props.accordion)t=t[0]===e?[]:[e];else{var n=(t=(0,i.Z)(t)).indexOf(e);n>-1?t.splice(n,1):t.push(e)}r.setActiveKey(t)},r.getNewChild=function(e,t){if(!e)return null;var n=r.state.activeKey,i=r.props,a=i.prefixCls,o=i.openMotion,s=i.accordion,l=i.destroyInactivePanel,c=i.expandIcon,d=i.collapsible,p=e.key||String(t),f=e.props,h=f.header,g=f.headerClass,m=f.destroyInactivePanel,v=f.collapsible,y=null!==v&&void 0!==v?v:d,b={key:p,panelKey:p,header:h,headerClass:g,isActive:s?n[0]===p:n.indexOf(p)>-1,prefixCls:a,destroyInactivePanel:null!==m&&void 0!==m?m:l,openMotion:o,accordion:s,children:e.props.children,onItemClick:"disabled"===y?null:r.onClickItem,expandIcon:c,collapsible:y};return"string"===typeof e.type?e:(Object.keys(b).forEach((function(e){"undefined"===typeof b[e]&&delete b[e]})),u.cloneElement(e,b))},r.getItems=function(){var e=r.props.children;return(0,g.Z)(e).map(r.getNewChild)},r.setActiveKey=function(e){"activeKey"in r.props||r.setState({activeKey:e}),r.props.onChange(r.props.accordion?e[0]:e)};var o=e.activeKey,s=e.defaultActiveKey;return"activeKey"in e&&(s=o),r.state={activeKey:_(s)},r}return(0,o.Z)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!h()(this.props,e)||!h()(this.state,t)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,a=t.style,o=t.accordion,s=p()((e={},(0,r.Z)(e,n,!0),(0,r.Z)(e,i,!!i),e));return u.createElement("div",{className:s,style:a,role:o?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"activeKey"in e&&(t.activeKey=_(e.activeKey)),t}}]),n}(u.Component);C.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},C.Panel=k;var j=C,S=C.Panel},19983:function(e,t,n){"use strict";n.r(t),n.d(t,{Panel:function(){return k},default:function(){return Z}});var r=n(87462),i=n(29439),a=n(47313),o=n.t(a,2),s=n(68099),l=n(1413),c=n(46123),u=n.n(c),d=n(49242);var p=0;function f(e){var t=a.useState("ssr-id"),n=(0,i.Z)(t,2),r=n[0],s=n[1],c=(0,l.Z)({},o).useId,u=null===c||void 0===c?void 0:c();return a.useEffect((function(){if(!c){var e=p;p+=1,s("rc_unique_".concat(e))}}),[]),e||(u||r)}var h=n(47882),g=n(19990),m=n(1293);function v(e){var t=e.prefixCls,n=e.style,i=e.visible,o=e.maskProps,s=e.motionName;return a.createElement(m.default,{key:"mask",visible:i,motionName:s,leavedClassName:"".concat(t,"-mask-hidden")},(function(e){var i=e.className,s=e.style;return a.createElement("div",(0,r.Z)({style:(0,l.Z)((0,l.Z)({},s),n),className:u()("".concat(t,"-mask"),i)},o))}))}function y(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function b(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}var x=a.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate})),w={width:0,height:0,overflow:"hidden",outline:"none"};var k=a.forwardRef((function(e,t){var n=e.prefixCls,i=e.className,o=e.style,s=e.title,c=e.ariaId,d=e.footer,p=e.closable,f=e.closeIcon,h=e.onClose,g=e.children,m=e.bodyStyle,v=e.bodyProps,y=e.modalRender,b=e.onMouseDown,k=e.onMouseUp,_=e.holderRef,C=e.visible,j=e.forceRender,S=e.width,Z=e.height,N=(0,a.useRef)(),E=(0,a.useRef)();a.useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=N.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===E.current?N.current.focus():e||t!==N.current||E.current.focus()}}}));var O,A,T,P={};void 0!==S&&(P.width=S),void 0!==Z&&(P.height=Z),d&&(O=a.createElement("div",{className:"".concat(n,"-footer")},d)),s&&(A=a.createElement("div",{className:"".concat(n,"-header")},a.createElement("div",{className:"".concat(n,"-title"),id:c},s))),p&&(T=a.createElement("button",{type:"button",onClick:h,"aria-label":"Close",className:"".concat(n,"-close")},f||a.createElement("span",{className:"".concat(n,"-close-x")})));var M=a.createElement("div",{className:"".concat(n,"-content")},T,A,a.createElement("div",(0,r.Z)({className:"".concat(n,"-body"),style:m},v),g),O);return a.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":s?c:null,"aria-modal":"true",ref:_,style:(0,l.Z)((0,l.Z)({},o),P),className:u()(n,i),onMouseDown:b,onMouseUp:k},a.createElement("div",{tabIndex:0,ref:N,style:w,"aria-hidden":"true"}),a.createElement(x,{shouldUpdate:C||j},y?y(M):M),a.createElement("div",{tabIndex:0,ref:E,style:w,"aria-hidden":"true"}))})),_=a.forwardRef((function(e,t){var n=e.prefixCls,o=e.title,s=e.style,c=e.className,d=e.visible,p=e.forceRender,f=e.destroyOnClose,h=e.motionName,g=e.ariaId,v=e.onVisibleChanged,y=e.mousePosition,x=(0,a.useRef)(),w=a.useState(),_=(0,i.Z)(w,2),C=_[0],j=_[1],S={};function Z(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=b(i),n.top+=b(i,!0),n}(x.current);j(y?"".concat(y.x-e.left,"px ").concat(y.y-e.top,"px"):"")}return C&&(S.transformOrigin=C),a.createElement(m.default,{visible:d,onVisibleChanged:v,onAppearPrepare:Z,onEnterPrepare:Z,forceRender:p,motionName:h,removeOnLeave:f,ref:x},(function(i,d){var p=i.className,f=i.style;return a.createElement(k,(0,r.Z)({},e,{ref:t,title:o,ariaId:g,prefixCls:n,holderRef:d,style:(0,l.Z)((0,l.Z)((0,l.Z)({},f),s),S),className:u()(c,p)}))}))}));_.displayName="Content";var C=_;function j(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,o=e.zIndex,s=e.visible,c=void 0!==s&&s,p=e.keyboard,m=void 0===p||p,b=e.focusTriggerAfterClose,x=void 0===b||b,w=e.scrollLocker,k=e.wrapStyle,_=e.wrapClassName,j=e.wrapProps,S=e.onClose,Z=e.afterClose,N=e.transitionName,E=e.animation,O=e.closable,A=void 0===O||O,T=e.mask,P=void 0===T||T,M=e.maskTransitionName,I=e.maskAnimation,D=e.maskClosable,L=void 0===D||D,R=e.maskStyle,B=e.maskProps,F=e.rootClassName,z=(0,a.useRef)(),V=(0,a.useRef)(),U=(0,a.useRef)(),H=a.useState(c),W=(0,i.Z)(H,2),q=W[0],K=W[1],Y=f();function G(e){null===S||void 0===S||S(e)}var Q=(0,a.useRef)(!1),X=(0,a.useRef)(),$=null;return L&&($=function(e){Q.current?Q.current=!1:V.current===e.target&&G(e)}),(0,a.useEffect)((function(){return c&&K(!0),function(){}}),[c]),(0,a.useEffect)((function(){return function(){clearTimeout(X.current)}}),[]),(0,a.useEffect)((function(){return q?(null===w||void 0===w||w.lock(),null===w||void 0===w?void 0:w.unLock):function(){}}),[q,w]),a.createElement("div",(0,r.Z)({className:u()("".concat(n,"-root"),F)},(0,g.Z)(e,{data:!0})),a.createElement(v,{prefixCls:n,visible:P&&c,motionName:y(n,M,I),style:(0,l.Z)({zIndex:o},R),maskProps:B}),a.createElement("div",(0,r.Z)({tabIndex:-1,onKeyDown:function(e){if(m&&e.keyCode===d.Z.ESC)return e.stopPropagation(),void G(e);c&&e.keyCode===d.Z.TAB&&U.current.changeActive(!e.shiftKey)},className:u()("".concat(n,"-wrap"),_),ref:V,onClick:$,style:(0,l.Z)((0,l.Z)({zIndex:o},k),{},{display:q?null:"none"})},j),a.createElement(C,(0,r.Z)({},e,{onMouseDown:function(){clearTimeout(X.current),Q.current=!0},onMouseUp:function(){X.current=setTimeout((function(){Q.current=!1}))},ref:U,closable:A,ariaId:Y,prefixCls:n,visible:c,onClose:G,onVisibleChanged:function(e){if(e){var t;if(!(0,h.Z)(V.current,document.activeElement))z.current=document.activeElement,null===(t=U.current)||void 0===t||t.focus()}else{if(K(!1),P&&z.current&&x){try{z.current.focus({preventScroll:!0})}catch(n){}z.current=null}q&&(null===Z||void 0===Z||Z())}},motionName:y(n,N,E)}))))}var S=function(e){var t=e.visible,n=e.getContainer,o=e.forceRender,l=e.destroyOnClose,c=void 0!==l&&l,u=e.afterClose,d=a.useState(t),p=(0,i.Z)(d,2),f=p[0],h=p[1];return a.useEffect((function(){t&&h(!0)}),[t]),!1===n?a.createElement(j,(0,r.Z)({},e,{getOpenCount:function(){return 2}})):o||!c||f?a.createElement(s.Z,{visible:t,forceRender:o,getContainer:n},(function(t){return a.createElement(j,(0,r.Z)({},e,{destroyOnClose:c,afterClose:function(){null===u||void 0===u||u(),h(!1)}},t))})):null};S.displayName="Dialog";var Z=S},87045:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(87462),i=n(1413),a=n(29439),o=n(47313),s=n(68099),l=n(4942),c=n(46123),u=n.n(c),d=n(1293);var p=function(e){var t=e.prefixCls,n=e.className,r=e.style,a=e.children,s=e.containerRef;return o.createElement(o.Fragment,null,o.createElement("div",{className:u()("".concat(t,"-content"),n),style:(0,i.Z)({},r),"aria-modal":"true",role:"dialog",ref:s},a))},f=o.createContext(null),h=n(49242),g=n(48240);function m(e){return"string"===typeof e&&String(Number(e))===e?((0,g.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var v={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function y(e){var t,n,s,c,g=e.prefixCls,y=e.open,b=e.placement,x=e.inline,w=e.push,k=e.forceRender,_=e.autoFocus,C=e.keyboard,j=e.scrollLocker,S=e.rootClassName,Z=e.rootStyle,N=e.zIndex,E=e.className,O=e.style,A=e.motion,T=e.width,P=e.height,M=e.children,I=e.contentWrapperStyle,D=e.mask,L=e.maskClosable,R=e.maskMotion,B=e.maskClassName,F=e.maskStyle,z=e.afterOpenChange,V=e.onClose,U=o.useRef(),H=o.useRef(),W=o.useRef();o.useEffect((function(){var e;y&&_&&(null===(e=U.current)||void 0===e||e.focus({preventScroll:!0}))}),[y,_]);var q=o.useState(!1),K=(0,a.Z)(q,2),Y=K[0],G=K[1],Q=o.useContext(f),X=null!==(t=null!==(n=null===(s=!1===w?{distance:0}:!0===w?{}:w||{})||void 0===s?void 0:s.distance)&&void 0!==n?n:null===Q||void 0===Q?void 0:Q.pushDistance)&&void 0!==t?t:180,$=o.useMemo((function(){return{pushDistance:X,push:function(){G(!0)},pull:function(){G(!1)}}}),[X]);o.useEffect((function(){var e,t;y?null===Q||void 0===Q||null===(e=Q.push)||void 0===e||e.call(Q):null===Q||void 0===Q||null===(t=Q.pull)||void 0===t||t.call(Q)}),[y]),o.useEffect((function(){y&&D&&(null===j||void 0===j||j.lock())}),[y,D]),o.useEffect((function(){return function(){var e;null===j||void 0===j||j.unLock(),null===Q||void 0===Q||null===(e=Q.pull)||void 0===e||e.call(Q)}}),[]);var J=D&&o.createElement(d.default,(0,r.Z)({key:"mask"},R,{visible:y}),(function(e,t){var n=e.className,r=e.style;return o.createElement("div",{className:u()("".concat(g,"-mask"),n,B),style:(0,i.Z)((0,i.Z)({},r),F),onClick:L?V:void 0,ref:t})})),ee="function"===typeof A?A(b):A,te={};if(Y&&X)switch(b){case"top":te.transform="translateY(".concat(X,"px)");break;case"bottom":te.transform="translateY(".concat(-X,"px)");break;case"left":te.transform="translateX(".concat(X,"px)");break;default:te.transform="translateX(".concat(-X,"px)")}"left"===b||"right"===b?te.width=m(T):te.height=m(P);var ne=o.createElement(d.default,(0,r.Z)({key:"panel"},ee,{visible:y,forceRender:k,onVisibleChanged:function(e){null===z||void 0===z||z(e),e||null===j||void 0===j||j.unLock()},removeOnLeave:!1,leavedClassName:"".concat(g,"-content-wrapper-hidden")}),(function(e,t){var n=e.className,r=e.style;return o.createElement("div",{className:u()("".concat(g,"-content-wrapper"),n),style:(0,i.Z)((0,i.Z)((0,i.Z)({},te),r),I)},o.createElement(p,{containerRef:t,prefixCls:g,className:E,style:O},M))})),re=(0,i.Z)({},Z);return N&&(re.zIndex=N),o.createElement(f.Provider,{value:$},o.createElement("div",{className:u()(g,"".concat(g,"-").concat(b),S,(c={},(0,l.Z)(c,"".concat(g,"-open"),y),(0,l.Z)(c,"".concat(g,"-inline"),x),c)),style:re,tabIndex:-1,ref:U,onKeyDown:function(e){var t=e.keyCode,n=e.shiftKey;switch(t){case h.Z.TAB:var r;if(t===h.Z.TAB)if(n||document.activeElement!==W.current){if(n&&document.activeElement===H.current){var i;null===(i=W.current)||void 0===i||i.focus({preventScroll:!0})}}else null===(r=H.current)||void 0===r||r.focus({preventScroll:!0});break;case h.Z.ESC:V&&C&&V(e)}}},J,o.createElement("div",{tabIndex:0,ref:H,style:v,"aria-hidden":"true","data-sentinel":"start"}),ne,o.createElement("div",{tabIndex:0,ref:W,style:v,"aria-hidden":"true","data-sentinel":"end"})))}var b=function(e){var t=e.open,n=e.getContainer,l=e.forceRender,c=e.wrapperClassName,u=e.prefixCls,d=e.afterOpenChange,p=e.destroyOnClose,f=o.useState(!1),h=(0,a.Z)(f,2),g=h[0],m=h[1];if(!l&&!g&&!t&&p)return null;var v=(0,i.Z)((0,i.Z)({},e),{},{prefixCls:u,afterOpenChange:function(e){m(e),null===d||void 0===d||d(e)}});return!1===n?o.createElement(y,(0,r.Z)({},v,{inline:!0})):o.createElement(s.Z,{visible:t,forceRender:l,getContainer:n,wrapperClassName:c},(function(e){var t=e.scrollLocker;return o.createElement(y,(0,r.Z)({},v,{scrollLocker:t}))}))};b.defaultProps={open:!1,getContainer:function(){return document.body},prefixCls:"rc-drawer",placement:"right",autoFocus:!0,keyboard:!0,width:378,mask:!0,maskClosable:!0};var x=b},43107:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(4942),i=n(1413),a=n(29439),o=n(45987),s=n(47313),l=n(8740),c=n(46123),u=n.n(c),d={adjustX:1,adjustY:1},p=[0,0],f={topLeft:{points:["bl","tl"],overflow:d,offset:[0,-4],targetOffset:p},topCenter:{points:["bc","tc"],overflow:d,offset:[0,-4],targetOffset:p},topRight:{points:["br","tr"],overflow:d,offset:[0,-4],targetOffset:p},bottomLeft:{points:["tl","bl"],overflow:d,offset:[0,4],targetOffset:p},bottomCenter:{points:["tc","bc"],overflow:d,offset:[0,4],targetOffset:p},bottomRight:{points:["tr","br"],overflow:d,offset:[0,4],targetOffset:p}},h=n(49242),g=n(95557),m=n(52221),v=h.Z.ESC,y=h.Z.TAB;var b=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function x(e,t){var n=e.arrow,c=void 0!==n&&n,d=e.prefixCls,p=void 0===d?"rc-dropdown":d,h=e.transitionName,x=e.animation,w=e.align,k=e.placement,_=void 0===k?"bottomLeft":k,C=e.placements,j=void 0===C?f:C,S=e.getPopupContainer,Z=e.showAction,N=e.hideAction,E=e.overlayClassName,O=e.overlayStyle,A=e.visible,T=e.trigger,P=void 0===T?["hover"]:T,M=e.autoFocus,I=(0,o.Z)(e,b),D=s.useState(),L=(0,a.Z)(D,2),R=L[0],B=L[1],F="visible"in e?A:R,z=s.useRef(null);s.useImperativeHandle(t,(function(){return z.current})),function(e){var t=e.visible,n=e.setTriggerVisible,r=e.triggerRef,i=e.onVisibleChange,a=e.autoFocus,o=s.useRef(!1),l=function(){var e,a,o,s;t&&r.current&&(null===(e=r.current)||void 0===e||null===(a=e.triggerRef)||void 0===a||null===(o=a.current)||void 0===o||null===(s=o.focus)||void 0===s||s.call(o),n(!1),"function"===typeof i&&i(!1))},c=function(){var e,t,n,i,a=(0,m.tS)(null===(e=r.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(i=n.getElement)||void 0===i?void 0:i.call(n))[0];return!!(null===a||void 0===a?void 0:a.focus)&&(a.focus(),o.current=!0,!0)},u=function(e){switch(e.keyCode){case v:l();break;case y:var t=!1;o.current||(t=c()),t?e.preventDefault():l()}};s.useEffect((function(){return t?(window.addEventListener("keydown",u),a&&(0,g.Z)(c,3),function(){window.removeEventListener("keydown",u),o.current=!1}):function(){o.current=!1}}),[t])}({visible:F,setTriggerVisible:B,triggerRef:z,onVisibleChange:e.onVisibleChange,autoFocus:M});var V=function(){var t=function(){var t=e.overlay;return"function"===typeof t?t():t}();return s.createElement(s.Fragment,null,c&&s.createElement("div",{className:"".concat(p,"-arrow")}),t)},U=N;return U||-1===P.indexOf("contextMenu")||(U=["click"]),s.createElement(l.Z,(0,i.Z)((0,i.Z)({builtinPlacements:j},I),{},{prefixCls:p,ref:z,popupClassName:u()(E,(0,r.Z)({},"".concat(p,"-show-arrow"),c)),popupStyle:O,action:P,showAction:Z,hideAction:U||[],popupPlacement:_,popupAlign:w,popupTransitionName:h,popupAnimation:x,popupVisible:F,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?V:V(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;B(t),"function"===typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;B(!1),n&&n(t)},getPopupContainer:S}),function(){var t=e.children,n=t.props?t.props:{},r=u()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(p,"-open")}());return F&&t?s.cloneElement(t,{className:r}):t}())}var w=s.forwardRef(x)},3529:function(e,t,n){"use strict";n.r(t),n.d(t,{Field:function(){return Se},FieldContext:function(){return y},FormProvider:function(){return Re},List:function(){return Ne},ListContext:function(){return Ze},default:function(){return We},useForm:function(){return De},useWatch:function(){return Ue}});var r=n(47313),i=n(87462),a=n(45987),o=n(4942),s=n(1413),l=n(93433),c=n(15671),u=n(43144),d=n(97326),p=n(60136),f=n(27277),h=n(14903),g=n(48240),m="RC_FORM_INTERNAL_HOOKS",v=function(){(0,g.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},y=r.createContext({getFieldValue:v,getFieldsValue:v,getFieldError:v,getFieldWarning:v,getFieldsError:v,isFieldsTouched:v,isFieldTouched:v,isFieldValidating:v,isFieldsValidating:v,resetFields:v,setFields:v,setFieldValue:v,setFieldsValue:v,validateFields:v,submit:v,getInternalHooks:function(){return v(),{dispatch:v,initEntityValue:v,registerField:v,useSubscribe:v,setInitialValues:v,destroyForm:v,setCallbacks:v,registerWatch:v,getFields:v,setValidateMessages:v,setPreserve:v,getInitialValue:v}}});function b(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}var x=n(74165),w=n(15861);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e,t,n){return S=j()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&C(i,n.prototype),i},S.apply(null,arguments)}function Z(e){var t="function"===typeof Map?new Map:void 0;return Z=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return S(e,arguments,_(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),C(r,e)},Z(e)}var N=/%[sdj%]/g;function E(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(N,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function A(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function T(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var s=r;r+=1,s<i?t(e[s],a):n([])}}([])}var P=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,C(t,n),r}(Z(Error));function M(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);T(o,n,(function(e){return r(e),e.length?a(new P(e,E(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,c=0,u=[],d=new Promise((function(t,a){var d=function(e){if(u.push.apply(u,e),++c===l)return r(u),u.length?a(new P(u,E(u))):t(i)};s.length||(r(u),t(i)),s.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?T(r,n,d):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function I(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function D(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=k({},e[n],r):e[n]=r}return e}var L,R=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!A(t,a||e.type)||r.push(O(i.messages.required,e.fullField))},B=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,F=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,z={integer:function(e){return z.number(e)&&parseInt(e,10)===e},float:function(e){return z.number(e)&&!z.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!z.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(B)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(L)return L;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),o=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),l=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};l.v4=function(e){return e&&e.exact?o:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+i+t(e),"g")};var c=l.v4().source,u=l.v6().source;return L=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(F)}},V={required:R,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(O(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)R(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?z[a](t)||r.push(O(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(O(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,s="number"===typeof e.max,l=t,c=null,u="number"===typeof t,d="string"===typeof t,p=Array.isArray(t);if(u?c="number":d?c="string":p&&(c="array"),!c)return!1;p&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&r.push(O(i.messages[c].len,e.fullField,e.len)):o&&!s&&l<e.min?r.push(O(i.messages[c].min,e.fullField,e.min)):s&&!o&&l>e.max?r.push(O(i.messages[c].max,e.fullField,e.max)):o&&s&&(l<e.min||l>e.max)&&r.push(O(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(O(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(O(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(O(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},U=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t,a)&&!e.required)return n();V.required(e,t,r,o,i,a),A(t,a)||V.type(e,t,r,o,i)}n(o)},H={string:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t,"string")&&!e.required)return n();V.required(e,t,r,a,i,"string"),A(t,"string")||(V.type(e,t,r,a,i),V.range(e,t,r,a,i),V.pattern(e,t,r,a,i),!0===e.whitespace&&V.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t)&&!e.required)return n();V.required(e,t,r,a,i),void 0!==t&&V.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),A(t)&&!e.required)return n();V.required(e,t,r,a,i),void 0!==t&&(V.type(e,t,r,a,i),V.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t)&&!e.required)return n();V.required(e,t,r,a,i),void 0!==t&&V.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t)&&!e.required)return n();V.required(e,t,r,a,i),A(t)||V.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t)&&!e.required)return n();V.required(e,t,r,a,i),void 0!==t&&(V.type(e,t,r,a,i),V.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t)&&!e.required)return n();V.required(e,t,r,a,i),void 0!==t&&(V.type(e,t,r,a,i),V.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();V.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(V.type(e,t,r,a,i),V.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t)&&!e.required)return n();V.required(e,t,r,a,i),void 0!==t&&V.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t)&&!e.required)return n();V.required(e,t,r,a,i),void 0!==t&&V.enum(e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t,"string")&&!e.required)return n();V.required(e,t,r,a,i),A(t,"string")||V.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t,"date")&&!e.required)return n();var o;if(V.required(e,t,r,a,i),!A(t,"date"))o=t instanceof Date?t:new Date(t),V.type(e,o,r,a,i),o&&V.range(e,o.getTime(),r,a,i)}n(a)},url:U,hex:U,email:U,required:function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;V.required(e,t,r,a,i,o),n(a)},any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(A(t)&&!e.required)return n();V.required(e,t,r,a,i)}n(a)}};function W(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var q=W(),K=function(){function e(e){this.rules=null,this._messages=q,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=D(W(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,o=n,s=r;if("function"===typeof o&&(s=o,o={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,a),Promise.resolve(a);if(o.messages){var l=this.messages();l===q&&(l=W()),D(l,o.messages),o.messages=l}else o.messages=this.messages();var c={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=a[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(a===t&&(a=k({},a)),r=a[e]=o.transform(r)),(o="function"===typeof o?{validator:o}:k({},o)).validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),c[e]=c[e]||[],c[e].push({rule:o,value:r,source:a,field:e}))}))}));var u={};return M(c,o,(function(t,n){var r,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function l(e,t){return k({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!o.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var d=c.map(I(i,a));if(o.first&&d.length)return u[i.field]=1,n(d);if(s){if(i.required&&!t.value)return void 0!==i.message?d=[].concat(i.message).map(I(i,a)):o.error&&(d=[o.error(i,O(o.messages.required,i.field))]),n(d);var p={};i.defaultField&&Object.keys(t.value).map((function(e){p[e]=i.defaultField})),p=k({},p,t.rule.fields);var f={};Object.keys(p).forEach((function(e){var t=p[e],n=Array.isArray(t)?t:[t];f[e]=n.map(l.bind(null,e))}));var h=new e(f);h.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),h.validate(t.value,t.rule.options||o,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,o);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,o)}catch(d){null==console.error||console.error(d),o.suppressValidatorError||setTimeout((function(){throw d}),0),c(d.message)}!0===r?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=E(t),s(t,n)):s(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!H.hasOwnProperty(e.type))throw new Error(O("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?H.required:H[this.getType(e)]||void 0},e}();K.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");H[e]=t},K.warning=function(){},K.messages=q,K.validators=H;var Y="'${name}' is not a valid ${type}",G={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Y,method:Y,array:Y,object:Y,number:Y,date:Y,boolean:Y,integer:Y,float:Y,regexp:Y,email:Y,url:Y,hex:Y},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Q=n(71002);function X(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var $=n(84506);function J(e,t,n,r){if(!t.length)return n;var i,a=(0,$.Z)(t),o=a[0],c=a.slice(1);return i=e||"number"!==typeof o?Array.isArray(e)?(0,l.Z)(e):(0,s.Z)({},e):[],r&&void 0===n&&1===c.length?delete i[o][c[0]]:i[o]=J(i[o],c,n,r),i}function ee(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!X(e,t.slice(0,-1))?e:J(e,t,n,r)}function te(e){return Array.isArray(e)?function(e){return e.map((function(e){return te(e)}))}(e):"object"===(0,Q.Z)(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=te(e[n]);return t}return e}(e):e}var ne=te;function re(e){return b(e)}function ie(e,t){return X(e,t)}function ae(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=ee(e,t,n,r);return i}function oe(e,t){var n={};return t.forEach((function(t){var r=ie(e,t);n=ae(n,t,r)})),n}function se(e,t){return e&&e.some((function(e){return de(e,t)}))}function le(e){return"object"===(0,Q.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function ce(e,t){var n=Array.isArray(e)?(0,l.Z)(e):(0,s.Z)({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=le(r)&&le(i);n[e]=a?ce(r,i||{}):ne(i)})),n):n}function ue(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return ce(e,t)}),e)}function de(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function pe(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,Q.Z)(t.target)&&e in t.target?t.target[e]:t}function fe(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat((0,l.Z)(e.slice(0,n)),[i],(0,l.Z)(e.slice(n,t)),(0,l.Z)(e.slice(t+1,r))):a<0?[].concat((0,l.Z)(e.slice(0,t)),(0,l.Z)(e.slice(t+1,n+1)),[i],(0,l.Z)(e.slice(n+1,r))):e}var he=K;function ge(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var me="CODE_LOGIC_ERROR";function ve(e,t,n,r,i){return ye.apply(this,arguments)}function ye(){return ye=(0,w.Z)((0,x.Z)().mark((function e(t,n,i,a,c){var u,d,p,f,h,g,m,v,y;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(u=(0,s.Z)({},i)).ruleIndex,u.validator&&(d=u.validator,u.validator=function(){try{return d.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(me)}}),p=null,u&&"array"===u.type&&u.defaultField&&(p=u.defaultField,delete u.defaultField),f=new he((0,o.Z)({},t,[u])),h=ue({},G,a.validateMessages),f.messages(h),g=[],e.prev=9,e.next=12,Promise.resolve(f.validate((0,o.Z)({},t,n),(0,s.Z)({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(g=e.t0.errors.map((function(e,t){var n=e.message,i=n===me?h.default:n;return r.isValidElement(i)?r.cloneElement(i,{key:"error_".concat(t)}):i})));case 17:if(g.length||!p){e.next=22;break}return e.next=20,Promise.all(n.map((function(e,n){return ve("".concat(t,".").concat(n),e,p,a,c)})));case 20:return m=e.sent,e.abrupt("return",m.reduce((function(e,t){return[].concat((0,l.Z)(e),(0,l.Z)(t))}),[]));case 22:return v=(0,s.Z)((0,s.Z)({},i),{},{name:t,enum:(i.enum||[]).join(", ")},c),y=g.map((function(e){return"string"===typeof e?ge(e,v):e})),e.abrupt("return",y);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),ye.apply(this,arguments)}function be(e,t,n,r,i,a){var o,l=e.join("."),c=n.map((function(e,t){var n=e.validator,r=(0,s.Z)((0,s.Z)({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){(0,g.ZP)(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,(0,g.ZP)(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=(0,w.Z)((0,x.Z)().mark((function e(n,i){var o,s,u;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<c.length)){e.next=12;break}return s=c[o],e.next=5,ve(l,t,s,r,a);case 5:if(!(u=e.sent).length){e.next=9;break}return i([{errors:u,rule:s}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var u=c.map((function(e){return ve(l,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return we.apply(this,arguments)}(u):function(e){return xe.apply(this,arguments)}(u)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function xe(){return(xe=(0,w.Z)((0,x.Z)().mark((function e(t){return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,l.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=(0,w.Z)((0,x.Z)().mark((function e(t){var n;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke=["name"],_e=[];function Ce(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var je=function(e){(0,p.Z)(n,e);var t=(0,f.Z)(n);function n(e){var i;((0,c.Z)(this,n),(i=t.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=_e,i.warnings=_e,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,re(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat((0,l.Z)(r),(0,l.Z)(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t((0,s.Z)((0,s.Z)({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,s=void 0===o?[]:o,l=r.onReset,c=n.store,u=i.getNamePath(),d=i.getValue(e),p=i.getValue(c),f=t&&se(t,u);switch("valueUpdate"===n.type&&"external"===n.source&&d!==p&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=_e,i.warnings=_e,i.triggerMetaEvent()),n.type){case"reset":if(!t||f)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=_e,i.warnings=_e,i.triggerMetaEvent(),null===l||void 0===l||l(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(f){var h=n.data;return"touched"in h&&(i.touched=h.touched),"validating"in h&&!("originRCField"in h)&&(i.validatePromise=h.validating?Promise.resolve([]):null),"errors"in h&&(i.errors=h.errors||_e),"warnings"in h&&(i.warnings=h.warnings||_e),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!u.length&&Ce(a,e,c,d,p,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(re).some((function(e){return se(n.relatedFields,e)})))return void i.reRender();break;default:if(f||(!s.length||u.length||a)&&Ce(a,e,c,d,p,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,s=void 0!==o&&o,c=a.messageVariables,u=(e||{}).triggerName,d=i.getRules();u&&(d=d.filter((function(e){var t=e.validateTrigger;return!t||b(t).includes(u)})));var p=be(t,n,d,e,s,c);return p.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;if(i.validatePromise===r){var t;i.validatePromise=null;var n=[],a=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?_e:r;t?a.push.apply(a,(0,l.Z)(i)):n.push.apply(n,(0,l.Z)(i))})),i.errors=n,i.warnings=a,i.triggerMetaEvent(),i.reRender()}})),p}));return i.validatePromise=r,i.dirty=!0,i.errors=_e,i.warnings=_e,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(m).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var t=i.getMeta();return(0,s.Z)((0,s.Z)({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var n=(0,h.Z)(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return ie(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,l=t.normalize,c=t.valuePropName,u=t.getValueProps,d=t.fieldContext,p=void 0!==r?r:d.validateTrigger,f=i.getNamePath(),h=d.getInternalHooks,g=d.getFieldsValue,v=h(m),y=v.dispatch,x=i.getValue(),w=u||function(e){return(0,o.Z)({},c,e)},k=e[n],_=(0,s.Z)((0,s.Z)({},e),w(x));_[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):pe.apply(void 0,[c].concat(n)),l&&(e=l(e,x,g(!0))),y({type:"updateValue",namePath:f,value:e}),k&&k.apply(void 0,n)};var C=b(p||[]);return C.forEach((function(e){var t=_[e];_[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&y({type:"validateField",namePath:f,triggerName:e})}})),_},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(m).initEntityValue)((0,d.Z)(i));return i}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(m).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),a=i.child;return i.isFunction?e=a:r.isValidElement(a)?e=r.cloneElement(a,this.getControlled(a.props)):((0,g.ZP)(!a,"`children` of Field is not validate ReactElement."),e=a),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);je.contextType=y,je.defaultProps={trigger:"onChange",valuePropName:"value"};var Se=function(e){var t=e.name,n=(0,a.Z)(e,ke),o=r.useContext(y),s=void 0!==t?re(t):void 0,l="keep";return n.isListField||(l="_".concat((s||[]).join("_"))),r.createElement(je,(0,i.Z)({key:l,name:s},n,{fieldContext:o}))},Ze=r.createContext(null),Ne=function(e){var t=e.name,n=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,c=r.useContext(y),u=r.useRef({keys:[],id:0}).current,d=r.useMemo((function(){var e=re(c.prefixName)||[];return[].concat((0,l.Z)(e),(0,l.Z)(re(t)))}),[c.prefixName,t]),p=r.useMemo((function(){return(0,s.Z)((0,s.Z)({},c),{},{prefixName:d})}),[c,d]),f=r.useMemo((function(){return{getKey:function(e){var t=d.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[d]);if("function"!==typeof i)return(0,g.ZP)(!1,"Form.List only accepts function as children."),null;return r.createElement(Ze.Provider,{value:f},r.createElement(y.Provider,{value:p},r.createElement(Se,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=c.getFieldValue,s=function(){return o(d||[])||[]},p={add:function(e,t){var n=s();t>=0&&t<=n.length?(u.keys=[].concat((0,l.Z)(u.keys.slice(0,t)),[u.id],(0,l.Z)(u.keys.slice(t))),a([].concat((0,l.Z)(n.slice(0,t)),[e],(0,l.Z)(n.slice(t))))):(u.keys=[].concat((0,l.Z)(u.keys),[u.id]),a([].concat((0,l.Z)(n),[e]))),u.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(u.keys=fe(u.keys,e,t),a(fe(n,e,t)))}}},f=r||[];return Array.isArray(f)||(f=[]),i(f.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),p,t)}))))},Ee=n(29439);var Oe="__@field_split__";function Ae(e){return e.map((function(e){return"".concat((0,Q.Z)(e),":").concat(e)})).join(Oe)}var Te=function(){function e(){(0,c.Z)(this,e),this.kvs=new Map}return(0,u.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(Ae(e),t)}},{key:"get",value:function(e){return this.kvs.get(Ae(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Ae(e))}},{key:"map",value:function(e){return(0,l.Z)(this.kvs.entries()).map((function(t){var n=(0,Ee.Z)(t,2),r=n[0],i=n[1],a=r.split(Oe);return e({key:a.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,Ee.Z)(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),Pe=Te,Me=["name","errors"],Ie=(0,u.Z)((function e(t){var n=this;(0,c.Z)(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===m?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):((0,g.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=ue({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=ae(i,n,ie(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new Pe;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=ie(n.initialValues,e);return e.length?ne(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Pe;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=re(e);return t.get(n)||{INVALIDATE_NAME_PATH:re(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),oe(n.store,i.map(re))},this.getFieldValue=function(e){n.warningUnhooked();var t=re(e);return ie(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:re(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=re(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=re(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(re),s=!1):(i=null,s=a):(i=a.map(re),s=o);var c=n.getFieldEntities(!0),u=function(e){return e.isFieldTouched()};if(!i)return s?c.every(u):c.some(u);var d=new Pe;i.forEach((function(e){d.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&d.update(n,(function(t){return[].concat((0,l.Z)(t),[e])}))}))}));var p=function(e){return e.some(u)},f=d.map((function(e){return e.value}));return s?f.every(p):f.some(p)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(re);return t.some((function(e){var t=e.getNamePath();return se(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Pe,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))(0,g.ZP)(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)(0,g.ZP)(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||n.updateStore(ae(n.store,i,(0,l.Z)(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,(0,l.Z)((0,l.Z)(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(ue({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(re);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(ae(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,o=(e.errors,(0,a.Z)(e,Me)),s=re(i);r.push(s),"value"in o&&n.updateStore(ae(n.store,s,o.value)),n.notifyObservers(t,[s],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=e.getMeta(),i=(0,s.Z)((0,s.Z)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===ie(n.store,r)&&n.updateStore(ae(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||a.length>1)){var o=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==o&&n.fieldEntities.every((function(e){return!de(e.getNamePath(),t)}))){var s=n.store;n.updateStore(ae(s,t,o,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=(0,s.Z)((0,s.Z)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,l.Z)(r))}),r},this.updateValue=function(e,t){var r=re(e),i=n.store;n.updateStore(ae(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(i,r),o=n.callbacks.onValuesChange;o&&o(oe(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,l.Z)(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=ue(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new Pe;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=re(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new Pe;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return se(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(re):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var c=o.getNamePath();c.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(c)}if(o.props.rules&&o.props.rules.length){var u=o.getNamePath();if(!r||se(i,u)){var d=o.validateRules((0,s.Z)({validateMessages:(0,s.Z)((0,s.Z)({},G),n.validateMessages)},t));a.push(d.then((function(){return{name:u,errors:[],warnings:[]}})).catch((function(e){var t,n=[],r=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?r.push.apply(r,(0,l.Z)(i)):n.push.apply(n,(0,l.Z)(i))})),n.length?Promise.reject({name:u,errors:n,warnings:r}):{name:u,errors:n,warnings:r}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var c=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return c.catch((function(e){return e})),c},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var De=function(e){var t=r.useRef(),n=r.useState({}),i=(0,Ee.Z)(n,2)[1];if(!t.current)if(e)t.current=e;else{var a=new Ie((function(){i({})}));t.current=a.getForm()}return[t.current]},Le=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Re=function(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,a=e.children,l=r.useContext(Le),c=r.useRef({});return r.createElement(Le.Provider,{value:(0,s.Z)((0,s.Z)({},l),{},{validateMessages:(0,s.Z)((0,s.Z)({},l.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:c.current}),l.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:c.current}),l.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(c.current=(0,s.Z)((0,s.Z)({},c.current),{},(0,o.Z)({},e,t))),l.registerForm(e,t)},unregisterForm:function(e){var t=(0,s.Z)({},c.current);delete t[e],c.current=t,l.unregisterForm(e)}})},a)},Be=Le,Fe=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],ze=function(e,t){var n=e.name,o=e.initialValues,c=e.fields,u=e.form,d=e.preserve,p=e.children,f=e.component,h=void 0===f?"form":f,g=e.validateMessages,v=e.validateTrigger,b=void 0===v?"onChange":v,x=e.onValuesChange,w=e.onFieldsChange,k=e.onFinish,_=e.onFinishFailed,C=(0,a.Z)(e,Fe),j=r.useContext(Be),S=De(u),Z=(0,Ee.Z)(S,1)[0],N=Z.getInternalHooks(m),E=N.useSubscribe,O=N.setInitialValues,A=N.setCallbacks,T=N.setValidateMessages,P=N.setPreserve,M=N.destroyForm;r.useImperativeHandle(t,(function(){return Z})),r.useEffect((function(){return j.registerForm(n,Z),function(){j.unregisterForm(n)}}),[j,Z,n]),T((0,s.Z)((0,s.Z)({},j.validateMessages),g)),A({onValuesChange:x,onFieldsChange:function(e){if(j.triggerFormChange(n,e),w){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];w.apply(void 0,[e].concat(r))}},onFinish:function(e){j.triggerFormFinish(n,e),k&&k(e)},onFinishFailed:_}),P(d);var I,D=r.useRef(null);O(o,!D.current),D.current||(D.current=!0),r.useEffect((function(){return M}),[]);var L="function"===typeof p;L?I=p(Z.getFieldsValue(!0),Z):I=p;E(!L);var R=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,Q.Z)(e)||"object"!==(0,Q.Z)(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(n,r));return(0,l.Z)(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(R.current||[],c||[])||Z.setFields(c||[]),R.current=c}),[c,Z]);var B=r.useMemo((function(){return(0,s.Z)((0,s.Z)({},Z),{},{validateTrigger:b})}),[Z,b]),F=r.createElement(y.Provider,{value:B},I);return!1===h?F:r.createElement(h,(0,i.Z)({},C,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),Z.submit()},onReset:function(e){var t;e.preventDefault(),Z.resetFields(),null===(t=C.onReset)||void 0===t||t.call(C,e)}}),F)};function Ve(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=(0,r.useState)(),i=(0,Ee.Z)(n,2),a=i[0],o=i[1],s=(0,r.useMemo)((function(){return Ve(a)}),[a]),l=(0,r.useRef)(s);l.current=s;var c=(0,r.useContext)(y),u=t||c,d=u&&u._init,p=re(e),f=(0,r.useRef)(p);return f.current=p,(0,r.useEffect)((function(){if(d){var e=u.getFieldsValue,t=(0,(0,u.getInternalHooks)(m).registerWatch)((function(e){var t=ie(e,f.current),n=Ve(t);l.current!==n&&(l.current=n,o(t))})),n=ie(e(),f.current);return o(n),t}}),[]),a},He=r.forwardRef(ze);He.FormProvider=Re,He.Field=Se,He.List=Ne,He.useForm=De,He.useWatch=Ue;var We=He},56891:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r=n(87462),i=n(1413),a=n(4942),o=n(29439),s=n(71002),l=n(45987),c=n(47313),u=n(46123),d=n.n(u),p=n(247),f=n(10288),h=n(19983),g=n(63921),m=n(49242),v=n(48240),y=n(95557);function b(e,t,n,r){var i=t+n,o=(n-r)/2;if(n>r){if(t>0)return(0,a.Z)({},e,o);if(t<0&&i<r)return(0,a.Z)({},e,-o)}else if(t<0||i>r)return(0,a.Z)({},e,t<0?o:-o);return{}}var x=["visible","onVisibleChange","getContainer","current","countRender"],w=c.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),k=w.Provider,_=function(e){var t=e.previewPrefixCls,n=void 0===t?"rc-image-preview":t,i=e.children,a=e.icons,u=void 0===a?{}:a,d=e.preview,p="object"===(0,s.Z)(d)?d:{},h=p.visible,g=void 0===h?void 0:h,m=p.onVisibleChange,v=void 0===m?void 0:m,y=p.getContainer,b=void 0===y?void 0:y,w=p.current,_=void 0===w?0:w,C=p.countRender,j=void 0===C?void 0:C,S=(0,l.Z)(p,x),Z=(0,c.useState)(new Map),N=(0,o.Z)(Z,2),E=N[0],O=N[1],T=(0,c.useState)(),P=(0,o.Z)(T,2),M=P[0],I=P[1],D=(0,f.Z)(!!g,{value:g,onChange:v}),L=(0,o.Z)(D,2),R=L[0],B=L[1],F=(0,c.useState)(null),z=(0,o.Z)(F,2),V=z[0],U=z[1],H=void 0!==g,W=Array.from(E.keys())[_],q=new Map(Array.from(E).filter((function(e){return!!(0,o.Z)(e,2)[1].canPreview})).map((function(e){var t=(0,o.Z)(e,2);return[t[0],t[1].url]})));return c.useEffect((function(){I(W)}),[W]),c.useEffect((function(){!R&&H&&I(W)}),[W,H,R]),c.createElement(k,{value:{isPreviewGroup:!0,previewUrls:q,setPreviewUrls:O,current:M,setCurrent:I,setShowPreview:B,setMousePosition:U,registerImage:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=function(){O((function(t){var n=new Map(t);return n.delete(e)?n:t}))};return O((function(r){return new Map(r).set(e,{url:t,canPreview:n})})),r}}},i,c.createElement(A,(0,r.Z)({"aria-hidden":!R,visible:R,prefixCls:n,onClose:function(e){e.stopPropagation(),B(!1),U(null)},mousePosition:V,src:q.get(M),icons:u,getContainer:b,countRender:j},S)))},C=["prefixCls","src","alt","onClose","afterClose","visible","icons","rootClassName","countRender"],j=c.useState,S=c.useEffect,Z=c.useCallback,N=c.useRef,E=c.useContext,O={x:0,y:0},A=function(e){var t,n=e.prefixCls,s=e.src,u=e.alt,f=e.onClose,x=(e.afterClose,e.visible),k=e.icons,_=void 0===k?{}:k,A=e.rootClassName,T=e.countRender,P=(0,l.Z)(e,C),M=_.rotateLeft,I=_.rotateRight,D=_.zoomIn,L=_.zoomOut,R=_.close,B=_.left,F=_.right,z=j(1),V=(0,o.Z)(z,2),U=V[0],H=V[1],W=j(0),q=(0,o.Z)(W,2),K=q[0],Y=q[1],G=function(e){var t=c.useRef(null),n=c.useState(e),r=(0,o.Z)(n,2),a=r[0],s=r[1],l=c.useRef([]);return c.useEffect((function(){return function(){return t.current&&y.Z.cancel(t.current)}}),[]),[a,function(e){null===t.current&&(l.current=[],t.current=(0,y.Z)((function(){s((function(e){var n=e;return l.current.forEach((function(e){n=(0,i.Z)((0,i.Z)({},n),e)})),t.current=null,n}))}))),l.current.push(e)}]}(O),Q=(0,o.Z)(G,2),X=Q[0],$=Q[1],J=N(),ee=N({originX:0,originY:0,deltaX:0,deltaY:0}),te=j(!1),ne=(0,o.Z)(te,2),re=ne[0],ie=ne[1],ae=E(w),oe=ae.previewUrls,se=ae.current,le=ae.isPreviewGroup,ce=ae.setCurrent,ue=oe.size,de=Array.from(oe.keys()),pe=de.indexOf(se),fe=le?oe.get(se):s,he=le&&ue>1,ge=j({wheelDirection:0}),me=(0,o.Z)(ge,2),ve=me[0],ye=me[1],be=function(){H((function(e){return e+1})),$(O)},xe=function(){U>1&&H((function(e){return e-1})),$(O)},we=d()((0,a.Z)({},"".concat(n,"-moving"),re)),ke="".concat(n,"-operations-operation"),_e="".concat(n,"-operations-icon"),Ce=[{icon:R,onClick:f,type:"close"},{icon:D,onClick:be,type:"zoomIn"},{icon:L,onClick:xe,type:"zoomOut",disabled:1===U},{icon:I,onClick:function(){Y((function(e){return e+90}))},type:"rotateRight"},{icon:M,onClick:function(){Y((function(e){return e-90}))},type:"rotateLeft"}],je=function(){if(x&&re){var e=J.current.offsetWidth*U,t=J.current.offsetHeight*U,n=J.current.getBoundingClientRect(),r=n.left,a=n.top,o=K%180!==0;ie(!1);var s=function(e,t,n,r){var a=(0,p.g1)(),o=a.width,s=a.height,l=null;return e<=o&&t<=s?l={x:0,y:0}:(e>o||t>s)&&(l=(0,i.Z)((0,i.Z)({},b("x",n,e,o)),b("y",r,t,s))),l}(o?t:e,o?e:t,r,a);s&&$((0,i.Z)({},s))}},Se=function(e){x&&re&&$({x:e.pageX-ee.current.deltaX,y:e.pageY-ee.current.deltaY})},Ze=function(e){if(x){e.preventDefault();var t=e.deltaY;ye({wheelDirection:t})}},Ne=Z((function(e){x&&he&&(e.preventDefault(),e.keyCode===m.Z.LEFT?pe>0&&ce(de[pe-1]):e.keyCode===m.Z.RIGHT&&pe<ue-1&&ce(de[pe+1]))}),[pe,ue,de,ce,he,x]);return S((function(){var e=ve.wheelDirection;e>0?xe():e<0&&be()}),[ve]),S((function(){var e,t,n=(0,g.Z)(window,"mouseup",je,!1),r=(0,g.Z)(window,"mousemove",Se,!1),i=(0,g.Z)(window,"wheel",Ze,{passive:!1}),a=(0,g.Z)(window,"keydown",Ne,!1);try{window.top!==window.self&&(e=(0,g.Z)(window.top,"mouseup",je,!1),t=(0,g.Z)(window.top,"mousemove",Se,!1))}catch(o){(0,v.Kp)(!1,"[rc-image] ".concat(o))}return function(){n.remove(),r.remove(),i.remove(),a.remove(),e&&e.remove(),t&&t.remove()}}),[x,re,Ne]),c.createElement(h.default,(0,r.Z)({transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:n,onClose:f,afterClose:function(){H(1),Y(0),$(O)},visible:x,wrapClassName:we,rootClassName:A},P),c.createElement("ul",{className:"".concat(n,"-operations")},he&&c.createElement("li",{className:"".concat(n,"-operations-progress")},null!==(t=null===T||void 0===T?void 0:T(pe+1,ue))&&void 0!==t?t:"".concat(pe+1," / ").concat(ue)),Ce.map((function(e){var t=e.icon,r=e.onClick,i=e.type,o=e.disabled;return c.createElement("li",{className:d()(ke,(0,a.Z)({},"".concat(n,"-operations-operation-disabled"),!!o)),onClick:r,key:i},c.isValidElement(t)?c.cloneElement(t,{className:_e}):t)}))),c.createElement("div",{className:"".concat(n,"-img-wrapper"),style:{transform:"translate3d(".concat(X.x,"px, ").concat(X.y,"px, 0)")}},c.createElement("img",{width:e.width,height:e.height,onMouseDown:function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),ee.current.deltaX=e.pageX-X.x,ee.current.deltaY=e.pageY-X.y,ee.current.originX=X.x,ee.current.originY=X.y,ie(!0))},onDoubleClick:function(){x&&(1!==U&&H(1),X.x===O.x&&X.y===O.y||$(O))},ref:J,className:"".concat(n,"-img"),src:fe,alt:u,style:{transform:"scale3d(".concat(U,", ").concat(U,", 1) rotate(").concat(K,"deg)")}})),he&&c.createElement("div",{className:d()("".concat(n,"-switch-left"),(0,a.Z)({},"".concat(n,"-switch-left-disabled"),0===pe)),onClick:function(e){e.preventDefault(),e.stopPropagation(),pe>0&&ce(de[pe-1])}},B),he&&c.createElement("div",{className:d()("".concat(n,"-switch-right"),(0,a.Z)({},"".concat(n,"-switch-right-disabled"),pe===ue-1)),onClick:function(e){e.preventDefault(),e.stopPropagation(),pe<ue-1&&ce(de[pe+1])}},F))},T=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],P=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons"],M=0,I=function(e){var t,n=e.src,u=e.alt,h=e.onPreviewClose,g=e.prefixCls,m=void 0===g?"rc-image":g,v=e.previewPrefixCls,y=void 0===v?"".concat(m,"-preview"):v,b=e.placeholder,x=e.fallback,k=e.width,_=e.height,C=e.style,j=e.preview,S=void 0===j||j,Z=e.className,N=e.onClick,E=e.onError,O=e.wrapperClassName,I=e.wrapperStyle,D=e.rootClassName,L=e.crossOrigin,R=e.decoding,B=e.loading,F=e.referrerPolicy,z=e.sizes,V=e.srcSet,U=e.useMap,H=e.draggable,W=(0,l.Z)(e,T),q=b&&!0!==b,K="object"===(0,s.Z)(S)?S:{},Y=K.src,G=K.visible,Q=void 0===G?void 0:G,X=K.onVisibleChange,$=void 0===X?h:X,J=K.getContainer,ee=void 0===J?void 0:J,te=K.mask,ne=K.maskClassName,re=K.icons,ie=(0,l.Z)(K,P),ae=null!==Y&&void 0!==Y?Y:n,oe=void 0!==Q,se=(0,f.Z)(!!Q,{value:Q,onChange:$}),le=(0,o.Z)(se,2),ce=le[0],ue=le[1],de=(0,c.useState)(q?"loading":"normal"),pe=(0,o.Z)(de,2),fe=pe[0],he=pe[1],ge=(0,c.useState)(null),me=(0,o.Z)(ge,2),ve=me[0],ye=me[1],be="error"===fe,xe=c.useContext(w),we=xe.isPreviewGroup,ke=xe.setCurrent,_e=xe.setShowPreview,Ce=xe.setMousePosition,je=xe.registerImage,Se=c.useState((function(){return M+=1})),Ze=(0,o.Z)(Se,1)[0],Ne=S&&!be,Ee=c.useRef(!1),Oe=function(){he("normal")};c.useEffect((function(){return je(Ze,ae)}),[]),c.useEffect((function(){je(Ze,ae,Ne)}),[ae,Ne]),c.useEffect((function(){be&&he("normal"),q&&!Ee.current&&he("loading")}),[n]);var Ae=d()(m,O,D,(0,a.Z)({},"".concat(m,"-error"),be)),Te=be&&x?x:ae,Pe={crossOrigin:L,decoding:R,draggable:H,loading:B,referrerPolicy:F,sizes:z,srcSet:V,useMap:U,alt:u,className:d()("".concat(m,"-img"),(0,a.Z)({},"".concat(m,"-img-placeholder"),!0===b),Z),style:(0,i.Z)({height:_},C)};return c.createElement(c.Fragment,null,c.createElement("div",(0,r.Z)({},W,{className:Ae,onClick:Ne?function(e){if(!oe){var t=(0,p.os)(e.target),n=t.left,r=t.top;we?(ke(Ze),Ce({x:n,y:r})):ye({x:n,y:r})}we?_e(!0):ue(!0),N&&N(e)}:N,style:(0,i.Z)({width:k,height:_},I)}),c.createElement("img",(0,r.Z)({},Pe,{ref:function(e){Ee.current=!1,"loading"===fe&&(null===e||void 0===e?void 0:e.complete)&&(e.naturalWidth||e.naturalHeight)&&(Ee.current=!0,Oe())}},be&&x?{src:x}:{onLoad:Oe,onError:function(e){E&&E(e),he("error")},src:n},{width:k,height:_})),"loading"===fe&&c.createElement("div",{"aria-hidden":"true",className:"".concat(m,"-placeholder")},b),te&&Ne&&c.createElement("div",{className:d()("".concat(m,"-mask"),ne),style:{display:"none"===(null===(t=Pe.style)||void 0===t?void 0:t.display)?"none":void 0}},te)),!we&&Ne&&c.createElement(A,(0,r.Z)({"aria-hidden":!ce,visible:ce,prefixCls:y,onClose:function(e){e.stopPropagation(),ue(!1),oe||ye(null)},mousePosition:ve,src:Te,alt:u,getContainer:ee,icons:re,rootClassName:D},ie)))};I.PreviewGroup=_,I.displayName="Image";var D=I},3576:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(87462),i=n(4942),a=n(71002),o=n(29439),s=n(45987),l=n(47313),c=n(46123),u=n.n(c),d=n(49242),p=n(72846),f=n(16945),h=n(15671),g=n(43144);function m(){return"function"===typeof BigInt}function v(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),a=i[0]||"0",o=i[1]||"0";"0"===a&&"0"===o&&(n=!1);var s=n?"-":"";return{negative:n,negativeStr:s,trimStr:r,integerStr:a,decimalStr:o,fullStr:"".concat(s).concat(r)}}function y(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function b(e){var t=String(e);if(y(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return(null===r||void 0===r?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&w(t)?t.length-t.indexOf(".")-1:0}function x(e){var t=String(e);if(y(e)){if(e>Number.MAX_SAFE_INTEGER)return String(m()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(m()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(b(t))}return v(t).fullStr}function w(e){return"number"===typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}function k(e){var t="number"===typeof e?x(e):v(e).fullStr;return t.includes(".")?v(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var _=function(){function e(t){(0,h.Z)(this,e),this.origin="",this.number=void 0,this.empty=void 0,(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return(0,g.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(b(this.number),b(n));return new e(r.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null===e||void 0===e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":x(this.number):this.origin}}]),e}(),C=function(){function e(t){if((0,h.Z)(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(y(n)&&(n=Number(n)),w(n="string"===typeof n?n:x(n))){var r=v(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var a=i[1]||"0";this.decimal=BigInt(a),this.decimalLen=a.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return(0,g.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),i=v((this.alignDecimal(r)+n.alignDecimal(r)).toString()),a=i.negativeStr,o=i.trimStr,s="".concat(a).concat(o.padStart(r+1,"0"));return new e("".concat(s.slice(0,-r),".").concat(s.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null===e||void 0===e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":v("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function j(e){return m()?new C(e):new _(e)}function S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var i=v(e),a=i.negativeStr,o=i.integerStr,s=i.decimalStr,l="".concat(t).concat(s),c="".concat(a).concat(o);if(n>=0){var u=Number(s[n]);if(u>=5&&!r){var d=j(e).add("".concat(a,"0.").concat("0".repeat(n)).concat(10-u));return S(d.toString(),t,n,r)}return 0===n?c:"".concat(c).concat(t).concat(s.padEnd(n,"0").slice(0,n))}return".0"===l?c:"".concat(c).concat(l)}var Z=n(64394);function N(e){var t=e.prefixCls,n=e.upNode,a=e.downNode,o=e.upDisabled,s=e.downDisabled,c=e.onStep,d=l.useRef(),p=l.useRef();p.current=c;var f=function(e,t){e.preventDefault(),p.current(t),d.current=setTimeout((function e(){p.current(t),d.current=setTimeout(e,200)}),600)},h=function(){clearTimeout(d.current)};if(l.useEffect((function(){return h}),[]),(0,Z.Z)())return null;var g="".concat(t,"-handler"),m=u()(g,"".concat(g,"-up"),(0,i.Z)({},"".concat(g,"-up-disabled"),o)),v=u()(g,"".concat(g,"-down"),(0,i.Z)({},"".concat(g,"-down-disabled"),s)),y={unselectable:"on",role:"button",onMouseUp:h,onMouseLeave:h};return l.createElement("div",{className:"".concat(g,"-wrap")},l.createElement("span",(0,r.Z)({},y,{onMouseDown:function(e){f(e,!0)},"aria-label":"Increase Value","aria-disabled":o,className:m}),n||l.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),l.createElement("span",(0,r.Z)({},y,{onMouseDown:function(e){f(e,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:v}),a||l.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var E=n(48240);var O=n(95557),A=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],T=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},P=function(e){var t=j(e);return t.isInvalidate()?null:t},M=l.forwardRef((function(e,t){var n,c=e.prefixCls,h=void 0===c?"rc-input-number":c,g=e.className,m=e.style,v=e.min,y=e.max,_=e.step,C=void 0===_?1:_,Z=e.defaultValue,M=e.value,I=e.disabled,D=e.readOnly,L=e.upHandler,R=e.downHandler,B=e.keyboard,F=e.controls,z=void 0===F||F,V=e.stringMode,U=e.parser,H=e.formatter,W=e.precision,q=e.decimalSeparator,K=e.onChange,Y=e.onInput,G=e.onPressEnter,Q=e.onStep,X=(0,s.Z)(e,A),$="".concat(h,"-input"),J=l.useRef(null),ee=l.useState(!1),te=(0,o.Z)(ee,2),ne=te[0],re=te[1],ie=l.useRef(!1),ae=l.useRef(!1),oe=l.useRef(!1),se=l.useState((function(){return j(null!==M&&void 0!==M?M:Z)})),le=(0,o.Z)(se,2),ce=le[0],ue=le[1];var de=l.useCallback((function(e,t){if(!t)return W>=0?W:Math.max(b(e),b(C))}),[W,C]),pe=l.useCallback((function(e){var t=String(e);if(U)return U(t);var n=t;return q&&(n=n.replace(q,".")),n.replace(/[^\w.-]+/g,"")}),[U,q]),fe=l.useRef(""),he=l.useCallback((function(e,t){if(H)return H(e,{userTyping:t,input:String(fe.current)});var n="number"===typeof e?x(e):e;if(!t){var r=de(n,t);if(w(n)&&(q||r>=0))n=S(n,q||".",r)}return n}),[H,de,q]),ge=l.useState((function(){var e=null!==Z&&void 0!==Z?Z:M;return ce.isInvalidate()&&["string","number"].includes((0,a.Z)(e))?Number.isNaN(e)?"":e:he(ce.toString(),!1)})),me=(0,o.Z)(ge,2),ve=me[0],ye=me[1];function be(e,t){ye(he(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}fe.current=ve;var xe=l.useMemo((function(){return P(y)}),[y,W]),we=l.useMemo((function(){return P(v)}),[v,W]),ke=l.useMemo((function(){return!(!xe||!ce||ce.isInvalidate())&&xe.lessEquals(ce)}),[xe,ce]),_e=l.useMemo((function(){return!(!we||!ce||ce.isInvalidate())&&ce.lessEquals(we)}),[we,ce]),Ce=function(e,t){var n=(0,l.useRef)(null);return[function(){try{var t=e.selectionStart,r=e.selectionEnd,i=e.value,a=i.substring(0,t),o=i.substring(r);n.current={start:t,end:r,value:i,beforeTxt:a,afterTxt:o}}catch(s){}},function(){if(e&&n.current&&t)try{var r=e.value,i=n.current,a=i.beforeTxt,o=i.afterTxt,s=i.start,l=r.length;if(r.endsWith(o))l=r.length-n.current.afterTxt.length;else if(r.startsWith(a))l=a.length;else{var c=a[s-1],u=r.indexOf(c,s-1);-1!==u&&(l=u+1)}e.setSelectionRange(l,l)}catch(d){(0,E.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(d.message))}}]}(J.current,ne),je=(0,o.Z)(Ce,2),Se=je[0],Ze=je[1],Ne=function(e){return xe&&!e.lessEquals(xe)?xe:we&&!we.lessEquals(e)?we:null},Ee=function(e){return!Ne(e)},Oe=function(e,t){var n,r=e,i=Ee(r)||r.isEmpty();if(r.isEmpty()||t||(r=Ne(r)||r,i=!0),!D&&!I&&i){var a=r.toString(),o=de(a,t);return o>=0&&(r=j(S(a,".",o)),Ee(r)||(r=j(S(a,".",o,!0)))),r.equals(ce)||(n=r,void 0===M&&ue(n),null===K||void 0===K||K(r.isEmpty()?null:T(V,r)),void 0===M&&be(r,t)),r}return ce},Ae=function(){var e=(0,l.useRef)(0),t=function(){O.Z.cancel(e.current)};return(0,l.useEffect)((function(){return t}),[]),function(n){t(),e.current=(0,O.Z)((function(){n()}))}}(),Te=function e(t){if(Se(),ye(t),!ae.current){var n=j(pe(t));n.isNaN()||Oe(n,!0)}null===Y||void 0===Y||Y(t),Ae((function(){var n=t;U||(n=t.replace(/\u3002/g,".")),n!==t&&e(n)}))},Pe=function(e){var t;if(!(e&&ke||!e&&_e)){ie.current=!1;var n=j(oe.current?k(C):C);e||(n=n.negate());var r=(ce||j(0)).add(n.toString()),i=Oe(r,!1);null===Q||void 0===Q||Q(T(V,i),{offset:oe.current?k(C):C,type:e?"up":"down"}),null===(t=J.current)||void 0===t||t.focus()}},Me=function(e){var t=j(pe(ve)),n=t;n=t.isNaN()?ce:Oe(t,e),void 0!==M?be(ce,!1):n.isNaN()||be(n,!1)};return(0,p.o)((function(){ce.isInvalidate()||be(ce,!1)}),[W]),(0,p.o)((function(){var e=j(M);ue(e);var t=j(pe(ve));e.equals(t)&&ie.current&&!H||be(e,ie.current)}),[M]),(0,p.o)((function(){H&&Ze()}),[ve]),l.createElement("div",{className:u()(h,g,(n={},(0,i.Z)(n,"".concat(h,"-focused"),ne),(0,i.Z)(n,"".concat(h,"-disabled"),I),(0,i.Z)(n,"".concat(h,"-readonly"),D),(0,i.Z)(n,"".concat(h,"-not-a-number"),ce.isNaN()),(0,i.Z)(n,"".concat(h,"-out-of-range"),!ce.isInvalidate()&&!Ee(ce)),n)),style:m,onFocus:function(){re(!0)},onBlur:function(){Me(!1),re(!1),ie.current=!1},onKeyDown:function(e){var t=e.which,n=e.shiftKey;ie.current=!0,oe.current=!!n,t===d.Z.ENTER&&(ae.current||(ie.current=!1),Me(!1),null===G||void 0===G||G(e)),!1!==B&&!ae.current&&[d.Z.UP,d.Z.DOWN].includes(t)&&(Pe(d.Z.UP===t),e.preventDefault())},onKeyUp:function(){ie.current=!1,oe.current=!1},onCompositionStart:function(){ae.current=!0},onCompositionEnd:function(){ae.current=!1,Te(J.current.value)}},z&&l.createElement(N,{prefixCls:h,upNode:L,downNode:R,upDisabled:ke,downDisabled:_e,onStep:Pe}),l.createElement("div",{className:"".concat($,"-wrap")},l.createElement("input",(0,r.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":v,"aria-valuemax":y,"aria-valuenow":ce.isInvalidate()?null:ce.toString(),step:C},X,{ref:(0,f.sQ)(J,t),className:$,value:ve,onChange:function(e){Te(e.target.value)},disabled:I,readOnly:D}))))}));M.displayName="InputNumber";var I=M},15381:function(e,t,n){"use strict";n.r(t),n.d(t,{BaseInput:function(){return p},default:function(){return x}});var r=n(4942),i=n(71002),a=n(47313),o=n(46123),s=n.n(o);function l(e){return!(!e.addonBefore&&!e.addonAfter)}function c(e){return!!(e.prefix||e.suffix||e.allowClear)}function u(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function d(e){return"undefined"===typeof e||null===e?"":String(e)}var p=function(e){var t=e.inputElement,n=e.prefixCls,o=e.prefix,u=e.suffix,d=e.addonBefore,p=e.addonAfter,f=e.className,h=e.style,g=e.affixWrapperClassName,m=e.groupClassName,v=e.wrapperClassName,y=e.disabled,b=e.readOnly,x=e.focused,w=e.triggerFocus,k=e.allowClear,_=e.value,C=e.handleReset,j=e.hidden,S=(0,a.useRef)(null),Z=(0,a.cloneElement)(t,{value:_,hidden:j});if(c(e)){var N,E="".concat(n,"-affix-wrapper"),O=s()(E,(N={},(0,r.Z)(N,"".concat(E,"-disabled"),y),(0,r.Z)(N,"".concat(E,"-focused"),x),(0,r.Z)(N,"".concat(E,"-readonly"),b),(0,r.Z)(N,"".concat(E,"-input-with-clear-btn"),u&&k&&_),N),!l(e)&&f,g),A=(u||k)&&a.createElement("span",{className:"".concat(n,"-suffix")},function(){var e;if(!k)return null;var t=!y&&!b&&_,o="".concat(n,"-clear-icon"),l="object"===(0,i.Z)(k)&&(null===k||void 0===k?void 0:k.clearIcon)?k.clearIcon:"\u2716";return a.createElement("span",{onClick:C,onMouseDown:function(e){return e.preventDefault()},className:s()(o,(e={},(0,r.Z)(e,"".concat(o,"-hidden"),!t),(0,r.Z)(e,"".concat(o,"-has-suffix"),!!u),e)),role:"button",tabIndex:-1},l)}(),u);Z=a.createElement("span",{className:O,style:h,hidden:!l(e)&&j,onMouseDown:function(e){var t;(null===(t=S.current)||void 0===t?void 0:t.contains(e.target))&&(null===w||void 0===w||w())},ref:S},o&&a.createElement("span",{className:"".concat(n,"-prefix")},o),(0,a.cloneElement)(t,{style:null,value:_,hidden:null}),A)}if(l(e)){var T="".concat(n,"-group"),P="".concat(T,"-addon"),M=s()("".concat(n,"-wrapper"),T,v),I=s()("".concat(n,"-group-wrapper"),f,m);return a.createElement("span",{className:I,style:h,hidden:j},a.createElement("span",{className:M},d&&a.createElement("span",{className:P},d),(0,a.cloneElement)(Z,{style:null,hidden:null}),p&&a.createElement("span",{className:P},p)))}return Z},f=n(93433),h=n(1413),g=n(29439),m=n(45987),v=n(205),y=n(10288),b=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],x=(0,a.forwardRef)((function(e,t){var n=e.autoComplete,o=e.onChange,x=e.onFocus,w=e.onBlur,k=e.onPressEnter,_=e.onKeyDown,C=e.prefixCls,j=void 0===C?"rc-input":C,S=e.disabled,Z=e.htmlSize,N=e.className,E=e.maxLength,O=e.suffix,A=e.showCount,T=e.type,P=void 0===T?"text":T,M=e.inputClassName,I=(0,m.Z)(e,b),D=(0,y.Z)(e.defaultValue,{value:e.value}),L=(0,g.Z)(D,2),R=L[0],B=L[1],F=(0,a.useState)(!1),z=(0,g.Z)(F,2),V=z[0],U=z[1],H=(0,a.useRef)(null),W=function(e){H.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(H.current,e)};(0,a.useImperativeHandle)(t,(function(){return{focus:W,blur:function(){var e;null===(e=H.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=H.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=H.current)||void 0===e||e.select()},input:H.current}})),(0,a.useEffect)((function(){U((function(e){return(!e||!S)&&e}))}),[S]);var q=function(t){void 0===e.value&&B(t.target.value),H.current&&u(H.current,t,o)},K=function(e){k&&"Enter"===e.key&&k(e),null===_||void 0===_||_(e)},Y=function(e){U(!0),null===x||void 0===x||x(e)},G=function(e){U(!1),null===w||void 0===w||w(e)};return a.createElement(p,(0,h.Z)((0,h.Z)({},I),{},{prefixCls:j,className:N,inputElement:function(){var t=(0,v.Z)(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return a.createElement("input",(0,h.Z)((0,h.Z)({autoComplete:n},t),{},{onChange:q,onFocus:Y,onBlur:G,onKeyDown:K,className:s()(j,(0,r.Z)({},"".concat(j,"-disabled"),S),M,!l(e)&&!c(e)&&N),ref:H,size:Z,type:P}))}(),handleReset:function(e){B(""),W(),H.current&&u(H.current,e,o)},value:d(R),focused:V,triggerFocus:W,suffix:function(){var e=Number(E)>0;if(O||A){var t=(0,f.Z)(d(R)).length,n="object"===(0,i.Z)(A)?A.formatter({count:t,maxLength:E}):"".concat(t).concat(e?" / ".concat(E):"");return a.createElement(a.Fragment,null,!!A&&a.createElement("span",{className:s()("".concat(j,"-show-count-suffix"),(0,r.Z)({},"".concat(j,"-show-count-has-suffix"),!!O))},n),O)}return null}(),disabled:S}))}))},74224:function(e,t,n){"use strict";n.r(t),n.d(t,{Divider:function(){return He},Item:function(){return K},ItemGroup:function(){return Ue},MenuItem:function(){return K},MenuItemGroup:function(){return Ue},SubMenu:function(){return ye},default:function(){return Ke},useFullPath:function(){return We}});var r=n(87462),i=n(4942),a=n(1413),o=n(93433),s=n(29439),l=n(45987),c=n(47313),u=n(46123),d=n.n(u),p=n(59767),f=n.n(p),h=n(10288),g=n(48240),m=n(15596),v=n(15671),y=n(43144),b=n(60136),x=n(27277),w=n(49242),k=n(205),_=n(40727),C=["children","locked"],j=c.createContext(null);function S(e){var t=e.children,n=e.locked,r=(0,l.Z)(e,C),i=c.useContext(j),o=(0,_.Z)((function(){return function(e,t){var n=(0,a.Z)({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(i,r)}),[i,r],(function(e,t){return!n&&(e[0]!==t[0]||!f()(e[1],t[1]))}));return c.createElement(j.Provider,{value:o},t)}function Z(e,t,n,r){var i=c.useContext(j),a=i.activeKey,o=i.onActive,s=i.onInactive,l={active:a===e};return t||(l.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),o(e)},l.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),s(e)}),l}var N=["item"];function E(e){var t=e.item,n=(0,l.Z)(e,N);return Object.defineProperty(n,"item",{get:function(){return(0,g.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function O(e){var t=e.icon,n=e.props,r=e.children;return("function"===typeof t?c.createElement(t,(0,a.Z)({},n)):t)||r||null}function A(e){var t=c.useContext(j),n=t.mode,r=t.rtl,i=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*i}:{paddingLeft:e*i}}var T=[],P=c.createContext(null);function M(){return c.useContext(P)}var I=c.createContext(T);function D(e){var t=c.useContext(I);return c.useMemo((function(){return void 0!==e?[].concat((0,o.Z)(t),[e]):t}),[t,e])}var L=c.createContext(null),R=c.createContext(null);function B(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function F(e){return B(c.useContext(R),e)}var z=c.createContext({}),V=["title","attribute","elementRef"],U=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],H=["active"],W=function(e){(0,b.Z)(n,e);var t=(0,x.Z)(n);function n(){return(0,v.Z)(this,n),t.apply(this,arguments)}return(0,y.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,i=e.elementRef,a=(0,l.Z)(e,V),o=(0,k.Z)(a,["eventKey"]);return(0,g.ZP)(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),c.createElement(m.Z.Item,(0,r.Z)({},n,{title:"string"===typeof t?t:void 0},o,{ref:i}))}}]),n}(c.Component),q=function(e){var t,n=e.style,s=e.className,u=e.eventKey,p=(e.warnKey,e.disabled),f=e.itemIcon,h=e.children,g=e.role,m=e.onMouseEnter,v=e.onMouseLeave,y=e.onClick,b=e.onKeyDown,x=e.onFocus,k=(0,l.Z)(e,U),_=F(u),C=c.useContext(j),S=C.prefixCls,N=C.onItemClick,T=C.disabled,P=C.overflowDisabled,M=C.itemIcon,I=C.selectedKeys,L=C.onActive,R=c.useContext(z)._internalRenderMenuItem,B="".concat(S,"-item"),V=c.useRef(),q=c.useRef(),K=T||p,Y=D(u);var G=function(e){return{key:u,keyPath:(0,o.Z)(Y).reverse(),item:V.current,domEvent:e}},Q=f||M,X=Z(u,K,m,v),$=X.active,J=(0,l.Z)(X,H),ee=I.includes(u),te=A(Y.length),ne={};"option"===e.role&&(ne["aria-selected"]=ee);var re=c.createElement(W,(0,r.Z)({ref:V,elementRef:q,role:null===g?"none":g||"menuitem",tabIndex:p?null:-1,"data-menu-id":P&&_?null:_},k,J,ne,{component:"li","aria-disabled":p,style:(0,a.Z)((0,a.Z)({},te),n),className:d()(B,(t={},(0,i.Z)(t,"".concat(B,"-active"),$),(0,i.Z)(t,"".concat(B,"-selected"),ee),(0,i.Z)(t,"".concat(B,"-disabled"),K),t),s),onClick:function(e){if(!K){var t=G(e);null===y||void 0===y||y(E(t)),N(t)}},onKeyDown:function(e){if(null===b||void 0===b||b(e),e.which===w.Z.ENTER){var t=G(e);null===y||void 0===y||y(E(t)),N(t)}},onFocus:function(e){L(u),null===x||void 0===x||x(e)}}),h,c.createElement(O,{props:(0,a.Z)((0,a.Z)({},e),{},{isSelected:ee}),icon:Q}));return R&&(re=R(re,e,{selected:ee})),re};var K=function(e){var t=e.eventKey,n=M(),r=D(t);return c.useEffect((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:c.createElement(q,e)},Y=n(71002),G=n(14903),Q=["label","children","key","type"];function X(e,t){return(0,G.Z)(e).map((function(e,n){if(c.isValidElement(e)){var r,i,a=e.key,s=null!==(r=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:a;(null===s||void 0===s)&&(s="tmp_key-".concat([].concat((0,o.Z)(t),[n]).join("-")));var l={key:s,eventKey:s};return c.cloneElement(e,l)}return e}))}function $(e){return(e||[]).map((function(e,t){if(e&&"object"===(0,Y.Z)(e)){var n=e.label,i=e.children,a=e.key,o=e.type,s=(0,l.Z)(e,Q),u=null!==a&&void 0!==a?a:"tmp-".concat(t);return i||"group"===o?"group"===o?c.createElement(Ue,(0,r.Z)({key:u},s,{title:n}),$(i)):c.createElement(ye,(0,r.Z)({key:u},s,{title:n}),$(i)):"divider"===o?c.createElement(He,(0,r.Z)({key:u},s)):c.createElement(K,(0,r.Z)({key:u},s),n)}return null})).filter((function(e){return e}))}function J(e,t,n){var r=e;return t&&(r=$(t)),X(r,n)}function ee(e){var t=c.useRef(e);t.current=e;var n=c.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var te=["className","children"],ne=function(e,t){var n=e.className,i=e.children,a=(0,l.Z)(e,te),o=c.useContext(j),s=o.prefixCls,u=o.mode,p=o.rtl;return c.createElement("ul",(0,r.Z)({className:d()(s,p&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat("inline"===u?"inline":"vertical"),n)},a,{"data-menu-list":!0,ref:t}),i)},re=c.forwardRef(ne);re.displayName="SubMenuList";var ie=re,ae=n(8740),oe=n(95557),se={adjustX:1,adjustY:1},le={topLeft:{points:["bl","tl"],overflow:se,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:se,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:se,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:se,offset:[4,0]}},ce={topLeft:{points:["bl","tl"],overflow:se,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:se,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:se,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:se,offset:[4,0]}};function ue(e,t,n){return t||(n?n[e]||n.other:void 0)}var de={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function pe(e){var t=e.prefixCls,n=e.visible,r=e.children,o=e.popup,l=e.popupClassName,u=e.popupOffset,p=e.disabled,f=e.mode,h=e.onVisibleChange,g=c.useContext(j),m=g.getPopupContainer,v=g.rtl,y=g.subMenuOpenDelay,b=g.subMenuCloseDelay,x=g.builtinPlacements,w=g.triggerSubMenuAction,k=g.forceSubMenuRender,_=g.rootClassName,C=g.motion,S=g.defaultMotions,Z=c.useState(!1),N=(0,s.Z)(Z,2),E=N[0],O=N[1],A=v?(0,a.Z)((0,a.Z)({},ce),x):(0,a.Z)((0,a.Z)({},le),x),T=de[f],P=ue(f,C,S),M=(0,a.Z)((0,a.Z)({},P),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),I=c.useRef();return c.useEffect((function(){return I.current=(0,oe.Z)((function(){O(n)})),function(){oe.Z.cancel(I.current)}}),[n]),c.createElement(ae.Z,{prefixCls:t,popupClassName:d()("".concat(t,"-popup"),(0,i.Z)({},"".concat(t,"-rtl"),v),l,_),stretch:"horizontal"===f?"minWidth":null,getPopupContainer:m,builtinPlacements:A,popupPlacement:T,popupVisible:E,popup:o,popupAlign:u&&{offset:u},action:p?[]:[w],mouseEnterDelay:y,mouseLeaveDelay:b,onPopupVisibleChange:h,forceRender:k,popupMotion:M},r)}var fe=n(1293);function he(e){var t=e.id,n=e.open,i=e.keyPath,o=e.children,l="inline",u=c.useContext(j),d=u.prefixCls,p=u.forceSubMenuRender,f=u.motion,h=u.defaultMotions,g=u.mode,m=c.useRef(!1);m.current=g===l;var v=c.useState(!m.current),y=(0,s.Z)(v,2),b=y[0],x=y[1],w=!!m.current&&n;c.useEffect((function(){m.current&&x(!1)}),[g]);var k=(0,a.Z)({},ue(l,f,h));i.length>1&&(k.motionAppear=!1);var _=k.onVisibleChanged;return k.onVisibleChanged=function(e){return m.current||e||x(!0),null===_||void 0===_?void 0:_(e)},b?null:c.createElement(S,{mode:l,locked:!m.current},c.createElement(fe.default,(0,r.Z)({visible:w},k,{forceRender:p,removeOnLeave:!1,leavedClassName:"".concat(d,"-hidden")}),(function(e){var n=e.className,r=e.style;return c.createElement(ie,{id:t,className:n,style:r},o)})))}var ge=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],me=["active"],ve=function(e){var t,n=e.style,o=e.className,u=e.title,p=e.eventKey,f=(e.warnKey,e.disabled),h=e.internalPopupClose,g=e.children,v=e.itemIcon,y=e.expandIcon,b=e.popupClassName,x=e.popupOffset,w=e.onClick,k=e.onMouseEnter,_=e.onMouseLeave,C=e.onTitleClick,N=e.onTitleMouseEnter,T=e.onTitleMouseLeave,P=(0,l.Z)(e,ge),M=F(p),I=c.useContext(j),R=I.prefixCls,B=I.mode,V=I.openKeys,U=I.disabled,H=I.overflowDisabled,W=I.activeKey,q=I.selectedKeys,K=I.itemIcon,Y=I.expandIcon,G=I.onItemClick,Q=I.onOpenChange,X=I.onActive,$=c.useContext(z)._internalRenderSubMenuItem,J=c.useContext(L).isSubPathKey,te=D(),ne="".concat(R,"-submenu"),re=U||f,ae=c.useRef(),oe=c.useRef();var se=v||K,le=y||Y,ce=V.includes(p),ue=!H&&ce,de=J(q,p),fe=Z(p,re,N,T),ve=fe.active,ye=(0,l.Z)(fe,me),be=c.useState(!1),xe=(0,s.Z)(be,2),we=xe[0],ke=xe[1],_e=function(e){re||ke(e)},Ce=c.useMemo((function(){return ve||"inline"!==B&&(we||J([W],p))}),[B,ve,W,we,p,J]),je=A(te.length),Se=ee((function(e){null===w||void 0===w||w(E(e)),G(e)})),Ze=M&&"".concat(M,"-popup"),Ne=c.createElement("div",(0,r.Z)({role:"menuitem",style:je,className:"".concat(ne,"-title"),tabIndex:re?null:-1,ref:ae,title:"string"===typeof u?u:null,"data-menu-id":H&&M?null:M,"aria-expanded":ue,"aria-haspopup":!0,"aria-controls":Ze,"aria-disabled":re,onClick:function(e){re||(null===C||void 0===C||C({key:p,domEvent:e}),"inline"===B&&Q(p,!ce))},onFocus:function(){X(p)}},ye),u,c.createElement(O,{icon:"horizontal"!==B?le:null,props:(0,a.Z)((0,a.Z)({},e),{},{isOpen:ue,isSubMenu:!0})},c.createElement("i",{className:"".concat(ne,"-arrow")}))),Ee=c.useRef(B);if("inline"!==B&&(Ee.current=te.length>1?"vertical":B),!H){var Oe=Ee.current;Ne=c.createElement(pe,{mode:Oe,prefixCls:ne,visible:!h&&ue&&"inline"!==B,popupClassName:b,popupOffset:x,popup:c.createElement(S,{mode:"horizontal"===Oe?"vertical":Oe},c.createElement(ie,{id:Ze,ref:oe},g)),disabled:re,onVisibleChange:function(e){"inline"!==B&&Q(p,e)}},Ne)}var Ae=c.createElement(m.Z.Item,(0,r.Z)({role:"none"},P,{component:"li",style:n,className:d()(ne,"".concat(ne,"-").concat(B),o,(t={},(0,i.Z)(t,"".concat(ne,"-open"),ue),(0,i.Z)(t,"".concat(ne,"-active"),Ce),(0,i.Z)(t,"".concat(ne,"-selected"),de),(0,i.Z)(t,"".concat(ne,"-disabled"),re),t)),onMouseEnter:function(e){_e(!0),null===k||void 0===k||k({key:p,domEvent:e})},onMouseLeave:function(e){_e(!1),null===_||void 0===_||_({key:p,domEvent:e})}}),Ne,!H&&c.createElement(he,{id:Ze,open:ue,keyPath:te},g));return $&&(Ae=$(Ae,e,{selected:de,active:Ce,open:ue,disabled:re})),c.createElement(S,{onItemClick:Se,mode:"horizontal"===B?"vertical":B,itemIcon:se,expandIcon:le},Ae)};function ye(e){var t,n=e.eventKey,r=e.children,i=D(n),a=X(r,i),o=M();return c.useEffect((function(){if(o)return o.registerPath(n,i),function(){o.unregisterPath(n,i)}}),[i]),t=o?a:c.createElement(ve,e,a),c.createElement(I.Provider,{value:i},t)}var be=n(52221),xe=w.Z.LEFT,we=w.Z.RIGHT,ke=w.Z.UP,_e=w.Z.DOWN,Ce=w.Z.ENTER,je=w.Z.ESC,Se=w.Z.HOME,Ze=w.Z.END,Ne=[ke,_e,xe,we];function Ee(e,t){return(0,be.tS)(e,!0).filter((function(e){return t.has(e)}))}function Oe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Ee(e,t),a=i.length,o=i.findIndex((function(e){return n===e}));return r<0?-1===o?o=a-1:o-=1:r>0&&(o+=1),i[o=(o+a)%a]}function Ae(e,t,n,r,a,o,s,l,u,d){var p=c.useRef(),f=c.useRef();f.current=t;var h=function(){oe.Z.cancel(p.current)};return c.useEffect((function(){return function(){h()}}),[]),function(c){var g=c.which;if([].concat(Ne,[Ce,je,Se,Ze]).includes(g)){var m,v,y,b=function(){return m=new Set,v=new Map,y=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(B(r,e),"']"));t&&(m.add(t),y.set(t,e),v.set(e,t))})),m};b();var x=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(v.get(t),m),w=y.get(x),k=function(e,t,n,r){var a,o,s,l,c="prev",u="next",d="children",p="parent";if("inline"===e&&r===Ce)return{inlineTrigger:!0};var f=(a={},(0,i.Z)(a,ke,c),(0,i.Z)(a,_e,u),a),h=(o={},(0,i.Z)(o,xe,n?u:c),(0,i.Z)(o,we,n?c:u),(0,i.Z)(o,_e,d),(0,i.Z)(o,Ce,d),o),g=(s={},(0,i.Z)(s,ke,c),(0,i.Z)(s,_e,u),(0,i.Z)(s,Ce,d),(0,i.Z)(s,je,p),(0,i.Z)(s,xe,n?d:p),(0,i.Z)(s,we,n?p:d),s);switch(null===(l={inline:f,horizontal:h,vertical:g,inlineSub:f,horizontalSub:g,verticalSub:g}["".concat(e).concat(t?"":"Sub")])||void 0===l?void 0:l[r]){case c:return{offset:-1,sibling:!0};case u:return{offset:1,sibling:!0};case p:return{offset:-1,sibling:!1};case d:return{offset:1,sibling:!1};default:return null}}(e,1===s(w,!0).length,n,g);if(!k&&g!==Se&&g!==Ze)return;(Ne.includes(g)||[Se,Ze].includes(g))&&c.preventDefault();var _=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=y.get(e);l(r),h(),p.current=(0,oe.Z)((function(){f.current===r&&t.focus()}))}};if([Se,Ze].includes(g)||k.sibling||!x){var C,j,S=Ee(C=x&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(x):a.current,m);j=g===Se?S[0]:g===Ze?S[S.length-1]:Oe(C,m,x,k.offset),_(j)}else if(k.inlineTrigger)u(w);else if(k.offset>0)u(w,!0),h(),p.current=(0,oe.Z)((function(){b();var e=x.getAttribute("aria-controls"),t=Oe(document.getElementById(e),m);_(t)}),5);else if(k.offset<0){var Z=s(w,!0),N=Z[Z.length-2],E=v.get(N);u(N,!1),_(E)}}null===d||void 0===d||d(c)}}var Te=Math.random().toFixed(5).toString().slice(2),Pe=0;var Me="__RC_UTIL_PATH_SPLIT__",Ie=function(e){return e.join(Me)},De="rc-menu-more";function Le(){var e=c.useState({}),t=(0,s.Z)(e,2)[1],n=(0,c.useRef)(new Map),r=(0,c.useRef)(new Map),i=c.useState([]),a=(0,s.Z)(i,2),l=a[0],u=a[1],d=(0,c.useRef)(0),p=(0,c.useRef)(!1),f=(0,c.useCallback)((function(e,i){var a=Ie(i);r.current.set(a,e),n.current.set(e,a),d.current+=1;var o,s=d.current;o=function(){s===d.current&&(p.current||t({}))},Promise.resolve().then(o)}),[]),h=(0,c.useCallback)((function(e,t){var i=Ie(t);r.current.delete(i),n.current.delete(e)}),[]),g=(0,c.useCallback)((function(e){u(e)}),[]),m=(0,c.useCallback)((function(e,t){var r=n.current.get(e)||"",i=r.split(Me);return t&&l.includes(i[0])&&i.unshift(De),i}),[l]),v=(0,c.useCallback)((function(e,t){return e.some((function(e){return m(e,!0).includes(t)}))}),[m]),y=(0,c.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Me),i=new Set;return(0,o.Z)(r.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(r.current.get(e))})),i}),[]);return c.useEffect((function(){return function(){p.current=!0}}),[]),{registerPath:f,unregisterPath:h,refreshOverflowKeys:g,isSubPathKey:v,getKeyPath:m,getKeys:function(){var e=(0,o.Z)(n.current.keys());return l.length&&e.push(De),e},getSubPathKeys:y}}var Re=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Be=[],Fe=["className","title","eventKey","children"],ze=["children"],Ve=function(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),a=(0,l.Z)(e,Fe),o=c.useContext(j).prefixCls,s="".concat(o,"-item-group");return c.createElement("li",(0,r.Z)({},a,{onClick:function(e){return e.stopPropagation()},className:d()(s,t)}),c.createElement("div",{className:"".concat(s,"-title"),title:"string"===typeof n?n:void 0},n),c.createElement("ul",{className:"".concat(s,"-list")},i))};function Ue(e){var t=e.children,n=(0,l.Z)(e,ze),r=X(t,D(n.eventKey));return M()?r:c.createElement(Ve,(0,k.Z)(n,["warnKey"]),r)}function He(e){var t=e.className,n=e.style,r=c.useContext(j).prefixCls;return M()?null:c.createElement("li",{className:d()("".concat(r,"-item-divider"),t),style:n})}var We=D,qe=c.forwardRef((function(e,t){var n,u,p=e.prefixCls,g=void 0===p?"rc-menu":p,v=e.rootClassName,y=e.style,b=e.className,x=e.tabIndex,w=void 0===x?0:x,k=e.items,_=e.children,C=e.direction,j=e.id,Z=e.mode,N=void 0===Z?"vertical":Z,O=e.inlineCollapsed,A=e.disabled,T=e.disabledOverflow,M=e.subMenuOpenDelay,I=void 0===M?.1:M,D=e.subMenuCloseDelay,F=void 0===D?.1:D,V=e.forceSubMenuRender,U=e.defaultOpenKeys,H=e.openKeys,W=e.activeKey,q=e.defaultActiveFirst,Y=e.selectable,G=void 0===Y||Y,Q=e.multiple,X=void 0!==Q&&Q,$=e.defaultSelectedKeys,te=e.selectedKeys,ne=e.onSelect,re=e.onDeselect,ie=e.inlineIndent,ae=void 0===ie?24:ie,oe=e.motion,se=e.defaultMotions,le=e.triggerSubMenuAction,ce=void 0===le?"hover":le,ue=e.builtinPlacements,de=e.itemIcon,pe=e.expandIcon,fe=e.overflowedIndicator,he=void 0===fe?"...":fe,ge=e.overflowedIndicatorPopupClassName,me=e.getPopupContainer,ve=e.onClick,be=e.onOpenChange,xe=e.onKeyDown,we=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),ke=e._internalRenderSubMenuItem,_e=(0,l.Z)(e,Re),Ce=c.useMemo((function(){return J(_,k,Be)}),[_,k]),je=c.useState(!1),Se=(0,s.Z)(je,2),Ze=Se[0],Ne=Se[1],Ee=c.useRef(),Oe=function(e){var t=(0,h.Z)(e,{value:e}),n=(0,s.Z)(t,2),r=n[0],i=n[1];return c.useEffect((function(){Pe+=1;var e="".concat(Te,"-").concat(Pe);i("rc-menu-uuid-".concat(e))}),[]),r}(j),Me="rtl"===C;var Ie=c.useMemo((function(){return"inline"!==N&&"vertical"!==N||!O?[N,!1]:["vertical",O]}),[N,O]),Fe=(0,s.Z)(Ie,2),ze=Fe[0],Ve=Fe[1],Ue=c.useState(0),He=(0,s.Z)(Ue,2),We=He[0],qe=He[1],Ke=We>=Ce.length-1||"horizontal"!==ze||T,Ye=(0,h.Z)(U,{value:H,postState:function(e){return e||Be}}),Ge=(0,s.Z)(Ye,2),Qe=Ge[0],Xe=Ge[1],$e=function(e){Xe(e),null===be||void 0===be||be(e)},Je=c.useState(Qe),et=(0,s.Z)(Je,2),tt=et[0],nt=et[1],rt="inline"===ze,it=c.useRef(!1);c.useEffect((function(){rt&&nt(Qe)}),[Qe]),c.useEffect((function(){it.current&&(rt?Xe(tt):$e(Be))}),[rt]),c.useEffect((function(){return it.current=!0,function(){it.current=!1}}),[]);var at=Le(),ot=at.registerPath,st=at.unregisterPath,lt=at.refreshOverflowKeys,ct=at.isSubPathKey,ut=at.getKeyPath,dt=at.getKeys,pt=at.getSubPathKeys,ft=c.useMemo((function(){return{registerPath:ot,unregisterPath:st}}),[ot,st]),ht=c.useMemo((function(){return{isSubPathKey:ct}}),[ct]);c.useEffect((function(){lt(Ke?Be:Ce.slice(We+1).map((function(e){return e.key})))}),[We,Ke]);var gt=(0,h.Z)(W||q&&(null===(n=Ce[0])||void 0===n?void 0:n.key),{value:W}),mt=(0,s.Z)(gt,2),vt=mt[0],yt=mt[1],bt=ee((function(e){yt(e)})),xt=ee((function(){yt(void 0)}));(0,c.useImperativeHandle)(t,(function(){return{list:Ee.current,focus:function(e){var t,n,r,i,a=null!==vt&&void 0!==vt?vt:null===(t=Ce.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;a&&(null===(n=Ee.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(B(Oe,a),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,e))}}}));var wt=(0,h.Z)($||[],{value:te,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Be:[e]}}),kt=(0,s.Z)(wt,2),_t=kt[0],Ct=kt[1],jt=ee((function(e){null===ve||void 0===ve||ve(E(e)),function(e){if(G){var t,n=e.key,r=_t.includes(n);t=X?r?_t.filter((function(e){return e!==n})):[].concat((0,o.Z)(_t),[n]):[n],Ct(t);var i=(0,a.Z)((0,a.Z)({},e),{},{selectedKeys:t});r?null===re||void 0===re||re(i):null===ne||void 0===ne||ne(i)}!X&&Qe.length&&"inline"!==ze&&$e(Be)}(e)})),St=ee((function(e,t){var n=Qe.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==ze){var r=pt(e);n=n.filter((function(e){return!r.has(e)}))}f()(Qe,n)||$e(n)})),Zt=ee(me),Nt=Ae(ze,vt,Me,Oe,Ee,dt,ut,yt,(function(e,t){var n=null!==t&&void 0!==t?t:!Qe.includes(e);St(e,n)}),xe);c.useEffect((function(){Ne(!0)}),[]);var Et=c.useMemo((function(){return{_internalRenderMenuItem:we,_internalRenderSubMenuItem:ke}}),[we,ke]),Ot="horizontal"!==ze||T?Ce:Ce.map((function(e,t){return c.createElement(S,{key:e.key,overflowDisabled:t>We},e)})),At=c.createElement(m.Z,(0,r.Z)({id:j,ref:Ee,prefixCls:"".concat(g,"-overflow"),component:"ul",itemComponent:K,className:d()(g,"".concat(g,"-root"),"".concat(g,"-").concat(ze),b,(u={},(0,i.Z)(u,"".concat(g,"-inline-collapsed"),Ve),(0,i.Z)(u,"".concat(g,"-rtl"),Me),u),v),dir:C,style:y,role:"menu",tabIndex:w,data:Ot,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?Ce.slice(-t):null;return c.createElement(ye,{eventKey:De,title:he,disabled:Ke,internalPopupClose:0===t,popupClassName:ge},n)},maxCount:"horizontal"!==ze||T?m.Z.INVALIDATE:m.Z.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){qe(e)},onKeyDown:Nt},_e));return c.createElement(z.Provider,{value:Et},c.createElement(R.Provider,{value:Oe},c.createElement(S,{prefixCls:g,rootClassName:v,mode:ze,openKeys:Qe,rtl:Me,disabled:A,motion:Ze?oe:null,defaultMotions:Ze?se:null,activeKey:vt,onActive:bt,onInactive:xt,selectedKeys:_t,inlineIndent:ae,subMenuOpenDelay:I,subMenuCloseDelay:F,forceSubMenuRender:V,builtinPlacements:ue,triggerSubMenuAction:ce,getPopupContainer:Zt,itemIcon:de,expandIcon:pe,onItemClick:jt,onOpenChange:St},c.createElement(L.Provider,{value:ht},At),c.createElement("div",{style:{display:"none"},"aria-hidden":!0},c.createElement(P.Provider,{value:ft},Ce)))))}));qe.Item=K,qe.SubMenu=ye,qe.ItemGroup=Ue,qe.Divider=He;var Ke=qe},1293:function(e,t,n){"use strict";n.r(t),n.d(t,{CSSMotionList:function(){return oe},default:function(){return se}});var r=n(4942),i=n(1413),a=n(29439),o=n(71002),s=n(47313),l=n(53879),c=n(16945),u=n(46123),d=n.n(u),p=n(73233);function f(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var h=function(e,t){var n={animationend:f("Animation","AnimationEnd"),transitionend:f("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}((0,p.Z)(),"undefined"!==typeof window?window:{}),g={};if((0,p.Z)()){var m=document.createElement("div");g=m.style}var v={};function y(e){if(v[e])return v[e];var t=h[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in g)return v[e]=t[a],v[e]}return""}var b=y("animationend"),x=y("transitionend"),w=!(!b||!x),k=b||"animationend",_=x||"transitionend";function C(e,t){return e?"object"===(0,o.Z)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var j="none",S="appear",Z="enter",N="leave",E="none",O="prepare",A="start",T="active",P="end",M=n(51114),I=n(95557),D=(0,p.Z)()?s.useLayoutEffect:s.useEffect,L=[O,A,T,P];function R(e){return e===T||e===P}var B=function(e,t){var n=(0,M.Z)(E),r=(0,a.Z)(n,2),i=r[0],o=r[1],l=function(){var e=s.useRef(null);function t(){I.Z.cancel(e.current)}return s.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=(0,I.Z)((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a},t]}(),c=(0,a.Z)(l,2),u=c[0],d=c[1];return D((function(){if(i!==E&&i!==P){var e=L.indexOf(i),n=L[e+1],r=t(i);false===r?o(n,!0):u((function(e){function t(){e.isCanceled()||o(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),s.useEffect((function(){return function(){d()}}),[]),[function(){o(O,!0)},i]};function F(e,t,n,o){var l=o.motionEnter,c=void 0===l||l,u=o.motionAppear,d=void 0===u||u,p=o.motionLeave,f=void 0===p||p,h=o.motionDeadline,g=o.motionLeaveImmediately,m=o.onAppearPrepare,v=o.onEnterPrepare,y=o.onLeavePrepare,b=o.onAppearStart,x=o.onEnterStart,w=o.onLeaveStart,C=o.onAppearActive,E=o.onEnterActive,P=o.onLeaveActive,I=o.onAppearEnd,L=o.onEnterEnd,F=o.onLeaveEnd,z=o.onVisibleChanged,V=(0,M.Z)(),U=(0,a.Z)(V,2),H=U[0],W=U[1],q=(0,M.Z)(j),K=(0,a.Z)(q,2),Y=K[0],G=K[1],Q=(0,M.Z)(null),X=(0,a.Z)(Q,2),$=X[0],J=X[1],ee=(0,s.useRef)(!1),te=(0,s.useRef)(null);function ne(){return n()}var re=(0,s.useRef)(!1);function ie(e){var t=ne();if(!e||e.deadline||e.target===t){var n,r=re.current;Y===S&&r?n=null===I||void 0===I?void 0:I(t,e):Y===Z&&r?n=null===L||void 0===L?void 0:L(t,e):Y===N&&r&&(n=null===F||void 0===F?void 0:F(t,e)),Y!==j&&r&&!1!==n&&(G(j,!0),J(null,!0))}}var ae=function(e){var t=(0,s.useRef)(),n=(0,s.useRef)(e);n.current=e;var r=s.useCallback((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener(_,r),e.removeEventListener(k,r))}return s.useEffect((function(){return function(){i(t.current)}}),[]),[function(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(_,r),e.addEventListener(k,r),t.current=e)},i]}(ie),oe=(0,a.Z)(ae,1)[0],se=s.useMemo((function(){var e,t,n;switch(Y){case S:return e={},(0,r.Z)(e,O,m),(0,r.Z)(e,A,b),(0,r.Z)(e,T,C),e;case Z:return t={},(0,r.Z)(t,O,v),(0,r.Z)(t,A,x),(0,r.Z)(t,T,E),t;case N:return n={},(0,r.Z)(n,O,y),(0,r.Z)(n,A,w),(0,r.Z)(n,T,P),n;default:return{}}}),[Y]),le=B(Y,(function(e){if(e===O){var t=se.prepare;return!!t&&t(ne())}var n;de in se&&J((null===(n=se[de])||void 0===n?void 0:n.call(se,ne(),null))||null);return de===T&&(oe(ne()),h>0&&(clearTimeout(te.current),te.current=setTimeout((function(){ie({deadline:!0})}),h))),true})),ce=(0,a.Z)(le,2),ue=ce[0],de=ce[1],pe=R(de);re.current=pe,D((function(){W(t);var n,r=ee.current;(ee.current=!0,e)&&(!r&&t&&d&&(n=S),r&&t&&c&&(n=Z),(r&&!t&&f||!r&&g&&!t&&f)&&(n=N),n&&(G(n),ue()))}),[t]),(0,s.useEffect)((function(){(Y===S&&!d||Y===Z&&!c||Y===N&&!f)&&G(j)}),[d,c,f]),(0,s.useEffect)((function(){return function(){ee.current=!1,clearTimeout(te.current)}}),[]);var fe=s.useRef(!1);(0,s.useEffect)((function(){H&&(fe.current=!0),void 0!==H&&Y===j&&((fe.current||H)&&(null===z||void 0===z||z(H)),fe.current=!0)}),[H,Y]);var he=$;return se.prepare&&de===A&&(he=(0,i.Z)({transition:"none"},he)),[Y,de,he,null!==H&&void 0!==H?H:t]}var z=n(15671),V=n(43144),U=n(60136),H=n(27277),W=function(e){(0,U.Z)(n,e);var t=(0,H.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,V.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(s.Component),q=W;var K=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===(0,o.Z)(e)&&(t=e.transitionSupport);var u=s.forwardRef((function(e,t){var o=e.visible,u=void 0===o||o,p=e.removeOnLeave,f=void 0===p||p,h=e.forceRender,g=e.children,m=e.motionName,v=e.leavedClassName,y=e.eventProps,b=n(e),x=(0,s.useRef)(),w=(0,s.useRef)();var k=F(b,u,(function(){try{return x.current instanceof HTMLElement?x.current:(0,l.Z)(w.current)}catch(e){return null}}),e),_=(0,a.Z)(k,4),S=_[0],Z=_[1],N=_[2],E=_[3],T=s.useRef(E);E&&(T.current=!0);var P,M=s.useCallback((function(e){x.current=e,(0,c.mH)(t,e)}),[t]),I=(0,i.Z)((0,i.Z)({},y),{},{visible:u});if(g)if(S!==j&&n(e)){var D,L;Z===O?L="prepare":R(Z)?L="active":Z===A&&(L="start"),P=g((0,i.Z)((0,i.Z)({},I),{},{className:d()(C(m,S),(D={},(0,r.Z)(D,C(m,"".concat(S,"-").concat(L)),L),(0,r.Z)(D,m,"string"===typeof m),D)),style:N}),M)}else P=E?g((0,i.Z)({},I),M):!f&&T.current?g((0,i.Z)((0,i.Z)({},I),{},{className:v}),M):h?g((0,i.Z)((0,i.Z)({},I),{},{style:{display:"none"}}),M):null;else P=null;s.isValidElement(P)&&(0,c.Yr)(P)&&(P.ref||(P=s.cloneElement(P,{ref:M})));return s.createElement(q,{ref:w},P)}));return u.displayName="CSSMotion",u}(w),Y=n(87462),G=n(45987),Q="add",X="keep",$="remove",J="removed";function ee(e){var t;return t=e&&"object"===(0,o.Z)(e)&&"key"in e?e:{key:e},(0,i.Z)((0,i.Z)({},t),{},{key:String(t.key)})}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(ee)}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,o=te(e),s=te(t);o.forEach((function(e){for(var t=!1,o=r;o<a;o+=1){var l=s[o];if(l.key===e.key){r<o&&(n=n.concat(s.slice(r,o).map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{status:Q})}))),r=o),n.push((0,i.Z)((0,i.Z)({},l),{},{status:X})),r+=1,t=!0;break}}t||n.push((0,i.Z)((0,i.Z)({},e),{},{status:$}))})),r<a&&(n=n.concat(s.slice(r).map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{status:Q})}))));var l={};n.forEach((function(e){var t=e.key;l[t]=(l[t]||0)+1}));var c=Object.keys(l).filter((function(e){return l[e]>1}));return c.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==$}))).forEach((function(t){t.key===e&&(t.status=X)}))})),n}var re=["component","children","onVisibleChanged","onAllRemoved"],ie=["status"],ae=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,n=function(e){(0,U.Z)(r,e);var n=(0,H.Z)(r);function r(){var e;(0,z.Z)(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:(0,i.Z)((0,i.Z)({},e),{},{status:J})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==J})).length},e}return(0,V.Z)(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,a=r.children,o=r.onVisibleChanged,l=r.onAllRemoved,c=(0,G.Z)(r,re),u=i||s.Fragment,d={};return ae.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,s.createElement(u,c,n.map((function(n){var r=n.status,i=(0,G.Z)(n,ie),c=r===Q||r===X;return s.createElement(t,(0,Y.Z)({},d,{key:i.key,visible:c,eventProps:i,onVisibleChanged:function(t){(null===o||void 0===o||o(t,{key:i.key}),t)||0===e.removeKey(i.key)&&l&&l()}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=te(n);return{keyEntities:ne(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==J||e.status!==$}))}}}]),r}(s.Component);return n.defaultProps={component:"div"},n}(w),se=K},98463:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var r,i=n(45987),a=n(87462),o=n(1413),s=n(15671),l=n(43144),c=n(60136),u=n(27277),d=n(47313),p=n(74165),f=n(15861),h=n(71002),g=n(1168),m=n.t(g,2),v=(0,o.Z)({},m),y=v.version,b=v.render,x=v.unmountComponentAtNode;try{Number((y||"").split(".")[0])>=18&&(r=v.createRoot)}catch(z){}function w(e){var t=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===(0,h.Z)(t)&&(t.usingClientEntryPoint=e)}var k="__rc_react_root__";function _(e,t){r?function(e,t){w(!0);var n=t[k]||r(t);w(!1),n.render(e),t[k]=n}(e,t):function(e,t){b(e,t)}(e,t)}function C(e){return j.apply(this,arguments)}function j(){return(j=(0,f.Z)((0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[k])||void 0===e||e.unmount(),delete t[k]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){x(e)}function Z(){return(Z=(0,f.Z)((0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r){e.next=2;break}return e.abrupt("return",C(t));case 2:S(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=n(46123),E=n.n(N),O=n(1293),A=n(4942),T=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,i=t.closable,o=t.closeIcon,s=t.style,l=t.onClick,c=t.children,u=t.holder,p="".concat(n,"-notice"),f=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),h=d.createElement("div",(0,a.Z)({className:E()(p,r,(0,A.Z)({},"".concat(p,"-closable"),i)),style:s,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:l},f),d.createElement("div",{className:"".concat(p,"-content")},c),i?d.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(p,"-close")},o||d.createElement("span",{className:"".concat(p,"-close-x")})):null);return u?g.createPortal(h,u):h}}]),n}(d.Component);T.defaultProps={onClose:function(){},duration:1.5};var P=n(93433),M=n(29439);var I=["getContainer"],D=0,L=Date.now();function R(){var e=D;return D+=1,"rcNotification_".concat(L,"_").concat(e)}var B=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||R(),i=(0,o.Z)((0,o.Z)({},t),{},{key:r}),a=e.props.maxCount;e.setState((function(e){var t=e.notices,o=t.map((function(e){return e.notice.key})).indexOf(r),s=t.concat();return-1!==o?s.splice(o,1,{notice:i,holderCallback:n}):(a&&t.length>=a&&(i.key=s[0].notice.key,i.updateMark=R(),i.userPassKey=r,s.shift()),s.push({notice:i,holderCallback:n})),{notices:s}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return(0,l.Z)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,i=n.className,s=n.closeIcon,l=n.style,c=[];return t.forEach((function(n,i){var a=n.notice,l=n.holderCallback,u=i===t.length-1?a.updateMark:void 0,d=a.key,p=a.userPassKey,f=(0,o.Z)((0,o.Z)((0,o.Z)({prefixCls:r,closeIcon:s},a),a.props),{},{key:d,noticeKey:p||d,updateMark:u,onClose:function(t){var n;e.remove(t),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});c.push(d),e.noticePropsMap[d]={props:f,holderCallback:l}})),d.createElement("div",{className:E()(r,i),style:l},d.createElement(O.CSSMotionList,{keys:c,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,i=t.className,s=t.style,l=t.visible,c=e.noticePropsMap[n],u=c.props,p=c.holderCallback;return p?d.createElement("div",{key:n,className:E()(i,"".concat(r,"-hook-holder")),style:(0,o.Z)({},s),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),p(t,u)):e.hookRefs.delete(n))}}):d.createElement(T,(0,a.Z)({},u,{className:E()(i,null===u||void 0===u?void 0:u.className),style:(0,o.Z)((0,o.Z)({},s),null===u||void 0===u?void 0:u.style),visible:l}))})))}}]),n}(d.Component);B.newInstance=void 0,B.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},B.newInstance=function(e,t){var n=e||{},r=n.getContainer,o=(0,i.Z)(n,I),s=document.createElement("div");r?r().appendChild(s):document.body.appendChild(s);var l=!1;_(d.createElement(B,(0,a.Z)({},o,{ref:function(e){l||(l=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){!function(e){Z.apply(this,arguments)}(s),s.parentNode&&s.parentNode.removeChild(s)},useNotification:function(){return function(e){var t=d.useRef({}),n=d.useState([]),r=(0,M.Z)(n,2),i=r[0],o=r[1];return[function(n){var r=!0;e.add(n,(function(e,n){var i=n.key;if(e&&(!t.current[i]||r)){var s=d.createElement(T,(0,a.Z)({},n,{holder:e}));t.current[i]=s,o((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,P.Z)(e),[s]);var r=(0,P.Z)(e);return r[t]=s,r}))}r=!1}))},d.createElement(d.Fragment,null,i)]}(e)}}))}})),s)};var F=B},17704:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(10434)),o=i(n(38416)),s=i(n(56690)),l=i(n(89728)),c=i(n(61655)),u=i(n(26389)),d=r(n(47313)),p=i(n(1168)),f=i(n(46123)),h=function(e){(0,c.default)(n,e);var t=(0,u.default)(n);function n(){var e;(0,s.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,i=t.closable,s=t.closeIcon,l=t.style,c=t.onClick,u=t.children,h=t.holder,g="".concat(n,"-notice"),m=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),v=d.createElement("div",(0,a.default)({className:(0,f.default)(g,r,(0,o.default)({},"".concat(g,"-closable"),i)),style:l,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:c},m),d.createElement("div",{className:"".concat(g,"-content")},u),i?d.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(g,"-close")},s||d.createElement("span",{className:"".concat(g,"-close-x")})):null);return h?p.default.createPortal(v,h):v}}]),n}(d.Component);t.default=h,h.defaultProps={onClose:function(){},duration:1.5}},26408:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=l.useRef({}),n=l.useState([]),r=(0,s.default)(n,2),i=r[0],u=r[1];return[function(n){var r=!0;e.add(n,(function(e,n){var i=n.key;if(e&&(!t.current[i]||r)){var s=l.createElement(c.default,(0,o.default)({},n,{holder:e}));t.current[i]=s,u((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,a.default)(e),[s]);var r=(0,a.default)(e);return r[t]=s,r}))}r=!1}))},l.createElement(l.Fragment,null,i)]};var a=i(n(861)),o=i(n(10434)),s=i(n(27424)),l=r(n(47313)),c=i(n(17704))},15596:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(87462),i=n(1413),a=n(29439),o=n(45987),s=n(47313),l=n(46123),c=n.n(l),u=n(25172),d=n(72846),p=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],f=void 0;function h(e,t){var n=e.prefixCls,a=e.invalidate,l=e.item,d=e.renderItem,h=e.responsive,g=e.responsiveDisabled,m=e.registerSize,v=e.itemKey,y=e.className,b=e.style,x=e.children,w=e.display,k=e.order,_=e.component,C=void 0===_?"div":_,j=(0,o.Z)(e,p),S=h&&!w;function Z(e){m(v,e)}s.useEffect((function(){return function(){Z(null)}}),[]);var N,E=d&&l!==f?d(l):x;a||(N={opacity:S?0:1,height:S?0:f,overflowY:S?"hidden":f,order:h?k:f,pointerEvents:S?"none":f,position:S?"absolute":f});var O={};S&&(O["aria-hidden"]=!0);var A=s.createElement(C,(0,r.Z)({className:c()(!a&&n,y),style:(0,i.Z)((0,i.Z)({},N),b)},O,j,{ref:t}),E);return h&&(A=s.createElement(u.default,{onResize:function(e){Z(e.offsetWidth)},disabled:g},A)),A}var g=s.forwardRef(h);g.displayName="Item";var m=g,v=n(95557),y=n(51114);var b=["component"],x=["className"],w=["className"],k=function(e,t){var n=s.useContext(S);if(!n){var i=e.component,a=void 0===i?"div":i,l=(0,o.Z)(e,b);return s.createElement(a,(0,r.Z)({},l,{ref:t}))}var u=n.className,d=(0,o.Z)(n,x),p=e.className,f=(0,o.Z)(e,w);return s.createElement(S.Provider,{value:null},s.createElement(m,(0,r.Z)({ref:t,className:c()(u,p)},d,f)))},_=s.forwardRef(k);_.displayName="RawItem";var C=_,j=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],S=s.createContext(null),Z="responsive",N="invalidate";function E(e){return"+ ".concat(e.length," ...")}function O(e,t){var n=e.prefixCls,l=void 0===n?"rc-overflow":n,p=e.data,f=void 0===p?[]:p,h=e.renderItem,g=e.renderRawItem,b=e.itemKey,x=e.itemWidth,w=void 0===x?10:x,k=e.ssr,_=e.style,C=e.className,O=e.maxCount,A=e.renderRest,T=e.renderRawRest,P=e.suffix,M=e.component,I=void 0===M?"div":M,D=e.itemComponent,L=e.onVisibleChange,R=(0,o.Z)(e,j),B=function(){var e=(0,y.Z)({}),t=(0,a.Z)(e,2)[1],n=(0,s.useRef)([]),r=0,i=0;return function(e){var a=r;return r+=1,n.current.length<a+1&&(n.current[a]=e),[n.current[a],function(e){n.current[a]="function"===typeof e?e(n.current[a]):e,v.Z.cancel(i),i=(0,v.Z)((function(){t({},!0)}))}]}}(),F="full"===k,z=B(null),V=(0,a.Z)(z,2),U=V[0],H=V[1],W=U||0,q=B(new Map),K=(0,a.Z)(q,2),Y=K[0],G=K[1],Q=B(0),X=(0,a.Z)(Q,2),$=X[0],J=X[1],ee=B(0),te=(0,a.Z)(ee,2),ne=te[0],re=te[1],ie=B(0),ae=(0,a.Z)(ie,2),oe=ae[0],se=ae[1],le=(0,s.useState)(null),ce=(0,a.Z)(le,2),ue=ce[0],de=ce[1],pe=(0,s.useState)(null),fe=(0,a.Z)(pe,2),he=fe[0],ge=fe[1],me=s.useMemo((function(){return null===he&&F?Number.MAX_SAFE_INTEGER:he||0}),[he,U]),ve=(0,s.useState)(!1),ye=(0,a.Z)(ve,2),be=ye[0],xe=ye[1],we="".concat(l,"-item"),ke=Math.max($,ne),_e=O===Z,Ce=f.length&&_e,je=O===N,Se=Ce||"number"===typeof O&&f.length>O,Ze=(0,s.useMemo)((function(){var e=f;return Ce?e=null===U&&F?f:f.slice(0,Math.min(f.length,W/w)):"number"===typeof O&&(e=f.slice(0,O)),e}),[f,w,U,O,Ce]),Ne=(0,s.useMemo)((function(){return Ce?f.slice(me+1):f.slice(Ze.length)}),[f,Ze,Ce,me]),Ee=(0,s.useCallback)((function(e,t){var n;return"function"===typeof b?b(e):null!==(n=b&&(null===e||void 0===e?void 0:e[b]))&&void 0!==n?n:t}),[b]),Oe=(0,s.useCallback)(h||function(e){return e},[h]);function Ae(e,t,n){(he!==e||void 0!==t&&t!==ue)&&(ge(e),n||(xe(e<f.length-1),null===L||void 0===L||L(e)),void 0!==t&&de(t))}function Te(e,t){G((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function Pe(e){return Y.get(Ee(Ze[e],e))}(0,d.Z)((function(){if(W&&ke&&Ze){var e=oe,t=Ze.length,n=t-1;if(!t)return void Ae(0,null);for(var r=0;r<t;r+=1){var i=Pe(r);if(F&&(i=i||0),void 0===i){Ae(r-1,void 0,!0);break}if(e+=i,0===n&&e<=W||r===n-1&&e+Pe(n)<=W){Ae(n,null);break}if(e+ke>W){Ae(r-1,e-i-oe+ne);break}}P&&Pe(0)+oe>W&&de(null)}}),[W,Y,ne,oe,Ee,Ze]);var Me=be&&!!Ne.length,Ie={};null!==ue&&Ce&&(Ie={position:"absolute",left:ue,top:0});var De,Le={prefixCls:we,responsive:Ce,component:D,invalidate:je},Re=g?function(e,t){var n=Ee(e,t);return s.createElement(S.Provider,{key:n,value:(0,i.Z)((0,i.Z)({},Le),{},{order:t,item:e,itemKey:n,registerSize:Te,display:t<=me})},g(e,t))}:function(e,t){var n=Ee(e,t);return s.createElement(m,(0,r.Z)({},Le,{order:t,key:n,item:e,renderItem:Oe,itemKey:n,registerSize:Te,display:t<=me}))},Be={order:Me?me:Number.MAX_SAFE_INTEGER,className:"".concat(we,"-rest"),registerSize:function(e,t){re(t),J(ne)},display:Me};if(T)T&&(De=s.createElement(S.Provider,{value:(0,i.Z)((0,i.Z)({},Le),Be)},T(Ne)));else{var Fe=A||E;De=s.createElement(m,(0,r.Z)({},Le,Be),"function"===typeof Fe?Fe(Ne):Fe)}var ze=s.createElement(I,(0,r.Z)({className:c()(!je&&l,C),style:_,ref:t},R),Ze.map(Re),Se?De:null,P&&s.createElement(m,(0,r.Z)({},Le,{responsive:_e,responsiveDisabled:!Ce,order:me,className:"".concat(we,"-suffix"),registerSize:function(e,t){se(t)},display:!0,style:Ie}),P));return _e&&(ze=s.createElement(u.default,{onResize:function(e,t){H(t.clientWidth)},disabled:!Ce},ze)),ze}var A=s.forwardRef(O);A.displayName="Overflow",A.Item=C,A.RESPONSIVE=Z,A.INVALIDATE=N;var T=A},36614:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(87462),i=n(4942),a=n(1413),o=n(15671),s=n(43144),l=n(60136),c=n(27277),u=n(47313),d=n(46123),p=n.n(d),f=function(e){var t,n="".concat(e.rootPrefixCls,"-item"),r=p()(n,"".concat(n,"-").concat(e.page),(t={},(0,i.Z)(t,"".concat(n,"-active"),e.active),(0,i.Z)(t,"".concat(n,"-disabled"),!e.page),(0,i.Z)(t,e.className,!!e.className),t));return u.createElement("li",{title:e.showTitle?e.page:null,className:r,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",u.createElement("a",{rel:"nofollow"},e.page)))},h=13,g=38,m=40,v=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,i=n.quickGo,a=n.rootPrefixCls,o=e.state.goInputText;r||""===o||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(a,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(a,"-item"))>=0)||i(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==h&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return(0,s.Z)(n,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,r=t.locale,i=t.rootPrefixCls,a=t.changeSize,o=t.quickGo,s=t.goButton,l=t.selectComponentClass,c=t.buildOptionText,d=t.selectPrefixCls,p=t.disabled,f=this.state.goInputText,h="".concat(i,"-options"),g=l,m=null,v=null,y=null;if(!a&&!o)return null;var b=this.getPageSizeOptions();if(a&&g){var x=b.map((function(t,n){return u.createElement(g.Option,{key:n,value:t.toString()},(c||e.buildOptionText)(t))}));m=u.createElement(g,{disabled:p,prefixCls:d,showSearch:!1,className:"".concat(h,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(n||b[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":r.page_size,defaultOpen:!1},x)}return o&&(s&&(y="boolean"===typeof s?u.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:p,className:"".concat(h,"-quick-jumper-button")},r.jump_to_confirm):u.createElement("span",{onClick:this.go,onKeyUp:this.go},s)),v=u.createElement("div",{className:"".concat(h,"-quick-jumper")},r.jump_to,u.createElement("input",{disabled:p,type:"text",value:f,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,y)),u.createElement("li",{className:"".concat(h)},m,v)}}]),n}(u.Component);v.defaultProps={pageSizeOptions:["10","20","50","100"]};var y=v;function b(){}function x(e){var t=Number(e);return"number"===typeof t&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function w(e,t,n){var r="undefined"===typeof e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var k=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;(0,o.Z)(this,n),(r=t.call(this,e)).getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(w(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(e,t){var n=r.props.prefixCls,i=e||u.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"===typeof e&&(i=u.createElement(e,(0,a.Z)({},r.props))),i},r.savePaginationNode=function(e){r.paginationNode=e},r.isValid=function(e){var t=r.props.total;return x(e)&&e!==r.state.current&&x(t)&&t>0},r.shouldDisplayQuickJumper=function(){var e=r.props,t=e.showQuickJumper;return!(e.total<=r.state.pageSize)&&t},r.handleKeyDown=function(e){e.keyCode!==g&&e.keyCode!==m||e.preventDefault()},r.handleKeyUp=function(e){var t=r.getValidValue(e);t!==r.state.currentInputValue&&r.setState({currentInputValue:t}),e.keyCode===h?r.handleChange(t):e.keyCode===g?r.handleChange(t-1):e.keyCode===m&&r.handleChange(t+1)},r.handleBlur=function(e){var t=r.getValidValue(e);r.handleChange(t)},r.changePageSize=function(e){var t=r.state.current,n=w(e,r.state,r.props);t=t>n?n:t,0===n&&(t=r.state.current),"number"===typeof e&&("pageSize"in r.props||r.setState({pageSize:e}),"current"in r.props||r.setState({current:t,currentInputValue:t})),r.props.onShowSizeChange(t,e),"onChange"in r.props&&r.props.onChange&&r.props.onChange(t,e)},r.handleChange=function(e){var t=r.props,n=t.disabled,i=t.onChange,a=r.state,o=a.pageSize,s=a.current,l=a.currentInputValue;if(r.isValid(e)&&!n){var c=w(void 0,r.state,r.props),u=e;return e>c?u=c:e<1&&(u=1),"current"in r.props||r.setState({current:u}),u!==l&&r.setState({currentInputValue:u}),i(u,o),u}return s},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<w(void 0,r.state,r.props)},r.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];t.apply(void 0,r)}},r.runIfEnterPrev=function(e){r.runIfEnter(e,r.prev)},r.runIfEnterNext=function(e){r.runIfEnter(e,r.next)},r.runIfEnterJumpPrev=function(e){r.runIfEnter(e,r.jumpPrev)},r.runIfEnterJumpNext=function(e){r.runIfEnter(e,r.jumpNext)},r.handleGoTO=function(e){e.keyCode!==h&&"click"!==e.type||r.handleChange(r.state.currentInputValue)};var i=e.onChange!==b;"current"in e&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var s=e.defaultCurrent;"current"in e&&(s=e.current);var l=e.defaultPageSize;return"pageSize"in e&&(l=e.pageSize),s=Math.min(s,w(l,void 0,e)),r.state={current:s,currentInputValue:s,pageSize:l},r}return(0,s.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var r=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));r&&document.activeElement===r&&r.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=w(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return"undefined"!==typeof t?t:n>r}},{key:"renderPrev",value:function(e){var t=this.props,n=t.prevIcon,r=(0,t.itemRender)(e,"prev",this.getItemIcon(n,"prev page")),i=!this.hasPrev();return(0,u.isValidElement)(r)?(0,u.cloneElement)(r,{disabled:i}):r}},{key:"renderNext",value:function(e){var t=this.props,n=t.nextIcon,r=(0,t.itemRender)(e,"next",this.getItemIcon(n,"next page")),i=!this.hasNext();return(0,u.isValidElement)(r)?(0,u.cloneElement)(r,{disabled:i}):r}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.className,o=t.style,s=t.disabled,l=t.hideOnSinglePage,c=t.total,d=t.locale,h=t.showQuickJumper,g=t.showLessItems,m=t.showTitle,v=t.showTotal,b=t.simple,x=t.itemRender,k=t.showPrevNextJumpers,_=t.jumpPrevIcon,C=t.jumpNextIcon,j=t.selectComponentClass,S=t.selectPrefixCls,Z=t.pageSizeOptions,N=this.state,E=N.current,O=N.pageSize,A=N.currentInputValue;if(!0===l&&c<=O)return null;var T=w(void 0,this.state,this.props),P=[],M=null,I=null,D=null,L=null,R=null,B=h&&h.goButton,F=g?1:2,z=E-1>0?E-1:0,V=E+1<T?E+1:T,U=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{});if(b)return B&&(R="boolean"===typeof B?u.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},d.jump_to_confirm):u.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},B),R=u.createElement("li",{title:m?"".concat(d.jump_to).concat(E,"/").concat(T):null,className:"".concat(n,"-simple-pager")},R)),u.createElement("ul",(0,r.Z)({className:p()(n,"".concat(n,"-simple"),(0,i.Z)({},"".concat(n,"-disabled"),s),a),style:o,ref:this.savePaginationNode},U),u.createElement("li",{title:m?d.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:p()("".concat(n,"-prev"),(0,i.Z)({},"".concat(n,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(z)),u.createElement("li",{title:m?"".concat(E,"/").concat(T):null,className:"".concat(n,"-simple-pager")},u.createElement("input",{type:"text",value:A,disabled:s,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),u.createElement("span",{className:"".concat(n,"-slash")},"/"),T),u.createElement("li",{title:m?d.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:p()("".concat(n,"-next"),(0,i.Z)({},"".concat(n,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(V)),R);if(T<=3+2*F){var H={locale:d,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:m,itemRender:x};T||P.push(u.createElement(f,(0,r.Z)({},H,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var W=1;W<=T;W+=1){var q=E===W;P.push(u.createElement(f,(0,r.Z)({},H,{key:W,page:W,active:q})))}}else{var K=g?d.prev_3:d.prev_5,Y=g?d.next_3:d.next_5;k&&(M=u.createElement("li",{title:m?K:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:p()("".concat(n,"-jump-prev"),(0,i.Z)({},"".concat(n,"-jump-prev-custom-icon"),!!_))},x(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(_,"prev page"))),I=u.createElement("li",{title:m?Y:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:p()("".concat(n,"-jump-next"),(0,i.Z)({},"".concat(n,"-jump-next-custom-icon"),!!C))},x(this.getJumpNextPage(),"jump-next",this.getItemIcon(C,"next page")))),L=u.createElement(f,{locale:d,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:T,page:T,active:!1,showTitle:m,itemRender:x}),D=u.createElement(f,{locale:d,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:m,itemRender:x});var G=Math.max(1,E-F),Q=Math.min(E+F,T);E-1<=F&&(Q=1+2*F),T-E<=F&&(G=T-2*F);for(var X=G;X<=Q;X+=1){var $=E===X;P.push(u.createElement(f,{locale:d,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:X,page:X,active:$,showTitle:m,itemRender:x}))}E-1>=2*F&&3!==E&&(P[0]=(0,u.cloneElement)(P[0],{className:"".concat(n,"-item-after-jump-prev")}),P.unshift(M)),T-E>=2*F&&E!==T-2&&(P[P.length-1]=(0,u.cloneElement)(P[P.length-1],{className:"".concat(n,"-item-before-jump-next")}),P.push(I)),1!==G&&P.unshift(D),Q!==T&&P.push(L)}var J=null;v&&(J=u.createElement("li",{className:"".concat(n,"-total-text")},v(c,[0===c?0:(E-1)*O+1,E*O>c?c:E*O])));var ee=!this.hasPrev()||!T,te=!this.hasNext()||!T;return u.createElement("ul",(0,r.Z)({className:p()(n,a,(0,i.Z)({},"".concat(n,"-disabled"),s)),style:o,unselectable:"unselectable",ref:this.savePaginationNode},U),J,u.createElement("li",{title:m?d.prev_page:null,onClick:this.prev,tabIndex:ee?null:0,onKeyPress:this.runIfEnterPrev,className:p()("".concat(n,"-prev"),(0,i.Z)({},"".concat(n,"-disabled"),ee)),"aria-disabled":ee},this.renderPrev(z)),P,u.createElement("li",{title:m?d.next_page:null,onClick:this.next,tabIndex:te?null:0,onKeyPress:this.runIfEnterNext,className:p()("".concat(n,"-next"),(0,i.Z)({},"".concat(n,"-disabled"),te)),"aria-disabled":te},this.renderNext(V)),u.createElement(y,{disabled:s,locale:d,rootPrefixCls:n,selectComponentClass:j,selectPrefixCls:S,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:E,pageSize:O,pageSizeOptions:Z,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:B}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,i=w(e.pageSize,t,e);r=r>i?i:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),n}(u.Component);k.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:b,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:b,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var _=k},29956:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"}},9573:function(e,t,n){"use strict";n.r(t),n.d(t,{PickerPanel:function(){return Pe},RangePicker:function(){return $e},default:function(){return Je}});var r=n(15671),i=n(43144),a=n(60136),o=n(27277),s=n(87462),l=n(4942),c=n(1413),u=n(29439),d=n(47313),p=n(46123),f=n.n(p),h=n(48240),g=n(10288),m=n(71002),v=n(49242),y=d.createContext({}),b={visibility:"hidden"};var x=function(e){var t=e.prefixCls,n=e.prevIcon,r=void 0===n?"\u2039":n,i=e.nextIcon,a=void 0===i?"\u203a":i,o=e.superPrevIcon,s=void 0===o?"\xab":o,l=e.superNextIcon,c=void 0===l?"\xbb":l,u=e.onSuperPrev,p=e.onSuperNext,f=e.onPrev,h=e.onNext,g=e.children,m=d.useContext(y),v=m.hideNextBtn,x=m.hidePrevBtn;return d.createElement("div",{className:t},u&&d.createElement("button",{type:"button",onClick:u,tabIndex:-1,className:"".concat(t,"-super-prev-btn"),style:x?b:{}},s),f&&d.createElement("button",{type:"button",onClick:f,tabIndex:-1,className:"".concat(t,"-prev-btn"),style:x?b:{}},r),d.createElement("div",{className:"".concat(t,"-view")},g),h&&d.createElement("button",{type:"button",onClick:h,tabIndex:-1,className:"".concat(t,"-next-btn"),style:v?b:{}},a),p&&d.createElement("button",{type:"button",onClick:p,tabIndex:-1,className:"".concat(t,"-super-next-btn"),style:v?b:{}},c))};var w=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,i=e.onPrevDecades,a=e.onNextDecades;if(d.useContext(y).hideHeader)return null;var o="".concat(t,"-header"),l=n.getYear(r),c=Math.floor(l/F)*F,u=c+F-1;return d.createElement(x,(0,s.Z)({},e,{prefixCls:o,onSuperPrev:i,onSuperNext:a}),c,"-",u)};function k(e,t,n,r,i){var a=e.setHour(t,n);return a=e.setMinute(a,r),a=e.setSecond(a,i)}function _(e,t,n){if(!n)return t;var r=t;return r=e.setHour(r,e.getHour(n)),r=e.setMinute(r,e.getMinute(n)),r=e.setSecond(r,e.getSecond(n))}function C(e,t){var n=e.getYear(t),r=e.getMonth(t)+1,i=e.getEndDate(e.getFixedDate("".concat(n,"-").concat(r,"-01"))),a=e.getDate(i),o=r<10?"0".concat(r):"".concat(r);return"".concat(n,"-").concat(o,"-").concat(a)}function j(e){for(var t=e.prefixCls,n=e.disabledDate,r=e.onSelect,i=e.picker,a=e.rowNum,o=e.colNum,s=e.prefixColumn,u=e.rowClassName,p=e.baseDate,h=e.getCellClassName,g=e.getCellText,m=e.getCellNode,v=e.getCellDate,b=e.generateConfig,x=e.titleCell,w=e.headerCells,k=d.useContext(y),_=k.onDateMouseEnter,j=k.onDateMouseLeave,S=k.mode,Z="".concat(t,"-cell"),N=[],E=0;E<a;E+=1){for(var O=[],A=void 0,T=function(e){var t,a=v(p,E*o+e),u=ee({cellDate:a,mode:S,disabledDate:n,generateConfig:b});0===e&&(A=a,s&&O.push(s(A)));var y=x&&x(a);O.push(d.createElement("td",{key:e,title:y,className:f()(Z,(0,c.Z)((t={},(0,l.Z)(t,"".concat(Z,"-disabled"),u),(0,l.Z)(t,"".concat(Z,"-start"),1===g(a)||"year"===i&&Number(y)%10===0),(0,l.Z)(t,"".concat(Z,"-end"),y===C(b,a)||"year"===i&&Number(y)%10===9),t),h(a))),onClick:function(){u||r(a)},onMouseEnter:function(){!u&&_&&_(a)},onMouseLeave:function(){!u&&j&&j(a)}},m?m(a):d.createElement("div",{className:"".concat(Z,"-inner")},g(a))))},P=0;P<o;P+=1)T(P);N.push(d.createElement("tr",{key:E,className:u&&u(A)},O))}return d.createElement("div",{className:"".concat(t,"-body")},d.createElement("table",{className:"".concat(t,"-content")},w&&d.createElement("thead",null,d.createElement("tr",null,w)),d.createElement("tbody",null,N)))}var S=function(e){var t=B-1,n=e.prefixCls,r=e.viewDate,i=e.generateConfig,a="".concat(n,"-cell"),o=i.getYear(r),c=Math.floor(o/B)*B,u=Math.floor(o/F)*F,p=u+F-1,f=i.setYear(r,u-Math.ceil((12*B-F)/2));return d.createElement(j,(0,s.Z)({},e,{rowNum:4,colNum:3,baseDate:f,getCellText:function(e){var n=i.getYear(e);return"".concat(n,"-").concat(n+t)},getCellClassName:function(e){var n,r=i.getYear(e),o=r+t;return n={},(0,l.Z)(n,"".concat(a,"-in-view"),u<=r&&o<=p),(0,l.Z)(n,"".concat(a,"-selected"),r===c),n},getCellDate:function(e,t){return i.addYear(e,t*B)}}))},Z=n(93433),N=n(95557),E=n(32330),O=new Map;function A(e,t,n){if(O.get(e)&&cancelAnimationFrame(O.get(e)),n<=0)O.set(e,requestAnimationFrame((function(){e.scrollTop=t})));else{var r=(t-e.scrollTop)/n*10;O.set(e,requestAnimationFrame((function(){e.scrollTop+=r,e.scrollTop!==t&&A(e,t,n-10)})))}}function T(e,t){var n=t.onLeftRight,r=t.onCtrlLeftRight,i=t.onUpDown,a=t.onPageUpDown,o=t.onEnter,s=e.which,l=e.ctrlKey,c=e.metaKey;switch(s){case v.Z.LEFT:if(l||c){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case v.Z.RIGHT:if(l||c){if(r)return r(1),!0}else if(n)return n(1),!0;break;case v.Z.UP:if(i)return i(-1),!0;break;case v.Z.DOWN:if(i)return i(1),!0;break;case v.Z.PAGE_UP:if(a)return a(-1),!0;break;case v.Z.PAGE_DOWN:if(a)return a(1),!0;break;case v.Z.ENTER:if(o)return o(),!0}return!1}function P(e,t,n,r){var i=e;if(!i)switch(t){case"time":i=r?"hh:mm:ss a":"HH:mm:ss";break;case"week":i="gggg-wo";break;case"month":i="YYYY-MM";break;case"quarter":i="YYYY-[Q]Q";break;case"year":i="YYYY";break;default:i=n?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return i}function M(e,t,n){var r="time"===e?8:10,i="function"===typeof t?t(n.getNow()).length:t.length;return Math.max(r,i)+2}var I=null,D=new Set;var L={year:function(e){return"month"===e||"date"===e?"year":e},month:function(e){return"date"===e?"month":e},quarter:function(e){return"month"===e||"date"===e?"quarter":e},week:function(e){return"date"===e?"week":e},time:null,date:null};function R(e,t){return e.some((function(e){return e&&e.contains(t)}))}var B=10,F=10*B;var z=function(e){var t=e.prefixCls,n=e.onViewDateChange,r=e.generateConfig,i=e.viewDate,a=e.operationRef,o=e.onSelect,l=e.onPanelChange,c="".concat(t,"-decade-panel");a.current={onKeyDown:function(e){return T(e,{onLeftRight:function(e){o(r.addYear(i,e*B),"key")},onCtrlLeftRight:function(e){o(r.addYear(i,e*F),"key")},onUpDown:function(e){o(r.addYear(i,e*B*3),"key")},onEnter:function(){l("year",i)}})}};var u=function(e){var t=r.addYear(i,e*F);n(t),l(null,t)};return d.createElement("div",{className:c},d.createElement(w,(0,s.Z)({},e,{prefixCls:t,onPrevDecades:function(){u(-1)},onNextDecades:function(){u(1)}})),d.createElement(S,(0,s.Z)({},e,{prefixCls:t,onSelect:function(e){o(e,"mouse"),l("year",e)}})))};function V(e,t){return!e&&!t||!(!e||!t)&&void 0}function U(e,t,n){var r=V(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)}function H(e,t){return Math.floor(e.getMonth(t)/3)+1}function W(e,t,n){var r=V(t,n);return"boolean"===typeof r?r:U(e,t,n)&&H(e,t)===H(e,n)}function q(e,t,n){var r=V(t,n);return"boolean"===typeof r?r:U(e,t,n)&&e.getMonth(t)===e.getMonth(n)}function K(e,t,n){var r=V(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)&&e.getMonth(t)===e.getMonth(n)&&e.getDate(t)===e.getDate(n)}function Y(e,t,n,r){var i=V(n,r);return"boolean"===typeof i?i:e.locale.getWeek(t,n)===e.locale.getWeek(t,r)}function G(e,t,n){return K(e,t,n)&&function(e,t,n){var r=V(t,n);return"boolean"===typeof r?r:e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}(e,t,n)}function Q(e,t,n,r){return!!(t&&n&&r)&&(!K(e,t,r)&&!K(e,n,r)&&e.isAfter(r,t)&&e.isAfter(n,r))}function X(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(t){case"year":return n.addYear(e,10*r);case"quarter":case"month":return n.addYear(e,r);default:return n.addMonth(e,r)}}function $(e,t){var n=t.generateConfig,r=t.locale,i=t.format;return"function"===typeof i?i(e):n.locale.format(r.locale,e,i)}function J(e,t){var n=t.generateConfig,r=t.locale,i=t.formatList;return e&&"function"!==typeof i[0]?n.locale.parse(r.locale,e,i):null}function ee(e){var t=e.cellDate,n=e.mode,r=e.disabledDate,i=e.generateConfig;if(!r)return!1;var a=function(e,n,a){for(var o=n;o<=a;){var s=void 0;switch(e){case"date":if(s=i.setDate(t,o),!r(s))return!1;break;case"month":if(!ee({cellDate:s=i.setMonth(t,o),mode:"month",generateConfig:i,disabledDate:r}))return!1;break;case"year":if(!ee({cellDate:s=i.setYear(t,o),mode:"year",generateConfig:i,disabledDate:r}))return!1}o+=1}return!0};switch(n){case"date":case"week":return r(t);case"month":return a("date",1,i.getDate(i.getEndDate(t)));case"quarter":var o=3*Math.floor(i.getMonth(t)/3);return a("month",o,o+2);case"year":return a("month",0,11);case"decade":var s=i.getYear(t),l=Math.floor(s/B)*B;return a("year",l,l+B-1)}}var te=function(e){if(d.useContext(y).hideHeader)return null;var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.value,a=e.format,o="".concat(t,"-header");return d.createElement(x,{prefixCls:o},i?$(i,{locale:r,format:a,generateConfig:n}):"\xa0")},ne=n(40727);var re=function(e){var t=e.prefixCls,n=e.units,r=e.onSelect,i=e.value,a=e.active,o=e.hideDisabledOptions,s="".concat(t,"-cell"),c=d.useContext(y).open,u=(0,d.useRef)(null),p=(0,d.useRef)(new Map),h=(0,d.useRef)();return(0,d.useLayoutEffect)((function(){var e=p.current.get(i);e&&!1!==c&&A(u.current,e.offsetTop,120)}),[i]),(0,d.useLayoutEffect)((function(){if(c){var e=p.current.get(i);e&&(h.current=function(e,t){var n;return function r(){(0,E.Z)(e)?t():n=(0,N.Z)((function(){r()}))}(),function(){N.Z.cancel(n)}}(e,(function(){A(u.current,e.offsetTop,0)})))}return function(){var e;null===(e=h.current)||void 0===e||e.call(h)}}),[c]),d.createElement("ul",{className:f()("".concat(t,"-column"),(0,l.Z)({},"".concat(t,"-column-active"),a)),ref:u,style:{position:"relative"}},n.map((function(e){var t;return o&&e.disabled?null:d.createElement("li",{key:e.value,ref:function(t){p.current.set(e.value,t)},className:f()(s,(t={},(0,l.Z)(t,"".concat(s,"-disabled"),e.disabled),(0,l.Z)(t,"".concat(s,"-selected"),i===e.value),t)),onClick:function(){e.disabled||r(e.value)}},d.createElement("div",{className:"".concat(s,"-inner")},e.label))})))};function ie(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(e);return r}function ae(e){return null===e||void 0===e?[]:Array.isArray(e)?e:[e]}function oe(e){var t={};return Object.keys(e).forEach((function(n){"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n&&"name"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n])})),t}function se(e,t){return e?e[t]:null}function le(e,t,n){var r=[se(e,0),se(e,1)];return r[n]="function"===typeof t?t(r[n]):t,r[0]||r[1]?r:null}function ce(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n].disabled!==t[n].disabled)return!0;return!1}function ue(e,t,n,r){for(var i=[],a=e;a<=t;a+=n)i.push({label:ie(a,2),value:a,disabled:(r||[]).includes(a)});return i}var de=function(e){var t,n=e.generateConfig,r=e.prefixCls,i=e.operationRef,a=e.activeColumnIndex,o=e.value,s=e.showHour,l=e.showMinute,p=e.showSecond,f=e.use12Hours,h=e.hourStep,g=void 0===h?1:h,m=e.minuteStep,v=void 0===m?1:m,y=e.secondStep,b=void 0===y?1:y,x=e.disabledHours,w=e.disabledMinutes,_=e.disabledSeconds,C=e.disabledTime,j=e.hideDisabledOptions,S=e.onSelect,Z=[],N="".concat(r,"-content"),E="".concat(r,"-time-panel"),O=o?n.getHour(o):-1,A=O,T=o?n.getMinute(o):-1,P=o?n.getSecond(o):-1,M=n.getNow(),I=d.useMemo((function(){if(C){var e=C(M);return[e.disabledHours,e.disabledMinutes,e.disabledSeconds]}return[x,w,_]}),[x,w,_,C,M]),D=(0,u.Z)(I,3),L=D[0],R=D[1],B=D[2],F=function(e,t,r,i){var a=o||n.getNow(),s=Math.max(0,t),l=Math.max(0,r),c=Math.max(0,i);return a=k(n,a,f&&e?s+12:s,l,c)},z=ue(0,23,g,L&&L()),V=(0,ne.Z)((function(){return z}),z,ce);f&&(t=A>=12,A%=12);var U=d.useMemo((function(){if(!f)return[!1,!1];var e=[!0,!0];return V.forEach((function(t){var n=t.disabled,r=t.value;n||(r>=12?e[1]=!1:e[0]=!1)})),e}),[f,V]),H=(0,u.Z)(U,2),W=H[0],q=H[1],K=d.useMemo((function(){return f?V.filter(t?function(e){return e.value>=12}:function(e){return e.value<12}).map((function(e){var t=e.value%12,n=0===t?"12":ie(t,2);return(0,c.Z)((0,c.Z)({},e),{},{label:n,value:t})})):V}),[f,t,V]),Y=ue(0,59,v,R&&R(O)),G=ue(0,59,b,B&&B(O,T));function Q(e,t,n,r,i){!1!==e&&Z.push({node:d.cloneElement(t,{prefixCls:E,value:n,active:a===Z.length,onSelect:i,units:r,hideDisabledOptions:j}),onSelect:i,value:n,units:r})}i.current={onUpDown:function(e){var t=Z[a];if(t)for(var n=t.units.findIndex((function(e){return e.value===t.value})),r=t.units.length,i=1;i<r;i+=1){var o=t.units[(n+e*i+r)%r];if(!0!==o.disabled){t.onSelect(o.value);break}}}},Q(s,d.createElement(re,{key:"hour"}),A,K,(function(e){S(F(t,e,T,P),"mouse")})),Q(l,d.createElement(re,{key:"minute"}),T,Y,(function(e){S(F(t,A,e,P),"mouse")})),Q(p,d.createElement(re,{key:"second"}),P,G,(function(e){S(F(t,A,T,e),"mouse")}));var X=-1;return"boolean"===typeof t&&(X=t?1:0),Q(!0===f,d.createElement(re,{key:"12hours"}),X,[{label:"AM",value:0,disabled:W},{label:"PM",value:1,disabled:q}],(function(e){S(F(!!e,A,T,P),"mouse")})),d.createElement("div",{className:N},Z.map((function(e){return e.node})))};var pe=function(e){var t=e.generateConfig,n=e.format,r=void 0===n?"HH:mm:ss":n,i=e.prefixCls,a=e.active,o=e.operationRef,c=e.showHour,p=e.showMinute,h=e.showSecond,g=e.use12Hours,m=void 0!==g&&g,v=e.onSelect,y=e.value,b="".concat(i,"-time-panel"),x=d.useRef(),w=d.useState(-1),k=(0,u.Z)(w,2),_=k[0],C=k[1],j=[c,p,h,m].filter((function(e){return!1!==e})).length;return o.current={onKeyDown:function(e){return T(e,{onLeftRight:function(e){C((_+e+j)%j)},onUpDown:function(e){-1===_?C(0):x.current&&x.current.onUpDown(e)},onEnter:function(){v(y||t.getNow(),"key"),C(-1)}})},onBlur:function(){C(-1)}},d.createElement("div",{className:f()(b,(0,l.Z)({},"".concat(b,"-active"),a))},d.createElement(te,(0,s.Z)({},e,{format:r,prefixCls:i})),d.createElement(de,(0,s.Z)({},e,{prefixCls:i,activeColumnIndex:_,operationRef:x})))},fe=d.createContext({});function he(e){var t=e.cellPrefixCls,n=e.generateConfig,r=e.rangedValue,i=e.hoverRangedValue,a=e.isInView,o=e.isSameCell,s=e.offsetCell,c=e.today,u=e.value;return function(e){var d,p=s(e,-1),f=s(e,1),h=se(r,0),g=se(r,1),m=se(i,0),v=se(i,1),y=Q(n,m,v,e);function b(e){return o(h,e)}function x(e){return o(g,e)}var w=o(m,e),k=o(v,e),_=(y||k)&&(!a(p)||x(p)),C=(y||w)&&(!a(f)||b(f));return d={},(0,l.Z)(d,"".concat(t,"-in-view"),a(e)),(0,l.Z)(d,"".concat(t,"-in-range"),Q(n,h,g,e)),(0,l.Z)(d,"".concat(t,"-range-start"),b(e)),(0,l.Z)(d,"".concat(t,"-range-end"),x(e)),(0,l.Z)(d,"".concat(t,"-range-start-single"),b(e)&&!g),(0,l.Z)(d,"".concat(t,"-range-end-single"),x(e)&&!h),(0,l.Z)(d,"".concat(t,"-range-start-near-hover"),b(e)&&(o(p,m)||Q(n,m,v,p))),(0,l.Z)(d,"".concat(t,"-range-end-near-hover"),x(e)&&(o(f,v)||Q(n,m,v,f))),(0,l.Z)(d,"".concat(t,"-range-hover"),y),(0,l.Z)(d,"".concat(t,"-range-hover-start"),w),(0,l.Z)(d,"".concat(t,"-range-hover-end"),k),(0,l.Z)(d,"".concat(t,"-range-hover-edge-start"),_),(0,l.Z)(d,"".concat(t,"-range-hover-edge-end"),C),(0,l.Z)(d,"".concat(t,"-range-hover-edge-start-near-range"),_&&o(p,g)),(0,l.Z)(d,"".concat(t,"-range-hover-edge-end-near-range"),C&&o(f,h)),(0,l.Z)(d,"".concat(t,"-today"),o(c,e)),(0,l.Z)(d,"".concat(t,"-selected"),o(u,e)),d}}var ge=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.prefixColumn,i=e.locale,a=e.rowCount,o=e.viewDate,l=e.value,c=e.dateRender,u=d.useContext(fe),p=u.rangedValue,f=u.hoverRangedValue,h=function(e,t,n){var r=t.locale.getWeekFirstDay(e),i=t.setDate(n,1),a=t.getWeekDay(i),o=t.addDate(i,r-a);return t.getMonth(o)===t.getMonth(n)&&t.getDate(o)>1&&(o=t.addDate(o,-7)),o}(i.locale,n,o),g="".concat(t,"-cell"),m=n.locale.getWeekFirstDay(i.locale),v=n.getNow(),y=[],b=i.shortWeekDays||(n.locale.getShortWeekDays?n.locale.getShortWeekDays(i.locale):[]);r&&y.push(d.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var x=0;x<7;x+=1)y.push(d.createElement("th",{key:x},b[(x+m)%7]));var w=he({cellPrefixCls:g,today:v,value:l,generateConfig:n,rangedValue:r?null:p,hoverRangedValue:r?null:f,isSameCell:function(e,t){return K(n,e,t)},isInView:function(e){return q(n,e,o)},offsetCell:function(e,t){return n.addDate(e,t)}}),k=c?function(e){return c(e,v)}:void 0;return d.createElement(j,(0,s.Z)({},e,{rowNum:a,colNum:7,baseDate:h,getCellNode:k,getCellText:n.getDate,getCellClassName:w,getCellDate:n.addDate,titleCell:function(e){return $(e,{locale:i,format:"YYYY-MM-DD",generateConfig:n})},headerCells:y}))};var me=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,a=e.onNextMonth,o=e.onPrevMonth,l=e.onNextYear,c=e.onPrevYear,u=e.onYearClick,p=e.onMonthClick;if(d.useContext(y).hideHeader)return null;var f="".concat(t,"-header"),h=r.shortMonths||(n.locale.getShortMonths?n.locale.getShortMonths(r.locale):[]),g=n.getMonth(i),m=d.createElement("button",{type:"button",key:"year",onClick:u,tabIndex:-1,className:"".concat(t,"-year-btn")},$(i,{locale:r,format:r.yearFormat,generateConfig:n})),v=d.createElement("button",{type:"button",key:"month",onClick:p,tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?$(i,{locale:r,format:r.monthFormat,generateConfig:n}):h[g]),b=r.monthBeforeYear?[v,m]:[m,v];return d.createElement(x,(0,s.Z)({},e,{prefixCls:f,onSuperPrev:c,onPrev:o,onNext:a,onSuperNext:l}),b)};var ve=function(e){var t=e.prefixCls,n=e.panelName,r=void 0===n?"date":n,i=e.keyboardConfig,a=e.active,o=e.operationRef,u=e.generateConfig,p=e.value,h=e.viewDate,g=e.onViewDateChange,m=e.onPanelChange,v=e.onSelect,y="".concat(t,"-").concat(r,"-panel");o.current={onKeyDown:function(e){return T(e,(0,c.Z)({onLeftRight:function(e){v(u.addDate(p||h,e),"key")},onCtrlLeftRight:function(e){v(u.addYear(p||h,e),"key")},onUpDown:function(e){v(u.addDate(p||h,7*e),"key")},onPageUpDown:function(e){v(u.addMonth(p||h,e),"key")}},i))}};var b=function(e){var t=u.addYear(h,e);g(t),m(null,t)},x=function(e){var t=u.addMonth(h,e);g(t),m(null,t)};return d.createElement("div",{className:f()(y,(0,l.Z)({},"".concat(y,"-active"),a))},d.createElement(me,(0,s.Z)({},e,{prefixCls:t,value:p,viewDate:h,onPrevYear:function(){b(-1)},onNextYear:function(){b(1)},onPrevMonth:function(){x(-1)},onNextMonth:function(){x(1)},onMonthClick:function(){m("month",h)},onYearClick:function(){m("year",h)}})),d.createElement(ge,(0,s.Z)({},e,{onSelect:function(e){return v(e,"mouse")},prefixCls:t,value:p,viewDate:h,rowCount:6})))},ye=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}("date","time");var be=function(e){var t=e.prefixCls,n=e.operationRef,r=e.generateConfig,i=e.value,a=e.defaultValue,o=e.disabledTime,p=e.showTime,h=e.onSelect,g="".concat(t,"-datetime-panel"),y=d.useState(null),b=(0,u.Z)(y,2),x=b[0],w=b[1],k=d.useRef({}),C=d.useRef({}),j="object"===(0,m.Z)(p)?(0,c.Z)({},p):{},S=function(e){C.current.onBlur&&C.current.onBlur(e),w(null)};n.current={onKeyDown:function(e){if(e.which===v.Z.TAB){var t=function(e){var t=ye.indexOf(x)+e;return ye[t]||null}(e.shiftKey?-1:1);return w(t),t&&e.preventDefault(),!0}if(x){var n="date"===x?k:C;return n.current&&n.current.onKeyDown&&n.current.onKeyDown(e),!0}return!![v.Z.LEFT,v.Z.RIGHT,v.Z.UP,v.Z.DOWN].includes(e.which)&&(w("date"),!0)},onBlur:S,onClose:S};var Z=function(e,t){var n=e;"date"===t&&!i&&j.defaultValue?(n=r.setHour(n,r.getHour(j.defaultValue)),n=r.setMinute(n,r.getMinute(j.defaultValue)),n=r.setSecond(n,r.getSecond(j.defaultValue))):"time"===t&&!i&&a&&(n=r.setYear(n,r.getYear(a)),n=r.setMonth(n,r.getMonth(a)),n=r.setDate(n,r.getDate(a))),h&&h(n,"mouse")},N=o?o(i||null):{};return d.createElement("div",{className:f()(g,(0,l.Z)({},"".concat(g,"-active"),x))},d.createElement(ve,(0,s.Z)({},e,{operationRef:k,active:"date"===x,onSelect:function(e){Z(_(r,e,i||"object"!==(0,m.Z)(p)?null:p.defaultValue),"date")}})),d.createElement(pe,(0,s.Z)({},e,{format:void 0},j,N,{disabledTime:null,defaultValue:void 0,operationRef:C,active:"time"===x,onSelect:function(e){Z(e,"time")}})))};var xe=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.value,a="".concat(t,"-cell"),o="".concat(t,"-week-panel-row");return d.createElement(ve,(0,s.Z)({},e,{panelName:"week",prefixColumn:function(e){return d.createElement("td",{key:"week",className:f()(a,"".concat(a,"-week"))},n.locale.getWeek(r.locale,e))},rowClassName:function(e){return f()(o,(0,l.Z)({},"".concat(o,"-selected"),Y(n,r.locale,i,e)))},keyboardConfig:{onLeftRight:null}}))};var we=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,a=e.onNextYear,o=e.onPrevYear,l=e.onYearClick;if(d.useContext(y).hideHeader)return null;var c="".concat(t,"-header");return d.createElement(x,(0,s.Z)({},e,{prefixCls:c,onSuperPrev:o,onSuperNext:a}),d.createElement("button",{type:"button",onClick:l,className:"".concat(t,"-year-btn")},$(i,{locale:r,format:r.yearFormat,generateConfig:n})))};var ke=function(e){var t=e.prefixCls,n=e.locale,r=e.value,i=e.viewDate,a=e.generateConfig,o=e.monthCellRender,l=d.useContext(fe),c=l.rangedValue,u=l.hoverRangedValue,p=he({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:a,rangedValue:c,hoverRangedValue:u,isSameCell:function(e,t){return q(a,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return a.addMonth(e,t)}}),f=n.shortMonths||(a.locale.getShortMonths?a.locale.getShortMonths(n.locale):[]),h=a.setMonth(i,0),g=o?function(e){return o(e,n)}:void 0;return d.createElement(j,(0,s.Z)({},e,{rowNum:4,colNum:3,baseDate:h,getCellNode:g,getCellText:function(e){return n.monthFormat?$(e,{locale:n,format:n.monthFormat,generateConfig:a}):f[a.getMonth(e)]},getCellClassName:p,getCellDate:a.addMonth,titleCell:function(e){return $(e,{locale:n,format:"YYYY-MM",generateConfig:a})}}))};var _e=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,a=e.value,o=e.viewDate,l=e.onPanelChange,c=e.onSelect,u="".concat(t,"-month-panel");n.current={onKeyDown:function(e){return T(e,{onLeftRight:function(e){c(i.addMonth(a||o,e),"key")},onCtrlLeftRight:function(e){c(i.addYear(a||o,e),"key")},onUpDown:function(e){c(i.addMonth(a||o,3*e),"key")},onEnter:function(){l("date",a||o)}})}};var p=function(e){var t=i.addYear(o,e);r(t),l(null,t)};return d.createElement("div",{className:u},d.createElement(we,(0,s.Z)({},e,{prefixCls:t,onPrevYear:function(){p(-1)},onNextYear:function(){p(1)},onYearClick:function(){l("year",o)}})),d.createElement(ke,(0,s.Z)({},e,{prefixCls:t,onSelect:function(e){c(e,"mouse"),l("date",e)}})))};var Ce=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,a=e.onNextYear,o=e.onPrevYear,l=e.onYearClick;if(d.useContext(y).hideHeader)return null;var c="".concat(t,"-header");return d.createElement(x,(0,s.Z)({},e,{prefixCls:c,onSuperPrev:o,onSuperNext:a}),d.createElement("button",{type:"button",onClick:l,className:"".concat(t,"-year-btn")},$(i,{locale:r,format:r.yearFormat,generateConfig:n})))};var je=function(e){var t=e.prefixCls,n=e.locale,r=e.value,i=e.viewDate,a=e.generateConfig,o=d.useContext(fe),l=o.rangedValue,c=o.hoverRangedValue,u=he({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:a,rangedValue:l,hoverRangedValue:c,isSameCell:function(e,t){return W(a,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return a.addMonth(e,3*t)}}),p=a.setDate(a.setMonth(i,0),1);return d.createElement(j,(0,s.Z)({},e,{rowNum:1,colNum:4,baseDate:p,getCellText:function(e){return $(e,{locale:n,format:n.quarterFormat||"[Q]Q",generateConfig:a})},getCellClassName:u,getCellDate:function(e,t){return a.addMonth(e,3*t)},titleCell:function(e){return $(e,{locale:n,format:"YYYY-[Q]Q",generateConfig:a})}}))};var Se=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,a=e.value,o=e.viewDate,l=e.onPanelChange,c=e.onSelect,u="".concat(t,"-quarter-panel");n.current={onKeyDown:function(e){return T(e,{onLeftRight:function(e){c(i.addMonth(a||o,3*e),"key")},onCtrlLeftRight:function(e){c(i.addYear(a||o,e),"key")},onUpDown:function(e){c(i.addYear(a||o,e),"key")}})}};var p=function(e){var t=i.addYear(o,e);r(t),l(null,t)};return d.createElement("div",{className:u},d.createElement(Ce,(0,s.Z)({},e,{prefixCls:t,onPrevYear:function(){p(-1)},onNextYear:function(){p(1)},onYearClick:function(){l("year",o)}})),d.createElement(je,(0,s.Z)({},e,{prefixCls:t,onSelect:function(e){c(e,"mouse")}})))};var Ze=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,i=e.onPrevDecade,a=e.onNextDecade,o=e.onDecadeClick;if(d.useContext(y).hideHeader)return null;var l="".concat(t,"-header"),c=n.getYear(r),u=Math.floor(c/Ee)*Ee,p=u+Ee-1;return d.createElement(x,(0,s.Z)({},e,{prefixCls:l,onSuperPrev:i,onSuperNext:a}),d.createElement("button",{type:"button",onClick:o,className:"".concat(t,"-decade-btn")},u,"-",p))};var Ne=function(e){var t=e.prefixCls,n=e.value,r=e.viewDate,i=e.locale,a=e.generateConfig,o=d.useContext(fe),l=o.rangedValue,c=o.hoverRangedValue,u="".concat(t,"-cell"),p=a.getYear(r),f=Math.floor(p/Ee)*Ee,h=f+Ee-1,g=a.setYear(r,f-Math.ceil((12-Ee)/2)),m=he({cellPrefixCls:u,value:n,generateConfig:a,rangedValue:l,hoverRangedValue:c,isSameCell:function(e,t){return U(a,e,t)},isInView:function(e){var t=a.getYear(e);return f<=t&&t<=h},offsetCell:function(e,t){return a.addYear(e,t)}});return d.createElement(j,(0,s.Z)({},e,{rowNum:4,colNum:3,baseDate:g,getCellText:a.getYear,getCellClassName:m,getCellDate:a.addYear,titleCell:function(e){return $(e,{locale:i,format:"YYYY",generateConfig:a})}}))},Ee=10;var Oe=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,a=e.value,o=e.viewDate,l=e.sourceMode,c=e.onSelect,u=e.onPanelChange,p="".concat(t,"-year-panel");n.current={onKeyDown:function(e){return T(e,{onLeftRight:function(e){c(i.addYear(a||o,e),"key")},onCtrlLeftRight:function(e){c(i.addYear(a||o,e*Ee),"key")},onUpDown:function(e){c(i.addYear(a||o,3*e),"key")},onEnter:function(){u("date"===l?"date":"month",a||o)}})}};var f=function(e){var t=i.addYear(o,10*e);r(t),u(null,t)};return d.createElement("div",{className:p},d.createElement(Ze,(0,s.Z)({},e,{prefixCls:t,onPrevDecade:function(){f(-1)},onNextDecade:function(){f(1)},onDecadeClick:function(){u("decade",o)}})),d.createElement(Ne,(0,s.Z)({},e,{prefixCls:t,onSelect:function(e){u("date"===l?"date":"month",e),c(e,"mouse")}})))};function Ae(e,t,n){return n?d.createElement("div",{className:"".concat(e,"-footer-extra")},n(t)):null}function Te(e){var t,n,r=e.prefixCls,i=e.rangeList,a=void 0===i?[]:i,o=e.components,s=void 0===o?{}:o,l=e.needConfirmButton,c=e.onNow,u=e.onOk,p=e.okDisabled,f=e.showNow,h=e.locale;if(a.length){var g=s.rangeItem||"span";t=d.createElement(d.Fragment,null,a.map((function(e){var t=e.label,n=e.onClick,i=e.onMouseEnter,a=e.onMouseLeave;return d.createElement("li",{key:t,className:"".concat(r,"-preset")},d.createElement(g,{onClick:n,onMouseEnter:i,onMouseLeave:a},t))})))}if(l){var m=s.button||"button";c&&!t&&!1!==f&&(t=d.createElement("li",{className:"".concat(r,"-now")},d.createElement("a",{className:"".concat(r,"-now-btn"),onClick:c},h.now))),n=l&&d.createElement("li",{className:"".concat(r,"-ok")},d.createElement(m,{disabled:p,onClick:u},h.ok))}return t||n?d.createElement("ul",{className:"".concat(r,"-ranges")},t,n):null}var Pe=function(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,i=e.className,a=e.style,o=e.locale,p=e.generateConfig,b=e.value,x=e.defaultValue,w=e.pickerValue,C=e.defaultPickerValue,j=e.disabledDate,S=e.mode,Z=e.picker,N=void 0===Z?"date":Z,E=e.tabIndex,O=void 0===E?0:E,A=e.showNow,T=e.showTime,P=e.showToday,M=e.renderExtraFooter,I=e.hideHeader,D=e.onSelect,R=e.onChange,B=e.onPanelChange,F=e.onMouseDown,V=e.onPickerValueChange,U=e.onOk,H=e.components,W=e.direction,q=e.hourStep,K=void 0===q?1:q,Y=e.minuteStep,Q=void 0===Y?1:Y,X=e.secondStep,$=void 0===X?1:X,J="date"===N&&!!T||"time"===N,ee=24%K===0,te=60%Q===0,ne=60%$===0,re=d.useContext(y),ie=re.operationRef,ae=re.panelRef,oe=re.onSelect,se=re.hideRanges,le=re.defaultOpenValue,ce=d.useContext(fe),ue=ce.inRange,de=ce.panelPosition,he=ce.rangedValue,ge=ce.hoverRangedValue,me=d.useRef({}),ye=d.useRef(!0),we=(0,g.Z)(null,{value:b,defaultValue:x,postState:function(e){return!e&&le&&"time"===N?le:e}}),ke=(0,u.Z)(we,2),Ce=ke[0],je=ke[1],Ze=(0,g.Z)(null,{value:w,defaultValue:C||Ce,postState:function(e){var t=p.getNow();if(!e)return t;if(!Ce&&T){var n="object"===(0,m.Z)(T)?T.defaultValue:x;return _(p,Array.isArray(e)?e[0]:e,n||t)}return Array.isArray(e)?e[0]:e}}),Ne=(0,u.Z)(Ze,2),Ee=Ne[0],Pe=Ne[1],Me=function(e){Pe(e),V&&V(e)},Ie=function(e){var t=L[N];return t?t(e):e},De=(0,g.Z)((function(){return"time"===N?"time":Ie("date")}),{value:S}),Le=(0,u.Z)(De,2),Re=Le[0],Be=Le[1];d.useEffect((function(){Be(N)}),[N]);var Fe,ze=d.useState((function(){return Re})),Ve=(0,u.Z)(ze,2),Ue=Ve[0],He=Ve[1],We=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(Re===N||n)&&(je(e),D&&D(e),oe&&oe(e,t),!R||G(p,e,Ce)||(null===j||void 0===j?void 0:j(e))||R(e))},qe=function(e){return me.current&&me.current.onKeyDown?([v.Z.LEFT,v.Z.RIGHT,v.Z.UP,v.Z.DOWN,v.Z.PAGE_UP,v.Z.PAGE_DOWN,v.Z.ENTER].includes(e.which)&&e.preventDefault(),me.current.onKeyDown(e)):((0,h.ZP)(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)};ie&&"right"!==de&&(ie.current={onKeyDown:qe,onClose:function(){me.current&&me.current.onClose&&me.current.onClose()}}),d.useEffect((function(){b&&!ye.current&&Pe(b)}),[b]),d.useEffect((function(){ye.current=!1}),[]);var Ke,Ye,Ge,Qe=(0,c.Z)((0,c.Z)({},e),{},{operationRef:me,prefixCls:r,viewDate:Ee,value:Ce,onViewDateChange:Me,sourceMode:Ue,onPanelChange:function(e,t){var n=Ie(e||Re);He(Re),Be(n),B&&(Re!==n||G(p,Ee,Ee))&&B(t,n)},disabledDate:j});switch(delete Qe.onChange,delete Qe.onSelect,Re){case"decade":Fe=d.createElement(z,(0,s.Z)({},Qe,{onSelect:function(e,t){Me(e),We(e,t)}}));break;case"year":Fe=d.createElement(Oe,(0,s.Z)({},Qe,{onSelect:function(e,t){Me(e),We(e,t)}}));break;case"month":Fe=d.createElement(_e,(0,s.Z)({},Qe,{onSelect:function(e,t){Me(e),We(e,t)}}));break;case"quarter":Fe=d.createElement(Se,(0,s.Z)({},Qe,{onSelect:function(e,t){Me(e),We(e,t)}}));break;case"week":Fe=d.createElement(xe,(0,s.Z)({},Qe,{onSelect:function(e,t){Me(e),We(e,t)}}));break;case"time":delete Qe.showTime,Fe=d.createElement(pe,(0,s.Z)({},Qe,"object"===(0,m.Z)(T)?T:null,{onSelect:function(e,t){Me(e),We(e,t)}}));break;default:Fe=T?d.createElement(be,(0,s.Z)({},Qe,{onSelect:function(e,t){Me(e),We(e,t)}})):d.createElement(ve,(0,s.Z)({},Qe,{onSelect:function(e,t){Me(e),We(e,t)}}))}if(se||(Ke=Ae(r,Re,M),Ye=Te({prefixCls:r,components:H,needConfirmButton:J,okDisabled:!Ce||j&&j(Ce),locale:o,showNow:A,onNow:J&&function(){var e=p.getNow(),t=function(e,t,n,r,i,a){var o=Math.floor(e/r)*r;if(o<e)return[o,60-i,60-a];var s=Math.floor(t/i)*i;return s<t?[o,s,60-a]:[o,s,Math.floor(n/a)*a]}(p.getHour(e),p.getMinute(e),p.getSecond(e),ee?K:1,te?Q:1,ne?$:1),n=k(p,e,t[0],t[1],t[2]);We(n,"submit")},onOk:function(){Ce&&(We(Ce,"submit",!0),U&&U(Ce))}})),P&&"date"===Re&&"date"===N&&!T){var Xe=p.getNow(),$e="".concat(r,"-today-btn"),Je=j&&j(Xe);Ge=d.createElement("a",{className:f()($e,Je&&"".concat($e,"-disabled")),"aria-disabled":Je,onClick:function(){Je||We(Xe,"mouse",!0)}},o.today)}return d.createElement(y.Provider,{value:(0,c.Z)((0,c.Z)({},re),{},{mode:Re,hideHeader:"hideHeader"in e?I:re.hideHeader,hidePrevBtn:ue&&"right"===de,hideNextBtn:ue&&"left"===de})},d.createElement("div",{tabIndex:O,className:f()("".concat(r,"-panel"),i,(t={},(0,l.Z)(t,"".concat(r,"-panel-has-range"),he&&he[0]&&he[1]),(0,l.Z)(t,"".concat(r,"-panel-has-range-hover"),ge&&ge[0]&&ge[1]),(0,l.Z)(t,"".concat(r,"-panel-rtl"),"rtl"===W),t)),style:a,onKeyDown:qe,onBlur:function(e){me.current&&me.current.onBlur&&me.current.onBlur(e)},onMouseDown:F,ref:ae},Fe,Ke||Ye||Ge?d.createElement("div",{className:"".concat(r,"-footer")},Ke,Ye,Ge):null))},Me=n(8740),Ie={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};var De=function(e){var t,n=e.prefixCls,r=e.popupElement,i=e.popupStyle,a=e.visible,o=e.dropdownClassName,s=e.dropdownAlign,c=e.transitionName,u=e.getPopupContainer,p=e.children,h=e.range,g=e.popupPlacement,m=e.direction,v="".concat(n,"-dropdown");return d.createElement(Me.Z,{showAction:[],hideAction:[],popupPlacement:void 0!==g?g:"rtl"===m?"bottomRight":"bottomLeft",builtinPlacements:Ie,prefixCls:v,popupTransitionName:c,popup:r,popupAlign:s,popupVisible:a,popupClassName:f()(o,(t={},(0,l.Z)(t,"".concat(v,"-range"),h),(0,l.Z)(t,"".concat(v,"-rtl"),"rtl"===m),t)),popupStyle:i,getPopupContainer:u},p)};function Le(e){var t=e.open,n=e.value,r=e.isClickOutside,i=e.triggerOpen,a=e.forwardKeyDown,o=e.onKeyDown,s=e.blurToCancel,l=e.onSubmit,c=e.onCancel,p=e.onFocus,f=e.onBlur,h=(0,d.useState)(!1),g=(0,u.Z)(h,2),m=g[0],y=g[1],b=(0,d.useState)(!1),x=(0,u.Z)(b,2),w=x[0],k=x[1],_=(0,d.useRef)(!1),C=(0,d.useRef)(!1),j=(0,d.useRef)(!1),S={onMouseDown:function(){y(!0),i(!0)},onKeyDown:function(e){if(o(e,(function(){j.current=!0})),!j.current){switch(e.which){case v.Z.ENTER:return t?!1!==l()&&y(!0):i(!0),void e.preventDefault();case v.Z.TAB:return void(m&&t&&!e.shiftKey?(y(!1),e.preventDefault()):!m&&t&&!a(e)&&e.shiftKey&&(y(!0),e.preventDefault()));case v.Z.ESC:return y(!0),void c()}t||[v.Z.SHIFT].includes(e.which)?m||a(e):i(!0)}},onFocus:function(e){y(!0),k(!0),p&&p(e)},onBlur:function(e){!_.current&&r(document.activeElement)?(s?setTimeout((function(){for(var e=document.activeElement;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;r(e)&&c()}),0):t&&(i(!1),C.current&&l()),k(!1),f&&f(e)):_.current=!1}};return(0,d.useEffect)((function(){C.current=!1}),[t]),(0,d.useEffect)((function(){C.current=!0}),[n]),(0,d.useEffect)((function(){return e=function(e){var n=function(e){var t,n=e.target;return e.composed&&n.shadowRoot&&(null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])||n}(e);if(t){var a=r(n);a?w&&!a||i(!1):(_.current=!0,requestAnimationFrame((function(){_.current=!1})))}},!I&&"undefined"!==typeof window&&window.addEventListener&&(I=function(e){(0,Z.Z)(D).forEach((function(t){t(e)}))},window.addEventListener("mousedown",I)),D.add(e),function(){D.delete(e),0===D.size&&(window.removeEventListener("mousedown",I),I=null)};var e})),[S,{focused:w,typing:m}]}function Re(e){var t=e.valueTexts,n=e.onTextChange,r=d.useState(""),i=(0,u.Z)(r,2),a=i[0],o=i[1],s=d.useRef([]);function l(){o(s.current[0])}return s.current=t,d.useEffect((function(){t.every((function(e){return e!==a}))&&l()}),[t.join("||")]),[a,function(e){o(e),n(e)},l]}var Be=n(59767),Fe=n.n(Be);function ze(e,t){var n=t.formatList,r=t.generateConfig,i=t.locale;return(0,ne.Z)((function(){if(!e)return[[""],""];for(var t="",a=[],o=0;o<n.length;o+=1){var s=n[o],l=$(e,{generateConfig:r,locale:i,format:s});a.push(l),0===o&&(t=l)}return[a,t]}),[e,n],(function(e,t){return e[0]!==t[0]||!Fe()(e[1],t[1])}))}function Ve(e,t){var n=t.formatList,r=t.generateConfig,i=t.locale,a=(0,d.useState)(null),o=(0,u.Z)(a,2),s=o[0],l=o[1],c=(0,d.useRef)(null);function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];cancelAnimationFrame(c.current),t?l(e):c.current=requestAnimationFrame((function(){l(e)}))}var f=ze(s,{formatList:n,generateConfig:r,locale:i}),h=(0,u.Z)(f,2)[1];function g(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p(null,e)}return(0,d.useEffect)((function(){g(!0)}),[e]),(0,d.useEffect)((function(){return function(){return cancelAnimationFrame(c.current)}}),[]),[h,function(e){p(e)},g]}function Ue(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,i=e.id,a=e.tabIndex,o=e.style,p=e.className,m=e.dropdownClassName,v=e.dropdownAlign,b=e.popupStyle,x=e.transitionName,w=e.generateConfig,k=e.locale,_=e.inputReadOnly,C=e.allowClear,j=e.autoFocus,S=e.showTime,Z=e.picker,N=void 0===Z?"date":Z,E=e.format,O=e.use12Hours,A=e.value,T=e.defaultValue,I=e.open,D=e.defaultOpen,L=e.defaultOpenValue,B=e.suffixIcon,F=e.clearIcon,z=e.disabled,V=e.disabledDate,U=e.placeholder,H=e.getPopupContainer,W=e.pickerRef,q=e.panelRender,K=e.onChange,Y=e.onOpenChange,Q=e.onFocus,X=e.onBlur,ee=e.onMouseDown,te=e.onMouseUp,ne=e.onMouseEnter,re=e.onMouseLeave,ie=e.onContextMenu,se=e.onClick,le=e.onKeyDown,ce=e.onSelect,ue=e.direction,de=e.autoComplete,pe=void 0===de?"off":de,fe=e.inputRender,he=d.useRef(null),ge="date"===N&&!!S||"time"===N;var me=ae(P(E,N,S,O)),ve=d.useRef(null),ye=d.useRef(null),be=d.useRef(null),xe=(0,g.Z)(null,{value:A,defaultValue:T}),we=(0,u.Z)(xe,2),ke=we[0],_e=we[1],Ce=d.useState(ke),je=(0,u.Z)(Ce,2),Se=je[0],Ze=je[1],Ne=d.useRef(null),Ee=(0,g.Z)(!1,{value:I,defaultValue:D,postState:function(e){return!z&&e},onChange:function(e){Y&&Y(e),!e&&Ne.current&&Ne.current.onClose&&Ne.current.onClose()}}),Oe=(0,u.Z)(Ee,2),Ae=Oe[0],Te=Oe[1],Me=ze(Se,{formatList:me,generateConfig:w,locale:k}),Ie=(0,u.Z)(Me,2),Be=Ie[0],Fe=Ie[1],Ue=Re({valueTexts:Be,onTextChange:function(e){var t=J(e,{locale:k,formatList:me,generateConfig:w});!t||V&&V(t)||Ze(t)}}),He=(0,u.Z)(Ue,3),We=He[0],qe=He[1],Ke=He[2],Ye=function(e){Ze(e),_e(e),K&&!G(w,ke,e)&&K(e,e?$(e,{generateConfig:w,locale:k,format:me[0]}):"")},Ge=function(e){z&&e||Te(e)},Qe=Le({blurToCancel:ge,open:Ae,value:We,triggerOpen:Ge,forwardKeyDown:function(e){return Ae&&Ne.current&&Ne.current.onKeyDown?Ne.current.onKeyDown(e):((0,h.ZP)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},isClickOutside:function(e){return!R([ve.current,ye.current,be.current],e)},onSubmit:function(){return!(!Se||V&&V(Se))&&(Ye(Se),Ge(!1),Ke(),!0)},onCancel:function(){Ge(!1),Ze(ke),Ke()},onKeyDown:function(e,t){null===le||void 0===le||le(e,t)},onFocus:Q,onBlur:X}),Xe=(0,u.Z)(Qe,2),$e=Xe[0],Je=Xe[1],et=Je.focused,tt=Je.typing;d.useEffect((function(){Ae||(Ze(ke),Be.length&&""!==Be[0]?Fe!==We&&Ke():qe(""))}),[Ae,Be]),d.useEffect((function(){Ae||Ke()}),[N]),d.useEffect((function(){Ze(ke)}),[ke]),W&&(W.current={focus:function(){he.current&&he.current.focus()},blur:function(){he.current&&he.current.blur()}});var nt=Ve(We,{formatList:me,generateConfig:w,locale:k}),rt=(0,u.Z)(nt,3),it=rt[0],at=rt[1],ot=rt[2],st=(0,c.Z)((0,c.Z)({},e),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),lt=d.createElement(Pe,(0,s.Z)({},st,{generateConfig:w,className:f()((0,l.Z)({},"".concat(r,"-panel-focused"),!tt)),value:Se,locale:k,tabIndex:-1,onSelect:function(e){null===ce||void 0===ce||ce(e),Ze(e)},direction:ue,onPanelChange:function(t,n){var r=e.onPanelChange;ot(!0),null===r||void 0===r||r(t,n)}}));q&&(lt=q(lt));var ct,ut,dt=d.createElement("div",{className:"".concat(r,"-panel-container"),onMouseDown:function(e){e.preventDefault()}},lt);B&&(ct=d.createElement("span",{className:"".concat(r,"-suffix")},B)),C&&ke&&!z&&(ut=d.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation(),Ye(null),Ge(!1)},className:"".concat(r,"-clear"),role:"button"},F||d.createElement("span",{className:"".concat(r,"-clear-btn")})));var pt=(0,c.Z)((0,c.Z)((0,c.Z)({id:i,tabIndex:a,disabled:z,readOnly:_||"function"===typeof me[0]||!tt,value:it||We,onChange:function(e){qe(e.target.value)},autoFocus:j,placeholder:U,ref:he,title:We},$e),{},{size:M(N,me[0],w)},oe(e)),{},{autoComplete:pe}),ft=fe?fe(pt):d.createElement("input",pt);var ht="rtl"===ue?"bottomRight":"bottomLeft";return d.createElement(y.Provider,{value:{operationRef:Ne,hideHeader:"time"===N,panelRef:ve,onSelect:function(e,t){("submit"===t||"key"!==t&&!ge)&&(Ye(e),Ge(!1))},open:Ae,defaultOpenValue:L,onDateMouseEnter:at,onDateMouseLeave:ot}},d.createElement(De,{visible:Ae,popupElement:dt,popupStyle:b,prefixCls:r,dropdownClassName:m,dropdownAlign:v,getPopupContainer:H,transitionName:x,popupPlacement:ht,direction:ue},d.createElement("div",{ref:be,className:f()(r,p,(t={},(0,l.Z)(t,"".concat(r,"-disabled"),z),(0,l.Z)(t,"".concat(r,"-focused"),et),(0,l.Z)(t,"".concat(r,"-rtl"),"rtl"===ue),t)),style:o,onMouseDown:ee,onMouseUp:function(){te&&te.apply(void 0,arguments),he.current&&(he.current.focus(),Ge(!0))},onMouseEnter:ne,onMouseLeave:re,onContextMenu:ie,onClick:se},d.createElement("div",{className:f()("".concat(r,"-input"),(0,l.Z)({},"".concat(r,"-input-placeholder"),!!it)),ref:ye},ft,ct,ut))))}var He=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).pickerRef=d.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,i.Z)(n,[{key:"render",value:function(){return d.createElement(Ue,(0,s.Z)({},this.props,{pickerRef:this.pickerRef}))}}]),n}(d.Component),We=He;function qe(e,t,n,r){var i=X(e,n,r,1);function a(n){return n(e,t)?"same":n(i,t)?"closing":"far"}switch(n){case"year":return a((function(e,t){return function(e,t,n){var r=V(t,n);return"boolean"===typeof r?r:Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)}(r,e,t)}));case"quarter":case"month":return a((function(e,t){return U(r,e,t)}));default:return a((function(e,t){return q(r,e,t)}))}}function Ke(e){var t=e.values,n=e.picker,r=e.defaultDates,i=e.generateConfig,a=d.useState((function(){return[se(r,0),se(r,1)]})),o=(0,u.Z)(a,2),s=o[0],l=o[1],c=d.useState(null),p=(0,u.Z)(c,2),f=p[0],h=p[1],g=se(t,0),m=se(t,1);return[function(e){return s[e]?s[e]:se(f,e)||function(e,t,n,r){var i=se(e,0),a=se(e,1);if(0===t)return i;if(i&&a)switch(qe(i,a,n,r)){case"same":case"closing":return i;default:return X(a,n,r,-1)}return i}(t,e,n,i)||g||m||i.getNow()},function(e,n){if(e){var r=le(f,e,n);l(le(s,null,n)||[null,null]);var i=(n+1)%2;se(t,i)||(r=le(r,e,i)),h(r)}else(g||m)&&h(null)}]}function Ye(e,t){return e&&e[0]&&e[1]&&t.isAfter(e[0],e[1])?[e[1],e[0]]:e}function Ge(e,t,n,r){return!!e||(!(!r||!r[t])||!!n[(t+1)%2])}function Qe(e){var t,n,r,i=e.prefixCls,a=void 0===i?"rc-picker":i,o=e.id,p=e.style,v=e.className,b=e.popupStyle,x=e.dropdownClassName,w=e.transitionName,k=e.dropdownAlign,_=e.getPopupContainer,C=e.generateConfig,j=e.locale,S=e.placeholder,Z=e.autoFocus,N=e.disabled,E=e.format,O=e.picker,A=void 0===O?"date":O,T=e.showTime,I=e.use12Hours,D=e.separator,L=void 0===D?"~":D,B=e.value,F=e.defaultValue,z=e.defaultPickerValue,V=e.open,U=e.defaultOpen,q=e.disabledDate,Q=e.disabledTime,ee=e.dateRender,te=e.panelRender,ne=e.ranges,re=e.allowEmpty,ie=e.allowClear,ce=e.suffixIcon,ue=e.clearIcon,de=e.pickerRef,pe=e.inputReadOnly,he=e.mode,ge=e.renderExtraFooter,me=e.onChange,ve=e.onOpenChange,ye=e.onPanelChange,be=e.onCalendarChange,xe=e.onFocus,we=e.onBlur,ke=e.onMouseDown,_e=e.onMouseUp,Ce=e.onMouseEnter,je=e.onMouseLeave,Se=e.onClick,Ze=e.onOk,Ne=e.onKeyDown,Ee=e.components,Oe=e.order,Me=e.direction,Ie=e.activePickerIndex,Be=e.autoComplete,Fe=void 0===Be?"off":Be,Ue="date"===A&&!!T||"time"===A,He=(0,d.useRef)({}),We=(0,d.useRef)(null),qe=(0,d.useRef)(null),Qe=(0,d.useRef)(null),Xe=(0,d.useRef)(null),$e=(0,d.useRef)(null),Je=(0,d.useRef)(null),et=(0,d.useRef)(null),tt=(0,d.useRef)(null);var nt=ae(P(E,A,T,I)),rt=(0,g.Z)(0,{value:Ie}),it=(0,u.Z)(rt,2),at=it[0],ot=it[1],st=(0,d.useRef)(null),lt=d.useMemo((function(){return Array.isArray(N)?N:[N||!1,N||!1]}),[N]),ct=(0,g.Z)(null,{value:B,defaultValue:F,postState:function(e){return"time"!==A||Oe?Ye(e,C):e}}),ut=(0,u.Z)(ct,2),dt=ut[0],pt=ut[1],ft=Ke({values:dt,picker:A,defaultDates:z,generateConfig:C}),ht=(0,u.Z)(ft,2),gt=ht[0],mt=ht[1],vt=(0,g.Z)(dt,{postState:function(e){var t=e;if(lt[0]&&lt[1])return t;for(var n=0;n<2;n+=1)!lt[n]||se(t,n)||se(re,n)||(t=le(t,C.getNow(),n));return t}}),yt=(0,u.Z)(vt,2),bt=yt[0],xt=yt[1],wt=(0,g.Z)([A,A],{value:he}),kt=(0,u.Z)(wt,2),_t=kt[0],Ct=kt[1];(0,d.useEffect)((function(){Ct([A,A])}),[A]);var jt=function(e,t){Ct(e),ye&&ye(t,e)},St=function(e,t,n){var r=e.picker,i=e.locale,a=e.selectedValue,o=e.disabledDate,s=e.disabled,l=e.generateConfig,c=se(a,0),u=se(a,1);function p(e){return l.locale.getWeekFirstDate(i.locale,e)}function f(e){return 100*l.getYear(e)+l.getMonth(e)}function h(e){return 10*l.getYear(e)+H(l,e)}return[d.useCallback((function(e){if(o&&o(e))return!0;if(s[1]&&u)return!K(l,e,u)&&l.isAfter(e,u);if(t&&u)switch(r){case"quarter":return h(e)>h(u);case"month":return f(e)>f(u);case"week":return p(e)>p(u);default:return!K(l,e,u)&&l.isAfter(e,u)}return!1}),[o,s[1],u,t]),d.useCallback((function(e){if(o&&o(e))return!0;if(s[0]&&c)return!K(l,e,u)&&l.isAfter(c,e);if(n&&c)switch(r){case"quarter":return h(e)<h(c);case"month":return f(e)<f(c);case"week":return p(e)<p(c);default:return!K(l,e,c)&&l.isAfter(c,e)}return!1}),[o,s[0],c,n])]}({picker:A,selectedValue:bt,locale:j,disabled:lt,disabledDate:q,generateConfig:C},He.current[1],He.current[0]),Zt=(0,u.Z)(St,2),Nt=Zt[0],Et=Zt[1],Ot=(0,g.Z)(!1,{value:V,defaultValue:U,postState:function(e){return!lt[at]&&e},onChange:function(e){ve&&ve(e),!e&&st.current&&st.current.onClose&&st.current.onClose()}}),At=(0,u.Z)(Ot,2),Tt=At[0],Pt=At[1],Mt=Tt&&0===at,It=Tt&&1===at,Dt=(0,d.useState)(0),Lt=(0,u.Z)(Dt,2),Rt=Lt[0],Bt=Lt[1];(0,d.useEffect)((function(){!Tt&&We.current&&Bt(We.current.offsetWidth)}),[Tt]);var Ft=d.useRef();function zt(e,t){if(e)clearTimeout(Ft.current),He.current[t]=!0,ot(t),Pt(e),Tt||mt(null,t);else if(at===t){Pt(e);var n=He.current;Ft.current=setTimeout((function(){n===He.current&&(He.current={})}))}}function Vt(e){zt(!0,e),setTimeout((function(){var t=[Je,et][e];t.current&&t.current.focus()}),0)}function Ut(e,t){var n=e,r=se(n,0),i=se(n,1);r&&i&&C.isAfter(r,i)&&("week"===A&&!Y(C,j.locale,r,i)||"quarter"===A&&!W(C,r,i)||"week"!==A&&"quarter"!==A&&"time"!==A&&!K(C,r,i)?(0===t?(n=[r,null],i=null):(r=null,n=[null,i]),He.current=(0,l.Z)({},t,!0)):"time"===A&&!1===Oe||(n=Ye(n,C))),xt(n);var a=n&&n[0]?$(n[0],{generateConfig:C,locale:j,format:nt[0]}):"",o=n&&n[1]?$(n[1],{generateConfig:C,locale:j,format:nt[0]}):"";be&&be(n,[a,o],{range:0===t?"start":"end"});var s=Ge(r,0,lt,re),c=Ge(i,1,lt,re);(null===n||s&&c)&&(pt(n),!me||G(C,se(dt,0),r)&&G(C,se(dt,1),i)||me(n,[a,o]));var u=null;0!==t||lt[1]?1!==t||lt[0]||(u=0):u=1,null===u||u===at||He.current[u]&&se(n,u)||!se(n,t)?zt(!1,t):Vt(u)}var Ht=function(e){return Tt&&st.current&&st.current.onKeyDown?st.current.onKeyDown(e):((0,h.ZP)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},Wt={formatList:nt,generateConfig:C,locale:j},qt=ze(se(bt,0),Wt),Kt=(0,u.Z)(qt,2),Yt=Kt[0],Gt=Kt[1],Qt=ze(se(bt,1),Wt),Xt=(0,u.Z)(Qt,2),$t=Xt[0],Jt=Xt[1],en=function(e,t){var n=J(e,{locale:j,formatList:nt,generateConfig:C});n&&!(0===t?Nt:Et)(n)&&(xt(le(bt,n,t)),mt(n,t))},tn=Re({valueTexts:Yt,onTextChange:function(e){return en(e,0)}}),nn=(0,u.Z)(tn,3),rn=nn[0],an=nn[1],on=nn[2],sn=Re({valueTexts:$t,onTextChange:function(e){return en(e,1)}}),ln=(0,u.Z)(sn,3),cn=ln[0],un=ln[1],dn=ln[2],pn=(0,d.useState)(null),fn=(0,u.Z)(pn,2),hn=fn[0],gn=fn[1],mn=(0,d.useState)(null),vn=(0,u.Z)(mn,2),yn=vn[0],bn=vn[1],xn=Ve(rn,{formatList:nt,generateConfig:C,locale:j}),wn=(0,u.Z)(xn,3),kn=wn[0],_n=wn[1],Cn=wn[2],jn=Ve(cn,{formatList:nt,generateConfig:C,locale:j}),Sn=(0,u.Z)(jn,3),Zn=Sn[0],Nn=Sn[1],En=Sn[2],On=function(e,t){return{blurToCancel:Ue,forwardKeyDown:Ht,onBlur:we,isClickOutside:function(e){return!R([qe.current,Qe.current,Xe.current,We.current],e)},onFocus:function(t){ot(e),xe&&xe(t)},triggerOpen:function(t){zt(t,e)},onSubmit:function(){if(!bt||q&&q(bt[e]))return!1;Ut(bt,e),t()},onCancel:function(){zt(!1,e),xt(dt),t()}}},An=Le((0,c.Z)((0,c.Z)({},On(0,on)),{},{open:Mt,value:rn,onKeyDown:function(e,t){null===Ne||void 0===Ne||Ne(e,t)}})),Tn=(0,u.Z)(An,2),Pn=Tn[0],Mn=Tn[1],In=Mn.focused,Dn=Mn.typing,Ln=Le((0,c.Z)((0,c.Z)({},On(1,dn)),{},{open:It,value:cn,onKeyDown:function(e,t){null===Ne||void 0===Ne||Ne(e,t)}})),Rn=(0,u.Z)(Ln,2),Bn=Rn[0],Fn=Rn[1],zn=Fn.focused,Vn=Fn.typing,Un=dt&&dt[0]?$(dt[0],{locale:j,format:"YYYYMMDDHHmmss",generateConfig:C}):"",Hn=dt&&dt[1]?$(dt[1],{locale:j,format:"YYYYMMDDHHmmss",generateConfig:C}):"";(0,d.useEffect)((function(){Tt||(xt(dt),Yt.length&&""!==Yt[0]?Gt!==rn&&on():an(""),$t.length&&""!==$t[0]?Jt!==cn&&dn():un(""))}),[Tt,Yt,$t]),(0,d.useEffect)((function(){xt(dt)}),[Un,Hn]),de&&(de.current={focus:function(){Je.current&&Je.current.focus()},blur:function(){Je.current&&Je.current.blur(),et.current&&et.current.blur()}});var Wn=Object.keys(ne||{}).map((function(e){var t=ne[e],n="function"===typeof t?t():t;return{label:e,onClick:function(){Ut(n,null),zt(!1,at)},onMouseEnter:function(){gn(n)},onMouseLeave:function(){gn(null)}}}));function qn(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;Tt&&yn&&yn[0]&&yn[1]&&C.isAfter(yn[1],yn[0])&&(r=yn);var i=T;if(T&&"object"===(0,m.Z)(T)&&T.defaultValue){var o=T.defaultValue;i=(0,c.Z)((0,c.Z)({},T),{},{defaultValue:se(o,at)||void 0})}var u=null;return ee&&(u=function(e,t){return ee(e,t,{range:at?"end":"start"})}),d.createElement(fe.Provider,{value:{inRange:!0,panelPosition:t,rangedValue:hn||bt,hoverRangedValue:r}},d.createElement(Pe,(0,s.Z)({},e,n,{dateRender:u,showTime:i,mode:_t[at],generateConfig:C,style:void 0,direction:Me,disabledDate:0===at?Nt:Et,disabledTime:function(e){return!!Q&&Q(e,0===at?"start":"end")},className:f()((0,l.Z)({},"".concat(a,"-panel-focused"),0===at?!Dn:!Vn)),value:se(bt,at),locale:j,tabIndex:-1,onPanelChange:function(e,n){0===at&&Cn(!0),1===at&&En(!0),jt(le(_t,n,at),le(bt,e,at));var r=e;"right"===t&&_t[at]===n&&(r=X(r,n,C,-1)),mt(r,at)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:se(bt,0===at?1:0)})))}var Kn=0,Yn=0;at&&Qe.current&&$e.current&&qe.current&&(Kn=Qe.current.offsetWidth+$e.current.offsetWidth,qe.current.offsetWidth&&tt.current.offsetWidth&&Kn>qe.current.offsetWidth-tt.current.offsetWidth-("rtl"===Me||tt.current.offsetLeft>Kn?0:tt.current.offsetLeft)&&(Yn=Kn));var Gn="rtl"===Me?{right:Kn}:{left:Kn};var Qn,Xn,$n=d.createElement("div",{className:f()("".concat(a,"-range-wrapper"),"".concat(a,"-").concat(A,"-range-wrapper")),style:{minWidth:Rt}},d.createElement("div",{ref:tt,className:"".concat(a,"-range-arrow"),style:Gn}),function(){var e,t=Ae(a,_t[at],ge),n=Te({prefixCls:a,components:Ee,needConfirmButton:Ue,okDisabled:!se(bt,at)||q&&q(bt[at]),locale:j,rangeList:Wn,onOk:function(){se(bt,at)&&(Ut(bt,at),Ze&&Ze(bt))}});if("time"===A||T)e=qn();else{var r=gt(at),i=X(r,A,C),o=_t[at]===A,s=qn(!!o&&"left",{pickerValue:r,onPickerValueChange:function(e){mt(e,at)}}),l=qn("right",{pickerValue:i,onPickerValueChange:function(e){mt(X(e,A,C,-1),at)}});e="rtl"===Me?d.createElement(d.Fragment,null,l,o&&s):d.createElement(d.Fragment,null,s,o&&l)}var c=d.createElement(d.Fragment,null,d.createElement("div",{className:"".concat(a,"-panels")},e),(t||n)&&d.createElement("div",{className:"".concat(a,"-footer")},t,n));return te&&(c=te(c)),d.createElement("div",{className:"".concat(a,"-panel-container"),style:{marginLeft:Yn},ref:qe,onMouseDown:function(e){e.preventDefault()}},c)}());ce&&(Qn=d.createElement("span",{className:"".concat(a,"-suffix")},ce)),ie&&(se(dt,0)&&!lt[0]||se(dt,1)&&!lt[1])&&(Xn=d.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation();var t=dt;lt[0]||(t=le(t,null,0)),lt[1]||(t=le(t,null,1)),Ut(t,null),zt(!1,at)},className:"".concat(a,"-clear")},ue||d.createElement("span",{className:"".concat(a,"-clear-btn")})));var Jn={size:M(A,nt[0],C)},er=0,tr=0;Qe.current&&Xe.current&&$e.current&&(0===at?tr=Qe.current.offsetWidth:(er=Kn,tr=Xe.current.offsetWidth));var nr="rtl"===Me?{right:er}:{left:er};return d.createElement(y.Provider,{value:{operationRef:st,hideHeader:"time"===A,onDateMouseEnter:function(e){bn(le(bt,e,at)),0===at?_n(e):Nn(e)},onDateMouseLeave:function(){bn(le(bt,null,at)),0===at?Cn():En()},hideRanges:!0,onSelect:function(e,t){var n=le(bt,e,at);"submit"===t||"key"!==t&&!Ue?(Ut(n,at),0===at?Cn():En()):xt(n)},open:Tt}},d.createElement(De,{visible:Tt,popupElement:$n,popupStyle:b,prefixCls:a,dropdownClassName:x,dropdownAlign:k,getPopupContainer:_,transitionName:w,range:!0,direction:Me},d.createElement("div",(0,s.Z)({ref:We,className:f()(a,"".concat(a,"-range"),v,(t={},(0,l.Z)(t,"".concat(a,"-disabled"),lt[0]&&lt[1]),(0,l.Z)(t,"".concat(a,"-focused"),0===at?In:zn),(0,l.Z)(t,"".concat(a,"-rtl"),"rtl"===Me),t)),style:p,onClick:function(e){Se&&Se(e),Tt||Je.current.contains(e.target)||et.current.contains(e.target)||(lt[0]?lt[1]||Vt(1):Vt(0))},onMouseEnter:Ce,onMouseLeave:je,onMouseDown:function(e){ke&&ke(e),!Tt||!In&&!zn||Je.current.contains(e.target)||et.current.contains(e.target)||e.preventDefault()},onMouseUp:_e},oe(e)),d.createElement("div",{className:f()("".concat(a,"-input"),(n={},(0,l.Z)(n,"".concat(a,"-input-active"),0===at),(0,l.Z)(n,"".concat(a,"-input-placeholder"),!!kn),n)),ref:Qe},d.createElement("input",(0,s.Z)({id:o,disabled:lt[0],readOnly:pe||"function"===typeof nt[0]||!Dn,value:kn||rn,onChange:function(e){an(e.target.value)},autoFocus:Z,placeholder:se(S,0)||"",ref:Je},Pn,Jn,{autoComplete:Fe}))),d.createElement("div",{className:"".concat(a,"-range-separator"),ref:$e},L),d.createElement("div",{className:f()("".concat(a,"-input"),(r={},(0,l.Z)(r,"".concat(a,"-input-active"),1===at),(0,l.Z)(r,"".concat(a,"-input-placeholder"),!!Zn),r)),ref:Xe},d.createElement("input",(0,s.Z)({disabled:lt[1],readOnly:pe||"function"===typeof nt[0]||!Vn,value:Zn||cn,onChange:function(e){un(e.target.value)},placeholder:se(S,1)||"",ref:et},Bn,Jn,{autoComplete:Fe}))),d.createElement("div",{className:"".concat(a,"-active-bar"),style:(0,c.Z)((0,c.Z)({},nr),{},{width:tr,position:"absolute"})}),Qn,Xn)))}var Xe=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).pickerRef=d.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,i.Z)(n,[{key:"render",value:function(){return d.createElement(Qe,(0,s.Z)({},this.props,{pickerRef:this.pickerRef}))}}]),n}(d.Component),$e=Xe,Je=We},84474:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(70816)),a=n(64287),o={getNow:function(){return(0,i.default)()},getFixedDate:function(e){return(0,i.default)(e,"YYYY-MM-DD")},getEndDate:function(e){return e.clone().endOf("month")},getWeekDay:function(e){var t=e.clone().locale("en_US");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},addYear:function(e,t){return e.clone().add(t,"year")},addMonth:function(e,t){return e.clone().add(t,"month")},addDate:function(e,t){return e.clone().add(t,"day")},setYear:function(e,t){return e.clone().year(t)},setMonth:function(e,t){return e.clone().month(t)},setDate:function(e,t){return e.clone().date(t)},setHour:function(e,t){return e.clone().hour(t)},setMinute:function(e,t){return e.clone().minute(t)},setSecond:function(e,t){return e.clone().second(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return(0,i.default)().locale(e).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,t){return t.clone().locale(e).weekday(0)},getWeek:function(e,t){return t.clone().locale(e).week()},getShortWeekDays:function(e){return(0,i.default)().locale(e).localeData().weekdaysMin()},getShortMonths:function(e){return(0,i.default)().locale(e).localeData().monthsShort()},format:function(e,t,n){return t.clone().locale(e).format(n)},parse:function(e,t,n){for(var r=[],o=0;o<n.length;o+=1){var s=n[o],l=t;if(s.includes("wo")||s.includes("Wo")){var c=(s=s.replace(/wo/g,"w").replace(/Wo/g,"W")).match(/[-YyMmDdHhSsWwGg]+/g),u=l.match(/[-\d]+/g);c&&u?(s=c.join(""),l=u.join("")):r.push(s.replace(/o/g,""))}var d=(0,i.default)(l,s,e,!0);if(d.isValid())return d}for(var p=0;p<r.length;p+=1){var f=(0,i.default)(t,r[p],e,!1);if(f.isValid())return(0,a.noteOnce)(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),f}return null}}};t.default=o},23143:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};t.default=n},83440:function(e,t,n){"use strict";n.r(t),n.d(t,{Circle:function(){return j},Line:function(){return p},default:function(){return S}});var r=n(87462),i=n(45987),a=n(47313),o=n(46123),s=n.n(o),l={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},c=function(){var e=(0,a.useRef)([]),t=(0,a.useRef)(null);return(0,a.useEffect)((function(){var n=Date.now(),r=!1;e.current.forEach((function(e){if(e){r=!0;var i=e.style;i.transitionDuration=".3s, .3s, .3s, .06s",t.current&&n-t.current<100&&(i.transitionDuration="0s, 0s")}})),r&&(t.current=Date.now())})),e.current},u=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],d=function(e){var t=e.className,n=e.percent,o=e.prefixCls,l=e.strokeColor,d=e.strokeLinecap,p=e.strokeWidth,f=e.style,h=e.trailColor,g=e.trailWidth,m=e.transition,v=(0,i.Z)(e,u);delete v.gapPosition;var y=Array.isArray(n)?n:[n],b=Array.isArray(l)?l:[l],x=c(),w=p/2,k=100-p/2,_="M ".concat("round"===d?w:0,",").concat(w,"\n         L ").concat("round"===d?k:100,",").concat(w),C="0 0 100 ".concat(p),j=0;return a.createElement("svg",(0,r.Z)({className:s()("".concat(o,"-line"),t),viewBox:C,preserveAspectRatio:"none",style:f},v),a.createElement("path",{className:"".concat(o,"-line-trail"),d:_,strokeLinecap:d,stroke:h,strokeWidth:g||p,fillOpacity:"0"}),y.map((function(e,t){var n=1;switch(d){case"round":n=1-p/100;break;case"square":n=1-p/2/100;break;default:n=1}var r={strokeDasharray:"".concat(e*n,"px, 100px"),strokeDashoffset:"-".concat(j,"px"),transition:m||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},i=b[t]||b[b.length-1];return j+=e,a.createElement("path",{key:t,className:"".concat(o,"-line-path"),d:_,strokeLinecap:d,stroke:i,strokeWidth:p,fillOpacity:"0",ref:function(e){x[t]=e},style:r})})))};d.defaultProps=l,d.displayName="Line";var p=d,f=n(71002),h=n(29439),g=n(73233),m=0,v=(0,g.Z)();var y=function(e){var t=a.useState(),n=(0,h.Z)(t,2),r=n[0],i=n[1];return a.useEffect((function(){i("rc_progress_".concat(function(){var e;return v?(e=m,m+=1):e="TEST_OR_SSR",e}()))}),[]),e||r},b=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function x(e){return+e.replace("%","")}function w(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}var k=100,_=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=i>0?90+i/2:-90,c=2*Math.PI*e,u=c*((360-i)/360),d=t/100*360*((360-i)/360),p=0===i?0:{bottom:0,top:180,left:90,right:-90}[a],f=(100-n)/100*u;return"round"===o&&100!==n&&(f+=s/2)>=u&&(f=u-.01),{stroke:"string"===typeof r?r:void 0,strokeDasharray:"".concat(u,"px ").concat(c),strokeDashoffset:f,transform:"rotate(".concat(l+d+p,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},C=function(e){var t=e.id,n=e.prefixCls,o=e.strokeWidth,l=e.trailWidth,u=e.gapDegree,d=e.gapPosition,p=e.trailColor,h=e.strokeLinecap,g=e.style,m=e.className,v=e.strokeColor,C=e.percent,j=(0,i.Z)(e,b),S=y(t),Z="".concat(S,"-gradient"),N=50-o/2,E=_(N,0,100,p,u,d,h,o),O=w(C),A=w(v),T=A.find((function(e){return e&&"object"===(0,f.Z)(e)})),P=c();return a.createElement("svg",(0,r.Z)({className:s()("".concat(n,"-circle"),m),viewBox:"0 0 ".concat(k," ").concat(k),style:g,id:t},j),T&&a.createElement("defs",null,a.createElement("linearGradient",{id:Z,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(T).sort((function(e,t){return x(e)-x(t)})).map((function(e,t){return a.createElement("stop",{key:t,offset:e,stopColor:T[e]})})))),a.createElement("circle",{className:"".concat(n,"-circle-trail"),r:N,cx:50,cy:50,stroke:p,strokeLinecap:h,strokeWidth:l||o,style:E}),function(){var e=0;return O.map((function(t,r){var i=A[r]||A[A.length-1],s=i&&"object"===(0,f.Z)(i)?"url(#".concat(Z,")"):void 0,l=_(N,e,t,i,u,d,h,o);return e+=t,a.createElement("circle",{key:r,className:"".concat(n,"-circle-path"),r:N,cx:50,cy:50,stroke:s,strokeLinecap:h,strokeWidth:o,opacity:0===t?0:1,style:l,ref:function(e){P[r]=e}})})).reverse()}())};C.defaultProps=l,C.displayName="Circle";var j=C,S={Line:p,Circle:C}},25172:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(87462),i=n(47313),a=n(14903),o=(n(48240),n(1413)),s=n(16945),l=n(53879),c=n(1355),u=new Map;var d=new c.Z((function(e){e.forEach((function(e){var t,n=e.target;null===(t=u.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var p=n(15671),f=n(43144),h=n(60136),g=n(27277),m=function(e){(0,h.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(i.Component),v=i.createContext(null);function y(e){var t=e.children,n=e.disabled,r=i.useRef(null),a=i.useRef(null),c=i.useContext(v),p="function"===typeof t,f=p?t(r):t,h=i.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),g=!p&&i.isValidElement(f)&&(0,s.Yr)(f),y=g?f.ref:null,b=i.useMemo((function(){return(0,s.sQ)(y,r)}),[y,r]),x=i.useRef(e);x.current=e;var w=i.useCallback((function(e){var t=x.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,s=i.height,l=e.offsetWidth,u=e.offsetHeight,d=Math.floor(a),p=Math.floor(s);if(h.current.width!==d||h.current.height!==p||h.current.offsetWidth!==l||h.current.offsetHeight!==u){var f={width:d,height:p,offsetWidth:l,offsetHeight:u};h.current=f;var g=l===Math.round(a)?a:l,m=u===Math.round(s)?s:u,v=(0,o.Z)((0,o.Z)({},f),{},{offsetWidth:g,offsetHeight:m});null===c||void 0===c||c(v,e,r),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return i.useEffect((function(){var e,t,i=(0,l.Z)(r.current)||(0,l.Z)(a.current);return i&&!n&&(e=i,t=w,u.has(e)||(u.set(e,new Set),d.observe(e)),u.get(e).add(t)),function(){return function(e,t){u.has(e)&&(u.get(e).delete(t),u.get(e).size||(d.unobserve(e),u.delete(e)))}(i,w)}}),[r.current,n]),i.createElement(m,{ref:a},g?i.cloneElement(f,{ref:b}):f)}function b(e){var t=e.children;return("function"===typeof t?[t]:(0,a.Z)(t)).map((function(t,n){var a=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return i.createElement(y,(0,r.Z)({},e,{key:a}),t)}))}b.Collection=function(e){var t=e.children,n=e.onBatchResize,r=i.useRef(0),a=i.useRef([]),o=i.useContext(v),s=i.useCallback((function(e,t,i){r.current+=1;var s=r.current;a.current.push({size:e,element:t,data:i}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===o||void 0===o||o(e,t,i)}),[n,o]);return i.createElement(v.Provider,{value:s},t)};var x=b},19089:function(e,t,n){"use strict";n.r(t),n.d(t,{BaseSelect:function(){return Q},OptGroup:function(){return ue},Option:function(){return pe},default:function(){return Se},useBaseProps:function(){return W}});var r=n(87462),i=n(93433),a=n(4942),o=n(1413),s=n(29439),l=n(45987),c=n(71002),u=n(10288),d=n(48240),p=n(47313),f=n(46123),h=n.n(f),g=n(49242),m=n(64394),v=n(16945),y=n(72846),b=n(84506);function x(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function w(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function k(e){var t=(0,o.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,d.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var _=n(8740),C=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],j=function(e,t){var n=e.prefixCls,i=(e.disabled,e.visible),s=e.children,c=e.popupElement,u=e.containerWidth,d=e.animation,f=e.transitionName,g=e.dropdownStyle,m=e.dropdownClassName,v=e.direction,y=void 0===v?"ltr":v,b=e.placement,x=e.dropdownMatchSelectWidth,w=e.dropdownRender,k=e.dropdownAlign,j=e.getPopupContainer,S=e.empty,Z=e.getTriggerDOMNode,N=e.onPopupVisibleChange,E=e.onPopupMouseEnter,O=(0,l.Z)(e,C),A="".concat(n,"-dropdown"),T=c;w&&(T=w(c));var P=p.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(x)}),[x]),M=d?"".concat(A,"-").concat(d):f,I=p.useRef(null);p.useImperativeHandle(t,(function(){return{getPopupElement:function(){return I.current}}}));var D=(0,o.Z)({minWidth:u},g);return"number"===typeof x?D.width=x:x&&(D.width=u),p.createElement(_.Z,(0,r.Z)({},O,{showAction:N?["click"]:[],hideAction:N?["click"]:[],popupPlacement:b||("rtl"===y?"bottomRight":"bottomLeft"),builtinPlacements:P,prefixCls:A,popupTransitionName:M,popup:p.createElement("div",{ref:I,onMouseEnter:E},T),popupAlign:k,popupVisible:i,getPopupContainer:j,popupClassName:h()(m,(0,a.Z)({},"".concat(A,"-empty"),S)),popupStyle:D,getTriggerDOMNode:Z,onPopupVisibleChange:N}),s)},S=p.forwardRef(j);S.displayName="SelectTrigger";var Z=S,N=n(19990),E=n(15596),O=function(e){var t,n=e.className,r=e.customizeIcon,i=e.customizeIconProps,a=e.onMouseDown,o=e.onClick,s=e.children;return t="function"===typeof r?r(i):r,p.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:o,"aria-hidden":!0},void 0!==t?t:p.createElement("span",{className:h()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},s))},A=function(e,t){var n,r,i=e.prefixCls,a=e.id,s=e.inputElement,l=e.disabled,c=e.tabIndex,u=e.autoFocus,f=e.autoComplete,g=e.editable,m=e.activeDescendantId,y=e.value,b=e.maxLength,x=e.onKeyDown,w=e.onMouseDown,k=e.onChange,_=e.onPaste,C=e.onCompositionStart,j=e.onCompositionEnd,S=e.open,Z=e.attrs,N=s||p.createElement("input",null),E=N,O=E.ref,A=E.props,T=A.onKeyDown,P=A.onChange,M=A.onMouseDown,I=A.onCompositionStart,D=A.onCompositionEnd,L=A.style;return(0,d.Kp)(!("maxLength"in N.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),N=p.cloneElement(N,(0,o.Z)((0,o.Z)((0,o.Z)({type:"search"},A),{},{id:a,ref:(0,v.sQ)(t,O),disabled:l,tabIndex:c,autoComplete:f||"off",autoFocus:u,className:h()("".concat(i,"-selection-search-input"),null===(n=N)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),role:"combobox","aria-expanded":S,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":m},Z),{},{value:g?y:"",maxLength:b,readOnly:!g,unselectable:g?null:"on",style:(0,o.Z)((0,o.Z)({},L),{},{opacity:g?null:0}),onKeyDown:function(e){x(e),T&&T(e)},onMouseDown:function(e){w(e),M&&M(e)},onChange:function(e){k(e),P&&P(e)},onCompositionStart:function(e){C(e),I&&I(e)},onCompositionEnd:function(e){j(e),D&&D(e)},onPaste:_}))},T=p.forwardRef(A);T.displayName="Input";var P=T;function M(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var I="undefined"!==typeof window&&window.document&&window.document.documentElement;function D(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var L=function(e){e.preventDefault(),e.stopPropagation()},R=function(e){var t,n,r=e.id,i=e.prefixCls,o=e.values,l=e.open,c=e.searchValue,u=e.inputRef,d=e.placeholder,f=e.disabled,g=e.mode,m=e.showSearch,v=e.autoFocus,y=e.autoComplete,b=e.activeDescendantId,x=e.tabIndex,w=e.removeIcon,k=e.maxTagCount,_=e.maxTagTextLength,C=e.maxTagPlaceholder,j=void 0===C?function(e){return"+ ".concat(e.length," ...")}:C,S=e.tagRender,Z=e.onToggleOpen,A=e.onRemove,T=e.onInputChange,M=e.onInputPaste,R=e.onInputKeyDown,B=e.onInputMouseDown,F=e.onInputCompositionStart,z=e.onInputCompositionEnd,V=p.useRef(null),U=(0,p.useState)(0),H=(0,s.Z)(U,2),W=H[0],q=H[1],K=(0,p.useState)(!1),Y=(0,s.Z)(K,2),G=Y[0],Q=Y[1],X="".concat(i,"-selection"),$=l||"tags"===g?c:"",J="tags"===g||m&&(l||G);function ee(e,t,n,r,i){return p.createElement("span",{className:h()("".concat(X,"-item"),(0,a.Z)({},"".concat(X,"-item-disabled"),n)),title:"string"===typeof e||"number"===typeof e?e.toString():void 0},p.createElement("span",{className:"".concat(X,"-item-content")},t),r&&p.createElement(O,{className:"".concat(X,"-item-remove"),onMouseDown:L,onClick:i,customizeIcon:w},"\xd7"))}t=function(){q(V.current.scrollWidth)},n=[$],I?p.useLayoutEffect(t,n):p.useEffect(t,n);var te=p.createElement("div",{className:"".concat(X,"-search"),style:{width:W},onFocus:function(){Q(!0)},onBlur:function(){Q(!1)}},p.createElement(P,{ref:u,open:l,prefixCls:i,id:r,inputElement:null,disabled:f,autoFocus:v,autoComplete:y,editable:J,activeDescendantId:b,value:$,onKeyDown:R,onMouseDown:B,onChange:T,onPaste:M,onCompositionStart:F,onCompositionEnd:z,tabIndex:x,attrs:(0,N.Z)(e,!0)}),p.createElement("span",{ref:V,className:"".concat(X,"-search-mirror"),"aria-hidden":!0},$,"\xa0")),ne=p.createElement(E.Z,{prefixCls:"".concat(X,"-overflow"),data:o,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,i=!f&&!t,a=n;if("number"===typeof _&&("string"===typeof n||"number"===typeof n)){var o=String(a);o.length>_&&(a="".concat(o.slice(0,_),"..."))}var s=function(t){t&&t.stopPropagation(),A(e)};return"function"===typeof S?function(e,t,n,r,i){return p.createElement("span",{onMouseDown:function(e){L(e),Z(!l)}},S({label:t,value:e,disabled:n,closable:r,onClose:i}))}(r,a,t,i,s):ee(n,a,t,i,s)},renderRest:function(e){var t="function"===typeof j?j(e):j;return ee(t,t,!1)},suffix:te,itemKey:D,maxCount:k});return p.createElement(p.Fragment,null,ne,!o.length&&!$&&p.createElement("span",{className:"".concat(X,"-placeholder")},d))},B=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,i=e.inputRef,a=e.disabled,o=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,h=e.placeholder,g=e.tabIndex,m=e.showSearch,v=e.searchValue,y=e.activeValue,b=e.maxLength,x=e.onInputKeyDown,w=e.onInputMouseDown,k=e.onInputChange,_=e.onInputPaste,C=e.onInputCompositionStart,j=e.onInputCompositionEnd,S=p.useState(!1),Z=(0,s.Z)(S,2),E=Z[0],O=Z[1],A="combobox"===u,T=A||m,M=f[0],I=v||"";A&&y&&!E&&(I=y),p.useEffect((function(){A&&O(!1)}),[A,y]);var D=!("combobox"!==u&&!d&&!m)&&!!I,L=!M||"string"!==typeof M.label&&"number"!==typeof M.label?void 0:M.label.toString();return p.createElement(p.Fragment,null,p.createElement("span",{className:"".concat(n,"-selection-search")},p.createElement(P,{ref:i,prefixCls:n,id:r,open:d,inputElement:t,disabled:a,autoFocus:o,autoComplete:l,editable:T,activeDescendantId:c,value:I,onKeyDown:x,onMouseDown:w,onChange:function(e){O(!0),k(e)},onPaste:_,onCompositionStart:C,onCompositionEnd:j,tabIndex:g,attrs:(0,N.Z)(e,!0),maxLength:A?b:void 0})),!A&&M&&!D&&p.createElement("span",{className:"".concat(n,"-selection-item"),title:L},M.label),function(){if(M)return null;var e=D?{visibility:"hidden"}:void 0;return p.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},h)}())};function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=p.useRef(null),n=p.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return p.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var z=function(e,t){var n=(0,p.useRef)(null),i=(0,p.useRef)(!1),a=e.prefixCls,o=e.open,l=e.mode,c=e.showSearch,u=e.tokenWithEnter,d=e.onSearch,f=e.onSearchSubmit,h=e.onToggleOpen,m=e.onInputKeyDown,v=e.domRef;p.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var y=F(0),b=(0,s.Z)(y,2),x=b[0],w=b[1],k=(0,p.useRef)(null),_=function(e){!1!==d(e,!0,i.current)&&h(!0)},C={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==g.Z.UP&&n!==g.Z.DOWN||e.preventDefault(),m&&m(e),n!==g.Z.ENTER||"tags"!==l||i.current||o||null===f||void 0===f||f(e.target.value),t=n,[g.Z.ESC,g.Z.SHIFT,g.Z.BACKSPACE,g.Z.TAB,g.Z.WIN_KEY,g.Z.ALT,g.Z.META,g.Z.WIN_KEY_RIGHT,g.Z.CTRL,g.Z.SEMICOLON,g.Z.EQUALS,g.Z.CAPS_LOCK,g.Z.CONTEXT_MENU,g.Z.F1,g.Z.F2,g.Z.F3,g.Z.F4,g.Z.F5,g.Z.F6,g.Z.F7,g.Z.F8,g.Z.F9,g.Z.F10,g.Z.F11,g.Z.F12].includes(t)||h(!0)},onInputMouseDown:function(){w(!0)},onInputChange:function(e){var t=e.target.value;if(u&&k.current&&/[\r\n]/.test(k.current)){var n=k.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,k.current)}k.current=null,_(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");k.current=t},onInputCompositionStart:function(){i.current=!0},onInputCompositionEnd:function(e){i.current=!1,"combobox"!==l&&_(e.target.value)}},j="multiple"===l||"tags"===l?p.createElement(R,(0,r.Z)({},e,C)):p.createElement(B,(0,r.Z)({},e,C));return p.createElement("div",{ref:v,className:"".concat(a,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=x();e.target===n.current||t||e.preventDefault(),("combobox"===l||c&&t)&&o||(o&&d("",!0,!1),h())}},j)},V=p.forwardRef(z);V.displayName="Selector";var U=V;var H=p.createContext(null);function W(){return p.useContext(H)}var q=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],K=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function Y(e){return"tags"===e||"multiple"===e}var G=p.forwardRef((function(e,t){var n,d,f=e.id,x=e.prefixCls,w=e.className,k=e.showSearch,_=e.tagRender,C=e.direction,j=e.omitDomProps,S=e.displayValues,N=e.onDisplayValuesChange,E=e.emptyOptions,A=e.notFoundContent,T=void 0===A?"Not Found":A,P=e.onClear,M=e.mode,I=e.disabled,D=e.loading,L=e.getInputElement,R=e.getRawInputElement,B=e.open,z=e.defaultOpen,V=e.onDropdownVisibleChange,W=e.activeValue,G=e.onActiveValueChange,Q=e.activeDescendantId,X=e.searchValue,$=e.onSearch,J=e.onSearchSplit,ee=e.tokenSeparators,te=e.allowClear,ne=e.showArrow,re=e.inputIcon,ie=e.clearIcon,ae=e.OptionList,oe=e.animation,se=e.transitionName,le=e.dropdownStyle,ce=e.dropdownClassName,ue=e.dropdownMatchSelectWidth,de=e.dropdownRender,pe=e.dropdownAlign,fe=e.placement,he=e.getPopupContainer,ge=e.showAction,me=void 0===ge?[]:ge,ve=e.onFocus,ye=e.onBlur,be=e.onKeyUp,xe=e.onKeyDown,we=e.onMouseDown,ke=(0,l.Z)(e,q),_e=Y(M),Ce=(void 0!==k?k:_e)||"combobox"===M,je=(0,o.Z)({},ke);K.forEach((function(e){delete je[e]})),null===j||void 0===j||j.forEach((function(e){delete je[e]}));var Se=p.useState(!1),Ze=(0,s.Z)(Se,2),Ne=Ze[0],Ee=Ze[1];p.useEffect((function(){Ee((0,m.Z)())}),[]);var Oe=p.useRef(null),Ae=p.useRef(null),Te=p.useRef(null),Pe=p.useRef(null),Me=p.useRef(null),Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=p.useState(!1),n=(0,s.Z)(t,2),r=n[0],i=n[1],a=p.useRef(null),o=function(){window.clearTimeout(a.current)};return p.useEffect((function(){return o}),[]),[r,function(t,n){o(),a.current=window.setTimeout((function(){i(t),n&&n()}),e)},o]}(),De=(0,s.Z)(Ie,3),Le=De[0],Re=De[1],Be=De[2];p.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=Pe.current)||void 0===e?void 0:e.focus,blur:null===(t=Pe.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=Me.current)||void 0===t?void 0:t.scrollTo(e)}}}));var Fe=p.useMemo((function(){var e;if("combobox"!==M)return X;var t=null===(e=S[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[X,M,S]),ze="combobox"===M&&"function"===typeof L&&L()||null,Ve="function"===typeof R&&R(),Ue=(0,v.x1)(Ae,null===Ve||void 0===Ve||null===(n=Ve.props)||void 0===n?void 0:n.ref),He=(0,u.Z)(void 0,{defaultValue:z,value:B}),We=(0,s.Z)(He,2),qe=We[0],Ke=We[1],Ye=qe,Ge=!T&&E;(I||Ge&&Ye&&"combobox"===M)&&(Ye=!1);var Qe=!Ge&&Ye,Xe=p.useCallback((function(e){var t=void 0!==e?e:!Ye;Ye===t||I||(Ke(t),null===V||void 0===V||V(t))}),[I,Ye,Ke,V]),$e=p.useMemo((function(){return(ee||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[ee]),Je=function(e,t,n){var r=!0,a=e;null===G||void 0===G||G(null);var o=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var a=(0,b.Z)(r),o=a[0],s=a.slice(1);if(!o)return[t];var l=t.split(o);return n=n||l.length>1,l.reduce((function(t,n){return[].concat((0,i.Z)(t),(0,i.Z)(e(n,s)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,ee);return"combobox"!==M&&o&&(a="",null===J||void 0===J||J(o),Xe(!1),r=!1),$&&Fe!==a&&$(a,{source:t?"typing":"effect"}),r};p.useEffect((function(){Ye||_e||"combobox"===M||Je("",!1,!1)}),[Ye]),p.useEffect((function(){qe&&I&&Ke(!1),I&&Re(!1)}),[I]);var et=F(),tt=(0,s.Z)(et,2),nt=tt[0],rt=tt[1],it=p.useRef(!1),at=[];p.useEffect((function(){return function(){at.forEach((function(e){return clearTimeout(e)})),at.splice(0,at.length)}}),[]);var ot,st=p.useState(null),lt=(0,s.Z)(st,2),ct=lt[0],ut=lt[1],dt=p.useState({}),pt=(0,s.Z)(dt,2)[1];(0,y.Z)((function(){if(Qe){var e,t=Math.ceil(null===(e=Oe.current)||void 0===e?void 0:e.offsetWidth);ct===t||Number.isNaN(t)||ut(t)}}),[Qe]),Ve&&(ot=function(e){Xe(e)}),function(e,t,n,r){var i=p.useRef(null);i.current={open:t,triggerOpen:n,customizedTrigger:r},p.useEffect((function(){function t(t){var n;if(!(null===(n=i.current)||void 0===n?void 0:n.customizedTrigger)){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),i.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[Oe.current,null===(e=Te.current)||void 0===e?void 0:e.getPopupElement()]}),Qe,Xe,!!Ve);var ft,ht,gt=p.useMemo((function(){return(0,o.Z)((0,o.Z)({},e),{},{notFoundContent:T,open:Ye,triggerOpen:Qe,id:f,showSearch:Ce,multiple:_e,toggleOpen:Xe})}),[e,T,Qe,Ye,f,Ce,_e,Xe]),mt=void 0!==ne?ne:D||!_e&&"combobox"!==M;mt&&(ft=p.createElement(O,{className:h()("".concat(x,"-arrow"),(0,a.Z)({},"".concat(x,"-arrow-loading"),D)),customizeIcon:re,customizeIconProps:{loading:D,searchValue:Fe,open:Ye,focused:Le,showSearch:Ce}}));!I&&te&&(S.length||Fe)&&(ht=p.createElement(O,{className:"".concat(x,"-clear"),onMouseDown:function(){null===P||void 0===P||P(),N([],{type:"clear",values:S}),Je("",!1,!1)},customizeIcon:ie},"\xd7"));var vt,yt=p.createElement(ae,{ref:Me}),bt=h()(x,w,(d={},(0,a.Z)(d,"".concat(x,"-focused"),Le),(0,a.Z)(d,"".concat(x,"-multiple"),_e),(0,a.Z)(d,"".concat(x,"-single"),!_e),(0,a.Z)(d,"".concat(x,"-allow-clear"),te),(0,a.Z)(d,"".concat(x,"-show-arrow"),mt),(0,a.Z)(d,"".concat(x,"-disabled"),I),(0,a.Z)(d,"".concat(x,"-loading"),D),(0,a.Z)(d,"".concat(x,"-open"),Ye),(0,a.Z)(d,"".concat(x,"-customize-input"),ze),(0,a.Z)(d,"".concat(x,"-show-search"),Ce),d)),xt=p.createElement(Z,{ref:Te,disabled:I,prefixCls:x,visible:Qe,popupElement:yt,containerWidth:ct,animation:oe,transitionName:se,dropdownStyle:le,dropdownClassName:ce,direction:C,dropdownMatchSelectWidth:ue,dropdownRender:de,dropdownAlign:pe,placement:fe,getPopupContainer:he,empty:E,getTriggerDOMNode:function(){return Ae.current},onPopupVisibleChange:ot,onPopupMouseEnter:function(){pt({})}},Ve?p.cloneElement(Ve,{ref:Ue}):p.createElement(U,(0,r.Z)({},e,{domRef:Ae,prefixCls:x,inputElement:ze,ref:Pe,id:f,showSearch:Ce,mode:M,activeDescendantId:Q,tagRender:_,values:S,open:Ye,onToggleOpen:Xe,activeValue:W,searchValue:Fe,onSearch:Je,onSearchSubmit:function(e){e&&e.trim()&&$(e,{source:"submit"})},onRemove:function(e){var t=S.filter((function(t){return t!==e}));N(t,{type:"remove",values:[e]})},tokenWithEnter:$e})));return vt=Ve?xt:p.createElement("div",(0,r.Z)({className:bt},je,{ref:Oe,onMouseDown:function(e){var t,n=e.target,r=null===(t=Te.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=at.indexOf(i);-1!==t&&at.splice(t,1),Be(),Ne||r.contains(document.activeElement)||null===(e=Pe.current)||void 0===e||e.focus()}));at.push(i)}for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];null===we||void 0===we||we.apply(void 0,[e].concat(o))},onKeyDown:function(e){var t,n=nt(),r=e.which;if(r===g.Z.ENTER&&("combobox"!==M&&e.preventDefault(),Ye||Xe(!0)),rt(!!Fe),r===g.Z.BACKSPACE&&!n&&_e&&!Fe&&S.length){for(var a=(0,i.Z)(S),o=null,s=a.length-1;s>=0;s-=1){var l=a[s];if(!l.disabled){a.splice(s,1),o=l;break}}o&&N(a,{type:"remove",values:[o]})}for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];Ye&&Me.current&&(t=Me.current).onKeyDown.apply(t,[e].concat(u)),null===xe||void 0===xe||xe.apply(void 0,[e].concat(u))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;Ye&&Me.current&&(i=Me.current).onKeyUp.apply(i,[e].concat(n)),null===be||void 0===be||be.apply(void 0,[e].concat(n))},onFocus:function(){Re(!0),I||(ve&&!it.current&&ve.apply(void 0,arguments),me.includes("focus")&&Xe(!0)),it.current=!0},onBlur:function(){Re(!1,(function(){it.current=!1,Xe(!1)})),I||(Fe&&("tags"===M?$(Fe,{source:"submit"}):"multiple"===M&&$("",{source:"blur"})),ye&&ye.apply(void 0,arguments))}}),Le&&!Ye&&p.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(S.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,c.Z)(t))?t:n})).join(", "))),xt,ft,ht),p.createElement(H.Provider,{value:gt},vt)}));var Q=G;function X(e,t){return M(e).join("").toUpperCase().includes(t)}var $=n(73233),J=0,ee=(0,$.Z)();function te(e){var t=p.useState(),n=(0,s.Z)(t,2),r=n[0],i=n[1];return p.useEffect((function(){i("rc_select_".concat(function(){var e;return ee?(e=J,J+=1):e="TEST_OR_SSR",e}()))}),[]),e||r}var ne=n(14903),re=["children","value"],ie=["children"];function ae(e){var t=e.key,n=e.props,r=n.children,i=n.value,a=(0,l.Z)(n,re);return(0,o.Z)({key:t,value:void 0!==i?i:t,children:r},a)}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,ne.Z)(e).map((function(e,n){if(!p.isValidElement(e)||!e.type)return null;var r=e.type.isSelectOptGroup,i=e.key,a=e.props,s=a.children,c=(0,l.Z)(a,ie);return t||!r?ae(e):(0,o.Z)((0,o.Z)({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},c),{},{options:oe(s)})})).filter((function(e){return e}))}function se(e,t,n,r,i){return p.useMemo((function(){var a=e;!e&&(a=oe(t));var o=new Map,s=new Map,l=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var u=t[c];!u[n.options]||a?(o.set(u[n.value],u),l(s,u,n.label),l(s,u,r),l(s,u,i)):e(u[n.options],!0)}}(a),{options:a,valueOptions:o,labelOptions:s}}),[e,t,n,r,i])}function le(e){var t=p.useRef();t.current=e;var n=p.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var ce=function(){return null};ce.isSelectOptGroup=!0;var ue=ce,de=function(){return null};de.isSelectOption=!0;var pe=de,fe=n(205),he=n(40727),ge=n(29503);var me=p.createContext(null),ve=["disabled","title","children","style","className"];function ye(e){return"string"===typeof e||"number"===typeof e}var be=function(e,t){var n=W(),o=n.prefixCls,c=n.id,u=n.open,d=n.multiple,f=n.mode,m=n.searchValue,v=n.toggleOpen,y=n.notFoundContent,b=n.onPopupScroll,x=p.useContext(me),w=x.flattenOptions,k=x.onActiveValue,_=x.defaultActiveFirstOption,C=x.onSelect,j=x.menuItemSelectedIcon,S=x.rawValues,Z=x.fieldNames,E=x.virtual,A=x.listHeight,T=x.listItemHeight,P="".concat(o,"-item"),M=(0,he.Z)((function(){return w}),[u,w],(function(e,t){return t[0]&&e[1]!==t[1]})),I=p.useRef(null),D=function(e){e.preventDefault()},L=function(e){I.current&&I.current.scrollTo("number"===typeof e?{index:e}:e)},R=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=M.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,a=M[i],o=a.group,s=a.data;if(!o&&!s.disabled)return i}return-1},B=p.useState((function(){return R(0)})),F=(0,s.Z)(B,2),z=F[0],V=F[1],U=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];V(e);var n={source:t?"keyboard":"mouse"},r=M[e];r?k(r.value,e,n):k(null,-1,n)};(0,p.useEffect)((function(){U(!1!==_?R(0):-1)}),[M.length,m]);var H=p.useCallback((function(e){return S.has(e)&&"combobox"!==f}),[f,(0,i.Z)(S).toString()]);(0,p.useEffect)((function(){var e,t=setTimeout((function(){if(!d&&u&&1===S.size){var e=Array.from(S)[0],t=M.findIndex((function(t){return t.data.value===e}));-1!==t&&(U(t),L(t))}}));u&&(null===(e=I.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[u,m]);var q=function(e){void 0!==e&&C(e,{selected:!S.has(e)}),d||v(!1)};if(p.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case g.Z.N:case g.Z.P:case g.Z.UP:case g.Z.DOWN:var r=0;if(t===g.Z.UP?r=-1:t===g.Z.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===g.Z.N?r=1:t===g.Z.P&&(r=-1)),0!==r){var i=R(z+r,r);L(i),U(i,!0)}break;case g.Z.ENTER:var a=M[z];a&&!a.data.disabled?q(a.value):q(void 0),u&&e.preventDefault();break;case g.Z.ESC:v(!1),u&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){L(e)}}})),0===M.length)return p.createElement("div",{role:"listbox",id:"".concat(c,"_list"),className:"".concat(P,"-empty"),onMouseDown:D},y);var K=Object.keys(Z).map((function(e){return Z[e]})),Y=function(e){return e.label},G=function(e){var t=M[e];if(!t)return null;var n=t.data||{},i=n.value,a=t.group,o=(0,N.Z)(n,!0),s=Y(t);return t?p.createElement("div",(0,r.Z)({"aria-label":"string"!==typeof s||a?null:s},o,{key:e,role:a?"presentation":"option",id:"".concat(c,"_list_").concat(e),"aria-selected":H(i)}),i):null};return p.createElement(p.Fragment,null,p.createElement("div",{role:"listbox",id:"".concat(c,"_list"),style:{height:0,width:0,overflow:"hidden"}},G(z-1),G(z),G(z+1)),p.createElement(ge.Z,{itemKey:"key",ref:I,data:M,height:A,itemHeight:T,fullHeight:!1,onMouseDown:D,onScroll:b,virtual:E},(function(e,t){var n,i=e.group,o=e.groupOption,s=e.data,c=e.label,u=e.value,d=s.key;if(i){var f,g=null!==(f=s.title)&&void 0!==f?f:ye(c)?c.toString():void 0;return p.createElement("div",{className:h()(P,"".concat(P,"-group")),title:g},void 0!==c?c:d)}var m=s.disabled,v=s.title,y=(s.children,s.style),b=s.className,x=(0,l.Z)(s,ve),w=(0,fe.Z)(x,K),k=H(u),_="".concat(P,"-option"),C=h()(P,_,b,(n={},(0,a.Z)(n,"".concat(_,"-grouped"),o),(0,a.Z)(n,"".concat(_,"-active"),z===t&&!m),(0,a.Z)(n,"".concat(_,"-disabled"),m),(0,a.Z)(n,"".concat(_,"-selected"),k),n)),S=Y(e),Z=!j||"function"===typeof j||k,E="number"===typeof S?S:S||u,A=ye(E)?E.toString():void 0;return void 0!==v&&(A=v),p.createElement("div",(0,r.Z)({},(0,N.Z)(w),{"aria-selected":k,className:C,title:A,onMouseMove:function(){z===t||m||U(t)},onClick:function(){m||q(u)},style:y}),p.createElement("div",{className:"".concat(_,"-content")},E),p.isValidElement(j)||k,Z&&p.createElement(O,{className:"".concat(P,"-option-state"),customizeIcon:j,customizeIconProps:{isSelected:k}},k?"\u2713":null))})))},xe=p.forwardRef(be);xe.displayName="OptionList";var we=xe;var ke=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],_e=["inputValue"];var Ce=p.forwardRef((function(e,t){var n=e.id,d=e.mode,f=e.prefixCls,h=void 0===f?"rc-select":f,g=e.backfill,m=e.fieldNames,v=e.inputValue,y=e.searchValue,b=e.onSearch,_=e.autoClearSearchValue,C=void 0===_||_,j=e.onSelect,S=e.onDeselect,Z=e.dropdownMatchSelectWidth,N=void 0===Z||Z,E=e.filterOption,O=e.filterSort,A=e.optionFilterProp,T=e.optionLabelProp,P=e.options,I=e.children,D=e.defaultActiveFirstOption,L=e.menuItemSelectedIcon,R=e.virtual,B=e.listHeight,F=void 0===B?200:B,z=e.listItemHeight,V=void 0===z?20:z,U=e.value,H=e.defaultValue,W=e.labelInValue,q=e.onChange,K=(0,l.Z)(e,ke),G=te(n),$=Y(d),J=!(P||!I),ee=p.useMemo((function(){return(void 0!==E||"combobox"!==d)&&E}),[E,d]),ne=p.useMemo((function(){return w(m,J)}),[JSON.stringify(m),J]),re=(0,u.Z)("",{value:void 0!==y?y:v,postState:function(e){return e||""}}),ie=(0,s.Z)(re,2),ae=ie[0],oe=ie[1],ce=se(P,I,ne,A,T),ue=ce.valueOptions,de=ce.labelOptions,pe=ce.options,fe=p.useCallback((function(e){return M(e).map((function(e){var t,n,r,i,a;(function(e){return!e||"object"!==(0,c.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:r);var o,s=ue.get(t);s&&(void 0===n&&(n=null===s||void 0===s?void 0:s[T||ne.label]),void 0===r&&(r=null!==(o=null===s||void 0===s?void 0:s.key)&&void 0!==o?o:t),i=null===s||void 0===s?void 0:s.disabled);return{label:n,value:t,key:r,disabled:i}}))}),[ne,T,ue]),he=(0,u.Z)(H,{value:U}),ge=(0,s.Z)(he,2),ve=ge[0],ye=ge[1],be=function(e,t){var n=p.useRef({values:new Map,options:new Map});return[p.useMemo((function(){var r=n.current,i=r.values,a=r.options,s=e.map((function(e){var t;return void 0===e.label?(0,o.Z)((0,o.Z)({},e),{},{label:null===(t=i.get(e.value))||void 0===t?void 0:t.label}):e})),l=new Map,c=new Map;return s.forEach((function(e){l.set(e.value,e),c.set(e.value,t.get(e.value)||a.get(e.value))})),n.current.values=l,n.current.options=c,s}),[e,t]),p.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(p.useMemo((function(){var e,t=fe(ve);return"combobox"!==d||(null===(e=t[0])||void 0===e?void 0:e.value)?t:[]}),[ve,fe,d]),ue),xe=(0,s.Z)(be,2),Ce=xe[0],je=xe[1],Se=p.useMemo((function(){if(!d&&1===Ce.length){var e=Ce[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return Ce.map((function(e){var t;return(0,o.Z)((0,o.Z)({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[d,Ce]),Ze=p.useMemo((function(){return new Set(Ce.map((function(e){return e.value})))}),[Ce]);p.useEffect((function(){if("combobox"===d){var e,t=null===(e=Ce[0])||void 0===e?void 0:e.value;void 0!==t&&null!==t&&oe(String(t))}}),[Ce]);var Ne=le((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return n={},(0,a.Z)(n,ne.value,e),(0,a.Z)(n,ne.label,r),n})),Ee=function(e,t,n,r,i){return p.useMemo((function(){if(!n||!1===r)return e;var s=t.options,l=t.label,c=t.value,u=[],d="function"===typeof r,p=n.toUpperCase(),f=d?r:function(e,t){return i?X(t[i],p):t[s]?X(t["children"!==l?l:"label"],p):X(t[c],p)},h=d?function(e){return k(e)}:function(e){return e};return e.forEach((function(e){if(e[s])if(f(n,h(e)))u.push(e);else{var t=e[s].filter((function(e){return f(n,h(e))}));t.length&&u.push((0,o.Z)((0,o.Z)({},e),{},(0,a.Z)({},s,t)))}else f(n,h(e))&&u.push(e)})),u}),[e,r,i,n,t])}(p.useMemo((function(){if("tags"!==d)return pe;var e=(0,i.Z)(pe);return(0,i.Z)(Ce).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return ue.has(e)})(n)||e.push(Ne(n,t.label))})),e}),[Ne,pe,ue,Ce,d]),ne,ae,ee,A),Oe=p.useMemo((function(){return"tags"!==d||!ae||Ee.some((function(e){return e[A||"value"]===ae}))?Ee:[Ne(ae)].concat((0,i.Z)(Ee))}),[Ne,A,d,Ee,ae]),Ae=p.useMemo((function(){return O?(0,i.Z)(Oe).sort((function(e,t){return O(e,t)})):Oe}),[Oe,O]),Te=p.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],a=w(n,!1),o=a.label,s=a.value,l=a.options;function c(e,t){e.forEach((function(e){var n=e[o];if(t||!(l in e)){var a=e[s];i.push({key:x(e,i.length),groupOption:t,data:e,label:n,value:a})}else{var u=n;void 0===u&&r&&(u=e.label),i.push({key:x(e,i.length),group:!0,data:e,label:u}),c(e[l],!0)}}))}return c(e,!1),i}(Ae,{fieldNames:ne,childrenAsData:J})}),[Ae,ne,J]),Pe=function(e){var t=fe(e);if(ye(t),q&&(t.length!==Ce.length||t.some((function(e,t){var n;return(null===(n=Ce[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=W?t:t.map((function(e){return e.value})),r=t.map((function(e){return k(je(e.value))}));q($?n:n[0],$?r:r[0])}},Me=p.useState(null),Ie=(0,s.Z)(Me,2),De=Ie[0],Le=Ie[1],Re=p.useState(0),Be=(0,s.Z)(Re,2),Fe=Be[0],ze=Be[1],Ve=void 0!==D?D:"combobox"!==d,Ue=p.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source,i=void 0===r?"keyboard":r;ze(t),g&&"combobox"===d&&null!==e&&"keyboard"===i&&Le(String(e))}),[g,d]),He=function(e,t){var n=function(){var t,n=je(e);return[W?{label:null===n||void 0===n?void 0:n[ne.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,k(n)]};if(t&&j){var r=n(),i=(0,s.Z)(r,2),a=i[0],o=i[1];j(a,o)}else if(!t&&S){var l=n(),c=(0,s.Z)(l,2),u=c[0],d=c[1];S(u,d)}},We=le((function(e,t){var n,r=!$||t.selected;n=r?$?[].concat((0,i.Z)(Ce),[e]):[e]:Ce.filter((function(t){return t.value!==e})),Pe(n),He(e,r),"combobox"===d?Le(""):Y&&!C||(oe(""),Le(""))})),qe=p.useMemo((function(){var e=!1!==R&&!1!==N;return(0,o.Z)((0,o.Z)({},ce),{},{flattenOptions:Te,onActiveValue:Ue,defaultActiveFirstOption:Ve,onSelect:We,menuItemSelectedIcon:L,rawValues:Ze,fieldNames:ne,virtual:e,listHeight:F,listItemHeight:V,childrenAsData:J})}),[ce,Te,Ue,Ve,We,L,Ze,ne,R,N,F,V,J]);return p.createElement(me.Provider,{value:qe},p.createElement(Q,(0,r.Z)({},K,{id:G,prefixCls:h,ref:t,omitDomProps:_e,mode:d,displayValues:Se,onDisplayValuesChange:function(e,t){Pe(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){He(e.value,!1)}))},searchValue:ae,onSearch:function(e,t){if(oe(e),Le(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===d&&Pe(e),null===b||void 0===b||b(e));else{var n=(e||"").trim();if(n){var r=Array.from(new Set([].concat((0,i.Z)(Ze),[n])));Pe(r),He(n,!0),oe("")}}},onSearchSplit:function(e){var t=e;"tags"!==d&&(t=e.map((function(e){var t=de.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,i.Z)(Ze),(0,i.Z)(t))));Pe(n),n.forEach((function(e){He(e,!0)}))},dropdownMatchSelectWidth:N,OptionList:we,emptyOptions:!Te.length,activeValue:De,activeDescendantId:"".concat(G,"_list_").concat(Fe)})))}));var je=Ce;je.Option=pe,je.OptGroup=ue;var Se=je},60086:function(e,t,n){"use strict";n.r(t),n.d(t,{Step:function(){return m},default:function(){return b}});var r=n(1413),i=n(4942),a=n(45987),o=n(15671),s=n(43144),l=n(60136),c=n(27277),u=n(47313),d=n(14903),p=n(46123),f=n.n(p),h=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick"];function g(e){return"string"===typeof e}var m=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).onClick=function(){var t=e.props,n=t.onClick,r=t.onStepClick,i=t.stepIndex;n&&n.apply(void 0,arguments),r(i)},e}return(0,s.Z)(n,[{key:"renderIconNode",value:function(){var e,t,n=this.props,r=n.prefixCls,a=n.progressDot,o=n.stepIcon,s=n.stepNumber,l=n.status,c=n.title,d=n.description,p=n.icon,h=n.iconPrefix,m=n.icons,v=f()("".concat(r,"-icon"),"".concat(h,"icon"),(e={},(0,i.Z)(e,"".concat(h,"icon-").concat(p),p&&g(p)),(0,i.Z)(e,"".concat(h,"icon-check"),!p&&"finish"===l&&(m&&!m.finish||!m)),(0,i.Z)(e,"".concat(h,"icon-cross"),!p&&"error"===l&&(m&&!m.error||!m)),e)),y=u.createElement("span",{className:"".concat(r,"-icon-dot")});return t=a?"function"===typeof a?u.createElement("span",{className:"".concat(r,"-icon")},a(y,{index:s-1,status:l,title:c,description:d})):u.createElement("span",{className:"".concat(r,"-icon")},y):p&&!g(p)?u.createElement("span",{className:"".concat(r,"-icon")},p):m&&m.finish&&"finish"===l?u.createElement("span",{className:"".concat(r,"-icon")},m.finish):m&&m.error&&"error"===l?u.createElement("span",{className:"".concat(r,"-icon")},m.error):p||"finish"===l||"error"===l?u.createElement("span",{className:v}):u.createElement("span",{className:"".concat(r,"-icon")},s),o&&(t=o({index:s-1,status:l,title:c,description:d,node:t})),t}},{key:"render",value:function(){var e,t=this.props,n=t.className,o=t.prefixCls,s=t.style,l=t.active,c=t.status,d=void 0===c?"wait":c,p=(t.iconPrefix,t.icon),g=(t.wrapperStyle,t.stepNumber,t.disabled),m=t.description,v=t.title,y=t.subTitle,b=(t.progressDot,t.stepIcon,t.tailContent),x=(t.icons,t.stepIndex,t.onStepClick),w=t.onClick,k=(0,a.Z)(t,h),_=f()("".concat(o,"-item"),"".concat(o,"-item-").concat(d),n,(e={},(0,i.Z)(e,"".concat(o,"-item-custom"),p),(0,i.Z)(e,"".concat(o,"-item-active"),l),(0,i.Z)(e,"".concat(o,"-item-disabled"),!0===g),e)),C=(0,r.Z)({},s),j={};return x&&!g&&(j.role="button",j.tabIndex=0,j.onClick=this.onClick),u.createElement("div",Object.assign({},k,{className:_,style:C}),u.createElement("div",Object.assign({onClick:w},j,{className:"".concat(o,"-item-container")}),u.createElement("div",{className:"".concat(o,"-item-tail")},b),u.createElement("div",{className:"".concat(o,"-item-icon")},this.renderIconNode()),u.createElement("div",{className:"".concat(o,"-item-content")},u.createElement("div",{className:"".concat(o,"-item-title")},v,y&&u.createElement("div",{title:"string"===typeof y?y:void 0,className:"".concat(o,"-item-subtitle")},y)),m&&u.createElement("div",{className:"".concat(o,"-item-description")},m))))}}]),n}(u.Component),v=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange"],y=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).onStepClick=function(t){var n=e.props,r=n.onChange,i=n.current;r&&i!==t&&r(t)},e}return(0,s.Z)(n,[{key:"render",value:function(){var e,t=this,n=this.props,o=n.prefixCls,s=n.style,l=void 0===s?{}:s,c=n.className,p=n.children,h=n.direction,g=n.type,m=n.labelPlacement,y=n.iconPrefix,b=n.status,x=n.size,w=n.current,k=n.progressDot,_=n.stepIcon,C=n.initial,j=n.icons,S=n.onChange,Z=(0,a.Z)(n,v),N="navigation"===g,E=k?"vertical":m,O=f()(o,"".concat(o,"-").concat(h),c,(e={},(0,i.Z)(e,"".concat(o,"-").concat(x),x),(0,i.Z)(e,"".concat(o,"-label-").concat(E),"horizontal"===h),(0,i.Z)(e,"".concat(o,"-dot"),!!k),(0,i.Z)(e,"".concat(o,"-navigation"),N),e));return u.createElement("div",Object.assign({className:O,style:l},Z),(0,d.Z)(p).map((function(e,n){var i=C+n,a=(0,r.Z)({stepNumber:"".concat(i+1),stepIndex:i,key:i,prefixCls:o,iconPrefix:y,wrapperStyle:l,progressDot:k,stepIcon:_,icons:j,onStepClick:S&&t.onStepClick},e.props);return"error"===b&&n===w-1&&(a.className="".concat(o,"-next-error")),e.props.status||(a.status=i===w?b:i<w?"finish":"wait"),a.active=i===w,(0,u.cloneElement)(e,a)})))}}]),n}(u.Component);y.Step=m,y.defaultProps={type:"default",prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1};var b=y},50849:function(e,t,n){"use strict";n.r(t);var r=n(4942),i=n(29439),a=n(45987),o=n(47313),s=n(46123),l=n.n(s),c=n(10288),u=n(49242),d=o.forwardRef((function(e,t){var n,s=e.prefixCls,d=void 0===s?"rc-switch":s,p=e.className,f=e.checked,h=e.defaultChecked,g=e.disabled,m=e.loadingIcon,v=e.checkedChildren,y=e.unCheckedChildren,b=e.onClick,x=e.onChange,w=e.onKeyDown,k=(0,a.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),_=(0,c.Z)(!1,{value:f,defaultValue:h}),C=(0,i.Z)(_,2),j=C[0],S=C[1];function Z(e,t){var n=j;return g||(S(n=e),null===x||void 0===x||x(n,t)),n}var N=l()(d,p,(n={},(0,r.Z)(n,"".concat(d,"-checked"),j),(0,r.Z)(n,"".concat(d,"-disabled"),g),n));return o.createElement("button",Object.assign({},k,{type:"button",role:"switch","aria-checked":j,disabled:g,className:N,ref:t,onKeyDown:function(e){e.which===u.Z.LEFT?Z(!1,e):e.which===u.Z.RIGHT&&Z(!0,e),null===w||void 0===w||w(e)},onClick:function(e){var t=Z(!j,e);null===b||void 0===b||b(t,e)}}),m,o.createElement("span",{className:"".concat(d,"-inner")},j?v:y))}));d.displayName="Switch",t.default=d},19868:function(e,t,n){"use strict";n.r(t),n.d(t,{Column:function(){return _},ColumnGroup:function(){return k},INTERNAL_COL_DEFINE:function(){return se},Summary:function(){return Ce},default:function(){return Be}});var r=n(4942),i=n(87462),a=n(1413),o=n(93433),s=n(29439),l=n(71002),c=n(47313),u=n(32330),d=n(19990),p=n(73233),f=function(e){if((0,p.Z)()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1};function h(e,t){return Array.isArray(e)||void 0===t?f(e):function(e,t){if(!f(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}var g=n(46123),m=n.n(g),v=n(59767),y=n.n(v),b=n(48240),x=n(25172),w=n(42386);var k=function(e){return null};var _=function(e){return null},C=n(45987),j=n(16945);function S(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function Z(e,t){if(!t&&"number"!==typeof t)return e;for(var n=S(t),r=e,i=0;i<n.length;i+=1){if(!r)return null;r=r[n[i]]}return r}function N(e){var t=[],n={};return e.forEach((function(e){for(var r=e||{},i=r.key,a=r.dataIndex,o=i||S(a).join("-")||"RC_TABLE_KEY";n[o];)o="".concat(o,"_next");n[o]=!0,t.push(o)})),t}function E(e){return null!==e&&void 0!==e}var O=c.createContext(!1),A=n(72846),T=n(29978);var P=function(){var e=c.createContext(null);return{Context:e,Provider:function(t){var n=t.value,r=t.children,i=c.useRef(n);i.current=n;var a=c.useState((function(){return{getValue:function(){return i.current},listeners:new Set}})),o=(0,s.Z)(a,1)[0];return(0,A.Z)((function(){o.listeners.forEach((function(e){e(n)}))}),[n]),c.createElement(e.Provider,{value:o},r)}}}(),M=c.createContext(null),I=c.createContext({renderWithProps:!1}),D=["colSpan","rowSpan","style","className"];function L(e,t){var n,i,o,u=e.prefixCls,d=e.className,p=e.record,f=e.index,h=e.renderIndex,g=e.dataIndex,v=e.render,y=e.children,b=e.component,x=void 0===b?"td":b,w=e.colSpan,k=e.rowSpan,_=e.fixLeft,S=e.fixRight,N=e.firstFixLeft,A=e.lastFixLeft,T=e.firstFixRight,P=e.lastFixRight,L=e.appendNode,R=e.additionalProps,B=void 0===R?{}:R,F=e.ellipsis,z=e.align,V=e.rowType,U=e.isSticky,H=e.hovering,W=e.onHover,q="".concat(u,"-cell"),K=c.useContext(I),Y=c.useContext(O),G=c.useContext(M).allColumnsFixedLeft,Q=c.useMemo((function(){if(E(y))return[y];var e,t=Z(p,g),n=t,r=void 0;if(v){var i=v(t,p,h);!(e=i)||"object"!==(0,l.Z)(e)||Array.isArray(e)||c.isValidElement(e)?n=i:(n=i.children,r=i.props,K.renderWithProps=!0)}return[n,r]}),[K.renderWithProps?Math.random():0,y,g,K,p,v,h]),X=(0,s.Z)(Q,2),$=X[0],J=X[1],ee=$;"object"!==(0,l.Z)(ee)||Array.isArray(ee)||c.isValidElement(ee)||(ee=null),F&&(A||T)&&(ee=c.createElement("span",{className:"".concat(q,"-content")},ee));var te=J||{},ne=te.colSpan,re=te.rowSpan,ie=te.style,ae=te.className,oe=(0,C.Z)(te,D),se=null!==(n=void 0!==ne?ne:w)&&void 0!==n?n:1,le=null!==(i=void 0!==re?re:k)&&void 0!==i?i:1;if(0===se||0===le)return null;var ce={},ue="number"===typeof _&&Y,de="number"===typeof S&&Y;ue&&(ce.position="sticky",ce.left=_),de&&(ce.position="sticky",ce.right=S);var pe={};z&&(pe.textAlign=z);var fe,he=function(e){var t,n=e.ellipsis,r=e.rowType,i=e.children,a=!0===n?{showTitle:!0}:n;return a&&(a.showTitle||"header"===r)&&("string"===typeof i||"number"===typeof i?t=i.toString():c.isValidElement(i)&&"string"===typeof i.props.children&&(t=i.props.children)),t}({rowType:V,ellipsis:F,children:$}),ge=(0,a.Z)((0,a.Z)((0,a.Z)({title:he},oe),B),{},{colSpan:1!==se?se:null,rowSpan:1!==le?le:null,className:m()(q,d,(o={},(0,r.Z)(o,"".concat(q,"-fix-left"),ue&&Y),(0,r.Z)(o,"".concat(q,"-fix-left-first"),N&&Y),(0,r.Z)(o,"".concat(q,"-fix-left-last"),A&&Y),(0,r.Z)(o,"".concat(q,"-fix-left-all"),A&&G&&Y),(0,r.Z)(o,"".concat(q,"-fix-right"),de&&Y),(0,r.Z)(o,"".concat(q,"-fix-right-first"),T&&Y),(0,r.Z)(o,"".concat(q,"-fix-right-last"),P&&Y),(0,r.Z)(o,"".concat(q,"-ellipsis"),F),(0,r.Z)(o,"".concat(q,"-with-append"),L),(0,r.Z)(o,"".concat(q,"-fix-sticky"),(ue||de)&&U&&Y),(0,r.Z)(o,"".concat(q,"-row-hover"),!J&&H),o),B.className,ae),style:(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},B.style),pe),ce),ie),onMouseEnter:function(e){var t;p&&W(f,f+le-1),null===B||void 0===B||null===(t=B.onMouseEnter)||void 0===t||t.call(B,e)},onMouseLeave:function(e){var t;p&&W(-1,-1),null===B||void 0===B||null===(t=B.onMouseLeave)||void 0===t||t.call(B,e)},ref:(fe=x,"string"===typeof fe||(0,j.Yr)(fe)?t:null)});return c.createElement(x,ge,L,ee)}var R=c.forwardRef(L);R.displayName="Cell";var B=["expanded","className","hovering"],F=c.memo(R,(function(e,t){return t.shouldCellUpdate?B.every((function(n){return e[n]===t[n]}))&&!t.shouldCellUpdate(t.record,e.record):y()(e,t)})),z=c.forwardRef((function(e,t){var n=e.index,r=e.additionalProps,a=void 0===r?{}:r,o=e.colSpan,l=e.rowSpan,u=a.colSpan,d=a.rowSpan,p=null!==o&&void 0!==o?o:u,f=null!==l&&void 0!==l?l:d,h=function(e,t){var n=(0,T.Z)(t),r=c.useContext(null===e||void 0===e?void 0:e.Context),i=r||{},a=i.listeners,o=i.getValue,l=c.useState((function(){return n(r?o():null)})),u=(0,s.Z)(l,2),d=u[0],p=u[1];return(0,A.Z)((function(){if(r)return a.add(e),function(){a.delete(e)};function e(e){p((function(t){var r=n(e);return y()(t,r)?t:r}))}}),[r]),d}(P,(function(e){var t=function(e,t,n,r){return e<=r&&e+t-1>=n}(n,f||1,null===e||void 0===e?void 0:e.startRow,null===e||void 0===e?void 0:e.endRow);return{onHover:null===e||void 0===e?void 0:e.onHover,hovering:t}})),g=h.onHover,m=h.hovering;return c.createElement(F,(0,i.Z)({},e,{colSpan:p,rowSpan:f,hovering:m,ref:t,onHover:g}))}));z.displayName="WrappedCell";var V=z,U=c.createContext(null);function H(e,t,n,r,i){var a,o,s=n[e]||{},l=n[t]||{};"left"===s.fixed?a=r.left[e]:"right"===l.fixed&&(o=r.right[t]);var c=!1,u=!1,d=!1,p=!1,f=n[t+1],h=n[e-1];if("rtl"===i){if(void 0!==a)p=!(h&&"left"===h.fixed);else if(void 0!==o){d=!(f&&"right"===f.fixed)}}else if(void 0!==a){c=!(f&&"left"===f.fixed)}else if(void 0!==o){u=!(h&&"right"===h.fixed)}return{fixLeft:a,fixRight:o,lastFixLeft:c,firstFixRight:u,lastFixRight:d,firstFixLeft:p,isSticky:r.isSticky}}function W(e){var t,n=e.cells,r=e.stickyOffsets,a=e.flattenColumns,o=e.rowComponent,s=e.cellComponent,l=e.onHeaderRow,u=e.index,d=c.useContext(U),p=d.prefixCls,f=d.direction;l&&(t=l(n.map((function(e){return e.column})),u));var h=N(n.map((function(e){return e.column})));return c.createElement(o,t,n.map((function(e,t){var n,o=e.column,l=H(e.colStart,e.colEnd,a,r,f);return o&&o.onHeaderCell&&(n=e.column.onHeaderCell(o)),c.createElement(V,(0,i.Z)({},e,{ellipsis:o.ellipsis,align:o.align,component:s,prefixCls:p,key:h[t]},l,{additionalProps:n,rowType:"header"}))})))}W.displayName="HeaderRow";var q=W;var K=function(e){var t=e.stickyOffsets,n=e.columns,r=e.flattenColumns,i=e.onHeaderRow,a=c.useContext(U),o=a.prefixCls,s=a.getComponent,l=c.useMemo((function(){return function(e){var t=[];!function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[i]=t[i]||[];var a=r;return n.filter(Boolean).map((function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:a},o=1,s=n.children;return s&&s.length>0&&(o=e(s,a,i+1).reduce((function(e,t){return e+t}),0),r.hasSubColumns=!0),"colSpan"in n&&(o=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=o,r.colEnd=r.colStart+o-1,t[i].push(r),a+=o,o}))}(e,0);for(var n=t.length,r=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},i=0;i<n;i+=1)r(i);return t}(n)}),[n]),u=s(["header","wrapper"],"thead"),d=s(["header","row"],"tr"),p=s(["header","cell"],"th");return c.createElement(u,{className:"".concat(o,"-thead")},l.map((function(e,n){return c.createElement(q,{key:n,flattenColumns:r,cells:e,stickyOffsets:t,rowComponent:d,cellComponent:p,onHeaderRow:i,index:n})})))},Y=c.createContext(null);var G=function(e){var t=e.prefixCls,n=e.children,r=e.component,i=e.cellComponent,a=e.className,o=e.expanded,s=e.colSpan,l=e.isEmpty,u=c.useContext(U).scrollbarSize,d=c.useContext(Y),p=d.fixHeader,f=d.fixColumn,h=d.componentWidth,g=d.horizonScroll;return c.useMemo((function(){var e=n;return(l?g:f)&&(e=c.createElement("div",{style:{width:h-(p?u:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},0!==h&&e)),c.createElement(r,{className:a,style:{display:o?null:"none"}},c.createElement(V,{component:i,prefixCls:t,colSpan:s},e))}),[n,r,a,o,s,l,u,h,f,p,g])},Q=c.createContext(null);function X(e){var t=e.className,n=e.style,r=e.record,o=e.index,l=e.renderIndex,u=e.rowKey,d=e.rowExpandable,p=e.expandedKeys,f=e.onRow,h=e.indent,g=void 0===h?0:h,v=e.rowComponent,y=e.cellComponent,b=e.childrenColumnName,x=c.useContext(U),w=x.prefixCls,k=x.fixedInfoList,_=c.useContext(M),C=_.flattenColumns,j=_.expandableType,S=_.expandRowByClick,Z=_.onTriggerExpand,E=_.rowClassName,O=_.expandedRowClassName,A=_.indentSize,T=_.expandIcon,P=_.expandedRowRender,I=_.expandIconColumnIndex,D=c.useState(!1),L=(0,s.Z)(D,2),R=L[0],B=L[1],F=p&&p.has(e.recordKey);c.useEffect((function(){F&&B(!0)}),[F]);var z="row"===j&&(!d||d(r)),H="nest"===j,W=b&&r&&r[b],q=z||H,K=c.useRef(Z);K.current=Z;var Y,Q=function(){K.current.apply(K,arguments)},X=null===f||void 0===f?void 0:f(r,o);"string"===typeof E?Y=E:"function"===typeof E&&(Y=E(r,o,g));var $,J=N(C),ee=c.createElement(v,(0,i.Z)({},X,{"data-row-key":u,className:m()(t,"".concat(w,"-row"),"".concat(w,"-row-level-").concat(g),Y,X&&X.className),style:(0,a.Z)((0,a.Z)({},n),X?X.style:null),onClick:function(e){var t;S&&q&&Q(r,e);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];null===X||void 0===X||null===(t=X.onClick)||void 0===t||t.call.apply(t,[X,e].concat(i))}}),C.map((function(e,t){var n,a,s=e.render,u=e.dataIndex,d=e.className,p=J[t],f=k[t];return t===(I||0)&&H&&(n=c.createElement(c.Fragment,null,c.createElement("span",{style:{paddingLeft:"".concat(A*g,"px")},className:"".concat(w,"-row-indent indent-level-").concat(g)}),T({prefixCls:w,expanded:F,expandable:W,record:r,onExpand:Q}))),e.onCell&&(a=e.onCell(r,o)),c.createElement(V,(0,i.Z)({className:d,ellipsis:e.ellipsis,align:e.align,component:y,prefixCls:w,key:p,record:r,index:o,renderIndex:l,dataIndex:u,render:s,shouldCellUpdate:e.shouldCellUpdate,expanded:n&&F},f,{appendNode:n,additionalProps:a}))})));if(z&&(R||F)){var te=P(r,o,g+1,F),ne=O&&O(r,o,g);$=c.createElement(G,{expanded:F,className:m()("".concat(w,"-expanded-row"),"".concat(w,"-expanded-row-level-").concat(g+1),ne),prefixCls:w,component:v,cellComponent:y,colSpan:C.length,isEmpty:!1},te)}return c.createElement(c.Fragment,null,ee,$)}X.displayName="BodyRow";var $=X;function J(e,t,n,r,i,a){var s=[];s.push({record:e,indent:t,index:a});var l=i(e),c=null===r||void 0===r?void 0:r.has(l);if(e&&Array.isArray(e[n])&&c)for(var u=0;u<e[n].length;u+=1){var d=J(e[n][u],t+1,n,r,i,u);s.push.apply(s,(0,o.Z)(d))}return s}function ee(e){var t=e.columnKey,n=e.onColumnResize,r=c.useRef();return c.useEffect((function(){r.current&&n(t,r.current.offsetWidth)}),[]),c.createElement(x.default,{data:t},c.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},c.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function te(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize;return c.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},c.createElement(x.default.Collection,{onBatchResize:function(e){e.forEach((function(e){var t=e.data,n=e.size;r(t,n.offsetWidth)}))}},n.map((function(e){return c.createElement(ee,{key:e,columnKey:e,onColumnResize:r})}))))}function ne(e){var t=e.data,n=e.getRowKey,r=e.measureColumnWidth,i=e.expandedKeys,a=e.onRow,l=e.rowExpandable,u=e.emptyNode,d=e.childrenColumnName,p=c.useContext(Q).onColumnResize,f=c.useContext(U),h=f.prefixCls,g=f.getComponent,m=c.useContext(M).flattenColumns,v=function(e,t,n,r){return c.useMemo((function(){if(null===n||void 0===n?void 0:n.size){for(var i=[],a=0;a<(null===e||void 0===e?void 0:e.length);a+=1){var s=e[a];i.push.apply(i,(0,o.Z)(J(s,0,t,n,r,a)))}return i}return null===e||void 0===e?void 0:e.map((function(e,t){return{record:e,indent:0,index:t}}))}),[e,t,n,r])}(t,d,i,n),y=c.useRef({renderWithProps:!1}),b=c.useState(-1),x=(0,s.Z)(b,2),w=x[0],k=x[1],_=c.useState(-1),C=(0,s.Z)(_,2),j=C[0],S=C[1],Z=c.useCallback((function(e,t){k(e),S(t)}),[]),E=c.useMemo((function(){var e,o=g(["body","wrapper"],"tbody"),s=g(["body","row"],"tr"),f=g(["body","cell"],"td");e=t.length?v.map((function(e,t){var r=e.record,o=e.indent,u=e.index,p=n(r,t);return c.createElement($,{key:p,rowKey:p,record:r,recordKey:p,index:t,renderIndex:u,rowComponent:s,cellComponent:f,expandedKeys:i,onRow:a,getRowKey:n,rowExpandable:l,childrenColumnName:d,indent:o})})):c.createElement(G,{expanded:!0,className:"".concat(h,"-placeholder"),prefixCls:h,component:s,cellComponent:f,colSpan:m.length,isEmpty:!0},u);var y=N(m);return c.createElement(o,{className:"".concat(h,"-tbody")},r&&c.createElement(te,{prefixCls:h,columnsKey:y,onColumnResize:p}),e)}),[t,h,a,r,i,n,g,u,m,d,p,l,v]);return c.createElement(I.Provider,{value:y.current},c.createElement(P.Provider,{value:{startRow:w,endRow:j,onHover:Z}},E))}var re=c.memo(ne);re.displayName="Body";var ie=re,ae=n(14903),oe=["expandable"],se="RC_TABLE_INTERNAL_COL_DEFINE";var le={},ce=["children"],ue=["fixed"];function de(e){return(0,ae.Z)(e).filter((function(e){return c.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,r=n.children,i=(0,C.Z)(n,ce),o=(0,a.Z)({key:t},i);return r&&(o.children=de(r)),o}))}function pe(e){return e.reduce((function(e,t){var n=t.fixed,r=!0===n?"left":n,i=t.children;return i&&i.length>0?[].concat((0,o.Z)(e),(0,o.Z)(pe(i).map((function(e){return(0,a.Z)({fixed:r},e)})))):[].concat((0,o.Z)(e),[(0,a.Z)((0,a.Z)({},t),{},{fixed:r})])}),[])}var fe=function(e,t){var n=e.prefixCls,i=e.columns,o=e.children,s=e.expandable,l=e.expandedKeys,u=e.getRowKey,d=e.onTriggerExpand,p=e.expandIcon,f=e.rowExpandable,h=e.expandIconColumnIndex,g=e.direction,m=e.expandRowByClick,v=e.columnWidth,y=e.fixed,b=c.useMemo((function(){return i||de(o)}),[i,o]),x=c.useMemo((function(){if(s){var e,t=b.slice();if(!t.includes(le)){var i=h||0;i>=0&&t.splice(i,0,le)}0;var a=t.indexOf(le);t=t.filter((function(e,t){return e!==le||t===a}));var o,g=b[a];o="left"!==y&&!y||h?"right"!==y&&!y||h!==b.length?g?g.fixed:null:"right":"left";var x=(e={},(0,r.Z)(e,se,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),(0,r.Z)(e,"title",""),(0,r.Z)(e,"fixed",o),(0,r.Z)(e,"className","".concat(n,"-row-expand-icon-cell")),(0,r.Z)(e,"width",v),(0,r.Z)(e,"render",(function(e,t,r){var i=u(t,r),a=l.has(i),o=!f||f(t),s=p({prefixCls:n,expanded:a,expandable:o,record:t,onExpand:d});return m?c.createElement("span",{onClick:function(e){return e.stopPropagation()}},s):s})),e);return t.map((function(e){return e===le?x:e}))}return b.filter((function(e){return e!==le}))}),[s,b,u,l,p,g]),w=c.useMemo((function(){var e=x;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,x,g]),k=c.useMemo((function(){return"rtl"===g?function(e){return e.map((function(e){var t=e.fixed,n=(0,C.Z)(e,ue),r=t;return"left"===t?r="right":"right"===t&&(r="left"),(0,a.Z)({fixed:r},n)}))}(pe(w)):pe(w)}),[w,g]);return[w,k]};function he(e){var t=(0,c.useRef)(e),n=(0,c.useState)({}),r=(0,s.Z)(n,2)[1],i=(0,c.useRef)(null),a=(0,c.useRef)([]);return(0,c.useEffect)((function(){return function(){i.current=null}}),[]),[t.current,function(e){a.current.push(e);var n=Promise.resolve();i.current=n,n.then((function(){if(i.current===n){var e=a.current,o=t.current;a.current=[],e.forEach((function(e){t.current=e(t.current)})),i.current=null,o!==t.current&&r({})}}))}]}var ge=function(e,t,n){return(0,c.useMemo)((function(){for(var r=[],i=[],a=0,o=0,s=0;s<t;s+=1)if("rtl"===n){i[s]=o,o+=e[s]||0;var l=t-s-1;r[l]=a,a+=e[l]||0}else{r[s]=a,a+=e[s]||0;var c=t-s-1;i[c]=o,o+=e[c]||0}return{left:r,right:i}}),[e,t,n])},me=["columnType"];var ve=function(e){for(var t=e.colWidths,n=e.columns,r=[],a=!1,o=(e.columCount||n.length)-1;o>=0;o-=1){var s=t[o],l=n&&n[o],u=l&&l[se];if(s||u||a){var d=u||{},p=(d.columnType,(0,C.Z)(d,me));r.unshift(c.createElement("col",(0,i.Z)({key:o,style:{width:s}},p))),a=!0}}return c.createElement("colgroup",null,r)};var ye=function(e){var t=e.className,n=e.children;return c.createElement("div",{className:t},n)},be=c.createContext({});var xe=["children"];function we(e){return e.children}we.Row=function(e){var t=e.children,n=(0,C.Z)(e,xe);return c.createElement("tr",n,t)},we.Cell=function(e){var t=e.className,n=e.index,r=e.children,a=e.colSpan,o=void 0===a?1:a,s=e.rowSpan,l=e.align,u=c.useContext(U),d=u.prefixCls,p=u.direction,f=c.useContext(be),h=f.scrollColumnIndex,g=f.stickyOffsets,m=n+o-1+1===h?o+1:o,v=H(n,n+m-1,f.flattenColumns,g,p);return c.createElement(V,(0,i.Z)({className:t,index:n,component:"td",prefixCls:d,record:null,dataIndex:null,align:l,colSpan:m,rowSpan:s,render:function(){return r}},v))};var ke=we;var _e=function(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,i=c.useContext(U).prefixCls,a=r.length-1,o=r[a],s=c.useMemo((function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:(null===o||void 0===o?void 0:o.scrollbar)?a:null}}),[o,r,a,n]);return c.createElement(be.Provider,{value:s},c.createElement("tfoot",{className:"".concat(i,"-summary")},t))},Ce=ke;function je(e){var t,n=e.prefixCls,i=e.record,a=e.onExpand,o=e.expanded,s=e.expandable,l="".concat(n,"-row-expand-icon");if(!s)return c.createElement("span",{className:m()(l,"".concat(n,"-row-spaced"))});return c.createElement("span",{className:m()(l,(t={},(0,r.Z)(t,"".concat(n,"-row-expanded"),o),(0,r.Z)(t,"".concat(n,"-row-collapsed"),!o),t)),onClick:function(e){a(i,e),e.stopPropagation()}})}var Se=n(63921),Ze=n(247),Ne=function(e,t){var n,i,o=e.scrollBodyRef,l=e.onScroll,u=e.offsetScroll,d=e.container,p=c.useContext(U).prefixCls,f=(null===(n=o.current)||void 0===n?void 0:n.scrollWidth)||0,h=(null===(i=o.current)||void 0===i?void 0:i.clientWidth)||0,g=f&&h*(h/f),v=c.useRef(),y=he({scrollLeft:0,isHiddenScrollBar:!1}),b=(0,s.Z)(y,2),x=b[0],k=b[1],_=c.useRef({delta:0,x:0}),C=c.useState(!1),j=(0,s.Z)(C,2),S=j[0],Z=j[1],N=function(){Z(!1)},E=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(S&&0!==n){var r=_.current.x+e.pageX-_.current.x-_.current.delta;r<=0&&(r=0),r+g>=h&&(r=h-g),l({scrollLeft:r/h*(f+2)}),_.current.x=e.pageX}else S&&Z(!1)},O=function(){if(o.current){var e=(0,Ze.os)(o.current).top,t=e+o.current.offsetHeight,n=d===window?document.documentElement.scrollTop+window.innerHeight:(0,Ze.os)(d).top+d.clientHeight;t-(0,w.Z)()<=n||e>=n-u?k((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isHiddenScrollBar:!0})})):k((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isHiddenScrollBar:!1})}))}},A=function(e){k((function(t){return(0,a.Z)((0,a.Z)({},t),{},{scrollLeft:e/f*h||0})}))};return c.useImperativeHandle(t,(function(){return{setScrollLeft:A}})),c.useEffect((function(){var e=(0,Se.Z)(document.body,"mouseup",N,!1),t=(0,Se.Z)(document.body,"mousemove",E,!1);return O(),function(){e.remove(),t.remove()}}),[g,S]),c.useEffect((function(){var e=(0,Se.Z)(d,"scroll",O,!1),t=(0,Se.Z)(window,"resize",O,!1);return function(){e.remove(),t.remove()}}),[d]),c.useEffect((function(){x.isHiddenScrollBar||k((function(e){var t=o.current;return t?(0,a.Z)((0,a.Z)({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[x.isHiddenScrollBar]),f<=h||!g||x.isHiddenScrollBar?null:c.createElement("div",{style:{height:(0,w.Z)(),width:h,bottom:u},className:"".concat(p,"-sticky-scroll")},c.createElement("div",{onMouseDown:function(e){e.persist(),_.current.delta=e.pageX-x.scrollLeft,_.current.x=0,Z(!0),e.preventDefault()},ref:v,className:m()("".concat(p,"-sticky-scroll-bar"),(0,r.Z)({},"".concat(p,"-sticky-scroll-bar-active"),S)),style:{width:"".concat(g,"px"),transform:"translate3d(".concat(x.scrollLeft,"px, 0, 0)")}}))},Ee=c.forwardRef(Ne),Oe=(0,p.Z)()?window:null;var Ae=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var Te=c.forwardRef((function(e,t){var n=e.className,i=e.noData,s=e.columns,l=e.flattenColumns,u=e.colWidths,d=e.columCount,p=e.stickyOffsets,f=e.direction,h=e.fixHeader,g=e.stickyTopOffset,v=e.stickyBottomOffset,y=e.stickyClassName,b=e.onScroll,x=e.maxContentScroll,w=e.children,k=(0,C.Z)(e,Ae),_=c.useContext(U),S=_.prefixCls,Z=_.scrollbarSize,N=_.isSticky,E=N&&!h?0:Z,O=c.useRef(null),A=c.useCallback((function(e){(0,j.mH)(t,e),(0,j.mH)(O,e)}),[]);c.useEffect((function(){var e;function t(e){var t=e.currentTarget,n=e.deltaX;n&&(b({currentTarget:t,scrollLeft:t.scrollLeft+n}),e.preventDefault())}return null===(e=O.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=O.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var T=c.useMemo((function(){return l.every((function(e){return e.width>=0}))}),[l]),P=l[l.length-1],M={fixed:P?P.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(S,"-cell-scrollbar")}}},I=(0,c.useMemo)((function(){return E?[].concat((0,o.Z)(s),[M]):s}),[E,s]),D=(0,c.useMemo)((function(){return E?[].concat((0,o.Z)(l),[M]):l}),[E,l]),L=(0,c.useMemo)((function(){var e=p.right,t=p.left;return(0,a.Z)((0,a.Z)({},p),{},{left:"rtl"===f?[].concat((0,o.Z)(t.map((function(e){return e+E}))),[0]):t,right:"rtl"===f?e:[].concat((0,o.Z)(e.map((function(e){return e+E}))),[0]),isSticky:N})}),[E,p,N]),R=function(e,t){return(0,c.useMemo)((function(){for(var n=[],r=0;r<t;r+=1){var i=e[r];if(void 0===i)return null;n[r]=i}return n}),[e.join("_"),t])}(u,d);return c.createElement("div",{style:(0,a.Z)({overflow:"hidden"},N?{top:g,bottom:v}:{}),ref:A,className:m()(n,(0,r.Z)({},y,!!y))},c.createElement("table",{style:{tableLayout:"fixed",visibility:i||R?null:"hidden"}},(!i||!x||T)&&c.createElement(ve,{colWidths:R?[].concat((0,o.Z)(R),[E]):[],columCount:d+1,columns:D}),w((0,a.Z)((0,a.Z)({},k),{},{stickyOffsets:L,columns:I,flattenColumns:D}))))}));Te.displayName="FixedHolder";var Pe=Te,Me=[],Ie={},De="rc-table-internal-hook",Le=c.memo((function(e){return e.children}),(function(e,t){return!!y()(e.props,t.props)&&(e.pingLeft!==t.pingLeft||e.pingRight!==t.pingRight)}));function Re(e){var t,n=e.prefixCls,p=e.className,f=e.rowClassName,g=e.style,v=e.data,y=e.rowKey,k=e.scroll,_=e.tableLayout,j=e.direction,S=e.title,A=e.footer,T=e.summary,P=e.id,I=e.showHeader,D=e.components,L=e.emptyText,R=e.onRow,B=e.onHeaderRow,F=e.internalHooks,z=e.transformColumns,V=e.internalRefs,W=e.sticky,q=v||Me,G=!!q.length;var X=c.useCallback((function(e,t){return Z(D||{},e)||t}),[D]),$=c.useMemo((function(){return"function"===typeof y?y:function(e){return e&&e[y]}}),[y]),J=function(e){var t,n=e.expandable,r=(0,C.Z)(e,oe);return!1===(t="expandable"in e?(0,a.Z)((0,a.Z)({},r),n):r).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(e),ee=J.expandIcon,te=J.expandedRowKeys,ne=J.defaultExpandedRowKeys,re=J.defaultExpandAllRows,ae=J.expandedRowRender,se=J.onExpand,le=J.onExpandedRowsChange,ce=J.expandRowByClick,ue=J.rowExpandable,de=J.expandIconColumnIndex,pe=J.expandedRowClassName,me=J.childrenColumnName,be=J.indentSize,xe=ee||je,we=me||"children",Ce=c.useMemo((function(){return ae?"row":!!(e.expandable&&F===De&&e.expandable.__PARENT_RENDER_ICON__||q.some((function(e){return e&&"object"===(0,l.Z)(e)&&e[we]})))&&"nest"}),[!!ae,q]),Se=c.useState((function(){return ne||(re?function(e,t,n){var r=[];return function e(i){(i||[]).forEach((function(i,a){r.push(t(i,a)),e(i[n])}))}(e),r}(q,$,we):[])})),Ze=(0,s.Z)(Se,2),Ne=Ze[0],Ae=Ze[1],Te=c.useMemo((function(){return new Set(te||Ne||[])}),[te,Ne]),Re=c.useCallback((function(e){var t,n=$(e,q.indexOf(e)),r=Te.has(n);r?(Te.delete(n),t=(0,o.Z)(Te)):t=[].concat((0,o.Z)(Te),[n]),Ae(t),se&&se(!r,e),le&&le(t)}),[$,Te,q,se,le]);var Be,Fe,ze,Ve=c.useState(0),Ue=(0,s.Z)(Ve,2),He=Ue[0],We=Ue[1],qe=fe((0,a.Z)((0,a.Z)((0,a.Z)({},e),J),{},{expandable:!!ae,expandedKeys:Te,getRowKey:$,onTriggerExpand:Re,expandIcon:xe,expandIconColumnIndex:de,direction:j}),F===De?z:null),Ke=(0,s.Z)(qe,2),Ye=Ke[0],Ge=Ke[1],Qe=c.useMemo((function(){return{columns:Ye,flattenColumns:Ge}}),[Ye,Ge]),Xe=c.useRef(),$e=c.useRef(),Je=c.useRef(),et=c.useRef(),tt=c.useRef(),nt=c.useState(!1),rt=(0,s.Z)(nt,2),it=rt[0],at=rt[1],ot=c.useState(!1),st=(0,s.Z)(ot,2),lt=st[0],ct=st[1],ut=he(new Map),dt=(0,s.Z)(ut,2),pt=dt[0],ft=dt[1],ht=N(Ge).map((function(e){return pt.get(e)})),gt=c.useMemo((function(){return ht}),[ht.join("_")]),mt=ge(gt,Ge.length,j),vt=k&&E(k.y),yt=k&&E(k.x)||Boolean(J.fixed),bt=yt&&Ge.some((function(e){return e.fixed})),xt=c.useRef(),wt=function(e,t){var n="object"===(0,l.Z)(e)?e:{},r=n.offsetHeader,i=void 0===r?0:r,a=n.offsetSummary,o=void 0===a?0:a,s=n.offsetScroll,u=void 0===s?0:s,d=n.getContainer,p=(void 0===d?function(){return Oe}:d)()||Oe;return c.useMemo((function(){var n=!!e;return{isSticky:n,stickyClassName:n?"".concat(t,"-sticky-holder"):"",offsetHeader:i,offsetSummary:o,offsetScroll:u,container:p}}),[u,i,o,t,p])}(W,n),kt=wt.isSticky,_t=wt.offsetHeader,Ct=wt.offsetSummary,jt=wt.offsetScroll,St=wt.stickyClassName,Zt=wt.container,Nt=null===T||void 0===T?void 0:T(q),Et=(vt||kt)&&c.isValidElement(Nt)&&Nt.type===ke&&Nt.props.fixed;vt&&(Fe={overflowY:"scroll",maxHeight:k.y}),yt&&(Be={overflowX:"auto"},vt||(Fe={overflowY:"hidden"}),ze={width:!0===(null===k||void 0===k?void 0:k.x)?"auto":null===k||void 0===k?void 0:k.x,minWidth:"100%"});var Ot=c.useCallback((function(e,t){(0,u.Z)(Xe.current)&&ft((function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n}))}),[]),At=function(e){var t=(0,c.useRef)(e||null),n=(0,c.useRef)();function r(){window.clearTimeout(n.current)}return(0,c.useEffect)((function(){return r}),[]),[function(e){t.current=e,r(),n.current=window.setTimeout((function(){t.current=null,n.current=void 0}),100)},function(){return t.current}]}(null),Tt=(0,s.Z)(At,2),Pt=Tt[0],Mt=Tt[1];function It(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e))}var Dt=function(e){var t,n=e.currentTarget,r=e.scrollLeft,i="rtl"===j,a="number"===typeof r?r:n.scrollLeft,o=n||Ie;Mt()&&Mt()!==o||(Pt(o),It(a,$e.current),It(a,Je.current),It(a,tt.current),It(a,null===(t=xt.current)||void 0===t?void 0:t.setScrollLeft));if(n){var s=n.scrollWidth,l=n.clientWidth;if(s===l)return at(!1),void ct(!1);i?(at(-a<s-l),ct(-a>0)):(at(a>0),ct(a<s-l))}},Lt=function(){yt&&Je.current?Dt({currentTarget:Je.current}):(at(!1),ct(!1))},Rt=c.useRef(!1);c.useEffect((function(){Rt.current&&Lt()}),[yt,v,Ye.length]),c.useEffect((function(){Rt.current=!0}),[]);var Bt=c.useState(0),Ft=(0,s.Z)(Bt,2),zt=Ft[0],Vt=Ft[1],Ut=c.useState(!0),Ht=(0,s.Z)(Ut,2),Wt=Ht[0],qt=Ht[1];c.useEffect((function(){Je.current instanceof Element?Vt((0,w.o)(Je.current).width):Vt((0,w.o)(et.current).width),qt(h("position","sticky"))}),[]),c.useEffect((function(){F===De&&V&&(V.body.current=Je.current)}));var Kt,Yt=X(["table"],"table"),Gt=c.useMemo((function(){return _||(bt?"max-content"===(null===k||void 0===k?void 0:k.x)?"auto":"fixed":vt||kt||Ge.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[vt,bt,Ge,_,kt]),Qt={colWidths:gt,columCount:Ge.length,stickyOffsets:mt,onHeaderRow:B,fixHeader:vt,scroll:k},Xt=c.useMemo((function(){return G?null:"function"===typeof L?L():L}),[G,L]),$t=c.createElement(ie,{data:q,measureColumnWidth:vt||yt||kt,expandedKeys:Te,rowExpandable:ue,getRowKey:$,onRow:R,emptyNode:Xt,childrenColumnName:we}),Jt=c.createElement(ve,{colWidths:Ge.map((function(e){return e.width})),columns:Ge}),en=X(["body"]);if(vt||kt){var tn;"function"===typeof en?(tn=en(q,{scrollbarSize:zt,ref:Je,onScroll:Dt}),Qt.colWidths=Ge.map((function(e,t){var n=e.width,r=t===Ye.length-1?n-zt:n;return"number"!==typeof r||Number.isNaN(r)?((0,b.ZP)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):r}))):tn=c.createElement("div",{style:(0,a.Z)((0,a.Z)({},Be),Fe),onScroll:Dt,ref:Je,className:m()("".concat(n,"-body"))},c.createElement(Yt,{style:(0,a.Z)((0,a.Z)({},ze),{},{tableLayout:Gt})},Jt,$t,!Et&&Nt&&c.createElement(_e,{stickyOffsets:mt,flattenColumns:Ge},Nt)));var nn=(0,a.Z)((0,a.Z)((0,a.Z)({noData:!q.length,maxContentScroll:yt&&"max-content"===k.x},Qt),Qe),{},{direction:j,stickyClassName:St,onScroll:Dt});Kt=c.createElement(c.Fragment,null,!1!==I&&c.createElement(Pe,(0,i.Z)({},nn,{stickyTopOffset:_t,className:"".concat(n,"-header"),ref:$e}),(function(e){return c.createElement(c.Fragment,null,c.createElement(K,e),"top"===Et&&c.createElement(_e,e,Nt))})),tn,Et&&"top"!==Et&&c.createElement(Pe,(0,i.Z)({},nn,{stickyBottomOffset:Ct,className:"".concat(n,"-summary"),ref:tt}),(function(e){return c.createElement(_e,e,Nt)})),kt&&c.createElement(Ee,{ref:xt,offsetScroll:jt,scrollBodyRef:Je,onScroll:Dt,container:Zt}))}else Kt=c.createElement("div",{style:(0,a.Z)((0,a.Z)({},Be),Fe),className:m()("".concat(n,"-content")),onScroll:Dt,ref:Je},c.createElement(Yt,{style:(0,a.Z)((0,a.Z)({},ze),{},{tableLayout:Gt})},Jt,!1!==I&&c.createElement(K,(0,i.Z)({},Qt,Qe)),$t,Nt&&c.createElement(_e,{stickyOffsets:mt,flattenColumns:Ge},Nt)));var rn=(0,d.Z)(e,{aria:!0,data:!0}),an=c.createElement("div",(0,i.Z)({className:m()(n,p,(t={},(0,r.Z)(t,"".concat(n,"-rtl"),"rtl"===j),(0,r.Z)(t,"".concat(n,"-ping-left"),it),(0,r.Z)(t,"".concat(n,"-ping-right"),lt),(0,r.Z)(t,"".concat(n,"-layout-fixed"),"fixed"===_),(0,r.Z)(t,"".concat(n,"-fixed-header"),vt),(0,r.Z)(t,"".concat(n,"-fixed-column"),bt),(0,r.Z)(t,"".concat(n,"-scroll-horizontal"),yt),(0,r.Z)(t,"".concat(n,"-has-fix-left"),Ge[0]&&Ge[0].fixed),(0,r.Z)(t,"".concat(n,"-has-fix-right"),Ge[Ge.length-1]&&"right"===Ge[Ge.length-1].fixed),t)),style:g,id:P,ref:Xe},rn),c.createElement(Le,{pingLeft:it,pingRight:lt,props:(0,a.Z)((0,a.Z)({},e),{},{stickyOffsets:mt,mergedExpandedKeys:Te})},S&&c.createElement(ye,{className:"".concat(n,"-title")},S(q)),c.createElement("div",{ref:et,className:"".concat(n,"-container")},Kt),A&&c.createElement(ye,{className:"".concat(n,"-footer")},A(q))));yt&&(an=c.createElement(x.default,{onResize:function(e){var t=e.width;t!==He&&(Lt(),We(Xe.current?Xe.current.offsetWidth:t))}},an));var on=c.useMemo((function(){return{prefixCls:n,getComponent:X,scrollbarSize:zt,direction:j,fixedInfoList:Ge.map((function(e,t){return H(t,t,Ge,mt,j)})),isSticky:kt}}),[n,X,zt,j,Ge,mt,kt]),sn=c.useMemo((function(){return(0,a.Z)((0,a.Z)({},Qe),{},{tableLayout:Gt,rowClassName:f,expandedRowClassName:pe,expandIcon:xe,expandableType:Ce,expandRowByClick:ce,expandedRowRender:ae,onTriggerExpand:Re,expandIconColumnIndex:de,indentSize:be,allColumnsFixedLeft:Qe.flattenColumns.every((function(e){return"left"===e.fixed}))})}),[Qe,Gt,f,pe,xe,Ce,ce,ae,Re,de,be]),ln=c.useMemo((function(){return{componentWidth:He,fixHeader:vt,fixColumn:bt,horizonScroll:yt}}),[He,vt,bt,yt]),cn=c.useMemo((function(){return{onColumnResize:Ot}}),[Ot]);return c.createElement(O.Provider,{value:Wt},c.createElement(U.Provider,{value:on},c.createElement(M.Provider,{value:sn},c.createElement(Y.Provider,{value:ln},c.createElement(Q.Provider,{value:cn},an)))))}Re.EXPAND_COLUMN=le,Re.Column=_,Re.ColumnGroup=k,Re.Summary=Ce,Re.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var Be=Re},19566:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(10434)),o=r(n(42122)),s=r(n(27424)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),c=r(n(46123)),u=r(n(82804)),d=r(n(20862)),p=r(n(76093)),f=n(18593),h=r(n(70516));function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function m(e){var t=e.className,n=e.style,r=e.record,i=e.index,g=e.renderIndex,m=e.rowKey,v=e.rowExpandable,y=e.expandedKeys,b=e.onRow,x=e.indent,w=void 0===x?0:x,k=e.rowComponent,_=e.cellComponent,C=e.childrenColumnName,j=l.useContext(d.default),S=j.prefixCls,Z=j.fixedInfoList,N=l.useContext(p.default),E=N.flattenColumns,O=N.expandableType,A=N.expandRowByClick,T=N.onTriggerExpand,P=N.rowClassName,M=N.expandedRowClassName,I=N.indentSize,D=N.expandIcon,L=N.expandedRowRender,R=N.expandIconColumnIndex,B=l.useState(!1),F=(0,s.default)(B,2),z=F[0],V=F[1],U=y&&y.has(e.recordKey);l.useEffect((function(){U&&V(!0)}),[U]);var H="row"===O&&(!v||v(r)),W="nest"===O,q=C&&r&&r[C],K=H||W,Y=l.useRef(T);Y.current=T;var G,Q=function(){Y.current.apply(Y,arguments)},X=null===b||void 0===b?void 0:b(r,i);"string"===typeof P?G=P:"function"===typeof P&&(G=P(r,i,w));var $,J=(0,f.getColumnsKey)(E),ee=l.createElement(k,(0,a.default)({},X,{"data-row-key":m,className:(0,c.default)(t,"".concat(S,"-row"),"".concat(S,"-row-level-").concat(w),G,X&&X.className),style:(0,o.default)((0,o.default)({},n),X?X.style:null),onClick:function(e){var t;A&&K&&Q(r,e);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];null===X||void 0===X||null===(t=X.onClick)||void 0===t||t.call.apply(t,[X,e].concat(i))}}),E.map((function(e,t){var n,o,s=e.render,c=e.dataIndex,d=e.className,p=J[t],f=Z[t];return t===(R||0)&&W&&(n=l.createElement(l.Fragment,null,l.createElement("span",{style:{paddingLeft:"".concat(I*w,"px")},className:"".concat(S,"-row-indent indent-level-").concat(w)}),D({prefixCls:S,expanded:U,expandable:q,record:r,onExpand:Q}))),e.onCell&&(o=e.onCell(r,i)),l.createElement(u.default,(0,a.default)({className:d,ellipsis:e.ellipsis,align:e.align,component:_,prefixCls:S,key:p,record:r,index:i,renderIndex:g,dataIndex:c,render:s,shouldCellUpdate:e.shouldCellUpdate,expanded:n&&U},f,{appendNode:n,additionalProps:o}))})));if(H&&(z||U)){var te=L(r,i,w+1,U),ne=M&&M(r,i,w);$=l.createElement(h.default,{expanded:U,className:(0,c.default)("".concat(S,"-expanded-row"),"".concat(S,"-expanded-row-level-").concat(w+1),ne),prefixCls:S,component:k,cellComponent:_,colSpan:E.length,isEmpty:!1},te)}return l.createElement(l.Fragment,null,ee,$)}m.displayName="BodyRow";var v=m;t.default=v},70516:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),o=r(n(82804)),s=r(n(20862)),l=r(n(46889));function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var u=function(e){var t=e.prefixCls,n=e.children,r=e.component,i=e.cellComponent,c=e.className,u=e.expanded,d=e.colSpan,p=e.isEmpty,f=a.useContext(s.default).scrollbarSize,h=a.useContext(l.default),g=h.fixHeader,m=h.fixColumn,v=h.componentWidth,y=h.horizonScroll;return a.useMemo((function(){var e=n;return(p?y:m)&&(e=a.createElement("div",{style:{width:v-(g?f:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},0!==v&&e)),a.createElement(r,{className:c,style:{display:u?null:"none"}},a.createElement(o.default,{component:i,prefixCls:t,colSpan:d},e))}),[n,r,c,u,d,p,f,v,m,g,y])};t.default=u},38755:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.columnKey,n=e.onColumnResize,r=a.useRef();return a.useEffect((function(){r.current&&n(t,r.current.offsetWidth)}),[]),a.createElement(o.default,{data:t},a.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},a.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),o=r(n(25172));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},96461:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize;return a.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},a.createElement(o.default.Collection,{onBatchResize:function(e){e.forEach((function(e){var t=e.data,n=e.size;r(t,n.offsetWidth)}))}},n.map((function(e){return a.createElement(s.default,{key:e,columnKey:e,onColumnResize:r})}))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),o=r(n(25172)),s=r(n(38755));function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},16204:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(27424)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),s=r(n(20862)),l=r(n(70516)),c=r(n(76093)),u=n(18593),d=r(n(98150)),p=r(n(19566)),f=r(n(18150)),h=r(n(40097)),g=r(n(20718)),m=r(n(96461));function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e){var t=e.data,n=e.getRowKey,r=e.measureColumnWidth,i=e.expandedKeys,v=e.onRow,y=e.rowExpandable,b=e.emptyNode,x=e.childrenColumnName,w=o.useContext(d.default).onColumnResize,k=o.useContext(s.default),_=k.prefixCls,C=k.getComponent,j=o.useContext(c.default).flattenColumns,S=(0,f.default)(t,x,i,n),Z=o.useRef({renderWithProps:!1}),N=o.useState(-1),E=(0,a.default)(N,2),O=E[0],A=E[1],T=o.useState(-1),P=(0,a.default)(T,2),M=P[0],I=P[1],D=o.useCallback((function(e,t){A(e),I(t)}),[]),L=o.useMemo((function(){var e,a=C(["body","wrapper"],"tbody"),s=C(["body","row"],"tr"),c=C(["body","cell"],"td");e=t.length?S.map((function(e,t){var r=e.record,a=e.indent,l=e.index,u=n(r,t);return o.createElement(p.default,{key:u,rowKey:u,record:r,recordKey:u,index:t,renderIndex:l,rowComponent:s,cellComponent:c,expandedKeys:i,onRow:v,getRowKey:n,rowExpandable:y,childrenColumnName:x,indent:a})})):o.createElement(l.default,{expanded:!0,className:"".concat(_,"-placeholder"),prefixCls:_,component:s,cellComponent:c,colSpan:j.length,isEmpty:!0},b);var d=(0,u.getColumnsKey)(j);return o.createElement(a,{className:"".concat(_,"-tbody")},r&&o.createElement(m.default,{prefixCls:_,columnsKey:d,onColumnResize:w}),e)}),[t,_,v,r,i,n,C,b,j,x,w,y,S]);return o.createElement(g.default.Provider,{value:Z.current},o.createElement(h.default.Provider,{value:{startRow:O,endRow:M,onHover:D}},L))}var b=o.memo(y);b.displayName="Body";var x=b;t.default=x},82804:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(10434)),o=r(n(38416)),s=r(n(42122)),l=r(n(70215)),c=r(n(27424)),u=r(n(18698)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),p=r(n(46123)),f=r(n(59767)),h=n(81170),g=n(18593),m=r(n(68006)),v=r(n(40097)),y=r(n(76093)),b=(r(n(64287)),r(n(20718))),x=n(69782),w=["colSpan","rowSpan","style","className"];function k(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function _(e,t){var n,r,i,a=e.prefixCls,f=e.className,v=e.record,x=e.index,k=e.renderIndex,_=e.dataIndex,C=e.render,j=e.children,S=e.component,Z=void 0===S?"td":S,N=e.colSpan,E=e.rowSpan,O=e.fixLeft,A=e.fixRight,T=e.firstFixLeft,P=e.lastFixLeft,M=e.firstFixRight,I=e.lastFixRight,D=e.appendNode,L=e.additionalProps,R=void 0===L?{}:L,B=e.ellipsis,F=e.align,z=e.rowType,V=e.isSticky,U=e.hovering,H=e.onHover,W="".concat(a,"-cell"),q=d.useContext(b.default),K=d.useContext(m.default),Y=d.useContext(y.default).allColumnsFixedLeft,G=d.useMemo((function(){if((0,g.validateValue)(j))return[j];var e,t=(0,g.getPathValue)(v,_),n=t,r=void 0;if(C){var i=C(t,v,k);!(e=i)||"object"!==(0,u.default)(e)||Array.isArray(e)||d.isValidElement(e)?n=i:(n=i.children,r=i.props,q.renderWithProps=!0)}return[n,r]}),[q.renderWithProps?Math.random():0,j,_,q,v,C,k]),Q=(0,c.default)(G,2),X=Q[0],$=Q[1],J=X;"object"!==(0,u.default)(J)||Array.isArray(J)||d.isValidElement(J)||(J=null),B&&(P||M)&&(J=d.createElement("span",{className:"".concat(W,"-content")},J));var ee=$||{},te=ee.colSpan,ne=ee.rowSpan,re=ee.style,ie=ee.className,ae=(0,l.default)(ee,w),oe=null!==(n=void 0!==te?te:N)&&void 0!==n?n:1,se=null!==(r=void 0!==ne?ne:E)&&void 0!==r?r:1;if(0===oe||0===se)return null;var le={},ce="number"===typeof O&&K,ue="number"===typeof A&&K;ce&&(le.position="sticky",le.left=O),ue&&(le.position="sticky",le.right=A);var de={};F&&(de.textAlign=F);var pe,fe=function(e){var t,n=e.ellipsis,r=e.rowType,i=e.children,a=!0===n?{showTitle:!0}:n;return a&&(a.showTitle||"header"===r)&&("string"===typeof i||"number"===typeof i?t=i.toString():d.isValidElement(i)&&"string"===typeof i.props.children&&(t=i.props.children)),t}({rowType:z,ellipsis:B,children:X}),he=(0,s.default)((0,s.default)((0,s.default)({title:fe},ae),R),{},{colSpan:1!==oe?oe:null,rowSpan:1!==se?se:null,className:(0,p.default)(W,f,(i={},(0,o.default)(i,"".concat(W,"-fix-left"),ce&&K),(0,o.default)(i,"".concat(W,"-fix-left-first"),T&&K),(0,o.default)(i,"".concat(W,"-fix-left-last"),P&&K),(0,o.default)(i,"".concat(W,"-fix-left-all"),P&&Y&&K),(0,o.default)(i,"".concat(W,"-fix-right"),ue&&K),(0,o.default)(i,"".concat(W,"-fix-right-first"),M&&K),(0,o.default)(i,"".concat(W,"-fix-right-last"),I&&K),(0,o.default)(i,"".concat(W,"-ellipsis"),B),(0,o.default)(i,"".concat(W,"-with-append"),D),(0,o.default)(i,"".concat(W,"-fix-sticky"),(ce||ue)&&V&&K),(0,o.default)(i,"".concat(W,"-row-hover"),!$&&U),i),R.className,ie),style:(0,s.default)((0,s.default)((0,s.default)((0,s.default)({},R.style),de),le),re),onMouseEnter:function(e){var t;v&&H(x,x+se-1),null===R||void 0===R||null===(t=R.onMouseEnter)||void 0===t||t.call(R,e)},onMouseLeave:function(e){var t;v&&H(-1,-1),null===R||void 0===R||null===(t=R.onMouseLeave)||void 0===t||t.call(R,e)},ref:(pe=Z,"string"===typeof pe||(0,h.supportRef)(pe)?t:null)});return d.createElement(Z,he,D,J)}var C=d.forwardRef(_);C.displayName="Cell";var j=["expanded","className","hovering"],S=d.memo(C,(function(e,t){return t.shouldCellUpdate?j.every((function(n){return e[n]===t[n]}))&&!t.shouldCellUpdate(t.record,e.record):(0,f.default)(e,t)})),Z=d.forwardRef((function(e,t){var n=e.index,r=e.additionalProps,i=void 0===r?{}:r,o=e.colSpan,s=e.rowSpan,l=i.colSpan,c=i.rowSpan,u=null!==o&&void 0!==o?o:l,p=null!==s&&void 0!==s?s:c,f=(0,x.useContextSelector)(v.default,(function(e){var t=function(e,t,n,r){return e<=r&&e+t-1>=n}(n,p||1,null===e||void 0===e?void 0:e.startRow,null===e||void 0===e?void 0:e.endRow);return{onHover:null===e||void 0===e?void 0:e.onHover,hovering:t}})),h=f.onHover,g=f.hovering;return d.createElement(S,(0,a.default)({},e,{colSpan:u,rowSpan:p,hovering:g,ref:t,onHover:h}))}));Z.displayName="WrappedCell";var N=Z;t.default=N},13629:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(10434)),o=r(n(70215)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),l=n(12133),c=["columnType"];function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var d=function(e){for(var t=e.colWidths,n=e.columns,r=[],i=!1,u=(e.columCount||n.length)-1;u>=0;u-=1){var d=t[u],p=n&&n[u],f=p&&p[l.INTERNAL_COL_DEFINE];if(d||f||i){var h=f||{},g=(h.columnType,(0,o.default)(h,c));r.unshift(s.createElement("col",(0,a.default)({key:u,style:{width:d}},g))),i=!0}}return s.createElement("colgroup",null,r)};t.default=d},69782:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.createContext=function(){var e=o.createContext(null);return{Context:e,Provider:function(t){var n=t.value,r=t.children,i=o.useRef(n);i.current=n;var l=o.useState((function(){return{getValue:function(){return i.current},listeners:new Set}})),c=(0,a.default)(l,1)[0];return(0,s.default)((function(){c.listeners.forEach((function(e){e(n)}))}),[n]),o.createElement(e.Provider,{value:c},r)}}},t.useContextSelector=function(e,t){var n=(0,l.default)(t),r=o.useContext(null===e||void 0===e?void 0:e.Context),i=r||{},u=i.listeners,d=i.getValue,p=o.useState((function(){return n(r?d():null)})),f=(0,a.default)(p,2),h=f[0],g=f[1];return(0,s.default)((function(){if(r)return u.add(e),function(){u.delete(e)};function e(e){g((function(t){var r=n(e);return(0,c.default)(t,r)?t:r}))}}),[r]),h};var a=r(n(27424)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),s=r(n(99516)),l=r(n(31961)),c=r(n(59767));function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},96221:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(38416)),o=r(n(42122)),s=r(n(861)),l=r(n(70215)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),u=r(n(46123)),d=n(81170),p=r(n(13629)),f=r(n(20862)),h=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var m=c.forwardRef((function(e,t){var n=e.className,r=e.noData,i=e.columns,g=e.flattenColumns,m=e.colWidths,v=e.columCount,y=e.stickyOffsets,b=e.direction,x=e.fixHeader,w=e.stickyTopOffset,k=e.stickyBottomOffset,_=e.stickyClassName,C=e.onScroll,j=e.maxContentScroll,S=e.children,Z=(0,l.default)(e,h),N=c.useContext(f.default),E=N.prefixCls,O=N.scrollbarSize,A=N.isSticky,T=A&&!x?0:O,P=c.useRef(null),M=c.useCallback((function(e){(0,d.fillRef)(t,e),(0,d.fillRef)(P,e)}),[]);c.useEffect((function(){var e;function t(e){var t=e.currentTarget,n=e.deltaX;n&&(C({currentTarget:t,scrollLeft:t.scrollLeft+n}),e.preventDefault())}return null===(e=P.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=P.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var I=c.useMemo((function(){return g.every((function(e){return e.width>=0}))}),[g]),D=g[g.length-1],L={fixed:D?D.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(E,"-cell-scrollbar")}}},R=(0,c.useMemo)((function(){return T?[].concat((0,s.default)(i),[L]):i}),[T,i]),B=(0,c.useMemo)((function(){return T?[].concat((0,s.default)(g),[L]):g}),[T,g]),F=(0,c.useMemo)((function(){var e=y.right,t=y.left;return(0,o.default)((0,o.default)({},y),{},{left:"rtl"===b?[].concat((0,s.default)(t.map((function(e){return e+T}))),[0]):t,right:"rtl"===b?e:[].concat((0,s.default)(e.map((function(e){return e+T}))),[0]),isSticky:A})}),[T,y,A]),z=function(e,t){return(0,c.useMemo)((function(){for(var n=[],r=0;r<t;r+=1){var i=e[r];if(void 0===i)return null;n[r]=i}return n}),[e.join("_"),t])}(m,v);return c.createElement("div",{style:(0,o.default)({overflow:"hidden"},A?{top:w,bottom:k}:{}),ref:M,className:(0,u.default)(n,(0,a.default)({},_,!!_))},c.createElement("table",{style:{tableLayout:"fixed",visibility:r||z?null:"hidden"}},(!r||!j||I)&&c.createElement(p.default,{colWidths:z?[].concat((0,s.default)(z),[T]):[],columCount:v+1,columns:B}),S((0,o.default)((0,o.default)({},Z),{},{stickyOffsets:F,columns:R,flattenColumns:B}))))}));m.displayName="FixedHolder";var v=m;t.default=v},65237:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.className,n=e.index,r=e.children,i=e.colSpan,d=void 0===i?1:i,p=e.rowSpan,f=e.align,h=o.useContext(c.default),g=h.prefixCls,m=h.direction,v=o.useContext(s.default),y=v.scrollColumnIndex,b=v.stickyOffsets,x=v.flattenColumns,w=n+d-1+1===y?d+1:d,k=(0,u.getCellFixedInfo)(n,n+w-1,x,b,m);return o.createElement(l.default,(0,a.default)({className:t,index:n,component:"td",prefixCls:g,record:null,dataIndex:null,align:f,colSpan:w,rowSpan:p,render:function(){return r}},k))};var a=r(n(10434)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),s=r(n(93825)),l=r(n(82804)),c=r(n(20862)),u=n(89896);function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}},56388:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children,n=(0,a.default)(e,s);return o.createElement("tr",n,t)};var a=r(n(70215)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),s=["children"];function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},67576:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(65237)),a=r(n(56388));function o(e){return e.children}o.Row=a.default,o.Cell=i.default;var s=o;t.default=s},93825:function(e,t,n){"use strict";var r=n(18698);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(47313)).createContext({});t.default=a},14420:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FooterComponents=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),o=r(n(20862)),s=r(n(67576)),l=r(n(93825));function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var u=function(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,i=a.useContext(o.default).prefixCls,s=r.length-1,c=r[s],u=a.useMemo((function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:(null===c||void 0===c?void 0:c.scrollbar)?s:null}}),[c,r,s,n]);return a.createElement(l.default.Provider,{value:u},a.createElement("tfoot",{className:"".concat(i,"-summary")},t))};t.default=u;var d=s.default;t.FooterComponents=d},81561:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),o=r(n(52188)),s=r(n(20862));function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var c=function(e){var t=e.stickyOffsets,n=e.columns,r=e.flattenColumns,i=e.onHeaderRow,l=a.useContext(s.default),c=l.prefixCls,u=l.getComponent,d=a.useMemo((function(){return function(e){var t=[];!function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[i]=t[i]||[];var a=r;return n.filter(Boolean).map((function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:a},o=1,s=n.children;return s&&s.length>0&&(o=e(s,a,i+1).reduce((function(e,t){return e+t}),0),r.hasSubColumns=!0),"colSpan"in n&&(o=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=o,r.colEnd=r.colStart+o-1,t[i].push(r),a+=o,o}))}(e,0);for(var n=t.length,r=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},i=0;i<n;i+=1)r(i);return t}(n)}),[n]),p=u(["header","wrapper"],"thead"),f=u(["header","row"],"tr"),h=u(["header","cell"],"th");return a.createElement(p,{className:"".concat(c,"-thead")},d.map((function(e,n){return a.createElement(o.default,{key:n,flattenColumns:r,cells:e,stickyOffsets:t,rowComponent:f,cellComponent:h,onHeaderRow:i,index:n})})))};t.default=c},52188:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(10434)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),s=r(n(82804)),l=r(n(20862)),c=n(89896),u=n(18593);function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){var t,n=e.cells,r=e.stickyOffsets,i=e.flattenColumns,d=e.rowComponent,p=e.cellComponent,f=e.onHeaderRow,h=e.index,g=o.useContext(l.default),m=g.prefixCls,v=g.direction;f&&(t=f(n.map((function(e){return e.column})),h));var y=(0,u.getColumnsKey)(n.map((function(e){return e.column})));return o.createElement(d,t,n.map((function(e,t){var n,l=e.column,u=(0,c.getCellFixedInfo)(e.colStart,e.colEnd,i,r,v);return l&&l.onHeaderCell&&(n=e.column.onHeaderCell(l)),o.createElement(s.default,(0,a.default)({},e,{ellipsis:l.ellipsis,align:l.align,component:p,prefixCls:m,key:y[t]},u,{additionalProps:n,rowType:"header"}))})))}p.displayName="HeaderRow";var f=p;t.default=f},73491:function(e,t,n){"use strict";var r=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(47313));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var o=function(e){var t=e.className,n=e.children;return i.createElement("div",{className:t},n)};t.default=o},68798:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.INTERNAL_HOOKS=void 0;var a=r(n(38416)),o=r(n(10434)),s=r(n(42122)),l=r(n(861)),c=r(n(27424)),u=r(n(18698)),d=W(n(47313)),p=r(n(9389)),f=r(n(91077)),h=n(33538),g=r(n(46123)),m=r(n(59767)),v=r(n(64287)),y=r(n(25172)),b=n(30474),x=r(n(17451)),w=r(n(31002)),k=r(n(81561)),_=r(n(20862)),C=r(n(76093)),j=r(n(16204)),S=r(n(81341)),Z=n(79954),N=n(18593),E=r(n(98150)),O=r(n(53016)),A=r(n(13629)),T=n(12133),P=r(n(73491)),M=W(n(14420)),I=n(55584),D=n(89896),L=r(n(67428)),R=r(n(34796)),B=r(n(96221)),F=r(n(67576)),z=r(n(68006)),V=r(n(46889)),U=n(14631);function H(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var q=[],K={},Y="rc-table-internal-hook";t.INTERNAL_HOOKS=Y;var G=d.memo((function(e){return e.children}),(function(e,t){return!!(0,m.default)(e.props,t.props)&&(e.pingLeft!==t.pingLeft||e.pingRight!==t.pingRight)}));function Q(e){var t,n=e.prefixCls,r=e.className,i=e.rowClassName,m=e.style,x=e.data,w=e.rowKey,U=e.scroll,H=e.tableLayout,W=e.direction,Q=e.title,X=e.footer,$=e.summary,J=e.id,ee=e.showHeader,te=e.components,ne=e.emptyText,re=e.onRow,ie=e.onHeaderRow,ae=e.internalHooks,oe=e.transformColumns,se=e.internalRefs,le=e.sticky,ce=x||q,ue=!!ce.length;var de=d.useCallback((function(e,t){return(0,N.getPathValue)(te||{},e)||t}),[te]),pe=d.useMemo((function(){return"function"===typeof w?w:function(e){return e&&e[w]}}),[w]),fe=(0,T.getExpandableProps)(e),he=fe.expandIcon,ge=fe.expandedRowKeys,me=fe.defaultExpandedRowKeys,ve=fe.defaultExpandAllRows,ye=fe.expandedRowRender,be=fe.onExpand,xe=fe.onExpandedRowsChange,we=fe.expandRowByClick,ke=fe.rowExpandable,_e=fe.expandIconColumnIndex,Ce=fe.expandedRowClassName,je=fe.childrenColumnName,Se=fe.indentSize,Ze=he||I.renderExpandIcon,Ne=je||"children",Ee=d.useMemo((function(){return ye?"row":!!(e.expandable&&ae===Y&&e.expandable.__PARENT_RENDER_ICON__||ce.some((function(e){return e&&"object"===(0,u.default)(e)&&e[Ne]})))&&"nest"}),[!!ye,ce]),Oe=d.useState((function(){return me||(ve?(0,I.findAllChildrenKeys)(ce,pe,Ne):[])})),Ae=(0,c.default)(Oe,2),Te=Ae[0],Pe=Ae[1],Me=d.useMemo((function(){return new Set(ge||Te||[])}),[ge,Te]),Ie=d.useCallback((function(e){var t,n=pe(e,ce.indexOf(e)),r=Me.has(n);r?(Me.delete(n),t=(0,l.default)(Me)):t=[].concat((0,l.default)(Me),[n]),Pe(t),be&&be(!r,e),xe&&xe(t)}),[pe,Me,ce,be,xe]);var De,Le,Re,Be=d.useState(0),Fe=(0,c.default)(Be,2),ze=Fe[0],Ve=Fe[1],Ue=(0,S.default)((0,s.default)((0,s.default)((0,s.default)({},e),fe),{},{expandable:!!ye,expandedKeys:Me,getRowKey:pe,onTriggerExpand:Ie,expandIcon:Ze,expandIconColumnIndex:_e,direction:W}),ae===Y?oe:null),He=(0,c.default)(Ue,2),We=He[0],qe=He[1],Ke=d.useMemo((function(){return{columns:We,flattenColumns:qe}}),[We,qe]),Ye=d.useRef(),Ge=d.useRef(),Qe=d.useRef(),Xe=d.useRef(),$e=d.useRef(),Je=d.useState(!1),et=(0,c.default)(Je,2),tt=et[0],nt=et[1],rt=d.useState(!1),it=(0,c.default)(rt,2),at=it[0],ot=it[1],st=(0,Z.useLayoutState)(new Map),lt=(0,c.default)(st,2),ct=lt[0],ut=lt[1],dt=(0,N.getColumnsKey)(qe).map((function(e){return ct.get(e)})),pt=d.useMemo((function(){return dt}),[dt.join("_")]),ft=(0,O.default)(pt,qe.length,W),ht=U&&(0,N.validateValue)(U.y),gt=U&&(0,N.validateValue)(U.x)||Boolean(fe.fixed),mt=gt&&qe.some((function(e){return e.fixed})),vt=d.useRef(),yt=(0,R.default)(le,n),bt=yt.isSticky,xt=yt.offsetHeader,wt=yt.offsetSummary,kt=yt.offsetScroll,_t=yt.stickyClassName,Ct=yt.container,jt=null===$||void 0===$?void 0:$(ce),St=(ht||bt)&&d.isValidElement(jt)&&jt.type===F.default&&jt.props.fixed;ht&&(Le={overflowY:"scroll",maxHeight:U.y}),gt&&(De={overflowX:"auto"},ht||(Le={overflowY:"hidden"}),Re={width:!0===(null===U||void 0===U?void 0:U.x)?"auto":null===U||void 0===U?void 0:U.x,minWidth:"100%"});var Zt=d.useCallback((function(e,t){(0,p.default)(Ye.current)&&ut((function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n}))}),[]),Nt=(0,Z.useTimeoutLock)(null),Et=(0,c.default)(Nt,2),Ot=Et[0],At=Et[1];function Tt(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e))}var Pt=function(e){var t,n=e.currentTarget,r=e.scrollLeft,i="rtl"===W,a="number"===typeof r?r:n.scrollLeft,o=n||K;At()&&At()!==o||(Ot(o),Tt(a,Ge.current),Tt(a,Qe.current),Tt(a,$e.current),Tt(a,null===(t=vt.current)||void 0===t?void 0:t.setScrollLeft));if(n){var s=n.scrollWidth,l=n.clientWidth;if(s===l)return nt(!1),void ot(!1);i?(nt(-a<s-l),ot(-a>0)):(nt(a>0),ot(a<s-l))}},Mt=function(){gt&&Qe.current?Pt({currentTarget:Qe.current}):(nt(!1),ot(!1))},It=d.useRef(!1);d.useEffect((function(){It.current&&Mt()}),[gt,x,We.length]),d.useEffect((function(){It.current=!0}),[]);var Dt=d.useState(0),Lt=(0,c.default)(Dt,2),Rt=Lt[0],Bt=Lt[1],Ft=d.useState(!0),zt=(0,c.default)(Ft,2),Vt=zt[0],Ut=zt[1];d.useEffect((function(){Qe.current instanceof Element?Bt((0,b.getTargetScrollBarSize)(Qe.current).width):Bt((0,b.getTargetScrollBarSize)(Xe.current).width),Ut((0,h.isStyleSupport)("position","sticky"))}),[]),d.useEffect((function(){ae===Y&&se&&(se.body.current=Qe.current)}));var Ht,Wt=de(["table"],"table"),qt=d.useMemo((function(){return H||(mt?"max-content"===(null===U||void 0===U?void 0:U.x)?"auto":"fixed":ht||bt||qe.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[ht,mt,qe,H,bt]),Kt={colWidths:pt,columCount:qe.length,stickyOffsets:ft,onHeaderRow:ie,fixHeader:ht,scroll:U},Yt=d.useMemo((function(){return ue?null:"function"===typeof ne?ne():ne}),[ue,ne]),Gt=d.createElement(j.default,{data:ce,measureColumnWidth:ht||gt||bt,expandedKeys:Me,rowExpandable:ke,getRowKey:pe,onRow:re,emptyNode:Yt,childrenColumnName:Ne}),Qt=d.createElement(A.default,{colWidths:qe.map((function(e){return e.width})),columns:qe}),Xt=de(["body"]);if(ht||bt){var $t;"function"===typeof Xt?($t=Xt(ce,{scrollbarSize:Rt,ref:Qe,onScroll:Pt}),Kt.colWidths=qe.map((function(e,t){var n=e.width,r=t===We.length-1?n-Rt:n;return"number"!==typeof r||Number.isNaN(r)?((0,v.default)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):r}))):$t=d.createElement("div",{style:(0,s.default)((0,s.default)({},De),Le),onScroll:Pt,ref:Qe,className:(0,g.default)("".concat(n,"-body"))},d.createElement(Wt,{style:(0,s.default)((0,s.default)({},Re),{},{tableLayout:qt})},Qt,Gt,!St&&jt&&d.createElement(M.default,{stickyOffsets:ft,flattenColumns:qe},jt)));var Jt=(0,s.default)((0,s.default)((0,s.default)({noData:!ce.length,maxContentScroll:gt&&"max-content"===U.x},Kt),Ke),{},{direction:W,stickyClassName:_t,onScroll:Pt});Ht=d.createElement(d.Fragment,null,!1!==ee&&d.createElement(B.default,(0,o.default)({},Jt,{stickyTopOffset:xt,className:"".concat(n,"-header"),ref:Ge}),(function(e){return d.createElement(d.Fragment,null,d.createElement(k.default,e),"top"===St&&d.createElement(M.default,e,jt))})),$t,St&&"top"!==St&&d.createElement(B.default,(0,o.default)({},Jt,{stickyBottomOffset:wt,className:"".concat(n,"-summary"),ref:$e}),(function(e){return d.createElement(M.default,e,jt)})),bt&&d.createElement(L.default,{ref:vt,offsetScroll:kt,scrollBodyRef:Qe,onScroll:Pt,container:Ct}))}else Ht=d.createElement("div",{style:(0,s.default)((0,s.default)({},De),Le),className:(0,g.default)("".concat(n,"-content")),onScroll:Pt,ref:Qe},d.createElement(Wt,{style:(0,s.default)((0,s.default)({},Re),{},{tableLayout:qt})},Qt,!1!==ee&&d.createElement(k.default,(0,o.default)({},Kt,Ke)),Gt,jt&&d.createElement(M.default,{stickyOffsets:ft,flattenColumns:qe},jt)));var en=(0,f.default)(e,{aria:!0,data:!0}),tn=d.createElement("div",(0,o.default)({className:(0,g.default)(n,r,(t={},(0,a.default)(t,"".concat(n,"-rtl"),"rtl"===W),(0,a.default)(t,"".concat(n,"-ping-left"),tt),(0,a.default)(t,"".concat(n,"-ping-right"),at),(0,a.default)(t,"".concat(n,"-layout-fixed"),"fixed"===H),(0,a.default)(t,"".concat(n,"-fixed-header"),ht),(0,a.default)(t,"".concat(n,"-fixed-column"),mt),(0,a.default)(t,"".concat(n,"-scroll-horizontal"),gt),(0,a.default)(t,"".concat(n,"-has-fix-left"),qe[0]&&qe[0].fixed),(0,a.default)(t,"".concat(n,"-has-fix-right"),qe[qe.length-1]&&"right"===qe[qe.length-1].fixed),t)),style:m,id:J,ref:Ye},en),d.createElement(G,{pingLeft:tt,pingRight:at,props:(0,s.default)((0,s.default)({},e),{},{stickyOffsets:ft,mergedExpandedKeys:Me})},Q&&d.createElement(P.default,{className:"".concat(n,"-title")},Q(ce)),d.createElement("div",{ref:Xe,className:"".concat(n,"-container")},Ht),X&&d.createElement(P.default,{className:"".concat(n,"-footer")},X(ce))));gt&&(tn=d.createElement(y.default,{onResize:function(e){var t=e.width;t!==ze&&(Mt(),Ve(Ye.current?Ye.current.offsetWidth:t))}},tn));var nn=d.useMemo((function(){return{prefixCls:n,getComponent:de,scrollbarSize:Rt,direction:W,fixedInfoList:qe.map((function(e,t){return(0,D.getCellFixedInfo)(t,t,qe,ft,W)})),isSticky:bt}}),[n,de,Rt,W,qe,ft,bt]),rn=d.useMemo((function(){return(0,s.default)((0,s.default)({},Ke),{},{tableLayout:qt,rowClassName:i,expandedRowClassName:Ce,expandIcon:Ze,expandableType:Ee,expandRowByClick:we,expandedRowRender:ye,onTriggerExpand:Ie,expandIconColumnIndex:_e,indentSize:Se,allColumnsFixedLeft:Ke.flattenColumns.every((function(e){return"left"===e.fixed}))})}),[Ke,qt,i,Ce,Ze,Ee,we,ye,Ie,_e,Se]),an=d.useMemo((function(){return{componentWidth:ze,fixHeader:ht,fixColumn:mt,horizonScroll:gt}}),[ze,ht,mt,gt]),on=d.useMemo((function(){return{onColumnResize:Zt}}),[Zt]);return d.createElement(z.default.Provider,{value:Vt},d.createElement(_.default.Provider,{value:nn},d.createElement(C.default.Provider,{value:rn},d.createElement(V.default.Provider,{value:an},d.createElement(E.default.Provider,{value:on},tn)))))}Q.EXPAND_COLUMN=U.EXPAND_COLUMN,Q.Column=w.default,Q.ColumnGroup=x.default,Q.Summary=M.FooterComponents,Q.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var X=Q;t.default=X},14631:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXPAND_COLUMN=void 0;t.EXPAND_COLUMN={}},76093:function(e,t,n){"use strict";var r=n(18698);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(47313)).createContext(null);t.default=a},46889:function(e,t,n){"use strict";var r=n(18698);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(47313)).createContext(null);t.default=a},40097:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(69782).createContext)();t.default=r},20718:function(e,t,n){"use strict";var r=n(18698);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(47313)).createContext({renderWithProps:!1});t.default=a},98150:function(e,t,n){"use strict";var r=n(18698);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(47313)).createContext(null);t.default=a},68006:function(e,t,n){"use strict";var r=n(18698);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(47313)).createContext(!1);t.default=a},20862:function(e,t,n){"use strict";var r=n(18698);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(47313)).createContext(null);t.default=a},81341:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.convertChildrenToColumns=m,t.default=void 0;var a=r(n(38416)),o=r(n(861)),s=r(n(42122)),l=r(n(70215)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),u=(r(n(64287)),r(n(72899))),d=n(12133),p=n(14631),f=["children"],h=["fixed"];function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function m(e){return(0,u.default)(e).filter((function(e){return c.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,r=n.children,i=(0,l.default)(n,f),a=(0,s.default)({key:t},i);return r&&(a.children=m(r)),a}))}function v(e){return e.reduce((function(e,t){var n=t.fixed,r=!0===n?"left":n,i=t.children;return i&&i.length>0?[].concat((0,o.default)(e),(0,o.default)(v(i).map((function(e){return(0,s.default)({fixed:r},e)})))):[].concat((0,o.default)(e),[(0,s.default)((0,s.default)({},t),{},{fixed:r})])}),[])}var y=function(e,t){var n=e.prefixCls,r=e.columns,i=e.children,o=e.expandable,u=e.expandedKeys,f=e.getRowKey,g=e.onTriggerExpand,y=e.expandIcon,b=e.rowExpandable,x=e.expandIconColumnIndex,w=e.direction,k=e.expandRowByClick,_=e.columnWidth,C=e.fixed,j=c.useMemo((function(){return r||m(i)}),[r,i]),S=c.useMemo((function(){if(o){var e,t=j.slice();if(!t.includes(p.EXPAND_COLUMN)){var r=x||0;r>=0&&t.splice(r,0,p.EXPAND_COLUMN)}0;var i=t.indexOf(p.EXPAND_COLUMN);t=t.filter((function(e,t){return e!==p.EXPAND_COLUMN||t===i}));var s,l=j[i];s="left"!==C&&!C||x?"right"!==C&&!C||x!==j.length?l?l.fixed:null:"right":"left";var h=(e={},(0,a.default)(e,d.INTERNAL_COL_DEFINE,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),(0,a.default)(e,"title",""),(0,a.default)(e,"fixed",s),(0,a.default)(e,"className","".concat(n,"-row-expand-icon-cell")),(0,a.default)(e,"width",_),(0,a.default)(e,"render",(function(e,t,r){var i=f(t,r),a=u.has(i),o=!b||b(t),s=y({prefixCls:n,expanded:a,expandable:o,record:t,onExpand:g});return k?c.createElement("span",{onClick:function(e){return e.stopPropagation()}},s):s})),e);return t.map((function(e){return e===p.EXPAND_COLUMN?h:e}))}return j.filter((function(e){return e!==p.EXPAND_COLUMN}))}),[o,j,f,u,y,w]),Z=c.useMemo((function(){var e=S;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,S,w]),N=c.useMemo((function(){return"rtl"===w?function(e){return e.map((function(e){var t=e.fixed,n=(0,l.default)(e,h),r=t;return"left"===t?r="right":"right"===t&&(r="left"),(0,s.default)({fixed:r},n)}))}(v(Z)):v(Z)}),[Z,w]);return[Z,N]};t.default=y},18150:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){return o.useMemo((function(){if(null===n||void 0===n?void 0:n.size){for(var i=[],o=0;o<(null===e||void 0===e?void 0:e.length);o+=1){var s=e[o];i.push.apply(i,(0,a.default)(l(s,0,t,n,r,o)))}return i}return null===e||void 0===e?void 0:e.map((function(e,t){return{record:e,indent:0,index:t}}))}),[e,t,n,r])};var a=r(n(861)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n,r,i,o){var s=[];s.push({record:e,indent:t,index:o});var c=i(e),u=null===r||void 0===r?void 0:r.has(c);if(e&&Array.isArray(e[n])&&u)for(var d=0;d<e[n].length;d+=1){var p=l(e[n][d],t+1,n,r,i,d);s.push.apply(s,(0,a.default)(p))}return s}},79954:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.useLayoutState=function(e){var t=(0,a.useRef)(e),n=(0,a.useState)({}),r=(0,i.default)(n,2)[1],o=(0,a.useRef)(null),s=(0,a.useRef)([]);return(0,a.useEffect)((function(){return function(){o.current=null}}),[]),[t.current,function(e){s.current.push(e);var n=Promise.resolve();o.current=n,n.then((function(){if(o.current===n){var e=s.current,i=t.current;s.current=[],e.forEach((function(e){t.current=e(t.current)})),o.current=null,i!==t.current&&r({})}}))}]},t.useTimeoutLock=function(e){var t=(0,a.useRef)(e||null),n=(0,a.useRef)();function r(){window.clearTimeout(n.current)}return(0,a.useEffect)((function(){return r}),[]),[function(e){t.current=e,r(),n.current=window.setTimeout((function(){t.current=null,n.current=void 0}),100)},function(){return t.current}]};var i=r(n(27424)),a=n(47313)},34796:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="object"===(0,a.default)(e)?e:{},r=n.offsetHeader,i=void 0===r?0:r,s=n.offsetSummary,c=void 0===s?0:s,u=n.offsetScroll,d=void 0===u?0:u,p=n.getContainer,f=(void 0===p?function(){return l}:p)()||l;return o.useMemo((function(){var n=!!e;return{isSticky:n,stickyClassName:n?"".concat(t,"-sticky-holder"):"",offsetHeader:i,offsetSummary:c,offsetScroll:d,container:f}}),[d,i,c,t,f])};var a=r(n(18698)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var l=(0,r(n(27065)).default)()?window:null},53016:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(47313);var i=function(e,t,n){return(0,r.useMemo)((function(){for(var r=[],i=[],a=0,o=0,s=0;s<t;s+=1)if("rtl"===n){i[s]=o,o+=e[s]||0;var l=t-s-1;r[l]=a,a+=e[l]||0}else{r[s]=a,a+=e[s]||0;var c=t-s-1;i[c]=o,o+=e[c]||0}return{left:r,right:i}}),[e,t,n])};t.default=i},67428:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(38416)),o=r(n(42122)),s=r(n(27424)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),c=r(n(58166)),u=r(n(30474)),d=r(n(46123)),p=n(36468),f=r(n(20862)),h=n(79954);function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var m=function(e,t){var n,r,i=e.scrollBodyRef,g=e.onScroll,m=e.offsetScroll,v=e.container,y=l.useContext(f.default).prefixCls,b=(null===(n=i.current)||void 0===n?void 0:n.scrollWidth)||0,x=(null===(r=i.current)||void 0===r?void 0:r.clientWidth)||0,w=b&&x*(x/b),k=l.useRef(),_=(0,h.useLayoutState)({scrollLeft:0,isHiddenScrollBar:!1}),C=(0,s.default)(_,2),j=C[0],S=C[1],Z=l.useRef({delta:0,x:0}),N=l.useState(!1),E=(0,s.default)(N,2),O=E[0],A=E[1],T=function(){A(!1)},P=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(O&&0!==n){var r=Z.current.x+e.pageX-Z.current.x-Z.current.delta;r<=0&&(r=0),r+w>=x&&(r=x-w),g({scrollLeft:r/x*(b+2)}),Z.current.x=e.pageX}else O&&A(!1)},M=function(){if(i.current){var e=(0,p.getOffset)(i.current).top,t=e+i.current.offsetHeight,n=v===window?document.documentElement.scrollTop+window.innerHeight:(0,p.getOffset)(v).top+v.clientHeight;t-(0,u.default)()<=n||e>=n-m?S((function(e){return(0,o.default)((0,o.default)({},e),{},{isHiddenScrollBar:!0})})):S((function(e){return(0,o.default)((0,o.default)({},e),{},{isHiddenScrollBar:!1})}))}},I=function(e){S((function(t){return(0,o.default)((0,o.default)({},t),{},{scrollLeft:e/b*x||0})}))};return l.useImperativeHandle(t,(function(){return{setScrollLeft:I}})),l.useEffect((function(){var e=(0,c.default)(document.body,"mouseup",T,!1),t=(0,c.default)(document.body,"mousemove",P,!1);return M(),function(){e.remove(),t.remove()}}),[w,O]),l.useEffect((function(){var e=(0,c.default)(v,"scroll",M,!1),t=(0,c.default)(window,"resize",M,!1);return function(){e.remove(),t.remove()}}),[v]),l.useEffect((function(){j.isHiddenScrollBar||S((function(e){var t=i.current;return t?(0,o.default)((0,o.default)({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[j.isHiddenScrollBar]),b<=x||!w||j.isHiddenScrollBar?null:l.createElement("div",{style:{height:(0,u.default)(),width:x,bottom:m},className:"".concat(y,"-sticky-scroll")},l.createElement("div",{onMouseDown:function(e){e.persist(),Z.current.delta=e.pageX-j.scrollLeft,Z.current.x=0,A(!0),e.preventDefault()},ref:k,className:(0,d.default)("".concat(y,"-sticky-scroll-bar"),(0,a.default)({},"".concat(y,"-sticky-scroll-bar-active"),O)),style:{width:"".concat(w,"px"),transform:"translate3d(".concat(j.scrollLeft,"px, 0, 0)")}}))},v=l.forwardRef(m);t.default=v},31002:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return null};t.default=n},17451:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return null};t.default=n},55584:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.findAllChildrenKeys=function(e,t,n){var r=[];return function e(i){(i||[]).forEach((function(i,a){r.push(t(i,a)),e(i[n])}))}(e),r},t.renderExpandIcon=function(e){var t,n=e.prefixCls,r=e.record,i=e.onExpand,l=e.expanded,c=e.expandable,u="".concat(n,"-row-expand-icon");if(!c)return o.createElement("span",{className:(0,s.default)(u,"".concat(n,"-row-spaced"))});return o.createElement("span",{className:(0,s.default)(u,(t={},(0,a.default)(t,"".concat(n,"-row-expanded"),l),(0,a.default)(t,"".concat(n,"-row-collapsed"),!l),t)),onClick:function(e){i(r,e),e.stopPropagation()}})};var a=r(n(38416)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),s=r(n(46123));function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},89896:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCellFixedInfo=function(e,t,n,r,i){var a,o,s=n[e]||{},l=n[t]||{};"left"===s.fixed?a=r.left[e]:"right"===l.fixed&&(o=r.right[t]);var c=!1,u=!1,d=!1,p=!1,f=n[t+1],h=n[e-1];if("rtl"===i){if(void 0!==a){var g=h&&"left"===h.fixed;p=!g}else if(void 0!==o){var m=f&&"right"===f.fixed;d=!m}}else if(void 0!==a){var v=f&&"left"===f.fixed;c=!v}else if(void 0!==o){var y=h&&"right"===h.fixed;u=!y}return{fixLeft:a,fixRight:o,lastFixLeft:c,firstFixRight:u,lastFixRight:d,firstFixLeft:p,isSticky:r.isSticky}}},12133:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.INTERNAL_COL_DEFINE=void 0,t.getExpandableProps=function(e){var t,n=e.expandable,r=(0,a.default)(e,o);t="expandable"in e?(0,i.default)((0,i.default)({},r),n):r;!1===t.showExpandColumn&&(t.expandIconColumnIndex=-1);return t};var i=r(n(42122)),a=r(n(70215)),o=(r(n(64287)),["expandable"]);t.INTERNAL_COL_DEFINE="RC_TABLE_INTERNAL_COL_DEFINE"},18593:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getColumnsKey=function(e){var t=[],r={};return e.forEach((function(e){for(var i=e||{},a=i.key,o=i.dataIndex,s=a||n(o).join("-")||"RC_TABLE_KEY";r[s];)s="".concat(s,"_next");r[s]=!0,t.push(s)})),t},t.getPathValue=function(e,t){if(!t&&"number"!==typeof t)return e;for(var r=n(t),i=e,a=0;a<r.length;a+=1){if(!i)return null;var o=r[a];i=i[o]}return i},t.validateValue=function(e){return null!==e&&void 0!==e};function n(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}},74715:function(e,t,n){"use strict";n.r(t),n.d(t,{TabPane:function(){return L},default:function(){return V}});var r=n(87462),i=n(4942),a=n(29439),o=n(71002),s=n(45987),l=n(1413),c=n(47313),u=n(46123),d=n.n(u),p=n(14903),f=n(64394),h=n(10288),g=n(93433),m=n(95557),v=n(25172);function y(e){var t=(0,c.useRef)(),n=(0,c.useRef)(!1);return(0,c.useEffect)((function(){return n.current=!1,function(){n.current=!0,m.Z.cancel(t.current)}}),[]),function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n.current||(m.Z.cancel(t.current),t.current=(0,m.Z)((function(){e.apply(void 0,i)})))}}var b=n(49242);function x(e,t){var n,r=e.prefixCls,a=e.id,o=e.active,s=e.tab,l=s.key,u=s.tab,p=s.disabled,f=s.closeIcon,h=e.closable,g=e.renderWrapper,m=e.removeAriaLabel,v=e.editable,y=e.onClick,x=e.onRemove,w=e.onFocus,k=e.style,_="".concat(r,"-tab");c.useEffect((function(){return x}),[]);var C=v&&!1!==h&&!p;function j(e){p||y(e)}var S=c.createElement("div",{key:l,ref:t,className:d()(_,(n={},(0,i.Z)(n,"".concat(_,"-with-remove"),C),(0,i.Z)(n,"".concat(_,"-active"),o),(0,i.Z)(n,"".concat(_,"-disabled"),p),n)),style:k,onClick:j},c.createElement("div",{role:"tab","aria-selected":o,id:a&&"".concat(a,"-tab-").concat(l),className:"".concat(_,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(l),"aria-disabled":p,tabIndex:p?null:0,onClick:function(e){e.stopPropagation(),j(e)},onKeyDown:function(e){[b.Z.SPACE,b.Z.ENTER].includes(e.which)&&(e.preventDefault(),j(e))},onFocus:w},u),C&&c.createElement("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(_,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),v.onEdit("remove",{key:l,event:t})}},f||v.removeIcon||"\xd7"));return g?g(S):S}var w=c.forwardRef(x),k={width:0,height:0,left:0,top:0};var _={width:0,height:0,left:0,top:0,right:0};var C=n(74224),j=n(43107);function S(e,t){var n=e.prefixCls,r=e.editable,i=e.locale,a=e.style;return r&&!1!==r.showAdd?c.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:a,"aria-label":(null===i||void 0===i?void 0:i.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}var Z=c.forwardRef(S);function N(e,t){var n=e.prefixCls,r=e.id,o=e.tabs,s=e.locale,l=e.mobile,u=e.moreIcon,p=void 0===u?"More":u,f=e.moreTransitionName,h=e.style,g=e.className,m=e.editable,v=e.tabBarGutter,y=e.rtl,x=e.removeAriaLabel,w=e.onTabClick,k=e.getPopupContainer,_=e.popupClassName,S=(0,c.useState)(!1),N=(0,a.Z)(S,2),E=N[0],O=N[1],A=(0,c.useState)(null),T=(0,a.Z)(A,2),P=T[0],M=T[1],I="".concat(r,"-more-popup"),D="".concat(n,"-dropdown"),L=null!==P?"".concat(I,"-").concat(P):null,R=null===s||void 0===s?void 0:s.dropdownAriaLabel;var B=c.createElement(C.default,{onClick:function(e){var t=e.key,n=e.domEvent;w(t,n),O(!1)},prefixCls:"".concat(D,"-menu"),id:I,tabIndex:-1,role:"listbox","aria-activedescendant":L,selectedKeys:[P],"aria-label":void 0!==R?R:"expanded dropdown"},o.map((function(e){var t=m&&!1!==e.closable&&!e.disabled;return c.createElement(C.MenuItem,{key:e.key,id:"".concat(I,"-").concat(e.key),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(e.key),disabled:e.disabled},c.createElement("span",null,e.tab),t&&c.createElement("button",{type:"button","aria-label":x||"remove",tabIndex:0,className:"".concat(D,"-menu-item-remove"),onClick:function(t){var n,r;t.stopPropagation(),n=t,r=e.key,n.preventDefault(),n.stopPropagation(),m.onEdit("remove",{key:r,event:n})}},e.closeIcon||m.removeIcon||"\xd7"))})));function F(e){for(var t=o.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===P}))||0,r=t.length,i=0;i<r;i+=1){var a=t[n=(n+e+r)%r];if(!a.disabled)return void M(a.key)}}(0,c.useEffect)((function(){var e=document.getElementById(L);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[P]),(0,c.useEffect)((function(){E||M(null)}),[E]);var z=(0,i.Z)({},y?"marginRight":"marginLeft",v);o.length||(z.visibility="hidden",z.order=1);var V=d()((0,i.Z)({},"".concat(D,"-rtl"),y)),U=l?null:c.createElement(j.default,{prefixCls:D,overlay:B,trigger:["hover"],visible:!!o.length&&E,transitionName:f,onVisibleChange:O,overlayClassName:d()(V,_),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:k},c.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:z,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":I,id:"".concat(r,"-more"),"aria-expanded":E,onKeyDown:function(e){var t=e.which;if(E)switch(t){case b.Z.UP:F(-1),e.preventDefault();break;case b.Z.DOWN:F(1),e.preventDefault();break;case b.Z.ESC:O(!1);break;case b.Z.SPACE:case b.Z.ENTER:null!==P&&w(P,e)}else[b.Z.DOWN,b.Z.SPACE,b.Z.ENTER].includes(t)&&(O(!0),e.preventDefault())}},p));return c.createElement("div",{className:d()("".concat(n,"-nav-operations"),g),style:h,ref:t},U,c.createElement(Z,{prefixCls:n,locale:s,editable:m}))}var E=c.memo(c.forwardRef(N),(function(e,t){return t.tabMoving})),O=(0,c.createContext)(null),A=Math.pow(.995,20);function T(e,t){var n=c.useRef(e),r=c.useState({}),i=(0,a.Z)(r,2)[1];return[n.current,function(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,i({})}]}var P=function(e){var t,n=e.position,r=e.prefixCls,i=e.extra;if(!i)return null;var a={};return i&&"object"===(0,o.Z)(i)&&!c.isValidElement(i)?a=i:a.right=i,"right"===n&&(t=a.right),"left"===n&&(t=a.left),t?c.createElement("div",{className:"".concat(r,"-extra-content")},t):null};function M(e,t){var n,o=c.useContext(O),s=o.prefixCls,u=o.tabs,p=e.className,f=e.style,h=e.id,b=e.animated,x=e.activeKey,C=e.rtl,j=e.extra,S=e.editable,N=e.locale,M=e.tabPosition,I=e.tabBarGutter,D=e.children,L=e.onTabClick,R=e.onTabScroll,B=(0,c.useRef)(),F=(0,c.useRef)(),z=(0,c.useRef)(),V=(0,c.useRef)(),U=function(){var e=(0,c.useRef)(new Map);return[function(t){return e.current.has(t)||e.current.set(t,c.createRef()),e.current.get(t)},function(t){e.current.delete(t)}]}(),H=(0,a.Z)(U,2),W=H[0],q=H[1],K="top"===M||"bottom"===M,Y=T(0,(function(e,t){K&&R&&R({direction:e>t?"left":"right"})})),G=(0,a.Z)(Y,2),Q=G[0],X=G[1],$=T(0,(function(e,t){!K&&R&&R({direction:e>t?"top":"bottom"})})),J=(0,a.Z)($,2),ee=J[0],te=J[1],ne=(0,c.useState)(0),re=(0,a.Z)(ne,2),ie=re[0],ae=re[1],oe=(0,c.useState)(0),se=(0,a.Z)(oe,2),le=se[0],ce=se[1],ue=(0,c.useState)(null),de=(0,a.Z)(ue,2),pe=de[0],fe=de[1],he=(0,c.useState)(null),ge=(0,a.Z)(he,2),me=ge[0],ve=ge[1],ye=(0,c.useState)(0),be=(0,a.Z)(ye,2),xe=be[0],we=be[1],ke=(0,c.useState)(0),_e=(0,a.Z)(ke,2),Ce=_e[0],je=_e[1],Se=function(e){var t=(0,c.useRef)([]),n=(0,c.useState)({}),r=(0,a.Z)(n,2)[1],i=(0,c.useRef)("function"===typeof e?e():e),o=y((function(){var e=i.current;t.current.forEach((function(t){e=t(e)})),t.current=[],i.current=e,r({})}));return[i.current,function(e){t.current.push(e),o()}]}(new Map),Ze=(0,a.Z)(Se,2),Ne=Ze[0],Ee=Ze[1],Oe=function(e,t,n){return(0,c.useMemo)((function(){for(var n,r=new Map,i=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||k,a=i.left+i.width,o=0;o<e.length;o+=1){var s,c=e[o].key,u=t.get(c);u||(u=t.get(null===(s=e[o-1])||void 0===s?void 0:s.key)||k);var d=r.get(c)||(0,l.Z)({},u);d.right=a-d.left-d.width,r.set(c,d)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(u,Ne,ie),Ae="".concat(s,"-nav-operations-hidden"),Te=0,Pe=0;function Me(e){return e<Te?Te:e>Pe?Pe:e}K?C?(Te=0,Pe=Math.max(0,ie-pe)):(Te=Math.min(0,pe-ie),Pe=0):(Te=Math.min(0,me-le),Pe=0);var Ie=(0,c.useRef)(),De=(0,c.useState)(),Le=(0,a.Z)(De,2),Re=Le[0],Be=Le[1];function Fe(){Be(Date.now())}function ze(){window.clearTimeout(Ie.current)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=Oe.get(e)||{width:0,height:0,left:0,right:0,top:0};if(K){var n=Q;C?t.right<Q?n=t.right:t.right+t.width>Q+pe&&(n=t.right+t.width-pe):t.left<-Q?n=-t.left:t.left+t.width>-Q+pe&&(n=-(t.left+t.width-pe)),te(0),X(Me(n))}else{var r=ee;t.top<-ee?r=-t.top:t.top+t.height>-ee+me&&(r=-(t.top+t.height-me)),X(0),te(Me(r))}}!function(e,t){var n=(0,c.useState)(),r=(0,a.Z)(n,2),i=r[0],o=r[1],s=(0,c.useState)(0),l=(0,a.Z)(s,2),u=l[0],d=l[1],p=(0,c.useState)(0),f=(0,a.Z)(p,2),h=f[0],g=f[1],m=(0,c.useState)(),v=(0,a.Z)(m,2),y=v[0],b=v[1],x=(0,c.useRef)(),w=(0,c.useRef)(),k=(0,c.useRef)(null);k.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;o({x:n,y:r}),window.clearInterval(x.current)},onTouchMove:function(e){if(i){e.preventDefault();var n=e.touches[0],r=n.screenX,a=n.screenY;o({x:r,y:a});var s=r-i.x,l=a-i.y;t(s,l);var c=Date.now();d(c),g(c-u),b({x:s,y:l})}},onTouchEnd:function(){if(i&&(o(null),b(null),y)){var e=y.x/h,n=y.y/h,r=Math.abs(e),a=Math.abs(n);if(Math.max(r,a)<.1)return;var s=e,l=n;x.current=window.setInterval((function(){Math.abs(s)<.01&&Math.abs(l)<.01?window.clearInterval(x.current):t(20*(s*=A),20*(l*=A))}),20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,i=0,a=Math.abs(n),o=Math.abs(r);a===o?i="x"===w.current?n:r:a>o?(i=n,w.current="x"):(i=r,w.current="y"),t(-i,-i)&&e.preventDefault()}},c.useEffect((function(){function t(e){k.current.onTouchMove(e)}function n(e){k.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){k.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){k.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(B,(function(e,t){function n(e,t){e((function(e){return Me(e+t)}))}if(K){if(pe>=ie)return!1;n(X,e)}else{if(me>=le)return!1;n(te,t)}return ze(),Fe(),!0})),(0,c.useEffect)((function(){return ze(),Re&&(Ie.current=window.setTimeout((function(){Be(0)}),100)),ze}),[Re]);var Ue=function(e,t,n,r,i){var a,o,s,l=i.tabs,u=i.tabPosition,d=i.rtl;["top","bottom"].includes(u)?(a="width",o=d?"right":"left",s=Math.abs(t.left)):(a="height",o="top",s=-t.top);var p=t[a],f=n[a],h=r[a],g=p;return f+h>p&&f<p&&(g=p-h),(0,c.useMemo)((function(){if(!l.length)return[0,0];for(var t=l.length,n=t,r=0;r<t;r+=1){var i=e.get(l[r].key)||_;if(i[o]+i[a]>s+g){n=r-1;break}}for(var c=0,u=t-1;u>=0;u-=1)if((e.get(l[u].key)||_)[o]<s){c=u+1;break}return[c,n]}),[e,s,g,u,l.map((function(e){return e.key})).join("_"),d])}(Oe,{width:pe,height:me,left:Q,top:ee},{width:ie,height:le},{width:xe,height:Ce},(0,l.Z)((0,l.Z)({},e),{},{tabs:u})),He=(0,a.Z)(Ue,2),We=He[0],qe=He[1],Ke={};"top"===M||"bottom"===M?Ke[C?"marginRight":"marginLeft"]=I:Ke.marginTop=I;var Ye=u.map((function(e,t){var n=e.key;return c.createElement(w,{id:h,prefixCls:s,key:n,tab:e,style:0===t?void 0:Ke,closable:e.closable,editable:S,active:n===x,renderWrapper:D,removeAriaLabel:null===N||void 0===N?void 0:N.removeAriaLabel,ref:W(n),onClick:function(e){L(n,e)},onRemove:function(){q(n)},onFocus:function(){Ve(n),Fe(),B.current&&(C||(B.current.scrollLeft=0),B.current.scrollTop=0)}})})),Ge=y((function(){var e,t,n,r,i,a,o=(null===(e=B.current)||void 0===e?void 0:e.offsetWidth)||0,s=(null===(t=B.current)||void 0===t?void 0:t.offsetHeight)||0,l=(null===(n=V.current)||void 0===n?void 0:n.offsetWidth)||0,c=(null===(r=V.current)||void 0===r?void 0:r.offsetHeight)||0;fe(o),ve(s),we(l),je(c);var d=((null===(i=F.current)||void 0===i?void 0:i.offsetWidth)||0)-l,p=((null===(a=F.current)||void 0===a?void 0:a.offsetHeight)||0)-c;ae(d),ce(p),Ee((function(){var e=new Map;return u.forEach((function(t){var n=t.key,r=W(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),Qe=u.slice(0,We),Xe=u.slice(qe+1),$e=[].concat((0,g.Z)(Qe),(0,g.Z)(Xe)),Je=(0,c.useState)(),et=(0,a.Z)(Je,2),tt=et[0],nt=et[1],rt=Oe.get(x),it=(0,c.useRef)();function at(){m.Z.cancel(it.current)}(0,c.useEffect)((function(){var e={};return rt&&(K?(C?e.right=rt.right:e.left=rt.left,e.width=rt.width):(e.top=rt.top,e.height=rt.height)),at(),it.current=(0,m.Z)((function(){nt(e)})),at}),[rt,K,C]),(0,c.useEffect)((function(){Ve()}),[x,rt,Oe,K]),(0,c.useEffect)((function(){Ge()}),[C,I,x,u.map((function(e){return e.key})).join("_")]);var ot,st,lt,ct,ut=!!$e.length,dt="".concat(s,"-nav-wrap");return K?C?(st=Q>0,ot=Q+pe<ie):(ot=Q<0,st=-Q+pe<ie):(lt=ee<0,ct=-ee+me<le),c.createElement("div",{ref:t,role:"tablist",className:d()("".concat(s,"-nav"),p),style:f,onKeyDown:function(){Fe()}},c.createElement(P,{position:"left",extra:j,prefixCls:s}),c.createElement(v.default,{onResize:Ge},c.createElement("div",{className:d()(dt,(n={},(0,i.Z)(n,"".concat(dt,"-ping-left"),ot),(0,i.Z)(n,"".concat(dt,"-ping-right"),st),(0,i.Z)(n,"".concat(dt,"-ping-top"),lt),(0,i.Z)(n,"".concat(dt,"-ping-bottom"),ct),n)),ref:B},c.createElement(v.default,{onResize:Ge},c.createElement("div",{ref:F,className:"".concat(s,"-nav-list"),style:{transform:"translate(".concat(Q,"px, ").concat(ee,"px)"),transition:Re?"none":void 0}},Ye,c.createElement(Z,{ref:V,prefixCls:s,locale:N,editable:S,style:(0,l.Z)((0,l.Z)({},0===Ye.length?void 0:Ke),{},{visibility:ut?"hidden":null})}),c.createElement("div",{className:d()("".concat(s,"-ink-bar"),(0,i.Z)({},"".concat(s,"-ink-bar-animated"),b.inkBar)),style:tt}))))),c.createElement(E,(0,r.Z)({},e,{removeAriaLabel:null===N||void 0===N?void 0:N.removeAriaLabel,ref:z,prefixCls:s,tabs:$e,className:!ut&&Ae,tabMoving:!!Re})),c.createElement(P,{position:"right",extra:j,prefixCls:s}))}var I=c.forwardRef(M);function D(e){var t=e.id,n=e.activeKey,r=e.animated,a=e.tabPosition,o=e.rtl,s=e.destroyInactiveTabPane,l=c.useContext(O),u=l.prefixCls,p=l.tabs,f=r.tabPane,h=p.findIndex((function(e){return e.key===n}));return c.createElement("div",{className:d()("".concat(u,"-content-holder"))},c.createElement("div",{className:d()("".concat(u,"-content"),"".concat(u,"-content-").concat(a),(0,i.Z)({},"".concat(u,"-content-animated"),f)),style:h&&f?(0,i.Z)({},o?"marginRight":"marginLeft","-".concat(h,"00%")):null},p.map((function(e){return c.cloneElement(e.node,{key:e.key,prefixCls:u,tabKey:e.key,id:t,animated:f,active:e.key===n,destroyInactiveTabPane:s})}))))}function L(e){var t=e.prefixCls,n=e.forceRender,r=e.className,i=e.style,o=e.id,s=e.active,u=e.animated,p=e.destroyInactiveTabPane,f=e.tabKey,h=e.children,g=c.useState(n),m=(0,a.Z)(g,2),v=m[0],y=m[1];c.useEffect((function(){s?y(!0):p&&y(!1)}),[s,p]);var b={};return s||(u?(b.visibility="hidden",b.height=0,b.overflowY="hidden"):b.display="none"),c.createElement("div",{id:o&&"".concat(o,"-panel-").concat(f),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(f),"aria-hidden":!s,style:(0,l.Z)((0,l.Z)({},b),i),className:d()("".concat(t,"-tabpane"),s&&"".concat(t,"-tabpane-active"),r)},(s||v||n)&&h)}var R=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],B=0;function F(e,t){var n,u,g=e.id,m=e.prefixCls,v=void 0===m?"rc-tabs":m,y=e.className,b=e.children,x=e.direction,w=e.activeKey,k=e.defaultActiveKey,_=e.editable,C=e.animated,j=void 0===C?{inkBar:!0,tabPane:!1}:C,S=e.tabPosition,Z=void 0===S?"top":S,N=e.tabBarGutter,E=e.tabBarStyle,A=e.tabBarExtraContent,T=e.locale,P=e.moreIcon,M=e.moreTransitionName,L=e.destroyInactiveTabPane,F=e.renderTabBar,z=e.onChange,V=e.onTabClick,U=e.onTabScroll,H=e.getPopupContainer,W=e.popupClassName,q=(0,s.Z)(e,R),K=function(e){return(0,p.Z)(e).map((function(e){if(c.isValidElement(e)){var t=void 0!==e.key?String(e.key):void 0;return(0,l.Z)((0,l.Z)({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}(b),Y="rtl"===x;u=!1===j?{inkBar:!1,tabPane:!1}:!0===j?{inkBar:!0,tabPane:!0}:(0,l.Z)({inkBar:!0,tabPane:!1},"object"===(0,o.Z)(j)?j:{});var G=(0,c.useState)(!1),Q=(0,a.Z)(G,2),X=Q[0],$=Q[1];(0,c.useEffect)((function(){$((0,f.Z)())}),[]);var J=(0,h.Z)((function(){var e;return null===(e=K[0])||void 0===e?void 0:e.key}),{value:w,defaultValue:k}),ee=(0,a.Z)(J,2),te=ee[0],ne=ee[1],re=(0,c.useState)((function(){return K.findIndex((function(e){return e.key===te}))})),ie=(0,a.Z)(re,2),ae=ie[0],oe=ie[1];(0,c.useEffect)((function(){var e,t=K.findIndex((function(e){return e.key===te}));-1===t&&(t=Math.max(0,Math.min(ae,K.length-1)),ne(null===(e=K[t])||void 0===e?void 0:e.key));oe(t)}),[K.map((function(e){return e.key})).join("_"),te,ae]);var se=(0,h.Z)(null,{value:g}),le=(0,a.Z)(se,2),ce=le[0],ue=le[1],de=Z;X&&!["left","right"].includes(Z)&&(de="top"),(0,c.useEffect)((function(){g||(ue("rc-tabs-".concat(B)),B+=1)}),[]);var pe,fe={id:ce,activeKey:te,animated:u,tabPosition:de,rtl:Y,mobile:X},he=(0,l.Z)((0,l.Z)({},fe),{},{editable:_,locale:T,moreIcon:P,moreTransitionName:M,tabBarGutter:N,onTabClick:function(e,t){null===V||void 0===V||V(e,t);var n=e!==te;ne(e),n&&(null===z||void 0===z||z(e))},onTabScroll:U,extra:A,style:E,panes:b,getPopupContainer:H,popupClassName:W});return pe=F?F(he,I):c.createElement(I,he),c.createElement(O.Provider,{value:{tabs:K,prefixCls:v}},c.createElement("div",(0,r.Z)({ref:t,id:g,className:d()(v,"".concat(v,"-").concat(de),(n={},(0,i.Z)(n,"".concat(v,"-mobile"),X),(0,i.Z)(n,"".concat(v,"-editable"),_),(0,i.Z)(n,"".concat(v,"-rtl"),Y),n),y)},q),pe,c.createElement(D,(0,r.Z)({destroyInactiveTabPane:L},fe,{animated:u}))))}var z=c.forwardRef(F);z.TabPane=L;var V=z},79625:function(e,t,n){"use strict";n.r(t),n.d(t,{ResizableTextArea:function(){return C},default:function(){return j}});var r,i=n(87462),a=n(15671),o=n(43144),s=n(60136),l=n(27277),c=n(47313),u=n(1413),d=n(4942),p=n(25172),f=n(205),h=n(46123),g=n.n(h),m="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",v=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],y={};function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&y[n])return y[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),a=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),o=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=v.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),l={sizingStyle:s,paddingSize:a,borderSize:o,boxSizing:i};return t&&n&&(y[n]=l),l}var x,w=n(59767),k=n.n(w);!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(x||(x={}));var _=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var o;return(0,a.Z)(this,n),(o=t.call(this,e)).nextFrameActionId=void 0,o.resizeFrameId=void 0,o.textArea=void 0,o.saveTextArea=function(e){o.textArea=e},o.handleResize=function(e){var t=o.state.resizeStatus,n=o.props,r=n.autoSize,i=n.onResize;t===x.NONE&&("function"===typeof i&&i(e),r&&o.resizeOnNextFrame())},o.resizeOnNextFrame=function(){cancelAnimationFrame(o.nextFrameActionId),o.nextFrameActionId=requestAnimationFrame(o.resizeTextarea)},o.resizeTextarea=function(){var e=o.props.autoSize;if(e&&o.textArea){var t=e.minRows,n=e.maxRows,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r||((r=document.createElement("textarea")).setAttribute("tab-index","-1"),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),e.getAttribute("wrap")?r.setAttribute("wrap",e.getAttribute("wrap")):r.removeAttribute("wrap");var a=b(e,t),o=a.paddingSize,s=a.borderSize,l=a.boxSizing,c=a.sizingStyle;r.setAttribute("style","".concat(c,";").concat(m)),r.value=e.value||e.placeholder||"";var u,d=Number.MIN_SAFE_INTEGER,p=Number.MAX_SAFE_INTEGER,f=r.scrollHeight;if("border-box"===l?f+=s:"content-box"===l&&(f-=o),null!==n||null!==i){r.value=" ";var h=r.scrollHeight-o;null!==n&&(d=h*n,"border-box"===l&&(d=d+o+s),f=Math.max(d,f)),null!==i&&(p=h*i,"border-box"===l&&(p=p+o+s),u=f>p?"":"hidden",f=Math.min(p,f))}return{height:f,minHeight:d,maxHeight:p,overflowY:u,resize:"none"}}(o.textArea,!1,t,n);o.setState({textareaStyles:i,resizeStatus:x.RESIZING},(function(){cancelAnimationFrame(o.resizeFrameId),o.resizeFrameId=requestAnimationFrame((function(){o.setState({resizeStatus:x.RESIZED},(function(){o.resizeFrameId=requestAnimationFrame((function(){o.setState({resizeStatus:x.NONE}),o.fixFirefoxAutoScroll()}))}))}))}))}},o.renderTextArea=function(){var e=o.props,t=e.prefixCls,n=void 0===t?"rc-textarea":t,r=e.autoSize,a=e.onResize,s=e.className,l=e.disabled,h=o.state,m=h.textareaStyles,v=h.resizeStatus,y=(0,f.Z)(o.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),b=g()(n,s,(0,d.Z)({},"".concat(n,"-disabled"),l));"value"in y&&(y.value=y.value||"");var w=(0,u.Z)((0,u.Z)((0,u.Z)({},o.props.style),m),v===x.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return c.createElement(p.default,{onResize:o.handleResize,disabled:!(r||a)},c.createElement("textarea",(0,i.Z)({},y,{className:b,style:w,ref:o.saveTextArea})))},o.state={textareaStyles:{},resizeStatus:x.NONE},o}return(0,o.Z)(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&k()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(n){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(c.Component),C=_,j=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,a.Z)(this,n),(r=t.call(this,e)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,i=t.onKeyDown;13===e.keyCode&&n&&n(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return r.state={value:i},r}return(0,o.Z)(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return c.createElement(C,(0,i.Z)({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(c.Component)},51820:function(e,t,n){"use strict";n.r(t),n.d(t,{Popup:function(){return h},default:function(){return m}});var r=n(87462),i=n(71002),a=n(1413),o=n(45987),s=n(47313),l=n(8740),c={adjustX:1,adjustY:1},u=[0,0],d={left:{points:["cr","cl"],overflow:c,offset:[-4,0],targetOffset:u},right:{points:["cl","cr"],overflow:c,offset:[4,0],targetOffset:u},top:{points:["bc","tc"],overflow:c,offset:[0,-4],targetOffset:u},bottom:{points:["tc","bc"],overflow:c,offset:[0,4],targetOffset:u},topLeft:{points:["bl","tl"],overflow:c,offset:[0,-4],targetOffset:u},leftTop:{points:["tr","tl"],overflow:c,offset:[-4,0],targetOffset:u},topRight:{points:["br","tr"],overflow:c,offset:[0,-4],targetOffset:u},rightTop:{points:["tl","tr"],overflow:c,offset:[4,0],targetOffset:u},bottomRight:{points:["tr","br"],overflow:c,offset:[0,4],targetOffset:u},rightBottom:{points:["bl","br"],overflow:c,offset:[4,0],targetOffset:u},bottomLeft:{points:["tl","bl"],overflow:c,offset:[0,4],targetOffset:u},leftBottom:{points:["br","bl"],overflow:c,offset:[-4,0],targetOffset:u}},p=n(46123),f=n.n(p);function h(e){var t=e.showArrow,n=e.arrowContent,r=e.children,i=e.prefixCls,a=e.id,o=e.overlayInnerStyle,l=e.className,c=e.style;return s.createElement("div",{className:f()("".concat(i,"-content"),l),style:c},!1!==t&&s.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},n),s.createElement("div",{className:"".concat(i,"-inner"),id:a,role:"tooltip",style:o},"function"===typeof r?r():r))}var g=function(e,t){var n=e.overlayClassName,c=e.trigger,u=void 0===c?["hover"]:c,p=e.mouseEnterDelay,f=void 0===p?0:p,g=e.mouseLeaveDelay,m=void 0===g?.1:g,v=e.overlayStyle,y=e.prefixCls,b=void 0===y?"rc-tooltip":y,x=e.children,w=e.onVisibleChange,k=e.afterVisibleChange,_=e.transitionName,C=e.animation,j=e.motion,S=e.placement,Z=void 0===S?"right":S,N=e.align,E=void 0===N?{}:N,O=e.destroyTooltipOnHide,A=void 0!==O&&O,T=e.defaultVisible,P=e.getTooltipContainer,M=e.overlayInnerStyle,I=e.arrowContent,D=e.overlay,L=e.id,R=e.showArrow,B=(0,o.Z)(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),F=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,(function(){return F.current}));var z=(0,a.Z)({},B);"visible"in e&&(z.popupVisible=e.visible);var V=!1,U=!1;if("boolean"===typeof A)V=A;else if(A&&"object"===(0,i.Z)(A)){var H=A.keepParent;V=!0===H,U=!1===H}return s.createElement(l.Z,(0,r.Z)({popupClassName:n,prefixCls:b,popup:function(){return s.createElement(h,{showArrow:R,arrowContent:I,key:"content",prefixCls:b,id:L,overlayInnerStyle:M},D)},action:u,builtinPlacements:d,popupPlacement:Z,ref:F,popupAlign:E,getPopupContainer:P,onPopupVisibleChange:w,afterPopupVisibleChange:k,popupTransitionName:_,popupAnimation:C,popupMotion:j,defaultPopupVisible:T,destroyPopupOnHide:V,autoDestroy:U,mouseLeaveDelay:m,popupStyle:v,mouseEnterDelay:f},z),x)},m=(0,s.forwardRef)(g)},99607:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.placements=void 0;var n={adjustX:1,adjustY:1},r=[0,0],i={left:{points:["cr","cl"],overflow:n,offset:[-4,0],targetOffset:r},right:{points:["cl","cr"],overflow:n,offset:[4,0],targetOffset:r},top:{points:["bc","tc"],overflow:n,offset:[0,-4],targetOffset:r},bottom:{points:["tc","bc"],overflow:n,offset:[0,4],targetOffset:r},topLeft:{points:["bl","tl"],overflow:n,offset:[0,-4],targetOffset:r},leftTop:{points:["tr","tl"],overflow:n,offset:[-4,0],targetOffset:r},topRight:{points:["br","tr"],overflow:n,offset:[0,-4],targetOffset:r},rightTop:{points:["tl","tr"],overflow:n,offset:[4,0],targetOffset:r},bottomRight:{points:["tr","br"],overflow:n,offset:[0,4],targetOffset:r},rightBottom:{points:["bl","br"],overflow:n,offset:[4,0],targetOffset:r},bottomLeft:{points:["tl","bl"],overflow:n,offset:[0,4],targetOffset:r},leftBottom:{points:["br","bl"],overflow:n,offset:[-4,0],targetOffset:r}};t.placements=i;var a=i;t.default=a},21686:function(e,t,n){"use strict";n.r(t),n.d(t,{TreeNode:function(){return L},default:function(){return me}});var r=n(87462),i=n(4942),a=n(71002),o=n(1413),s=n(93433),l=n(15671),c=n(43144),u=n(97326),d=n(60136),p=n(27277),f=n(47313),h=n(49242),g=n(48240),m=n(19990),v=n(46123),y=n.n(v),b=f.createContext(null),x=n(45987),w=function(e){for(var t=e.prefixCls,n=e.level,r=e.isStart,a=e.isEnd,o="".concat(t,"-indent-unit"),s=[],l=0;l<n;l+=1){var c;s.push(f.createElement("span",{key:l,className:y()(o,(c={},(0,i.Z)(c,"".concat(o,"-start"),r[l]),(0,i.Z)(c,"".concat(o,"-end"),a[l]),c))}))}return f.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},s)},k=f.memo(w),_=n(205),C=n(14903),j=["children"];function S(e,t){return null!==e&&void 0!==e?e:t}function Z(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function N(e,t,n){var r=Z(n),i=r._title,a=r.key,l=r.children,c=new Set(!0===t?[]:t),u=[];return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(d,p){for(var f,h=z(r?r.pos:"0",p),g=S(d[a],h),m=0;m<i.length;m+=1){var v=i[m];if(void 0!==d[v]){f=d[v];break}}var y=(0,o.Z)((0,o.Z)({},(0,_.Z)(d,[].concat((0,s.Z)(i),[a,l]))),{},{title:f,key:g,parent:r,pos:h,children:null,data:d,isStart:[].concat((0,s.Z)(r?r.isStart:[]),[0===p]),isEnd:[].concat((0,s.Z)(r?r.isEnd:[]),[p===n.length-1])});return u.push(y),!0===t||c.has(g)?y.children=e(d[l]||[],y):y.children=[],y}))}(e),u}function E(e,t,n){var r,i=("object"===(0,a.Z)(n)?n:{externalGetKey:n})||{},o=i.childrenPropName,l=i.externalGetKey,c=Z(i.fieldNames),u=c.key,d=c.children,p=o||d;l?"string"===typeof l?r=function(e){return e[l]}:"function"===typeof l&&(r=function(e){return l(e)}):r=function(e,t){return S(e[u],t)},function n(i,a,o,l){var c=i?i[p]:e,u=i?z(o.pos,a):"0",d=i?[].concat((0,s.Z)(l),[i]):[];if(i){var f=r(i,u),h={node:i,index:a,pos:u,key:f,parentPos:o.node?o.pos:null,level:o.level+1,nodes:d};t(h)}c&&c.forEach((function(e,t){n(e,t,{node:i,pos:u,level:o?o.level+1:-1},d)}))}(null)}function O(e,t){var n=t.expandedKeys,r=t.selectedKeys,i=t.loadedKeys,a=t.loadingKeys,o=t.checkedKeys,s=t.halfCheckedKeys,l=t.dragOverNodeKey,c=t.dropPosition,u=t.keyEntities[e];return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==i.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==o.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(u?u.pos:""),dragOver:l===e&&0===c,dragOverGapTop:l===e&&-1===c,dragOverGapBottom:l===e&&1===c}}function A(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,a=e.loaded,s=e.loading,l=e.halfChecked,c=e.dragOver,u=e.dragOverGapTop,d=e.dragOverGapBottom,p=e.pos,f=e.active,h=e.eventKey,m=(0,o.Z)((0,o.Z)({},t),{},{expanded:n,selected:r,checked:i,loaded:a,loading:s,halfChecked:l,dragOver:c,dragOverGapTop:u,dragOverGapBottom:d,pos:p,active:f,key:h});return"props"in m||Object.defineProperty(m,"props",{get:function(){return(0,g.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),m}var T=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],P="open",M="close",I=function(e){(0,d.Z)(n,e);var t=(0,p.Z)(n);function n(){var e;(0,l.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,A(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,A(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,A(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,i=n.checked,a=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){t.preventDefault();var o=!i;a(t,A(e.props),o)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,A(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,A(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,A(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,(0,u.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,(0,u.Z)(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,(0,u.Z)(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,(0,u.Z)(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,u.Z)(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,u.Z)(e))},e.onExpand=function(t){var n=e.props,r=n.loading,i=n.context.onNodeExpand;r||i(t,A(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?P:M},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,i=e.props.context.loadData,a=e.hasChildren();return!1!==n&&(n||!i&&!a||i&&r&&!a)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,i=t.loaded,a=e.props.context,o=a.loadData,s=a.onNodeLoad;r||o&&n&&!e.isLeaf()&&(e.hasChildren()||i||s(A(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(n))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return(null===n||void 0===n?void 0:n.icon)?f.createElement("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,i=n||r;return"function"===typeof i?i((0,o.Z)((0,o.Z)({},e.props),{},{isLeaf:t})):i},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return!1!==r?f.createElement("span",{className:y()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var i=y()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?P:M)),a=e.renderSwitcherIconDom(!1);return!1!==a?f.createElement("span",{onClick:e.onExpand,className:i},a):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,r=t.halfChecked,i=t.disableCheckbox,a=e.props.context.prefixCls,o=e.isDisabled(),s=e.isCheckable();if(!s)return null;var l="boolean"!==typeof s?s:null;return f.createElement("span",{className:y()("".concat(a,"-checkbox"),n&&"".concat(a,"-checkbox-checked"),!n&&r&&"".concat(a,"-checkbox-indeterminate"),(o||i)&&"".concat(a,"-checkbox-disabled")),onClick:e.onCheck},l)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return f.createElement("span",{className:y()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,r=e.state.dragNodeHighlight,i=e.props,a=i.title,o=i.selected,s=i.icon,l=i.loading,c=i.data,u=e.props.context,d=u.prefixCls,p=u.showIcon,h=u.icon,g=u.loadData,m=u.titleRender,v=e.isDisabled(),b="".concat(d,"-node-content-wrapper");if(p){var x=s||h;t=x?f.createElement("span",{className:y()("".concat(d,"-iconEle"),"".concat(d,"-icon__customize"))},"function"===typeof x?x(e.props):x):e.renderIcon()}else g&&l&&(t=e.renderIcon());n="function"===typeof a?a(c):m?m(c):a;var w=f.createElement("span",{className:"".concat(d,"-title")},n);return f.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof a?a:"",className:y()("".concat(b),"".concat(b,"-").concat(e.getNodeState()||"normal"),!v&&(o||r)&&"".concat(d,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,w,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,i=e.props.context,a=i.draggable,o=i.dropLevelOffset,s=i.dropPosition,l=i.prefixCls,c=i.indent,u=i.dropIndicatorRender,d=i.dragOverNodeKey,p=i.direction;return!n&&!1!==a&&d===r?u({dropPosition:s,dropLevelOffset:o,indent:c,prefixCls:l,direction:p}):null},e}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,a=t.className,o=t.style,s=t.dragOver,l=t.dragOverGapTop,c=t.dragOverGapBottom,u=t.isLeaf,d=t.isStart,p=t.isEnd,h=t.expanded,g=t.selected,v=t.checked,b=t.halfChecked,w=t.loading,_=t.domRef,C=t.active,j=(t.data,t.onMouseMove),S=t.selectable,Z=(0,x.Z)(t,T),N=this.props.context,E=N.prefixCls,O=N.filterTreeNode,P=N.keyEntities,M=N.dropContainerKey,I=N.dropTargetKey,D=N.draggingNodeKey,L=this.isDisabled(),R=(0,m.Z)(Z,{aria:!0,data:!0}),B=(P[n]||{}).level,F=p[p.length-1],z=this.isDraggable(),V=!L&&z,U=D===n,H=void 0!==S?{"aria-selected":!!S}:void 0;return f.createElement("div",(0,r.Z)({ref:_,className:y()(a,"".concat(E,"-treenode"),(e={},(0,i.Z)(e,"".concat(E,"-treenode-disabled"),L),(0,i.Z)(e,"".concat(E,"-treenode-switcher-").concat(h?"open":"close"),!u),(0,i.Z)(e,"".concat(E,"-treenode-checkbox-checked"),v),(0,i.Z)(e,"".concat(E,"-treenode-checkbox-indeterminate"),b),(0,i.Z)(e,"".concat(E,"-treenode-selected"),g),(0,i.Z)(e,"".concat(E,"-treenode-loading"),w),(0,i.Z)(e,"".concat(E,"-treenode-active"),C),(0,i.Z)(e,"".concat(E,"-treenode-leaf-last"),F),(0,i.Z)(e,"".concat(E,"-treenode-draggable"),V),(0,i.Z)(e,"dragging",U),(0,i.Z)(e,"drop-target",I===n),(0,i.Z)(e,"drop-container",M===n),(0,i.Z)(e,"drag-over",!L&&s),(0,i.Z)(e,"drag-over-gap-top",!L&&l),(0,i.Z)(e,"drag-over-gap-bottom",!L&&c),(0,i.Z)(e,"filter-node",O&&O(A(this.props))),e)),style:o,draggable:V,"aria-grabbed":U,onDragStart:V?this.onDragStart:void 0,onDragEnter:z?this.onDragEnter:void 0,onDragOver:z?this.onDragOver:void 0,onDragLeave:z?this.onDragLeave:void 0,onDrop:z?this.onDrop:void 0,onDragEnd:z?this.onDragEnd:void 0,onMouseMove:j},H,R),f.createElement(k,{prefixCls:E,level:B,isStart:d,isEnd:p}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(f.Component),D=function(e){return f.createElement(b.Consumer,null,(function(t){return f.createElement(I,(0,r.Z)({},e,{context:t}))}))};D.displayName="TreeNode",D.defaultProps={title:"---"},D.isTreeNode=1;var L=D;function R(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function B(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function F(e){return e.split("-")}function z(e,t){return"".concat(e,"-").concat(t)}function V(e,t){var n=[];return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var r=t.key,i=t.children;n.push(r),e(i)}))}(t[e].children),n}function U(e){if(e.parent){var t=F(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function H(e,t,n,r,i,a,o,s,l,c){var u,d=e.clientX,p=e.clientY,f=e.target.getBoundingClientRect(),h=f.top,g=f.height,m=(("rtl"===c?-1:1)*(((null===i||void 0===i?void 0:i.x)||0)-d)-12)/r,v=s[n.props.eventKey];if(p<h+g/2){var y=o.findIndex((function(e){return e.key===v.key})),b=o[y<=0?0:y-1].key;v=s[b]}var x=v.key,w=v,k=v.key,_=0,C=0;if(!l.includes(x))for(var j=0;j<m&&U(v);j+=1)v=v.parent,C+=1;var S=t.props.data,Z=v.node,N=!0;return function(e){var t=F(e.pos);return 0===Number(t[t.length-1])}(v)&&0===v.level&&p<h+g/2&&a({dragNode:S,dropNode:Z,dropPosition:-1})&&v.key===n.props.eventKey?_=-1:(w.children||[]).length&&l.includes(k)?a({dragNode:S,dropNode:Z,dropPosition:0})?_=0:N=!1:0===C?m>-1.5?a({dragNode:S,dropNode:Z,dropPosition:1})?_=1:N=!1:a({dragNode:S,dropNode:Z,dropPosition:0})?_=0:a({dragNode:S,dropNode:Z,dropPosition:1})?_=1:N=!1:a({dragNode:S,dropNode:Z,dropPosition:1})?_=1:N=!1,{dropPosition:_,dropLevelOffset:C,dropTargetKey:v.key,dropTargetPos:v.pos,dragOverNodeKey:k,dropContainerKey:0===_?null:(null===(u=v.parent)||void 0===u?void 0:u.key)||null,dropAllowed:N}}function W(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function q(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==(0,a.Z)(e))return(0,g.ZP)(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function K(e,t){var n=new Set;function r(e){if(!n.has(e)){var i=t[e];if(i){n.add(e);var a=i.parent;i.node.disabled||a&&r(a.key)}}}return(e||[]).forEach((function(e){r(e)})),(0,s.Z)(n)}var Y=n(29439),G=n(29503),Q=n(1293),X=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],$=function(e,t){var n=e.className,i=e.style,a=e.motion,o=e.motionNodes,s=e.motionType,l=e.onMotionStart,c=e.onMotionEnd,u=e.active,d=e.treeNodeRequiredProps,p=(0,x.Z)(e,X),h=f.useState(!0),g=(0,Y.Z)(h,2),m=g[0],v=g[1],w=f.useContext(b).prefixCls,k=f.useRef(!1),_=function(){k.current||c(),k.current=!0};return(0,f.useEffect)((function(){o&&"hide"===s&&m&&v(!1)}),[o]),(0,f.useEffect)((function(){return o&&l(),function(){o&&_()}}),[]),o?f.createElement(Q.default,(0,r.Z)({ref:t,visible:m},a,{motionAppear:"show"===s,onAppearEnd:_,onLeaveEnd:_}),(function(e,t){var n=e.className,i=e.style;return f.createElement("div",{ref:t,className:y()("".concat(w,"-treenode-motion"),n),style:i},o.map((function(e){var t=(0,r.Z)({},e.data),n=e.title,i=e.key,a=e.isStart,o=e.isEnd;delete t.children;var s=O(i,d);return f.createElement(L,(0,r.Z)({},t,s,{title:n,active:u,data:e.data,key:i,isStart:a,isEnd:o}))})))})):f.createElement(L,(0,r.Z)({domRef:t,className:n,style:i},p,{active:u}))};$.displayName="MotionTreeNode";var J=f.forwardRef($);function ee(e,t,n){var r=e.findIndex((function(e){return e.key===n})),i=e[r+1],a=t.findIndex((function(e){return e.key===n}));if(i){var o=t.findIndex((function(e){return e.key===i.key}));return t.slice(a+1,o)}return t.slice(a+1)}var te=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],ne={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},re=function(){},ie="RC_TREE_MOTION_".concat(Math.random()),ae={key:ie},oe={key:ie,level:0,index:0,pos:"0",node:ae,nodes:[ae]},se={parent:null,children:[],pos:oe.pos,data:ae,title:null,key:ie,isStart:[],isEnd:[]};function le(e,t,n,r){return!1!==t&&n?e.slice(0,Math.ceil(n/r)+1):e}function ce(e){return S(e.key,e.pos)}var ue=f.forwardRef((function(e,t){var n=e.prefixCls,i=e.data,a=(e.selectable,e.checkable,e.expandedKeys),o=e.selectedKeys,s=e.checkedKeys,l=e.loadedKeys,c=e.loadingKeys,u=e.halfCheckedKeys,d=e.keyEntities,p=e.disabled,h=e.dragging,g=e.dragOverNodeKey,m=e.dropPosition,v=e.motion,y=e.height,b=e.itemHeight,w=e.virtual,k=e.focusable,_=e.activeItem,C=e.focused,j=e.tabIndex,Z=e.onKeyDown,N=e.onFocus,E=e.onBlur,A=e.onActiveChange,T=e.onListChangeStart,P=e.onListChangeEnd,M=(0,x.Z)(e,te),I=f.useRef(null),D=f.useRef(null);f.useImperativeHandle(t,(function(){return{scrollTo:function(e){I.current.scrollTo(e)},getIndentWidth:function(){return D.current.offsetWidth}}}));var L=f.useState(a),R=(0,Y.Z)(L,2),B=R[0],F=R[1],z=f.useState(i),V=(0,Y.Z)(z,2),U=V[0],H=V[1],W=f.useState(i),q=(0,Y.Z)(W,2),K=q[0],Q=q[1],X=f.useState([]),$=(0,Y.Z)(X,2),ae=$[0],oe=$[1],ue=f.useState(null),de=(0,Y.Z)(ue,2),pe=de[0],fe=de[1],he=f.useRef(i);function ge(){var e=he.current;H(e),Q(e),oe([]),fe(null),P()}he.current=i,f.useEffect((function(){F(a);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=t.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function i(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var r=t.filter((function(e){return!n.has(e)}));return 1===r.length?r[0]:null}return n<r?{add:!0,key:i(e,t)}:{add:!1,key:i(t,e)}}(B,a);if(null!==e.key)if(e.add){var t=U.findIndex((function(t){return t.key===e.key})),n=le(ee(U,i,e.key),w,y,b),r=U.slice();r.splice(t+1,0,se),Q(r),oe(n),fe("show")}else{var o=i.findIndex((function(t){return t.key===e.key})),s=le(ee(i,U,e.key),w,y,b),l=i.slice();l.splice(o+1,0,se),Q(l),oe(s),fe("hide")}else U!==i&&(H(i),Q(i))}),[a,i]),f.useEffect((function(){h||ge()}),[h]);var me=v?K:i,ve={expandedKeys:a,selectedKeys:o,loadedKeys:l,loadingKeys:c,checkedKeys:s,halfCheckedKeys:u,dragOverNodeKey:g,dropPosition:m,keyEntities:d};return f.createElement(f.Fragment,null,C&&_&&f.createElement("span",{style:ne,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(_)),f.createElement("div",null,f.createElement("input",{style:ne,disabled:!1===k||p,tabIndex:!1!==k?j:null,onKeyDown:Z,onFocus:N,onBlur:E,value:"",onChange:re,"aria-label":"for screen reader"})),f.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},f.createElement("div",{className:"".concat(n,"-indent")},f.createElement("div",{ref:D,className:"".concat(n,"-indent-unit")}))),f.createElement(G.Z,(0,r.Z)({},M,{data:me,itemKey:ce,height:y,fullHeight:!1,virtual:w,itemHeight:b,prefixCls:"".concat(n,"-list"),ref:I,onVisibleChange:function(e,t){var n=new Set(e);t.filter((function(e){return!n.has(e)})).some((function(e){return ce(e)===ie}))&&ge()}}),(function(e){var t=e.pos,n=(0,r.Z)({},e.data),i=e.title,a=e.key,o=e.isStart,s=e.isEnd,l=S(a,t);delete n.key,delete n.children;var c=O(l,ve);return f.createElement(J,(0,r.Z)({},n,c,{title:i,active:!!_&&a===_.key,pos:t,data:e.data,isStart:o,isEnd:s,motion:v,motionNodes:a===ie?ae:null,motionType:pe,onMotionStart:T,onMotionEnd:ge,treeNodeRequiredProps:ve,onMouseMove:function(){A(null)}}))})))}));ue.displayName="NodeList";var de=ue;function pe(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function fe(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!(!n&&!r)||!1===i}function he(e,t,n,r){var i,a=[];i=r||fe;var o,s=new Set(e.filter((function(e){var t=!!n[e];return t||a.push(e),t}))),l=new Map,c=0;return Object.keys(n).forEach((function(e){var t=n[e],r=t.level,i=l.get(r);i||(i=new Set,l.set(r,i)),i.add(t),c=Math.max(c,r)})),(0,g.ZP)(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),o=!0===t?function(e,t,n,r){for(var i=new Set(e),a=new Set,o=0;o<=n;o+=1)(t.get(o)||new Set).forEach((function(e){var t=e.key,n=e.node,a=e.children,o=void 0===a?[]:a;i.has(t)&&!r(n)&&o.filter((function(e){return!r(e.node)})).forEach((function(e){i.add(e.key)}))}));for(var s=new Set,l=n;l>=0;l-=1)(t.get(l)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var o=!0,l=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);o&&!n&&(o=!1),l||!n&&!a.has(t)||(l=!0)})),o&&i.add(t.key),l&&a.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(pe(a,i))}}(s,l,c,i):function(e,t,n,r,i){for(var a=new Set(e),o=new Set(t),s=0;s<=r;s+=1)(n.get(s)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,s=void 0===r?[]:r;a.has(t)||o.has(t)||i(n)||s.filter((function(e){return!i(e.node)})).forEach((function(e){a.delete(e.key)}))}));o=new Set;for(var l=new Set,c=r;c>=0;c-=1)(n.get(c)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!i(n)&&e.parent&&!l.has(e.parent.key))if(i(e.parent.node))l.add(t.key);else{var r=!0,s=!1;(t.children||[]).filter((function(e){return!i(e.node)})).forEach((function(e){var t=e.key,n=a.has(t);r&&!n&&(r=!1),s||!n&&!o.has(t)||(s=!0)})),r||a.delete(t.key),s&&o.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(pe(o,a))}}(s,t.halfCheckedKeys,l,c,i),o}var ge=function(e){(0,d.Z)(n,e);var t=(0,p.Z)(n);function n(){var e;(0,l.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Z()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=f.createRef(),e.onNodeDragStart=function(t,n){var r=e.state,i=r.expandedKeys,a=r.keyEntities,o=e.props.onDragStart,s=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var l=R(i,s);e.setState({draggingNodeKey:s,dragChildrenKeys:V(s,a),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(l),window.addEventListener("dragend",e.onWindowDragEnd),null===o||void 0===o||o({event:t,node:A(n.props)})},e.onNodeDragEnter=function(t,n){var r=e.state,i=r.expandedKeys,a=r.keyEntities,o=r.dragChildrenKeys,l=r.flattenNodes,c=r.indent,d=e.props,p=d.onDragEnter,f=d.onExpand,h=d.allowDrop,g=d.direction,m=n.props,v=m.pos,y=m.eventKey,b=(0,u.Z)(e).dragNode;if(e.currentMouseOverDroppableNodeKey!==y&&(e.currentMouseOverDroppableNodeKey=y),b){var x=H(t,b,n,c,e.dragStartMousePosition,h,l,a,i,g),w=x.dropPosition,k=x.dropLevelOffset,_=x.dropTargetKey,C=x.dropContainerKey,j=x.dropTargetPos,S=x.dropAllowed,Z=x.dragOverNodeKey;-1===o.indexOf(_)&&S?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),b.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[v]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var r=(0,s.Z)(i),o=a[n.props.eventKey];o&&(o.children||[]).length&&(r=B(i,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(r),null===f||void 0===f||f(r,{node:A(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),b.props.eventKey!==_||0!==k?(e.setState({dragOverNodeKey:Z,dropPosition:w,dropLevelOffset:k,dropTargetKey:_,dropContainerKey:C,dropTargetPos:j,dropAllowed:S}),null===p||void 0===p||p({event:t,node:A(n.props),expandedKeys:i})):e.resetDragState()):e.resetDragState()}else e.resetDragState()},e.onNodeDragOver=function(t,n){var r=e.state,i=r.dragChildrenKeys,a=r.flattenNodes,o=r.keyEntities,s=r.expandedKeys,l=r.indent,c=e.props,d=c.onDragOver,p=c.allowDrop,f=c.direction,h=(0,u.Z)(e).dragNode;if(h){var g=H(t,h,n,l,e.dragStartMousePosition,p,a,o,s,f),m=g.dropPosition,v=g.dropLevelOffset,y=g.dropTargetKey,b=g.dropContainerKey,x=g.dropAllowed,w=g.dropTargetPos,k=g.dragOverNodeKey;-1===i.indexOf(y)&&x&&(h.props.eventKey===y&&0===v?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():m===e.state.dropPosition&&v===e.state.dropLevelOffset&&y===e.state.dropTargetKey&&b===e.state.dropContainerKey&&w===e.state.dropTargetPos&&x===e.state.dropAllowed&&k===e.state.dragOverNodeKey||e.setState({dropPosition:m,dropLevelOffset:v,dropTargetKey:y,dropContainerKey:b,dropTargetPos:w,dropAllowed:x,dragOverNodeKey:k}),null===d||void 0===d||d({event:t,node:A(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey!==n.props.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;null===r||void 0===r||r({event:t,node:A(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null===r||void 0===r||r({event:t,node:A(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.state,s=a.dragChildrenKeys,l=a.dropPosition,c=a.dropTargetKey,u=a.dropTargetPos,d=a.dropAllowed;if(d){var p=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==c){var f=(0,o.Z)((0,o.Z)({},O(c,e.getTreeNodeRequiredProps())),{},{active:(null===(r=e.getActiveItem())||void 0===r?void 0:r.key)===c,data:e.state.keyEntities[c].node}),h=-1!==s.indexOf(c);(0,g.ZP)(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var m=F(u),v={event:t,node:A(f),dragNode:e.dragNode?A(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(s),dropToGap:0!==l,dropPosition:l+Number(m[m.length-1])};i||null===p||void 0===p||p(v),e.dragNode=null}}},e.cleanDragState=function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,n){var r=e.state,i=r.expandedKeys,a=r.flattenNodes,s=n.expanded,l=n.key;if(!(n.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey)){var c=a.filter((function(e){return e.key===l}))[0],u=A((0,o.Z)((0,o.Z)({},O(l,e.getTreeNodeRequiredProps())),{},{data:c.data}));e.setExpandedKeys(s?R(i,l):B(i,l)),e.onNodeExpand(t,u)}},e.onNodeClick=function(t,n){var r=e.props,i=r.onClick;"click"===r.expandAction&&e.triggerExpandActionExpand(t,n),null===i||void 0===i||i(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props,i=r.onDoubleClick;"doubleClick"===r.expandAction&&e.triggerExpandActionExpand(t,n),null===i||void 0===i||i(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,i=e.state,a=i.keyEntities,o=i.fieldNames,s=e.props,l=s.onSelect,c=s.multiple,u=n.selected,d=n[o.key],p=!u,f=(r=p?c?B(r,d):[d]:R(r,d)).map((function(e){var t=a[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:r}),null===l||void 0===l||l(r,{event:"select",selected:p,node:n,selectedNodes:f,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var i,a=e.state,o=a.keyEntities,l=a.checkedKeys,c=a.halfCheckedKeys,u=e.props,d=u.checkStrictly,p=u.onCheck,f=n.key,h={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(d){var g=r?B(l,f):R(l,f);i={checked:g,halfChecked:R(c,f)},h.checkedNodes=g.map((function(e){return o[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:g})}else{var m=he([].concat((0,s.Z)(l),[f]),!0,o),v=m.checkedKeys,y=m.halfCheckedKeys;if(!r){var b=new Set(v);b.delete(f);var x=he(Array.from(b),{checked:!1,halfCheckedKeys:y},o);v=x.checkedKeys,y=x.halfCheckedKeys}i=v,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=y,v.forEach((function(e){var t=o[e];if(t){var n=t.node,r=t.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:r})}})),e.setUncontrolledState({checkedKeys:v},!1,{halfCheckedKeys:y})}null===p||void 0===p||p(i,h)},e.onNodeLoad=function(t){var n=t.key,r=new Promise((function(r,i){e.setState((function(a){var o=a.loadedKeys,s=void 0===o?[]:o,l=a.loadingKeys,c=void 0===l?[]:l,u=e.props,d=u.loadData,p=u.onLoad;return d&&-1===s.indexOf(n)&&-1===c.indexOf(n)?(d(t).then((function(){var i=B(e.state.loadedKeys,n);null===p||void 0===p||p(i,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:i}),e.setState((function(e){return{loadingKeys:R(e.loadingKeys,n)}})),r()})).catch((function(t){if(e.setState((function(e){return{loadingKeys:R(e.loadingKeys,n)}})),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=10){var a=e.state.loadedKeys;(0,g.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:B(a,n)}),r()}i(t)})),{loadingKeys:B(c,n)}):null}))}));return r.catch((function(){})),r},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;null===r||void 0===r||r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;null===r||void 0===r||r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===t||void 0===t||t.apply(void 0,r)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===t||void 0===t||t.apply(void 0,r)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var n=e.state,r=N(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:r},!0)},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,i=e.state,a=i.listChanging,o=i.fieldNames,s=e.props,l=s.onExpand,c=s.loadData,u=n.expanded,d=n[o.key];if(!a){var p=r.indexOf(d),f=!u;if((0,g.ZP)(u&&-1!==p||!u&&-1===p,"Expand state not sync with index check"),r=f?B(r,d):R(r,d),e.setExpandedKeys(r),null===l||void 0===l||l(r,{node:n,expanded:f,nativeEvent:t.nativeEvent}),f&&c){var h=e.onNodeLoad(n);h&&h.then((function(){var t=N(e.state.treeData,r,o);e.setUncontrolledState({flattenNodes:t})})).catch((function(){var t=R(e.state.expandedKeys,d);e.setExpandedKeys(t)}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,r=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),null===r||void 0===r||r(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return null===n?null:r.find((function(e){return e.key===n}))||null},e.offsetActiveKey=function(t){var n=e.state,r=n.flattenNodes,i=n.activeKey,a=r.findIndex((function(e){return e.key===i}));-1===a&&t<0&&(a=r.length);var o=r[a=(a+t+r.length)%r.length];if(o){var s=o.key;e.onActiveChange(s)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,r=n.activeKey,i=n.expandedKeys,a=n.checkedKeys,s=n.fieldNames,l=e.props,c=l.onKeyDown,u=l.checkable,d=l.selectable;switch(t.which){case h.Z.UP:e.offsetActiveKey(-1),t.preventDefault();break;case h.Z.DOWN:e.offsetActiveKey(1),t.preventDefault()}var p=e.getActiveItem();if(p&&p.data){var f=e.getTreeNodeRequiredProps(),g=!1===p.data.isLeaf||!!(p.data[s.children]||[]).length,m=A((0,o.Z)((0,o.Z)({},O(r,f)),{},{data:p.data,active:!0}));switch(t.which){case h.Z.LEFT:g&&i.includes(r)?e.onNodeExpand({},m):p.parent&&e.onActiveChange(p.parent.key),t.preventDefault();break;case h.Z.RIGHT:g&&!i.includes(r)?e.onNodeExpand({},m):p.children&&p.children.length&&e.onActiveChange(p.children[0].key),t.preventDefault();break;case h.Z.ENTER:case h.Z.SPACE:!u||m.disabled||!1===m.checkable||m.disableCheckbox?u||!d||m.disabled||!1===m.selectable||e.onNodeSelect({},m):e.onNodeCheck({},m,!a.includes(r))}}null===c||void 0===c||c(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var i=!1,a=!0,s={};Object.keys(t).forEach((function(n){n in e.props?a=!1:(i=!0,s[n]=t[n])})),!i||n&&!a||e.setState((0,o.Z)((0,o.Z)({},s),r))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t,n=this.state,o=n.focused,s=n.flattenNodes,l=n.keyEntities,c=n.draggingNodeKey,u=n.activeKey,d=n.dropLevelOffset,p=n.dropContainerKey,h=n.dropTargetKey,g=n.dropPosition,v=n.dragOverNodeKey,x=n.indent,w=this.props,k=w.prefixCls,_=w.className,C=w.style,j=w.showLine,S=w.focusable,Z=w.tabIndex,N=void 0===Z?0:Z,E=w.selectable,O=w.showIcon,A=w.icon,T=w.switcherIcon,P=w.draggable,M=w.checkable,I=w.checkStrictly,D=w.disabled,L=w.motion,R=w.loadData,B=w.filterTreeNode,F=w.height,z=w.itemHeight,V=w.virtual,U=w.titleRender,H=w.dropIndicatorRender,W=w.onContextMenu,q=w.onScroll,K=w.direction,Y=w.rootClassName,G=w.rootStyle,Q=(0,m.Z)(this.props,{aria:!0,data:!0});return P&&(t="object"===(0,a.Z)(P)?P:"function"===typeof P?{nodeDraggable:P}:{}),f.createElement(b.Provider,{value:{prefixCls:k,selectable:E,showIcon:O,icon:A,switcherIcon:T,draggable:t,draggingNodeKey:c,checkable:M,checkStrictly:I,disabled:D,keyEntities:l,dropLevelOffset:d,dropContainerKey:p,dropTargetKey:h,dropPosition:g,dragOverNodeKey:v,indent:x,direction:K,dropIndicatorRender:H,loadData:R,filterTreeNode:B,titleRender:U,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},f.createElement("div",{role:"tree",className:y()(k,_,Y,(e={},(0,i.Z)(e,"".concat(k,"-show-line"),j),(0,i.Z)(e,"".concat(k,"-focused"),o),(0,i.Z)(e,"".concat(k,"-active-focused"),null!==u),e)),style:G},f.createElement(de,(0,r.Z)({ref:this.listRef,prefixCls:k,style:C,data:s,disabled:D,selectable:E,checkable:!!M,motion:L,dragging:null!==c,height:F,itemHeight:z,virtual:V,focusable:S,focused:o,tabIndex:N,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:W,onScroll:q},this.getTreeNodeRequiredProps(),Q))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.prevProps,a={prevProps:e};function s(t){return!r&&t in e||r&&r[t]!==e[t]}var l=t.fieldNames;if(s("fieldNames")&&(l=Z(e.fieldNames),a.fieldNames=l),s("treeData")?n=e.treeData:s("children")&&((0,g.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=function e(t){return(0,C.Z)(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return(0,g.ZP)(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,r=t.props,i=r.children,a=(0,x.Z)(r,j),s=(0,o.Z)({key:n},a),l=e(i);return l.length&&(s.children=l),s})).filter((function(e){return e}))}(e.children)),n){a.treeData=n;var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,a=t.externalGetKey,o=t.childrenPropName,s=t.fieldNames,l=arguments.length>2?arguments[2]:void 0,c=a||l,u={},d={},p={posEntities:u,keyEntities:d};return n&&(p=n(p)||p),E(e,(function(e){var t=e.node,n=e.index,i=e.pos,a=e.key,o=e.parentPos,s=e.level,l={node:t,nodes:e.nodes,index:n,key:a,pos:i,level:s},c=S(a,i);u[i]=l,d[c]=l,l.parent=u[o],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),r&&r(l,p)}),{externalGetKey:c,childrenPropName:o,fieldNames:s}),i&&i(p),p}(n,{fieldNames:l});a.keyEntities=(0,o.Z)((0,i.Z)({},ie,oe),c.keyEntities)}var u,d=a.keyEntities||t.keyEntities;if(s("expandedKeys")||r&&s("autoExpandParent"))a.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?K(e.expandedKeys,d):e.expandedKeys;else if(!r&&e.defaultExpandAll){var p=(0,o.Z)({},d);delete p[ie],a.expandedKeys=Object.keys(p).map((function(e){return p[e].key}))}else!r&&e.defaultExpandedKeys&&(a.expandedKeys=e.autoExpandParent||e.defaultExpandParent?K(e.defaultExpandedKeys,d):e.defaultExpandedKeys);if(a.expandedKeys||delete a.expandedKeys,n||a.expandedKeys){var f=N(n||t.treeData,a.expandedKeys||t.expandedKeys,l);a.flattenNodes=f}if((e.selectable&&(s("selectedKeys")?a.selectedKeys=W(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(a.selectedKeys=W(e.defaultSelectedKeys,e))),e.checkable)&&(s("checkedKeys")?u=q(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?u=q(e.defaultCheckedKeys)||{}:n&&(u=q(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),u)){var h=u,m=h.checkedKeys,v=void 0===m?[]:m,y=h.halfCheckedKeys,b=void 0===y?[]:y;if(!e.checkStrictly){var w=he(v,!0,d);v=w.checkedKeys,b=w.halfCheckedKeys}a.checkedKeys=v,a.halfCheckedKeys=b}return s("loadedKeys")&&(a.loadedKeys=e.loadedKeys),a}}]),n}(f.Component);ge.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,r=e.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:i.top=0,i.left=-n*r;break;case 1:i.bottom=0,i.left=-n*r;break;case 0:i.bottom=0,i.left=r}return f.createElement("div",{style:i})},allowDrop:function(){return!0},expandAction:!1},ge.TreeNode=L;var me=ge},83137:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(38416)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),s=r(n(46123));function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var c=function(e){for(var t=e.prefixCls,n=e.level,r=e.isStart,i=e.isEnd,l="".concat(t,"-indent-unit"),c=[],u=0;u<n;u+=1){var d;c.push(o.createElement("span",{key:u,className:(0,s.default)(l,(d={},(0,a.default)(d,"".concat(l,"-start"),r[u]),(0,a.default)(d,"".concat(l,"-end"),i[u]),d))}))}return o.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},c)},u=o.memo(c);t.default=u},28929:function(e,t,n){"use strict";var r=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InternalTreeNode=void 0;var a=r(n(10434)),o=r(n(38416)),s=r(n(70215)),l=r(n(42122)),c=r(n(56690)),u=r(n(89728)),d=r(n(66115)),p=r(n(61655)),f=r(n(26389)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(47313)),g=r(n(46123)),m=r(n(91077)),v=n(50163),y=r(n(83137)),b=n(9893),x=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"];function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}var k="open",_="close",C=function(e){(0,p.default)(n,e);var t=(0,f.default)(n);function n(){var e;(0,c.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,(0,b.convertNodePropsToEventData)(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,(0,b.convertNodePropsToEventData)(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,(0,b.convertNodePropsToEventData)(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,i=n.checked,a=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){t.preventDefault();var o=!i;a(t,(0,b.convertNodePropsToEventData)(e.props),o)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,(0,b.convertNodePropsToEventData)(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,(0,b.convertNodePropsToEventData)(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,(0,b.convertNodePropsToEventData)(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,(0,d.default)(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,(0,d.default)(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,(0,d.default)(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,(0,d.default)(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,d.default)(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,d.default)(e))},e.onExpand=function(t){var n=e.props,r=n.loading,i=n.context.onNodeExpand;r||i(t,(0,b.convertNodePropsToEventData)(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?k:_},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,i=e.props.context.loadData,a=e.hasChildren();return!1!==n&&(n||!i&&!a||i&&r&&!a)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,i=t.loaded,a=e.props.context,o=a.loadData,s=a.onNodeLoad;r||o&&n&&!e.isLeaf()&&(e.hasChildren()||i||s((0,b.convertNodePropsToEventData)(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(n))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return(null===n||void 0===n?void 0:n.icon)?h.createElement("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,i=n||r;return"function"===typeof i?i((0,l.default)((0,l.default)({},e.props),{},{isLeaf:t})):i},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return!1!==r?h.createElement("span",{className:(0,g.default)("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var i=(0,g.default)("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?k:_)),a=e.renderSwitcherIconDom(!1);return!1!==a?h.createElement("span",{onClick:e.onExpand,className:i},a):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,r=t.halfChecked,i=t.disableCheckbox,a=e.props.context.prefixCls,o=e.isDisabled(),s=e.isCheckable();if(!s)return null;var l="boolean"!==typeof s?s:null;return h.createElement("span",{className:(0,g.default)("".concat(a,"-checkbox"),n&&"".concat(a,"-checkbox-checked"),!n&&r&&"".concat(a,"-checkbox-indeterminate"),(o||i)&&"".concat(a,"-checkbox-disabled")),onClick:e.onCheck},l)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return h.createElement("span",{className:(0,g.default)("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,r=e.state.dragNodeHighlight,i=e.props,a=i.title,o=i.selected,s=i.icon,l=i.loading,c=i.data,u=e.props.context,d=u.prefixCls,p=u.showIcon,f=u.icon,m=u.loadData,v=u.titleRender,y=e.isDisabled(),b="".concat(d,"-node-content-wrapper");if(p){var x=s||f;t=x?h.createElement("span",{className:(0,g.default)("".concat(d,"-iconEle"),"".concat(d,"-icon__customize"))},"function"===typeof x?x(e.props):x):e.renderIcon()}else m&&l&&(t=e.renderIcon());n="function"===typeof a?a(c):v?v(c):a;var w=h.createElement("span",{className:"".concat(d,"-title")},n);return h.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof a?a:"",className:(0,g.default)("".concat(b),"".concat(b,"-").concat(e.getNodeState()||"normal"),!y&&(o||r)&&"".concat(d,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,w,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,i=e.props.context,a=i.draggable,o=i.dropLevelOffset,s=i.dropPosition,l=i.prefixCls,c=i.indent,u=i.dropIndicatorRender,d=i.dragOverNodeKey,p=i.direction;return!n&&!1!==a&&d===r?u({dropPosition:s,dropLevelOffset:o,indent:c,prefixCls:l,direction:p}):null},e}return(0,u.default)(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,r=t.className,i=t.style,l=t.dragOver,c=t.dragOverGapTop,u=t.dragOverGapBottom,d=t.isLeaf,p=t.isStart,f=t.isEnd,v=t.expanded,w=t.selected,k=t.checked,_=t.halfChecked,C=t.loading,j=t.domRef,S=t.active,Z=(t.data,t.onMouseMove),N=t.selectable,E=(0,s.default)(t,x),O=this.props.context,A=O.prefixCls,T=O.filterTreeNode,P=O.keyEntities,M=O.dropContainerKey,I=O.dropTargetKey,D=O.draggingNodeKey,L=this.isDisabled(),R=(0,m.default)(E,{aria:!0,data:!0}),B=(P[n]||{}).level,F=f[f.length-1],z=this.isDraggable(),V=!L&&z,U=D===n,H=void 0!==N?{"aria-selected":!!N}:void 0;return h.createElement("div",(0,a.default)({ref:j,className:(0,g.default)(r,"".concat(A,"-treenode"),(e={},(0,o.default)(e,"".concat(A,"-treenode-disabled"),L),(0,o.default)(e,"".concat(A,"-treenode-switcher-").concat(v?"open":"close"),!d),(0,o.default)(e,"".concat(A,"-treenode-checkbox-checked"),k),(0,o.default)(e,"".concat(A,"-treenode-checkbox-indeterminate"),_),(0,o.default)(e,"".concat(A,"-treenode-selected"),w),(0,o.default)(e,"".concat(A,"-treenode-loading"),C),(0,o.default)(e,"".concat(A,"-treenode-active"),S),(0,o.default)(e,"".concat(A,"-treenode-leaf-last"),F),(0,o.default)(e,"".concat(A,"-treenode-draggable"),V),(0,o.default)(e,"dragging",U),(0,o.default)(e,"drop-target",I===n),(0,o.default)(e,"drop-container",M===n),(0,o.default)(e,"drag-over",!L&&l),(0,o.default)(e,"drag-over-gap-top",!L&&c),(0,o.default)(e,"drag-over-gap-bottom",!L&&u),(0,o.default)(e,"filter-node",T&&T((0,b.convertNodePropsToEventData)(this.props))),e)),style:i,draggable:V,"aria-grabbed":U,onDragStart:V?this.onDragStart:void 0,onDragEnter:z?this.onDragEnter:void 0,onDragOver:z?this.onDragOver:void 0,onDragLeave:z?this.onDragLeave:void 0,onDrop:z?this.onDrop:void 0,onDragEnd:z?this.onDragEnd:void 0,onMouseMove:Z},H,R),h.createElement(y.default,{prefixCls:A,level:B,isStart:p,isEnd:f}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(h.Component);t.InternalTreeNode=C;var j=function(e){return h.createElement(v.TreeContext.Consumer,null,(function(t){return h.createElement(C,(0,a.default)({},e,{context:t}))}))};j.displayName="TreeNode",j.defaultProps={title:"---"},j.isTreeNode=1;var S=j;t.default=S},50163:function(e,t,n){"use strict";var r=n(18698);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.TreeContext=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(47313)).createContext(null);t.TreeContext=a},44036:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.arrAdd=function(e,t){var n=(e||[]).slice();-1===n.indexOf(t)&&n.push(t);return n},t.arrDel=function(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);r>=0&&n.splice(r,1);return n},t.calcDropPosition=function(e,t,n,r,i,a,o,s,l,c){var u,d=e.clientX,p=e.clientY,g=e.target.getBoundingClientRect(),m=g.top,v=g.height,y=(("rtl"===c?-1:1)*(((null===i||void 0===i?void 0:i.x)||0)-d)-12)/r,b=s[n.props.eventKey];if(p<m+v/2){var x=o.findIndex((function(e){return e.key===b.key})),w=o[x<=0?0:x-1].key;b=s[w]}var k=b.key,_=b,C=b.key,j=0,S=0;if(!l.includes(k))for(var Z=0;Z<y&&f(b);Z+=1)b=b.parent,S+=1;var N=t.props.data,E=b.node,O=!0;h(b)&&0===b.level&&p<m+v/2&&a({dragNode:N,dropNode:E,dropPosition:-1})&&b.key===n.props.eventKey?j=-1:(_.children||[]).length&&l.includes(C)?a({dragNode:N,dropNode:E,dropPosition:0})?j=0:O=!1:0===S?y>-1.5?a({dragNode:N,dropNode:E,dropPosition:1})?j=1:O=!1:a({dragNode:N,dropNode:E,dropPosition:0})?j=0:a({dragNode:N,dropNode:E,dropPosition:1})?j=1:O=!1:a({dragNode:N,dropNode:E,dropPosition:1})?j=1:O=!1;return{dropPosition:j,dropLevelOffset:S,dropTargetKey:b.key,dropTargetPos:b.pos,dragOverNodeKey:C,dropContainerKey:0===j?null:(null===(u=b.parent)||void 0===u?void 0:u.key)||null,dropAllowed:O}},t.calcSelectedKeys=function(e,t){if(!e)return;if(t.multiple)return e.slice();if(e.length)return[e[0]];return e},t.conductExpandParent=function(e,t){var n=new Set;function r(e){if(!n.has(e)){var i=t[e];if(i){n.add(e);var a=i.parent;i.node.disabled||a&&r(a.key)}}}return(e||[]).forEach((function(e){r(e)})),(0,i.default)(n)},t.convertDataToTree=function e(t,n){if(!t)return[];var r=(n||{}).processProps,i=void 0===r?g:r;return(Array.isArray(t)?t:[t]).map((function(t){var r=t.children,a=(0,s.default)(t,d),c=e(r,n);return l.default.createElement(u.default,(0,o.default)({key:a.key},i(a)),c)}))},t.getDragChildrenKeys=function(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var r=t.key,i=t.children;n.push(r),e(i)}))}(t[e].children),n},t.getPosition=function(e,t){return"".concat(e,"-").concat(t)},t.isFirstChild=h,t.isLastChild=f,t.isTreeNode=function(e){return e&&e.type&&e.type.isTreeNode},t.parseCheckedKeys=function(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==(0,a.default)(e))return(0,c.default)(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t},t.posToArr=p;var i=r(n(861)),a=r(n(18698)),o=r(n(10434)),s=r(n(70215)),l=r(n(47313)),c=r(n(64287)),u=r(n(28929)),d=["children"];function p(e){return e.split("-")}function f(e){if(e.parent){var t=p(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function h(e){var t=p(e.pos);return 0===Number(t[t.length-1])}var g=function(e){return e}},23807:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.conductCheck=function(e,t,n,r){var s,l=[];s=r||o;var c,u=new Set(e.filter((function(e){var t=!!n[e];return t||l.push(e),t}))),d=new Map,p=0;Object.keys(n).forEach((function(e){var t=n[e],r=t.level,i=d.get(r);i||(i=new Set,d.set(r,i)),i.add(t),p=Math.max(p,r)})),(0,i.default)(!l.length,"Tree missing follow keys: ".concat(l.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),c=!0===t?function(e,t,n,r){for(var i=new Set(e),o=new Set,s=0;s<=n;s+=1){(t.get(s)||new Set).forEach((function(e){var t=e.key,n=e.node,a=e.children,o=void 0===a?[]:a;i.has(t)&&!r(n)&&o.filter((function(e){return!r(e.node)})).forEach((function(e){i.add(e.key)}))}))}for(var l=new Set,c=n;c>=0;c-=1){(t.get(c)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!l.has(e.parent.key))if(r(e.parent.node))l.add(t.key);else{var a=!0,s=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);a&&!n&&(a=!1),s||!n&&!o.has(t)||(s=!0)})),a&&i.add(t.key),s&&o.add(t.key),l.add(t.key)}}))}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(a(o,i))}}(u,d,p,s):function(e,t,n,r,i){for(var o=new Set(e),s=new Set(t),l=0;l<=r;l+=1){(n.get(l)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,a=void 0===r?[]:r;o.has(t)||s.has(t)||i(n)||a.filter((function(e){return!i(e.node)})).forEach((function(e){o.delete(e.key)}))}))}s=new Set;for(var c=new Set,u=r;u>=0;u-=1){(n.get(u)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!i(n)&&e.parent&&!c.has(e.parent.key))if(i(e.parent.node))c.add(t.key);else{var r=!0,a=!1;(t.children||[]).filter((function(e){return!i(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);r&&!n&&(r=!1),a||!n&&!s.has(t)||(a=!0)})),r||o.delete(t.key),a&&s.add(t.key),c.add(t.key)}}))}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(a(s,o))}}(u,t.halfCheckedKeys,d,p,s);return c},t.isCheckDisabled=o;var i=r(n(64287));function a(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function o(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!(!n&&!r)||!1===i}},9893:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.convertDataToEntities=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,a=t.externalGetKey,o=t.childrenPropName,s=t.fieldNames,l=arguments.length>2?arguments[2]:void 0,c=a||l,u={},d={},p={posEntities:u,keyEntities:d};n&&(p=n(p)||p);g(e,(function(e){var t=e.node,n=e.index,i=e.pos,a=e.key,o=e.parentPos,s=e.level,l={node:t,nodes:e.nodes,index:n,key:a,pos:i,level:s},c=f(a,i);u[i]=l,d[c]=l,l.parent=u[o],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),r&&r(l,p)}),{externalGetKey:c,childrenPropName:o,fieldNames:s}),i&&i(p);return p},t.convertNodePropsToEventData=function(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,a=e.loaded,s=e.loading,l=e.halfChecked,c=e.dragOver,d=e.dragOverGapTop,p=e.dragOverGapBottom,f=e.pos,h=e.active,g=e.eventKey,m=(0,o.default)((0,o.default)({},t),{},{expanded:n,selected:r,checked:i,loaded:a,loading:s,halfChecked:l,dragOver:c,dragOverGapTop:d,dragOverGapBottom:p,pos:f,active:h,key:g});"props"in m||Object.defineProperty(m,"props",{get:function(){return(0,u.default)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}});return m},t.convertTreeToData=function(e){return function e(t){return(0,c.default)(t).map((function(t){if(!(0,d.isTreeNode)(t))return(0,u.default)(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,r=t.props,i=r.children,a=(0,s.default)(r,p),l=(0,o.default)({key:n},a),c=e(i);return c.length&&(l.children=c),l})).filter((function(e){return e}))}(e)},t.fillFieldNames=h,t.flattenTreeData=function(e,t,n){var r=h(n),i=r._title,s=r.key,c=r.children,u=new Set(!0===t?[]:t),p=[];return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(h,g){for(var m,v=(0,d.getPosition)(r?r.pos:"0",g),y=f(h[s],v),b=0;b<i.length;b+=1){var x=i[b];if(void 0!==h[x]){m=h[x];break}}var w=(0,o.default)((0,o.default)({},(0,l.default)(h,[].concat((0,a.default)(i),[s,c]))),{},{title:m,key:y,parent:r,pos:v,children:null,data:h,isStart:[].concat((0,a.default)(r?r.isStart:[]),[0===g]),isEnd:[].concat((0,a.default)(r?r.isEnd:[]),[g===n.length-1])});return p.push(w),!0===t||u.has(y)?w.children=e(h[c]||[],w):w.children=[],w}))}(e),p},t.getKey=f,t.getTreeNodeProps=function(e,t){var n=t.expandedKeys,r=t.selectedKeys,i=t.loadedKeys,a=t.loadingKeys,o=t.checkedKeys,s=t.halfCheckedKeys,l=t.dragOverNodeKey,c=t.dropPosition,u=t.keyEntities[e];return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==i.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==o.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(u?u.pos:""),dragOver:l===e&&0===c,dragOverGapTop:l===e&&-1===c,dragOverGapBottom:l===e&&1===c}},t.traverseDataNodes=g,t.warningWithoutKey=function(e,t){var n=new Map;!function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(r||[]).forEach((function(r){var a=r[t.key],o=r[t.children];(0,u.default)(null!==a&&void 0!==a,"Tree node must have a certain key: [".concat(i).concat(a,"]"));var s=String(a);(0,u.default)(!n.has(s)||null===a||void 0===a,"Same 'key' exist in the Tree: ".concat(s)),n.set(s,!0),e(o,"".concat(i).concat(s," > "))}))}(e)};var i=r(n(18698)),a=r(n(861)),o=r(n(42122)),s=r(n(70215)),l=r(n(26796)),c=r(n(72899)),u=r(n(64287)),d=n(44036),p=["children"];function f(e,t){return null!==e&&void 0!==e?e:t}function h(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function g(e,t,n){var r,o=("object"===(0,i.default)(n)?n:{externalGetKey:n})||{},s=o.childrenPropName,l=o.externalGetKey,c=h(o.fieldNames),u=c.key,p=c.children,g=s||p;l?"string"===typeof l?r=function(e){return e[l]}:"function"===typeof l&&(r=function(e){return l(e)}):r=function(e,t){return f(e[u],t)},function n(i,o,s,l){var c=i?i[g]:e,u=i?(0,d.getPosition)(s.pos,o):"0",p=i?[].concat((0,a.default)(l),[i]):[];if(i){var f=r(i,u),h={node:i,index:o,pos:u,key:f,parentPos:s.node?s.pos:null,level:s.level+1,nodes:p};t(h)}c&&c.forEach((function(e,t){n(e,t,{node:i,pos:u,level:s?s.level+1:-1},p)}))}(null)}},8740:function(e,t,n){"use strict";n.d(t,{Z:function(){return tt}});var r=n(1413),i=n(87462),a=n(15671),o=n(43144),s=n(97326),l=n(60136),c=n(27277),u=n(47313),d=n(1168),p=n(95557),f=n(47882),h=n(53879),g=n(16945),m=n(63921),v=n(80024),y=n(46123),b=n.n(y);function x(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var w=n(29439),k=n(45987),_=n(64394),C=n(1293);function j(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function S(e){var t=e.prefixCls,n=e.visible,a=e.zIndex,o=e.mask,s=e.maskMotion,l=e.maskAnimation,c=e.maskTransitionName;if(!o)return null;var d={};return(s||c||l)&&(d=(0,r.Z)({motionAppear:!0},j({motion:s,prefixCls:t,transitionName:c,animation:l}))),u.createElement(C.default,(0,i.Z)({},d,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return u.createElement("div",{style:{zIndex:a},className:b()("".concat(t,"-mask"),n)})}))}var Z,N=n(71002),E=n(32330);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){return T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function I(){if(void 0!==Z)return Z;Z="";var e=document.createElement("p").style;for(var t in M)t+"Transform"in e&&(Z=t);return Z}function D(){return I()?"".concat(I(),"TransitionProperty"):"transitionProperty"}function L(){return I()?"".concat(I(),"Transform"):"transform"}function R(e,t){var n=D();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function B(e,t){var n=L();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var F,z=/matrix\((.*)\)/,V=/matrix3d\((.*)\)/;function U(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function H(e,t,n){var r=n;if("object"!==T(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):F(e,t);for(var i in t)t.hasOwnProperty(i)&&H(e,i,t[i])}function W(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function q(e){return W(e)}function K(e){return W(e,!0)}function Y(e){var t=function(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=o.clientLeft||a.clientLeft||0,top:r-=o.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=q(r),t.top+=K(r),t}function G(e){return null!==e&&void 0!==e&&e==e.window}function Q(e){return G(e)?e.document:9===e.nodeType?e:e.ownerDocument}var X=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),$=/^(top|right|bottom|left)$/;function J(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function ee(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function te(e,t,n){"static"===H(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=J("left",n),o=J("top",n),s=ee(a),l=ee(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var c,u="",d=Y(e);("left"in t||"top"in t)&&(u=(c=e).style.transitionProperty||c.style[D()]||"",R(e,"none")),"left"in t&&(e.style[s]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[l]="",e.style[o]="".concat(i,"px")),U(e);var p=Y(e),f={};for(var h in t)if(t.hasOwnProperty(h)){var g=J(h,n),m="left"===h?r:i,v=d[h]-p[h];f[g]=g===h?m+v:m-v}H(e,f),U(e),("left"in t||"top"in t)&&R(e,u);var y={};for(var b in t)if(t.hasOwnProperty(b)){var x=J(b,n),w=t[b]-d[b];y[x]=b===x?f[x]+w:f[x]-w}H(e,y)}function ne(e,t){var n=Y(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(L());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(L());if(r&&"none"!==r){var i,a=r.match(z);a?((i=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,B(e,"matrix(".concat(i.join(","),")"))):((i=r.match(V)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,B(e,"matrix3d(".concat(i.join(","),")")))}else B(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function re(e,t){for(var n=0;n<e.length;n++)t(e[n])}function ie(e){return"border-box"===F(e,"boxSizing")}"undefined"!==typeof window&&(F=window.getComputedStyle?function(e,t,n){var r=n,i="",a=Q(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(X.test(n)&&!$.test(t)){var r=e.style,i=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=a}return""===n?"auto":n});var ae=["margin","border","padding"];function oe(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function se(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i])for(a=0;a<n.length;a++){var s=void 0;s="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(F(e,s))||0}return o}var le={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function ce(e,t,n){var r=n;if(G(e))return"width"===t?le.viewportWidth(e):le.viewportHeight(e);if(9===e.nodeType)return"width"===t?le.docWidth(e):le.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),o=ie(e),s=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(s=F(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=o?1:-1);var l=void 0!==a||o,c=a||s;return-1===r?l?c-se(e,["border","padding"],i):s:l?1===r?c:c+(2===r?-se(e,["border"],i):se(e,["margin"],i)):s+se(e,ae.slice(r),i)}re(["Width","Height"],(function(e){le["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],le["viewport".concat(e)](n))},le["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var ue={position:"absolute",visibility:"hidden",display:"block"};function de(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=ce.apply(void 0,t):oe(i,ue,(function(){r=ce.apply(void 0,t)})),r}function pe(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}re(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);le["outer".concat(t)]=function(t,n){return t&&de(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];le[e]=function(t,r){var i=r;return void 0!==i?t?(ie(t)&&(i+=se(t,["padding","border"],n)),H(t,e,i)):void 0:t&&de(t,e,-1)}}));var fe={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:Q,offset:function(e,t,n){if("undefined"===typeof t)return Y(e);!function(e,t,n){if(n.ignoreShake){var r=Y(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),s=t.top.toFixed(0);if(i===o&&a===s)return}n.useCssRight||n.useCssBottom?te(e,t,n):n.useCssTransform&&L()in document.body.style?ne(e,t):te(e,t,n)}(e,t,n||{})},isWindow:G,each:re,css:H,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:pe,getWindowScrollLeft:function(e){return q(e)},getWindowScrollTop:function(e){return K(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)fe.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};pe(fe,le);var he=fe.getParent;function ge(e){if(fe.isWindow(e)||9===e.nodeType)return null;var t,n=fe.getDocument(e).body,r=fe.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:he(e);for(t=he(e);t&&t!==n&&9!==t.nodeType;t=he(t))if("static"!==(r=fe.css(t,"position")))return t;return null}var me=fe.getParent;function ve(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=ge(e),i=fe.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===s||"visible"===fe.css(r,"overflow")){if(r===o||r===s)break}else{var l=fe.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}r=ge(r)}var c=null;fe.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===fe.css(e,"position")&&(e.style.position="fixed"));var u=fe.getWindowScrollLeft(a),d=fe.getWindowScrollTop(a),p=fe.viewportWidth(a),f=fe.viewportHeight(a),h=s.scrollWidth,g=s.scrollHeight,m=window.getComputedStyle(o);if("hidden"===m.overflowX&&(h=a.innerWidth),"hidden"===m.overflowY&&(g=a.innerHeight),e.style&&(e.style.position=c),t||function(e){if(fe.isWindow(e)||9===e.nodeType)return!1;var t=fe.getDocument(e),n=t.body,r=null;for(r=me(e);r&&r!==n&&r!==t;r=me(r))if("fixed"===fe.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,d),n.right=Math.min(n.right,u+p),n.bottom=Math.min(n.bottom,d+f);else{var v=Math.max(h,u+p);n.right=Math.min(n.right,v);var y=Math.max(g,d+f);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function ye(e){var t,n,r;if(fe.isWindow(e)||9===e.nodeType){var i=fe.getWindow(e);t={left:fe.getWindowScrollLeft(i),top:fe.getWindowScrollTop(i)},n=fe.viewportWidth(i),r=fe.viewportHeight(i)}else t=fe.offset(e),n=fe.outerWidth(e),r=fe.outerHeight(e);return t.width=n,t.height=r,t}function be(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,s=e.top;return"c"===n?s+=a/2:"b"===n&&(s+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:s}}function xe(e,t,n,r,i){var a=be(t,n[1]),o=be(e,n[0]),s=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function we(e,t,n){return e.left<n.left||e.left+t.width>n.right}function ke(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function _e(e,t,n){var r=[];return fe.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Ce(e,t){return e[t]=-e[t],e}function je(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Se(e,t){e[0]=je(e[0],t.width),e[1]=je(e[1],t.height)}function Ze(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;a=[].concat(a),o=[].concat(o);var c={},u=0,d=ve(l,!(!(s=s||{})||!s.alwaysByViewport)),p=ye(l);Se(a,p),Se(o,t);var f=xe(p,t,i,a,o),h=fe.merge(p,f);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&we(f,p,d)){var g=_e(i,/[lr]/gi,{l:"r",r:"l"}),m=Ce(a,0),v=Ce(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(xe(p,t,g,m,v),p,d)||(u=1,i=g,a=m,o=v)}if(s.adjustY&&ke(f,p,d)){var y=_e(i,/[tb]/gi,{t:"b",b:"t"}),b=Ce(a,1),x=Ce(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(xe(p,t,y,b,x),p,d)||(u=1,i=y,a=b,o=x)}u&&(f=xe(p,t,i,a,o),fe.mix(h,f));var w=we(f,p,d),k=ke(f,p,d);if(w||k){var _=i;w&&(_=_e(i,/[lr]/gi,{l:"r",r:"l"})),k&&(_=_e(i,/[tb]/gi,{t:"b",b:"t"})),i=_,a=n.offset||[0,0],o=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&w,c.adjustY=s.adjustY&&k,(c.adjustX||c.adjustY)&&(h=function(e,t,n,r){var i=fe.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),fe.mix(i,a)}(f,p,d,c))}return h.width!==p.width&&fe.css(l,"width",fe.width(l)+h.width-p.width),h.height!==p.height&&fe.css(l,"height",fe.height(l)+h.height-p.height),fe.offset(l,{left:h.left,top:h.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:c}}function Ne(e,t,n){var r=n.target||t,i=ye(r),a=!function(e,t){var n=ve(e,t),r=ye(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Ze(e,i,n,a)}Ne.__getOffsetParent=ge,Ne.__getVisibleRectForElement=ve;var Ee=n(1905),Oe=n.n(Ee),Ae=n(1355);function Te(e,t){var n=null,r=null;var i=new Ae.Z((function(e){var i=(0,w.Z)(e,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),o=a.width,s=a.height,l=Math.floor(o),c=Math.floor(s);n===l&&r===c||Promise.resolve().then((function(){t({width:l,height:c})})),n=l,r=c}}));return e&&i.observe(e),function(){i.disconnect()}}function Pe(e){return"function"!==typeof e?null:e()}function Me(e){return"object"===(0,N.Z)(e)&&e?e:null}var Ie=function(e,t){var n=e.children,r=e.disabled,i=e.target,a=e.align,o=e.onAlign,s=e.monitorWindowResize,l=e.monitorBufferTime,c=void 0===l?0:l,d=u.useRef({}),p=u.useRef(),h=u.Children.only(n),v=u.useRef({});v.current.disabled=r,v.current.target=i,v.current.align=a,v.current.onAlign=o;var y=function(e,t){var n=u.useRef(!1),r=u.useRef(null);function i(){window.clearTimeout(r.current)}return[function a(o){if(i(),n.current&&!0!==o)r.current=window.setTimeout((function(){n.current=!1,a()}),t);else{if(!1===e())return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,i()}]}((function(){var e=v.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var a,o=p.current,s=Pe(n),l=Me(n);d.current.element=s,d.current.point=l,d.current.align=r;var c=document.activeElement;return s&&(0,E.Z)(s)?a=Ne(o,s,r):l&&(a=function(e,t,n){var r,i,a=fe.getDocument(e),o=a.defaultView||a.parentWindow,s=fe.getWindowScrollLeft(o),l=fe.getWindowScrollTop(o),c=fe.viewportWidth(o),u=fe.viewportHeight(o),d={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},p=r>=0&&r<=s+c&&i>=0&&i<=l+u,f=[n.points[0],"cc"];return Ze(e,d,A(A({},n),{},{points:f}),p)}(o,l,r)),function(e,t){e!==document.activeElement&&(0,f.Z)(t,e)&&"function"===typeof e.focus&&e.focus()}(c,o),i&&a&&i(o,a),!0}return!1}),c),b=(0,w.Z)(y,2),x=b[0],k=b[1],_=u.useRef({cancel:function(){}}),C=u.useRef({cancel:function(){}});u.useEffect((function(){var e,t,n=Pe(i),r=Me(i);p.current!==C.current.element&&(C.current.cancel(),C.current.element=p.current,C.current.cancel=Te(p.current,x)),d.current.element===n&&((e=d.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&Oe()(d.current.align,a)||(x(),_.current.element!==n&&(_.current.cancel(),_.current.element=n,_.current.cancel=Te(n,x)))})),u.useEffect((function(){r?k():x()}),[r]);var j=u.useRef(null);return u.useEffect((function(){s?j.current||(j.current=(0,m.Z)(window,"resize",x)):j.current&&(j.current.remove(),j.current=null)}),[s]),u.useEffect((function(){return function(){_.current.cancel(),C.current.cancel(),j.current&&j.current.remove(),k()}}),[]),u.useImperativeHandle(t,(function(){return{forceAlign:function(){return x(!0)}}})),u.isValidElement(h)&&(h=u.cloneElement(h,{ref:(0,g.sQ)(h.ref,p)})),h},De=u.forwardRef(Ie);De.displayName="Align";var Le=De,Re=n(72846),Be=n(74165),Fe=n(15861),ze=n(51114),Ve=["measure","alignPre","align",null,"motion"],Ue=u.forwardRef((function(e,t){var n=e.visible,a=e.prefixCls,o=e.className,s=e.style,l=e.children,c=e.zIndex,d=e.stretch,f=e.destroyPopupOnHide,h=e.forceRender,g=e.align,m=e.point,v=e.getRootDomNode,y=e.getClassNameFromAlign,x=e.onAlign,k=e.onMouseEnter,_=e.onMouseLeave,S=e.onMouseDown,Z=e.onTouchStart,N=e.onClick,E=(0,u.useRef)(),O=(0,u.useRef)(),A=(0,u.useState)(),T=(0,w.Z)(A,2),P=T[0],M=T[1],I=function(e){var t=u.useState({width:0,height:0}),n=(0,w.Z)(t,2),r=n[0],i=n[1];return[u.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(d),D=(0,w.Z)(I,2),L=D[0],R=D[1];var B=function(e,t){var n=(0,ze.Z)(null),r=(0,w.Z)(n,2),i=r[0],a=r[1],o=(0,u.useRef)();function s(e){a(e,!0)}function l(){p.Z.cancel(o.current)}return(0,u.useEffect)((function(){s("measure")}),[e]),(0,u.useEffect)((function(){"measure"===i&&t(),i&&(o.current=(0,p.Z)((0,Fe.Z)((0,Be.Z)().mark((function e(){var t,n;return(0,Be.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ve.indexOf(i),(n=Ve[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,u.useEffect)((function(){return function(){l()}}),[]),[i,function(e){l(),o.current=(0,p.Z)((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){d&&R(v())})),F=(0,w.Z)(B,2),z=F[0],V=F[1],U=(0,u.useState)(0),H=(0,w.Z)(U,2),W=H[0],q=H[1],K=(0,u.useRef)();function Y(){var e;null===(e=E.current)||void 0===e||e.forceAlign()}function G(e,t){var n=y(t);P!==n&&M(n),q((function(e){return e+1})),"align"===z&&(null===x||void 0===x||x(e,t))}(0,Re.Z)((function(){"alignPre"===z&&q(0)}),[z]),(0,Re.Z)((function(){"align"===z&&(W<2?Y():V((function(){var e;null===(e=K.current)||void 0===e||e.call(K)})))}),[W]);var Q=(0,r.Z)({},j(e));function X(){return new Promise((function(e){K.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=Q[e];Q[e]=function(e,n){return V(),null===t||void 0===t?void 0:t(e,n)}})),u.useEffect((function(){Q.motionName||"motion"!==z||V()}),[Q.motionName,z]),u.useImperativeHandle(t,(function(){return{forceAlign:Y,getElement:function(){return O.current}}}));var $=(0,r.Z)((0,r.Z)({},L),{},{zIndex:c,opacity:"motion"!==z&&"stable"!==z&&n?0:void 0,pointerEvents:n||"stable"===z?void 0:"none"},s),J=!0;!(null===g||void 0===g?void 0:g.points)||"align"!==z&&"stable"!==z||(J=!1);var ee=l;return u.Children.count(l)>1&&(ee=u.createElement("div",{className:"".concat(a,"-content")},l)),u.createElement(C.default,(0,i.Z)({visible:n,ref:O,leavedClassName:"".concat(a,"-hidden")},Q,{onAppearPrepare:X,onEnterPrepare:X,removeOnLeave:f,forceRender:h}),(function(e,t){var n=e.className,i=e.style,s=b()(a,o,P,n);return u.createElement(Le,{target:m||v,key:"popup",ref:E,monitorWindowResize:!0,disabled:J,align:g,onAlign:G},u.createElement("div",{ref:t,className:s,onMouseEnter:k,onMouseLeave:_,onMouseDownCapture:S,onTouchStartCapture:Z,onClick:N,style:(0,r.Z)((0,r.Z)({},i),$)},ee))}))}));Ue.displayName="PopupInner";var He=Ue,We=u.forwardRef((function(e,t){var n=e.prefixCls,a=e.visible,o=e.zIndex,s=e.children,l=e.mobile,c=(l=void 0===l?{}:l).popupClassName,d=l.popupStyle,p=l.popupMotion,f=void 0===p?{}:p,h=l.popupRender,g=e.onClick,m=u.useRef();u.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return m.current}}}));var v=(0,r.Z)({zIndex:o},d),y=s;return u.Children.count(s)>1&&(y=u.createElement("div",{className:"".concat(n,"-content")},s)),h&&(y=h(y)),u.createElement(C.default,(0,i.Z)({visible:a,ref:m,removeOnLeave:!0},f),(function(e,t){var i=e.className,a=e.style,o=b()(n,c,i);return u.createElement("div",{ref:t,className:o,onClick:g,style:(0,r.Z)((0,r.Z)({},a),v)},y)}))}));We.displayName="MobilePopupInner";var qe=We,Ke=["visible","mobile"],Ye=u.forwardRef((function(e,t){var n=e.visible,a=e.mobile,o=(0,k.Z)(e,Ke),s=(0,u.useState)(n),l=(0,w.Z)(s,2),c=l[0],d=l[1],p=(0,u.useState)(!1),f=(0,w.Z)(p,2),h=f[0],g=f[1],m=(0,r.Z)((0,r.Z)({},o),{},{visible:c});(0,u.useEffect)((function(){d(n),n&&a&&g((0,_.Z)())}),[n,a]);var v=h?u.createElement(qe,(0,i.Z)({},m,{mobile:a,ref:t})):u.createElement(He,(0,i.Z)({},m,{ref:t}));return u.createElement("div",null,u.createElement(S,m),v)}));Ye.displayName="Popup";var Ge=Ye,Qe=u.createContext(null);function Xe(){}function $e(){return""}function Je(e){return e?e.ownerDocument:window.document}var et=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var tt=function(e){var t=function(t){(0,l.Z)(v,t);var n=(0,c.Z)(v);function v(e){var t,r;return(0,a.Z)(this,v),(t=n.call(this,e)).popupRef=u.createRef(),t.triggerRef=u.createRef(),t.portalContainer=void 0,t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&(0,f.Z)(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();(0,f.Z)(r,n)&&!t.isContextMenuOnly()||(0,f.Z)(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=(0,h.Z)(t.triggerRef.current);if(n)return n}catch(r){}return d.findDOMNode((0,s.Z)(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,s=r.alignPoint,l=r.getPopupClassNameFromAlign;return i&&a&&n.push(function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var s=a[o];if(x(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(a,o,e,s)),l&&n.push(l(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,s=e.popupMotion,l=e.popupAnimation,c=e.popupTransitionName,d=e.popupStyle,p=e.mask,f=e.maskAnimation,h=e.maskTransitionName,g=e.maskMotion,m=e.zIndex,v=e.popup,y=e.stretch,b=e.alignPoint,x=e.mobile,w=e.forceRender,k=e.onPopupClick,_=t.state,C=_.popupVisible,j=_.point,S=t.getPopupAlign(),Z={};return t.isMouseEnterToShow()&&(Z.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(Z.onMouseLeave=t.onPopupMouseLeave),Z.onMouseDown=t.onPopupMouseDown,Z.onTouchStart=t.onPopupMouseDown,u.createElement(Ge,(0,i.Z)({prefixCls:n,destroyPopupOnHide:r,visible:C,point:b&&j,className:a,align:S,onAlign:o,animation:l,getClassNameFromAlign:t.getPopupClassNameFromAlign},Z,{stretch:y,getRootDomNode:t.getRootDomNode,style:d,mask:p,zIndex:m,transitionName:c,maskAnimation:f,maskTransitionName:h,maskMotion:g,ref:t.popupRef,motion:s,mobile:x,forceRender:w,onClick:k}),"function"===typeof v?v():v)},t.attachParent=function(e){p.Z.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,a=r.getDocument,o=t.getRootDomNode();i?(o||0===i.length)&&(n=i(o)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=(0,p.Z)((function(){t.attachParent(e)}))},t.getContainer=function(){if(!t.portalContainer){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.portalContainer=e}return t.attachParent(t.portalContainer),t.portalContainer},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},r="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:r,popupVisible:r},et.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return(0,o.Z)(v,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=(0,m.Z)(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=(0,m.Z)(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=(0,m.Z)(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=(0,m.Z)(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),p.Z.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,i=e.builtinPlacements;return t&&i?function(e,t,n){var i=e[t]||{};return(0,r.Z)((0,r.Z)({},i),n)}(i,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,a=n.forceRender,o=n.alignPoint,s=n.className,l=n.autoDestroy,c=u.Children.only(i),d={key:"trigger"};this.isContextMenuToShow()?d.onContextMenu=this.onContextMenu:d.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(d.onClick=this.onClick,d.onMouseDown=this.onMouseDown,d.onTouchStart=this.onTouchStart):(d.onClick=this.createTwoChains("onClick"),d.onMouseDown=this.createTwoChains("onMouseDown"),d.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(d.onMouseEnter=this.onMouseEnter,o&&(d.onMouseMove=this.onMouseMove)):d.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?d.onMouseLeave=this.onMouseLeave:d.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(d.onFocus=this.onFocus,d.onBlur=this.onBlur):(d.onFocus=this.createTwoChains("onFocus"),d.onBlur=this.createTwoChains("onBlur"));var p=b()(c&&c.props&&c.props.className,s);p&&(d.className=p);var f=(0,r.Z)({},d);(0,g.Yr)(c)&&(f.ref=(0,g.sQ)(this.triggerRef,c.ref));var h,m=u.cloneElement(c,f);return(t||this.popupRef.current||a)&&(h=u.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&l&&(h=null),u.createElement(Qe.Provider,{value:this.triggerContextValue},m,h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),v}(u.Component);return t.contextType=Qe,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:$e,getDocument:Je,onPopupVisibleChange:Xe,afterPopupVisibleChange:Xe,onPopupAlign:Xe,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(v.Z)},14903:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(47313),i=n(96214);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(a(e)):(0,i.isFragment)(e)&&e.props?n=n.concat(a(e.props.children,t)):n.push(e))})),n}},63921:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1168);function i(e,t,n,i){var a=r.unstable_batchedUpdates?function(e){r.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,a,i),{remove:function(){e.removeEventListener&&e.removeEventListener(t,a,i)}}}},73233:function(e,t,n){"use strict";function r(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}n.d(t,{Z:function(){return r}})},47882:function(e,t,n){"use strict";function r(e,t){return!!e&&e.contains(t)}n.d(t,{Z:function(){return r}})},247:function(e,t,n){"use strict";n.d(t,{g1:function(){return r},os:function(){return i}});function r(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}function i(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}},53879:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1168);function i(e){return e instanceof HTMLElement?e:r.findDOMNode(e)}},52221:function(e,t,n){"use strict";n.d(t,{tS:function(){return o}});var r=n(93433),i=n(32330);function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,i.Z)(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),a=e.getAttribute("tabindex"),o=Number(a),s=null;return a&&!Number.isNaN(o)?s=o:r&&null===s&&(s=0),r&&e.disabled&&(s=null),null!==s&&(s>=0||t&&s<0)}return!1}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.Z)(e.querySelectorAll("*")).filter((function(e){return a(e,t)}));return a(e,t)&&n.unshift(e),n}},32330:function(e,t){"use strict";t.Z=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1}},49242:function(e,t){"use strict";var n={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=n.F1&&t<=n.F12)return!1;switch(t){case n.ALT:case n.CAPS_LOCK:case n.CONTEXT_MENU:case n.CTRL:case n.DOWN:case n.END:case n.ESC:case n.HOME:case n.INSERT:case n.LEFT:case n.MAC_FF_META:case n.META:case n.NUMLOCK:case n.NUM_CENTER:case n.PAGE_DOWN:case n.PAGE_UP:case n.PAUSE:case n.PRINT_SCREEN:case n.RIGHT:case n.SHIFT:case n.UP:case n.WIN_KEY:case n.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=n.ZERO&&e<=n.NINE)return!0;if(e>=n.NUM_ZERO&&e<=n.NUM_MULTIPLY)return!0;if(e>=n.A&&e<=n.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case n.SPACE:case n.QUESTION_MARK:case n.NUM_PLUS:case n.NUM_MINUS:case n.NUM_PERIOD:case n.NUM_DIVISION:case n.SEMICOLON:case n.DASH:case n.EQUALS:case n.COMMA:case n.PERIOD:case n.SLASH:case n.APOSTROPHE:case n.SINGLE_QUOTE:case n.OPEN_SQUARE_BRACKET:case n.BACKSLASH:case n.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};t.Z=n},80024:function(e,t,n){"use strict";var r=n(47313),i=n(1168),a=n(73233),o=(0,r.forwardRef)((function(e,t){var n=e.didUpdate,o=e.getContainer,s=e.children,l=(0,r.useRef)(),c=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{}}));var u=(0,r.useRef)(!1);return!u.current&&(0,a.Z)()&&(c.current=o(),l.current=c.current.parentNode,u.current=!0),(0,r.useEffect)((function(){null===n||void 0===n||n(e)})),(0,r.useEffect)((function(){return null===c.current.parentNode&&null!==l.current&&l.current.appendChild(c.current),function(){var e,t;null===(e=c.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(c.current)}}),[]),c.current?i.createPortal(s,c.current):null}));t.Z=o},68099:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(15671),i=n(43144),a=n(60136),o=n(27277),s=n(71002),l=n(47313),c=n(95557),u=n(80024),d=n(73233),p=n(42386);var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,r=void 0===n?document.body:n,i={},a=Object.keys(e);return a.forEach((function(e){i[e]=r.style[e]})),a.forEach((function(t){r.style[t]=e[t]})),i};var h={},g=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),r=document.body.className;if(e){if(!n.test(r))return;return f(h),h={},void(document.body.className=r.replace(n,"").trim())}var i=(0,p.Z)();if(i&&(h=f({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var a="".concat(r," ").concat(t);document.body.className=a.trim()}}},m=n(93433),v=[],y="ant-scrolling-effect",b=new RegExp("".concat(y),"g"),x=0,w=new Map,k=(0,i.Z)((function e(t){var n=this;(0,r.Z)(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=v.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!v.some((function(e){return e.target===n.lockTarget})))if(v.some((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))v=[].concat((0,m.Z)(v),[{target:n.lockTarget,options:n.options}]);else{var t=0,r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&(t=(0,p.Z)());var i=r.className;if(0===v.filter((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&w.set(r,f({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),!b.test(i)){var a="".concat(i," ").concat(y);r.className=a.trim()}v=[].concat((0,m.Z)(v),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=v.find((function(e){return e.target===n.lockTarget}));if(v=v.filter((function(e){return e.target!==n.lockTarget})),t&&!v.some((function(e){var n,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,i=r.className;b.test(i)&&(f(w.get(r),{element:r}),w.delete(r),r.className=r.className.replace(b,"").trim())}},this.lockTarget=x++,this.options=t})),_=0,C=(0,d.Z)();var j={},S=function(e){if(!C)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===(0,s.Z)(e)&&e instanceof window.HTMLElement)return e}return document.body},Z=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).container=void 0,i.componentRef=l.createRef(),i.rafId=void 0,i.scrollLocker=void 0,i.renderComponent=void 0,i.updateScrollLocker=function(e){var t=(e||{}).visible,n=i.props,r=n.getContainer,a=n.visible;a&&a!==t&&C&&S(r)!==i.scrollLocker.getContainer()&&i.scrollLocker.reLock({container:S(r)})},i.updateOpenCount=function(e){var t=e||{},n=t.visible,r=t.getContainer,a=i.props,o=a.visible,s=a.getContainer;o!==n&&C&&S(s)===document.body&&(o&&!n?_+=1:e&&(_-=1)),("function"===typeof s&&"function"===typeof r?s.toString()!==r.toString():s!==r)&&i.removeCurrentContainer()},i.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||i.container&&!i.container.parentNode){var t=S(i.props.getContainer);return!!t&&(t.appendChild(i.container),!0)}return!0},i.getContainer=function(){return C?(i.container||(i.container=document.createElement("div"),i.attachToParent(!0)),i.setWrapperClassName(),i.container):null},i.setWrapperClassName=function(){var e=i.props.wrapperClassName;i.container&&e&&e!==i.container.className&&(i.container.className=e)},i.removeCurrentContainer=function(){var e,t;null===(e=i.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(i.container)},i.switchScrollingEffect=function(){1!==_||Object.keys(j).length?_||(f(j),j={},g(!0)):(g(),j=f({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},i.scrollLocker=new k({container:S(e.getContainer)}),i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=(0,c.Z)((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;C&&S(n)===document.body&&(_=t&&_?_-1:_),this.removeCurrentContainer(),c.Z.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,r=e.visible,i=null,a={getOpenCount:function(){return _},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||r||this.componentRef.current)&&(i=l.createElement(u.Z,{getContainer:this.getContainer,ref:this.componentRef},t(a))),i}}]),n}(l.Component),N=Z},42386:function(e,t,n){"use strict";var r;function i(e){if("undefined"===typeof document)return 0;if(e||void 0===r){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),i=n.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var a=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;a===o&&(o=n.clientWidth),document.body.removeChild(n),r=a-o}return r}function a(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?i():n}function o(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,r=t.height;return{width:a(n),height:a(r)}}n.d(t,{Z:function(){return i},o:function(){return o}})},29978:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(47313);function i(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}},72846:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(47313),i=(0,n(73233).Z)()?r.useLayoutEffect:r.useEffect;t.Z=i;var a=function(e,t){var n=r.useRef(!0);i((function(){if(!n.current)return e()}),t),i((function(){return n.current=!1,function(){n.current=!0}}),[])}},40727:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(47313);function i(e,t,n){var i=r.useRef({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}},10288:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r,i=n(29439),a=n(47313),o=n(29978),s=n(72846),l=n(51114);function c(e){return void 0!==e}function u(e,t){var n=t||{},u=n.defaultValue,d=n.value,p=n.onChange,f=n.postState,h=(0,l.Z)((function(){var t,n=void 0;return c(d)?(n=d,t=r.PROP):c(u)?(n="function"===typeof u?u():u,t=r.PROP):(n="function"===typeof e?e():e,t=r.INNER),[n,t,n]})),g=(0,i.Z)(h,2),m=g[0],v=g[1],y=c(d)?d:m[0],b=f?f(y):y;(0,s.o)((function(){v((function(e){var t=(0,i.Z)(e,1)[0];return[d,r.PROP,t]}))}),[d]);var x=a.useRef(),w=(0,o.Z)((function(e,t){v((function(t){var n=(0,i.Z)(t,3),a=n[0],o=n[1],s=n[2],l="function"===typeof e?e(a):e;if(l===a)return t;var c=o===r.INNER&&x.current!==s?s:a;return[l,r.INNER,c]}),t)})),k=(0,o.Z)(p);return(0,s.Z)((function(){var e=(0,i.Z)(m,3),t=e[0],n=e[1],a=e[2];t!==a&&n===r.INNER&&(k(t,a),x.current=a)}),[m]),[b,w]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(r||(r={}))},51114:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(29439),i=n(47313);function a(e){var t=i.useRef(!1),n=i.useState(e),a=(0,r.Z)(n,2),o=a[0],s=a[1];return i.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[o,function(e,n){n&&t.current||s(e)}]}},64394:function(e,t){"use strict";t.Z=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))}},205:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1413);function i(e,t){var n=(0,r.Z)({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}},19990:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(1413),i="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),a="aria-",o="data-";function s(e,t){return 0===e.indexOf(t)}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:(0,r.Z)({},n);var l={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||s(n,a))||t.data&&s(n,o)||t.attr&&i.includes(n))&&(l[n]=e[n])})),l}},95557:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=function(e){return+setTimeout(e,16)},i=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(r=function(e){return window.requestAnimationFrame(e)},i=function(e){return window.cancelAnimationFrame(e)});var a=0,o=new Map;function s(e){o.delete(e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=a+=1;function i(t){if(0===t)s(n),e();else{var a=r((function(){i(t-1)}));o.set(n,a)}}return i(t),n}l.cancel=function(e){var t=o.get(e);return s(t),i(t)}},16945:function(e,t,n){"use strict";n.d(t,{Yr:function(){return c},mH:function(){return o},sQ:function(){return s},x1:function(){return l}});var r=n(71002),i=n(96214),a=n(40727);function o(e,t){"function"===typeof e?e(t):"object"===(0,r.Z)(e)&&e&&"current"in e&&(e.current=t)}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){o(t,e)}))}}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.Z)((function(){return s.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}function c(e){var t,n,r=(0,i.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}},48240:function(e,t,n){"use strict";n.d(t,{Kp:function(){return i}});var r={};function i(e,t){0}function a(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}t.ZP=function(e,t){a(i,e,t)}},72899:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return i.default.Children.forEach(t,(function(t){(void 0!==t&&null!==t||n.keepEmpty)&&(Array.isArray(t)?r=r.concat(e(t)):(0,a.isFragment)(t)&&t.props?r=r.concat(e(t.props.children,n)):r.push(t))})),r};var i=r(n(47313)),a=n(96214)},58166:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var a=i.default.unstable_batchedUpdates?function(e){i.default.unstable_batchedUpdates(n,e)}:n;e.addEventListener&&e.addEventListener(t,a,r);return{remove:function(){e.removeEventListener&&e.removeEventListener(t,a,r)}}};var i=r(n(1168))},27065:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},36468:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t){var n=arguments.length,r=a(e);return t=i[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,1===n?r:o(e,t,r[t]||e.style[t])},t.getClientSize=function(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}},t.getDocSize=function(){var e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:e,height:t}},t.getOffset=function(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}},t.getOuterHeight=function(e){if(e===document.body)return window.innerHeight||document.documentElement.clientHeight;return e.offsetHeight},t.getOuterWidth=function(e){if(e===document.body)return document.documentElement.clientWidth;return e.offsetWidth},t.getScroll=function(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}},t.set=function e(t,r,o){var s=arguments.length;if(r=i[r]?"cssFloat"in t.style?"cssFloat":"styleFloat":r,3===s)return"number"===typeof o&&n.test(r)&&(o="".concat(o,"px")),t.style[r]=o,o;for(var l in r)r.hasOwnProperty(l)&&e(t,l,r[l]);return a(t)};var n=/margin|padding|width|height|max|min|offset/,r={left:!0,top:!0},i={cssFloat:1,styleFloat:1,float:1};function a(e){return 1===e.nodeType?e.ownerDocument.defaultView.getComputedStyle(e,null):{}}function o(e,t,i){if(t=t.toLowerCase(),"auto"===i){if("height"===t)return e.offsetHeight;if("width"===t)return e.offsetWidth}return t in r||(r[t]=n.test(t)),r[t]?parseFloat(i)||0:i}},5824:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.injectCSS=l,t.removeCSS=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=u(e,n);null===r||void 0===r||null===(t=r.parentNode)||void 0===t||t.removeChild(r)},t.updateCSS=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=s(n);if(!c.has(r)){var i=l("",n),a=i.parentNode;c.set(r,a),a.removeChild(i)}var d=u(t,n);if(d){var p,f,h;if((null===(p=n.csp)||void 0===p?void 0:p.nonce)&&d.nonce!==(null===(f=n.csp)||void 0===f?void 0:f.nonce))d.nonce=null===(h=n.csp)||void 0===h?void 0:h.nonce;return d.innerHTML!==e&&(d.innerHTML=e),d}var g=l(e,n);return g.setAttribute(o(n),t),g};var i=r(n(27065)),a="rc-util-key";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):a}function s(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,i.default)())return null;var r,a=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(a.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);a.innerHTML=e;var o=s(n),l=o.firstChild;return n.prepend&&o.prepend?o.prepend(a):n.prepend&&l?o.insertBefore(a,l):o.appendChild(a),a}var c=new Map;function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s(t);return Array.from(c.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(o(t))===e}))}},9389:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1}},33538:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.isStyleSupport=function(e,t){if(!Array.isArray(e)&&void 0!==t)return function(e,t){if(!a(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t);return a(e)};var i=r(n(27065)),a=function(e){if((0,i.default)()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1}},83149:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=n.F1&&t<=n.F12)return!1;switch(t){case n.ALT:case n.CAPS_LOCK:case n.CONTEXT_MENU:case n.CTRL:case n.DOWN:case n.END:case n.ESC:case n.HOME:case n.INSERT:case n.LEFT:case n.MAC_FF_META:case n.META:case n.NUMLOCK:case n.NUM_CENTER:case n.PAGE_DOWN:case n.PAGE_UP:case n.PAUSE:case n.PRINT_SCREEN:case n.RIGHT:case n.SHIFT:case n.UP:case n.WIN_KEY:case n.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=n.ZERO&&e<=n.NINE)return!0;if(e>=n.NUM_ZERO&&e<=n.NUM_MULTIPLY)return!0;if(e>=n.A&&e<=n.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case n.SPACE:case n.QUESTION_MARK:case n.NUM_PLUS:case n.NUM_MINUS:case n.NUM_PERIOD:case n.NUM_DIVISION:case n.SEMICOLON:case n.DASH:case n.EQUALS:case n.COMMA:case n.PERIOD:case n.SLASH:case n.APOSTROPHE:case n.SINGLE_QUOTE:case n.OPEN_SQUARE_BRACKET:case n.BACKSLASH:case n.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},r=n;t.default=r},49948:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t._r=function(e,t){0},t._u=function(e){0},t.render=function(e,t){if(a)return void function(e,t){g(!0);var n=t[m]||a(t);g(!1),n.render(e),t[m]=n}(e,t);!function(e,t){f(e,t)}(e,t)},t.unmount=function(e){return x.apply(this,arguments)};var a,o=i(n(17061)),s=i(n(17156)),l=i(n(18698)),c=i(n(42122)),u=r(n(1168)),d=(0,c.default)({},u),p=d.version,f=d.render,h=d.unmountComponentAtNode;try{Number((p||"").split(".")[0])>=18&&(a=d.createRoot)}catch(w){}function g(e){var t=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===(0,l.default)(t)&&(t.usingClientEntryPoint=e)}var m="__rc_react_root__";function v(e){return y.apply(this,arguments)}function y(){return(y=(0,s.default)((0,o.default)().mark((function e(t){return(0,o.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[m])||void 0===e||e.unmount(),delete t[m]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){h(e)}function x(){return(x=(0,s.default)((0,o.default)().mark((function e(t){return(0,o.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=2;break}return e.abrupt("return",v(t));case 2:b(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},30474:function(e,t){"use strict";var n;function r(e){if("undefined"===typeof document)return 0;if(e||void 0===n){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var r=document.createElement("div"),i=r.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",r.appendChild(t),document.body.appendChild(r);var a=t.offsetWidth;r.style.overflow="scroll";var o=t.offsetWidth;a===o&&(o=r.clientWidth),document.body.removeChild(r),n=a-o}return n}function i(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?r():n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.getTargetScrollBarSize=function(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,r=t.height;return{width:i(n),height:i(r)}}},31961:function(e,t,n){"use strict";var r=n(75263);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=i.useRef();t.current=e;var n=i.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n};var i=r(n(47313))},99516:function(e,t,n){"use strict";var r=n(64836),i=n(75263);Object.defineProperty(t,"__esModule",{value:!0}),t.useLayoutUpdateEffect=t.default=void 0;var a=i(n(47313)),o=(0,r(n(27065)).default)()?a.useLayoutEffect:a.useEffect,s=o;t.default=s;t.useLayoutUpdateEffect=function(e,t){var n=a.useRef(!0);o((function(){if(!n.current)return e()}),t),o((function(){return n.current=!1,function(){n.current=!0}}),[])}},57578:function(e,t,n){"use strict";var r=n(75263);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=i.useRef({});"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t);return r.current.value};var i=r(n(47313))},6492:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t||{},r=n.defaultValue,i=n.value,p=n.onChange,f=n.postState,h=(0,u.default)((function(){var t,n=void 0;return d(i)?(n=i,t=a.PROP):d(r)?(n="function"===typeof r?r():r,t=a.PROP):(n="function"===typeof e?e():e,t=a.INNER),[n,t,n]})),g=(0,o.default)(h,2),m=g[0],v=g[1],y=d(i)?i:m[0],b=f?f(y):y;(0,c.useLayoutUpdateEffect)((function(){v((function(e){var t=(0,o.default)(e,1)[0];return[i,a.PROP,t]}))}),[i]);var x=s.useRef(),w=(0,l.default)((function(e,t){v((function(t){var n=(0,o.default)(t,3),r=n[0],i=n[1],s=n[2],l="function"===typeof e?e(r):e;if(l===r)return t;var c=i===a.INNER&&x.current!==s?s:r;return[l,a.INNER,c]}),t)})),k=(0,l.default)(p);return(0,c.default)((function(){var e=(0,o.default)(m,3),t=e[0],n=e[1],r=e[2];t!==r&&n===a.INNER&&(k(t,r),x.current=r)}),[m]),[b,w]};var a,o=i(n(27424)),s=r(n(47313)),l=i(n(31961)),c=r(n(99516)),u=i(n(41993));function d(e){return void 0!==e}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(a||(a={}))},41993:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.useRef(!1),n=o.useState(e),r=(0,a.default)(n,2),i=r[0],s=r[1];return o.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[i,function(e,n){if(n&&t.current)return;s(e)}]};var a=i(n(27424)),o=r(n(47313))},26796:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)({},e);Array.isArray(t)&&t.forEach((function(e){delete n[e]}));return n};var i=r(n(42122))},91077:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:(0,i.default)({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||l(n,o))||t.data&&l(n,s)||t.attr&&a.includes(n))&&(r[n]=e[n])})),r};var i=r(n(42122)),a="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),o="aria-",s="data-";function l(e,t){return 0===e.indexOf(t)}},74696:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=function(e){return+setTimeout(e,16)},r=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(n=function(e){return window.requestAnimationFrame(e)},r=function(e){return window.cancelAnimationFrame(e)});var i=0,a=new Map;function o(e){a.delete(e)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=i+=1;function s(t){if(0===t)o(r),e();else{var i=n((function(){s(t-1)}));a.set(r,i)}}return s(t),r}s.cancel=function(e){var t=a.get(e);return o(t),r(t)}},81170:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.composeRef=l,t.fillRef=s,t.supportRef=function(e){var t,n,r=(0,a.isMemo)(e)?e.type.type:e.type;if("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))return!1;if("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))return!1;return!0},t.useComposeRef=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)((function(){return l.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))};var i=r(n(18698)),a=n(96214),o=r(n(57578));function s(e,t){"function"===typeof e?e(t):"object"===(0,i.default)(e)&&e&&"current"in e&&(e.current=t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){s(t,e)}))}}},64287:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.call=a,t.default=void 0,t.note=i,t.noteOnce=function(e,t){a(i,e,t)},t.resetWarned=function(){n={}},t.warning=r,t.warningOnce=o;var n={};function r(e,t){0}function i(e,t){0}function a(e,t,r){t||n[r]||(e(!1,r),n[r]=!0)}function o(e,t){a(r,e,t)}var s=o;t.default=s},29503:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r=n(47313),i=n(46123),a=n.n(i),o=n(25172);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=r.forwardRef((function(e,t){var n=e.height,i=e.offset,s=e.children,u=e.prefixCls,d=e.onInnerResize,p={},f={display:"flex",flexDirection:"column"};return void 0!==i&&(p={height:n,position:"relative",overflow:"hidden"},f=l(l({},f),{},{transform:"translateY(".concat(i,"px)"),position:"absolute",left:0,right:0,top:0})),r.createElement("div",{style:p},r.createElement(o.default,{onResize:function(e){e.offsetHeight&&d&&d()}},r.createElement("div",{style:f,className:a()(c({},"".concat(u,"-holder-inner"),u)),ref:t},s)))}));u.displayName="Filler";var d=u,p=n(95557);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function w(e){return"touches"in e?e.touches[0].pageY:e.pageY}var k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(s,e);var t,n,i,o=y(s);function s(){var e;g(this,s);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=o.call.apply(o,[this].concat(n))).moveRaf=null,e.scrollbarRef=r.createRef(),e.thumbRef=r.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){var t;window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),null===(t=e.scrollbarRef.current)||void 0===t||t.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),p.Z.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:w(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,i=n.pageY,a=n.startTop,o=e.props.onScroll;if(p.Z.cancel(e.moveRaf),r){var s=a+(w(t)-i),l=e.getEnableScrollRange(),c=e.getEnableHeightRange(),u=c?s/c:0,d=Math.ceil(u*l);e.moveRaf=(0,p.Z)((function(){o(d)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return t=s,(n=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,i=this.props.prefixCls,o=this.getSpinHeight(),s=this.getTop(),l=this.showScroll(),c=l&&n;return r.createElement("div",{ref:this.scrollbarRef,className:a()("".concat(i,"-scrollbar"),h({},"".concat(i,"-scrollbar-show"),l)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:c?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},r.createElement("div",{ref:this.thumbRef,className:a()("".concat(i,"-scrollbar-thumb"),h({},"".concat(i,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:o,top:s,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&m(t.prototype,n),i&&m(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);function _(e){var t=e.children,n=e.setRef,i=r.useCallback((function(e){n(e)}),[]);return r.cloneElement(t,{ref:i})}var C=n(53879);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maps=void 0,this.maps=Object.create(null)}var t,n,r;return t=e,(n=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}])&&j(t.prototype,n),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n){var i=O(r.useState(e),2),a=i[0],o=i[1],s=O(r.useState(null),2),l=s[0],c=s[1];return r.useEffect((function(){var r=function(e,t,n){var r,i,a=e.length,o=t.length;if(0===a&&0===o)return null;a<o?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):s}for(var c=null,u=1!==Math.abs(a-o),d=0;d<i.length;d+=1){var p=l(r[d]);if(p!==l(i[d])){c=d,u=u||p!==l(i[d+1]);break}}return null===c?null:{index:c,multiple:u}}(a||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),c(e[r.index])),o(e)}),[e]),[l]}function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}var M="object"===("undefined"===typeof navigator?"undefined":P(navigator))&&/Firefox/i.test(navigator.userAgent),I=function(e,t){var n=(0,r.useRef)(!1),i=(0,r.useRef)(null);function a(){clearTimeout(i.current),n.current=!0,i.current=setTimeout((function(){n.current=!1}),50)}var o=(0,r.useRef)({top:e,bottom:t});return o.current.top=e,o.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e<0&&o.current.top||e>0&&o.current.bottom;return t&&r?(clearTimeout(i.current),n.current=!1):r&&!n.current||a(),!n.current&&r}};var D=n(72846);var L=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var W=[],q={overflowY:"auto",overflowAnchor:"none"};function K(e,t){var n=e.prefixCls,i=void 0===n?"rc-virtual-list":n,o=e.className,s=e.height,l=e.itemHeight,c=e.fullHeight,u=void 0===c||c,f=e.style,h=e.data,g=e.children,m=e.itemKey,v=e.virtual,y=e.component,b=void 0===y?"div":y,x=e.onScroll,w=e.onVisibleChange,j=H(e,L),N=!(!1===v||!s||!l),O=N&&h&&l*h.length>s,A=V((0,r.useState)(0),2),P=A[0],B=A[1],U=V((0,r.useState)(!1),2),K=U[0],Y=U[1],G=a()(i,o),Q=h||W,X=(0,r.useRef)(),$=(0,r.useRef)(),J=(0,r.useRef)(),ee=r.useCallback((function(e){return"function"===typeof m?m(e):null===e||void 0===e?void 0:e[m]}),[m]),te={getKey:ee};function ne(e){B((function(t){var n=function(e){var t=e;Number.isNaN(ye.current)||(t=Math.min(t,ye.current));return t=Math.max(t,0)}("function"===typeof e?e(t):e);return X.current.scrollTop=n,n}))}var re=(0,r.useRef)({start:0,end:Q.length}),ie=(0,r.useRef)(),ae=V(T(Q,ee),1)[0];ie.current=ae;var oe=function(e,t,n){var i=Z(r.useState(0),2),a=i[0],o=i[1],s=(0,r.useRef)(new Map),l=(0,r.useRef)(new S),c=(0,r.useRef)();function u(){p.Z.cancel(c.current)}function d(){u(),c.current=(0,p.Z)((function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=(0,C.Z)(e),r=n.offsetHeight;l.current.get(t)!==r&&l.current.set(t,n.offsetHeight)}})),o((function(e){return e+1}))}))}return(0,r.useEffect)((function(){return u}),[]),[function(r,i){var a=e(r),o=s.current.get(a);i?(s.current.set(a,i),d()):s.current.delete(a),!o!==!i&&(i?null===t||void 0===t||t(r):null===n||void 0===n||n(r))},d,l.current,a]}(ee,null,null),se=V(oe,4),le=se[0],ce=se[1],ue=se[2],de=se[3],pe=r.useMemo((function(){if(!N)return{scrollHeight:void 0,start:0,end:Q.length-1,offset:void 0};var e;if(!O)return{scrollHeight:(null===(e=$.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:Q.length-1,offset:void 0};for(var t,n,r,i=0,a=Q.length,o=0;o<a;o+=1){var c=Q[o],u=ee(c),d=ue.get(u),p=i+(void 0===d?l:d);p>=P&&void 0===t&&(t=o,n=i),p>P+s&&void 0===r&&(r=o),i=p}return void 0===t&&(t=0,n=0),void 0===r&&(r=Q.length-1),{scrollHeight:i,start:t,end:r=Math.min(r+1,Q.length),offset:n}}),[O,N,P,Q,de,s]),fe=pe.scrollHeight,he=pe.start,ge=pe.end,me=pe.offset;re.current.start=he,re.current.end=ge;var ve=fe-s,ye=(0,r.useRef)(ve);ye.current=ve;var be=P<=0,xe=P>=ve,we=I(be,xe);var ke=function(e,t,n,i){var a=(0,r.useRef)(0),o=(0,r.useRef)(null),s=(0,r.useRef)(null),l=(0,r.useRef)(!1),c=I(t,n);return[function(t){if(e){p.Z.cancel(o.current);var n=t.deltaY;a.current+=n,s.current=n,c(n)||(M||t.preventDefault(),o.current=(0,p.Z)((function(){var e=l.current?10:1;i(a.current*e),a.current=0})))}},function(t){e&&(l.current=t.detail===s.current)}]}(N,be,xe,(function(e){ne((function(t){return t+e}))})),_e=V(ke,2),Ce=_e[0],je=_e[1];!function(e,t,n){var i,a=(0,r.useRef)(!1),o=(0,r.useRef)(0),s=(0,r.useRef)(null),l=(0,r.useRef)(null),c=function(e){if(a.current){var t=Math.ceil(e.touches[0].pageY),r=o.current-t;o.current=t,n(r)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(l.current)}),16)}},u=function(){a.current=!1,i()},d=function(e){i(),1!==e.touches.length||a.current||(a.current=!0,o.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",u))};i=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},(0,D.Z)((function(){return e&&t.current.addEventListener("touchstart",d),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",d),i(),clearInterval(l.current)}}),[e])}(N,X,(function(e,t){return!we(e,t)&&(Ce({preventDefault:function(){},deltaY:e}),!0)})),(0,D.Z)((function(){function e(e){N&&e.preventDefault()}return X.current.addEventListener("wheel",Ce),X.current.addEventListener("DOMMouseScroll",je),X.current.addEventListener("MozMousePixelScroll",e),function(){X.current&&(X.current.removeEventListener("wheel",Ce),X.current.removeEventListener("DOMMouseScroll",je),X.current.removeEventListener("MozMousePixelScroll",e))}}),[N]);var Se=function(e,t,n,i,a,o,s,l){var c=r.useRef();return function(r){if(null!==r&&void 0!==r){if(p.Z.cancel(c.current),"number"===typeof r)s(r);else if(r&&"object"===E(r)){var u,d=r.align;u="index"in r?r.index:t.findIndex((function(e){return a(e)===r.key}));var f=r.offset,h=void 0===f?0:f;!function r(l,f){if(!(l<0)&&e.current){var g=e.current.clientHeight,m=!1,v=f;if(g){for(var y=f||d,b=0,x=0,w=0,k=Math.min(t.length,u),_=0;_<=k;_+=1){var C=a(t[_]);x=b;var j=n.get(C);b=w=x+(void 0===j?i:j),_===u&&void 0===j&&(m=!0)}var S=null;switch(y){case"top":S=x-h;break;case"bottom":S=w-g+h;break;default:var Z=e.current.scrollTop;x<Z?v="top":w>Z+g&&(v="bottom")}null!==S&&S!==e.current.scrollTop&&s(S)}c.current=(0,p.Z)((function(){m&&o(),r(l-1,v)}))}}(3)}}else l()}}(X,Q,ue,l,ee,ce,ne,(function(){var e;null===(e=J.current)||void 0===e||e.delayHidden()}));r.useImperativeHandle(t,(function(){return{scrollTo:Se}})),(0,D.Z)((function(){if(w){var e=Q.slice(he,ge+1);w(e,Q)}}),[he,ge,Q]);var Ze=function(e,t,n,i,a,o){var s=o.getKey;return e.slice(t,n+1).map((function(e,n){var o=a(e,t+n,{}),l=s(e);return r.createElement(_,{key:l,setRef:function(t){return i(e,t)}},o)}))}(Q,he,ge,le,g,te),Ne=null;return s&&(Ne=F(z({},u?"height":"maxHeight",s),q),N&&(Ne.overflowY="hidden",K&&(Ne.pointerEvents="none"))),r.createElement("div",R({style:F(F({},f),{},{position:"relative"}),className:G},j),r.createElement(b,{className:"".concat(i,"-holder"),style:Ne,ref:X,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==P&&ne(t),null===x||void 0===x||x(e)}},r.createElement(d,{prefixCls:i,height:fe,offset:me,onInnerResize:ce,ref:$},Ze)),N&&r.createElement(k,{ref:J,prefixCls:i,scrollTop:P,height:s,scrollHeight:fe,count:Q.length,onScroll:function(e){ne(e)},onStartMove:function(){Y(!0)},onStopMove:function(){Y(!1)}}))}var Y=r.forwardRef(K);Y.displayName="List";var G=Y},21624:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case m:case g:case l:return e;default:return t}}case i:return t}}}function k(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return k(e)||w(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===f||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},t.typeOf=w},96214:function(e,t,n){"use strict";e.exports=n(21624)},65886:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==s){var l=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return o}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},80365:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0});function a(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var o={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(e){o[e]=new a(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=r(e,2),n=t[0],i=t[1];o[n]=new a(n,1,!1,i,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){o[e]=new a(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){o[e]=new a(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(e){o[e]=new a(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){o[e]=new a(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){o[e]=new a(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){o[e]=new a(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){o[e]=new a(e,5,!1,e.toLowerCase(),null,!1,!1)}));var s=/[\-\:]([a-z])/g,l=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(e){var t=e.replace(s,l);o[t]=new a(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(e){var t=e.replace(s,l);o[t]=new a(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(s,l);o[t]=new a(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){o[e]=new a(e,1,!1,e.toLowerCase(),null,!1,!1)}));o.xlinkHref=new a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){o[e]=new a(e,1,!1,e.toLowerCase(),null,!0,!0)}));var c=n(58402),u=c.CAMELCASE,d=c.SAME,p=c.possibleStandardNames,f=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),h=Object.keys(p).reduce((function(e,t){var n=p[t];return n===d?e[t]=t:n===u?e[t.toLowerCase()]=t:e[t]=n,e}),{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return o.hasOwnProperty(e)?o[e]:null},t.isCustomAttribute=f,t.possibleStandardNames=h},58402:function(e,t){t.SAME=0;t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},16:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=o(n(47313)),l=o(n(1168)),c=o(n(1905)),u=o(n(12350)),d=function(e){function t(t){var n=e.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(e,t,r,i){var a,o,s,l;"text-change"===e?null===(o=(a=n).onEditorChangeText)||void 0===o||o.call(a,n.editor.root.innerHTML,t,i,n.unprivilegedEditor):"selection-change"===e&&(null===(l=(s=n).onEditorChangeSelection)||void 0===l||l.call(s,t,i,n.unprivilegedEditor))};var r=n.isControlled()?t.value:t.defaultValue;return n.value=null!==r&&void 0!==r?r:"",n}return r(t,e),t.prototype.validateProps=function(e){var t;if(s.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(s.default.Children.count(e.children)&&"textarea"===(null===(t=s.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var n,r=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var i=this.getEditorContents(),o=null!==(n=e.value)&&void 0!==n?n:"";this.isEqualValue(o,i)||this.setEditorContents(this.editor,o)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),a(this.cleanProps,this.dirtyProps).some((function(t){return!c.default(e[t],r.props[t])}))},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some((function(n){return!c.default(e[n],t.props[n])}))},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.editor&&this.shouldComponentRegenerate(e)){var r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var a=this.regenerationSnapshot,o=(r=a.delta,a.selection);delete this.regenerationSnapshot,this.instantiateEditor();var s=this.editor;s.setContents(r),p((function(){return n.setEditorSelection(s,o)}))}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var n=new u.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(n,t.tabIndex),this.hookEditor(n),n},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var n=this;this.value=t;var r=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),p((function(){return n.setEditorSelection(e,r)}))},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var n,r;(null===(r=null===(n=e)||void 0===n?void 0:n.scroll)||void 0===r?void 0:r.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=l.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,n=t.children,r=t.preserveWhitespace,a={key:this.state.generation,ref:function(t){e.editingArea=t}};return s.default.Children.count(n)?s.default.cloneElement(s.default.Children.only(n),a):r?s.default.createElement("pre",i({},a)):s.default.createElement("div",i({},a))},t.prototype.render=function(){var e;return s.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,n,r){var i,a;if(this.editor){var o=this.isDelta(this.value)?r.getContents():r.getHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=o,null===(a=(i=this.props).onChange)||void 0===a||a.call(i,e,t,n,r))}},t.prototype.onEditorChangeSelection=function(e,t,n){var r,i,a,o,s,l;if(this.editor){var u=this.getEditorSelection(),d=!u&&e,p=u&&!e;c.default(e,u)||(this.selection=e,null===(i=(r=this.props).onChangeSelection)||void 0===i||i.call(r,e,t,n),d?null===(o=(a=this.props).onFocus)||void 0===o||o.call(a,e,t,n):p&&(null===(l=(s=this.props).onBlur)||void 0===l||l.call(s,u,t,n)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=u.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(s.default.Component);function p(e){Promise.resolve().then(e)}e.exports=d},15230:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case p:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case g:case h:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return v(e)===c}},86440:function(e,t,n){"use strict";e.exports=n(15230)},27834:function(e,t,n){"use strict";n.d(t,{ZP:function(){return J}});var r=n(47313),i=n(1168),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};var c=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},u="object"==typeof l&&l&&l.Object===Object&&l,d="object"==typeof self&&self&&self.Object===Object&&self,p=u||d||Function("return this")(),f=p,h=function(){return f.Date.now()},g=/\s/;var m=function(e){for(var t=e.length;t--&&g.test(e.charAt(t)););return t},v=/^\s+/;var y=function(e){return e?e.slice(0,m(e)+1).replace(v,""):e},b=p.Symbol,x=b,w=Object.prototype,k=w.hasOwnProperty,_=w.toString,C=x?x.toStringTag:void 0;var j=function(e){var t=k.call(e,C),n=e[C];try{e[C]=void 0;var r=!0}catch(a){}var i=_.call(e);return r&&(t?e[C]=n:delete e[C]),i},S=Object.prototype.toString;var Z=j,N=function(e){return S.call(e)},E=b?b.toStringTag:void 0;var O=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?Z(e):N(e)},A=function(e){return null!=e&&"object"==typeof e};var T=y,P=c,M=function(e){return"symbol"==typeof e||A(e)&&"[object Symbol]"==O(e)},I=/^[-+]0x[0-9a-f]+$/i,D=/^0b[01]+$/i,L=/^0o[0-7]+$/i,R=parseInt;var B=c,F=h,z=function(e){if("number"==typeof e)return e;if(M(e))return NaN;if(P(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=P(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=T(e);var n=D.test(e);return n||L.test(e)?R(e.slice(2),n?2:8):I.test(e)?NaN:+e},V=Math.max,U=Math.min;var H=function(e,t,n){var r,i,a,o,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function h(e){return c=e,s=setTimeout(m,t),u?f(e):o}function g(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=a}function m(){var e=F();if(g(e))return v(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?U(n,a-(e-c)):n}(e))}function v(e){return s=void 0,p&&r?f(e):(r=i=void 0,o)}function y(){var e=F(),n=g(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return h(l);if(d)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=z(t)||0,B(n)&&(u=!!n.leading,a=(d="maxWait"in n)?V(z(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?o:v(F())},y},W=H,q=c;var K=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return q(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),W(e,t,{leading:r,maxWait:t,trailing:i})},Y=function(e,t,n,r){switch(t){case"debounce":return H(e,n,r);case"throttle":return K(e,n,r);default:return e}},G=function(e){return"function"===typeof e},Q=function(){return"undefined"===typeof window},X=function(e){return e instanceof Element||e instanceof HTMLDocument},$=function(e,t,n,r){return function(i){var a=i.width,o=i.height;t((function(t){return t.width===a&&t.height===o||t.width===a&&!r||t.height===o&&!n?t:(e&&G(e)&&e(a,o),{width:a,height:o})}))}},J=function(e){function t(t){var n=e.call(this,t)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var e=n.props,t=e.targetRef,r=e.observerOptions;if(!Q()){t&&t.current&&(n.targetRef.current=t.current);var i=n.getElement();i&&(n.observableElement&&n.observableElement===i||(n.observableElement=i,n.resizeObserver.observe(i,r)))}},n.getElement=function(){var e=n.props,t=e.querySelector,r=e.targetDomEl;if(Q())return null;if(t)return document.querySelector(t);if(r&&X(r))return r;if(n.targetRef&&X(n.targetRef.current))return n.targetRef.current;var a=(0,i.findDOMNode)(n);if(!a)return null;switch(n.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return a;default:return a.parentElement}},n.createResizeHandler=function(e){var t=n.props,r=t.handleWidth,i=void 0===r||r,a=t.handleHeight,o=void 0===a||a,s=t.onResize;if(i||o){var l=$(s,n.setState.bind(n),i,o);e.forEach((function(e){var t=e&&e.contentRect||{},r=t.width,i=t.height;!n.skipOnMount&&!Q()&&l({width:r,height:i}),n.skipOnMount=!1}))}},n.getRenderType=function(){var e=n.props,t=e.render,i=e.children;return G(t)?"renderProp":G(i)?"childFunction":(0,r.isValidElement)(i)?"child":Array.isArray(i)?"childArray":"parent"};var a=t.skipOnMount,o=t.refreshMode,s=t.refreshRate,l=void 0===s?1e3:s,c=t.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=a,n.targetRef=(0,r.createRef)(),n.observableElement=null,Q()||(n.resizeHandler=Y(n.createResizeHandler,o,l,c),n.resizeObserver=new window.ResizeObserver(n.resizeHandler)),n}return o(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){Q()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e,t=this.props,n=t.render,i=t.children,a=t.nodeType,o=void 0===a?"div":a,l=this.state,c={width:l.width,height:l.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return n&&n(c);case"childFunction":return(e=i)(c);case"child":if((e=i).type&&"string"===typeof e.type){var u=s(c,["targetRef"]);return(0,r.cloneElement)(e,u)}return(0,r.cloneElement)(e,c);case"childArray":return(e=i).map((function(e){return!!e&&(0,r.cloneElement)(e,c)}));default:return r.createElement(o,null)}},t}(r.PureComponent);Q()?r.useEffect:r.useLayoutEffect},97890:function(e,t,n){"use strict";n.d(t,{AW:function(){return O},F0:function(){return A},TH:function(){return j},UO:function(){return Z},WU:function(){return N},Z5:function(){return T},oQ:function(){return _},s0:function(){return S}});var r=n(29439),i=n(91246),a=n(47313),o=(0,a.createContext)(null);var s=(0,a.createContext)(null);var l=(0,a.createContext)({outlet:null,matches:[]});function c(e,t){if(!e)throw new Error(t)}function u(e,t,n){void 0===n&&(n="/");var r=y(("string"===typeof t?(0,i.cP)(t):t).pathname||"/",n);if(null==r)return null;var a=d(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var o=null,s=0;null==o&&s<a.length;++s)o=g(a[s],r);return o}function d(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||c(!1),a.relativePath=a.relativePath.slice(r.length));var o=b([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&c(!1),d(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:h(o,e.index),routesMeta:s})})),t}var p=/^:\w+$/,f=function(e){return"*"===e};function h(e,t){var n=e.split("/"),r=n.length;return n.some(f)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!f(e)})).reduce((function(e,t){return e+(p.test(t)?3:""===t?1:10)}),r)}function g(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=m({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);var d=s.route;a.push({params:r,pathname:b([i,u.pathname]),pathnameBase:x(b([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=b([i,u.pathnameBase]))}return a}function m(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=(0,r.Z)(n,2),a=i[0],o=i[1],s=t.match(a);if(!s)return null;var l=s[0],c=l.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";c=l.slice(0,l.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(u[n]||""),e}),{}),pathname:l,pathnameBase:c,pattern:e}}function v(e,t,n){var r,a="string"===typeof e?(0,i.cP)(e):e,o=""===e||""===a.pathname?"/":a.pathname;if(null==o)r=n;else{var s=t.length-1;if(o.startsWith("..")){for(var l=o.split("/");".."===l[0];)l.shift(),s-=1;a.pathname=l.join("/")}r=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?(0,i.cP)(e):e,r=n.pathname,a=n.search,o=void 0===a?"":a,s=n.hash,l=void 0===s?"":s,c=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:c,search:w(o),hash:k(l)}}(a,r);return o&&"/"!==o&&o.endsWith("/")&&!c.pathname.endsWith("/")&&(c.pathname+="/"),c}function y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var b=function(e){return e.join("/").replace(/\/\/+/g,"/")},x=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},w=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},k=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function _(e){C()||c(!1);var t=(0,a.useContext)(o),n=t.basename,r=t.navigator,s=N(e),l=s.hash,u=s.pathname,d=s.search,p=u;if("/"!==n){var f=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?(0,i.cP)(e).pathname:e.pathname}(e),h=null!=f&&f.endsWith("/");p="/"===u?n+(h?"/":""):b([n,u])}return r.createHref({pathname:p,search:d,hash:l})}function C(){return null!=(0,a.useContext)(s)}function j(){return C()||c(!1),(0,a.useContext)(s).location}function S(){C()||c(!1);var e=(0,a.useContext)(o),t=e.basename,n=e.navigator,r=(0,a.useContext)(l).matches,i=j().pathname,s=JSON.stringify(r.map((function(e){return e.pathnameBase}))),u=(0,a.useRef)(!1);return(0,a.useEffect)((function(){u.current=!0})),(0,a.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var a=v(e,JSON.parse(s),i);"/"!==t&&(a.pathname=b([t,a.pathname])),(r.replace?n.replace:n.push)(a,r.state)}else n.go(e)}),[t,n,s,i])}function Z(){var e=(0,a.useContext)(l).matches,t=e[e.length-1];return t?t.params:{}}function N(e){var t=(0,a.useContext)(l).matches,n=j().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,a.useMemo)((function(){return v(e,JSON.parse(r),n)}),[e,r,n])}function E(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,i){return(0,a.createElement)(l.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})}),null)}function O(e){c(!1)}function A(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,l=void 0===r?null:r,u=e.location,d=e.navigationType,p=void 0===d?i.aU.Pop:d,f=e.navigator,h=e.static,g=void 0!==h&&h;C()&&c(!1);var m=x(n),v=(0,a.useMemo)((function(){return{basename:m,navigator:f,static:g}}),[m,f,g]);"string"===typeof u&&(u=(0,i.cP)(u));var b=u,w=b.pathname,k=void 0===w?"/":w,_=b.search,j=void 0===_?"":_,S=b.hash,Z=void 0===S?"":S,N=b.state,E=void 0===N?null:N,O=b.key,A=void 0===O?"default":O,T=(0,a.useMemo)((function(){var e=y(k,m);return null==e?null:{pathname:e,search:j,hash:Z,state:E,key:A}}),[m,k,j,Z,E,A]);return null==T?null:(0,a.createElement)(o.Provider,{value:v},(0,a.createElement)(s.Provider,{children:l,value:{location:T,navigationType:p}}))}function T(e){var t=e.children,n=e.location;return function(e,t){C()||c(!1);var n,r=(0,a.useContext)(l).matches,o=r[r.length-1],s=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/"),p=(o&&o.route,j());if(t){var f,h="string"===typeof t?(0,i.cP)(t):t;"/"===d||(null==(f=h.pathname)?void 0:f.startsWith(d))||c(!1),n=h}else n=p;var g=n.pathname||"/",m=u(e,{pathname:"/"===d?g:g.slice(d.length)||"/"});return E(m&&m.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:b([d,e.pathname]),pathnameBase:"/"===e.pathnameBase?d:b([d,e.pathnameBase])})})),r)}(P(t),n)}function P(e){var t=[];return a.Children.forEach(e,(function(e){if((0,a.isValidElement)(e))if(e.type!==a.Fragment){e.type!==O&&c(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=P(e.props.children)),t.push(n)}else t.push.apply(t,P(e.props.children))})),t}},77983:function(e,t,n){"use strict";n.d(t,{ZP:function(){return ke},bO:function(){return x}});var r=n(47313),i=n(75192),a=n.n(i),o=n(1831);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):requestAnimationFrame(r)};requestAnimationFrame(r)}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=c(r),a=i[0],o=i.slice(1);return"number"===typeof a?void s(n.bind(null,o),a):(n(a),void s(n.bind(null,o)))}"object"===l(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=["Webkit","Moz","O","ms"],m=["-webkit-","-moz-","-o-","-ms-"],v=["transform","transformOrigin","transition"],y=function(e){return e},b=function(e,t){return Object.keys(t).reduce((function(n,r){return f(f({},n),{},h({},r,e(r,t[r])))}),{})},x=function(e){return Object.keys(e).reduce((function(e,t){return f(f({},e),function(e,t){if(-1===v.indexOf(e))return h({},e,t);var n="transition"===e,r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),i=t;return g.reduce((function(e,a,o){return n&&(i=t.replace(/(transform|transform-origin)/gim,"".concat(m[o],"$1"))),f(f({},e),{},h({},a+r,i))}),{})}(t,e[t]))}),e)},w=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=1e-4,Z=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},N=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},E=function(e,t){return function(n){var r=Z(e,t);return N(r,n)}},O=function(e,t){return function(n){var r=Z(e,t),i=[].concat(_(r.map((function(e,t){return e*t})).slice(1)),[0]);return N(i,n)}},A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,a=1,o=1;break;case"ease":r=.25,i=.1,a=.25,o=1;break;case"ease-in":r=.42,i=0,a=1,o=1;break;case"ease-out":r=.42,i=0,a=.58,o=1;break;case"ease-in-out":r=0,i=0,a=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=k(l,4);r=c[0],i=c[1],a=c[2],o=c[3]}}[r,a,i,o].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u=E(r,a),d=E(i,o),p=O(r,a),f=function(e){return e>1?1:e<0?0:e},h=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=p(n);if(Math.abs(i-t)<S||a<S)return d(n);n=f(n-i/a)}return d(n)};return h.isStepper=!1,h},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,a=e.dt,o=void 0===a?17:a,s=function(e,t,r){var a=r+(-(e-t)*n-r*i)*o/1e3,s=r*o/1e3+e;return Math.abs(s-t)<S&&Math.abs(a)<S?[t,0]:[s,a]};return s.isStepper=!0,s.dt=o,s};function P(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(e,t,n){return e+(t-e)*n},z=function(e){return e.from!==e.to},V=function e(t,n,r){var i=b((function(e,n){if(z(n)){var r=L(t(n.from,n.to,n.velocity),2),i=r[0],a=r[1];return I(I({},n),{},{from:i,velocity:a})}return n}),n);return r<1?b((function(e,t){return z(t)?I(I({},t),{},{velocity:F(t.velocity,i[e].velocity,r),from:F(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)},U=function(e,t,n,r,i){var a,o,s,l,c=(a=e,o=t,[Object.keys(a),Object.keys(o)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return I(I({},n),{},D({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return I(I({},n),{},D({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),p=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var a=(r-s)/n.dt;d=V(n,d,a),i(I(I(I({},e),t),b((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(z).length&&(p=requestAnimationFrame(f))}:function(a){l||(l=a);var o=(a-l)/r,s=b((function(e,t){return F.apply(void 0,P(t).concat([n(o)]))}),u);if(i(I(I(I({},e),t),s)),o<1)p=requestAnimationFrame(f);else{var c=b((function(e,t){return F.apply(void 0,P(t).concat([n(1)]))}),u);i(I(I(I({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(p)}}};function H(e){return H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function W(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function q(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return $=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$(e,t)}function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var i=ne(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==H(t)&&"function"!==typeof t?te(e):t}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}var re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(s,e);var t,n,i,a=J(s);function s(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var r=(n=a.call(this,e,t)).props,i=r.isActive,o=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children;if(n.handleStyleChange=n.handleStyleChange.bind(te(n)),n.changeStyle=n.changeStyle.bind(te(n)),!i)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),ee(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},ee(n);n.state={style:o?Q({},o,l):l}}else n.state={style:{}};return n}return t=s,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,a=t.shouldReAnimate;if(r)if(n){if(!((0,o.deepEqual)(e.to,this.props.to)&&e.canBegin&&e.isActive)){var s=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var l=s||a?this.props.from:e.to;if(this.state&&this.state.style){var c={style:i?Q({},i,l):l};(i&&this.state.style[i]!==l||!i&&this.state.style!==l)&&this.setState(c)}this.runAnimation(G(G({},this.props),{},{from:l,begin:0}))}}else{var u={style:i?Q({},i,this.props.to):this.props.to};this.state&&this.state.style&&(i&&this.state.style[i]!==this.props.to||!i&&this.state.style!==this.props.to)&&this.setState(u)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,a=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=U(n,r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return A(r);case"spring":return T();default:if("cubic-bezier"===r.split("(")[0])return A(r)}return"function"===typeof r?r:null}(a),i,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,a=n[0],o=a.style,s=a.duration,l=void 0===s?0:s;return this.manager.start([i].concat(q(n.reduce((function(e,r,i){if(0===i)return e;var a=r.duration,o=r.easing,s=void 0===o?"ease":o,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,p=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(q(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:a,easing:s}),a]);var f=w(p,a,s),h=G(G(G({},d.style),l),{},{transition:f});return[].concat(q(e),[h,a,u]).filter(y)}),[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=d());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,a=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof c&&"spring"!==a)if(l.length>1)this.runStepAnimation(e);else{var p=r?Q({},r,i):i,f=w(Object.keys(p),n,a);u.start([o,t,G(G({},p),{},{transition:f}),n,s])}else this.runJSAnimation(e)}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration,e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,W(e,["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"])),a=r.Children.count(t),o=x(this.state.style);if("function"===typeof t)return t(o);if(!n||0===a)return t;var s=function(e){var t=e.props,n=t.style,a=void 0===n?{}:n,s=t.className;return(0,r.cloneElement)(e,G(G({},i),{},{style:G(G({},a),o),className:s}))};return 1===a?s(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,(function(e){return s(e)})))}}],n&&X(t.prototype,n),i&&X(t,i),s}(r.PureComponent);re.displayName="Animate",re.propTypes={from:a().oneOfType([a().object,a().string]),to:a().oneOfType([a().object,a().string]),attributeName:a().string,duration:a().number,begin:a().number,easing:a().oneOfType([a().string,a().func]),steps:a().arrayOf(a().shape({duration:a().number.isRequired,style:a().object.isRequired,easing:a().oneOfType([a().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),a().func]),properties:a().arrayOf("string"),onAnimationEnd:a().func})),children:a().oneOfType([a().node,a().func]),isActive:a().bool,canBegin:a().bool,onAnimationEnd:a().func,shouldReAnimate:a().bool,onAnimationStart:a().func,onAnimationReStart:a().func},re.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};var ie=re,ae=n(7558);function oe(e){return oe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}function le(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},he(e,t)}function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var i=ve(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return me(this,n)}}function me(e,t){return!t||"object"!==oe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}void 0===Number.isFinite&&(Number.isFinite=function(e){return"number"===typeof e&&isFinite(e)});var ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,n=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(n)?n:0},be=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(o,e);var t,n,i,a=ge(o);function o(){var e;pe(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={isActive:!1},e.handleEnter=function(t,n){var r=e.props,i=r.appearOptions,a=r.enterOptions;e.handleStyleActive(n?i:a)},e.handleExit=function(){e.handleStyleActive(e.props.leaveOptions)},e}return t=o,(n=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(ue(ue({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,n=e.enterOptions,r=e.leaveOptions;return ye(t)+ye(n)+ye(r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=(t.appearOptions,t.enterOptions,t.leaveOptions,le(t,["children","appearOptions","enterOptions","leaveOptions"]));return r.createElement(ae.Transition,se({},i,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return r.createElement(ie,e.state,r.Children.only(n))}))}}])&&fe(t.prototype,n),i&&fe(t,i),o}(r.Component);be.propTypes={appearOptions:a().object,enterOptions:a().object,leaveOptions:a().object,children:a().element};var xe=be;function we(e){var t=e.component,n=e.children,i=e.appear,a=e.enter,o=e.leave;return r.createElement(ae.TransitionGroup,{component:t},r.Children.map(n,(function(e,t){return r.createElement(xe,{appearOptions:i,enterOptions:a,leaveOptions:o,key:"child-".concat(t)},e)})))}we.propTypes={appear:a().object,enter:a().object,leave:a().object,children:a().oneOfType([a().array,a().element]),component:a().any},we.defaultProps={component:"span"};var ke=ie},94223:function(e,t,n){"use strict";var r=n(5631);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(94965));e.exports=t.default},94965:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},35106:function(e){"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},47528:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(75192));var r=s(n(94223)),i=s(n(35106)),a=s(n(47313)),o=s(n(14495));n(689);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,a=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),c(e,a),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,a=n.doneClassName;r&&u(e,r),i&&u(e,i),a&&u(e,a)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},i.render=function(){var e=l({},this.props);return delete e.classNames,a.default.createElement(o.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(a.default.Component);d.defaultProps={classNames:""},d.propTypes={};var p=d;t.default=p,e.exports=t.default},92285:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;o(n(75192));var r=o(n(47313)),i=n(1168),a=o(n(79881));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.handleLifecycle=function(e,t,n){var a,o=this.props.children,s=r.default.Children.toArray(o)[t];s.props[e]&&(a=s.props)[e].apply(a,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),o=r.default.Children.toArray(t),s=o[0],l=o[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(a.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(r.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},14495:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(75192)),i=s(n(47313)),a=s(n(1168)),o=n(65886);n(689);function s(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var c="exited";t.EXITED=c;var u="entering";t.ENTERING=u;var d="entered";t.ENTERED=d;var p="exiting";t.EXITING=p;var f=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,a=n.transitionGroup,o=a&&!a.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=c,r.appearStatus=u):i=d:i=t.unmountOnExit||t.mountOnEnter?l:c,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null},o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==d&&(t=u):n!==u&&n!==d||(t=p)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=a.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},o.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,a=this.getTimeouts(),o=i?a.appear:a.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:u},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},o.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var a=i.default.Children.only(n);return i.default.cloneElement(a,r)},r}(i.default.Component);function h(){}f.contextTypes={transitionGroup:r.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var g=(0,o.polyfill)(f);t.default=g},79881:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(75192)),i=s(n(47313)),a=n(65886),o=n(90549);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},a.componentDidMount=function(){this.appeared=!0,this.mounted=!0},a.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,r):(0,o.getNextChildMapping)(e,n,r),firstRender:!1}},a.handleExited=function(e,t){var n=(0,o.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),a=u(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a:i.default.createElement(t,r,a)},r}(i.default.Component);d.childContextTypes={transitionGroup:r.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,a.polyfill)(d);t.default=p,e.exports=t.default},7558:function(e,t,n){"use strict";var r=s(n(47528)),i=s(n(92285)),a=s(n(79881)),o=s(n(14495));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:a.default,ReplaceTransition:i.default,CSSTransition:r.default}},90549:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=a,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),l=a(t,s);return Object.keys(l).forEach((function(i){var a=l[i];if((0,r.isValidElement)(a)){var c=i in t,u=i in s,d=t[i],p=(0,r.isValidElement)(d)&&!d.props.in;!u||c&&!p?u||!c||p?u&&c&&(0,r.isValidElement)(d)&&(l[i]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:d.props.in,exit:o(a,"exit",e),enter:o(a,"enter",e)})):l[i]=(0,r.cloneElement)(a,{in:!1}):l[i]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:o(a,"exit",e),enter:o(a,"enter",e)})}})),l};var r=n(47313);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function a(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}},689:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(75192))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},41299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,i=n(57827),a=(r=i)&&r.__esModule?r:{default:r},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,a.default)(e,(function(e,n){var r={};(0,a.default)(e,(function(e,t){var n=s[t];n?r=o({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=l},40083:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(47313),o=(r=a)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,a,c;s(this,r);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return a=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(d))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return o.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},o.default.createElement(e,i({},c.props,c.state)))},l(c,a)}return c(r,n),r}(o.default.Component)};t.default=u},62610:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(47313),o=(r=a)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,a,c;s(this,r);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return a=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(d))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return o.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},o.default.createElement(e,i({},c.props,c.state)))},l(c,a)}return c(r,n),r}(o.default.Component)};t.default=u},78197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(65406)),i=s(n(57827)),a=s(n(40634)),o=s(n(93428));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,o.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,a.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},29584:function(e,t,n){"use strict";t.tz=void 0;var r=c(n(78197)),i=c(n(53417)),a=c(n(41299)),o=c(n(62610)),s=c(n(40083)),l=c(n(56751));function c(e){return e&&e.__esModule?e:{default:e}}o.default,t.tz=o.default,s.default,l.default;var u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=(0,r.default)(n),l=(0,i.default)(e,s);return(0,a.default)(l)};t.ZP=u},56751:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},53417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=o(n(57827)),i=o(n(38504)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=a({},n[t],i[t])})),t})),n};t.default=s},38718:function(e,t,n){"use strict";n.d(t,{Zj:function(){return Z},wZ:function(){return N}});var r=n(61759),i=n.n(r);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){return e},l={"@@functional/placeholder":!0},c=function(e){return e===l},u=function(e){return function t(){return 0===arguments.length||1===arguments.length&&c(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},d=function e(t,n){return 1===t?n:u((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter((function(e){return e!==l})).length;return s>=t?n.apply(void 0,i):e(t-s,u((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return c(e)?t.shift():e}));return n.apply(void 0,a(o).concat(t))})))}))},p=function(e){return d(e.length,e)},f=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},h=p((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),g=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return s;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},m=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},v=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var y={rangeStep:function(e,t,n){for(var r=new(i())(e),a=0,o=[];r.lt(t)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(i())(e).abs().log(10).toNumber())+1},interpolateNumber:p((function(e,t,n){var r=+e;return r+n*(+t-r)})),uninterpolateNumber:p((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),uninterpolateTruncation:p((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}))};function b(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){var t=x(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function C(e,t,n){if(e.lte(0))return new(i())(0);var r=y.getDigitCount(e.toNumber()),a=new(i())(10).pow(r),o=e.div(a),s=1!==r?.05:.1,l=new(i())(Math.ceil(o.div(s).toNumber())).add(n).mul(s).mul(a);return t?l:new(i())(Math.ceil(l))}function j(e,t,n){var r=1,a=new(i())(e);if(!a.isint()&&n){var o=Math.abs(e);o<1?(r=new(i())(10).pow(y.getDigitCount(e)-1),a=new(i())(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new(i())(Math.floor(e)))}else 0===e?a=new(i())(Math.floor((t-1)/2)):n||(a=new(i())(Math.floor(e)));var s=Math.floor((t-1)/2);return g(h((function(e){return a.add(new(i())(e-s).mul(r)).toNumber()})),f)(0,t)}function S(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(i())(0),tickMin:new(i())(0),tickMax:new(i())(0)};var o,s=C(new(i())(t).sub(e).div(n-1),r,a);o=e<=0&&t>=0?new(i())(0):(o=new(i())(e).add(t).div(2)).sub(new(i())(o).mod(s));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new(i())(t).sub(o).div(s).toNumber()),u=l+c+1;return u>n?S(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:s,tickMin:o.sub(new(i())(l).mul(s)),tickMax:o.add(new(i())(c).mul(s))})}var Z=v((function(e){var t=x(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),l=_([n,r]),c=x(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var p=d===1/0?[u].concat(b(f(0,a-1).map((function(){return 1/0})))):[].concat(b(f(0,a-1).map((function(){return-1/0}))),[d]);return n>r?m(p):p}if(u===d)return j(u,a,o);var h=S(u,d,s,o),g=h.step,v=h.tickMin,w=h.tickMax,k=y.rangeStep(v,w.add(new(i())(.1).mul(g)),g);return n>r?m(k):k})),N=(v((function(e){var t=x(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),l=_([n,r]),c=x(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0)return[n,r];if(u===d)return j(u,a,o);var p=C(new(i())(d).sub(u).div(s-1),o,0),v=g(h((function(e){return new(i())(u).add(new(i())(e).mul(p)).toNumber()})),f),y=v(0,s).filter((function(e){return e>=u&&e<=d}));return n>r?m(y):y})),v((function(e,t){var n=x(e,2),r=n[0],a=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=_([r,a]),l=x(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var d=Math.max(t,2),p=C(new(i())(u).sub(c).div(d-1),o,0),f=[].concat(b(y.rangeStep(new(i())(c),new(i())(u).sub(new(i())(.99).mul(p)),p)),[u]);return r>a?m(f):f})))},70017:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(39126)),i=n(89899),a=s(n(38922)),o=s(n(87861));function s(e){return e&&e.__esModule?e:{default:e}}var l=/((?:\-[a-z]+\-)?calc)/;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return(0,r.default)(e).walk((function(e){if("function"===e.type&&l.test(e.value)){var n=r.default.stringify(e.nodes);if(!(n.indexOf("constant")>=0||n.indexOf("env")>=0)){var s=i.parser.parse(n),c=(0,a.default)(s,t);e.type="word",e.value=(0,o.default)(e.value,c,t)}}}),!0).toString()},e.exports=t.default},33925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(86258),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){switch(e.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return function(e,t,n){t.type===e.type&&(t={type:e.type,value:(0,a.default)(t.value,t.unit,e.unit,n),unit:e.unit});return{left:e,right:t}}(e,t,n);default:return{left:e,right:t}}},e.exports=t.default},38922:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flip=c;var r,i=n(33925),a=(r=i)&&r.__esModule?r:{default:r};function o(e,t){return"MathExpression"===e.type?function(e,t){switch(e=function(e,t){var n=(0,a.default)(e.left,e.right,t),r=o(n.left,t),i=o(n.right,t);"MathExpression"===r.type&&"MathExpression"===i.type&&("/"===r.operator&&"*"===i.operator||"-"===r.operator&&"+"===i.operator||"*"===r.operator&&"/"===i.operator||"+"===r.operator&&"-"===i.operator)&&(s(r.right,i.right)?n=(0,a.default)(r.left,i.left,t):s(r.right,i.left)&&(n=(0,a.default)(r.left,i.right,t)),r=o(n.left,t),i=o(n.right,t));return e.left=r,e.right=i,e}(e,t),e.operator){case"+":case"-":return function(e,t){var n=e,r=n.left,i=n.right,a=n.operator;if("CssVariable"===r.type||"CssVariable"===i.type)return e;if(0===i.value)return r;if(0===r.value&&"+"===a)return i;if(0===r.value&&"-"===a)return u(i);r.type===i.type&&l(r.type)&&((e=Object.assign({},r)).value="+"===a?r.value+i.value:r.value-i.value);if(l(r.type)&&("+"===i.operator||"-"===i.operator)&&"MathExpression"===i.type){if(r.type===i.left.type)return(e=Object.assign({},e)).left=o({type:"MathExpression",operator:a,left:r,right:i.left},t),e.right=i.right,e.operator="-"===a?c(i.operator):i.operator,o(e,t);if(r.type===i.right.type)return(e=Object.assign({},e)).left=o({type:"MathExpression",operator:"-"===a?c(i.operator):i.operator,left:r,right:i.right},t),e.right=i.left,o(e,t)}if("MathExpression"===r.type&&("+"===r.operator||"-"===r.operator)&&l(i.type)){if(i.type===r.left.type)return(e=Object.assign({},r)).left=o({type:"MathExpression",operator:a,left:r.left,right:i},t),o(e,t);if(i.type===r.right.type)return e=Object.assign({},r),"-"===r.operator?(e.right=o({type:"MathExpression",operator:"-"===a?"+":"-",left:i,right:r.right},t),e.operator="-"===a?"-":"+"):e.right=o({type:"MathExpression",operator:a,left:r.right,right:i},t),e.right.value<0&&(e.right.value*=-1,e.operator="-"===e.operator?"+":"-"),o(e,t)}return e}(e,t);case"/":return function(e,t){if(!l(e.right.type))return e;if("Value"!==e.right.type)throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(0===e.right.value)throw new Error("Cannot divide by zero");if("MathExpression"===e.left.type)return l(e.left.left.type)&&l(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,o(e.left,t)):e;if(l(e.left.type))return e.left.value/=e.right.value,e.left;return e}(e,t);case"*":return function(e){if("MathExpression"===e.left.type&&"Value"===e.right.type){if(l(e.left.left.type)&&l(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(l(e.left.type)&&"Value"===e.right.type)return e.left.value*=e.right.value,e.left;if("Value"===e.left.type&&"MathExpression"===e.right.type){if(l(e.right.left.type)&&l(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if("Value"===e.left.type&&l(e.right.type))return e.right.value*=e.left.value,e.right}return e}(e)}return e}(e,t):"Calc"===e.type?o(e.value,t):e}function s(e,t){return e.type===t.type&&e.value===t.value}function l(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function c(e){return"+"===e?"-":"+"}function u(e){return l(e.type)?e.value=-e.value:"MathExpression"==e.type&&(e.left=u(e.left),e.right=u(e.right)),e}t.default=o},87861:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=o(t,n);return"MathExpression"===t.type&&(r=e+"("+r+")"),r};var r=n(38922),i={"*":0,"/":0,"+":1,"-":1};function a(e,t){if(!1!==t){var n=Math.pow(10,t);return Math.round(e*n)/n}return e}function o(e,t){switch(e.type){case"MathExpression":var n=e.left,s=e.right,l=e.operator,c="";return"MathExpression"===n.type&&i[l]<i[n.operator]?c+="("+o(n,t)+")":c+=o(n,t),c+=" "+e.operator+" ","MathExpression"===s.type&&i[l]<i[s.operator]?c+="("+o(s,t)+")":"MathExpression"===s.type&&"-"===l&&["+","-"].includes(s.operator)?(s.operator=(0,r.flip)(s.operator),c+=o(s,t)):c+=o(s,t),c;case"Value":return a(e.value,t);case"CssVariable":return e.fallback?"var("+e.value+", "+o(e.fallback,t)+")":"var("+e.value+")";case"Calc":return e.prefix?"-"+e.prefix+"-calc("+o(e.value,t)+")":"calc("+o(e.value,t)+")";default:return a(e.value,t)+e.unit}}e.exports=t.default},89899:function(e,t){var n=function(){function e(e,t){var n;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var r=t.exception;this.message=r.message||e,n=r.stack}n||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):n=new Error(e).stack),n&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:n})}function t(e,t,n){n=n||0;for(var r=0;r<t;r++)this.push(e),e+=n}function n(e,t){for(t+=e=this.length-e;e<t;e++)this.push(this[e])}function r(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];"function"===typeof i?(n++,i.apply(t,e[n])):t.push(i)}return t}"function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonParserError";var i={trace:function(){},JisonParserError:e,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(e){return'"'+e+'"'},getSymbolName:function(e){if(this.terminals_[e])return this.terminals_[e];var t=this.symbols_;for(var n in t)if(t[n]===e)return n;return null},describeSymbol:function(e){if(e!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[e])return this.terminal_descriptions_[e];if(e===this.EOF)return"end of input";var t=this.getSymbolName(e);return t?this.quoteName(t):null},collect_expected_token_set:function(e,t){var n=this.TERROR,r=[],i={};if(!t&&this.state_descriptions_&&this.state_descriptions_[e])return[this.state_descriptions_[e]];for(var a in this.table[e])if((a=+a)!==n){var o=t?a:this.describeSymbol(a);o&&!i[o]&&(r.push(o),i[o]=!0)}return r},productions_:function(e){for(var t=[],n=e.pop,r=e.rule,i=0,a=n.length;i<a;i++)t.push([n[i],r[i]]);return t}({pop:r([29,t,[30,10],31,31,32,32,t,[33,15]]),rule:r([2,t,[3,5],4,7,t,[1,4],2,4,6,t,[1,14],2])}),performAction:function(e,t,n){var r=this.yy;r.parser,r.lexer;switch(e){case 0:case 6:this.$=n[t-1];break;case 1:return this.$=n[t-1],n[t-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:n[t-1],left:n[t-2],right:n[t]};break;case 7:this.$={type:"Calc",value:n[t-1]};break;case 8:this.$={type:"Calc",value:n[t-1],prefix:n[t-5]};break;case 9:case 10:case 11:this.$=n[t];break;case 12:this.$={type:"Value",value:parseFloat(n[t])};break;case 13:this.$={type:"Value",value:-1*parseFloat(n[t])};break;case 14:this.$={type:"CssVariable",value:n[t-1]};break;case 15:this.$={type:"CssVariable",value:n[t-3],fallback:n[t-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(n[t]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(n[t]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(n[t]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(n[t]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(n[t]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(n[t]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(n[t]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(n[t]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(n[t]),unit:"%"};break;case 30:var i=n[t];i.value*=-1,this.$=i}},table:function(e){for(var t=[],n=e.len,r=e.symbol,i=e.type,a=e.state,o=e.mode,s=e.goto,l=0,c=n.length;l<c;l++){for(var u=n[l],d={},p=0;p<u;p++){var f=r.shift();switch(i.shift()){case 2:d[f]=[o.shift(),s.shift()];break;case 0:d[f]=a.shift();break;default:d[f]=[3]}}t.push(d)}return t}({len:r([24,1,5,23,1,18,t,[0,3],1,t,[0,16],t,[23,4],n,[28,3],0,0,16,1,6,6,t,[0,3],5,1,2,n,[37,3],n,[20,3],5,0,0]),symbol:r([4,7,9,11,12,t,[15,19,1],1,1,t,[3,4,1],n,[30,19],n,[29,4],7,4,10,11,n,[22,14],n,[19,3],n,[43,22],n,[23,69],n,[139,4],8,n,[51,24],4,n,[138,15],13,n,[186,5],8,n,[6,6],n,[5,5],9,8,14,n,[159,47],n,[60,10]]),type:r([t,[2,19],t,[0,5],1,t,[2,24],t,[0,4],n,[22,19],n,[43,42],n,[23,70],n,[28,25],n,[45,25],n,[113,54]]),state:r([1,2,8,6,7,30,n,[4,3],33,37,n,[5,3],38,n,[4,3],39,n,[4,3],40,n,[4,3],42,n,[21,4],50,n,[5,3],51,n,[4,3]]),mode:r([t,[1,179],t,[2,3],n,[5,5],n,[6,4],t,[1,57]]),goto:r([5,3,4,24,t,[9,15,1],t,[25,5,1],n,[24,19],31,35,32,34,n,[18,14],36,n,[38,19],n,[19,57],n,[118,4],41,n,[24,19],43,35,n,[16,14],44,t,[2,3],28,29,2,t,[3,3],28,29,3,n,[53,4],t,[45,5,1],n,[100,42],52,n,[5,4],53])}),defaultActions:function(e){for(var t={},n=e.idx,r=e.goto,i=0,a=n.length;i<a;i++){t[n[i]]=r[i]}return t}({idx:r([6,7,8,t,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:r([9,10,11,t,[16,14,1],12,1,30,13,t,[4,4,1],14,15,8])}),parseError:function(e,t,n){if(!t.recoverable)throw"function"===typeof this.trace&&this.trace(e),n||(n=this.JisonParserError),new n(e,t);"function"===typeof this.trace&&this.trace(e),t.destroy()},parse:function(e){var t,n=this,r=new Array(128),i=new Array(128),a=new Array(128),o=this.table,s=0,l=0,c=(this.TERROR,this.EOF),u=(this.options.errorRecoveryTokenDiscardCount,[0,54]);t=this.__lexer__?this.__lexer__:this.__lexer__=Object.create(this.lexer);var d={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};function p(){var e=t.fastLex();return"number"!==typeof e&&(e=n.symbols_[e]||e),e||c}"function"!==typeof assert||assert,this.yyGetSharedState=function(){return d},function(e,t){for(var n in t)"undefined"===typeof e[n]&&Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}(d,this.yy),d.lexer=t,d.parser=this,"function"===typeof d.parseError?this.parseError=function(e,t,n){return n||(n=this.JisonParserError),d.parseError.call(this,e,t,n)}:this.parseError=this.originalParseError,"function"===typeof d.quoteName?this.quoteName=function(e){return d.quoteName.call(this,e)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(e,n,o){var l,c;n&&((d.post_parse||this.post_parse)&&(c=this.constructParseErrorInfo(null,null,null,!1)),d.post_parse&&"undefined"!==typeof(l=d.post_parse.call(this,d,e,c))&&(e=l),this.post_parse&&"undefined"!==typeof(l=this.post_parse.call(this,d,e,c))&&(e=l),c&&c.destroy&&c.destroy());if(this.__reentrant_call_depth>1)return e;if(t.cleanupAfterLex&&t.cleanupAfterLex(o),d&&(d.lexer=void 0,d.parser=void 0,t.yy===d&&(t.yy=void 0)),d=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,r.length=0,i.length=0,a.length=0,s=0,!o){for(var u=this.__error_infos.length-1;u>=0;u--){var p=this.__error_infos[u];p&&"function"===typeof p.destroy&&p.destroy()}this.__error_infos.length=0}return e},this.constructParseErrorInfo=function(e,n,o,c){var u={errStr:e,exception:n,text:t.match,value:t.yytext,token:this.describeSymbol(l)||l,token_id:l,line:t.yylineno,expected:o,recoverable:c,state:f,action:h,new_state:x,symbol_stack:r,state_stack:i,value_stack:a,stack_pointer:s,yy:d,lexer:t,parser:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"===typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(u),u};var f,h,g,m,v,y,b,x,w=function(){var e=t.lex();return"number"!==typeof e&&(e=n.symbols_[e]||e),e||c},k={$:!0,_$:void 0,yy:d},_=!1;try{if(this.__reentrant_call_depth++,t.setInput(e,d),"function"===typeof t.canIUse)t.canIUse().fastLex&&(w=p);for(a[s]=null,i[s]=0,r[s]=0,++s,this.pre_parse&&this.pre_parse.call(this,d),d.pre_parse&&d.pre_parse.call(this,d),x=i[s-1];;){if(f=x,this.defaultActions[f])h=2,x=this.defaultActions[f];else if(l||(l=w()),m=o[f]&&o[f][l]||u,x=m[1],!(h=m[0])){var C,j=this.describeSymbol(l)||l,S=this.collect_expected_token_set(f);C="number"===typeof t.yylineno?"Parse error on line "+(t.yylineno+1)+": ":"Parse error: ","function"===typeof t.showPosition&&(C+="\n"+t.showPosition(69,10)+"\n"),S.length?C+="Expecting "+S.join(", ")+", got unexpected "+j:C+="Unexpected "+j,v=this.constructParseErrorInfo(C,null,S,!1),"undefined"!==typeof(g=this.parseError(v.errStr,v,this.JisonParserError))&&(_=g);break}switch(h){default:if(h instanceof Array){v=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+f+", token: "+l,null,null,!1),"undefined"!==typeof(g=this.parseError(v.errStr,v,this.JisonParserError))&&(_=g);break}v=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),"undefined"!==typeof(g=this.parseError(v.errStr,v,this.JisonParserError))&&(_=g);break;case 1:r[s]=l,a[s]=t.yytext,i[s]=x,++s,l=0;continue;case 2:if(y=(b=this.productions_[x-1])[1],"undefined"!==typeof(g=this.performAction.call(k,x,s-1,a))){_=g;break}s-=y;var Z=b[0];r[s]=Z,a[s]=k.$,x=o[i[s-1]][Z],i[s]=x,++s;continue;case 3:-2!==s&&(_=!0,s--,"undefined"!==typeof a[s]&&(_=a[s]))}break}}catch(N){if(N instanceof this.JisonParserError)throw N;if(t&&"function"===typeof t.JisonLexerError&&N instanceof t.JisonLexerError)throw N;v=this.constructParseErrorInfo("Parsing aborted due to exception.",N,null,!1),_=!1,"undefined"!==typeof(g=this.parseError(v.errStr,v,this.JisonParserError))&&(_=g)}finally{_=this.cleanupAfterParse(_,!0,!0),this.__reentrant_call_depth--}return _}};i.originalParseError=i.parseError,i.originalQuoteName=i.quoteName;var a=function(){function e(e,t){var n;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var r=t.exception;this.message=r.message||e,n=r.stack}n||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):n=new Error(e).stack),n&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:n})}"function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonLexerError";var t={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(e,t,n){if(e=""+e,void 0==n&&(n=!(e.indexOf("\n")>0&&e.indexOf("^")>0)),this.yylloc&&n)if("function"===typeof this.prettyPrintRange){this.prettyPrintRange(this.yylloc);/\n\s*$/.test(e)||(e+="\n"),e+="\n  Erroneous area:\n"+this.prettyPrintRange(this.yylloc)}else if("function"===typeof this.showPosition){var r=this.showPosition();r&&(e.length&&"\n"!==e[e.length-1]&&"\n"!==r[0]?e+="\n"+r:e+=r)}var i={errStr:e,recoverable:!!t,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"===typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(i),i},parseError:function(e,t,n){if(n||(n=this.JisonLexerError),this.yy){if(this.yy.parser&&"function"===typeof this.yy.parser.parseError)return this.yy.parser.parseError.call(this,e,t,n)||this.ERROR;if("function"===typeof this.yy.parseError)return this.yy.parseError.call(this,e,t,n)||this.ERROR}throw new n(e,t)},yyerror:function(e){var t="";this.yylloc&&(t=" on line "+(this.yylineno+1));var n=this.constructLexErrorInfo("Lexical error"+t+": "+e,this.options.lexerErrorsAreRecoverable),r=Array.prototype.slice.call(arguments,1);return r.length&&(n.extra_error_attributes=r),this.parseError(n.errStr,n,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(e){if(this.setInput("",{}),!e){for(var t=this.__error_infos.length-1;t>=0;t--){var n=this.__error_infos[t];n&&"function"===typeof n.destroy&&n.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var e=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:e,last_line:this.yylineno+1,last_column:e,range:[this.offset,this.offset]}},setInput:function(e,t){if(this.yy=t||this.yy||{},!this.__decompressed){for(var n=this.rules,r=0,i=n.length;r<i;r++){"number"===typeof(p=n[r])&&(n[r]=n[p])}var a=this.conditions;for(var o in a){var s=a[o],l=s.rules,c=(i=l.length,new Array(i+1)),u=new Array(i+1);for(r=0;r<i;r++){var d=l[r],p=n[d];c[r+1]=p,u[r+1]=d}s.rules=u,s.__rule_regexes=c,s.__rule_count=i}this.__decompressed=!0}return this._input=e||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(e,t){var n=e.call(this,this._input,t);return"string"!==typeof n?n&&(this._input=""+n):this._input=n,this},input:function(){if(!this._input)return null;var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=1,n=!1;if("\n"===e)n=!0;else if("\r"===e){n=!0;var r=this._input[1];"\n"===r&&(t++,e+=r,this.yytext+=r,this.yyleng++,this.offset++,this.match+=r,this.matched+=r,this.yylloc.range[1]++)}return n?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(t),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);if(this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.yyleng=this.yytext.length,this.offset-=t,this.match=this.match.substr(0,this.match.length-t),this.matched=this.matched.substr(0,this.matched.length-t),n.length>1){this.yylineno-=n.length-1,this.yylloc.last_line=this.yylineno+1;var r=this.match,i=r.split(/(?:\r\n?|\n)/g);1===i.length&&(i=(r=this.matched).split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=i[i.length-1].length}else this.yylloc.last_column-=t;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var e="";this.yylloc&&(e=" on line "+(this.yylineno+1));var t=this.constructLexErrorInfo("Lexical error"+e+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(t.errStr,t,this.JisonLexerError)||this.ERROR}return this},less:function(e){return this.unput(this.match.slice(e))},pastInput:function(e,t){var n=this.matched.substring(0,this.matched.length-this.match.length);e<0?e=n.length:e||(e=20),t<0?t=n.length:t||(t=1);var r=(n=n.substr(2*-e-2)).replace(/\r\n|\r/g,"\n").split("\n");return(n=(r=r.slice(-t)).join("\n")).length>e&&(n="..."+n.substr(-e)),n},upcomingInput:function(e,t){var n=this.match;e<0?e=n.length+this._input.length:e||(e=20),t<0?t=e:t||(t=1),n.length<2*e+2&&(n+=this._input.substring(0,2*e+2));var r=n.replace(/\r\n|\r/g,"\n").split("\n");return(n=(r=r.slice(0,t)).join("\n")).length>e&&(n=n.substring(0,e)+"..."),n},showPosition:function(e,t){var n=this.pastInput(e).replace(/\s/g," "),r=new Array(n.length+1).join("-");return n+this.upcomingInput(t).replace(/\s/g," ")+"\n"+r+"^"},deriveLocationInfo:function(e,t,n,r){var i={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return e&&(i.first_line=0|e.first_line,i.last_line=0|e.last_line,i.first_column=0|e.first_column,i.last_column=0|e.last_column,e.range&&(i.range[0]=0|e.range[0],i.range[1]=0|e.range[1])),(i.first_line<=0||i.last_line<i.first_line)&&(i.first_line<=0&&t&&(i.first_line=0|t.last_line,i.first_column=0|t.last_column,t.range&&(i.range[0]=0|e.range[1])),(i.last_line<=0||i.last_line<i.first_line)&&n&&(i.last_line=0|n.first_line,i.last_column=0|n.first_column,n.range&&(i.range[1]=0|e.range[0])),i.first_line<=0&&r&&(i.last_line<=0||r.last_line<=i.last_line)&&(i.first_line=0|r.first_line,i.first_column=0|r.first_column,r.range&&(i.range[0]=0|r.range[0])),i.last_line<=0&&r&&(i.first_line<=0||r.first_line>=i.first_line)&&(i.last_line=0|r.last_line,i.last_column=0|r.last_column,r.range&&(i.range[1]=0|r.range[1]))),i.last_line<=0&&(i.first_line<=0?(i.first_line=this.yylloc.first_line,i.last_line=this.yylloc.last_line,i.first_column=this.yylloc.first_column,i.last_column=this.yylloc.last_column,i.range[0]=this.yylloc.range[0],i.range[1]=this.yylloc.range[1]):(i.last_line=this.yylloc.last_line,i.last_column=this.yylloc.last_column,i.range[1]=this.yylloc.range[1])),i.first_line<=0&&(i.first_line=i.last_line,i.first_column=0,i.range[1]=i.range[0]),i.first_column<0&&(i.first_column=0),i.last_column<0&&(i.last_column=i.first_column>0?i.first_column:80),i},prettyPrintRange:function(e,t,n){e=this.deriveLocationInfo(e,t,n);var r=(this.matched+this._input).split("\n"),i=Math.max(1,t?t.first_line:e.first_line-3),a=Math.max(1,n?n.last_line:e.last_line+1),o=1+Math.log10(1|a)|0,s=new Array(o).join(" "),l=[],c=r.slice(i-1,a+1).map((function(t,n){var r=n+i,a=(s+r).substr(-o)+": "+t,c=new Array(o+1).join("^"),u=3,d=0;(r===e.first_line?(u+=e.first_column,d=Math.max(2,(r===e.last_line?e.last_column:t.length)-e.first_column+1)):r===e.last_line?d=Math.max(2,e.last_column+1):r>e.first_line&&r<e.last_line&&(d=Math.max(2,t.length+1)),d)&&(a+="\n"+c+new Array(u).join(".")+new Array(d).join("^"),t.trim().length>0&&l.push(n));return a=a.replace(/\t/g," ")}));if(l.length>4){var u=l[1]+1,d=l[l.length-2]-1,p=new Array(o+1).join(" ")+"  (...continued...)";p+="\n"+new Array(o+1).join("-")+"  (---------------)",c.splice(u,d-u+1,p)}return c.join("\n")},describeYYLLOC:function(e,t){var n,r=e.first_line,i=e.last_line,a=e.first_column,o=e.last_column;if(0===i-r?(n="line "+r+", ",n+=o-a<=1?"column "+a:"columns "+a+" .. "+o):n="lines "+r+"(column "+a+") .. "+i+"(column "+o+")",e.range&&t){var s=e.range[0],l=e.range[1]-1;n+=l<=s?" {String Offset: "+s+"}":" {String Offset range: "+s+" .. "+l+"}"}return n},test_match:function(e,t){var n,r,i,a,o;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),o=(a=e[0]).length,(r=a.split(/(?:\r\n?|\n)/g)).length>1?(this.yylineno+=r.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=r[r.length-1].length):this.yylloc.last_column+=o,this.yytext+=a,this.match+=a,this.matched+=a,this.matches=e,this.yyleng=this.yytext.length,this.yylloc.range[1]+=o,this.offset+=o,this._more=!1,this._backtrack=!1,this._input=this._input.slice(o),n=this.performAction.call(this,this.yy,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var s in i)this[s]=i[s];return this.__currentRuleSet__=null,!1}return!!this._signaled_error_token&&(n=this._signaled_error_token,this._signaled_error_token=!1,n)},next:function(){if(this.done)return this.clear(),this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||this.clear();var i=this.__currentRuleSet__;if(!i&&(!(i=this.__currentRuleSet__=this._currentRules())||!i.rules)){var a="";this.options.trackPosition&&(a=" on line "+(this.yylineno+1));var o=this.constructLexErrorInfo("Internal lexer engine error"+a+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(o.errStr,o,this.JisonLexerError)||this.ERROR}for(var s=i.rules,l=i.__rule_regexes,c=i.__rule_count,u=1;u<=c;u++)if((n=this._input.match(l[u]))&&(!t||n[0].length>t[0].length)){if(t=n,r=u,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,s[u])))return e;if(this._backtrack){t=void 0;continue}return!1}if(!this.options.flex)break}if(t)return!1!==(e=this.test_match(t,s[r]))&&e;if(this._input){a="";this.options.trackPosition&&(a=" on line "+(this.yylineno+1));o=this.constructLexErrorInfo("Lexical error"+a+": Unrecognized text.",this.options.lexerErrorsAreRecoverable);var d=this._input,p=this.topState(),f=this.conditionStack.length;return(e=this.parseError(o.errStr,o,this.JisonLexerError)||this.ERROR)===this.ERROR&&(this.matches||d!==this._input||p!==this.topState()||f!==this.conditionStack.length||this.input()),e}return this.done=!0,this.clear(),this.EOF},lex:function(){var e;for("function"===typeof this.pre_lex&&(e=this.pre_lex.call(this,0)),"function"===typeof this.options.pre_lex&&(e=this.options.pre_lex.call(this,e)||e),this.yy&&"function"===typeof this.yy.pre_lex&&(e=this.yy.pre_lex.call(this,e)||e);!e;)e=this.next();return this.yy&&"function"===typeof this.yy.post_lex&&(e=this.yy.post_lex.call(this,e)||e),"function"===typeof this.options.post_lex&&(e=this.options.post_lex.call(this,e)||e),"function"===typeof this.post_lex&&(e=this.post_lex.call(this,e)||e),e},fastLex:function(){for(var e;!e;)e=this.next();return e},canIUse:function(){return{fastLex:!("function"===typeof this.pre_lex||"function"===typeof this.options.pre_lex||this.yy&&"function"===typeof this.yy.pre_lex||this.yy&&"function"===typeof this.yy.post_lex||"function"===typeof this.options.post_lex||"function"===typeof this.post_lex)&&"function"===typeof this.fastLex}},begin:function(e){return this.pushState(e)},pushState:function(e){return this.conditionStack.push(e),this.__currentRuleSet__=null,this},popState:function(){return this.conditionStack.length-1>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:e,performAction:function(e,t,n){if(1!==t)return this.simpleCaseActionClusters[t]},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return t}();function o(){this.yy={}}return i.lexer=a,o.prototype=i,i.Parser=o,new o}();t.parser=n,t.Parser=n.Parser,t.parse=function(){return n.parse.apply(n,arguments)}},39126:function(e,t,n){var r=n(30293),i=n(29465),a=n(33859);function o(e){return this instanceof o?(this.nodes=r(e),this):new o(e)}o.prototype.toString=function(){return Array.isArray(this.nodes)?a(this.nodes):""},o.prototype.walk=function(e,t){return i(this.nodes,e,t),this},o.unit=n(33685),o.walk=i,o.stringify=a,e.exports=o},30293:function(e){var t="(".charCodeAt(0),n=")".charCodeAt(0),r="'".charCodeAt(0),i='"'.charCodeAt(0),a="\\".charCodeAt(0),o="/".charCodeAt(0),s=",".charCodeAt(0),l=":".charCodeAt(0),c="*".charCodeAt(0);e.exports=function(e){for(var u,d,p,f,h,g,m,v,y=[],b=e,x=0,w=b.charCodeAt(x),k=b.length,_=[{nodes:y}],C=0,j="",S="",Z="";x<k;)if(w<=32){u=x;do{u+=1,w=b.charCodeAt(u)}while(w<=32);f=b.slice(x,u),p=y[y.length-1],w===n&&C?Z=f:p&&"div"===p.type?p.after=f:w===s||w===l||w===o&&b.charCodeAt(u+1)!==c?S=f:y.push({type:"space",sourceIndex:x,value:f}),x=u}else if(w===r||w===i){u=x,f={type:"string",sourceIndex:x,quote:d=w===r?"'":'"'};do{if(h=!1,~(u=b.indexOf(d,u+1)))for(g=u;b.charCodeAt(g-1)===a;)g-=1,h=!h;else u=(b+=d).length-1,f.unclosed=!0}while(h);f.value=b.slice(x+1,u),y.push(f),x=u+1,w=b.charCodeAt(x)}else if(w===o&&b.charCodeAt(x+1)===c)f={type:"comment",sourceIndex:x},-1===(u=b.indexOf("*/",x))&&(f.unclosed=!0,u=b.length),f.value=b.slice(x+2,u),y.push(f),x=u+2,w=b.charCodeAt(x);else if(w===o||w===s||w===l)f=b[x],y.push({type:"div",sourceIndex:x-S.length,value:f,before:S,after:""}),S="",x+=1,w=b.charCodeAt(x);else if(t===w){u=x;do{u+=1,w=b.charCodeAt(u)}while(w<=32);if(f={type:"function",sourceIndex:x-j.length,value:j,before:b.slice(x+1,u)},x=u,"url"===j&&w!==r&&w!==i){u-=1;do{if(h=!1,~(u=b.indexOf(")",u+1)))for(g=u;b.charCodeAt(g-1)===a;)g-=1,h=!h;else u=(b+=")").length-1,f.unclosed=!0}while(h);m=u;do{m-=1,w=b.charCodeAt(m)}while(w<=32);f.nodes=x!==m+1?[{type:"word",sourceIndex:x,value:b.slice(x,m+1)}]:[],f.unclosed&&m+1!==u?(f.after="",f.nodes.push({type:"space",sourceIndex:m+1,value:b.slice(m+1,u)})):f.after=b.slice(m+1,u),x=u+1,w=b.charCodeAt(x),y.push(f)}else C+=1,f.after="",y.push(f),_.push(f),y=f.nodes=[],v=f;j=""}else if(n===w&&C)x+=1,w=b.charCodeAt(x),v.after=Z,Z="",C-=1,_.pop(),y=(v=_[C]).nodes;else{u=x;do{w===a&&(u+=1),u+=1,w=b.charCodeAt(u)}while(u<k&&!(w<=32||w===r||w===i||w===s||w===l||w===o||w===t||w===n&&C));f=b.slice(x,u),t===w?j=f:y.push({type:"word",sourceIndex:x,value:f}),x=u}for(x=_.length-1;x;x-=1)_[x].unclosed=!0;return _[0].nodes}},33859:function(e){function t(e,t){var r,i,a=e.type,o=e.value;return t&&void 0!==(i=t(e))?i:"word"===a||"space"===a?o:"string"===a?(r=e.quote||"")+o+(e.unclosed?"":r):"comment"===a?"/*"+o+(e.unclosed?"":"*/"):"div"===a?(e.before||"")+o+(e.after||""):Array.isArray(e.nodes)?(r=n(e.nodes),"function"!==a?r:o+"("+(e.before||"")+r+(e.after||"")+(e.unclosed?"":")")):o}function n(e,n){var r,i;if(Array.isArray(e)){for(r="",i=e.length-1;~i;i-=1)r=t(e[i],n)+r;return r}return t(e,n)}e.exports=n},33685:function(e){var t="-".charCodeAt(0),n="+".charCodeAt(0),r=".".charCodeAt(0),i="e".charCodeAt(0),a="E".charCodeAt(0);e.exports=function(e){for(var o,s=0,l=e.length,c=!1,u=-1,d=!1;s<l;){if((o=e.charCodeAt(s))>=48&&o<=57)d=!0;else if(o===i||o===a){if(u>-1)break;u=s}else if(o===r){if(c)break;c=!0}else{if(o!==n&&o!==t)break;if(0!==s)break}s+=1}return u+1===s&&s--,!!d&&{number:e.slice(0,s),unit:e.slice(s)}}},29465:function(e){e.exports=function e(t,n,r){var i,a,o,s;for(i=0,a=t.length;i<a;i+=1)o=t[i],r||(s=n(o,i,t)),!1!==s&&"function"===o.type&&Array.isArray(o.nodes)&&e(o.nodes,n,r),r&&n(o,i,t)}},1355:function(e,t,n){"use strict";var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&l()}function s(){o(a)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},p=y(0,0,0,0);function f(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function g(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=f(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=h(r,"left","right")+a),Math.round(l+o)!==n&&(l-=h(r,"top","bottom")+o)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(s+a)-t,u=Math.round(l+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return y(i.left,i.top,s,l)}var m="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function v(e){return i?m(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):g(e):p}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),x=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return u(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);u(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new x(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),k="undefined"!==typeof WeakMap?new WeakMap:new r,_=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);k.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){_.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}}));var C="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:_;t.Z=C},13095:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,f=3,h=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,x(e),!g)if(null!==r(c))g=!0,P(k);else{var t=r(u);null!==t&&M(w,t.startTime-e)}}function k(e,n){g=!1,m&&(m=!1,y(S),S=-1),h=!0;var a=f;try{for(x(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!E());){var o=p.callback;if("function"===typeof o){p.callback=null,f=p.priorityLevel;var s=o(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(c)&&i(c),x(n)}else i(c);p=r(c)}if(null!==p)var l=!0;else{var d=r(u);null!==d&&M(w,d.startTime-n),l=!1}return l}finally{p=null,f=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,C=!1,j=null,S=-1,Z=5,N=-1;function E(){return!(t.unstable_now()-N<Z)}function O(){if(null!==j){var e=t.unstable_now();N=e;var n=!0;try{n=j(!0,e)}finally{n?_():(C=!1,j=null)}}else C=!1}if("function"===typeof b)_=function(){b(O)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,T=A.port2;A.port1.onmessage=O,_=function(){T.postMessage(null)}}else _=function(){v(O,0)};function P(e){j=e,C||(C=!0,_())}function M(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,P(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(m?(y(S),S=-1):m=!0,M(w,a-o))):(e.sortIndex=s,n(c,e),g||h||(g=!0,P(k))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},62224:function(e,t,n){"use strict";e.exports=n(13095)},39750:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function i(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function a(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return i(n.overflowY,t)||i(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function o(e,t,n,r,i,a,o,s){return a<e&&o>t||a>e&&o<t?0:a<=e&&s<=n||o>=t&&s>=n?a-e-r:o>t&&s<n||a<e&&s>n?o-t+i:0}function s(e,t){var n=window,i=t.scrollMode,s=t.block,l=t.inline,c=t.boundary,u=t.skipOverflowHiddenElements,d="function"==typeof c?c:function(e){return e!==c};if(!r(e))throw new TypeError("Invalid target");for(var p=document.scrollingElement||document.documentElement,f=[],h=e;r(h)&&d(h);){if((h=h.parentElement)===p){f.push(h);break}null!=h&&h===document.body&&a(h)&&!a(document.documentElement)||null!=h&&a(h,u)&&f.push(h)}for(var g=n.visualViewport?n.visualViewport.width:innerWidth,m=n.visualViewport?n.visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),x=b.height,w=b.width,k=b.top,_=b.right,C=b.bottom,j=b.left,S="start"===s||"nearest"===s?k:"end"===s?C:k+x/2,Z="center"===l?j+w/2:"end"===l?_:j,N=[],E=0;E<f.length;E++){var O=f[E],A=O.getBoundingClientRect(),T=A.height,P=A.width,M=A.top,I=A.right,D=A.bottom,L=A.left;if("if-needed"===i&&k>=0&&j>=0&&C<=m&&_<=g&&k>=M&&C<=D&&j>=L&&_<=I)return N;var R=getComputedStyle(O),B=parseInt(R.borderLeftWidth,10),F=parseInt(R.borderTopWidth,10),z=parseInt(R.borderRightWidth,10),V=parseInt(R.borderBottomWidth,10),U=0,H=0,W="offsetWidth"in O?O.offsetWidth-O.clientWidth-B-z:0,q="offsetHeight"in O?O.offsetHeight-O.clientHeight-F-V:0;if(p===O)U="start"===s?S:"end"===s?S-m:"nearest"===s?o(y,y+m,m,F,V,y+S,y+S+x,x):S-m/2,H="start"===l?Z:"center"===l?Z-g/2:"end"===l?Z-g:o(v,v+g,g,B,z,v+Z,v+Z+w,w),U=Math.max(0,U+y),H=Math.max(0,H+v);else{U="start"===s?S-M-F:"end"===s?S-D+V+q:"nearest"===s?o(M,D,T,F,V+q,S,S+x,x):S-(M+T/2)+q/2,H="start"===l?Z-L-B:"center"===l?Z-(L+P/2)+W/2:"end"===l?Z-I+z+W:o(L,I,P,B,z+W,Z,Z+w,w);var K=O.scrollLeft,Y=O.scrollTop;S+=Y-(U=Math.max(0,Math.min(Y+U,O.scrollHeight-T+q))),Z+=K-(H=Math.max(0,Math.min(K+H,O.scrollWidth-P+W)))}N.push({el:O,top:U,left:H})}return N}function l(e){return e===Object(e)&&0!==Object.keys(e).length}n.r(t),n.d(t,{default:function(){return c}});var c=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(l(t)&&"function"===typeof t.behavior)return t.behavior(n?s(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:l(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,a=e.left;r.scroll&&n?r.scroll({top:i,left:a,behavior:t}):(r.scrollTop=i,r.scrollLeft=a)}))}(s(e,r),r.behavior)}}},59767:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},80118:function(e,t,n){var r=n(8459),i=Object.prototype.hasOwnProperty,a="undefined"!==typeof Map;function o(){this._array=[],this._set=a?new Map:Object.create(null)}o.fromArray=function(e,t){for(var n=new o,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},o.prototype.size=function(){return a?this._set.size:Object.getOwnPropertyNames(this._set).length},o.prototype.add=function(e,t){var n=a?e:r.toSetString(e),o=a?this.has(e):i.call(this._set,n),s=this._array.length;o&&!t||this._array.push(e),o||(a?this._set.set(e,s):this._set[n]=s)},o.prototype.has=function(e){if(a)return this._set.has(e);var t=r.toSetString(e);return i.call(this._set,t)},o.prototype.indexOf=function(e){if(a){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(i.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},o.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},o.prototype.toArray=function(){return this._array.slice()},t.I=o},28460:function(e,t,n){var r=n(46100);t.encode=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=r.encode(t)}while(i>0);return n},t.decode=function(e,t,n){var i,a,o=e.length,s=0,l=0;do{if(t>=o)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(a=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&a),s+=(a&=31)<<l,l+=5}while(i);n.value=function(e){var t=e>>1;return 1===(1&e)?-t:t}(s),n.rest=t}},46100:function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},62593:function(e,t,n){var r=n(8459);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){!function(e,t){var n=e.generatedLine,i=t.generatedLine,a=e.generatedColumn,o=t.generatedColumn;return i>n||i==n&&o>=a||r.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?(this._sorted=!1,this._array.push(e)):(this._last=e,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.H=i},32481:function(e,t,n){var r=n(28460),i=n(8459),a=n(80118).I,o=n(62593).H;function s(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new a,this._names=new a,this._mappings=new o,this._sourcesContents=null}s.prototype._version=3,s.fromSourceMap=function(e){var t=e.sourceRoot,n=new s({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=i.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var a=r;null!==t&&(a=i.relative(t,r)),n._sources.has(a)||n._sources.add(a);var o=e.sourceContentFor(r);null!=o&&n.setSourceContent(r,o)})),n},s.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),n=i.getArg(e,"original",null),r=i.getArg(e,"source",null),a=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,a),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=a&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:a})},s.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var o=this._sourceRoot;null!=o&&(r=i.relative(o,r));var s=new a,l=new a;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=n&&(t.source=i.join(n,t.source)),null!=o&&(t.source=i.relative(o,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var c=t.source;null==c||s.has(c)||s.add(c);var u=t.name;null==u||l.has(u)||l.add(u)}),this),this._sources=s,this._names=l,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=i.join(n,t)),null!=o&&(t=i.relative(o,t)),this.setSourceContent(t,r))}),this)},s.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!==typeof t.line&&"number"!==typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},s.prototype._serializeMappings=function(){for(var e,t,n,a,o=0,s=1,l=0,c=0,u=0,d=0,p="",f=this._mappings.toArray(),h=0,g=f.length;h<g;h++){if(e="",(t=f[h]).generatedLine!==s)for(o=0;t.generatedLine!==s;)e+=";",s++;else if(h>0){if(!i.compareByGeneratedPositionsInflated(t,f[h-1]))continue;e+=","}e+=r.encode(t.generatedColumn-o),o=t.generatedColumn,null!=t.source&&(a=this._sources.indexOf(t.source),e+=r.encode(a-d),d=a,e+=r.encode(t.originalLine-1-c),c=t.originalLine-1,e+=r.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-u),u=n)),p+=e}return p},s.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},s.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.h=s},8459:function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function i(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function a(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}t.urlParse=i,t.urlGenerate=a;var o=function(e){var t=[];return function(n){for(var r=0;r<t.length;r++)if(t[r].input===n){var i=t[0];return t[0]=t[r],t[r]=i,t[0].result}var a=e(n);return t.unshift({input:n,result:a}),t.length>32&&t.pop(),a}}((function(e){var n=e,r=i(e);if(r){if(!r.path)return e;n=r.path}for(var o=t.isAbsolute(n),s=[],l=0,c=0;;){if(l=c,-1===(c=n.indexOf("/",l))){s.push(n.slice(l));break}for(s.push(n.slice(l,c));c<n.length&&"/"===n[c];)c++}var u,d=0;for(c=s.length-1;c>=0;c--)"."===(u=s[c])?s.splice(c,1):".."===u?d++:d>0&&(""===u?(s.splice(c+1,d),d=0):(s.splice(c,2),d--));return""===(n=s.join("/"))&&(n=o?"/":"."),r?(r.path=n,a(r)):n}));function s(e,t){""===e&&(e="."),""===t&&(t=".");var n=i(t),s=i(e);if(s&&(e=s.path||"/"),n&&!n.scheme)return s&&(n.scheme=s.scheme),a(n);if(n||t.match(r))return t;if(s&&!s.host&&!s.path)return s.host=t,a(s);var l="/"===t.charAt(0)?t:o(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=l,a(s)):l}t.normalize=o,t.join=s,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var l=!("__proto__"in Object.create(null));function c(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function d(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=l?c:function(e){return u(e)?"$"+e:e},t.fromSetString=l?c:function(e){return u(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=d(e.source,t.source);return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:d(e.name,t.name)},t.compareByOriginalPositionsNoSource=function(e,t,n){var r;return 0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:d(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=d(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:d(e.name,t.name)},t.compareByGeneratedPositionsDeflatedNoLine=function(e,t,n){var r=e.generatedColumn-t.generatedColumn;return 0!==r||n||0!==(r=d(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:d(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=d(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:d(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=i(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var l=r.path.lastIndexOf("/");l>=0&&(r.path=r.path.substring(0,l+1))}t=s(a(r),t)}return o(t)}},17076:function(e,t,n){var r;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(e){return s(c(e),arguments)}function o(e,t){return a.apply(null,[e].concat(t||[]))}function s(e,t){var n,r,o,s,l,c,u,d,p,f=1,h=e.length,g="";for(r=0;r<h;r++)if("string"===typeof e[r])g+=e[r];else if("object"===typeof e[r]){if((s=e[r]).keys)for(n=t[f],o=0;o<s.keys.length;o++){if(void 0==n)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[o],s.keys[o-1]));n=n[s.keys[o]]}else n=s.param_no?t[s.param_no]:t[f++];if(i.not_type.test(s.type)&&i.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),i.numeric_arg.test(s.type)&&"number"!==typeof n&&isNaN(n))throw new TypeError(a("[sprintf] expecting number but found %T",n));switch(i.number.test(s.type)&&(d=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}i.json.test(s.type)?g+=n:(!i.number.test(s.type)||d&&!s.sign?p="":(p=d?"+":"-",n=n.toString().replace(i.sign,"")),c=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",u=s.width-(p+n).length,l=s.width&&u>0?c.repeat(u):"",g+=s.align?p+n+l:"0"===c?p+l+n:l+p+n)}return g}var l=Object.create(null);function c(e){if(l[e])return l[e];for(var t,n=e,r=[],a=0;n;){if(null!==(t=i.text.exec(n)))r.push(t[0]);else if(null!==(t=i.modulo.exec(n)))r.push("%");else{if(null===(t=i.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){a|=1;var o=[],s=t[2],c=[];if(null===(c=i.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(c[1]);""!==(s=s.substring(c[0].length));)if(null!==(c=i.key_access.exec(s)))o.push(c[1]);else{if(null===(c=i.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(c[1])}t[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return l[e]=r}t.sprintf=a,t.vsprintf=o,"undefined"!==typeof window&&(window.sprintf=a,window.vsprintf=o,void 0===(r=function(){return{sprintf:a,vsprintf:o}}.call(t,n,t,e))||(e.exports=r))}()},17206:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(83774)),a=n(85590);t.default=function(e,t){var n={};return e&&"string"===typeof e?((0,i.default)(e,(function(e,r){e&&r&&(n[(0,a.camelCase)(e,t)]=r)})),n):n}},85590:function(e,t){"use strict";t.__esModule=!0,t.camelCase=void 0;var n=/^--[a-zA-Z0-9-]+$/,r=/-([a-z])/g,i=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,s=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||i.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(o,l):e.replace(a,l)).replace(r,s))}},83774:function(e,t,n){var r=n(76949);e.exports=function(e,t){var n,i=null;if(!e||"string"!==typeof e)return i;for(var a,o,s=r(e),l="function"===typeof t,c=0,u=s.length;c<u;c++)a=(n=s[c]).property,o=n.value,l?t(a,o,n):o&&(i||(i={}),i[a]=o);return i}},43071:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},21531:function(e,t,n){"use strict";var r=n(47313);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),o((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},45531:function(e,t,n){"use strict";var r=n(47313),i=n(51239);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&p.hasValue){var t=p.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=o(e,d[0],d[1]);return l((function(){p.hasValue=!0,p.value=f}),[f]),u(f),f}},51239:function(e,t,n){"use strict";e.exports=n(21531)},37058:function(e,t,n){"use strict";e.exports=n(45531)},73897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},85372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},63405:function(e,t,n){var r=n(73897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},66115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},17156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,l,"next",e)}function l(e){t(o,i,a,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},56690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},89728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},26389:function(e,t,n){var r=n(73808),i=n(69617),a=n(94993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},38416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},10434:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},73808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},61655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},75263:function(e,t,n){var r=n(18698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},69617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},79498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},68872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},12218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42122:function(e,t,n){var r=n(38416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},70215:function(e,t,n){var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},94993:function(e,t,n){var r=n(18698).default,i=n(66115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},17061:function(e,t,n){var r=n(18698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=p(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}t.wrap=d;var f={};function h(){}function g(){}function m(){}var v={};u(v,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(Z([])));b&&b!==n&&a.call(b,s)&&(v=b);var x=m.prototype=h.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,o,s,l){var c=p(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=p(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function Z(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return g.prototype=m,u(x,"constructor",m),u(m,"constructor",g),g.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new k(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(x),u(x,c,"Generator"),u(x,s,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=Z,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:Z(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},27424:function(e,t,n){var r=n(85372),i=n(68872),a=n(86116),o=n(12218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},51589:function(e,t,n){var r=n(85372),i=n(79498),a=n(86116),o=n(12218);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(63405),i=n(79498),a=n(86116),o=n(42281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},18698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},86116:function(e,t,n){var r=n(73897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},5631:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},30907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},83878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},97326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},15671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},43144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},37762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(40181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}},27277:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(61120),i=n(78814),a=n(71002),o=n(97326);function s(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function l(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return s(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},87462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},11752:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(61120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},a.apply(this,arguments)}},61120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},60136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},78814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},59199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},25267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},45987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(63366);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},63366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},74165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(71002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(N){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return Z()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var p={};function f(){}function h(){}function g(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,o)&&(m=y);var b=g.prototype=f.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(a,o,s,l){var c=d(e[a],e,o);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==(0,r.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(p).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,l)}))}l(c.arg)}var a;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:Z}}function Z(){return{value:void 0,done:!0}}return h.prototype=g,c(b,"constructor",g),c(g,"constructor",h),h.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),c(b,l,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}},89611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},29439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(83878);var i=n(40181),a=n(25267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},84506:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(83878),i=n(59199),a=n(40181),o=n(25267);function s(e){return(0,r.Z)(e)||(0,i.Z)(e)||(0,a.Z)(e)||(0,o.Z)()}},93433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(30907);var i=n(59199),a=n(40181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},71002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},40181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(30907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},98737:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(61120),i=n(89611);var a=n(78814);function o(e,t,n){return o=(0,a.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,i.Z)(a,n.prototype),a},o.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,(0,r.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},s(e)}},89213:function(e,t,n){"use strict";function r(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:function(){return r}})},55837:function(e,t,n){"use strict";var r=n(89213),i=n(12382),a=n(35394),o=(0,i.Z)(r.Z),s=o.right;o.left,(0,i.Z)(a.Z).center;t.ZP=s},12382:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(89213);function i(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function a(e){var t,n,a;function s(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<0?i=o+1:a=o}while(i<a)}return i}return 2!==e.length?(t=r.Z,n=function(t,n){return(0,r.Z)(e(t),n)},a=function(t,n){return e(t)-n}):(t=e===r.Z||e===i?e:o,n=e,a=e),{left:s,center:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,i=s(e,t,n,r-1);return i>n&&a(e[i-1],t)>-a(e[i],t)?i-1:i},right:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<=0?i=o+1:a=o}while(i<a)}return i}}}function o(){return 0}},35394:function(e,t,n){"use strict";n.d(t,{K:function(){return s},Z:function(){return o}});var r=n(74165),i=n(37762),a=(0,r.Z)().mark(s);function o(e){return null===e?NaN:+e}function s(e,t){var n,o,s,l,c,u,d;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=21;break}n=(0,i.Z)(e),r.prev=2,n.s();case 4:if((o=n.n()).done){r.next=11;break}if(!(null!=(s=o.value)&&(s=+s)>=s)){r.next=9;break}return r.next=9,s;case 9:r.next=4;break;case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),n.e(r.t0);case 16:return r.prev=16,n.f(),r.finish(16);case 19:r.next=40;break;case 21:l=-1,c=(0,i.Z)(e),r.prev=23,c.s();case 25:if((u=c.n()).done){r.next=32;break}if(d=u.value,!(null!=(d=t(d,++l,e))&&(d=+d)>=d)){r.next=30;break}return r.next=30,d;case 30:r.next=25;break;case 32:r.next=37;break;case 34:r.prev=34,r.t1=r.catch(23),c.e(r.t1);case 37:return r.prev=37,c.f(),r.finish(37);case 40:case"end":return r.stop()}}),a,null,[[2,13,16,19],[23,34,37,40]])}},31266:function(e,t,n){"use strict";n.d(t,{G9:function(){return s},ZP:function(){return o},ly:function(){return l}});var r=Math.sqrt(50),i=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){var r,i,a,o,l=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=s(e,t,n))||!isFinite(o))return[];if(o>0){var c=Math.round(e/o),u=Math.round(t/o);for(c*o<e&&++c,u*o>t&&--u,a=new Array(i=u-c+1);++l<i;)a[l]=(c+l)*o}else{o=-o;var d=Math.round(e*o),p=Math.round(t*o);for(d/o<e&&++d,p/o>t&&--p,a=new Array(i=p-d+1);++l<i;)a[l]=(d+l)/o}return r&&a.reverse(),a}function s(e,t,n){var o=(t-e)/Math.max(0,n),s=Math.floor(Math.log(o)/Math.LN10),l=o/Math.pow(10,s);return s>=0?(l>=r?10:l>=i?5:l>=a?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(l>=r?10:l>=i?5:l>=a?2:1)}function l(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),l=o/s;return l>=r?s*=10:l>=i?s*=5:l>=a&&(s*=2),t<e?-s:s}},73984:function(e,t,n){"use strict";n.d(t,{WU:function(){return d},jH:function(){return p}});var r=n(75129);var i=n(84648);var a,o=n(4844);function s(e,t){var n=(0,o.V)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var l={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:o.Z,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return s(100*e,t)},r:s,s:function(e,t){var n=(0,o.V)(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(a=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+(0,o.V)(e,Math.max(0,t+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function c(e){return e}var u,d,p,f=Array.prototype.map,h=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function g(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?c:(t=f.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),s=void 0===e.currency?"":e.currency[0]+"",u=void 0===e.currency?"":e.currency[1]+"",d=void 0===e.decimal?".":e.decimal+"",p=void 0===e.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(f.call(e.numerals,String)),g=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"\u2212":e.minus+"",v=void 0===e.nan?"NaN":e.nan+"";function y(e){var t=(e=(0,i.Z)(e)).fill,n=e.align,r=e.sign,c=e.symbol,f=e.zero,y=e.width,b=e.comma,x=e.precision,w=e.trim,k=e.type;"n"===k?(b=!0,k="g"):l[k]||(void 0===x&&(x=12),w=!0,k="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var _="$"===c?s:"#"===c&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",C="$"===c?u:/[%p]/.test(k)?g:"",j=l[k],S=/[defgprs%]/.test(k);function Z(e){var i,s,l,c=_,u=C;if("c"===k)u=j(e)+u,e="";else{var g=(e=+e)<0||1/e<0;if(e=isNaN(e)?v:j(Math.abs(e),x),w&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),g&&0===+e&&"+"!==r&&(g=!1),c=(g?"("===r?r:m:"-"===r||"("===r?"":r)+c,u=("s"===k?h[8+a/3]:"")+u+(g&&"("===r?")":""),S)for(i=-1,s=e.length;++i<s;)if(48>(l=e.charCodeAt(i))||l>57){u=(46===l?d+e.slice(i+1):e.slice(i))+u,e=e.slice(0,i);break}}b&&!f&&(e=o(e,1/0));var Z=c.length+e.length+u.length,N=Z<y?new Array(y-Z+1).join(t):"";switch(b&&f&&(e=o(N+e,N.length?y-u.length:1/0),N=""),n){case"<":e=c+e+u+N;break;case"=":e=c+N+e+u;break;case"^":e=N.slice(0,Z=N.length>>1)+c+e+u+N.slice(Z);break;default:e=N+c+e+u}return p(e)}return x=void 0===x?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),Z.toString=function(){return e+""},Z}return{format:y,formatPrefix:function(e,t){var n=y(((e=(0,i.Z)(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor((0,r.Z)(t)/3))),o=Math.pow(10,-a),s=h[8+a/3];return function(e){return n(o*e)+s}}}}u=g({thousands:",",grouping:[3],currency:["$",""]}),d=u.format,p=u.formatPrefix},75129:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(4844);function i(e){return(e=(0,r.V)(Math.abs(e)))?e[1]:NaN}},4844:function(e,t,n){"use strict";function r(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}n.d(t,{V:function(){return i},Z:function(){return r}})},84648:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},98830:function(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{Z:function(){return r}})},12685:function(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}n.d(t,{Z:function(){return r}})},20314:function(e,t,n){"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function a(){}n.d(t,{Z:function(){return J}});var o=.7,s=1/o,l="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d=/^#([0-9a-f]{3,8})$/,p=new RegExp("^rgb\\(".concat(l,",").concat(l,",").concat(l,"\\)$")),f=new RegExp("^rgb\\(".concat(u,",").concat(u,",").concat(u,"\\)$")),h=new RegExp("^rgba\\(".concat(l,",").concat(l,",").concat(l,",").concat(c,"\\)$")),g=new RegExp("^rgba\\(".concat(u,",").concat(u,",").concat(u,",").concat(c,"\\)$")),m=new RegExp("^hsl\\(".concat(c,",").concat(u,",").concat(u,"\\)$")),v=new RegExp("^hsla\\(".concat(c,",").concat(u,",").concat(u,",").concat(c,"\\)$")),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function w(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?k(t):3===n?new S(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?_(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?_(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=p.exec(e))?new S(t[1],t[2],t[3],1):(t=f.exec(e))?new S(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?_(t[1],t[2],t[3],t[4]):(t=g.exec(e))?_(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?T(t[1],t[2]/100,t[3]/100,1):(t=v.exec(e))?T(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?k(y[e]):"transparent"===e?new S(NaN,NaN,NaN,0):null}function k(e){return new S(e>>16&255,e>>8&255,255&e,1)}function _(e,t,n,r){return r<=0&&(e=t=n=NaN),new S(e,t,n,r)}function C(e){return e instanceof a||(e=w(e)),e?new S((e=e.rgb()).r,e.g,e.b,e.opacity):new S}function j(e,t,n,r){return 1===arguments.length?C(e):new S(e,t,n,null==r?1:r)}function S(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Z(){return"#".concat(A(this.r)).concat(A(this.g)).concat(A(this.b))}function N(){var e=E(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(O(this.r),", ").concat(O(this.g),", ").concat(O(this.b)).concat(1===e?")":", ".concat(e,")"))}function E(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function O(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function A(e){return((e=O(e))<16?"0":"")+e.toString(16)}function T(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new M(e,t,n,r)}function P(e){if(e instanceof M)return new M(e.h,e.s,e.l,e.opacity);if(e instanceof a||(e=w(e)),!e)return new M;if(e instanceof M)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,c=(o+i)/2;return l?(s=t===o?(n-r)/l+6*(n<r):n===o?(r-t)/l+2:(t-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new M(s,l,c,e.opacity)}function M(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function I(e){return(e=(e||0)%360)<0?e+360:e}function D(e){return Math.max(0,Math.min(1,e||0))}function L(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function R(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}r(a,w,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return P(this).formatHsl()},formatRgb:x,toString:x}),r(S,j,i(a,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new S(O(this.r),O(this.g),O(this.b),E(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z,formatHex:Z,formatHex8:function(){return"#".concat(A(this.r)).concat(A(this.g)).concat(A(this.b)).concat(A(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:N,toString:N})),r(M,(function(e,t,n,r){return 1===arguments.length?P(e):new M(e,t,n,null==r?1:r)}),i(a,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new M(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new M(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new S(L(e>=240?e-240:e+120,i,r),L(e,i,r),L(e<120?e+240:e-120,i,r),this.opacity)},clamp:function(){return new M(I(this.h),D(this.s),D(this.l),E(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=E(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(I(this.h),", ").concat(100*D(this.s),"%, ").concat(100*D(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var B=function(e){return function(){return e}};function F(e,t){return function(n){return e+n*t}}function z(e){return 1===(e=+e)?V:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):B(isNaN(t)?n:t)}}function V(e,t){var n=t-e;return n?F(e,n):B(isNaN(e)?t:e)}var U=function e(t){var n=z(t);function r(e,t){var r=n((e=j(e)).r,(t=j(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=V(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function H(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=j(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}H((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return R((n-r/t)*t,o,i,a,s)}})),H((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return R((n-r/t)*t,i,a,o,s)}}));function W(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=J(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function q(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}var K=n(98830);function Y(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=J(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var G=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q=new RegExp(G.source,"g");function X(e,t){var n,r,i,a=G.lastIndex=Q.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=G.exec(e))&&(r=Q.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:(0,K.Z)(n,r)})),a=Q.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function $(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function J(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?B(t):("number"===i?K.Z:"string"===i?(n=w(t))?(t=n,U):X:t instanceof w?U:t instanceof Date?q:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?W:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Y:K.Z:$))(e,t)}},91012:function(e,t){"use strict";var n=Math.PI,r=2*n,i=1e-6,a=r-i;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new o}o.prototype=s.prototype={constructor:o,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,r,a,o){e=+e,t=+t,r=+r,a=+a,o=+o;var s=this._x1,l=this._y1,c=r-e,u=a-t,d=s-e,p=l-t,f=d*d+p*p;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>i)if(Math.abs(p*c-u*d)>i&&o){var h=r-s,g=a-l,m=c*c+u*u,v=h*h+g*g,y=Math.sqrt(m),b=Math.sqrt(f),x=o*Math.tan((n-Math.acos((m+f-v)/(2*y*b)))/2),w=x/b,k=x/y;Math.abs(w-1)>i&&(this._+="L"+(e+w*d)+","+(t+w*p)),this._+="A"+o+","+o+",0,0,"+ +(p*h>d*g)+","+(this._x1=e+k*c)+","+(this._y1=t+k*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,o,s,l,c){e=+e,t=+t,c=!!c;var u=(o=+o)*Math.cos(s),d=o*Math.sin(s),p=e+u,f=t+d,h=1^c,g=c?s-l:l-s;if(o<0)throw new Error("negative radius: "+o);null===this._x1?this._+="M"+p+","+f:(Math.abs(this._x1-p)>i||Math.abs(this._y1-f)>i)&&(this._+="L"+p+","+f),o&&(g<0&&(g=g%r+r),g>a?this._+="A"+o+","+o+",0,1,"+h+","+(e-u)+","+(t-d)+"A"+o+","+o+",0,1,"+h+","+(this._x1=p)+","+(this._y1=f):g>i&&(this._+="A"+o+","+o+",0,"+ +(g>=n)+","+h+","+(this._x1=e+o*Math.cos(l))+","+(this._y1=t+o*Math.sin(l))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.Z=s},34042:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},x:function(){return c}});var r=n(29439);function i(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}var a=n(87799),o=n(14414);function s(){var e,t,n=(0,o.Z)().unknown(void 0),l=n.domain,c=n.range,u=0,d=1,p=!1,f=0,h=0,g=.5;function m(){var n=l().length,r=d<u,a=r?d:u,o=r?u:d;e=(o-a)/Math.max(1,n-f+2*h),p&&(e=Math.floor(e)),a+=(o-a-e*(n-f))*g,t=e*(1-f),p&&(a=Math.round(a),t=Math.round(t));var s=i(n).map((function(t){return a+e*t}));return c(r?s.reverse():s)}return delete n.unknown,n.domain=function(e){return arguments.length?(l(e),m()):l()},n.range=function(e){var t;return arguments.length?(t=(0,r.Z)(e,2),u=t[0],d=t[1],u=+u,d=+d,m()):[u,d]},n.rangeRound=function(e){var t;return t=(0,r.Z)(e,2),u=t[0],d=t[1],u=+u,d=+d,p=!0,m()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(p=!!e,m()):p},n.padding=function(e){return arguments.length?(f=Math.min(1,h=+e),m()):f},n.paddingInner=function(e){return arguments.length?(f=Math.min(1,e),m()):f},n.paddingOuter=function(e){return arguments.length?(h=+e,m()):h},n.align=function(e){return arguments.length?(g=Math.max(0,Math.min(1,e)),m()):g},n.copy=function(){return s(l(),[u,d]).round(p).paddingInner(f).paddingOuter(h).align(g)},a.o.apply(m(),arguments)}function l(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return l(t())},e}function c(){return l(s.apply(null,arguments).paddingInner(1))}},88203:function(e,t,n){"use strict";n.d(t,{JG:function(){return f},ZP:function(){return g},yR:function(){return c},l4:function(){return h}});var r=n(55837),i=n(20314),a=n(98830),o=n(12685);var s=n(25236),l=[0,1];function c(e){return e}function u(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function d(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=u(i,r),a=n(o,a)):(r=u(r,i),a=n(a,o)),function(e){return a(r(e))}}function p(e,t,n){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)a[s]=u(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=(0,r.ZP)(e,t,1,i)-1;return o[n](a[n](t))}}function f(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function h(){var e,t,n,r,u,f,h=l,g=l,m=i.Z,v=c;function y(){var e=Math.min(h.length,g.length);return v!==c&&(v=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(h[0],h[e-1])),r=e>2?p:d,u=f=null,b}function b(t){return null==t||isNaN(t=+t)?n:(u||(u=r(h.map(e),g,m)))(e(v(t)))}return b.invert=function(n){return v(t((f||(f=r(g,h.map(e),a.Z)))(n)))},b.domain=function(e){return arguments.length?(h=Array.from(e,s.Z),y()):h.slice()},b.range=function(e){return arguments.length?(g=Array.from(e),y()):g.slice()},b.rangeRound=function(e){return g=Array.from(e),m=o.Z,y()},b.clamp=function(e){return arguments.length?(v=!!e||c,y()):v!==c},b.interpolate=function(e){return arguments.length?(m=e,y()):m},b.unknown=function(e){return arguments.length?(n=e,b):n},function(n,r){return e=n,t=r,y()}}function g(){return h()(c,c)}},2488:function(e,t,n){"use strict";n.r(t),n.d(t,{scaleBand:function(){return r.Z},scaleDiverging:function(){return Hn},scaleDivergingLog:function(){return Wn},scaleDivergingPow:function(){return Kn},scaleDivergingSqrt:function(){return Yn},scaleDivergingSymlog:function(){return qn},scaleIdentity:function(){return o},scaleImplicit:function(){return j.O},scaleLinear:function(){return i.Z},scaleLog:function(){return x},scaleOrdinal:function(){return j.Z},scalePoint:function(){return r.x},scalePow:function(){return O},scaleQuantile:function(){return K},scaleQuantize:function(){return G},scaleRadial:function(){return M},scaleSequential:function(){return Dn},scaleSequentialLog:function(){return Ln},scaleSequentialPow:function(){return Bn},scaleSequentialQuantile:function(){return zn},scaleSequentialSqrt:function(){return Fn},scaleSequentialSymlog:function(){return Rn},scaleSqrt:function(){return A},scaleSymlog:function(){return C},scaleThreshold:function(){return Q},scaleTime:function(){return On},scaleUtc:function(){return An},tickFormat:function(){return Gn.Z}});var r=n(34042),i=n(19695),a=n(25236);function o(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,a.Z),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return o(e).unknown(t)},e=arguments.length?Array.from(e,a.Z):[0,1],(0,i.Q)(n)}var s=n(31266),l=n(84648),c=n(73984);function u(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}var d=n(88203),p=n(87799);function f(e){return Math.log(e)}function h(e){return Math.exp(e)}function g(e){return-Math.log(-e)}function m(e){return-Math.exp(-e)}function v(e){return isFinite(e)?+("1e"+e):e<0?0:e}function y(e){return function(t,n){return-e(-t,n)}}function b(e){var t,n,r=e(f,h),i=r.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?v:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),i()[0]<0?(t=y(t),n=y(n),e(g,m)):e(f,h),r}return r.base=function(e){return arguments.length?(a=+e,o()):a},r.domain=function(e){return arguments.length?(i(e),o()):i()},r.ticks=function(e){var r=i(),o=r[0],l=r[r.length-1],c=l<o;if(c){var u=[l,o];o=u[0],l=u[1]}var d,p,f=t(o),h=t(l),g=null==e?10:+e,m=[];if(!(a%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),o>0){for(;f<=h;++f)for(d=1;d<a;++d)if(!((p=f<0?d/n(-f):d*n(f))<o)){if(p>l)break;m.push(p)}}else for(;f<=h;++f)for(d=a-1;d>=1;--d)if(!((p=f>0?d/n(-f):d*n(f))<o)){if(p>l)break;m.push(p)}2*m.length<g&&(m=(0,s.ZP)(o,l,g))}else m=(0,s.ZP)(f,h,Math.min(h-f,g)).map(n);return c?m.reverse():m},r.tickFormat=function(e,i){if(null==e&&(e=10),null==i&&(i=10===a?"s":","),"function"!==typeof i&&(a%1||null!=(i=(0,l.Z)(i)).precision||(i.trim=!0),i=(0,c.WU)(i)),e===1/0)return i;var o=Math.max(1,a*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*a<a-.5&&(r*=a),r<=o?i(e):""}},r.nice=function(){return i(u(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function x(){var e=b((0,d.l4)()).domain([1,10]);return e.copy=function(){return(0,d.JG)(e,x()).base(e.base())},p.o.apply(e,arguments),e}function w(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function k(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _(e){var t=1,n=e(w(t),k(t));return n.constant=function(n){return arguments.length?e(w(t=+n),k(t)):t},(0,i.Q)(n)}function C(){var e=_((0,d.l4)());return e.copy=function(){return(0,d.JG)(e,C()).constant(e.constant())},p.o.apply(e,arguments)}var j=n(14414);function S(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Z(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function N(e){return e<0?-e*e:e*e}function E(e){var t=e(d.yR,d.yR),n=1;function r(){return 1===n?e(d.yR,d.yR):.5===n?e(Z,N):e(S(n),S(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},(0,i.Q)(t)}function O(){var e=E((0,d.l4)());return e.copy=function(){return(0,d.JG)(e,O()).exponent(e.exponent())},p.o.apply(e,arguments),e}function A(){return O.apply(null,arguments).exponent(.5)}function T(e){return Math.sign(e)*e*e}function P(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function M(){var e,t=(0,d.ZP)(),n=[0,1],r=!1;function o(n){var i=P(t(n));return isNaN(i)?e:r?Math.round(i):i}return o.invert=function(e){return t.invert(T(e))},o.domain=function(e){return arguments.length?(t.domain(e),o):t.domain()},o.range=function(e){return arguments.length?(t.range((n=Array.from(e,a.Z)).map(T)),o):n.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(r=!!e,o):r},o.clamp=function(e){return arguments.length?(t.clamp(e),o):t.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return M(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},p.o.apply(o,arguments),(0,i.Q)(o)}var I=n(37762);function D(e,t){var n;if(void 0===t){var r,i=(0,I.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(u){i.e(u)}finally{i.f()}}else{var o,s=-1,l=(0,I.Z)(e);try{for(l.s();!(o=l.n()).done;){var c=o.value;null!=(c=t(c,++s,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(u){l.e(u)}finally{l.f()}}return n}function L(e,t){var n;if(void 0===t){var r,i=(0,I.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(u){i.e(u)}finally{i.f()}}else{var o,s=-1,l=(0,I.Z)(e);try{for(l.s();!(o=l.n()).done;){var c=o.value;null!=(c=t(c,++s,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(u){l.e(u)}finally{l.f()}}return n}var R=n(89213);function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.Z;if(e===R.Z)return F;if("function"!==typeof e)throw new TypeError("compare is not a function");return function(t,n){var r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function F(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=arguments.length>4?arguments[4]:void 0;for(i=void 0===i?F:B(i);r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1),u=Math.max(n,Math.floor(t-o*l/a+c)),d=Math.min(r,Math.floor(t+(a-o)*l/a+c));z(e,t,u,d,i)}var p=e[t],f=n,h=r;for(V(e,n,t),i(e[r],p)>0&&V(e,n,r);f<h;){for(V(e,f,h),++f,--h;i(e[f],p)<0;)++f;for(;i(e[h],p)>0;)--h}0===i(e[n],p)?V(e,n,h):V(e,++h,r),h<=t&&(n=h+1),t<=h&&(r=h-1)}return e}function V(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var U=n(35394);function H(e,t,n){if(r=(e=Float64Array.from((0,U.K)(e,n))).length){if((t=+t)<=0||r<2)return L(e);if(t>=1)return D(e);var r,i=(r-1)*t,a=Math.floor(i),o=D(z(e,a).subarray(0,a+1));return o+(L(e.subarray(a+1))-o)*(i-a)}}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U.Z;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}var q=n(55837);function K(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=W(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[(0,q.ZP)(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];var n,r=(0,I.Z)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;null==a||isNaN(a=+a)||t.push(a)}}catch(o){r.e(o)}finally{r.f()}return t.sort(R.Z),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return K().domain(t).range(n).unknown(e)},p.o.apply(a,arguments)}var Y=n(29439);function G(){var e,t=0,n=1,r=1,a=[.5],o=[0,1];function s(t){return null!=t&&t<=t?o[(0,q.ZP)(a,t,0,r)]:e}function l(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){var r;return arguments.length?(r=(0,Y.Z)(e,2),t=r[0],n=r[1],t=+t,n=+n,l()):[t,n]},s.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,l()):o.slice()},s.invertExtent=function(e){var i=o.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=r?[a[r-1],n]:[a[i-1],a[i]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return G().domain([t,n]).range(o).unknown(e)},p.o.apply((0,i.Q)(s),arguments)}function Q(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[(0,q.ZP)(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Q().domain(t).range(n).unknown(e)},p.o.apply(i,arguments)}var X=n(12382),$=1e3,J=6e4,ee=36e5,te=864e5,ne=6048e5,re=2592e6,ie=31536e6,ae=new Date,oe=new Date;function se(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return s;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=function(n){return se((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return ae.setTime(+t),oe.setTime(+r),e(ae),e(oe),Math.floor(n(ae,oe))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var le=se((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));le.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?se((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):le:null};var ce=le,ue=(le.range,se((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*$)}),(function(e,t){return(t-e)/$}),(function(e){return e.getUTCSeconds()}))),de=ue,pe=(ue.range,se((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*$)}),(function(e,t){e.setTime(+e+t*J)}),(function(e,t){return(t-e)/J}),(function(e){return e.getMinutes()}))),fe=pe,he=(pe.range,se((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*$-e.getMinutes()*J)}),(function(e,t){e.setTime(+e+t*ee)}),(function(e,t){return(t-e)/ee}),(function(e){return e.getHours()}))),ge=he,me=(he.range,se((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*J)/te}),(function(e){return e.getDate()-1}))),ve=me;me.range;function ye(e){return se((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*J)/ne}))}var be=ye(0),xe=ye(1),we=ye(2),ke=ye(3),_e=ye(4),Ce=ye(5),je=ye(6),Se=(be.range,xe.range,we.range,ke.range,_e.range,Ce.range,je.range,se((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),Ze=Se,Ne=(Se.range,se((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));Ne.every=function(e){return isFinite(e=Math.floor(e))&&e>0?se((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Ee=Ne,Oe=(Ne.range,se((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*J)}),(function(e,t){return(t-e)/J}),(function(e){return e.getUTCMinutes()}))),Ae=Oe,Te=(Oe.range,se((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*ee)}),(function(e,t){return(t-e)/ee}),(function(e){return e.getUTCHours()}))),Pe=Te,Me=(Te.range,se((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/te}),(function(e){return e.getUTCDate()-1}))),Ie=Me;Me.range;function De(e){return se((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/ne}))}var Le=De(0),Re=De(1),Be=De(2),Fe=De(3),ze=De(4),Ve=De(5),Ue=De(6),He=(Le.range,Re.range,Be.range,Fe.range,ze.range,Ve.range,Ue.range,se((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),We=He,qe=(He.range,se((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));qe.every=function(e){return isFinite(e=Math.floor(e))&&e>0?se((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Ke=qe;qe.range;function Ye(e,t,n,r,i,a){var o=[[de,1,$],[de,5,5e3],[de,15,15e3],[de,30,3e4],[a,1,J],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,ee],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,te],[r,2,1728e5],[n,1,ne],[t,1,re],[t,3,7776e6],[e,1,ie]];function l(t,n,r){var i=Math.abs(n-t)/r,a=(0,X.Z)((function(e){return(0,Y.Z)(e,3)[2]})).right(o,i);if(a===o.length)return e.every((0,s.ly)(t/ie,n/ie,r));if(0===a)return ce.every(Math.max((0,s.ly)(t,n,r),1));var l=(0,Y.Z)(o[i/o[a-1][2]<o[a][2]/i?a-1:a],2),c=l[0],u=l[1];return c.every(u)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var a=n&&"function"===typeof n.range?n:l(e,t,n),o=a?a.range(e,+t+1):[];return r?o.reverse():o},l]}var Ge=Ye(Ke,We,Le,Ie,Pe,Ae),Qe=(0,Y.Z)(Ge,2),Xe=Qe[0],$e=Qe[1],Je=Ye(Ee,Ze,be,ve,ge,fe),et=(0,Y.Z)(Je,2),tt=et[0],nt=et[1];function rt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function it(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function at(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var ot,st,lt,ct={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,dt=/^%/,pt=/[\\^$*+?|[\]().{}]/g;function ft(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function ht(e){return e.replace(pt,"\\$&")}function gt(e){return new RegExp("^(?:"+e.map(ht).join("|")+")","i")}function mt(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function vt(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function yt(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function bt(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xt(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function wt(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kt(e,t,n){var r=ut.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _t(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ct(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jt(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function St(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Zt(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Nt(e,t,n){var r=ut.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Et(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ot(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function At(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Tt(e,t,n){var r=ut.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Pt(e,t,n){var r=ut.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Mt(e,t,n){var r=dt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function It(e,t,n){var r=ut.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Dt(e,t,n){var r=ut.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Lt(e,t){return ft(e.getDate(),t,2)}function Rt(e,t){return ft(e.getHours(),t,2)}function Bt(e,t){return ft(e.getHours()%12||12,t,2)}function Ft(e,t){return ft(1+ve.count(Ee(e),e),t,3)}function zt(e,t){return ft(e.getMilliseconds(),t,3)}function Vt(e,t){return zt(e,t)+"000"}function Ut(e,t){return ft(e.getMonth()+1,t,2)}function Ht(e,t){return ft(e.getMinutes(),t,2)}function Wt(e,t){return ft(e.getSeconds(),t,2)}function qt(e){var t=e.getDay();return 0===t?7:t}function Kt(e,t){return ft(be.count(Ee(e)-1,e),t,2)}function Yt(e){var t=e.getDay();return t>=4||0===t?_e(e):_e.ceil(e)}function Gt(e,t){return e=Yt(e),ft(_e.count(Ee(e),e)+(4===Ee(e).getDay()),t,2)}function Qt(e){return e.getDay()}function Xt(e,t){return ft(xe.count(Ee(e)-1,e),t,2)}function $t(e,t){return ft(e.getFullYear()%100,t,2)}function Jt(e,t){return ft((e=Yt(e)).getFullYear()%100,t,2)}function en(e,t){return ft(e.getFullYear()%1e4,t,4)}function tn(e,t){var n=e.getDay();return ft((e=n>=4||0===n?_e(e):_e.ceil(e)).getFullYear()%1e4,t,4)}function nn(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ft(t/60|0,"0",2)+ft(t%60,"0",2)}function rn(e,t){return ft(e.getUTCDate(),t,2)}function an(e,t){return ft(e.getUTCHours(),t,2)}function on(e,t){return ft(e.getUTCHours()%12||12,t,2)}function sn(e,t){return ft(1+Ie.count(Ke(e),e),t,3)}function ln(e,t){return ft(e.getUTCMilliseconds(),t,3)}function cn(e,t){return ln(e,t)+"000"}function un(e,t){return ft(e.getUTCMonth()+1,t,2)}function dn(e,t){return ft(e.getUTCMinutes(),t,2)}function pn(e,t){return ft(e.getUTCSeconds(),t,2)}function fn(e){var t=e.getUTCDay();return 0===t?7:t}function hn(e,t){return ft(Le.count(Ke(e)-1,e),t,2)}function gn(e){var t=e.getUTCDay();return t>=4||0===t?ze(e):ze.ceil(e)}function mn(e,t){return e=gn(e),ft(ze.count(Ke(e),e)+(4===Ke(e).getUTCDay()),t,2)}function vn(e){return e.getUTCDay()}function yn(e,t){return ft(Re.count(Ke(e)-1,e),t,2)}function bn(e,t){return ft(e.getUTCFullYear()%100,t,2)}function xn(e,t){return ft((e=gn(e)).getUTCFullYear()%100,t,2)}function wn(e,t){return ft(e.getUTCFullYear()%1e4,t,4)}function kn(e,t){var n=e.getUTCDay();return ft((e=n>=4||0===n?ze(e):ze.ceil(e)).getUTCFullYear()%1e4,t,4)}function _n(){return"+0000"}function Cn(){return"%"}function jn(e){return+e}function Sn(e){return Math.floor(+e/1e3)}function Zn(e){return new Date(e)}function Nn(e){return e instanceof Date?+e:+new Date(+e)}function En(e,t,n,r,i,a,o,s,l,c){var p=(0,d.ZP)(),f=p.invert,h=p.domain,g=c(".%L"),m=c(":%S"),v=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),x=c("%b %d"),w=c("%B"),k=c("%Y");function _(e){return(l(e)<e?g:s(e)<e?m:o(e)<e?v:a(e)<e?y:r(e)<e?i(e)<e?b:x:n(e)<e?w:k)(e)}return p.invert=function(e){return new Date(f(e))},p.domain=function(e){return arguments.length?h(Array.from(e,Nn)):h().map(Zn)},p.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},p.tickFormat=function(e,t){return null==t?_:c(t)},p.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(u(n,e)):p},p.copy=function(){return(0,d.JG)(p,En(e,t,n,r,i,a,o,s,l,c))},p}function On(){return p.o.apply(En(tt,nt,Ee,Ze,be,ve,ge,fe,de,st).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function An(){return p.o.apply(En(Xe,$e,Ke,We,Le,Ie,Pe,Ae,de,lt).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}ot=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=gt(i),u=mt(i),d=gt(a),p=mt(a),f=gt(o),h=mt(o),g=gt(s),m=mt(s),v=gt(l),y=mt(l),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Lt,e:Lt,f:Vt,g:Jt,G:tn,H:Rt,I:Bt,j:Ft,L:zt,m:Ut,M:Ht,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:jn,s:Sn,S:Wt,u:qt,U:Kt,V:Gt,w:Qt,W:Xt,x:null,X:null,y:$t,Y:en,Z:nn,"%":Cn},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:rn,e:rn,f:cn,g:xn,G:kn,H:an,I:on,j:sn,L:ln,m:un,M:dn,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:jn,s:Sn,S:pn,u:fn,U:hn,V:mn,w:vn,W:yn,x:null,X:null,y:bn,Y:wn,Z:_n,"%":Cn},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return C(e,t,n,r)},d:Zt,e:Zt,f:Pt,g:_t,G:kt,H:Et,I:Et,j:Nt,L:Tt,m:St,M:Ot,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:jt,Q:It,s:Dt,S:At,u:yt,U:bt,V:xt,w:vt,W:wt,x:function(e,t,r){return C(e,n,t,r)},X:function(e,t,n){return C(e,r,t,n)},y:_t,Y:kt,Z:Ct,"%":Mt};function k(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=ct[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function _(e,t){return function(n){var r,i,a=at(1900,void 0,1);if(C(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=it(at(a.y,0,1))).getUTCDay(),r=i>4||0===i?Re.ceil(r):Re(r),r=Ie.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=rt(at(a.y,0,1))).getDay(),r=i>4||0===i?xe.ceil(r):xe(r),r=ve.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?it(at(a.y,0,1)).getUTCDay():rt(at(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,it(a)):rt(a)}}function C(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in ct?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),st=ot.format,ot.parse,lt=ot.utcFormat,ot.utcParse;var Tn=n(20314),Pn=n(12685);function Mn(){var e,t,n,r,i,a=0,o=1,s=d.yR,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r,i;return arguments.length?(r=(n=(0,Y.Z)(t,2))[0],i=n[1],s=e(r,i),c):[s(0),s(1)]}}return c.domain=function(i){var s;return arguments.length?(s=(0,Y.Z)(i,2),a=s[0],o=s[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Tn.Z),c.rangeRound=u(Pn.Z),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function In(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Dn(){var e=(0,i.Q)(Mn()(d.yR));return e.copy=function(){return In(e,Dn())},p.O.apply(e,arguments)}function Ln(){var e=b(Mn()).domain([1,10]);return e.copy=function(){return In(e,Ln()).base(e.base())},p.O.apply(e,arguments)}function Rn(){var e=_(Mn());return e.copy=function(){return In(e,Rn()).constant(e.constant())},p.O.apply(e,arguments)}function Bn(){var e=E(Mn());return e.copy=function(){return In(e,Bn()).exponent(e.exponent())},p.O.apply(e,arguments)}function Fn(){return Bn.apply(null,arguments).exponent(.5)}function zn(){var e=[],t=d.yR;function n(n){if(null!=n&&!isNaN(n=+n))return t(((0,q.ZP)(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];var r,i=(0,I.Z)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;null==a||isNaN(a=+a)||e.push(a)}}catch(o){i.e(o)}finally{i.f()}return e.sort(R.Z),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((function(n,r){return t(r/(e.length-1))}))},n.quantiles=function(t){return Array.from({length:t+1},(function(n,r){return H(e,r/t)}))},n.copy=function(){return zn(t).domain(e)},p.O.apply(n,arguments)}function Vn(e,t){void 0===t&&(t=e,e=Tn.Z);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}function Un(){var e,t,n,r,i,a,o,s=0,l=.5,c=1,u=1,p=d.yR,f=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),p(f?Math.max(0,Math.min(1,e)):e))}function g(e){return function(t){var n,r,i,a;return arguments.length?(r=(n=(0,Y.Z)(t,3))[0],i=n[1],a=n[2],p=Vn(e,[r,i,a]),h):[p(0),p(.5),p(1)]}}return h.domain=function(o){var d;return arguments.length?(d=(0,Y.Z)(o,3),s=d[0],l=d[1],c=d[2],e=a(s=+s),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,h):[s,l,c]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(p=e,h):p},h.range=g(Tn.Z),h.rangeRound=g(Pn.Z),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,h}}function Hn(){var e=(0,i.Q)(Un()(d.yR));return e.copy=function(){return In(e,Hn())},p.O.apply(e,arguments)}function Wn(){var e=b(Un()).domain([.1,1,10]);return e.copy=function(){return In(e,Wn()).base(e.base())},p.O.apply(e,arguments)}function qn(){var e=_(Un());return e.copy=function(){return In(e,qn()).constant(e.constant())},p.O.apply(e,arguments)}function Kn(){var e=E(Un());return e.copy=function(){return In(e,Kn()).exponent(e.exponent())},p.O.apply(e,arguments)}function Yn(){return Kn.apply(null,arguments).exponent(.5)}var Gn=n(79609)},87799:function(e,t,n){"use strict";function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function i(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}n.d(t,{O:function(){return i},o:function(){return r}})},19695:function(e,t,n){"use strict";n.d(t,{Q:function(){return s},Z:function(){return l}});var r=n(31266),i=n(88203),a=n(87799),o=n(79609);function s(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,r.ZP)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return(0,o.Z)(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,a,o=t(),s=0,l=o.length-1,c=o[s],u=o[l],d=10;for(u<c&&(a=c,c=u,u=a,a=s,s=l,l=a);d-- >0;){if((a=(0,r.G9)(c,u,n))===i)return o[s]=c,o[l]=u,t(o);if(a>0)c=Math.floor(c/a)*a,u=Math.ceil(u/a)*a;else{if(!(a<0))break;c=Math.ceil(c*a)/a,u=Math.floor(u*a)/a}i=a}return e},e}function l(){var e=(0,i.ZP)();return e.copy=function(){return(0,i.JG)(e,l())},a.o.apply(e,arguments),s(e)}},25236:function(e,t,n){"use strict";function r(e){return+e}n.d(t,{Z:function(){return r}})},14414:function(e,t,n){"use strict";n.d(t,{Z:function(){return x},O:function(){return b}});var r=n(37762),i=n(29439),a=n(15671),o=n(43144),s=n(97326),l=n(11752),c=n(61120),u=n(60136),d=n(27277),p=n(98737),f=function(e){(0,u.Z)(n,e);var t=(0,d.Z)(n);function n(e){var o,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;if((0,a.Z)(this,n),o=t.call(this),Object.defineProperties((0,s.Z)(o),{_intern:{value:new Map},_key:{value:l}}),null!=e){var c,u=(0,r.Z)(e);try{for(u.s();!(c=u.n()).done;){var d=(0,i.Z)(c.value,2),p=d[0],f=d[1];o.set(p,f)}}catch(h){u.e(h)}finally{u.f()}}return o}return(0,o.Z)(n,[{key:"get",value:function(e){return(0,l.Z)((0,c.Z)(n.prototype),"get",this).call(this,h(this,e))}},{key:"has",value:function(e){return(0,l.Z)((0,c.Z)(n.prototype),"has",this).call(this,h(this,e))}},{key:"set",value:function(e,t){return(0,l.Z)((0,c.Z)(n.prototype),"set",this).call(this,g(this,e),t)}},{key:"delete",value:function(e){return(0,l.Z)((0,c.Z)(n.prototype),"delete",this).call(this,m(this,e))}}]),n}((0,p.Z)(Map));Set;function h(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function g(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function m(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function v(e){return null!==e&&"object"===typeof e?e.valueOf():e}var y=n(87799),b=Symbol("implicit");function x(){var e=new f,t=[],n=[],i=b;function a(r){var a=e.get(r);if(void 0===a){if(i!==b)return i;e.set(r,a=t.push(r)-1)}return n[a%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new f;var i,o=(0,r.Z)(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;e.has(s)||e.set(s,t.push(s)-1)}}catch(l){o.e(l)}finally{o.f()}return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(i=e,a):i},a.copy=function(){return x(t,n).unknown(i)},y.o.apply(a,arguments),a}},79609:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(31266),i=n(84648),a=n(75129);var o=n(73984);function s(e,t,n,s){var l,c=(0,r.ly)(e,t,n);switch((s=(0,i.Z)(null==s?",f":s)).type){case"s":var u=Math.max(Math.abs(e),Math.abs(t));return null!=s.precision||isNaN(l=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,a.Z)(t)/3)))-(0,a.Z)(Math.abs(e)))}(c,u))||(s.precision=l),(0,o.jH)(s,u);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(l=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,a.Z)(t)-(0,a.Z)(e))+1}(c,Math.max(Math.abs(e),Math.abs(t))))||(s.precision=l-("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(l=function(e){return Math.max(0,-(0,a.Z)(Math.abs(e)))}(c))||(s.precision=l-2*("%"===s.type))}return(0,o.WU)(s)}},99860:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(91012),i=n(11852),a=n(90372),o=n(79191),s=n(2179),l=n(57303);function c(e,t,n){var c=null,u=(0,a.Z)(!0),d=null,p=o.Z,f=null;function h(a){var o,s,l,h,g,m=(a=(0,i.Z)(a)).length,v=!1,y=new Array(m),b=new Array(m);for(null==d&&(f=p(g=(0,r.Z)())),o=0;o<=m;++o){if(!(o<m&&u(h=a[o],o,a))===v)if(v=!v)s=o,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),l=o-1;l>=s;--l)f.point(y[l],b[l]);f.lineEnd(),f.areaEnd()}v&&(y[o]=+e(h,o,a),b[o]=+t(h,o,a),f.point(c?+c(h,o,a):y[o],n?+n(h,o,a):b[o]))}if(g)return f=null,g+""||null}function g(){return(0,s.Z)().defined(u).curve(p).context(d)}return e="function"===typeof e?e:void 0===e?l.x:(0,a.Z)(+e),t="function"===typeof t?t:void 0===t?(0,a.Z)(0):(0,a.Z)(+t),n="function"===typeof n?n:void 0===n?l.y:(0,a.Z)(+n),h.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,a.Z)(+t),c=null,h):e},h.x0=function(t){return arguments.length?(e="function"===typeof t?t:(0,a.Z)(+t),h):e},h.x1=function(e){return arguments.length?(c=null==e?null:"function"===typeof e?e:(0,a.Z)(+e),h):c},h.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,a.Z)(+e),n=null,h):t},h.y0=function(e){return arguments.length?(t="function"===typeof e?e:(0,a.Z)(+e),h):t},h.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:(0,a.Z)(+e),h):n},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(n)},h.lineX1=function(){return g().x(c).y(t)},h.defined=function(e){return arguments.length?(u="function"===typeof e?e:(0,a.Z)(!!e),h):u},h.curve=function(e){return arguments.length?(p=e,null!=d&&(f=p(d)),h):p},h.context=function(e){return arguments.length?(null==e?d=f=null:f=p(d=e),h):d},h}},11852:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});Array.prototype.slice;function r(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}},90372:function(e,t,n){"use strict";function r(e){return function(){return e}}n.d(t,{Z:function(){return r}})},37095:function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function i(e){this._context=e}function a(e){return new i(e)}n.d(t,{ZP:function(){return a},xm:function(){return r}}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},42767:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(56834),i=n(37095);function a(e){this._context=e}function o(e){return new a(e)}a.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:(0,i.xm)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},58517:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(37095);function i(e){this._context=e}function a(e){return new i(e)}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:(0,r.xm)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},79191:function(e,t,n){"use strict";function r(e){this._context=e}function i(e){return new r(e)}n.d(t,{Z:function(){return i}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},75024:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(56834);function i(e){this._context=e}function a(e){return new i(e)}i.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}},58077:function(e,t,n){"use strict";function r(e){return e<0?-1:1}function i(e,t,n){var i=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(i||a<0&&-0),s=(n-e._y1)/(a||i<0&&-0),l=(o*a+s*i)/(i+a);return(r(o)+r(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function a(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function s(e){this._context=e}function l(e){this._context=new c(e)}function c(e){this._context=e}function u(e){return new s(e)}function d(e){return new l(e)}n.d(t,{Z:function(){return u},s:function(){return d}}),s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o(this,this._t0,a(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o(this,a(this,n=i(this,e,t)),n);break;default:o(this,this._t0,n=i(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(l.prototype=Object.create(s.prototype)).point=function(e,t){s.prototype.point.call(this,t,e)},c.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}}},23397:function(e,t,n){"use strict";function r(e){this._context=e}function i(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function a(e){return new r(e)}n.d(t,{Z:function(){return a}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=i(e),a=i(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}},76863:function(e,t,n){"use strict";function r(e,t){this._context=e,this._t=t}function i(e){return new r(e,.5)}function a(e){return new r(e,0)}function o(e){return new r(e,1)}n.d(t,{RN:function(){return a},ZP:function(){return i},cD:function(){return o}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},2179:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(91012),i=n(11852),a=n(90372),o=n(79191),s=n(57303);function l(e,t){var n=(0,a.Z)(!0),l=null,c=o.Z,u=null;function d(a){var o,s,d,p=(a=(0,i.Z)(a)).length,f=!1;for(null==l&&(u=c(d=(0,r.Z)())),o=0;o<=p;++o)!(o<p&&n(s=a[o],o,a))===f&&((f=!f)?u.lineStart():u.lineEnd()),f&&u.point(+e(s,o,a),+t(s,o,a));if(d)return u=null,d+""||null}return e="function"===typeof e?e:void 0===e?s.x:(0,a.Z)(e),t="function"===typeof t?t:void 0===t?s.y:(0,a.Z)(t),d.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,a.Z)(+t),d):e},d.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,a.Z)(+e),d):t},d.defined=function(e){return arguments.length?(n="function"===typeof e?e:(0,a.Z)(!!e),d):n},d.curve=function(e){return arguments.length?(c=e,null!=l&&(u=c(l)),d):c},d.context=function(e){return arguments.length?(null==e?l=u=null:u=c(l=e),d):l},d}},2925:function(e,t,n){"use strict";n.d(t,{BZ:function(){return l},O$:function(){return a},VV:function(){return i},_b:function(){return o},mC:function(){return r},pi:function(){return s}});Math.abs,Math.atan2;var r=Math.cos,i=(Math.max,Math.min),a=Math.sin,o=Math.sqrt,s=Math.PI,l=2*s},56834:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},98878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(55180);function i(e,t){if((i=e.length)>0){for(var n,i,a,o=0,s=e[0].length;o<s;++o){for(a=n=0;n<i;++n)a+=e[n][o][1]||0;if(a)for(n=0;n<i;++n)e[n][o][1]/=a}(0,r.Z)(e,t)}}},55180:function(e,t,n){"use strict";function r(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}n.d(t,{Z:function(){return r}})},33331:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(55180);function i(e,t){if((n=e.length)>0){for(var n,i=0,a=e[t[0]],o=a.length;i<o;++i){for(var s=0,l=0;s<n;++s)l+=e[s][i][1]||0;a[i][1]+=a[i][0]=-l/2}(0,r.Z)(e,t)}}},639:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(55180);function i(e,t){if((a=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,a,o=0,s=1;s<i;++s){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],p=d[s][1]||0,f=(p-(d[s-1][1]||0))/2,h=0;h<l;++h){var g=e[t[h]];f+=(g[s][1]||0)-(g[s-1][1]||0)}c+=p,u+=f*p}n[s-1][1]+=n[s-1][0]=o,c&&(o-=u/c)}n[s-1][1]+=n[s-1][0]=o,(0,r.Z)(e,t)}}},83822:function(e,t,n){"use strict";function r(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}n.d(t,{Z:function(){return r}})},57303:function(e,t,n){"use strict";function r(e){return e[0]}function i(e){return e[1]}n.d(t,{x:function(){return r},y:function(){return i}})},46687:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(37762),i=n(11852),a=n(90372),o=n(55180),s=n(83822);function l(e,t){return e[t]}function c(e){var t=[];return t.key=e,t}function u(){var e=(0,a.Z)([]),t=s.Z,n=o.Z,u=l;function d(a){var o,s,l,d=Array.from(e.apply(this,arguments),c),p=d.length,f=-1,h=(0,r.Z)(a);try{for(h.s();!(l=h.n()).done;){var g=l.value;for(o=0,++f;o<p;++o)(d[o][f]=[0,+u(g,d[o].key,f,a)]).data=g}}catch(m){h.e(m)}finally{h.f()}for(o=0,s=(0,i.Z)(t(d));o<p;++o)d[s[o]].index=o;return n(d,s),d}return d.keys=function(t){return arguments.length?(e="function"===typeof t?t:(0,a.Z)(Array.from(t)),d):e},d.value=function(e){return arguments.length?(u="function"===typeof e?e:(0,a.Z)(+e),d):u},d.order=function(e){return arguments.length?(t=null==e?s.Z:"function"===typeof e?e:(0,a.Z)(Array.from(e)),d):t},d.offset=function(e){return arguments.length?(n=null==e?o.Z:e,d):n},d}},77208:function(e,t,n){"use strict";n.d(t,{ZP:function(){return w}});var r=n(91012),i=n(90372),a=n(2925),o=(0,a._b)(3),s={draw:function(e,t){var n=.59436*(0,a._b)(t+(0,a.VV)(t/28,.75)),r=n/2,i=r*o;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},l=n(9597),c=n(91271),u=n(15722),d={draw:function(e,t){var n=.62625*(0,a._b)(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},p={draw:function(e,t){var n=.87559*(0,a._b)(t-(0,a.VV)(t/7,2));e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},f=n(46545),h={draw:function(e,t){var n=.4431*(0,a._b)(t);e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},g=n(47840),m=n(59528),v=(0,a._b)(3),y={draw:function(e,t){var n=.6824*(0,a._b)(t),r=n/2,i=n*v/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},b=n(8119),x={draw:function(e,t){var n=.6189*(0,a._b)(t-(0,a.VV)(t/6,1.7));e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}};l.Z,c.Z,u.Z,f.Z,g.Z,m.Z,b.Z,l.Z;function w(e,t){var n=null;function a(){var i;if(n||(n=i=(0,r.Z)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:(0,i.Z)(e||l.Z),t="function"===typeof t?t:(0,i.Z)(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:(0,i.Z)(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}},9597:function(e,t,n){"use strict";var r=n(2925);t.Z={draw:function(e,t){var n=(0,r._b)(t/r.pi);e.moveTo(n,0),e.arc(0,0,n,0,r.BZ)}}},91271:function(e,t,n){"use strict";var r=n(2925);t.Z={draw:function(e,t){var n=(0,r._b)(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}},15722:function(e,t,n){"use strict";var r=n(2925),i=(0,r._b)(1/3),a=2*i;t.Z={draw:function(e,t){var n=(0,r._b)(t/a),o=n*i;e.moveTo(0,-n),e.lineTo(o,0),e.lineTo(0,n),e.lineTo(-o,0),e.closePath()}}},46545:function(e,t,n){"use strict";var r=n(2925);t.Z={draw:function(e,t){var n=(0,r._b)(t),i=-n/2;e.rect(i,i,n,n)}}},47840:function(e,t,n){"use strict";var r=n(2925),i=(0,r.O$)(r.pi/10)/(0,r.O$)(7*r.pi/10),a=(0,r.O$)(r.BZ/10)*i,o=-(0,r.mC)(r.BZ/10)*i;t.Z={draw:function(e,t){var n=(0,r._b)(.8908130915292852*t),i=a*n,s=o*n;e.moveTo(0,-n),e.lineTo(i,s);for(var l=1;l<5;++l){var c=r.BZ*l/5,u=(0,r.mC)(c),d=(0,r.O$)(c);e.lineTo(d*n,-u*n),e.lineTo(u*i-d*s,d*i+u*s)}e.closePath()}}},59528:function(e,t,n){"use strict";var r=n(2925),i=(0,r._b)(3);t.Z={draw:function(e,t){var n=-(0,r._b)(t/(3*i));e.moveTo(0,2*n),e.lineTo(-i*n,-n),e.lineTo(i*n,-n),e.closePath()}}},8119:function(e,t,n){"use strict";var r=n(2925),i=-.5,a=(0,r._b)(3)/2,o=1/(0,r._b)(12),s=3*(o/2+1);t.Z={draw:function(e,t){var n=(0,r._b)(t/s),l=n/2,c=n*o,u=l,d=n*o+n,p=-u,f=d;e.moveTo(l,c),e.lineTo(u,d),e.lineTo(p,f),e.lineTo(i*l-a*c,a*l+i*c),e.lineTo(i*u-a*d,a*u+i*d),e.lineTo(i*p-a*f,a*p+i*f),e.lineTo(i*l+a*c,i*c-a*l),e.lineTo(i*u+a*d,i*d-a*u),e.lineTo(i*p+a*f,i*f-a*p),e.closePath()}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,a){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],i=e[u][1],a=e[u][2];for(var s=!0,l=0;l<r.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(s=!1,a<o&&(o=a));if(s){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,i,a]}}(),n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={179:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,a,o=r[0],s=r[1],l=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var u=l(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self.webpackChunkreact_app=self.webpackChunkreact_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[906,262,328,270,353,323],(function(){return n(30224)}));r=n.O(r)}();